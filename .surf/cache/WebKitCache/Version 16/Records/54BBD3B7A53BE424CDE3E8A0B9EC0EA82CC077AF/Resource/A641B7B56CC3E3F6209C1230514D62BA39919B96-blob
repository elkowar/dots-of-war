/*! Copyright (c) 2020 WhatsApp Inc. All Rights Reserved. */
webpackJsonp([0],{baaaeiafec:function(e,t){e.exports={item:"X7YrQ"}},baabffjhbe:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=i(a("dfacahcafg")),u=i(a("ceffhbhahb")),f=n(a("ddhijeejag")),h=i(a("dfhebgbhja")),p=i(a("fffdgbfji")),g=i(a("eceadcicaf")),m=i(a("bjbedjfe")),b=n(a("difbicaihd")),v=i(a("cgfidiajgj")),j=i(a("cjfhhbcfdh")),E=i(a("bdjihaecid")),y=i(a("faeabghda")),_=i(a("dfcihdhibf")),S=200,C=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).state={isCollectionReady:b.default.isSynced(),stickers:b.default.toArray(),isLoadingMore:!1},a.onScroll=function(e){var t=e.scrollTop,n=e.clientHeight,i=e.scrollHeight;if(a.props.onScroll&&a.props.onScroll(e),i-n-t<S&&!a.state.isLoadingMore&&b.default.canLoadMore()){var r=b.default.getRemaining(),o=Math.min(b.STARRED_STICKERS_PAGE_SIZE,r),s=(0,l.default)(o,function(e){return v.default.getPlaceholder()});a.setState({isLoadingMore:!0,stickers:a.state.stickers.concat(s)}),b.default.syncNextPage()}},a._setRefScrollGrid=function(e){a._refScrollGrid=e},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){var e=this;this.state.isCollectionReady||b.default.sync().checkpoint(this.props.rejectOnUnmount()).then(function(){e.setState({isCollectionReady:!0})}),this.props.listeners.add(b.default,"add remove",function(){e.setState({stickers:b.default.toArray()})}),this.props.listeners.add(b.default,"sync",function(){e.setState({stickers:b.default.toArray(),isCollectionReady:!0})}),this.props.listeners.add(b.default,"next_page_sync",function(){e.setState({stickers:b.default.toArray(),isLoadingMore:!1})})}},{key:"focus",value:function(e){this._refScrollGrid&&this._refScrollGrid.focus(e)}},{key:"render",value:function(){return this.state.isCollectionReady?0===b.default.length?f.createElement("div",{className:(0,u.default)(h.default.emptyContainer,h.default.contentContainer)},f.createElement("div",{className:h.default.emptySticker,style:{backgroundImage:"url(".concat(j.default,")")}}),f.createElement("p",{className:h.default.emptyText},p.default.t(1085))):f.createElement(_.default,{ref:this._setRefScrollGrid,onFocusPrev:this.props.onFocusPrev,onScroll:this.onScroll,onStickerClick:this.props.onStickerClick,onStickerEnter:this.props.onStickerEnter,stickers:this.state.stickers}):f.createElement("div",{className:y.default.container},(0,l.default)(b.STARRED_STICKERS_PAGE_SIZE,function(e){return f.createElement(E.default,{key:e,sticker:v.default.getPlaceholder()})}))}}]),t}(f.PureComponent),A=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,(0,d.default)(t).apply(this,arguments))}return(0,c.default)(t,e),(0,o.default)(t,[{key:"focus",value:function(e){this.getComponent().focus(e)}}]),t}((0,g.default)((0,m.default)(C)));t.default=A},babadgcffh:function(e,t){e.exports={title:"_2XH7W"}},babbeaeffj:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("bdiiahhjbe")),r=n(a("ddeihcgfbg")),o=function(e,t){i.default.assert(t.focusNode,"serializeTextBeforeCursor requires selection.focusNode")();var a=document.createRange();a.setStart(e,0),a.setEnd(t.focusNode,t.focusOffset);var n=a.cloneContents();return(0,r.default)(n,[])};t.default=o},babhhabdgf:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=i(a("cehcfaibji")),u=i(a("ceffhbhahb")),f=n(a("ddhijeejag")),h=i(a("bbchdeehff")),p=i(a("baagejbchg")),g=a("cgecdbiihg"),m=i(a("fifhbjiec")),b=n(a("bidfjbaebi")),v=i(a("bjbdcigbdi")),j=i(a("fffdgbfji")),E=i(a("eceadcicaf")),y=n(a("ecibddhig")),_=i(a("ichhibhgh")),S=i(a("bcafcjajcb")),C=a("bheafeifce"),A=i(a("bfdcadbbif")),M=n(a("bfjajhbdf")),T=i(a("edbaidcaf")),P=i(a("ddfjdghbjb")),N=i(a("cijhchjfjc")),I=i(a("bihdhbjih")),k={PREVIEW:"PREVIEW",FLOATER:"FLOATER"},O=function(e){function t(e){var a;(0,r.default)(this,t),(a=(0,s.default)(this,(0,d.default)(t).call(this,e))).setRefThumbnailWrapper=function(e){a.refThumbnailWrapper=e},a.getThumbnailWrapperRect=function(){return a.refThumbnailWrapper?a.refThumbnailWrapper.getBoundingClientRect():null},a.setPreviewMode=function(){a.state.mode!==k.PREVIEW&&a.setState({mode:k.PREVIEW})},a.setFloaterMode=function(){a.state.mode!==k.FLOATER&&a.setState({mode:k.FLOATER})},a.parseYoutubeVideoId=function(e){for(var t=g.URL_PATTERNS.ONLINE_VIDEO_URL.YOUTUBE,a=null,n=0;n<t.length;n++){var i=e.match(t[n]);if(i){a=i[1];break}}return a},a.parseYoutubeVideoStartTime=function(e){var t=e.split("?");if(2!==t.length)return 0;var a=t[1],n=new P.default(a).get(g.YOUTUBE_URL_TIME_PARAM_NAME);if(!n)return 0;var i=n.match(g.YOUTUBE_URL_TIME_PARAM_PATTERN),r=0;if(i&&i.length)for(var o=1;o<i.length;o++){var s=i[o];if(s){var d=parseInt(s,10);if(isNaN(d))return 0;s.endsWith("h")&&(r+=3600*d),s.endsWith("m")&&(r+=60*d),s.endsWith("s")&&(r+=d),/^\d+$/.test(s)&&(r+=d)}}return r};var n=_.default.isOpened((0,C.unproxy)(e.msg))?k.FLOATER:k.PREVIEW;return a.state={mode:n},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){this.props.listeners.add(_.default,"".concat(this.props.msg.id.toString(),"_pip_did_open"),this.setFloaterMode),this.props.listeners.add(_.default,"".concat(this.props.msg.id.toString(),"_pip_did_close"),this.setPreviewMode)}},{key:"render",value:function(){var e=this,t=this.props.msg.description?f.createElement("div",{className:N.default.description,title:this.props.msg.description},f.createElement(m.default,{text:this.props.msg.description})):null,a=T.default.hostname(this.props.msg.canonicalUrl||this.props.msg.matchedText);a===p.default.HOSTNAME.YOUTUBE_SHORTENED&&(a=p.default.HOSTNAME.YOUTUBE);var n,i=f.createElement("div",{className:N.default.source},f.createElement(m.default,{text:a})),r=(0,u.default)(N.default.body,{[N.default.noThumb]:!this.props.msg.thumbnail});if(this.state.mode===k.PREVIEW)switch(a){case p.default.HOSTNAME.YOUTUBE:var o=this.parseYoutubeVideoId(this.props.msg.matchedText);if(o){var s=this.parseYoutubeVideoStartTime(this.props.msg.matchedText);n=function(t){t&&t.stopPropagation(),_.default.openYoutubePiP(o,e.props.msg,s,e.getThumbnailWrapperRect())}}break;case p.default.HOSTNAME.INSTAGRAM:case p.default.HOSTNAME.STREAMABLE:case p.default.HOSTNAME.FACEBOOK:case p.default.HOSTNAME.LASSOVIDEOS:v.default.supportsFeature(v.default.F.VIDEO_PLAYBACK_URL)&&(n=function(t){_.default.openOgVideoPiP("",e.props.msg.thumbnail,e.props.msg,0,e.getThumbnailWrapperRect()),I.default.queryVideoPlaybackUrl(e.props.msg.matchedText).then(function(t){if(_.default.isOpened(e.props.msg)){if(!t.url)throw new Error("Url is missing in response.");_.default.openOgVideoPiP(t.url,e.props.msg.thumbnail,e.props.msg,0,null)}}).catch(function(t){_.default.closeOgVideoPiP(),h.default.openToast(f.createElement(M.default,{id:(0,M.genId)(),msg:j.default.t(910),action:{actionText:j.default.t(911),onAction:function(){(0,b.openExternalLink)(e.props.msg.matchedText)}}}))})});break;default:return null}var d,c,g=(0,u.default)(N.default.preview,{[N.default.bubbleIn]:!this.props.msg.isSentByMe,[N.default.bubbleOut]:this.props.msg.isSentByMe}),E=this.state.mode===k.PREVIEW?f.createElement("div",{className:N.default.mediaStateControlsWrapper},f.createElement(y.Play,null)):null,C=this.state.mode===k.FLOATER?f.createElement(S.default,{icon:f.createElement(A.default,{name:"video-pip-large"})},j.default.t(912)):null;if(this.props.msg.thumbnail&&(0,l.default)(p.default.HOSTNAME).includes(a)){var P;switch(d=f.createElement("img",{className:(0,u.default)(N.default.thumbnail,{[N.default.youtubeThumbnail]:a===p.default.HOSTNAME.YOUTUBE}),src:"data:image/jpeg;base64,".concat(this.props.msg.thumbnail)}),a){case p.default.HOSTNAME.YOUTUBE:P=f.createElement(A.default,{name:"logo-youtube"});break;case p.default.HOSTNAME.INSTAGRAM:P=f.createElement(A.default,{name:"logo-instagram"});break;case p.default.HOSTNAME.FACEBOOK:P=f.createElement(A.default,{name:"logo-facebook"});break;case p.default.HOSTNAME.LASSOVIDEOS:P=f.createElement(A.default,{name:"logo-lasso"})}P&&(c=f.createElement("div",{className:N.default.attribution},P))}else d=f.createElement("div",{className:N.default.thumbnailPlaceholder});return f.createElement("div",{className:g},f.createElement("div",{ref:this.setRefThumbnailWrapper,className:N.default.thumbnailWrapper,onClick:n},c,d,E,C),f.createElement(b.default,{className:r,href:this.props.msg.matchedText},f.createElement("div",{className:N.default.title,title:this.props.msg.title},f.createElement(m.default,{text:this.props.msg.title})),t,i))}}]),t}(f.Component),R=(0,E.default)(O);t.default=R},baccfdhebd:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.createLocal=function(e,t){if(s.default.supportsFeature(s.default.F.MD_BACKEND))return o.default.create(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?d(Object(a),!0).forEach(function(t){(0,i.default)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):d(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({id:e.toString()},t)).catch(r.default.ConstraintError,function(){});return Promise.resolve()};var i=n(a("bhabhhjdch")),r=n(a("ccddaicfff")),o=n(a("begbbgieee")),s=n(a("bjbdcigbdi"));function d(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}},bacfgbeffc:function(e,t){e.exports={menuTabsMarker:"Orl3a",hide:"mFPJz"}},bacgdahheh:function(e,t){e.exports={ack:"_3VIru",ackBlue:"_1t84_"}},baeacdffeb:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e instanceof HTMLElement&&Boolean(e.dataset&&e.dataset.mentionJid)}},baeghbhigj:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,i.default)(e)};var i=n(a("jjijgifac"))},baehciajii:function(e,t){e.exports={section:"_1d7QJ",reasonList:"_2IBqE",label:"WwC8b",input:"_1ftwL",buttons:"_1NLsK"}},bafbadjdec:function(e,t,a){"use strict";var n=a("cfjecfhbfg")(a("dghfjbgibd")),i={queryStarredStickers:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:32;return new Promise(function(i,r){var o=e.queryNode({type:"starred_stickers",page:t.toString(),count:a.toString()},void 0);e.binSend("sendEphemeral",o,r,{onSend:e.binWrap(function(t){e.BinaryProtocol.read(t).then(function(t){return(0,n.default)(t,e.N,"starred_stickers")}).then(i,r)},i),onDrop:e.wrap(r)},{debugString:"query,starred_stickers",metricName:"QUERY_STARRED_STICKERS"})})}};e.exports=i},bafdafhgja:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("bgedbhhbbg")),o=i(a("djcchigfih")),s=i(a("djbhiedbef")),d=n(a("dajffajabh")),c=i(a("fffdgbfji")),l=n(a("ddhijeejag"));t.default=function(e){return l.createElement(o.default,null,l.createElement(d.default,{a8n:"drawer-title-notifications",title:c.default.t(884),onBack:e.onClose,type:d.DRAWER_HEADER_TYPE.LARGE}),l.createElement(s.default,null,l.createElement(r.default,{key:"notifications"})))}},bafdbchefg:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("eaidjcib")),r=n(a("ffceefejc")),o=n(a("cjedcdbdii")),s=n(a("dbjagcfebh")),d=n(a("digcccheca")),c=n(a("bbchdeehff")),l=n(a("cijaehcdg")),u=new(function(e){function t(){var e,a;(0,i.default)(this,t);for(var n=arguments.length,s=new Array(n),d=0;d<n;d++)s[d]=arguments[d];return(a=(0,r.default)(this,(e=(0,o.default)(t)).call.apply(e,[this].concat(s)))).handlers={onKeyDown(e){return!this.ctx.isComposing&&(!(" "!==e.key||!(0,l.default)(e))&&(!this.ctx.value.length&&(c.default.scrollMessages(),!0)))}},a}return(0,s.default)(t,e),t}(d.default));t.default=u},bafdehfigc:function(e,t,a){"use strict";var n=a("cfjecfhbfg"),i=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.sendExitGroup=function(e){return function e(t){var a=t.isGroup,n=t.promises;if(!a)return Promise.reject(new l.ActionError);if(n.sendExit)return n.sendExit;var i=n.sendExit=(0,u.sendExitGroup)(t.id);var d=new o.ActionType(l10n.t(65));var h=i.then(function(e){return new o.ActionType(l10n.t(64))}).catch(c.ServerStatusCodeError,function(e){if(e.status>=400)return new o.ActionType(l10n.t(63))}).catch(function(a){return f.default.error("actions:chat:sendExit dropped")(a),new o.ActionType(l10n.t(63),l10n.t(155),function(){return e(t)})});s.default.openToast(r.createElement(o.ActionToast,{id:(0,o.genId)(),initialAction:d,pendingAction:h}));return i.then(function(e){e._duplicate||p(t)}).finally(function(){n.sendExit=null}).catch(c.ServerStatusCodeError,function(e){})}((0,h.unproxy)(e))},t.localExitGroup=p;var r=i(a("ddhijeejag")),o=a("ccihhdchab"),s=n(a("bbchdeehff")),d=n(a("bjigbaghc")),c=a("ddjgcfjicj"),l=i(a("cajijabhgb")),u=a("ecffadehg"),f=n(a("bdiiahhjbe")),h=a("bheafeifce");function p(e){e.isGroup&&(e.groupMetadata.participants.remove(d.default.me),(0,u.markExited)(e.id).then(function(){e.isReadOnly=!0}))}},bafdjibgig:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"AbortError",{enumerable:!0,get:function(){return c.AbortError}}),Object.defineProperty(t,"HttpNetworkError",{enumerable:!0,get:function(){return c.HttpNetworkError}}),Object.defineProperty(t,"HttpStatusCodeError",{enumerable:!0,get:function(){return c.HttpStatusCodeError}}),Object.defineProperty(t,"MMSForbiddenError",{enumerable:!0,get:function(){return c.MMSForbiddenError}}),Object.defineProperty(t,"MMSUnauthorizedError",{enumerable:!0,get:function(){return c.MMSUnauthorizedError}}),Object.defineProperty(t,"MMSThrottleError",{enumerable:!0,get:function(){return c.MMSThrottleError}}),Object.defineProperty(t,"MediaNotFoundError",{enumerable:!0,get:function(){return c.MediaNotFoundError}}),Object.defineProperty(t,"LogoutDrop",{enumerable:!0,get:function(){return l.LogoutDrop}}),Object.defineProperty(t,"WapDrop",{enumerable:!0,get:function(){return l.WapDrop}}),Object.defineProperty(t,"ServerStatusCodeError",{enumerable:!0,get:function(){return l.ServerStatusCodeError}}),Object.defineProperty(t,"MediaDecryptionError",{enumerable:!0,get:function(){return u.MediaDecryptionError}}),Object.defineProperty(t,"MediaNeedsReupload",{enumerable:!0,get:function(){return u.MediaNeedsReupload}}),Object.defineProperty(t,"NoMediaHostsError",{enumerable:!0,get:function(){return f.NoMediaHostsError}}),t.MediaNotOnPhone=void 0;var i=n(a("eaidjcib")),r=n(a("ffceefejc")),o=n(a("cjedcdbdii")),s=n(a("dbjagcfebh")),d=a("ddjgcfjicj"),c=a("fgeddfbg"),l=a("ddjgcfjicj"),u=a("cajijabhgb"),f=a("beifdajhid"),h=function(e){function t(){return(0,i.default)(this,t),(0,r.default)(this,(0,o.default)(t).call(this,404))}return(0,s.default)(t,e),t}(d.ServerStatusCodeError);t.MediaNotOnPhone=h},bafegjjfbj:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=n(a("ddhijeejag")),u=i(a("bbchdeehff")),f=i(a("biddiiafgd")),h=a("dcdbiiejfc"),p=i(a("fifhbjiec")),g=a("bafdehfigc"),m=i(a("bdiiahhjbe")),b=i(a("ihfccfgdf")),v=a("hjbbdjjdf"),j=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).getText=function(){var e=a.props.chat,t=e.title();return e.isGroup?e.isReadOnly?l10n.t(1232,{groupName:t}):l10n.t(1239,{groupName:t}):e.isUser?l10n.t(373,{name:t}):e.isBroadcast?l10n.t(375):void 0},a.getButton=function(){var e=a.props.chat;return e.isGroup?e.isReadOnly?l10n.t(1229):l10n.t(1237):e.isUser||e.isBroadcast?l10n.t(1229):void 0},a.onCancel=function(){u.default.closeModal();var e=a.props.onCancel;e&&(0,v.isFunction)(e)&&e()},a.onDelete=function(){var e,t=a.props.chat;t.isGroup?e=t.isReadOnly?(0,h.sendDelete)(t):(0,g.sendExitGroup)(t):t.isUser||t.isBroadcast?e=(0,h.sendDelete)(t):m.default.error("deleteChatPopup:onDelete Unsupported chat type")(),(0,v.isFunction)(a.props.onDeleteOrExit)&&e&&a.props.onDeleteOrExit(e),u.default.closeModal()},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){return l.createElement(f.default,{onOK:this.onDelete,okText:this.getButton(),onCancel:this.onCancel},l.createElement(p.default,{text:this.getText()}))}}]),t}(l.PureComponent);j.CONCERNS={chat:["isReadOnly","isGroup","isUser","isBroadcast"]};var E=(0,b.default)(j,j.CONCERNS);t.default=E},baffhfhhda:function(e,t,a){"use strict";var n=a("cfjecfhbfg"),i=a("bfejgijfbh")(a("cajijabhgb")),r=n(a("bdiiahhjbe")),o=n(a("bcbhbedgh")),s=n(a("bcjcbbafcj")),d=a("baagejbchg"),c=a("bfbggcdbfb"),l=a("bejfdgbdag"),u=3e5,f=(new Audio).canPlayType("audio/ogg"),h=0,p=Promise.resolve();function g(e){var t,a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return new Promise(function(n,r){t=new Image;var o=/^(?:data|blob):/.test(e);a&&!o&&t.setAttribute("crossOrigin","anonymous"),t.onload=n,t.onabort=function(){r(new Error("loadImage onabort"))},t.onerror=function(e){r(new i.InvalidImageFileType("Image tag load error"))},t.src=e}).then(function(){return t})}function m(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=p.then(function(){return function(e){var t,a,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],d=new c.WebcMediaLoad,l=null,u=++h;function f(){t&&l&&(document.body&&document.body.removeChild(l),l=null)}var p=new Promise(function(d,c){r.default.log("MediaLoad:video called (#".concat(u,")"))();var f=!1,h=!1;(t=document.createElement("video")).volume=0,t.muted=!0,t.playsinline=!0,t.onloadedmetadata=function(){r.default.log("MediaLoad:video.onloadedmetadata #".concat(u))(),f=!0,!h&&n||d()},t.onloadeddata=function(){r.default.log("MediaLoad:video.onloadeddata #".concat(u))()},t.onprogress=function(){r.default.log("MediaLoad:video.onprogress #".concat(u))()},t.oncanplay=function(){r.default.log("MediaLoad:video.oncanplay #".concat(u))(),h=!0,f&&n&&d()},t.onerror=function(){var e=t.error?t.error.message:"no error message";r.default.error("MediaLoad:video.onerror #".concat(u,": ").concat(String(e)))();var a=function(e){if(!e||!e.error)return null;var t=e.error,a=Object.keys(o.default).find(function(e){return o.default[e]===t.code});a=a||"UNKNOWN CODE ".concat(t.code);var n=t.message&&~t.message.indexOf(":")?t.message.split(":")[0]:"";return n?"".concat(a,": ").concat(n):a}(t);c(new i.MediaLoadError("unable to play video: ".concat(String(a))))},t.src=a=window.URL.createObjectURL(e),(s.default.isSafari||s.default.isBuggyVideoLoadChrome)&&((l=document.createElement("div")).style="opacity: 0.004",l.appendChild(t),document.body&&document.body.appendChild(l)),t.load()});setTimeout(function(){f(),p.isPending()&&(r.default.error("unable to load video #".concat(u," (").concat(e.size," bytes)"))(),new c.WebcMediaLoad({webcMediaLoadResult:c.WEBC_MEDIA_LOAD_RESULT_CODE.SILENCE}).commit())},8e3);var g=p.delay(10).then(function(){if(d.markWebcMediaLoadT(),r.default.log("MediaLoad:video #".concat(u," successful"))(),t.pause(),t.videoWidth>0)return d.webcMediaLoadResult=c.WEBC_MEDIA_LOAD_RESULT_CODE.SUCCESS,d.commit(),{video:t,fullWidth:t.videoWidth,fullHeight:t.videoHeight,duration:t.duration};throw t.duration>0?new i.MediaUnsupportedError("video loaded with duration but no dims"):(d.webcMediaLoadResult=c.WEBC_MEDIA_LOAD_RESULT_CODE.ZEROWIDTH,d.commit(),new i.MediaLoadError("video loaded with zero width"))}).finally(function(){f(),t&&(t.onloadedmetadata=null,t.onloadeddata=null,t.onplay=null,t.onerror=null),a&&window.URL.revokeObjectURL(a)});return g.catch(function(){b(t)}),g}(e,t)});return p=a.timeout(1e3).then(function(){},function(){}),a}function b(e){try{e.pause(),e.src="",e.load()}catch(e){r.default.assert(!1,"dispose-video-error","Error: ".concat(String(e)))(e)}}e.exports={loadImage:g,image:function(e){return g(e).then(function(e){return e&&e.naturalWidth>0?{img:e,fullWidth:e.naturalWidth,fullHeight:e.naturalHeight}:Promise.reject(new i.MediaLoadError("image loaded with zero width"))}).catch(function(){return Promise.reject(new i.MediaLoadError("unable to render image"))})},video:m,disposeVideo:b,videoWidthHeightDuration:function(e){return m(e,!0).then(function(e){var t=e.video,a=e.fullWidth,n=e.fullHeight,i=e.duration;return b(t),{width:a,height:n,duration:i}})},audio:function(e){var t;return new Promise(function(a,n){(t=document.createElement("audio")).volume=0,t.autoplay=!0,t.onplay=function(e){t.pause(),a({audio:t})},t.onerror=function(){n(new i.MediaLoadError("unable to play audio"))},t.src=e}).finally(function(){t&&(t.onplay=t.onerror=null)})},transcode:function(e,t){var a=t||e.type;if(a&&a.includes(d.MIMETYPE_OGG)&&!f){if(e.size<=u)return new l(e).generateBlob();throw new i.MediaLoadError("media-load:transcode blob too large")}return Promise.resolve(e)},canPlayOgg:f}},bafjbifhgj:function(e,t){e.exports={bubble:"_2NTm6",hasCaption:"_1C-mw",meta:"_2Krt0",isPSA:"AeWjB",isPsa:"AeWjB",author:"xYHJC",forwarded:"_3EQmZ",forwardedIndicator:"_35RRm",hasAuthor:"RWKZp",quote:"_30WBO"}},bagahaffif:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=i(a("hhegggegb")),u=i(a("ceffhbhahb")),f=n(a("ddhijeejag")),h=i(a("fifhbjiec")),p=a("bgddggdhc"),g=i(a("bffjfbgbg")),m=a("dcfaachegb"),b=i(a("jcdghfjgd")),v=i(a("ccegihfjhe")),j=i(a("ihfccfgdf")),E=i(a("bfdcadbbif")),y=a("hjbbdjjdf"),_=i(a("caffijjhc")),S=i(a("bcifhbgija")),C=function(e){function t(e){var a;(0,r.default)(this,t),(a=(0,s.default)(this,(0,d.default)(t).call(this,e))).setMediaImage=function(e){return a.mediaImage=e},a.onImageLoad=function(e){if(!a.zoomed){a.zoomed=!0;var t=a.state.zoomElement;t&&e&&a.props.zoomIn&&e instanceof HTMLElement&&a.animateZoom(t,e)}},a.animateZoom=function(e,t){var n=t.getBoundingClientRect(),i=e.getBoundingClientRect(),r=i.top-n.top,o=i.left-n.left,s=e.clientWidth/t.clientWidth;r-=(t.clientHeight-e.clientHeight)/2,o-=(t.clientWidth-e.clientWidth)/2,(0,S.default)(t,{opacity:[1,0],translateX:[0,o],translateY:[0,r],scale:[1,s]},{duration:m.ANIMATION_DURATION,easing:[.1,.82,.25,1]}),a.refCaption.current&&(0,S.default)(a.refCaption.current,{opacity:[1,0]},{duration:m.ANIMATION_DURATION})},a.onScroll=function(e){Math.abs(e.deltaY)>7&&a.onClose()},a.onImgZoomIn=function(e){var t=a.mediaImage;e&&t&&(a.listenToMouseMove=t.heightOverflow>0||t.widthOverflow>0),a.setState({imgZoomed:e}),a.props.onImgZoomIn(e)},a.onZoomOut=function(e){var t=a.mediaImage;t&&a.state.imgZoomed&&t.onImageClick(e)},a.onMouseMove=function(e){a.handleMouseMove(e.pageX,e.pageY)},a._handleMouseMove=function(e,t){var n=a.mediaImage;if(n){var i=n.image;if(i){var r=(0,p.forbiddenAssertDOMNode)(i);if(r){var o=r.parentNode,s=o.parentNode,d=n.getTranslatePosition(s,e,t),c=d.translateX,l=d.translateY;(0,S.default)(o,"stop"),(0,S.default)(o,{translateX:c,translateY:l,scale:m.ZOOM_IN_FACTOR},{duration:0})}}}},a.onClose=function(){if(!a.closing){if(a.closing=!0,(0,y.isFunction)(a.props.onExitAnimation)&&a.props.onExitAnimation(),!a.props.getZoomNode)return a.props.onBack();var e=a.props.getZoomNode();if(!e)return a.props.onBack();var t=a.mediaImage&&a.mediaImage.image,n=(t=(0,p.forbiddenAssertDOMNode)(t)).getBoundingClientRect(),i=e.getBoundingClientRect(),r=i.top-n.top,o=i.left-n.left,s=e.clientWidth/t.clientWidth;r-=(t.clientHeight-e.clientHeight)/2,o-=(t.clientWidth-e.clientWidth)/2,(0,S.default)(t,{translateX:[o,0],translateY:[r,0],scale:[s,1]},{duration:200,easing:[.1,.82,.25,1]}).then(function(){a.props.onBack()})}},a.handleMouseMove=(0,l.default)(a._handleMouseMove,42),a.zoomed=!1,a.closing=!1,a.refCaption=f.createRef();var n=a.props.mediaData.mediaStage===g.default.STAGE.RESOLVED&&a.props.zoomIn;n&&(a.transparentStyle={opacity:0});var i=n&&a.props.getZoomNode?a.props.getZoomNode():null;return a.state={imgZoomed:!1,zoomElement:i},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){this.transparentStyle={}}},{key:"render",value:function(){var e,t=this.props,a=t.mediaData,n=t.product,i=f.createElement(m.WrappedMediaImage,{mediaData:a,key:a.renderableUrl,style:this.transparentStyle,onLoad:this.onImageLoad,onImgZoomIn:this.onImgZoomIn,ref:this.setMediaImage});if(n.description){var r=this.props.zoomIn&&(a.isGif||a.type===g.default.TYPE.IMAGE);e=f.createElement("span",{className:{[v.default.captionHidden]:r},ref:this.refCaption},f.createElement(h.default,{text:n.description,className:v.default.mediaCaption}))}var o=(0,u.default)(v.default.media,{[v.default.mediaWithCaption]:!!e}),s=f.createElement(E.default,{name:"chevron-right",title:l10n.t(867)}),d=(0,u.default)(v.default.btn,v.default.btnMediaNext,{[v.default.disabledBtn]:!this.props.onNext}),c=f.createElement("div",{role:"button",className:d,onClick:this.props.onNext||function(e){return e.stopPropagation()}},s),l=f.createElement(E.default,{name:"chevron-left",title:l10n.t(916)}),p=(0,u.default)(v.default.btn,v.default.btnMediaPrev,{[v.default.disabledBtn]:!this.props.onPrev}),j=f.createElement("div",{role:"button",className:p,onClick:this.props.onPrev||function(e){return e.stopPropagation()}},l),y=(0,u.default)("overlay",v.default.mediaViewer,{[v.default.mediaViewerAnimate]:this.props.zoomIn,[v.default.cursorZoomOut]:this.state.imgZoomed}),S=this.state.imgZoomed?null:this.onScroll,C=this.state.imgZoomed?null:this.onClose,A=this.state.imgZoomed&&this.listenToMouseMove?this.onMouseMove:null,M=this.state.imgZoomed?this.onZoomOut:null;return f.createElement(_.default,{displayName:"ProductViewer",escapable:!0,requestDismiss:this.onClose},f.createElement("div",{className:y,"data-animate-media-viewer":!0,onClick:M,onMouseMove:A},f.createElement(b.default,{mediaData:a,onClose:this.onClose,product:this.props.product}),f.createElement("div",{className:v.default.mediaContent,dir:"ltr",onWheel:S,onClick:C},j,f.createElement("div",{className:o},f.createElement("div",{className:v.default.media},i),e),c)))}}]),t}(f.PureComponent);C.CONCERNS={mediaData:["mediaStage","renderableUrl","isGif","type"],product:["description"]};var A=(0,j.default)(C,C.CONCERNS);t.default=A},baggaibbia:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=n(a("ddhijeejag")),u=n(a("dcghjbcbii")),f=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).onEnd=function(){a.end()},a.onFinished=function(e,t){a.props.onFinished(e,t),a.end()},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){this.push(l.createElement(u.default,{onCancel:this.onEnd,onFinished:this.onFinished,onRetake:this.props.onRetake,retryText:u.RETRY_OPTIONS.RESTART,img:this.props.img}))}}]),t}(i(a("bcbahjefec")).default);t.default=f},bahefhdbbb:function(e,t){e.exports={drawer:"_1KDYa",white:"_1yAd4",drawerGallery:"Y9547",drawerMedia:"kqC9O",drawerEdit:"_1BdTk",drawerCapture:"_1cJw0"}},bahefiaghi:function(e,t,a){"use strict";var n=a("cfjecfhbfg"),i=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.fullPreview,a=e.fullPreviewSize,n=e.mimeType,i=e.filename;return t&&a?r.createElement("div",{className:o.default.container,"data-animate-attach-media":!0},r.createElement("div",{className:o.default.preview},r.createElement(d.default,{type:d.FIT_TYPE.SCALE_DOWN,size:a},r.createElement("img",{src:t,className:o.default.img})))):r.createElement(s.default,{mimeType:n,filename:i})};var r=i(a("ddhijeejag")),o=n(a("jgbhhadeh")),s=n(a("becegcbegb")),d=i(a("dgfecega"))},bahgfcjcda:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=i(a("ceffhbhahb")),u=n(a("ddhijeejag")),f=n(a("dhhfaeacef")),h=i(a("eceadcicaf")),p=i(a("ceddibihdf")),g=i(a("dhefcajhhb")),m=i(a("bfdcadbbif")),b=i(a("edbaidcaf")),v=function(e){function t(e){var a;return(0,r.default)(this,t),(a=(0,s.default)(this,(0,d.default)(t).call(this,e))).promise=null,a._clearPromise=function(){a.promise=null},a._handleImageChange=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a.setState({img:e.img})},a.state={img:null},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.waid;t&&(this.promise=g.default.find(t).then(function(t){e.props.listeners.add(t,"change:img",e._handleImageChange),e._handleImageChange(t)}).catch(function(){}).finally(this._clearPromise))}},{key:"componentWillUnmount",value:function(){this.promise&&this.promise.cancel()}},{key:"render",value:function(){if(this.state.img&&this.props.waid)return u.createElement(f.default,{id:this.props.waid,quoted:this.props.quoted,size:this.props.size,square:this.props.square,border:this.props.border});var e;e="number"==typeof this.props.size&&0!==this.props.size||"number"!=typeof this.props.size&&null!=this.props.size?this.props.size:f.default.Size.SMALL;var t={height:(0,f.getSize)(e),width:(0,f.getSize)(e)},a=(0,l.default)(p.default.container,{[p.default.square]:this.props.square,[p.default.hasBorder]:this.props.border}),n=this.props.thumb?u.createElement("div",{className:p.default.image,style:b.default.thumbAsBackgroundImage(this.props.thumb)}):u.createElement("div",{className:p.default.default},u.createElement(m.default,{name:this.props.quoted?"default-user-square":"default-user",style:t}));return u.createElement("div",{className:a,style:t},n)}}]),t}(u.PureComponent),j=(0,h.default)(v);t.default=j},bahjhjjhfe:function(e,t,a){"use strict";var n=a("cfjecfhbfg"),i=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("ddhijeejag")),o=n(a("bbchdeehff")),s=a("eagfdbhhhh"),d=n(a("ciheehhei"));function c(e){var t=e.link,a=e.children,n=e.selectable;return r.createElement(s.SelectableLink,{onClick:function(){return o.default.openModal(r.createElement(d.default,{link:t}))},selectable:n,style:{cursor:"pointer"}},a)}c.defaultProps={children:""};var l=c;t.default=l},baijejebfi:function(e,t){e.exports={preview:"_1Bw-K"}},bajahehjcd:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=n(a("ddhijeejag")),u=i(a("ddajcjhiai")),f=i(a("dbdfbgehgj")),h=i(a("bbchdeehff")),p=i(a("ddbdcagdbi")),g=i(a("djhbegbdaf")),m=i(a("ihfccfgdf")),b=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).filterAdmins=function(e){var t=a.props.groupMetadata.participants.get(e.id);return!(!t||!t.isAdmin)},a.onSelectAdminToMsg=function(e){a.openChat(e.id),h.default.closeModal()},a.openChat=function(e){f.default.find(e).then(function(e){e.quotedMsgAdminGroupJid=a.props.chat.id,h.default.openChatBottom(e)})},a.onMsgAdmin=function(){var e=a.props.groupMetadata.participants.getAdmins();1!==e.length?h.default.openModal(l.createElement(p.default,{title:l10n.t(731),filter:a.filterAdmins,onCancel:function(){return h.default.closeModal()},onSelect:a.onSelectAdminToMsg})):a.openChat(e[0].id)},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=l.createElement("span",{role:"button",onClick:this.onMsgAdmin,className:u.default.adminBtn},l10n.t(182));return l.createElement(g.default,{id:181,params:{admins:e}})}}]),t}(l.Component);b.CONCERNS={mute:["isMuted"],chat:["id"],groupMetadata:["participants"]};var v=(0,m.default)(b,b.CONCERNS);t.default=v},bajcbaccgg:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=i(a("dbafiicfja")),u=i(a("iidhbgeed")),f=i(a("ceffhbhahb")),h=n(a("ddhijeejag")),p=i(a("bbchdeehff")),g=i(a("baagejbchg")),m=i(a("biddiiafgd")),b=i(a("bjjjdidhhi")),v=i(a("eiighchhi")),j=i(a("ghbbeafj")),E=i(a("bjbdcigbdi")),y=i(a("eceadcicaf")),_=i(a("cfhgffgbcb")),S=i(a("bfbggcdbfb")),C=i(a("biecbbiiee")),A=i(a("idgdhfbea")),M=a("bheafeifce"),T=i(a("bfdcadbbif")),P=n(a("bfjajhbdf")),N=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).onStarChanged=function(e){a.props.selectedMessages.isSelected(e)&&a.forceUpdate()},a.onStarSelected=function(){var e=a.props,t=e.chat,n=e.selectedMessages,i=e.toastPosition,r=n.getSelected();t&&p.default.sendStarMsgs(t,r,null,i),a.props.onCancel()},a.onUnstarSelected=function(){var e=a.props,t=e.chat,n=e.selectedMessages,i=e.toastPosition,r=n.getSelected();t&&p.default.sendUnstarMsgs(t,r,null,i),a.props.onCancel()},a.onDownloadSelected=function(){var e=(0,u.default)(a.props.selectedMessages.getSelected(),function(e){return e.mediaData});if(e.length){var t=(0,u.default)(e,function(e){return!e.mediaData.isDownloadable()});t.length>0?(p.default.openToast(h.createElement(P.default,{msg:l10n.t(405),id:(0,P.genId)()})),Promise.all((0,l.default)(t,function(e){return e.downloadMedia(!0,S.default.WEBC_RMR_REASON_CODE.MULTI_SELECT_DOWNLOAD)})).then(function(){var t=(0,u.default)(e,function(e){return e.mediaData.isDownloadable()});e.length>t.length&&p.default.openToast(h.createElement(P.default,{msg:l10n.t(473,{_plural:e.length-t.length,count:e.length-t.length}),id:(0,P.genId)()})),t.length&&v.default.initDownload(t)})):v.default.initDownload(e),a.props.onCancel()}},a.addOrRemoveLabelOnSelected=function(){var e=a.props.selectedMessages.getSelected();p.default.openModal(h.createElement(_.default,{onLabelUpdateComplete:a.props.onCancel,modelsToUpdate:e}))},a.onDeleteSelected=function(){var e=a.props,t=e.chat,n=e.selectedMessages,i=e.toastPosition,r=n.getSelected(),o=r.every(function(e){return e.canRevoke()});t&&p.default.openModal(h.createElement(b.default,{chat:t,msgList:r.map(M.unproxy),deletePrompt:!0,revokePrompt:o&&!a.props.disableRevoke,toastPosition:i,onCancel:a.props.onCancel}))},a.onForwardSelected=function(){var e=a.props.selectedMessages.getSelected();!a.props.noSortOnForward&&a.props.chat&&(e=a.props.chat.sortMsgs(e));var t=e.length,n=function(){a.props.onCancel()},i=(0,u.default)(e,function(e){return e.canForward()});if(i.length)if(t!==i.length){p.default.openModal(h.createElement(m.default,{title:l10n.t(333),onOK:function(){p.default.openModal(h.createElement(j.default,{msgs:i,pushTransition:"none",popTransition:"none",onForward:n}),{transition:"modal-flow"})},okText:l10n.t(481),onCancel:function(){return p.default.closeModal()},cancelText:l10n.t(1197)},l10n.t(332)))}else p.default.openModal(h.createElement(j.default,{msgs:e,pushTransition:"none",popTransition:"none",onForward:n}),{transition:"modal-flow"});else p.default.openModal(h.createElement(m.default,{title:l10n.t(470),onOK:function(){return p.default.closeModal()},okText:l10n.t(1331)},l10n.t(467,{_plural:t})))},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.selectedMessages.getSelected().forEach(function(t){e.props.listeners.add(t,"change:star",function(){e.forceUpdate()})}),this.props.listeners.add(this.props.selectedMessages,"all",function(){e.forceUpdate()}),this.props.listeners.add(C.default,"change:star",this.onStarChanged)}},{key:"render",value:function(){var e,t,a,n=this.props.selectedMessages.getSelected(),i=n.length,r=E.default.supportsFeature(E.default.F.ENC_DOC)||n.every(function(e){return e.type!==g.default.MSG_TYPE.DOCUMENT}),o=n.every(function(e){return e.canForward()}),s=n.every(function(e){return e.canStar()}),d=n.every(function(e){return e.mediaData}),c=n.every(function(e){return!e.isRevoked}),l=!i||!r||!o,u=h.createElement(k,{disabled:l,name:"forward",onClick:this.onForwardSelected,title:l10n.t(485,{_plural:i})}),p=h.createElement(k,{name:"delete",disabled:!i,title:l10n.t(376,{_plural:i}),onClick:this.onDeleteSelected});i&&n.every(function(e){return e.star})?(e=this.onUnstarSelected,t="unstar-btn",a=l10n.t(1111,{_plural:i})):(e=this.onStarSelected,t="star-btn",a=l10n.t(1060,{_plural:i}));var m,b,v=h.createElement(k,{name:t,disabled:!i||!s,title:a,onClick:e});E.default.supportsFeature(E.default.F.LABELS_EDIT)&&(m=h.createElement(k,{disabled:!i||!c,name:"label",onClick:this.addOrRemoveLabelOnSelected,title:l10n.t(641)})),Modernizr.adownload&&this.props.downloadButton&&d&&(b=h.createElement(k,{name:"download",disabled:!i,title:l10n.t(1193),onClick:this.onDownloadSelected}));var j=(0,f.default)(A.default.multiControls,{[A.default.mediaGalleryTheme]:"mediaGallery"===this.props.theme});return h.createElement("div",{className:j},h.createElement(k,{name:"x",onClick:this.props.onCancel}),h.createElement("span",{className:A.default.multiCount},l10n.t(1024,{count:i,_plural:i})),m,v,p,u,b)}}]),t}(h.Component);N.defaultProps={downloadButton:!0};var I=(0,y.default)(N);t.default=I;var k=function(e){var t=e.name,a=e.title,n=e.onClick,i=e.directional,r=e.disabled;return h.createElement("button",{className:A.default.multiselectIcon,title:a,onClick:n,disabled:r?"disabled":void 0},h.createElement(T.default,{name:t,directional:i}))}},bajidgjehj:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=n(a("ddhijeejag")),u=i(a("effbcehec")),f=i(a("bbchdeehff")),h=i(a("baagejbchg")),p=i(a("biddiiafgd")),g=i(a("bjigbaghc")),m=i(a("djcchigfih")),b=i(a("djbhiedbef")),v=n(a("dajffajabh")),j=i(a("fijafegab")),E=n(a("cajijabhgb")),y=i(a("dgjddffcfg")),_=i(a("jheedhagg")),S=i(a("bdiiahhjbe")),C=i(a("gdfgjiffc")),A=i(a("cdcaigjjii")),M=i(a("jhhgcfgee")),T=a("bbbdgehigj"),P=i(a("bjbedjfe")),N=a("bggdhciede"),I=i(a("ihfccfgdf")),k=a("bijjheifie"),O=i(a("eedjbihej")),R=i(a("hfhhcchgj")),w=function(e){function t(e){var a;return(0,r.default)(this,t),(a=(0,s.default)(this,(0,d.default)(t).call(this,e))).onBack=function(){a.props.onClose?a.props.onClose():a.props.uim.uie.requestDismiss()},a.validateStatus=function(e){return!!(e||"").trim()},a.onStatusBegin=function(){a.isEditingStatus=!0},a.onSetStatusError=function(){f.default.openModal(l.createElement(p.default,{onOK:function(){return f.default.closeModal()},okText:l10n.t(1331)},l10n.t(151)))},a.onSetStatus=function(){if(null!=a.state.status){a.isEditingStatus=!1;var e=a.props.status.status,t=y.default.emojify(a.state.status);if(t===e)return a.setState({status:t});a.setState({pendingStatus:!0}),(0,k.setMyStatus)(y.default.emojify(a.state.status)).checkpoint(a.props.rejectOnUnmount()).then(function(){a.setState({pendingStatus:!1})}).catch(E.Unmount,function(){})}else a.onCancelStatus()},a.onStatusChange=function(e){a.setState({status:e})},a.onCancelStatus=function(){a.isEditingStatus=!1,a.setState({status:a.props.status.status})},a.onPushnameBegin=function(){a.isEditingPushname=!0},a.validatePushname=function(){var e,t=a.state.pushname;return(t=(t||"").trim())?/[\u2714\u2705\u2611]/g.test(t)&&(e=l10n.t(146)):e=l10n.t(143),!e||(a.onSetPushnameError(e),!1)},a.onSetPushname=function(){if(a.isEditingPushname=!1,g.default.canSetMyPushname()){var e=a.state.pushname;if((e=y.default.emojify((e||"").trim()))===a.props.conn.pushname)return a.setState({pushname:e});a.setState({pendingPushname:!0}),(0,N.setPushname)(e).checkpoint(a.props.rejectOnUnmount()).then(function(){a.setState({pendingPushname:!1})}).catch(E.Unmount,function(){})}},a.onSetPushnameError=function(e){f.default.openModal(l.createElement(p.default,{onOK:function(){return f.default.closeModal()},okText:l10n.t(1331)},e))},a.onPushnameChange=function(e){a.setState({pushname:e})},a.onCancelPushname=function(){a.isEditingPushname=!1,a.setState({pushname:a.props.conn.pushname})},a.onImageSet=function(e,t){var n=a.props.profilePicThumb;a.setState({pendingPhoto:!0}),(e&&t?(0,T.setProfilePic)(n,e,t):(0,T.deleteProfilePic)(n)).checkpoint(a.props.rejectOnUnmount()).catch(E.Unmount,function(){}).catch(E.ActionError,function(e){S.default.warn("ProfileDrawer: failed to set/delete profile image")(e)}).finally(function(){a.setState({pendingPhoto:!1})})},a.state={pushname:e.conn.pushname,status:e.status.status,pendingPushname:!1,pendingStatus:!1,pendingPhoto:!1},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=this.props,t=e.conn,a=e.status,n=e.profilePicThumb,i=this.isEditingStatus||this.state.pendingStatus?this.state.status:a.status,r=l.createElement(j.default,{a8nText:"col-main-profile",title:l10n.t(1402),theme:"padding"},l.createElement(R.default,{value:i,editable:!0,pending:this.state.pendingStatus,showRemaining:!0,validate:this.validateStatus,maxLength:h.default.MAX_STATUS_LENGTH,onBeginEdit:this.onStatusBegin,onChange:this.onStatusChange,onSave:this.onSetStatus,onError:this.onSetStatusError,onCancel:this.onCancelStatus,supportsEmoji:!0,lockable:!0,lowProfile:!0})),o=l10n.t(723),s=!n.canSet()&&!n.canDelete(),d=this.isEditingPushname||this.state.pendingPushname?this.state.pushname:t.pushname,c=g.default.isSMB?l10n.t(229):l10n.t(947);return l.createElement(m.default,null,l.createElement(v.default,{a8n:"drawer-title-profile",title:o,onBack:this.onBack,type:v.DRAWER_HEADER_TYPE.LARGE}),l.createElement(b.default,null,l.createElement("div",{className:M.default.photoPickerWrapper},l.createElement(C.default,{type:A.default.PROFILE,id:n.id,attachToChat:!1,pending:this.state.pendingPhoto,startImage:n.imgFull,readOnly:s,onImageSet:this.onImageSet})),l.createElement(j.default,{a8nText:"col-main-profile",title:l10n.t(946),theme:"padding"},l.createElement(R.default,{value:d,editable:g.default.canSetMyPushname(),pending:this.state.pendingPushname,showRemaining:!0,validate:this.validatePushname,maxLength:h.default.MAX_PUSHNAME_LENGTH,onBeginEdit:this.onPushnameBegin,onChange:this.onPushnameChange,onSave:this.onSetPushname,onCancel:this.onCancelPushname,supportsEmoji:!0,lockable:!0,lowProfile:!0})),l.createElement("div",{"data-a8n":u.default.key("pushname-description"),className:M.default.nameWrapper},l.createElement(O.default,{theme:"muted"},c)),r))}}]),t}(l.Component);w.CONCERNS={profilePicThumb:["imgFull","id"],status:["status"],conn:["pushname"]};var D=(0,_.default)((0,P.default)((0,I.default)(w,w.CONCERNS)));t.default=D},bbaaddaiah:function(e,t){e.exports={chatListPanel:"_18-el",panelBody:"_1YoG6",panelSearch:"_2vikl",spinner:"EXPdt",unreadContainer:"yZYsN",unread:"_3pOgt",unreadBody:"_2MPns",unreadIcon:"_3a3wO"}},bbacdcchfi:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=n(a("ddhijeejag")),u=i(a("cbhbjajgac")),f=i(a("dahbdjdajd")),h=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,(0,d.default)(t).apply(this,arguments))}return(0,c.default)(t,e),(0,o.default)(t,null,[{key:"jsx",value:function(e,t,a){var n=a.selectable,i=a.theme;return l.createElement(f.default,{contact:t,selectable:n,theme:i})}}]),t}(u.default);t.default=h},bbagfcaiaf:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={shouldAnimate:!0}},bbahcjdgfa:function(e,t){e.exports={docState:"_1qlav",spinner:"Hg0cw"}},bbbdgehigj:function(e,t,a){"use strict";var n=a("cfjecfhbfg"),i=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.setProfilePic=function(e,t,a){return function e(t,a,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:(0,o.genId)();var h=t.id;if(!t.canSet())return Promise.reject(new l.ActionError);var p=(0,f.sendSetPicture)(h,a,n);t.pendingPic=a;var g=h.equals(d.default.me)?new o.ActionType(l10n.t(142)):new o.ActionType(l10n.t(75));var m=p.catch(function(e){throw u.default.error("models:ProfilePicThumb:setPicture dropped")(e),h.equals(d.default.me)?new o.ActionType(l10n.t(141)):new o.ActionType(l10n.t(74))}).catch(c.ServerStatusCodeError,function(r){if(r.status>=400){var s=h.equals(d.default.me)?l10n.t(141):l10n.t(74);return new o.ActionType(s,l10n.t(155),function(){return e(t,a,n,i)})}}).then(function(e){return h.equals(d.default.me)?new o.ActionType(l10n.t(140)):new o.ActionType(l10n.t(73))});s.default.openToast(r.createElement(o.ActionToast,{id:i,initialAction:g,pendingAction:m}));return p.then(function(e){e._duplicate||t.set({tag:e.tag,eurl:e.eurl})}).finally(function(){t.pendingPic=void 0})}((0,h.unproxy)(e),t,a)},t.deleteProfilePic=function(e){return function e(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(0,o.genId)();var n=t.id;if(!t.canDelete())return Promise.reject(new l.ActionError);var i=(0,f.requestDeletePicture)(n);t.pendingPic=t.fallbackType;var h=n.equals(d.default.me)?new o.ActionType(l10n.t(139)):new o.ActionType(l10n.t(72));var p=i.catch(function(e){throw u.default.error("models:ProfilePicThumb:deletePicture dropped")(e),n.equals(d.default.me)?new o.ActionType(l10n.t(137)):new o.ActionType(l10n.t(70))}).catch(c.ServerStatusCodeError,function(i){if(i.status>=400){var r=n.equals(d.default.me)?l10n.t(137):l10n.t(70);return new o.ActionType(r,l10n.t(155),function(){return e(t,a)})}}).then(function(e){return n.equals(d.default.me)?new o.ActionType(l10n.t(138)):new o.ActionType(l10n.t(71))});s.default.openToast(r.createElement(o.ActionToast,{id:a,initialAction:h,pendingAction:p}));return i.then(function(e){e._duplicate||t.set({tag:void 0,eurl:void 0})}).finally(function(){t.pendingPic=void 0})}((0,h.unproxy)(e))};var r=i(a("ddhijeejag")),o=a("ccihhdchab"),s=n(a("bbchdeehff")),d=n(a("bjigbaghc")),c=a("ddjgcfjicj"),l=i(a("cajijabhgb")),u=n(a("bdiiahhjbe")),f=a("biahggehgf"),h=a("bheafeifce")},bbccbjiaeb:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=n(a("ddhijeejag")),u=(i(a("baagejbchg")),i(a("ebijaadcje"))),f=i(a("bdiiahhjbe")),h=i(a("ihfccfgdf")),p=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).handleClick=function(){a.props.msg.resend().catch(function(e){f.default.log("PlainMsgFailIcon: failed to resend message")(e)})},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=this.props,t=e.msg,a=e.displayType;return t.isFailed?l.createElement(u.default,{displayType:a,tooltip:l10n.t(979),onClick:this.handleClick}):null}}]),t}(l.PureComponent);p.CONCERNS={msg:["ack","isFailed"]};var g=(0,h.default)(p,p.CONCERNS);t.default=g},bbcccehdad:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=i(a("ceffhbhahb")),u=n(a("ddhijeejag")),f=i(a("cgfdjcbhag")),h=i(a("ecjegjabde")),p=a("ddajbaceej"),g=i(a("dhfbfehaef")),m=i(a("ccijgeidci")),b=i(a("eceadcicaf")),v=n(a("fagbfehid")),j=i(a("decfffijad")),E=i(a("bjfgjddfab")),y=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).state={numItems:a.props.specialItemsCount+v.default.length},a._handleLengthChange=function(){a.setState({numItems:a.props.specialItemsCount+v.default.length})},a._setRefContainer=function(e){a._refContainer=e},a._renderItem=function(e){return a.props.recentStickersEnabled&&0===e?u.createElement(E.default,{name:"panel-recent"}):a.props.starredStickersEnabled&&1===e?u.createElement(E.default,{name:"panel-starred"}):u.createElement(j.default,{index:e-a.props.specialItemsCount})},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){this.props.listeners.add(v.default,"change:length",this._handleLengthChange),this._handleLengthChange()}},{key:"focus",value:function(){this._refContainer&&(this.hasFocus()||(0,p.focus)(this._refContainer))}},{key:"hasFocus",value:function(){return!!this._refContainer&&this._refContainer===document.activeElement}},{key:"render",value:function(){var e=this.state.numItems;return u.createElement(g.default,{onRef:this._setRefContainer,handlers:(0,h.default)({down:this.props.onFocusBelow,"shift+tab":this.props.onFocusPrev,tab:this.props.onFocusNext})},u.createElement(f.default,{className:(0,l.default)({[m.default.shadow]:this.props.shadow}),numItems:e,numColumns:v.PAGE_SIZE,onItemClick:this.props.onItemClick,renderItem:this._renderItem,selectedIndex:this.props.selectedStickerPackIndex}))}}]),t}(u.PureComponent),_=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,(0,d.default)(t).apply(this,arguments))}return(0,c.default)(t,e),(0,o.default)(t,[{key:"focus",value:function(){this.getComponent().focus()}}]),t}((0,b.default)(y));t.default=_},bbchfgbaj:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if("recent_stickers"!==t.tag(e))return;if("delete"!==t.attr("type",e))return;return t.attr("filehash",e)}},bbcjhfahhb:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.MediaPickerChangeTypes=void 0;var i=n(a("bhabhhjdch")),r=n(a("eaidjcib")),o=n(a("dgcdacjddi")),s=n(a("cjihgicbe")),d=a("bfbggcdbfb");function c(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}t.MediaPickerChangeTypes={mediaPickerCroppedRotated:"mediaPickerCroppedRotated",mediaPickerDrawing:"mediaPickerCroppedRotated",mediaPickerStickers:"mediaPickerCroppedRotated",mediaPickerText:"mediaPickerCroppedRotated"};var l=function(){function e(){(0,r.default)(this,e),this.mediaByTypeAndOrigin=new Map,this.mediaEventReverseIndex=new Map,this.chatRecipients=null}return(0,o.default)(e,[{key:"pauseTimer",value:function(){this.mediaByTypeAndOrigin.forEach(function(e){e.onPause()})}},{key:"resumeTimer",value:function(){this.mediaByTypeAndOrigin.forEach(function(e){e.onResume()})}},{key:"_getKey",value:function(e,t){return"".concat(e,"_").concat(t)}},{key:"_commitLog",value:function(e){new d.MediaPicker(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?c(Object(a),!0).forEach(function(t){(0,i.default)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):c(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},e,{chatRecipients:this.chatRecipients})).commit()}},{key:"_processNewMedia",value:function(e,t,a){var n=this._getKey(t,a),i=this.mediaByTypeAndOrigin.get(n);if(i)i.onAdd(e),this.mediaEventReverseIndex.set(e,i);else{var r=new s.default(e,t,a);this.mediaByTypeAndOrigin.set(n,r),this.mediaEventReverseIndex.set(e,r)}}},{key:"logChange",value:function(e,t){var a=this.mediaEventReverseIndex.get(e);a&&a.onChange(e,t)}},{key:"logDelete",value:function(e){var t=this.mediaEventReverseIndex.get(e);t&&t.onDelete(e)}},{key:"logSend",value:function(){var e=this;this.mediaByTypeAndOrigin.forEach(function(t){e._commitLog(t.onSend())})}},{key:"logCancel",value:function(){var e=this;this.mediaByTypeAndOrigin.forEach(function(t){e._commitLog(t.onCancel())})}},{key:"logAdd",value:function(e,t,a){this.mediaEventReverseIndex.get(e)||this._processNewMedia(e,t,a)}}]),e}();t.default=l},bbddghdigd:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=n(a("ddhijeejag")),u=i(a("effbcehec")),f=i(a("cfaiaibca")),h=i(a("dacdidjdfi")),p=i(a("bbchdeehff")),g=i(a("baagejbchg")),m=i(a("dciidighgh")),b=i(a("bjbdcigbdi")),v=i(a("dhfbfehaef")),j=i(a("fffdgbfji")),E=i(a("chcadgfgad")),y=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).state={clearMedia:!0},a.onCancel=function(){(0,a.props.onPopupCancel)()},a.onRevoke=function(){var e=a.props,t=e.chat,n=e.msgList,i=e.toastPosition,r=e.onCancel,o=e.onRevoke;p.default.sendRevokeMsgs(t,n,a.state.clearMedia,null,i),o(),r&&r()},a.onDelete=function(){var e=a.props,t=e.chat,n=e.msgList,i=e.toastPosition,r=e.onCancel,o=e.onDelete,s=e.isMsgVisible;p.default.sendDeleteMsgs(t,n,a.state.clearMedia,null,i),o(),r&&r(),p.default.existsDrawerRight(function(e){e&&s&&n.forEach(function(e){s(e.id,!0)&&p.default.closeDrawerRight()})})},a.onToggleClearMedia=function(){a.setState({clearMedia:!a.state.clearMedia})},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e,t=this.props,a=t.msgList,n=t.deletePrompt,i=t.revokePrompt;b.default.supportsFeature(b.default.F.DELETE_MSG_CLEAR_MEDIA)&&a.some(function(e){return e.isMMS&&e.type!==g.default.MSG_TYPE.STICKER})&&(e=l.createElement("div",{className:m.default.container,onClick:this.onToggleClearMedia,key:0},l.createElement("div",{"data-a8n":u.default.key("menu-icon-revoke-message"),className:m.default.control},l.createElement(h.default,{onChange:this.onToggleClearMedia,checked:this.state.clearMedia})),l.createElement("div",{className:m.default.label},j.default.t(314))));var r=l.createElement(f.default,{type:"plain",onClick:this.onCancel,key:0},j.default.t(1197)),o=null,s=null,d=null,c=function(){},p=a.length,y=j.default.t(377,{_plural:p});if(i&&(o=l.createElement(f.default,{a8nText:"popup-controls-revoke",type:"plain",onClick:this.onRevoke,key:1},j.default.t(997)),c=this.onRevoke),n){var _=b.default.supportsFeature(b.default.F.REVOKE)?j.default.t(371):j.default.t(1229);s=l.createElement(f.default,{a8nText:"popup-controls-delete",type:i?"plain":"primary",onClick:this.onDelete,key:2},_),c=this.onDelete}var S={enter:c,escape:this.onCancel};return s&&(d=o?l.createElement("div",{className:m.default.buttons},l.createElement("div",{className:m.default.button},s),l.createElement("div",{className:m.default.button},r),l.createElement("div",{className:m.default.button},o)):[r,s]),l.createElement(v.default,{handlers:S},l.createElement(E.default,{title:y,actions:d,children:[e]}))}}]),t}(l.Component);t.default=y},bbdfiiibib:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.PIP_BUTTON_THEME=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=n(a("ddhijeejag")),u=i(a("ceffhbhahb")),f=i(a("cbddhcffbc")),h=i(a("bfdcadbbif")),p={PLAYER:"PLAYER",PREVIEW:"PREVIEW"};t.PIP_BUTTON_THEME=p;var g=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,(0,d.default)(t).apply(this,arguments))}return(0,c.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){return l.createElement("div",{className:(0,u.default)(f.default.pipBtn,{[f.default.player]:this.props.theme===p.PLAYER,[f.default.preview]:this.props.theme===p.PREVIEW}),onClick:this.props.onClick},l.createElement(h.default,{name:"video-pip"}))}}]),t}(l.PureComponent);t.default=g},bbefjheeia:function(e,t){e.exports={1:'[[10],[["(...)(....)","$1-$2",[]],["(...)(...)(....)","($1) $2-$3",[]]]]',7:'[[10],[["(...)(..)(..)","$1-$2-$3",["[1-79]"]],["([3489]..)(...)(..)(..)","$1 $2-$3-$4",["[34689]"]],["(7..)(...)(....)","$1 $2 $3",["7"]]]]',20:'[[9,10],[["(.)(........?)","$1 $2",["[23]"]],["(...)(...)(....)","$1 $2 $3",["1[0125]|[89]00"]],["(..)(.......?)","$1 $2",["1[35]|[4-6]|[89][2-9]"]]]]',27:'[[9],[["(860)(...)(...)","$1 $2 $3",["860"]],["(..)(....?)","$1 $2",["8[1-4]"]],["(..)(...)(...?)","$1 $2 $3",["8[1-4]"]],["(..)(...)(....)","$1 $2 $3",["[1-79]|8(?:[0-57]|6[1-9])"]]]]',30:'[[10],[["([27].)(....)(....)","$1 $2 $3",["21|7"]],["(...)(...)(....)","$1 $2 $3",["2[2-9]1|[689]"]],["(2...)(......)","$1 $2",["2[2-9][02-9]"]]]]',31:'[[9,11],[["([1-578].)(...)(....)","$1 $2 $3",["1[035]|2[0346]|3[03568]|4[0356]|5[0358]|7|8[4578]"]],["([1-5]..)(...)(...)","$1 $2 $3",["1[16-8]|2[259]|3[124]|4[17-9]|5[124679]"]],["(6)(........)","$1 $2",["6[0-57-9]"]],["(66)(.......)","$1 $2",["66"]],["(14)(....?)","$1 $2",["14"]],["([89]0.)(.....?.?.?)","$1 $2",["80|9"]]]]',32:'[[9],[["(...)(..)(..)(..)","$1 $2 $3 $4",["4[6-9]"]],["(.)(...)(..)(..)","$1 $2 $3 $4",["[23]|4[23]|9[2-4]"]],["(..)(..)(..)(..)","$1 $2 $3 $4",["[156]|7[018]|8(?:0[1-9]|[1-79])"]],["(...)(..)(...)","$1 $2 $3",["(?:80|9)0"]]]]',33:'[[9],[["([1-79])(..)(..)(..)(..)","$1 $2 $3 $4 $5",["[1-79]"]],["(1..)(...)","$1 $2",["11"]],["(8..)(..)(..)(..)","$1 $2 $3 $4",["8"]]]]',34:'[[9],[["([89]00)(...)(...)","$1 $2 $3",["[89]00"]],["([5-9]..)(..)(..)(..)","$1 $2 $3 $4",["[568]|[79][0-8]"]]]]',36:'[[9],[["(1)(...)(....)","$1 $2 $3",["1"]],["(..)(...)(....?)","$1 $2 $3",["[2-9]"]]]]',39:'[[9,10],[["(..)(....?)(....)","$1 $2 $3",["0[26]|55"]],["(0[26])(....)(.....)","$1 $2 $3",["0[26]"]],["(0[26])(.....?.?)","$1 $2",["0[26]"]],["(0..)(....?)(....)","$1 $2 $3",["0[13-57-9][0159]"]],["(...)(....?.?.?)","$1 $2",["0[13-57-9][0159]|8(?:03|4[17]|9[245])","0[13-57-9][0159]|8(?:03|4[17]|9(?:2|[45][0-4]))"]],["(0...)(...)(....)","$1 $2 $3",["0[13-57-9][2-46-8]"]],["(0...)(...?.?.?.?)","$1 $2",["0[13-57-9][2-46-8]"]],["(...)(...)(....?)","$1 $2 $3",["[13]|8(?:00|4[08]|9[59])","[13]|8(?:00|4[08]|9(?:5[5-9]|9))"]],["(....)(....)","$1 $2",["894","894[5-9]"]],["(...)(....)(....)","$1 $2 $3",["3"]]]]',40:'[[9],[["(..)(...)(....)","$1 $2 $3",["[23]1"]],["(..)(....)","$1 $2",["[23]1"]],["(...)(...)(...)","$1 $2 $3",["[23][3-7]|[7-9]"]],["(2..)(...)","$1 $2",["2[3-6]"]]]]',41:'[[9],[["([2-9].)(...)(..)(..)","$1 $2 $3 $4",["[2-7]|[89]1"]],["([89]..)(...)(...)","$1 $2 $3",["8[047]|90"]],["(...)(..)(...)(..)(..)","$1 $2 $3 $4 $5",["860"]]]]',43:'[[10,11,12,13],[["(116...)","$1",["116"]],["(1)(....?.?.?.?.?.?.?.?.?)","$1 $2",["1"]],["(5.)(....?.?)","$1 $2",["5[079]"]],["(5.)(...)(....?)","$1 $2 $3",["5[079]"]],["(5.)(....)(.....?.?.?)","$1 $2 $3",["5[079]"]],["(...)(....?.?.?.?.?.?.?)","$1 $2",["316|46|51|732|6(?:5[0-3579]|[6-9])|7(?:[28]0)|[89]"]],["(....)(....?.?.?.?.?.?)","$1 $2",["2|3(?:1[1-578]|[3-8])|4[2378]|5[2-6]|6(?:[12]|4[1-9]|5[468])|7(?:2[1-8]|35|4[1-8]|[5-79])"]]]]',44:'[[10],[["(7...)(......)","$1 $2",["7(?:[1-57-9]|62)","7(?:[1-57-9]|624)"]],["(..)(....)(....)","$1 $2 $3",["2|5[56]|7[06]"]],["(...)(...)(....)","$1 $2 $3",["1(?:[02-9]1|1)|3|9[018]"]],["(.....)(.....?)","$1 $2",["1(?:38|5[23]|69|76|94)","1(?:(?:38|69)7|5(?:24|39)|768|946)","1(?:3873|5(?:242|39[4-6])|(?:697|768)[347]|9467)"]],["(1...)(......?)","$1 $2",["1"]],["(800)(....)","$1 $2",["800","8001","80011","800111","8001111"]],["(845)(46)(4.)","$1 $2 $3",["845","8454","84546","845464"]],["(8..)(...)(....)","$1 $2 $3",["8(?:4[2-5]|7[0-3])"]],["(80.)(...)(....)","$1 $2 $3",["80"]],["(800)(......)","$1 $2",["800"]]]]',45:'[[8],[["(..)(..)(..)(..)","$1 $2 $3 $4",[]]]]',46:'[[9],[["(8)(...?)(...?)(..)","$1 $2 $3 $4",["8"]],["([1-69].)(...?)(..)(..)","$1 $2 $3 $4",["1[013689]|2[0136]|3[1356]|4[0246]|54|6[03]|90"]],["([1-469].)(...)(..)","$1 $2 $3",["1[136]|2[136]|3[356]|4[0246]|6[03]|90"]],["(...)(..)(..)(..)","$1 $2 $3 $4",["1[2457]|2(?:[247-9]|5[0138])|3[0247-9]|4[1357-9]|5[0-35-9]|6(?:[124-689]|7[0-2])|9(?:[125-8]|3[0-5]|4[0-3])"]],["(...)(...?)(..)","$1 $2 $3",["1[2457]|2(?:[247-9]|5[0138])|3[0247-9]|4[1357-9]|5[0-35-9]|6(?:[124-689]|7[0-2])|9(?:[125-8]|3[0-5]|4[0-3])"]],["(7.)(...)(..)(..)","$1 $2 $3 $4",["7"]],["(77)(..)(..)","$1 $2 $3",["7"]],["(20)(...?)(..)","$1 $2 $3",["20"]],["(9[034].)(..)(..)(...)","$1 $2 $3 $4",["9[034]"]],["(9[034].)(....)","$1 $2",["9[034]"]],["(...)(..)(...)(..)(..)","$1 $2 $3 $4 $5",["25[245]|67[3-6]"]]]]',47:'[[8],[["([489]..)(..)(...)","$1 $2 $3",["[489]"]],["([235-7].)(..)(..)(..)","$1 $2 $3 $4",["[235-7]"]]]]',48:'[[9],[["(..)(...)(..)(..)","$1 $2 $3 $4",["[14]|2[0-57-9]|3[2-4]|5[24-689]|6[1-3578]|7[14-7]|8[1-79]|9[145]"]],["(..)(.)(....)","$1 $2 $3",["[12]2"]],["(...)(...)(...)","$1 $2 $3",["26|39|5[0137]|6[0469]|7[02389]|8[08]"]],["(...)(..)(...?)","$1 $2 $3",["64"]],["(...)(...)","$1 $2",["64"]]]]',49:'[[7,8,9,10,11,12],[["(1..)(........?)","$1 $2",["1[67]"]],["(15...)(......)","$1 $2",["15[0568]"]],["(1...)(.......)","$1 $2",["15"]],["(..)(....?.?.?.?.?.?.?.?)","$1 $2",["3[02]|40|[68]9"]],["(...)(....?.?.?.?.?.?.?.?)","$1 $2",["2(?:.1|0[2389]|1[24]|28|34)|3(?:[3-9][15]|40)|[4-8][1-9]1|9(?:06|[1-9]1)"]],["(....)(...?.?.?.?.?.?.?.?.?)","$1 $2",["[24-6]|[7-9](?:.[1-9]|[1-9].)|3(?:[3569][02-46-9]|4[2-4679]|7[2-467]|8[2-46-8])","[24-6]|[7-9](?:.[1-9]|[1-9].)|3(?:3(?:0[1-467]|2[127-9]|3[124578]|[46][1246]|7[1257-9]|8[1256]|9[145])|4(?:2[135]|3[1357]|4[13578]|6[1246]|7[1356]|9[1346])|5(?:0[14]|2[1-3589]|3[1357]|4[1246]|6[1-4]|7[1346]|8[13568]|9[1246])|6(?:0[356]|2[1-489]|3[124-6]|4[1347]|6[13]|7[12579]|8[1-356]|9[135])|7(?:2[1-7]|3[1357]|4[145]|6[1-5]|7[1-4])|8(?:21|3[1468]|4[1347]|6[0135-9]|7[1467]|8[136])|9(?:0[12479]|2[1358]|3[1357]|4[134679]|6[1-9]|7[136]|8[147]|9[1468]))"]],["(3....)(..?.?.?.?.?.?.?.?.?)","$1 $2",["3"]],["(800)(........?.?.?.?.?)","$1 $2",["800"]],["(...)(.)(.....?.?.?.?.?.?)","$1 $2 $3",["(?:18|90)0|137","1(?:37|80)|900[1359]"]],["(1..)(......?.?.?.?.?.?)","$1 $2",["181"]],["(18...)(......)","$1 $2",["185","1850","18500"]],["(18..)(.......)","$1 $2",["18[68]"]],["(18.)(........)","$1 $2",["18[2-579]"]],["(700)(....)(....)","$1 $2 $3",["700"]],["(138)(....)","$1 $2",["138"]],["(15[013-68])(..)(........)","$1 $2 $3",["15[013-68]"]],["(15[279].)(..)(.......)","$1 $2 $3",["15[279]"]],["(1[67].)(..)(........?)","$1 $2 $3",["1(?:6[023]|7)"]]]]',51:'[[9],[["(1)(.......)","$1 $2",["1"]],["([4-8].)(......)","$1 $2",["[4-7]|8[2-4]"]],["(...)(.....)","$1 $2",["80"]],["(9..)(...)(...)","$1 $2 $3",["9"]]]]',52:'[[10,11],[["([358].)(....)(....)","$1 $2 $3",["33|55|81"]],["(...)(...)(....)","$1 $2 $3",["[2467]|3[0-2457-9]|5[089]|8[02-9]|9[0-35-9]"]],["(1)([358].)(....)(....)","$1 $2 $3 $4",["1(?:33|55|81)"]],["(1)(...)(...)(....)","$1 $2 $3 $4",["1(?:[2467]|3[0-2457-9]|5[089]|8[2-9]|9[1-35-9])"]]]]',53:'[[8],[["(.)(.......?)","$1 $2",["7"]],["(..)(.....?.?)","$1 $2",["[2-4]"]],["(.)(.......)","$1 $2",["5"]]]]',54:'[[10,11],[["([68]..)(...)(....)","$1-$2-$3",["[68]"]],["(..)(....)","$1-$2",["[2-9]"]],["(...)(....)","$1-$2",["[2-9]"]],["(....)(....)","$1-$2",["[2-9]"]],["(9)(11)(....)(....)","$1 $2 $3-$4",["911"]],["(9)(...)(...)(....)","$1 $2 $3-$4",["9(?:2[234689]|3[3-8])","9(?:2(?:2[013]|3[067]|49|6[01346]|80|9[147-9])|3(?:36|4[1-358]|5[138]|6[24]|7[069]|8[013578]))","9(?:2(?:2(?:0[013-9]|[13])|3(?:0[013-9]|[67])|49|6(?:[0136]|4[0-59])|8|9(?:[19]|44|7[013-9]|8[14]))|3(?:36|4(?:[12]|3[456]|[58]4)|5(?:1|3[0-24-689]|8[46])|6|7[069]|8(?:[01]|34|[578][45])))","9(?:2(?:2(?:0[013-9]|[13])|3(?:0[013-9]|[67])|49|6(?:[0136]|4[0-59])|8|9(?:[19]|44|7[013-9]|8[14]))|3(?:36|4(?:[12]|3(?:4|5[014]|6[1239])|[58]4)|5(?:1|3[0-24-689]|8[46])|6|7[069]|8(?:[01]|34|[578][45])))"]],["(9)(....)(..)(....)","$1 $2 $3-$4",["9[23]"]],["(11)(....)(....)","$1 $2-$3",["1"]],["(...)(...)(....)","$1 $2-$3",["2(?:2[013]|3[067]|49|6[01346]|80|9[147-9])|3(?:36|4[1-358]|5[138]|6[24]|7[069]|8[013578])","2(?:2(?:0[013-9]|[13])|3(?:0[013-9]|[67])|49|6(?:[0136]|4[0-59])|8|9(?:[19]|44|7[013-9]|8[14]))|3(?:36|4(?:[12]|3[456]|[58]4)|5(?:1|3[0-24-689]|8[46])|6|7[069]|8(?:[01]|34|[578][45]))","2(?:2(?:0[013-9]|[13])|3(?:0[013-9]|[67])|49|6(?:[0136]|4[0-59])|8|9(?:[19]|44|7[013-9]|8[14]))|3(?:36|4(?:[12]|3(?:4|5[014]|6[1239])|[58]4)|5(?:1|3[0-24-689]|8[46])|6|7[069]|8(?:[01]|34|[578][45]))"]],["(....)(..)(....)","$1 $2-$3",["[23]"]],["(...)","$1",["1[012]|911"]]]]',55:'[[10,11],[["(....)(....)","$1-$2",["[2-9](?:[1-9]|0[1-9])"]],["(.....)(....)","$1-$2",["9(?:[1-9]|0[1-9])"]],["(....?.?)","$1",["1[125689]"]],["(..)(....)(....)","$1 $2-$3",["[1-9][1-9]"]],["(..)(.....)(....)","$1 $2-$3",["(?:[14689][1-9]|2[12478]|3[1-578]|5[1-5]|7[13-579])9"]],["(....)(....)","$1-$2",["(?:300|40(?:0|20))"]],["([3589]00)(...?)(....)","$1 $2 $3",["[3589]00"]]]]',56:'[[9],[["(.)(....)(....)","$1 $2 $3",["2[23]"]],["(..)(...)(....)","$1 $2 $3",["[357]|4[1-35]|6[13-57]"]],["(9)(....)(....)","$1 $2 $3",["9"]],["(44)(...)(....)","$1 $2 $3",["44"]],["([68]00)(...)(....?)","$1 $2 $3",["60|8"]],["(600)(...)(..)(...)","$1 $2 $3 $4",["60"]],["(1230)(...)(....)","$1 $2 $3",["1"]],["(.....)(....)","$1 $2",["219"]],["(.....?)","$1",["[1-9]"]]]]',57:'[[8,10],[["(.)(.......)","$1 $2",["1(?:8[2-9]|9[0-3]|[2-7])|[24-8]","1(?:8[2-9]|9(?:09|[1-3])|[2-7])|[24-8]"]],["(...)(.......)","$1 $2",["3"]],["(1)(...)(.......)","$1 $2 $3",["1(?:80|9[04])","1(?:800|9(?:0[01]|4[78]))"]]]]',58:'[[10],[["(...)(.......)","$1-$2",[]]]]',60:'[[9,10],[["([4-79])(...)(....)","$1-$2 $3",["[4-79]"]],["(3)(....)(....)","$1-$2 $3",["3"]],["([18].)(...)(....?)","$1-$2 $3",["1[02-46-9][1-9]|8"]],["(1)([36-8]00)(..)(....)","$1-$2-$3-$4",["1[36-8]0"]],["(11)(....)(....)","$1-$2 $3",["11"]],["(15[49])(...)(....)","$1-$2 $3",["15"]]]]',61:'[[9],[["([2378])(....)(....)","$1 $2 $3",["[2378]"]],["(...)(...)(...)","$1 $2 $3",["[45]|14"]],["(16)(....?)","$1 $2",["16"]],["(16)(...)(...?.?)","$1 $2 $3",["16"]],["(1[389]..)(...)(...)","$1 $2 $3",["1(?:[38]0|90)","1(?:[38]00|90)"]],["(180)(2...)","$1 $2",["180","1802"]],["(19.)(...)","$1 $2",["19[13]"]],["(19..)(....)","$1 $2",["19[679]"]],["(13)(..)(..)","$1 $2 $3",["13[1-9]"]]]]',62:'[[9,10,11,12],[["(..)(......?.?.?)","$1 $2",["2[124]|[36]1"]],["(...)(......?.?.?)","$1 $2",["[4579]|2[035-9]|[36][02-9]"]],["(8..)(....?)(...)","$1-$2-$3",["8[1-35-9]"]],["(8..)(....)(.....?)","$1-$2-$3",["8[1-35-9]"]],["(1)(500)(...)","$1 $2 $3",["15"]],["(177)(.......?.?)","$1 $2",["17"]],["(800)(......?.?)","$1 $2",["800"]],["(804)(...)(....)","$1 $2 $3",["804"]],["(80.)(.)(...)(...)","$1 $2 $3 $4",["80[79]"]]]]',63:'[[10],[["(2)(...)(....)","$1 $2 $3",["2"]],["(2)(.....)","$1 $2",["2"]],["(....)(.....?.?)","$1 $2",["3(?:23|39|46)|4(?:2[3-6]|[35]9|4[26]|76)|5(?:22|44)|642|8(?:62|8[245])","3(?:230|397|461)|4(?:2(?:35|[46]4|51)|396|4(?:22|63)|59[347]|76[15])|5(?:221|446)|642[23]|8(?:622|8(?:[24]2|5[13]))"]],["(.....)(....)","$1 $2",["346|4(?:27|9[35])|883","3469|4(?:279|9(?:30|56))|8834"]],["([3-8].)(...)(....)","$1 $2 $3",["[3-8]"]],["(...)(...)(....)","$1 $2 $3",["81|9"]],["(1800)(...)(....)","$1 $2 $3",["1"]],["(1800)(..?)(...)(....)","$1 $2 $3 $4",["1"]]]]',64:'[[8,9,10],[["([34679])(...)(....)","$1-$2 $3",["[346]|7[2-57-9]|9[1-9]"]],["(24099)(...)","$1 $2",["240","2409","24099"]],["(..)(...)(...)","$1 $2 $3",["21"]],["(..)(...)(....?.?)","$1 $2 $3",["2(?:1[1-9]|[69]|7[0-35-9])|70|86"]],["(2.)(....?)(....)","$1 $2 $3",["2[028]"]],["(...)(...)(....?)","$1 $2 $3",["2(?:10|74)|5|[89]0"]]]]',65:'[[8],[["([3689]...)(....)","$1 $2",["[369]|8[1-9]"]],["(1[89]00)(...)(....)","$1 $2 $3",["1[89]"]],["(7000)(....)(...)","$1 $2 $3",["70"]],["(800)(...)(....)","$1 $2 $3",["80"]]]]',66:'[[9],[["(2)(...)(....)","$1 $2 $3",["2"]],["([13-9].)(...)(....?)","$1 $2 $3",["14|[3-9]"]],["(1[89]00)(...)(...)","$1 $2 $3",["1"]]]]',81:'[[10],[["(...)(...)(...)","$1-$2-$3",["(?:12|57|99)0"]],["(...)(...)(....)","$1-$2-$3",["800"]],["(....)(....)","$1-$2",["0077"]],["(....)(..)(....?)","$1-$2-$3",["0077"]],["(....)(..)(....)","$1-$2-$3",["0088"]],["(....)(...)(....?)","$1-$2-$3",["00(?:37|66)"]],["(....)(....)(.....?)","$1-$2-$3",["00(?:37|66)"]],["(....)(.....)(......?)","$1-$2-$3",["00(?:37|66)"]],["(....)(......)(.......?)","$1-$2-$3",["00(?:37|66)"]],["(..)(....)(....)","$1-$2-$3",["[2579]0|80[1-9]"]],["(....)(.)(....)","$1-$2-$3",["1(?:26|3[79]|4[56]|5[4-68]|6[3-5])|5(?:76|97)|499|746|8(?:3[89]|63|47|51)|9(?:49|80|9[16])","1(?:267|3(?:7[247]|9[278])|4(?:5[67]|66)|5(?:47|58|64|8[67])|6(?:3[245]|48|5[4-68]))|5(?:76|97)9|499[2468]|7468|8(?:3(?:8[78]|96)|636|477|51[24])|9(?:496|802|9(?:1[23]|69))","1(?:267|3(?:7[247]|9[278])|4(?:5[67]|66)|5(?:47|58|64|8[67])|6(?:3[245]|48|5[4-68]))|5(?:769|979[2-69])|499[2468]|7468|8(?:3(?:8[78]|96[2457-9])|636[2-57-9]|477|51[24])|9(?:496|802|9(?:1[23]|69))"]],["(...)(..)(....)","$1-$2-$3",["1(?:2[3-6]|3[3-9]|4[2-6]|5[2-8]|[68][2-7]|7[2-689]|9[1-578])|2(?:2[03-689]|3[3-58]|4[0-468]|5[04-8]|6[013-8]|7[06-9]|8[02-57-9]|9[13])|4(?:2[28]|3[689]|6[035-7]|7[05689]|80|9[3-5])|5(?:3[1-36-9]|4[4578]|5[013-8]|6[1-9]|7[2-8]|8[14-7]|9[4-9])|7(?:2[15]|3[5-9]|4[02-9]|6[135-8]|7[0-4689]|9[014-9])|8(?:2[49]|3[3-8]|4[5-8]|5[2-9]|6[35-9]|7[579]|8[03-579]|9[2-8])|9(?:[23]0|4[02-46-9]|5[024-79]|6[4-9]|7[2-47-9]|8[02-7]|9[3-7])","1(?:2[3-6]|3[3-9]|4[2-6]|5(?:[236-8]|[45][2-69])|[68][2-7]|7[2-689]|9[1-578])|2(?:2(?:[04-689]|3[23])|3[3-58]|4[0-468]|5(?:5[78]|7[2-4]|[0468][2-9])|6(?:[0135-8]|4[2-5])|7(?:[0679]|8[2-7])|8(?:[024578]|3[25-9]|9[6-9])|9(?:11|3[2-4]))|4(?:2(?:2[2-9]|8[237-9])|3[689]|6[035-7]|7(?:[059][2-8]|[68])|80|9[3-5])|5(?:3[1-36-9]|4[4578]|5[013-8]|6[1-9]|7[2-8]|8[14-7]|9(?:[89][2-8]|[4-7]))|7(?:2[15]|3[5-9]|4[02-9]|6[135-8]|7[0-4689]|9(?:[017-9]|4[6-8]|5[2-478]|6[2-589]))|8(?:2(?:4[4-8]|9[2-8])|3(?:7[2-6]|[3-6][2-9]|8[2-5])|4[5-8]|5[2-9]|6(?:[37]|5[4-7]|6[2-9]|8[2-8]|9[236-9])|7[579]|8[03-579]|9[2-8])|9(?:[23]0|4[02-46-9]|5[024-79]|6[4-9]|7[2-47-9]|8[02-7]|9(?:3[34]|[4-7]))","1(?:2[3-6]|3[3-9]|4[2-6]|5(?:[236-8]|[45][2-69])|[68][2-7]|7[2-689]|9[1-578])|2(?:2(?:[04-689]|3[23])|3[3-58]|4[0-468]|5(?:5[78]|7[2-4]|[0468][2-9])|6(?:[0135-8]|4[2-5])|7(?:[0679]|8[2-7])|8(?:[024578]|3[25-9]|9[6-9])|9(?:11|3[2-4]))|4(?:2(?:2[2-9]|8[237-9])|3[689]|6[035-7]|7(?:[059][2-8]|[68])|80|9[3-5])|5(?:3[1-36-9]|4[4578]|5[013-8]|6[1-9]|7[2-8]|8[14-7]|9(?:[89][2-8]|[4-7]))|7(?:2[15]|3[5-9]|4[02-9]|6[135-8]|7[0-4689]|9(?:[017-9]|4[6-8]|5[2-478]|6[2-589]))|8(?:2(?:4[4-8]|9(?:[3578]|20|4[04-9]|6[56]))|3(?:7(?:[2-5]|6[0-59])|[3-6][2-9]|8[2-5])|4[5-8]|5[2-9]|6(?:[37]|5(?:[467]|5[014-9])|6(?:[2-8]|9[02-69])|8[2-8]|9(?:[236-8]|9[23]))|7[579]|8[03-579]|9[2-8])|9(?:[23]0|4[02-46-9]|5[024-79]|6[4-9]|7[2-47-9]|8[02-7]|9(?:3(?:3[02-9]|4[0-24689])|4[2-69]|[5-7]))","1(?:2[3-6]|3[3-9]|4[2-6]|5(?:[236-8]|[45][2-69])|[68][2-7]|7[2-689]|9[1-578])|2(?:2(?:[04-689]|3[23])|3[3-58]|4[0-468]|5(?:5[78]|7[2-4]|[0468][2-9])|6(?:[0135-8]|4[2-5])|7(?:[0679]|8[2-7])|8(?:[024578]|3[25-9]|9[6-9])|9(?:11|3[2-4]))|4(?:2(?:2[2-9]|8[237-9])|3[689]|6[035-7]|7(?:[059][2-8]|[68])|80|9[3-5])|5(?:3[1-36-9]|4[4578]|5[013-8]|6[1-9]|7[2-8]|8[14-7]|9(?:[89][2-8]|[4-7]))|7(?:2[15]|3[5-9]|4[02-9]|6[135-8]|7[0-4689]|9(?:[017-9]|4[6-8]|5[2-478]|6[2-589]))|8(?:2(?:4[4-8]|9(?:[3578]|20|4[04-9]|6(?:5[25]|60)))|3(?:7(?:[2-5]|6[0-59])|[3-6][2-9]|8[2-5])|4[5-8]|5[2-9]|6(?:[37]|5(?:[467]|5[014-9])|6(?:[2-8]|9[02-69])|8[2-8]|9(?:[236-8]|9[23]))|7[579]|8[03-579]|9[2-8])|9(?:[23]0|4[02-46-9]|5[024-79]|6[4-9]|7[2-47-9]|8[02-7]|9(?:3(?:3[02-9]|4[0-24689])|4[2-69]|[5-7]))"]],["(..)(...)(....)","$1-$2-$3",["1|2(?:2[37]|5[5-9]|64|78|8[39]|91)|4(?:2[2689]|64|7[347])|5(?:[2-589]|39)|60|8(?:[46-9]|3[279]|2[124589])|9(?:[235-8]|93)","1|2(?:2[37]|5(?:[57]|[68]0|9[19])|64|78|8[39]|917)|4(?:2(?:[68]|20|9[178])|64|7[347])|5(?:[2-589]|39[67])|60|8(?:[46-9]|3[279]|2[124589])|9(?:[235-8]|93[34])","1|2(?:2[37]|5(?:[57]|[68]0|9(?:17|99))|64|78|8[39]|917)|4(?:2(?:[68]|20|9[178])|64|7[347])|5(?:[2-589]|39[67])|60|8(?:[46-9]|3[279]|2[124589])|9(?:[235-8]|93(?:31|4))"]],["(...)(..)(....)","$1-$2-$3",["2(?:9[14-79]|74|[34]7|[56]9)|82|993"]],["(.)(....)(....)","$1-$2-$3",["3|4(?:2[09]|7[01])|6[1-9]"]],["(..)(...)(....)","$1-$2-$3",["[2479][1-9]"]]]]',82:'[[9,10],[["(.....)(....?)(....)","$1 $2 $3",["00798"]],["(.....)(..)(...)(....)","$1 $2 $3 $4",["00798"]],["(..)(....)(....)","$1-$2-$3",["1(?:0|1[19]|[69]9|5[458])|[57]0","1(?:0|1[19]|[69]9|5(?:44|59|8))|[57]0"]],["(..)(....?)(....)","$1-$2-$3",["1(?:[01]|5[1-4]|6[2-8]|[7-9])|[68]0|[3-6][1-9][1-9]","1(?:[01]|5(?:[1-3]|4[56])|6[2-8]|[7-9])|[68]0|[3-6][1-9][1-9]"]],["(...)(.)(....)","$1-$2-$3",["131","1312"]],["(...)(..)(....)","$1-$2-$3",["131","131[13-9]"]],["(...)(...)(....)","$1-$2-$3",["13[2-9]"]],["(..)(..)(...)(....)","$1-$2-$3-$4",["30"]],["(.)(....?)(....)","$1-$2-$3",["2[1-9]"]],["(.)(....?)","$1-$2",["21[0-46-9]"]],["(..)(....?)","$1-$2",["[3-6][1-9]1","[3-6][1-9]1(?:[0-46-9])"]],["(....)(....)","$1-$2",["1(?:5[246-9]|6[04678]|8[03579])","1(?:5(?:22|44|66|77|88|99)|6(?:00|44|6[16]|70|88)|8(?:00|33|55|77|99))"]]]]',84:'[[9,10],[["([17]99)(....)","$1 $2",["[17]99"]],["(..)(....)(....)","$1 $2 $3",["2[48]"]],["(80)(.....)","$1 $2",["80"]],["(69.)(.....?)","$1 $2",["69"]],["(...)(....)(...)","$1 $2 $3",["2[0-35-79]"]],["([89].)(...)(..)(..)","$1 $2 $3 $4",["8(?:8|9[89])|9"]],["(1[2689].)(...)(....)","$1 $2 $3",["1(?:[26]|8[68]|99)"]],["([3578].)(...)(....)","$1 $2 $3",["[357]|8[1-5]"]],["(86[89])(...)(...)","$1 $2 $3",["86[89]"]],["(1[89]00)(.....?.?)","$1 $2",["1[89]0","1[89]00"]]]]',86:'[[11],[["(80..)(....)","$1 $2",["80[2678]"]],["([48]00)(...)(....)","$1 $2 $3",["[48]00"]],["(......?)","$1",["100|95"]],["(..)(......?)","$1 $2",["(?:10|2.)[19]","(?:10|2.)(?:10|9[56])","(?:10|2.)(?:100|9[56])"]],["(...)(......?)","$1 $2",["[3-9]","[3-9]..[19]","[3-9]..(?:10|9[56])"]],["(....?)(....)","$1 $2",["[2-9]"]],["(21)(....)(.....?.?)","$1 $2 $3",["21"]],["([12].)(....)(....)","$1 $2 $3",["10[1-9]|2[02-9]","10[1-9]|2[02-9]","10(?:[1-79]|8(?:[1-9]|0[1-9]))|2[02-9]"]],["(...)(...)(....)","$1 $2 $3",["3(?:1[02-9]|35|49|5|7[02-68]|9[1-68])|4(?:1[02-9]|2[179]|[35][2-9]|6[4789]|7.|8[23])|5(?:3[03-9]|4[36]|5[02-9]|6[1-46]|7[028]|80|9[2-46-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]|2[248]|3[04-9]|4[3-6]|6[2368])|8(?:1[236-8]|2[5-7]|3|5[1-9]|7[02-9]|8[3678]|9[1-7])|9(?:0[1-3689]|1[1-79]|[379]|4[13]|5[1-5])"]],["(...)(....)(....)","$1 $2 $3",["3(?:11|7[179])|4(?:[15]1|3[1-35])|5(?:1|2[37]|3[12]|51|7[13-79]|9[15])|7(?:31|5[457]|6[09]|91)|8(?:[57]1|98)"]],["(....)(...)(....)","$1 $2 $3",["807","8078"]],["(...)(....)(....)","$1 $2 $3",["1[3-578]"]],["(10800)(...)(....)","$1 $2 $3",["108","1080","10800"]],["(...)(........?)","$1 $2",["950"]]]]',90:'[[10],[["(...)(...)(..)(..)","$1 $2 $3 $4",["[23]|4(?:[0-35-9]|4[0-35-9])"]],["(...)(...)(..)(..)","$1 $2 $3 $4",["5[02-69]"]],["(...)(...)(....)","$1 $2 $3",["51|[89]"]],["(444)(.)(...)","$1 $2 $3",["444"]]]]',91:'[[10],[["(.....)(.....)","$1 $2",["600|7(?:[02-8]|19|9[037-9])|8(?:0[015-9]|[1-9]|20)|9","600|7(?:[078]|19[0-5]|2(?:[02356-9]|[14][017-9]|9[389])|3(?:[025-9]|1[07-9]|[34][017-9])|4(?:[0-35689]|[47][017-9])|5(?:[02346-9]|1[017-9]|5[017-9])|6(?:[02-9]|1[0-257-9])|9(?:[089]|31|7[02-9]))|8(?:0(?:[01589]|6[67]|7[02-9])|1(?:[0-57-9]|6[07-9])|2(?:0[078]|[14][07-9]|[235-9])|3(?:[0357-9]|[126][07-9]|4[1-9])|[45]|6(?:[02457-9]|[136][07-9])|7(?:[078][07-9]|[1-69])|8(?:[0-25-9]|3[07-9]|4[047-9])|9(?:[02-9]|1[027-9]))|9","600|7(?:0|19[0-5]|2(?:[0235679]|[14][017-9]|8(?:[0-569]|[78][089])|9[389])|3(?:[05-8]|1(?:[089]|7[5-9])|2(?:[5-8]|[0-49][089])|3[017-9]|4(?:[07-9]|11)|9(?:[01689]|[2345][089]|40|7[0189]))|4(?:[056]|1(?:[0135-9]|[23][089]|2[089]|4[089])|2(?:0[089]|[1-7][089]|[89])|3(?:[0-8][089]|9)|4(?:[089]|11|7[02-8])|7(?:[089]|11|7[02-8])|8(?:[0-24-7][089]|[389])|9(?:[0-7][089]|[89]))|5(?:[0346-9]|1[017-9]|2(?:[03-9]|[12][089])|5[017-9])|6(?:[0346-9]|1[0-257-9]|2(?:[0-4].|[5-9][089])|5(?:[0-367][089]|[4589]))|7(?:0(?:[02-9]|1[089])|[1-9])|8(?:[0-79]|8(?:0[0189]|11|8[013-9]|9))|9(?:[089]|313|7(?:[02-8]|9[07-9])))|8(?:0(?:[01589]|6[67]|7(?:[02-8]|9[05-9]))|1(?:[02-57-9]|1(?:[0-35-9]|4[0-46-9])|6(?:[089]|7[02-8]))|2(?:0(?:[08]|7[02])|[14](?:[089]|7[02-8])|[235-9])|3(?:[0357-9]|1(?:[089]|7[02-6])|2(?:[09]|77|8[0-689])|4[1-9]|6(?:[089]|7[02-7]))|[45]|6(?:[02457-9]|1(?:[089]|7[02-8])|3(?:[089]|7[02358])|6(?:[08]|7[02-8]|9[01]))|7(?:0[07-9]|[1-69]|7(?:[089]|7[02-8])|8(?:[089]|7[02-8]))|8(?:[0-25-9]|3(?:[089]|7[02-8])|4(?:[0489]|7[02-68]))|9(?:[02-9]|1(?:[0289]|7[2-6])))|9"]],["(..)(....)(....)","$1 $2 $3",["11|2[02]|33|4[04]|79[1-9]|80[2-46]"]],["(...)(...)(....)","$1 $2 $3",["1(?:2[0-249]|3[0-25]|4[145]|[569][14]|7[1257]|8[1346]|[68][1-9])|2(?:1[257]|3[013]|4[01]|5[0137]|6[0158]|78|8[1568]|9[14])|3(?:26|4[1-3]|5[34]|6[01489]|7[02-46]|8[159])|4(?:1[36]|2[1-47]|3[15]|5[12]|6[0-26-9]|7[0-24-9]|8[013-57]|9[014-7])|5(?:1[025]|[36][25]|22|4[28]|5[12]|[78]1|9[15])|6(?:12|[2345]1|57|6[13]|7[14]|80)|7(?:12|2[14]|3[134]|4[47]|5[15]|[67]1|88)|8(?:16|2[014]|3[126]|6[136]|7[078]|8[34]|91)"]],["(....)(...)(...)","$1 $2 $3",["1(?:[23579]|[468][1-9])|[2-8]"]],["(..)(...)(....)(...)","$1 $2 $3 $4",["008"]],["(...)(...)(....)","$1 $2 $3",["140"]],["(....)(..)(....)","$1 $2 $3",["160","1600"]],["(....)(.....?)","$1 $2",["180","1800"]],["(....)(...?.?)(....)","$1 $2 $3",["180","1800"]],["(....)(....?)(....)","$1 $2 $3",["186","1860"]],["(....)(...)(...)(...)","$1 $2 $3 $4",["18[06]"]]]]',92:'[[10],[["(..)(111)(...)(...)","$1 $2 $3 $4",["(?:2[125]|4[0-246-9]|5[1-35-7]|6[1-8]|7[14]|8[16]|91)1","(?:2[125]|4[0-246-9]|5[1-35-7]|6[1-8]|7[14]|8[16]|91)11","(?:2[125]|4[0-246-9]|5[1-35-7]|6[1-8]|7[14]|8[16]|91)111"]],["(...)(111)(...)(...)","$1 $2 $3 $4",["2[349]|45|54|60|72|8[2-5]|9[2-9]","(?:2[349]|45|54|60|72|8[2-5]|9[2-9]).1","(?:2[349]|45|54|60|72|8[2-5]|9[2-9]).11","(?:2[349]|45|54|60|72|8[2-5]|9[2-9]).111"]],["(..)(........?)","$1 $2",["(?:2[125]|4[0-246-9]|5[1-35-7]|6[1-8]|7[14]|8[16]|91)[2-9]"]],["(...)(.......?)","$1 $2",["2[349]|45|54|60|72|8[2-5]|9[2-9]","(?:2[349]|45|54|60|72|8[2-5]|9[2-9]).[2-9]"]],["(3..)(.......)","$1 $2",["3"]],["([15]...)(......?)","$1 $2",["58[12]|1"]],["(586..)(.....)","$1 $2",["586"]],["([89]00)(...)(..)","$1 $2 $3",["[89]00"]]]]',93:'[[9],[["([2-7].)(...)(....)","$1 $2 $3",["[2-7]"]]]]',94:'[[9],[["(..)(.)(......)","$1 $2 $3",["[1-689]"]],["(..)(...)(....)","$1 $2 $3",["7"]]]]',95:'[[8,9,10],[["(.)(...)(....?)","$1 $2 $3",["1|2[245]"]],["(2)(....)(....)","$1 $2 $3",["251"]],["(.)(..)(...)","$1 $2 $3",["16|2"]],["(..)(...)(....?)","$1 $2 $3",["67|81"]],["(..)(..)(....?)","$1 $2 $3",["[4-8]"]],["(9)(...)(.....?.?)","$1 $2 $3",["9(?:2[0-4]|[35-9]|4[137-9])"]],["(9)([34]....)(....)","$1 $2 $3",["9(?:3[0-36]|4[0-57-9])"]],["(9)(...)(...)(...)","$1 $2 $3 $4",["92[56]"]],["(9)(...)(...)(..)","$1 $2 $3 $4",["93"]]]]',98:'[[10],[["(21)(....?.?)","$1 $2",["21"]],["(..)(....)(....)","$1 $2 $3",["[1-8]"]],["(...)(...)","$1 $2",["9"]],["(...)(..)(...?)","$1 $2 $3",["9"]],["(...)(...)(....?)","$1 $2 $3",["9"]]]]',211:'[[9],[["(...)(...)(...)","$1 $2 $3",[]]]]',212:'[[9],[["([5-7]..)(......)","$1-$2",["5(?:2[015-7]|3[0-4])|[67]"]],["([58]...)(.....)","$1-$2",["5(?:2[2-489]|3[5-9]|92)|892","5(?:2(?:[2-48]|9[0-7])|3(?:[5-79]|8[0-7])|924)|892"]],["(5....)(....)","$1-$2",["5(?:29|38)","5(?:29|38)[89]"]],["([5]..)(..)(..)(..)","$1 $2 $3 $4",["5(?:4[067]|5[03])"]],["(8[09])(.......)","$1-$2",["8(?:0|9[013-9])"]]]]',213:'[[9],[["([1-4].)(..)(..)(..)","$1 $2 $3 $4",["[1-4]"]],["([5-8]..)(..)(..)(..)","$1 $2 $3 $4",["[5-8]"]],["(9.)(...)(..)(..)","$1 $2 $3 $4",["9"]]]]',216:'[[8],[["(..)(...)(...)","$1 $2 $3",[]]]]',218:'[[9],[["([25679].)(.......)","$1-$2",[]]]]',220:'[[7],[["(...)(....)","$1 $2",[]]]]',221:'[[9],[["(..)(...)(..)(..)","$1 $2 $3 $4",["[379]"]],["(...)(..)(..)(..)","$1 $2 $3 $4",["8"]]]]',222:'[[8],[["([2-48].)(..)(..)(..)","$1 $2 $3 $4",[]]]]',223:'[[8],[["(..)(..)(..)(..)","$1 $2 $3 $4",["[246-9]"]],["(....)","$1",["67|74"]]]]',224:'[[8,9],[["(..)(..)(..)(..)","$1 $2 $3 $4",["3"]],["(...)(..)(..)(..)","$1 $2 $3 $4",["[67]"]]]]',225:'[[8],[["(..)(..)(..)(..)","$1 $2 $3 $4",[]]]]',226:'[[8],[["(..)(..)(..)(..)","$1 $2 $3 $4",[]]]]',227:'[[8],[["(..)(..)(..)(..)","$1 $2 $3 $4",["[289]|09"]],["(08)(...)(...)","$1 $2 $3",["08"]]]]',228:'[[8],[["(..)(..)(..)(..)","$1 $2 $3 $4",["[279]"]]]]',229:'[[8],[["(..)(..)(..)(..)","$1 $2 $3 $4",[]]]]',230:'[[7,8],[["([2-46-9]..)(....)","$1 $2",["[2-46-9]"]],["(5...)(....)","$1 $2",["5"]]]]',231:'[[7,8,9],[["(2.)(...)(...)","$1 $2 $3",["2"]],["([4-5])(...)(...)","$1 $2 $3",["[45]"]],["(..)(...)(....)","$1 $2 $3",["[23578]"]]]]',232:'[[8],[["(..)(......)","$1 $2",[]]]]',233:'[[9],[["(..)(...)(....)","$1 $2 $3",["[235]"]],["(...)(.....)","$1 $2",["8"]]]]',234:'[[10],[["(.)(...)(....?)","$1 $2 $3",["[12]|9(?:0[3-9]|[1-9])"]],["(..)(...)(...?)","$1 $2 $3",["[3-6]|7(?:[1-79]|0[1-9])|8[2-9]"]],["(...)(...)(....?)","$1 $2 $3",["70|8[01]|90[235-9]"]],["([78]00)(....)(.....?)","$1 $2 $3",["[78]00"]],["([78]00)(.....)(......?)","$1 $2 $3",["[78]00"]],["(78)(..)(...)","$1 $2 $3",["78"]]]]',235:'[[8],[["(..)(..)(..)(..)","$1 $2 $3 $4",[]]]]',236:'[[8],[["(..)(..)(..)(..)","$1 $2 $3 $4",[]]]]',237:'[[8,9],[["([26])(..)(..)(..)(..)","$1 $2 $3 $4 $5",["[26]"]],["(..)(..)(..)(..)","$1 $2 $3 $4",["[23]|88"]],["(800)(..)(...)","$1 $2 $3",["80"]]]]',238:'[[7],[["(...)(..)(..)","$1 $2 $3",[]]]]',239:'[[7],[["(...)(....)","$1 $2",[]]]]',240:'[[9],[["(...)(...)(...)","$1 $2 $3",["[235]"]],["(...)(......)","$1 $2",["[89]"]]]]',241:'[[8],[["(.)(..)(..)(..)","$1 $2 $3 $4",["[2-7]"]],["(..)(..)(..)(..)","$1 $2 $3 $4",["0"]]]]',242:'[[9],[["(..)(...)(....)","$1 $2 $3",["[02]"]],["(.)(....)(....)","$1 $2 $3",["8"]]]]',243:'[[9],[["(..)(...)(....)","$1 $2 $3",["12"]],["([89]..)(...)(...)","$1 $2 $3",["8[0-2459]|9"]],["(..)(..)(...)","$1 $2 $3",["88"]],["(..)(.....)","$1 $2",["[1-6]"]]]]',244:'[[9],[["(...)(...)(...)","$1 $2 $3",[]]]]',245:'[[7,9],[["(...)(...)(...)","$1 $2 $3",["44|9[567]"]],["(...)(....)","$1 $2",["40"]]]]',246:'[[7],[["(...)(....)","$1 $2",[]]]]',247:"[[5],[]]",248:'[[7],[["(.)(...)(...)","$1 $2 $3",["[246]"]]]]',249:'[[9],[["(..)(...)(....)","$1 $2 $3",[]]]]',250:'[[9],[["(2..)(...)(...)","$1 $2 $3",["2"]],["([7-9]..)(...)(...)","$1 $2 $3",["[7-9]"]],["(0.)(..)(..)(..)","$1 $2 $3 $4",["0"]]]]',251:'[[9],[["([1-59].)(...)(....)","$1 $2 $3",[]]]]',252:'[[8,9],[["(......)","$1",["[134]"]],["(.)(......)","$1 $2",["2[0-79]|[13-5]"]],["(.)(.......)","$1 $2",["24|[67]"]],["(..)(....)","$1 $2",["8[125]"]],["(..)(......?.?)","$1 $2",["15|28|6[1-35-9]|799|9[2-9]"]],["(...)(...)(...)","$1 $2 $3",["3[59]|4[89]|6[24-6]|79|8[08]|90"]]]]',253:'[[8],[["(..)(..)(..)(..)","$1 $2 $3 $4",[]]]]',254:'[[9],[["(..)(......?.?)","$1 $2",["[24-6]"]],["(...)(......)","$1 $2",["7"]],["(...)(...)(....?)","$1 $2 $3",["[89]"]]]]',255:'[[9],[["([24].)(...)(....)","$1 $2 $3",["[24]"]],["([67]..)(...)(...)","$1 $2 $3",["[67]"]],["([89]..)(..)(....)","$1 $2 $3",["[89]"]]]]',256:'[[9],[["(...)(......)","$1 $2",["[7-9]|20(?:[013-8]|2[5-9])|4(?:6[45]|[7-9])"]],["(..)(.......)","$1 $2",["3|4(?:[1-5]|6[0-36-9])"]],["(2024)(.....)","$1 $2",["2024"]]]]',257:'[[8],[["(..)(..)(..)(..)","$1 $2 $3 $4",[]]]]',258:'[[9],[["([28].)(...)(....?)","$1 $2 $3",["2|8[2-7]"]],["(80.)(...)(...)","$1 $2 $3",["80"]]]]',260:'[[9],[["([29].)(.......)","$1 $2",["[29]"]],["(800)(...)(...)","$1 $2 $3",["8"]]]]',261:'[[9],[["([23].)(..)(...)(..)","$1 $2 $3 $4",[]]]]',262:'[[9],[["([268]..)(..)(..)(..)","$1 $2 $3 $4",[]]]]',263:'[[9,10],[["([49])(...)(...?.?)","$1 $2 $3",["4|9[2-9]"]],["(7.)(...)(....?)","$1 $2 $3",["7"]],["(86..)(...)(...)","$1 $2 $3",["86[24]"]],["([2356]..)(....?.?)","$1 $2",["2(?:0[45]|2[278]|[49]8|[78])|3(?:08|17|3[78]|7[1569]|8[37]|98)|5[15][78]|6(?:[29]8|[38]7|6[78]|75|[89]8)"]],["(...)(...)(....?)","$1 $2 $3",["2(?:1[39]|2[0157]|6[14]|7[35]|84)|329"]],["([1-356].)(....?.?)","$1 $2",["1[3-9]|2[0569]|3[0-69]|5[05689]|6[0-46-9]"]],["([235].)(...)(....?)","$1 $2 $3",["[23]9|54"]],["([25]...)(....?.?)","$1 $2",["(?:25|54)8","258[23]|5483"]],["(8...)(......)","$1 $2",["86"]],["(80.)(...)(....)","$1 $2 $3",["80"]]]]',264:'[[9],[["(8.)(...)(....)","$1 $2 $3",["8[1235]"]],["(6.)(...)(....?)","$1 $2 $3",["6"]],["(88)(...)(...)","$1 $2 $3",["88"]],["(870)(...)(...)","$1 $2 $3",["870"]]]]',265:'[[9],[["(.)(...)(...)","$1 $2 $3",["1"]],["(2..)(...)(...)","$1 $2 $3",["2"]],["(...)(..)(..)(..)","$1 $2 $3 $4",["[1789]"]]]]',266:'[[8],[["(....)(....)","$1 $2",[]]]]',267:'[[8],[["(...)(....)","$1 $2",["[2-6]"]],["(7.)(...)(...)","$1 $2 $3",["7"]],["(90)(.....)","$1 $2",["9"]]]]',268:'[[8],[["(....)(....)","$1 $2",["[027]"]]]]',269:'[[7],[["(...)(..)(..)","$1 $2 $3",[]]]]',290:"[[4,5],[]]",291:'[[7],[["(.)(...)(...)","$1 $2 $3",[]]]]',297:'[[7],[["(...)(....)","$1 $2",[]]]]',298:'[[6],[["(......)","$1",[]]]]',299:'[[6],[["(..)(..)(..)","$1 $2 $3",[]]]]',350:'[[8],[["(...)(.....)","$1 $2",["2"]]]]',351:'[[9],[["(2.)(...)(....)","$1 $2 $3",["2[12]"]],["([2-46-9]..)(...)(...)","$1 $2 $3",["2[3-9]|[346-9]"]]]]',352:'[[9],[["(..)(...)","$1 $2",["[2-5]|7[1-9]|[89](?:[1-9]|0[2-9])"]],["(..)(..)(..)","$1 $2 $3",["[2-5]|7[1-9]|[89](?:[1-9]|0[2-9])"]],["(..)(..)(...)","$1 $2 $3",["20"]],["(..)(..)(..)(..?)","$1 $2 $3 $4",["2(?:[0367]|4[3-8])"]],["(..)(..)(..)(...)","$1 $2 $3 $4",["20"]],["(..)(..)(..)(..)(..?)","$1 $2 $3 $4 $5",["2(?:[0367]|4[3-8])"]],["(..)(..)(..)(..?.?.?)","$1 $2 $3 $4",["2(?:[12589]|4[12])|[3-5]|7[1-9]|8(?:[1-9]|0[2-9])|9(?:[1-9]|0[2-46-9])"]],["(...)(..)(...)","$1 $2 $3",["70|80[01]|90[015]"]],["(...)(...)(...)","$1 $2 $3",["6"]]]]',353:'[[9],[["(1)(....?)(....)","$1 $2 $3",["1"]],["(..)(.....)","$1 $2",["2[24-9]|47|58|6[237-9]|9[35-9]"]],["(...)(.....)","$1 $2",["40[24]|50[45]"]],["(48)(....)(....)","$1 $2 $3",["48"]],["(818)(...)(...)","$1 $2 $3",["81"]],["(..)(...)(....?)","$1 $2 $3",["[24-69]|7[14]"]],["([78].)(....?)(....)","$1 $2 $3",["76|8[35-9]"]],["(700)(...)(...)","$1 $2 $3",["70"]],["(....)(...)(...)","$1 $2 $3",["1(?:8[059]|5)","1(?:8[059]0|5)"]]]]',354:'[[7,8,9],[["(...)(....)","$1 $2",["[4-9]"]],["(3..)(...)(...)","$1 $2 $3",["3"]]]]',355:'[[9],[["(4)(...)(....)","$1 $2 $3",["4[0-6]"]],["(6[6-9])(...)(....)","$1 $2 $3",["6"]],["(..)(...)(...)","$1 $2 $3",["[2358][2-5]|4[7-9]"]],["(...)(....?.?)","$1 $2",["[235][16-9]|8[016-9]|[79]"]]]]',356:'[[8],[["(....)(....)","$1 $2",[]]]]',357:'[[8],[["(..)(......)","$1 $2",[]]]]',358:'[[6,7,8,9,10,11],[["(...)(....?.?.?.?)","$1 $2",["(?:[1-3]00|[6-8]0)"]],["(116...)","$1",["116"]],["(..)(.....?.?.?.?.?.?)","$1 $2",["[14]|2[09]|50|7[135]"]],["(.)(.....?.?.?.?.?.?.?)","$1 $2",["[25689][1-8]|3"]]]]',359:'[[9],[["(2)(.)(..)(..)","$1 $2 $3 $4",["2"]],["(2)(...)(....?)","$1 $2 $3",["2"]],["(...)(....)","$1 $2",["43[124-7]|70[1-9]"]],["(...)(...)(..)","$1 $2 $3",["43[124-7]|70[1-9]"]],["(...)(..)(...)","$1 $2 $3",["[78]00"]],["(...)(...)(...)","$1 $2 $3",["999"]],["(..)(...)(...?)","$1 $2 $3",["[356]|4[124-7]|7[1-9]|8[1-6]|9[1-7]"]],["(..)(...)(....?)","$1 $2 $3",["48|8[7-9]|9[08]"]]]]',370:'[[8],[["([34].)(......)","$1 $2",["37|4(?:1|5[45]|6[2-4])"]],["([3-6]..)(.....)","$1 $2",["3[148]|4(?:[24]|6[09])|528|6"]],["([7-9]..)(..)(...)","$1 $2 $3",["[7-9]"]],["(5)(2..)(....)","$1 $2 $3",["52[0-79]"]]]]',371:'[[8],[["([2689].)(...)(...)","$1 $2 $3",[]]]]',372:'[[7,8],[["([3-79]..)(....)","$1 $2",["[369]|4[3-8]|5(?:[0-2]|5[0-478]|6[45])|7[1-9]","[369]|4[3-8]|5(?:[02]|1(?:[0-8]|95)|5[0-478]|6(?:4[0-4]|5[1-589]))|7[1-9]"]],["(70)(..)(....)","$1 $2 $3",["70"]],["(8000)(...)(...)","$1 $2 $3",["800","8000"]],["([458]...)(....?)","$1 $2",["40|5|8(?:00|[1-5])","40|5|8(?:00[1-9]|[1-5])"]]]]',373:'[[8],[["(..)(...)(...)","$1 $2 $3",["22|3"]],["([25-7]..)(..)(...)","$1 $2 $3",["2[13-9]|[5-7]"]],["([89]..)(.....)","$1 $2",["[89]"]]]]',374:'[[8],[["(..)(......)","$1 $2",["1|47"]],["(..)(......)","$1 $2",["4[1349]|[5-7]|9[1-9]"]],["(...)(.....)","$1 $2",["[23]"]],["(...)(..)(...)","$1 $2 $3",["8|90"]]]]',375:'[[9],[["(..)(...)(..)(..)","$1 $2-$3-$4",["17[0-3589]|2[4-9]|[34]","17(?:[02358]|1[0-2]|9[0189])|2[4-9]|[34]"]],["(...)(..)(..)(..)","$1 $2-$3-$4",["1(?:5[24]|6[235]|7[467])|2(?:1[246]|2[25]|3[26])","1(?:5[24]|6(?:2|3[04-9]|5[0346-9])|7(?:[46]|7[37-9]))|2(?:1[246]|2[25]|3[26])"]],["(....)(..)(...)","$1 $2-$3",["1(?:5[169]|6[3-5]|7[179])|2(?:1[35]|2[34]|3[3-5])","1(?:5[169]|6(?:3[1-3]|4|5[125])|7(?:1[3-9]|7[0-24-6]|9[2-7]))|2(?:1[35]|2[34]|3[3-5])"]],["([89]..)(...)(....)","$1 $2 $3",["8[01]|9"]],["(82.)(....)(....)","$1 $2 $3",["82"]],["(800)(...)","$1 $2",["800"]],["(800)(..)(...?.?)","$1 $2 $3",["800"]]]]',376:'[[6,9],[["(...)(...)","$1 $2",["[1357-9]|6[0-8]"]],["(....)(....)","$1 $2",["180","180[02]"]],["(...)(...)(...)","$1 $2 $3",["690"]]]]',377:'[[8,9],[["(..)(..)(..)(..)","$1 $2 $3 $4",["[39]"]],["(..)(...)(...)","$1 $2 $3",["4"]],["(6)(..)(..)(..)(..)","$1 $2 $3 $4 $5",["6"]],["(...)(...)(..)","$1 $2 $3",["8"]]]]',378:'[[8],[["(..)(..)(..)(..)","$1 $2 $3 $4",["[5-7]"]],["(0549)(......)","($1) $2",["0"]],["(......)","(0549) $1",["[89]"]]]]',379:"[[10],[]]",380:'[[9],[["([3-9].)(...)(....)","$1 $2 $3",["[38]9|4(?:[45][0-5]|87)|5(?:0|6[37]|7[37])|6[36-8]|7|9[1-9]","[38]9|4(?:[45][0-5]|87)|5(?:0|6(?:3[14-7]|7)|7[37])|6[36-8]|7|9[1-9]"]],["([3-689]..)(...)(...)","$1 $2 $3",["3[1-8]2|4[13678]2|5(?:[12457]2|6[24])|6(?:[49]2|[12][29]|5[24])|8[0-8]|90","3(?:[1-46-8]2[013-9]|52)|4(?:[1378]2|62[013-9])|5(?:[12457]2|6[24])|6(?:[49]2|[12][29]|5[24])|8[0-8]|90"]],["([3-6]...)(.....)","$1 $2",["3(?:5[013-9]|[1-46-8])|4(?:[137][013-9]|6|[45][6-9]|8[4-6])|5(?:[1245][013-9]|6[0135-9]|3|7[4-6])|6(?:[49][013-9]|5[0135-9]|[12][13-8])","3(?:5[013-9]|[1-46-8](?:22|[013-9]))|4(?:[137][013-9]|6(?:[013-9]|22)|[45][6-9]|8[4-6])|5(?:[1245][013-9]|6(?:3[02389]|[015689])|3|7[4-6])|6(?:[49][013-9]|5[0135-9]|[12][13-8])"]]]]',381:'[[8,9,10],[["([23]..)(.....?.?.?.?.?)","$1 $2",["(?:2[389]|39)0"]],["([1-3].)(......?.?.?.?.?)","$1 $2",["1|2(?:[0-24-7]|[389][1-9])|3(?:[0-8]|9[1-9])"]],["(6.)(.......?.?)","$1 $2",["6"]],["([89]..)(....?.?.?.?.?.?)","$1 $2",["[89]"]],["(7[26])(.....?.?.?.?.?)","$1 $2",["7[26]"]],["(7[08].)(.....?.?.?.?.?)","$1 $2",["7[08]"]]]]',382:'[[8,9],[["(..)(...)(...)","$1 $2 $3",["[2-57-9]|6[036-9]"]]]]',383:'[[8],[["(..)(...)(...)","$1 $2 $3",["[23][89]|4[3-79]"]],["(...)(.....)","$1 $2",["[89]00"]],["(...)(...)(...)","$1 $2 $3",[]]]]',385:'[[8,9],[["(1)(....)(...)","$1 $2 $3",["1"]],["([2-5].)(...)(....?)","$1 $2 $3",["[2-5]"]],["(9.)(...)(....?)","$1 $2 $3",["9"]],["(6[01])(..)(...?)","$1 $2 $3",["6[01]"]],["([67].)(...)(....?)","$1 $2 $3",["[67]"]],["(80[01])(..)(...?)","$1 $2 $3",["8"]],["(80[01])(...)(...)","$1 $2 $3",["8"]]]]',386:'[[8],[["(.)(...)(..)(..)","$1 $2 $3 $4",["[12]|3[24-8]|4[24-8]|5[2-8]|7[3-8]"]],["([3-7].)(...)(...)","$1 $2 $3",["[37][01]|4[0139]|51|6"]],["([89][09])(....?.?.?)","$1 $2",["[89][09]"]],["([58]..)(.....)","$1 $2",["59|8[1-3]"]]]]',387:'[[8,9],[["(..)(...)(...)","$1 $2-$3",["[3-5]"]],["(..)(...)(...)","$1 $2 $3",["6[1-356]|[7-9]"]],["(..)(..)(..)(...)","$1 $2 $3 $4",["6[047]"]]]]',389:'[[8],[["(2)(...)(....)","$1 $2 $3",["2"]],["([347].)(...)(...)","$1 $2 $3",["[347]"]],["([58]..)(.)(..)(..)","$1 $2 $3 $4",["[58]"]]]]',420:'[[9],[["([2-9]..)(...)(...)","$1 $2 $3",["[2-8]|9[015-7]"]],["(96.)(...)(...)(...)","$1 $2 $3 $4",["96"]],["(9.)(...)(...)(...)","$1 $2 $3 $4",["9[36]"]]]]',421:'[[9],[["(2)(1[67])(....?)","$1 $2 $3",["21[67]"]],["([3-5].)(1[67])(...?)","$1 $2 $3",["[3-5]"]],["(2)(...)(...)(..)","$1/$2 $3 $4",["2"]],["([3-5].)(...)(..)(..)","$1/$2 $3 $4",["[3-5]"]],["([689]..)(...)(...)","$1 $2 $3",["[689]"]],["(9090)(...)","$1 $2",["9090"]]]]',423:'[[7],[["(...)(..)(..)","$1 $2 $3",["[23789]"]],["(...)(...)(...)","$1 $2 $3",["6[56]"]],["(69)(7..)(....)","$1 $2 $3",["697"]]]]',500:"[[5],[]]",501:'[[7],[["(...)(....)","$1-$2",["[2-8]"]],["(0)(800)(....)(...)","$1-$2-$3-$4",["0"]]]]',502:'[[8],[["(....)(....)","$1 $2",["[2-7]"]],["(....)(...)(....)","$1 $2 $3",["1"]]]]',503:'[[8],[["(....)(....)","$1 $2",["[267]"]],["(...)(....)","$1 $2",["[89]"]],["(...)(....)(....)","$1 $2 $3",["[89]"]]]]',504:'[[8],[["(....)(....)","$1-$2",[]]]]',505:'[[8],[["(....)(....)","$1 $2",[]]]]',506:'[[8],[["(....)(....)","$1 $2",["[24-7]|8[3-9]"]],["(...)(...)(....)","$1-$2-$3",["[89]0"]]]]',507:'[[8],[["(...)(....)","$1-$2",["[1-57-9]"]],["(....)(....)","$1-$2",["6"]]]]',508:'[[6],[["([45].)(..)(..)","$1 $2 $3",[]]]]',509:'[[8],[["(..)(..)(....)","$1 $2 $3",[]]]]',590:'[[9],[["([56]90)(..)(....)","$1 $2-$3",[]]]]',591:'[[8],[["([234])(.......)","$1 $2",["[234]"]],["([67].......)","$1",["[67]"]]]]',592:'[[7],[["(...)(....)","$1 $2",[]]]]',593:'[[8,9],[["(.)(...)(....)","$1-$2-$3",["[247]|[356][2-8]"]],["(..)(...)(....)","$1 $2 $3",["9"]],["(1800)(...)(....?)","$1 $2 $3",["1"]]]]',594:'[[9],[["(...)(..)(..)(..)","$1 $2 $3 $4",[]]]]',595:'[[9],[["(..)(.....)","$1 $2",["(?:[26]1|3[289]|4[124678]|7[123]|8[1236])"]],["(..)(...)(....?)","$1 $2 $3",["(?:[26]1|3[289]|4[124678]|7[123]|8[1236])"]],["(...)(....?.?.?)","$1 $2",["[2-9]0"]],["(...)(......)","$1 $2",["9[1-9]"]],["(..)(...)(....)","$1 $2 $3",["8700"]],["(...)(.....?)","$1 $2",["[2-8][1-9]"]],["(...)(...)(...)","$1 $2 $3",["[2-8][1-9]"]]]]',596:'[[9],[["(...)(..)(..)(..)","$1 $2 $3 $4",[]]]]',597:'[[7],[["(...)(...)","$1-$2",["[2-4]|5[2-58]"]],["(..)(..)(..)","$1-$2-$3",["56"]],["(...)(....)","$1-$2",["[6-8]"]]]]',598:'[[8],[["(....)(....)","$1 $2",["[24]"]],["(..)(...)(...)","$1 $2 $3",["9[1-9]"]],["(...)(....)","$1 $2",["[89]0"]]]]',599:'[[7,8],[["(...)(....)","$1 $2",["[13-7]"]],["(9)(...)(....)","$1 $2 $3",["9"]]]]',670:'[[8],[["(...)(....)","$1 $2",["[2-489]"]],["(....)(....)","$1 $2",["7"]]]]',672:'[[5,6],[["(..)(....)","$1 $2",["1"]],["(.)(.....)","$1 $2",["3"]]]]',673:'[[7],[["([2-578]..)(....)","$1 $2",[]]]]',674:'[[7],[["(...)(....)","$1 $2",[]]]]',675:'[[7,8],[["(...)(....)","$1 $2",["[13-689]|27"]],["(....)(....)","$1 $2",["20|7"]]]]',676:'[[7],[["(..)(...)","$1-$2",["[1-6]|7[0-4]|8[05]"]],["(...)(....)","$1 $2",["7[5-9]|8[47-9]"]],["(....)(...)","$1 $2",["0"]]]]',677:'[[7],[["(..)(.....)","$1 $2",["[7-9]"]]]]',678:'[[7],[["(...)(....)","$1 $2",["[579]"]]]]',679:'[[7],[["(...)(....)","$1 $2",["[35-9]"]],["(....)(...)(....)","$1 $2 $3",["0"]]]]',680:'[[7],[["(...)(....)","$1 $2",[]]]]',681:'[[6],[["(..)(..)(..)","$1 $2 $3",[]]]]',682:'[[5],[["(..)(...)","$1 $2",[]]]]',683:"[[4],[]]",685:'[[6,7],[["(8..)(....?)","$1 $2",["8"]],["(7.)(.....)","$1 $2",["7"]],["(.....)","$1",["[2-6]"]]]]',686:"[[8],[]]",687:'[[6],[["(..)(..)(..)","$1.$2.$3",["[2-46-9]|5[0-4]"]]]]',688:"[[6,7],[]]",689:'[[6,8],[["(..)(..)(..)(..)","$1 $2 $3 $4",["4[09]|8[79]"]],["(..)(..)(..)","$1 $2 $3",["44"]]]]',690:"[[4,5,6,7],[]]",691:'[[7],[["(...)(....)","$1 $2",[]]]]',692:'[[7],[["(...)(....)","$1-$2",[]]]]',850:'[[10],[["(...)(...)(....)","$1 $2 $3",["1"]],["(.)(...)(....)","$1 $2 $3",["2"]],["(..)(...)(...)","$1 $2 $3",["8"]]]]',852:'[[8],[["(....)(....)","$1 $2",["[235-7]|[89](?:0[1-9]|[1-9])"]],["(800)(...)(...)","$1 $2 $3",["800"]],["(900)(..)(...)(...)","$1 $2 $3 $4",["900"]],["(900)(...?.?.?)","$1 $2",["900"]]]]',853:'[[8],[["([268]...)(....)","$1 $2",[]]]]',855:'[[8,9],[["(..)(...)(....?)","$1 $2 $3",["1.[1-9]|[2-9]"]],["(1[89]00)(...)(...)","$1 $2 $3",["1[89]0"]]]]',856:'[[10],[["(20)(..)(...)(...)","$1 $2 $3 $4",["20"]],["([2-8].)(...)(...)","$1 $2 $3",["2[13]|3[14]|[4-8]"]],["(30)(..)(..)(...)","$1 $2 $3 $4",["30"]]]]',880:'[[10],[["(2)(........?)","$1-$2",["2"]],["(..)(.....?.?)","$1-$2",["[3-79]1"]],["(....)(....?.?.?)","$1-$2",["1|3(?:0|[2-58]2)|4(?:0|[25]2|3[23]|[4689][25])|5(?:[02-578]2|6[25])|6(?:[0347-9]2|[26][25])|7[02-9]2|8(?:[023][23]|[4-7]2)|9(?:[02][23]|[458]2|6[016])"]],["(...)(....?.?.?.?)","$1-$2",["[3-79][2-9]|8"]]]]',886:'[[9],[["(20)(.)(....)","$1 $2 $3",["202"]],["(20)(...)(....)","$1 $2 $3",["20[013-9]"]],["([2-8])(....?)(....)","$1 $2 $3",["2[23-8]|[3-6]|[78][1-9]"]],["([89]..)(...)(...)","$1 $2 $3",["80|9"]],["(70)(....)(....)","$1 $2 $3",["70"]]]]',960:'[[7],[["(...)(....)","$1-$2",["[3467]|9(?:[1-9]|0[1-9])"]],["(...)(...)(....)","$1 $2 $3",["[89]00"]]]]',961:'[[7,8],[["(.)(...)(...)","$1 $2 $3",["[13-6]|7(?:[2-57]|62|8[0-7]|9[04-9])|8[02-9]|9"]],["([7-9].)(...)(...)","$1 $2 $3",["[89][01]|7(?:[01]|6[013-9]|8[89]|9[1-3])"]]]]',962:'[[9],[["(.)(...)(....)","$1 $2 $3",["[2356]|87"]],["(7)(....)(....)","$1 $2 $3",["7[457-9]"]],["(...)(......?)","$1 $2",["70|8[0158]|9"]]]]',963:'[[9],[["(..)(...)(....?)","$1 $2 $3",["[1-5]"]],["(9..)(...)(...)","$1 $2 $3",["9"]]]]',964:'[[9,10],[["(1)(...)(....)","$1 $2 $3",["1"]],["([2-6].)(...)(....?)","$1 $2 $3",["[2-6]"]],["(7..)(...)(....)","$1 $2 $3",["7"]]]]',965:'[[8],[["(....)(....?)","$1 $2",["[16]|2(?:[0-35-9]|4[0-35-9])|9[024-9]|52[25]"]],["(...)(.....)","$1 $2",["244|5(?:[015]|66)"]]]]',966:'[[9],[["([1-467])(...)(....)","$1 $2 $3",["[1-467]"]],["(1.)(...)(....)","$1 $2 $3",["1[1-467]"]],["(5.)(...)(....)","$1 $2 $3",["5"]],["(92..)(.....)","$1 $2",["92"]],["(800)(...)(....)","$1 $2 $3",["80"]],["(811)(...)(....?)","$1 $2 $3",["81"]]]]',967:'[[9],[["([1-7])(...)(....?)","$1 $2 $3",["[1-6]|7[24-68]"]],["(7..)(...)(...)","$1 $2 $3",["7[0137]"]]]]',968:'[[8],[["(2.)(......)","$1 $2",["2"]],["([79]...)(....)","$1 $2",["[79]"]],["([58]00)(.....?.?)","$1 $2",["[58]"]]]]',970:'[[9],[["([2489])(2..)(....)","$1 $2 $3",["[2489]"]],["(5[69].)(...)(...)","$1 $2 $3",["5"]],["(1[78]00)(...)(...)","$1 $2 $3",["1[78]"]]]]',971:'[[9],[["([2-4679])(...)(....)","$1 $2 $3",["[2-4679][2-8]"]],["(5.)(...)(....)","$1 $2 $3",["5"]],["([479]00)(.)(.....)","$1 $2 $3",["[479]0"]],["([68]00)(...?.?.?.?.?.?.?)","$1 $2",["60|8"]]]]',972:'[[9],[["([2-489])(...)(....)","$1-$2-$3",["[2-489]"]],["([57].)(...)(....)","$1-$2-$3",["[57]"]],["(153)(..?)(...)(....)","$1 $2 $3 $4",["153"]],["(1)([7-9]..)(...)(...)","$1-$2-$3-$4",["1[7-9]"]],["(1255)(...)","$1-$2",["125"]],["(1200)(...)(...)","$1-$2-$3",["120"]],["(1212)(..)(..)","$1-$2-$3",["121"]],["(1599)(......)","$1-$2",["15"]],["(....)","*$1",["[2-689]"]]]]',973:'[[8],[["(....)(....)","$1 $2",[]]]]',974:'[[8],[["([28]..)(....)","$1 $2",["[28]"]],["([3-7]...)(....)","$1 $2",["[3-7]"]]]]',975:'[[8],[["(..)(..)(..)(..)","$1 $2 $3 $4",["1|77"]],["([2-8])(...)(...)","$1 $2 $3",["[2-68]|7[246]"]]]]',976:'[[8],[["([12].)(..)(....)","$1 $2 $3",["[12]1"]],["([12]2.)(......?)","$1 $2",["[12]2[1-3]"]],["([12]...)(.....)","$1 $2",["[12](?:27|[3-5])","[12](?:27|[3-5].)2"]],["(....)(....)","$1 $2",["[57-9]"]],["([12]....)(.....?)","$1 $2",["[12](?:27|[3-5])","[12](?:27|[3-5].)[4-9]"]]]]',977:'[[10],[["(1)(.......)","$1-$2",["1[2-6]"]],["(..)(......)","$1-$2",["1[01]|[2-8]|9(?:[1-69]|7[15-9])"]],["(9..)(.......)","$1-$2",["9(?:6[013]|7[245]|8)"]]]]',992:'[[9],[["([349]..)(..)(....)","$1 $2 $3",["[34]7|91[78]"]],["([457-9].)(...)(....)","$1 $2 $3",["4[148]|[578]|9(?:1[59]|[0235-9])"]],["(331700)(.)(..)","$1 $2 $3",["331","3317","33170","331700"]],["(....)(.)(....)","$1 $2 $3",["3[1-5]","3(?:[1245]|3(?:[02-9]|1[0-589]))"]]]]',993:'[[8],[["(..)(..)(..)(..)","$1 $2-$3-$4",["12"]],["(..)(......)","$1 $2",["6"]],["(...)(.)(..)(..)","$1 $2-$3-$4",["13|[2-5]"]]]]',994:'[[9],[["(..)(...)(..)(..)","$1 $2 $3 $4",["(?:1[28]|2(?:[45]2|[0-36])|365)"]],["(..)(...)(..)(..)","$1 $2 $3 $4",["[4-8]"]],["(...)(..)(..)(..)","$1 $2 $3 $4",["9"]]]]',995:'[[9],[["(...)(..)(..)(..)","$1 $2 $3 $4",["[348]"]],["(...)(...)(...)","$1 $2 $3",["7"]],["(...)(..)(..)(..)","$1 $2 $3 $4",["5"]]]]',996:'[[9],[["(...)(...)(...)","$1 $2 $3",["[25-7]|31[25]"]],["(....)(.....)","$1 $2",["3(?:1[36]|[2-9])"]],["(...)(...)(.)(...)","$1 $2 $3 $4",["8"]]]]',998:'[[7,8,9],[["([679].)(...)(..)(..)","$1 $2 $3 $4",[]]]]'}},bbegbfcgh:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=n(a("ddhijeejag")),u=i(a("cfaiaibca")),f=i(a("bbchdeehff")),h=i(a("hfjchijff")),p=i(a("jheedhagg")),g=i(a("djhbegbdaf")),m=i(a("ihfccfgdf")),b=i(a("ieddhhghi")),v=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).onViewContact=function(){f.default.openDrawerRight(l.createElement(h.default,{chat:a.props.chat}),"slide-left",a.props.uim)},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=this.props,t=e.chat,a=e.dismissVCardPanel,n=t.receivedVCardMsgs;return l.createElement("div",{className:b.default.vcard},l.createElement(g.default,{id:494,plural:n.length}),l.createElement("div",{className:b.default.controls},l.createElement(u.default,{onClick:this.onViewContact,type:"plain-white"},l.createElement(g.default,{id:1153,plural:n.length})),l.createElement(u.default,{onClick:a,type:"plain-white"},l.createElement(g.default,{id:881}))))}}]),t}(l.PureComponent);v.CONCERNS={chat:["receivedVCardMsgs"]};var j=(0,p.default)((0,m.default)(v,v.CONCERNS));t.default=j},bbegjdfcja:function(e,t,a){var n=a("eaidjcib"),i=a("dgcdacjddi"),r=a("baagejbchg"),o=a("dgjacfgggf"),s=a("bgabgddgch"),d=a("dhdiigfejc");var c=function(){"use strict";function e(){n(this,e)}return i(e,null,[{key:"fileToPdf",value:function(e){var t=URL.createObjectURL(e);return Promise.loop(function(e,t,n){var i=Promise.delay(s.expBackoff(n,12e4,0,0));return new Promise(function(t,n){a.e(132).then(function(n){var i=a("bgdajhffca");i.GlobalWorkerOptions.workerSrc=d,e(i),t(i)}.bind(null,a)).catch(a.oe)}).catch(function(e){return i})}).then(function(e){return e.getDocument(t)})}},{key:"releasePdf",value:function(e){return e.destroy()}},{key:"pdfToImg",value:function(e,t){var a=document.createElement("canvas");return e.getPage(t).then(function(e){var t=e.getViewport(1),n=a.getContext("2d");a.height=t.height,a.width=t.width;var i={canvasContext:n,viewport:t};return e.render(i)}).then(function(){return o.canvasToBlob(a)}).then(function(t){var n=a.height,i=a.width,s=URL.createObjectURL(t);return Promise.props({url:s,thumbUrl:o.rotateAndResize(a,r.DOC_THUMB_MAX_EDGE,o.DATA_URL).then(function(e){return e.images.dataUrl}),width:i,height:n,pdfPages:e.numPages})})}}]),e}();e.exports=c},bbehjhfdfe:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!r.default.me.equals(e.id)){var a=o.default.get(e.id);a&&("unsubscribe"===e.type?a.set({isSubscribed:!1,stale:!0}):(!function(e,t){var a,n=!1;void 0===t.type?t.type=e.chatstate.type||"unavailable":"paused"===t.type&&(n=!0,t.type="available");e.isGroup&&"available"!==t.type&&(t.updateTime=Date.now());if(e.isGroup){if(!t.participant)return;t.id=t.participant,t.participant=void 0,a=e.chatstates.gadd(t.id)}else a=e.chatstate;n&&"composing"!==a.type&&"recording"!==a.type||a.set(t);a.expireTimerId&&clearTimeout(a.expireTimerId);"composing"===a.type||"recording"===a.type?a.expireTimerId=setTimeout(function(){return function(e){var t=e.type;"composing"!==t&&"recording"!==t||(e.type="available")}(a)},i.default.PRESENCE_COMPOSING_TIMEOUT):a.expireTimerId=void 0;var r=e.forceDisplay||e.isOnline||e.isUser&&!e.chatstate.deny;e.set({hasData:!0,forceDisplay:r})}(a,e),t&&a.set({stale:!1})))}return Promise.resolve()};var i=n(a("baagejbchg")),r=n(a("bjigbaghc")),o=n(a("ebbjbbjjg"))},bbeifbebhh:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=n(a("ddhijeejag")),u=i(a("bfifighhia")),f=i(a("dfehedcfdb")),h=i(a("djidjciehe")),p=i(a("gjhhbhigc")),g=i(a("dfaebdhdda")),m=i(a("bahjhjjhfe")),b=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,(0,d.default)(t).apply(this,arguments))}return(0,c.default)(t,e),(0,o.default)(t,null,[{key:"jsx",value:function(e,t,a){var n=a.selectable,i=void 0!==n&&n,r=t.href,o=t.suspiciousCharacters;return o&&o.size?l.createElement(m.default,{link:t,selectable:i},e):l.createElement(h.default,{href:r,selectable:i},e)}}]),t}(p.default);function v(e){var t=e.index,a=t+e.url.length-1;return[t,t,a,a,e]}function j(e,t){for(var a=0,n=0;a<e.length&&n<t.length;){var i=t[n][3]-e[a][3];if(i>0)a++;else if(i<0)n++;else{e[a][2]--,e[a][3]--;var r=e[a][5];r.href=r.href.slice(0,-1),r.path=r.path&&r.path.slice(0,-1),r.url=r.url.slice(0,-1),n++,a++}}}t.default=b,b.format=!1,b.match=function(e,t,a){if(!t)return[];var n=t.links;return(void 0===n?[]:n).map(v)},b.conflictResolvers=new Map([[u.default,j],[f.default,j],[g.default,j]])},bbfiaehhcd:function(e,t){e.exports={tab:"_2Bfgm",menu:"_2MyYN",carousel:"_2gwVC",carouselEnd:"_3-2hi",selected:"_2wn58"}},bbgehjjjbb:function(e,t,a){"use strict";var n=a("cfjecfhbfg"),i=n(a("dgdjiicfdg")),r=n(a("bgeajihhc")),o={findGroupPendingInvitesFromPhone:function(e,t){var a=this;return new Promise(function(n,i){var r=a.queryNode({type:"group",kind:"invite",from:e,jid:t},[]);a.binSend("sendEphemeral",r,i,{onSend:a.binWrap(function(e){a.BinaryProtocol.read(e).then(function(e){if("response"===a.N.tag(e)&&"group"===a.N.attr("type",e)){var t=a.N.children(e),i=t&&t[0];if(i){var r=[],o=a.N.children(i);Array.isArray(o)&&o.forEach(function(e){switch(a.N.tag(e)){case"participant":r.push({id:a.N.attr("jid",e)})}}),n({participants:r})}else n({status:"error",info:"bad format: no group node"})}else n({status:"error",info:"bad format: response incorrect"})}).catch(i)},n),onDrop:a.wrap(i)},{debugString:"query,group_pending_invite",metricName:"QUERY_GROUP",ackRequest:!1})})},acceptGroupV4Invite:function(e,t,a,n,o){var s=this;return new Promise(function(d,c){var l=r.default.tag(),u=s.wrap(d);u.tag=l;var f=["group",{id:l,author:o,jid:e,type:"accept"},[["accept",{admin:t,expiration:n,code:a},void 0]]],h=s.actionNode("set",[f]);s.binSend("send",h,c,{clientCacheable:!0,onSend:u,onDrop:s.wrap(c)},{debugString:"action,group_invite_accept,",ackRequest:!1,expires:(0,i.default)().unix()})})},revokeGroupV4Invite:function(e,t,a){var n=this;return new Promise(function(o,s){var d=r.default.tag(),c=n.wrap(o);c.tag=d;var l=e.map(function(e){return["participant",{jid:e},void 0]}),u=["group",{id:d,author:a,jid:t,type:"revoke"},l],f=n.actionNode("set",[u]);n.binSend("send",f,s,{clientCacheable:!0,onSend:c,onDrop:n.wrap(s)},{debugString:"action,group_invite_revoke,",ackRequest:!1,expires:(0,i.default)().unix()})})},parseInviteUpdate(e){var t=[],a=[this.N.attr("kind",e),this.N.attr("jid",e),this.N.attr("type",e)],n=a[1];if("update"===a[0]&&"invite"===a[2]&&void 0!==n){for(var i=this.N.children(e),r=0;r<i.length;r++){var o=i[r];"participant"===this.N.tag(o)&&t.push(this.N.attr("jid",o))}return{gid:n,participants:t}}}};e.exports=o},bbhahjgijh:function(e,t,a){"use strict";function n(e,t){return e===t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:n;if(e===t)return!0;if(e.length!==t.length)return!1;return e.every(function(e,n){return a(e,t[n])})}},bbhdaaahah:function(e,t){e.exports={tooltip:"_2KuNh","tooltip-left-ltr":"_1hDS8",tooltipLeftLtr:"_1hDS8","tooltip-left-rtl":"_2ehMR",tooltipLeftRtl:"_2ehMR"}},bbhdgdbggg:function(e,t){e.exports={container:"_3IHPx",image:"_3ktqx",body:"_3WHNc",badge:"_27UdA",name:"_2nJlj",address:"_3AuNx",description:"bfgpN"}},bbhejgbajf:function(e,t,a){"use strict";var n=a("cfjecfhbfg"),i=n(a("dbajccegac")),r=n(a("jajcehbed"));e.exports=function(e){return Promise.all(e.map(function(e){return function(e){var t;return new Promise(function(a,n){(t=new FileReader).addEventListener("loadend",function(){a(i.default.build(t.result))}),t.addEventListener("error",function(e){return n(e)}),t.readAsArrayBuffer(e)})}(e.blob)})).then(function(t){var a,n=new r.default;return t.forEach(function(t,a){return n.add(t,e[a].name)}),a=n.create(),new Blob([a.readByteArray()],{type:"application/zip"})})}},bbhhbdicgc:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.UnknownDataError=t.DEFAULT_ITEM_HEIGHT=t.DEFAULT_ITEM_WIDTH=void 0;var r=i(a("bhabhhjdch")),o=i(a("dgcdacjddi")),s=i(a("eaidjcib")),d=i(a("ffceefejc")),c=i(a("cjedcdbdii")),l=i(a("dbjagcfebh")),u=i(a("eaaagccfda")),f=i(a("ceffhbhahb")),h=n(a("ddhijeejag")),p=i(a("iffjgahba")),g=i(a("dcbafbbijj")),m=i(a("bebjeaagc")),b=i(a("bdigfbgefi")),v=i(a("bbagfcaiaf")),j=i(a("dfafdjbjfd")),E=i(a("didfdhbecg"));function y(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function _(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?y(Object(a),!0).forEach(function(t){(0,r.default)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):y(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}t.DEFAULT_ITEM_WIDTH=72;t.DEFAULT_ITEM_HEIGHT=72;var S=150,C=function(e){function t(e){return(0,s.default)(this,t),(0,d.default)(this,(0,c.default)(t).call(this,"Unknown data encountered while rendering. Item key: ".concat(e.itemKey)))}return(0,l.default)(t,e),t}((0,p.default)("UnknownDataError"));t.UnknownDataError=C;var A=function(e){function t(){var e,a;(0,s.default)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=(0,d.default)(this,(e=(0,c.default)(t)).call.apply(e,[this].concat(i)))).keyPool=new b.default,a.scrollFromStart=0,a.offsetFromStart=0,a.bodyDimension=0,a.listLength=0,a.hanging=!1,a.pointerEvents=!0,a.setRefList=function(e){a.refList=e},a.state={firstIndex:0,lastIndex:0,renderedListLength:0},a.setListLength=function(){a.setState({renderedListLength:a.listLength})},a.getListLength=function(){return a.state.renderedListLength},a.getDimension=function(e,t){return"horizontal"===t?a.getItemWidth(e):a.getItemHeight(e)},a.getItemWidth=function(e){return null!=e.width&&e.width>0?e.width:a.props.defaultItemWidth},a.getItemHeight=function(e){return null!=e.height&&e.height>0?e.height:a.props.defaultItemHeight},a.onLayout=function(e){var t=a.refList;if(t){var n="horizontal"===a.props.direction?t.getBoundingClientRect().left-e.position.left:t.getBoundingClientRect().top-e.position.top,i=Math.max(n,0);a.bodyDimension="horizontal"===a.props.direction?e.width:e.height,a.offsetFromStart=i,a.setState(a.computeIndexes(a.props))}},a.onScroll=function(){a.animationFrame?a.hanging=!0:(a.hanging=!1,a.animationFrame=requestAnimationFrame(a._onScroll))},a._onScroll=function(){a.disablePointerEvents();var e=a.state,t=e.firstIndex,n=e.lastIndex,i=a.props.flatListController.getScrollFromStart();if(null==i)throw new Error("FlatList:ScrollEvent thrown while container is unmounted");a.scrollFromStart=Math.max(i,0);var r=a.computeIndexes(a.props);if(t===r.firstIndex&&n===r.lastIndex)return a.onFinishScroll();a.setState(r,a.onFinishScroll)},a.onFinishScroll=function(){a.animationFrame=void 0,a.enablePointerEvents(),a.hanging&&a.onScroll()},a.enablePointerEvents=(0,u.default)(function(){if(a.animationFrame)return a.enablePointerEvents();null!=a.busyId&&(m.default.clearBusy(a.busyId),delete a.busyId),a.props.onPointerEventsOn&&a.props.onPointerEventsOn();var e=a.refList;e&&(e.style.pointerEvents="auto"),a.pointerEvents=!1},S),a}return(0,l.default)(t,e),(0,o.default)(t,[{key:"UNSAFE_componentWillMount",value:function(){this.computeData(this.props),this.setState({renderedListLength:this.listLength})}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.computeData(e);var t=this.computeIndexes(e);e.itemEnterAnimationsEnabled&&this.listLength<this.state.renderedListLength?this.setState(t):this.setState(_({},t,{renderedListLength:this.listLength}))}},{key:"componentDidMount",value:function(){this.props.flatListController.registerList({handleLayout:this.onLayout,handleScroll:this.onScroll})}},{key:"componentWillUnmount",value:function(){this.props.flatListController.unregisterList(),this.enablePointerEvents.cancel(),this.cancelScroll()}},{key:"computeData",value:function(e){var t=this,a=0;this.data=e.data.map(function(e,n){var i=_({},e,{offset:a}),r=t.getDimension(e,t.props.direction);return a+=r,i}),this.listLength=a}},{key:"computeIndexes",value:function(e){if(void 0===this.bodyDimension||void 0===this.offsetFromStart)throw new Error("FlatList:Computing FlatList without a valid Container");for(var t,a=e.extraItems,n=e.forceConsistentRenderCount,i=this.scrollFromStart,r=0,o=0;o<this.data.length;o++){var s=this.data[o],d=this.getDimension(s,this.props.direction);if(this.offsetFromStart+s.offset+d>i){r=o;break}}for(var c=n?Math.min(this.data[r].offset+this.bodyDimension,this.listLength):Math.min(i+this.bodyDimension,this.listLength+this.offsetFromStart),l=r;l<this.data.length;l++){var u=this.data[l],f=this.getDimension(u,this.props.direction);if(this.offsetFromStart+u.offset+f>=c){t=l;break}}var h=a,p=a-r;p>0&&(h+=p);var g=a,m=t+a-this.data.length;return m>0&&(g+=m),{firstIndex:Math.max(r-g,0),lastIndex:Math.min(t+h,this.data.length-1)}}},{key:"cancelScroll",value:function(){this.animationFrame&&(cancelAnimationFrame(this.animationFrame),this.animationFrame=void 0,this.hanging=!1)}},{key:"disablePointerEvents",value:function(){if(this.busyId=m.default.setBusy(this.busyId),!this.pointerEvents){this.props.onPointerEventsOff&&this.props.onPointerEventsOff();var e=this.refList;e&&(e.style.pointerEvents="none"),this.pointerEvents=!0}}},{key:"scrollIntoViewIfNeeded",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(e<0||e>=this.data.length)throw new Error("Invalid Index.");var a=this.data[e].offset;(a<this.scrollFromStart-t||a>this.scrollFromStart+this.bodyDimension+t)&&this.props.flatListController.setScrollFromStart(a)}},{key:"getComponents",value:function(){var e=this,t=this.props,a=t.reorderAnimationsEnabled,n=t.renderItem,i=this.state,r=i.firstIndex,o=i.lastIndex,s=this.data.slice(r,o+1);return this.keyPool.recycleKeysAndMap(s).map(function(t,i){var r=t.rctKey,o=t.data,s="horizontal"===e.props.direction?{width:e.getItemWidth(o)}:{height:e.getItemHeight(o)};return h.createElement(j.default,{key:r,data:_({},o,{},s),animate:!!a&&v.default.shouldAnimate,zIndex:e.data.length-i-1,renderItem:n,listDirection:e.props.direction})})}},{key:"render",value:function(){var e="horizontal"===this.props.direction?{width:this.state.renderedListLength}:{height:this.state.renderedListLength};return h.createElement("div",{className:(0,f.default)(this.props.className),ref:this.setRefList},h.createElement("div",{className:(0,f.default)(g.default.viewport,{[g.default.horizontalListViewport]:"horizontal"===this.props.direction,[g.default.verticalListViewport]:"vertical"===this.props.direction}),style:e},this.props.itemEnterAnimationsEnabled?h.createElement(E.default,{transitionName:"fade",onAnimationComplete:this.setListLength},this.getComponents()):this.getComponents()))}}]),t}(h.Component);t.default=A,A.defaultProps={defaultItemHeight:72,defaultItemWidth:72,forceConsistentRenderCount:!0,extraItems:5,initialScrollFromStart:0,reorderAnimationsEnabled:!0}},bbiacghfif:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,a){if(!e)return;var n=[];n.push(e);for(;n.length;){var i=n.shift(),r=a(i);if(r)return i;n=n.concat(t(i))}}},bbibiacbfd:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=n(a("ddhijeejag")),u=i(a("bdbfijejbi")),f=a("cgffhfegce"),h=i(a("bdiiahhjbe")),p=a("dbjchhfjhj"),g=i(a("dicdgcbidg")),m=function(e){function t(e){var a;return(0,r.default)(this,t),(a=(0,s.default)(this,(0,d.default)(t).call(this,e))).state={animationFramesInfo:null},(0,f.blobToArrayBuffer)(a.props.blob).then(g.default).then(function(e){a.setState({animationFramesInfo:e})}).catch(function(e){h.default.error("AnimationCanvas error: ".concat(e))(e)}),a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=this.state.animationFramesInfo;if(!e)return this.props.renderPreview();var t=e.width,a=e.height,n=e.frames;return l.createElement(u.default,{className:this.props.className,width:t,height:a,animationFrames:n,startAnimation:Boolean(this.props.loopAnimation||this.props.startAnimation),maxLoops:this.props.loopAnimation?1/0:p.MAX_LOOPS,maxDuration:this.props.loopAnimation?1/0:p.MAX_DURATION,onClick:this.props.onClick})}}]),t}(l.PureComponent);t.default=m},bbijaajigb:function(e,t){e.exports={singleByte:["privacy","blacklist","whitelist","verify"]}},bbjadhadbg:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=n(a("ddhijeejag")),u=i(a("cjieghfgda")),f=i(a("ihfccfgdf")),h=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).state={},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"shouldComponentUpdate",value:function(e,t){return this.state.url!==t.url}},{key:"componentWillUnmount",value:function(){this.state.url&&u.default.decreaseUsageCount(this.props.mediaData.filehash)}},{key:"render",value:function(){return this.state.url?this.props.children(this.state.url):this.props.placeholderRenderer()}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a=e.mediaData.filehash;return a!==t.filehash&&(e.downloadMedia&&e.downloadMedia(),t.url&&(t.url=null,u.default.decreaseUsageCount(t.filehash)),t.filehash=a),t.url?t:u.default.has(a)?(u.default.increaseUsageCount(a),{url:u.default.getOrCreateURL(a),filehash:a}):t}}]),t}(l.Component);h.CONCERNS={mediaData:["filehash","mediaStage"]};var p=(0,f.default)(h,h.CONCERNS);t.default=p},bbjjjbicfb:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.intColorToHex=g,t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("bjehdcaaj")),l=i(a("dbjagcfebh")),u=n(a("dcaifjegcg")),f=i(a("ddcfhecgai")),h=i(a("bhggeigghg")),p=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).id=(0,u.prop)(),a.name=(0,u.prop)(),a.color=(0,u.prop)(),a.count=(0,u.prop)(),a.stale=(0,u.session)(!0),a.hexColor=(0,u.derived)(a._hexColor,["color"]),a}return(0,l.default)(t,e),(0,o.default)(t,[{key:"initialize",value:function(){(0,c.default)((0,d.default)(t.prototype),"initialize",this).call(this),this.labeltemColleciton=new f.default,this.triggerLabelUpdate(),this.listenTo(this,"change:name",this.triggerLabelUpdate),this.listenTo(this,"change:color",this.triggerLabelUpdate),this.listenTo(this,"change:count",this.triggerLabelUpdate)}},{key:"_hexColor",value:function(){if(this.color)return g(this.color)}},{key:"_find",value:function(e){return Promise.resolve({id:e})}},{key:"triggerLabelUpdate",value:function(){this.name&&h.default.Label.trigger("label_updated_".concat(this.id))}}]),t}(u.default);function g(e){var t=parseInt(e,10);return"#".concat((t>>>0).toString(16).slice(-6))}p.Proxy="label";var m=(0,u.defineModel)(p);t.default=m},bcadhjihfb:function(e,t){e.exports={icon:"_1ECO8"}},bcafcjajcb:function(e,t,a){"use strict";var n=a("cfjecfhbfg"),i=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.icon?r.createElement("div",{className:o.default.icon},e.icon):null;return r.createElement("div",{className:o.default.note},t,r.createElement("div",{className:o.default.noteBody},e.children))};var r=i(a("ddhijeejag")),o=n(a("dghbeeheia"))},bcajjbibcd:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=i(a("ceffhbhahb")),u=n(a("ddhijeejag")),f=n(a("dacdidjdfi")),h=i(a("ddfbaajaeh")),p=i(a("eceadcicaf")),g=function(e){function t(e){var a;(0,r.default)(this,t),(a=(0,s.default)(this,(0,d.default)(t).call(this,e))).onSelectableChange=function(){a.forceUpdate()},a.onSelectChange=function(e){a.state.selected!==e&&a.setState({selected:e})},a.onSelect=function(e){e&&e.stopPropagation();var t,n=a.props,i=n.onSelect,r=n.model;a.state.selected?(a.setState({selected:!1,partialSelected:!1}),t=!1):t=!0,i&&i(r,t,!1)};var n=a.props,i=n.multiSelection,o=n.initialSelection,c=n.model,l=!1,u=!1;switch(o){case 0:l=!1,u=!1;break;case 1:l=!0,u=!1;break;case 2:l=!0,u=!0;break;default:l=i.isSelected(c),u=!1}return a.state={selected:l,partialSelected:u,modelId:c.id.toString()},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){this.props.listeners.add(this.props.multiSelection,this.props.model.id.toString(),this.onSelectChange),this.props.selectableState&&this.props.listeners.add(this.props.selectableState,"all",this.onSelectableChange)}},{key:"componentDidUpdate",value:function(e){var t=e.model,a=e.multiSelection,n=e.listeners,i=t.id.toString(),r=this.props.model.id.toString();a&&i!==r&&(n.remove(a,i,this.onSelectChange),n.add(a,r,this.onSelectChange))}},{key:"render",value:function(){var e=this.props,t=e.theme,a=e.selectableState,n=e.children,i=(0,l.default)(h.default.checkboxChatControl,{[h.default.labelSelection]:"label-selection"===this.props.theme}),r=a&&a.isSelectable,o={};if(r&&t&&Object.assign(o,{theme:t}),r&&Object.assign(o,{noContext:!0}),!n)return null;var s=u.Children.toArray(n)[0],d="label-selection"===t?this.onSelect:null;return u.createElement("div",{className:h.default.checkboxChatWrapper,onClick:d},r&&u.createElement("div",{className:i,onClick:this.onSelect},u.createElement(f.default,{onChange:this.onSelect,checked:this.state.selected,theme:this.state.selected&&this.state.partialSelected?f.CHECKBOX_THEME.PARTIAL:void 0})),u.cloneElement(s,o))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a=t.modelId,n=e.multiSelection,i=e.model,r=i.id.toString();return n&&a!==r?{modelId:r,selected:n.isSelected(i)}:null}}]),t}(u.Component),m=(0,p.default)(g);t.default=m},bcbahjefec:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=n(a("ddhijeejag")),u=i(a("edjfhjcce")),f=i(a("cahfddcdga")),h=i(a("caffijjhc")),p=i(a("dfefggiaaf")),g=i(a("didfdhbecg")),m=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).state={_stack:[],_transition:"default",_activeKey:0,_ended:!1},a.setRefUIE=function(e){a.refUIE=e},a.popAndUpdate=function(e,t){var n=a.state._stack;if(n.length<2)a.pop(t);else{var i=l.cloneElement(n[n.length-2],e);n[n.length-2]=i,a.pop(t)}},a.push=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.props.pushTransition;a.setState({_stack:a.state._stack.concat(e),_transition:t,_activeKey:++a.state._activeKey,_ended:!1})},a.pop=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.props.popTransition,t=a.state._stack.slice(0,-1);t.length?a.setState({_stack:t,_transition:e,_activeKey:--a.state._activeKey}):a.state._ended||a.setState({_ended:!0},a.end)},a.end=function(e){a.props.onEnd?a.props.onEnd(e):(0,f.default)(a.context).uie.requestDismiss(e)},a.requestFocus=function(){},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"handleRequestDismiss",value:function(e){this.pop()}},{key:"render",value:function(){var e=this.state,t=e._stack,a=e._transition,n=e._activeKey;if(0===t.length)return null;var i=t[t.length-1];return i=l.createElement(h.default,{displayName:"FlowDrawer".concat(n),key:n,escapable:!0,ref:this.setRefUIE,requestFocus:this.requestFocus,requestDismiss:this.handleRequestDismiss.bind(this)},i),l.createElement(g.default,{transitionName:a,className:u.default.container},this.props.removeTopDrawer?i:t)}}]),t}(l.Component);t.default=m,m.contextType=p.default,m.defaultProps={removeTopDrawer:!0,pushTransition:"flow-transition-drawer-push",popTransition:"flow-transition-drawer-pop"}},bcbeeajhgb:function(e,t,a){"use strict";var n=a("cfjecfhbfg"),i=n(a("ddfeabiaci")),r=n(a("dcdifccjdh")),o=n(a("bjigbaghc")),s=a("bgiachiigg"),d=n(a("bdiiahhjbe")),c=n(a("cffajefeag")),l=n(a("cahfddcdga")),u=a("bbcaggdbc"),f={version:"13",parseMsgMessage:function(e,t){if("message"===this.N.tag(e)){var a=this.N.children(e);if(a instanceof ArrayBuffer)try{var n=u.WebMessageInfo.parse(a);return this.parseWebMessageInfo(n,t)}catch(t){return d.default.log("wmi error: ".concat(String(t)))(),void d.default.assert(!1,"parse-error","drop: failed parsing wmi")(e)}else d.default.error("drop: no bytes")(e)}else d.default.error("drop: not message")(e)},parseWebMessageInfo:function(e,t){var a=e.key,n=this.decodeJid(a.remoteJid),i=a.fromMe?n:o.default.me,r=a.fromMe?o.default.me:n,s=this.decodeJid(a.participant),u="in";if(o.default.me.equals(n)&&(u=a.fromMe?"out":"in"),"broadcast"!==i){var f;try{f=new c.default({fromMe:(0,l.default)(a.fromMe),remote:n,id:(0,l.default)(a.id),participant:s})}catch(e){return void d.default.error("drop: cannot create MsgKey: "+e.stack)()}var h={id:f,from:r,to:i,self:u,participant:s,type:"unknown",t:e.messageTimestamp||0,ack:"fresh"===t?1:e.status-1,author:this.decodeJid(e.participant),invis:!!e.ignore,star:!!e.starred,broadcast:a.fromMe&&e.broadcast,notifyName:e.pushName||"",encFilehash:this.decodeBytes(e.mediaCiphertextSha256),shareDuration:e.message&&e.message.liveLocationMessage?e.duration:void 0,labels:e.labels,ephemeralStartTimestamp:e.ephemeralStartTimestamp,ephemeralDuration:e.ephemeralDuration};return e.message?this.parseMsgProto(e.message,h,t,e.paymentInfo,e.finalLiveLocation,e.quotedPaymentInfo):this.parseMsgStubProto(e,h)}d.default.error("drop: broadcast")(e)},parseMsgStubProto:function(e,t){var a=u.WebMessageInfo.STUBTYPE;switch(e.messageStubType){case a.REVOKE:return t.type="revoked",t;case a.CIPHERTEXT:return t.type="ciphertext",t;case a.FUTUREPROOF:return t.type="unknown",t.subtype="phone",t;default:return t}},parseProtocolMessageProto:function(e,t,a){if("relay"===a){var n=t.key,i=new c.default({fromMe:n.fromMe,remote:this.decodeJid(n.remoteJid),id:n.id,participant:this.decodeJid(n.participant)});switch(e.type="protocol",t.type){case s.Message.ProtocolMessage.TYPE.REVOKE:e.subtype="revoke",e.protocolMessageKey=i;break;case s.Message.ProtocolMessage.TYPE.EPHEMERAL_SETTING:e.subtype="ephemeral_setting",e.ephemeralDuration=t.ephemeralExpiration;break;case s.Message.ProtocolMessage.TYPE.EPHEMERAL_SYNC_RESPONSE:e.subtype="ephemeral_sync_response",e.ephemeralDuration=t.ephemeralExpiration,e.ephemeralSettingTimestamp=t.ephemeralSettingTimestamp;break;default:e.subtype="unknown"}}}};e.exports=(0,i.default)(f,r.default)},bcbeebghff:function(e,t,a){"use strict";var n=a("cfjecfhbfg")(a("bdiiahhjbe")),i=["url","mediaKey","filehash","encFilehash","width","height","mimetype"],r=["url","mediaKey","filehash","encFilehash","mimetype"];function o(e,t){for(var a=0;a<t.length;a++)if(!e[t[a]])return!1;return!0}var s={mediaUpload:function(e,t){var a=this;return new Promise(function(s,d){var c=a.queryNode({type:"media",kind:e,id:t.toString()},void 0);a.binSend("sendEphemeral",c,d,{onSend:a.binWrap(function(t){a.BinaryProtocol.read(t).then(function(t){if(n.default.logColor("green","bin-recv: response,media",t)(),"response"!==a.N.tag(t)||"media"!==a.N.attr("type",t))return n.default.error("wap:mediaUpload:malformed")(),void s({status:400});var d=parseInt(a.N.attr("code",t))||200;if(200!==d)return n.default.error("wap:mediaUpload:error "+d)(),void s({status:d});switch(e){case"sticker":var c={directPath:a.N.attr("direct_path",t),url:a.N.attr("url",t),filehash:a.N.attr("filehash",t),encFilehash:a.N.attr("enc_filehash",t),mediaKey:a.N.attr("media_key",t),mimetype:a.N.attr("mimetype",t),height:a.N.attr("height",t),width:a.N.attr("width",t)};return o(c,i)?void s({status:d,sticker:c}):(n.default.error("wap:mediaUpload:missing-field")(),void s({status:400}));case"sticker-pack":var l={directPath:a.N.attr("direct_path",t),url:a.N.attr("url",t),filehash:a.N.attr("filehash",t),encFilehash:a.N.attr("enc_filehash",t),mediaKey:a.N.attr("media_key",t),mimetype:a.N.attr("mimetype",t)};return o(l,r)?void s({status:d,stickerPack:l}):(n.default.error("wap:mediaUpload:missing-field")(),void s({status:400}));case"quick-reply":throw new Error('"quick-reply" not yet implemented');default:throw new Error("unknown kind ".concat(e))}})},s),onDrop:a.wrap(d)},{debugString:"query,media",metricName:"QUERY_MEDIA",ackRequest:!1})})}};e.exports=s},bcbfebgcic:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.sendQueryGroupInviteCode=function(e){var t;if(r.default.supportsFeature(r.default.F.MD_BACKEND))return Promise.reject(new Error("queryGroupInvite: not supported when not build with MD_BACKEND"));t=o.default.groupInviteCode(e).then(function(e){return 200===e.status?e.code:Promise.reject(new i.ServerStatusCodeError(e.status))});return t},t.sendRevokeGroupInviteCode=function(e){var t;if(r.default.supportsFeature(r.default.F.MD_BACKEND))return Promise.reject(new Error("queryGroupInvite: not supported when not build with MD_BACKEND"));t=o.default.revokeGroupInvite(e).then(function(e){return 200===e.status?e.code:Promise.reject(new i.ServerStatusCodeError(e.status))});return t},t.sendJoinGroupViaInvite=function(e){var t;if(r.default.supportsFeature(r.default.F.MD_BACKEND))return Promise.reject(new Error("joinGroupViaInvite: not supported when not build with MD_BACKEND"));t=o.default.acceptGroupInvite(e).then(function(e){return 200===e.status?e.gid:Promise.reject(new i.ServerStatusCodeError(e.status))});return t};var i=a("ddjgcfjicj"),r=n(a("bjbdcigbdi")),o=n(a("bihdhbjih"))},bcbhbedgh:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=window.MediaError||{MEDIA_ERR_ABORTED:1,MEDIA_ERR_NETWORK:2,MEDIA_ERR_DECODE:3,MEDIA_ERR_SRC_NOT_SUPPORTED:4};t.default=n},bcbhcfbjff:function(e,t){e.exports={quote:"oLwmo",hasAuthor:"_19aTC",bubble:"Eu2_h",meta:"_3qAvH",isTransparent:"_2Hp95",body:"_3FGS1",author:"_3Mf7Z",isFirst:"_1X6iJ"}},bcbjcgdgdf:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t,a,n,d,c=e.encFilehash,l=e.directPath,u=e.hosts,f=e.operation,h=e.type;if(!u.length)return{selectedHost:null,fallbackHost:null};var p=!1;if(f===s.DOWNLOAD){var g=u[0],m=l?l.match(/&_nc_hot=([0-9]+)/):null,b=parseInt(m&&m[1],10),v=isNaN(b)?null:Date.now()-b;null!=o.CAT_HOST_TIMESPAN&&o.CAT_HOST_TIMESPAN>0&&(h===r.default.STICKER||null!=v&&v<=o.CAT_HOST_TIMESPAN)?t=1:o.MMS_VCA_ENABLED&&null!=o.MAX_BUCKETS&&(t=(0,i.default)(c,o.MAX_BUCKETS)+100),null!=t&&(a=u[t]),null!=a&&a.supportsDownloadMediaType(h)?n=a:g.supportsDownloadMediaType(h)?n=g:p=!0}for(var j=0;j<u.length;j++){var E=u[j];if(E.isFallback()&&null==d&&(d=E,p)){n=E;break}if(f===s.UPLOAD?null==n&&E.supportsUploadMediaType(h)&&(n=E):null==n&&E.supportsDownloadMediaType(h)&&(n=E),null!=n&&null!=d)break}return{selectedHost:n,fallbackHost:d}},t.OPERATIONS=void 0;var i=n(a("bgaigbgdgj")),r=n(a("gbjefdbgb")),o=a("cjcabghhji"),s={DOWNLOAD:"DOWNLOAD",UPLOAD:"UPLOAD"};t.OPERATIONS=s},bccfigihcf:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("bhabhhjdch")),o=i(a("eaidjcib")),s=i(a("dgcdacjddi")),d=i(a("ffceefejc")),c=i(a("cjedcdbdii")),l=i(a("dbjagcfebh")),u=i(a("hbddjfeei")),f=i(a("eaaagccfda")),h=n(a("ddhijeejag")),p=i(a("dchfgegeij")),g=a("dbgdaechch"),m=i(a("bidfjbaebi")),b=a("igiffibee"),v=i(a("cahfddcdga")),j=i(a("bfifafibjc")),E=i(a("caffijjhc")),y=i(a("dadidajbgf"));function _(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function S(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?_(Object(a),!0).forEach(function(t){(0,r.default)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):_(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function C(e){var t=(0,u.default)(e.polygonVertices,3),a=t[0],n=t[2];return"".concat((0,v.default)(a.x),":").concat((0,v.default)(a.y),":").concat((0,v.default)(n.x),":").concat((0,v.default)(n.y))}function A(e,t){if(null==e)return null;var a=e.parentNode;if(!(null!=a&&a instanceof HTMLElement))return null;var n=(0,u.default)(t.polygonVertices,3),i=n[0],r=n[1],o=n[2];if((0,v.default)(i.x)===(0,v.default)(r.x)||(0,v.default)(r.y)===(0,v.default)(o.y)){var s=(0,u.default)(t.polygonVertices,4);i=s[1],r=s[2],o=s[3]}var d=(0,v.default)(i.x),c=(0,v.default)(i.y),l=(0,v.default)(r.x),f=(0,v.default)(r.y),h=(0,v.default)(o.y),p=d*a.offsetWidth,g=c*a.offsetHeight,m=a.offsetWidth*(d-l),b=a.offsetHeight*(c-f),j=d>l?Math.PI:0,E=m?Math.atan(b/m)+j:0,y=180*E/Math.PI;return{left:p,top:g,width:Math.abs(m/Math.cos(E)),height:Math.abs(a.offsetHeight*(h-f)/Math.cos(E)),transform:"rotate(".concat(y,"deg)"),transformOrigin:"top left"}}var M=function(e){function t(){var e,a;(0,o.default)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=(0,d.default)(this,(e=(0,c.default)(t)).call.apply(e,[this].concat(i)))).annotationRef=h.createRef(),a}return(0,l.default)(t,e),(0,s.default)(t,[{key:"componentDidMount",value:function(){this.forceUpdate()}},{key:"render",value:function(){var e=this,t=this.props.annotation;return h.createElement("div",{ref:this.annotationRef,className:p.default.annotation,style:A(this.annotationRef.current,t),onClick:function(a){return e.props.onClick(a,t)},onKeyDown:function(a){return e.props.onKeyDown(a,t)},role:"button","aria-label":t.location.name,tabIndex:"0"})}}]),t}(h.Component),T=function(e){function t(){var e,a;(0,o.default)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=(0,d.default)(this,(e=(0,c.default)(t)).call.apply(e,[this].concat(i)))).state={tooltip:null},a.displayTooltip=function(e,t,n){if(null!=t||null!=n){var i=e.location,r=(0,b.getMapUrl)((0,v.default)(i.degreesLatitude),(0,v.default)(i.degreesLongitude)),o={menu:h.createElement(m.default,{href:r,className:p.default.tooltip,onClick:a.hideTooltip},l10n.t(1023)),type:g.MenuType.tooltip,dirX:g.DirX.RIGHT,dirY:g.DirY.TOP};null!=t?(t.persist(),o=S({},o,{event:t,autoFocus:!1,offsetX:0,offsetY:0})):o=S({},o,{anchor:n,autoFocus:!0}),a.setState({tooltip:o},function(){a.props.onTooltipDisplay&&a.props.onTooltipDisplay()})}},a.hideTooltip=function(){a.setState({tooltip:null},function(){a.props.onTooltipDismiss&&a.props.onTooltipDismiss()})},a.handleAnnotationClick=function(e,t){e.stopPropagation(),a.displayTooltip(t,e)},a.handleAnnotationKeyDown=function(e,t){" "!==e.key&&"Enter"!==e.key||(e.preventDefault(),a.displayTooltip(t,null,e.target))},a.handleResize=(0,f.default)(function(){a.hideTooltip()},100),a}return(0,l.default)(t,e),(0,s.default)(t,[{key:"componentWillUnmount",value:function(){this.handleResize.cancel()}},{key:"render",value:function(){var e=this,t=this.props.annotations,a=this.state.tooltip&&h.createElement(E.default,{displayName:"InteractiveAnnotationTooltip",popable:!0,escapable:!0,requestDismiss:this.hideTooltip,requestRecentFocusOnUnmount:!1},h.createElement(y.default,{tooltip:this.state.tooltip}));return h.createElement(h.Fragment,null,t.map(function(t){return function(e){var t=e.polygonVertices,a=e.location,n=(0,u.default)(t,3),i=n[0],r=n[2];if(null==i||null==i.x||null==i.y||null==r||null==r.x||null==r.y)return!1;var o=a.degreesLatitude,s=a.degreesLongitude;return null!=o&&null!=s}(t)&&h.createElement(M,{key:C(t),annotation:t,onClick:function(a){return e.handleAnnotationClick(a,t)},onKeyDown:function(a){return e.handleAnnotationKeyDown(a,t)}})}),a,h.createElement(j.default,{onResize:this.handleResize}))}}]),t}(h.Component);t.default=T},bcdafjgefj:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=function(e){return e}},bcdeiabhcf:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.animateConversationPanel=function(e,t){return(0,i.default)(e,{scaleX:[1,t]},{duration:300,easing:[.1,.82,.25,1]}),1!==t};var i=n(a("bcifhbgija"))},bcdgdcghdi:function(e,t,a){"use strict";var n=a("cfjecfhbfg"),i=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("ddhijeejag")),o=n(a("bbhdaaahah")),s=function(e){var t=e.children;return r.createElement("div",{className:o.default.tooltip},t)};t.default=s},bcdjifadgi:function(e,t){e.exports={msgUnread:"_3Xx0y",msgUnreadBody:"_1lo-H"}},bceahhbbcj:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.sendAddParticipants=function(e,t){var a;if(i.default.supportsFeature(i.default.F.MD_BACKEND))return Promise.reject(new Error("addParticipants: not supported when not build with MD_BACKEND"));a=r.default.addParticipants(e,t);return a},t.sendRemoveParticipants=function(e,t){var a;if(i.default.supportsFeature(i.default.F.MD_BACKEND))return Promise.reject(new Error("sendRemoveParticipants: not supported when not build with MD_BACKEND"));a=r.default.removeParticipants(e,t);return a},t.sendDemoteParticipants=function(e,t){var a;if(i.default.supportsFeature(i.default.F.MD_BACKEND))return Promise.reject(new Error("sendDemoteParticipants: not supported when not build with MD_BACKEND"));a=r.default.demoteParticipants(e,t);return a},t.sendPromoteParticipants=function(e,t){var a;if(i.default.supportsFeature(i.default.F.MD_BACKEND))return Promise.reject(new Error("sendPromoteParticipants: not supported when not build with MD_BACKEND"));a=r.default.promoteParticipants(e,t);return a};var i=n(a("bjbdcigbdi")),r=n(a("bihdhbjih"))},bcebbbdfff:function(e,t){e.exports={title:"_3dcGh",titleMain:"_3KSMx",meta:"_2V2qB",chat:"_3KF1B",divider:"jLybP",chevron:"_1eKcW",avatar:"_2v7qI",author:"_3iZHE"}},bceghabha:function(e,t){e.exports={caption:"_1gsyD",meta:"_20GYl"}},bcfhbihafa:function(e,t){e.exports={bubble:"ziVVa",nonAlbumBubble:"_1B0zT",author:"_3SEoy",forwarded:"_1Mor7",forwardedIndicator:"_2Jc4M",hasAuthor:"pQmpN",meta:"I9Ei4",hasCaption:"TKXOd",caption:"_2T6qL",isPSA:"UCfcT",isPsa:"UCfcT",quote:"_1KUAa",thumb:"QKz-g",inAlbum:"_2Ww6n",cursorPointer:"cMrTV",thumbBody:"_2IYG6",duration:"_3_IKd",icon:"_1aGfY",pipBtn:"_3izSd",isHover:"_pvFP",overlay:"_1I2vC",overlayAlbumText:"_3rxI-"}},bcfiabbbca:function(e,t,a){"use strict";var n=a("cfjecfhbfg"),i=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var a=Promise.resolve().then(function(){var a,n=e.size(),i=t.asDocument?o.FILETYPE.DOCUMENT:(0,o.typeFromMimetype)(e.type()),u=i===o.FILETYPE.DOCUMENT?l.default.maxFileSize:l.default.media;if(n>u)return Promise.reject(new s.default(e));if(n<=0)return Promise.reject(new r.MediaFileEmpty);switch(null!=t.gifAttribution?a=t.gifAttribution:t.asGif&&(a=0),i){case"image":return c.processRawImage(e).then(function(e){var t=e.blob,a=e.width,n=e.height,i=e.preview;return{type:d.OUTWARD_TYPES.IMAGE,mediaBlob:t,mimetype:"image/jpeg",fullWidth:a,fullHeight:n,preview:i}});case"video":case"audio":return c.processRawAudioVideo(e,!!t.isPtt,t.precomputedFields,t.asGif,a,e.type());case"document":return c.processRawDocument(e,t.filename);default:throw new Error("Received unsupported mediaType: "+i)}});return e.retain(),e.autoreleaseWhenPromiseCompletes(a),a};var r=i(a("cajijabhgb")),o=a("cgffhfegce"),s=n(a("cieaaiahhf")),d=a("daichdjff"),c=i(a("fabajdgab")),l=n(a("bfgbdiffgd"))},bcfiaiddii:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.FULLSCREEN_CONTROLS_DISPLAY_TIMEOUT=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=n(a("ddhijeejag")),u=i(a("bbchdeehff")),f=(a("cgecdbiihg"),i(a("bffjfbgbg"))),h=i(a("eiiicijcj")),p=i(a("dcjaajabae")),g=i(a("eafjfadchb")),m=i(a("ichhibhgh")),b=i(a("beddiafhbh")),v=i(a("ihfccfgdf")),j=a("bheafeifce");t.FULLSCREEN_CONTROLS_DISPLAY_TIMEOUT=3e3;var E=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).setRefVideoPlayer=function(e){a.refVideoPlayer=e},a.handleOpenMediaViewer=function(){a.props.onOpenMediaViewer&&a.props.onOpenMediaViewer(),u.default.mediaViewerModal({msg:(0,j.unproxy)(a.props.msg),currentTime:a.getCurrentTimeFromVideo()})},a.handleOpenVideoFloater=function(){a.props.onOpenVideoFloater&&a.props.onOpenVideoFloater(),m.default.openPiP((0,j.unproxy)(a.props.msg),a.getCurrentTimeFromVideo(),null)},a.handleMissingMedia=function(){a.props.onMissingMedia&&a.props.onMissingMedia(),u.default.openModal(l.createElement(h.default,{msg:a.props.msg})),a.props.onClose()},a.handleUnsupportedMedia=function(){a.props.onUnsupportedMedia&&a.props.onUnsupportedMedia(),u.default.openModal(l.createElement(g.default,{msg:a.props.msg})),a.props.onClose()},a.handleNeedPokeMedia=function(){a.props.onNeedPokeMedia&&a.props.onNeedPokeMedia(),u.default.openModal(l.createElement(p.default,{msg:a.props.msg})),a.props.onClose()},a.handleLoadedMetadata=function(e){a.props.onLoadedMetadata&&a.props.onLoadedMetadata(e)},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentDidUpdate",value:function(){switch(this.props.mediaData.mediaStage){case f.default.STAGE.ERROR_MISSING:this.handleMissingMedia();break;case f.default.STAGE.ERROR_UNSUPPORTED:this.handleUnsupportedMedia();break;case f.default.STAGE.NEED_POKE:this.handleNeedPokeMedia()}}},{key:"getCurrentTimeFromVideo",value:function(){return this.refVideoPlayer?this.refVideoPlayer.getCurrentTimeFromVideo():0}},{key:"render",value:function(){var e={msg:this.props.msg,mediaData:this.props.mediaData};return l.createElement(b.default,{ref:this.setRefVideoPlayer,type:this.props.type,msgVideoInfo:e,startTime:this.props.startTime,onClose:this.props.onClose,onVideoEnded:this.props.onVideoEnded,onError:this.props.onError,onOpenMediaViewer:this.handleOpenMediaViewer,onOpenVideoFloater:this.handleOpenVideoFloater,onMissingMedia:this.handleMissingMedia,onUnsupportedMedia:this.handleUnsupportedMedia,onLoadedMetadata:this.handleLoadedMetadata,autoPlay:this.props.autoPlay,overlays:this.props.overlays})}}]),t}(l.Component);E.CONCERNS={msg:["id"],mediaData:["mediaStage","preview","streamable"]};var y=(0,v.default)(E,E.CONCERNS);t.default=y},bcfjfagjhe:function(e,t){e.exports={header:"_8-yzK"}},bcgacdhcba:function(e,t){e.exports={1:["AS","AI","AG","BS","BB","BM","VG","CA","KY","DM","DO","GD","GU","JM","MS","MP","PR","KN","LC","VC","SX","TT","TC","VI","US"],7:["KZ","RU"],20:["EG"],27:["ZA"],30:["GR"],31:["NL"],32:["BE"],33:["FR"],34:["ES"],36:["HU"],39:["IT"],40:["RO"],41:["CH"],43:["AT"],44:["GB","GG","IM","JE"],45:["DK"],46:["SE"],47:["NO","SJ"],48:["PL"],49:["DE"],51:["PE"],52:["MX"],53:["CU"],54:["AR"],55:["BR"],56:["CL"],57:["CO"],58:["VE"],60:["MY"],61:["AU","CX","CC"],62:["ID"],63:["PH"],64:["NZ"],65:["SG"],66:["TH"],81:["JP"],82:["KR"],84:["VN"],86:["CN"],90:["TR"],91:["IN"],92:["PK"],93:["AF"],94:["LK"],95:["MM"],98:["IR"],211:["SS"],212:["MA"],213:["DZ"],216:["TN"],218:["LY"],220:["GM"],221:["SN"],222:["MR"],223:["ML"],224:["GN"],225:["CI"],226:["BF"],227:["NE"],228:["TG"],229:["BJ"],230:["MU"],231:["LR"],232:["SL"],233:["GH"],234:["NG"],235:["TD"],236:["CF"],237:["CM"],238:["CV"],239:["ST"],240:["GQ"],241:["GA"],242:["CG"],243:["CD"],244:["AO"],245:["GW"],246:["IO"],247:["AC"],248:["SC"],249:["SD"],250:["RW"],251:["ET"],252:["SO"],253:["DJ"],254:["KE"],255:["TZ"],256:["UG"],257:["BI"],258:["MZ"],260:["ZM"],261:["MG"],262:["YT","RE"],263:["ZW"],264:["NA"],265:["MW"],266:["LS"],267:["BW"],268:["SZ"],269:["KM"],290:["SH"],291:["ER"],297:["AW"],298:["FO"],299:["GL"],350:["GI"],351:["PT"],352:["LU"],353:["IE"],354:["IS"],355:["AL"],356:["MT"],357:["CY"],358:["AX","FI"],359:["BG"],370:["LT"],371:["LV"],372:["EE"],373:["MD"],374:["AM"],375:["BY"],376:["AD"],377:["MC"],378:["SM"],379:["VA"],380:["UA"],381:["RS"],382:["ME"],383:["XK"],385:["HR"],386:["SI"],387:["BA"],389:["MK"],420:["CZ"],421:["SK"],423:["LI"],500:["FK"],501:["BZ"],502:["GT"],503:["SV"],504:["HN"],505:["NI"],506:["CR"],507:["PA"],508:["PM"],509:["HT"],590:["GP","BL","MF"],591:["BO"],592:["GY"],593:["EC"],594:["GF"],595:["PY"],596:["MQ"],597:["SR"],598:["UY"],599:["BQ","CW"],670:["TL"],672:["NF"],673:["BN"],674:["NR"],675:["PG"],676:["TO"],677:["SB"],678:["VU"],679:["FJ"],680:["PW"],681:["WF"],682:["CK"],683:["NU"],685:["WS"],686:["KI"],687:["NC"],688:["TV"],689:["PF"],690:["TK"],691:["FM"],692:["MH"],850:["KP"],852:["HK"],853:["MO"],855:["KH"],856:["LA"],880:["BD"],886:["TW"],960:["MV"],961:["LB"],962:["JO"],963:["SY"],964:["IQ"],965:["KW"],966:["SA"],967:["YE"],968:["OM"],970:["PS"],971:["AE"],972:["IL"],973:["BH"],974:["QA"],975:["BT"],976:["MN"],977:["NP"],992:["TJ"],993:["TM"],994:["AZ"],995:["GE"],996:["KG"],998:["UZ"]}},bchecggagg:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.requireInfoFlow=function(){return r().then(function(e){return e.requireInfoFlow()})};var i=n(a("bdiiahhjbe"));var r=(0,n(a("chdcdgjaad")).default)(function(){return new Promise(function(e,t){a.e(131).then(function(t){e({requireInfoFlow:function(){return a("bifbiahgch").default}})}.bind(null,a)).catch(a.oe).catch(t)})},function(e){1===e?i.default.assert(!1,"lazy-load-modals:failed to load for 1 time")():3===e?i.default.assert(!1,"lazy-load-modals:failed to load for 3 times")():10===e&&i.default.assert(!1,"lazy-load-modals:failed to load for 10 times")()})},bcibfcjcbf:function(e,t){e.exports={btnContext:"_1mGV6"}},bciccjdabc:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("eaidjcib")),r=n(a("ffceefejc")),o=n(a("cjedcdbdii")),s=n(a("dbjagcfebh")),d=function(e){function t(e,a){var n;return(0,i.default)(this,t),(n=(0,r.default)(this,(0,o.default)(t).call(this,e,a))).name="HttpTimedOutError",n}return(0,s.default)(t,e),t}(n(a("cddgaecgia")).default);t.default=d},bcidefefj:function(e,t){e.exports={container:"_35e3l",containerBg:"_1h1c7",loadingBlock:"_30LsT",fadeIn:"_1eaSE",column:"_3C2U5",lastColumn:"_3k7bP",lastColumnWidth:"C1Los",headContainer:"_2eLFJ",spinner:"_3qukr"}},bcijadidjd:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=n(a("ddhijeejag")),u=i(a("bbchdeehff")),f=i(a("djcchigfih")),h=i(a("djbhiedbef")),p=n(a("dajffajabh")),g=i(a("dhfbfehaef")),m=i(a("fffdgbfji")),b=n(a("chcadgfgad")),v=i(a("cjidjghdjj")),j=i(a("cgfjebhhej")),E=i(a("dggeggcjcd")),y=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,(0,d.default)(t).apply(this,arguments))}return(0,c.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=this,t=this.props.vcardList;return l.createElement(b.default,{type:b.BoxModalType},l.createElement(f.default,null,l.createElement(p.default,{title:m.default.t(778,{count:t.length,_plural:t.length}),type:p.DRAWER_HEADER_TYPE.POPUP,onCancel:function(){return u.default.closeModal()}}),l.createElement(h.default,null,l.createElement(g.default,null,l.createElement("div",{className:v.default.body},t.map(function(t,a){return e.renderVCard(t,a)}))))))}},{key:"renderVCard",value:function(e,t){var a=j.default.parse(e);return a?l.createElement("div",{className:v.default.vcardWrapper,key:t},l.createElement(E.default,{parsedVCard:a,thumbnail:j.default.thumbnail(e)})):null}}]),t}(l.Component);t.default=y},bcijeefgje:function(e,t){e.exports={suspiciousHostname:"_2owB5",suspiciousCharacter:"_33Lmf",explanation:"IlmF9",url:"_2EVEL"}},bcijfighgd:function(e,t){e.exports={scaler:"_1DKwn",scalerButton:"_3ndIG"}},bcjafgaahj:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a("dgbjjgefjd"),i="DomException"in window?DOMException:n.DOMException;t.default=i},bcjbggbah:function(e,t){e.exports={result:"_1omcu",selected:"_2saG0",slash:"_3AXnO",shortcutPrefix:"_3kuPz",shortcutSuffix:"_2Cw5t",message:"_2l2Tm"}},bcjhbcbjbf:function(e,t){e.exports={thumb:"_1gcLL",active:"_1_w6f",body:"_2sn3C",btnDelete:"_2PHoH",bodyDoc:"_1nsYl"}},bcjidabgad:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getEffectiveNetworkType=function(){return navigator.connection&&"string"==typeof navigator.connection.effectiveType?navigator.connection.effectiveType:null}},bdacfjbfhj:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("djecdhecha")),l=i(a("dbjagcfebh")),u=i(a("ccjgiajgj")),f=i(a("eaaagccfda")),h=n(a("ddhijeejag")),p=i(a("degbdgggga")),g=i(a("bbchdeehff")),m=i(a("eceadcicaf")),b=i(a("egjjcjcg")),v=(0,f.default)(function(e,t){b.default.setVideoVolumeSettings(e,t)},500),j=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).videoRef=null,a.setRefVideo=function(e){if(a.videoRef!==e&&(a.videoRef=e,e)){var t=b.default.getVideoVolumeSettings();t&&("number"==typeof t.volume&&e.setVolume(t.volume),"boolean"==typeof t.muted&&e.setMuted(t.muted))}},a.onVolumeChange=function(e){var t=a.videoRef;if(t){var n=t.getVolume(),i=t.getMuted();v(n,i),a.props.onVolumeChange({volume:n,muted:i})}},a.onOtherPlaying=function(e){e!==(0,c.default)(a)&&a.videoRef&&a.videoRef.pause()},a.onPlaying=function(){g.default.mediaPlaying((0,c.default)(a)),a.props.onPlaying()},a.setStartTime=function(){a.videoRef&&"number"==typeof a.props.startTime&&a.videoRef.setCurrentTime(a.props.startTime)},a.play=function(){var e=a.videoRef;e&&e.getPaused()&&e.play()},a.pause=function(){var e=a.videoRef;e&&(e.getPaused()||e.pause())},a.getPaused=function(){return!a.videoRef||a.videoRef.getPaused()},a.onLoadedMetadata=function(e){null!=a.props.startTime&&a.setStartTime();var t=(0,u.default)(e.target,["duration","volume","muted","videoWidth","videoHeight"]);a.props.onLoadedMetadata(t,e)},a.getCurrentTime=function(){return a.videoRef?a.videoRef.getCurrentTime():0},a.setCurrentTime=function(e){a.videoRef&&a.videoRef.setCurrentTime(e)},a.getDuration=function(){return a.videoRef?a.videoRef.getDuration():0},a.getVolume=function(){return a.videoRef?a.videoRef.getVolume():0},a.setVolume=function(e){a.videoRef&&a.videoRef.setVolume(e)},a.getMuted=function(){return!!a.videoRef&&a.videoRef.getMuted()},a.setMuted=function(e){a.videoRef&&a.videoRef.setMuted(e)},a.onProgress=function(e){if(a.videoRef){var t=a.videoRef.getBuffered(),n=[];if(t)for(var i=0;i<t.length;i++)n.push([t.start(i),t.end(i)]);a.props.onProgress(n)}},a.onTimeUpdate=function(e){var t=e.target.currentTime;a.props.onTimeUpdate(t)},a.onError=function(e){var t=a.videoRef&&a.videoRef.refVideo&&a.videoRef.refVideo.error?a.videoRef.refVideo.error.code:null;null!=t||null==e.code?a.props.onError(t):a.props.onError(e.code)},a}return(0,l.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){this.props.listeners.add(g.default,"mediaPlaying",this.onOtherPlaying),this.props.listeners.add(g.default,"pttRecording",this.pause)}},{key:"componentWillUnmount",value:function(){v.flush()}},{key:"componentDidUpdate",value:function(e){e.startTime!==this.props.startTime&&this.setStartTime()}},{key:"render",value:function(){return h.createElement(p.default,{ref:this.setRefVideo,src:this.props.url,poster:this.props.poster,className:this.props.className,onVolumeChange:this.onVolumeChange,onEnded:this.props.onEnded,onError:this.onError,onPause:this.props.onPause,onPlaying:this.onPlaying,onProgress:this.onProgress,onTimeUpdate:this.onTimeUpdate,onLoadedMetadata:this.onLoadedMetadata,autoPlay:this.props.autoPlay},this.props.children)}}]),t}(h.PureComponent),E=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).play=function(){a.getComponent().play()},a.pause=function(){a.getComponent().pause()},a.getPaused=function(){return a.getComponent().getPaused()},a.getCurrentTime=function(){return a.getComponent().getCurrentTime()},a.setCurrentTime=function(e){a.getComponent().setCurrentTime(e)},a.getDuration=function(){return a.getComponent().getDuration()},a.getVolume=function(){return a.getComponent().getVolume()},a.setVolume=function(e){a.getComponent().setVolume(e)},a.getMuted=function(){return a.getComponent().getMuted()},a.setMuted=function(e){a.getComponent().setMuted(e)},a}return(0,l.default)(t,e),t}((0,m.default)(j));t.default=E},bdbcafgecc:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=i(a("jbgeabaaj")),u=n(a("ddhijeejag")),f=i(a("cfaiaibca")),h=i(a("djcchigfih")),p=i(a("djbhiedbef")),g=n(a("dajffajabh")),m=i(a("fffdgbfji")),b=i(a("bijffg")),v=a("bddhdheedf"),j=i(a("eceadcicaf")),E=i(a("cgbgedjgag")),y=i(a("bfbggcdbfb")),_=n(a("chcadgfgad")),S=i(a("cbcfgjhjhj")),C=i(a("dceicchccd")),A=a("bheafeifce"),M=i(a("bfdcadbbif")),T={NONE_SELECTED:0,ALL_SELECTED:1,PARTIALLY_SELECTED:2},P=function(e){function t(e){var a;(0,r.default)(this,t),(a=(0,s.default)(this,(0,d.default)(t).call(this,e))).selectedLabels=new C.default([],function(e){return e.id}),a.changeSet=new Set,a.onMultiSelect=function(e){e&&(a.initialLabelState[e]===T.PARTIALLY_SELECTED?a.changeSet.add("{labelId}_changed"):a.changeSet.has(e)?a.changeSet.delete(e):a.changeSet.add(e),a.forceUpdate())},a.constructLabelCountMap=function(){var e={};return a.props.modelsToUpdate.forEach(function(t){var a=(0,A.unproxy)(t);a.labels&&a.labels.forEach(function(t){e[t]=e[t]?++e[t]:1})}),e},a.onUpdateLabelsOK=function(){(0,v.logLabelOperationEvent)(y.default.LABEL_OPERATIONS.CLICK_POSITIVE,a.props.modelsToUpdate.length,y.default.LABEL_TARGETS.LABEL_COMBINED_DIALOG);var e=a.selectedLabels.list,t=a.selectedLabels.selected,n=e.map(function(e,a){return{id:e.id,type:t[a]?"add":"remove"}});b.default.addOrRemoveLabels(n,a.props.modelsToUpdate),a.props.onLabelUpdateComplete&&a.props.onLabelUpdateComplete()};var n=a.props.modelsToUpdate,i=a.constructLabelCountMap();return a.initialLabelState=(0,l.default)(i,function(e){return e===n.length?T.ALL_SELECTED:e>0?T.PARTIALLY_SELECTED:T.NONE_SELECTED}),a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=u.createElement(f.default,{a8nText:"popup-controls-ok",type:"primary",disabled:0===this.changeSet.size,onClick:this.onUpdateLabelsOK,key:1},m.default.t(1003)),t=u.createElement(f.default,{a8nText:"popup-controls-cancel",type:"plain",onClick:this.props.onCancel,key:0},m.default.t(1197)),a=u.createElement(f.default,{a8nText:"popup-controls-cancel",type:"simplified",onClick:this.props.onAddNewLabel,key:2},u.createElement(M.default,{name:"plus-large",className:E.default.plus,display:"inline"}),m.default.t(172));return u.createElement(_.default,{type:_.TowerModalType},u.createElement(h.default,{key:"mange_label_modal",theme:"labels"},u.createElement(g.default,{title:m.default.t(641),type:g.DRAWER_HEADER_TYPE.POPUP,onCancel:this.props.onCancel}),u.createElement(p.default,{"data-list-scroll-container":!0,theme:"padding"},u.createElement(S.default,{shouldScrollIntoViewAndSelect:this.props.shouldScrollIntoViewAndSelect,initialLabelState:this.initialLabelState,selectedLabels:this.selectedLabels,renderContex:"label-selection",onLabelClick:this.props.onLabelClick,onMultiSelect:this.onMultiSelect})),u.createElement("div",{className:E.default.newLabelBtn},a),u.createElement("div",{className:E.default.actionBtns},t,e)))}}]),t}(u.Component),N=(0,j.default)(P);t.default=N},bdbdaahbdh:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("djecdhecha")),l=i(a("dbjagcfebh")),u=i(a("hhegggegb")),f=i(a("eaaagccfda")),h=n(a("ddhijeejag")),p=i(a("bbhhbdicgc")),g=i(a("cicjcfabii")),m=i(a("bggeiidigb")),b=i(a("eceadcicaf")),v=i(a("bdiiahhjbe")),j=i(a("cifjfjfegc")),E=i(a("cbfccciabh")),y=i(a("becfabjeeg")),_=76,S=100,C=function(e){function t(e){var a;(0,r.default)(this,t),(a=(0,s.default)(this,(0,d.default)(t).call(this,e))).flatListController=new m.default,a.setRefWrapper=function(e){a.refWrapper=e,a.props.setThumbFlatListWrapper(a.refWrapper)},a.setRefFlatListContainer=function(e){a.refFlatListContainer=e},a.setRefFlatList=function(e){a.refFlatList=e},a.setPrevScrollWidth=function(e){null!=e&&(e instanceof HTMLElement||(a.prevScrollWidth=e.getListLength()))},a.scrollToActive=function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];var e=a.refWrapper;if(e){for(var t,n=a.props,i=n.mediaMsgs,r=n.activeMsg,o=0;o<i.length;o++){if(i.at(o)===r){t=o;break}}if(null==t)throw new Error("Active Message is not in the message collection.");var s=e.getBoundingClientRect(),d=s.right-s.left,c=(d-2*S-_)/2+S+_*t-d/2+_/2;a.flatListController.setScrollFromStart(c)}},a._handleWindowResize=function(){a.forceUpdate()},a.onScroll=function(e){a.handleScroll(e.currentTarget,a.props.mediaMsgs,a.flatListController.getScrollFromStart(),a.props.listeners)},a.getThumbs=function(){var e=a.props,t=e.mediaMsgs,n=e.activeMsg,i=e.highlightedMsgIds,r=i&&i.size>0&&i.has(n.id.toString()),o=a.refWrapper?a.refWrapper.getBoundingClientRect():null,s=((o?o.right-o.left:window.innerWidth)-2*S-_)/2,d=[];return d.push({type:"padding",itemKey:"padding-left",width:s}),d.push({type:"spinner",itemKey:"spinner-left",active:!!t.queryMediaBefore,width:S}),t.forEach(function(e){if(null!=e.mediaData){var t=r&&i&&!i.has(e.id.toString())?"viewerFlowTransparent":"viewerFlow";d.push({type:"thumb",itemKey:"media-".concat(e.id.toString()),active:e===n,msg:e,theme:t,width:_})}else v.default.errorVerbose("MediaViewerFlow: attempted to render a msg without mediaData: ".concat(JSON.stringify({type:e.type,isMedia:e.isMedia})))()}),d.push({type:"spinner",itemKey:"spinner-right",width:S,active:!!t.queryMediaAfter}),d.push({type:"padding",itemKey:"padding-right",width:s}),d},a.renderItem=function(e){switch(e.type){case"thumb":return h.createElement("div",{className:E.default.thumbWrapper},h.createElement(j.default,{theme:e.theme,active:e.active,msg:e.msg,containerRef:e.msg===a.props.activeMsg?a.props.onSetActiveThumb:null,onClick:function(){a.props.onSelectThumb(e.msg)}}));case"spinner":return h.createElement("div",{className:E.default.mediaThumb},e.active?h.createElement(y.default,{stroke:6,size:24}):null);case"padding":return h.createElement("div",{className:E.default.thumbPaddingWithFlatList});default:return h.createElement("div",null)}},a.handleWindowResize=(0,f.default)(a._handleWindowResize,100);var n=(0,u.default)(a.props.handleScroll.bind((0,c.default)(a)),100);return a.handleScroll=n,a}return(0,l.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.addListeners.bind(this)(this.props.listeners,this.props.mediaMsgs,function(){return e.props.activeMsg},this.props.onSelectThumb,this.props.endFlow),this.props.listeners.add(this.props.mediaMsgs,"query_media_before",function(){e.refFlatList&&(e.prevScrollWidth=e.refFlatList.getListLength(),e.forceUpdate())}),this.props.listeners.add(window,"resize",this.handleWindowResize),this.scrollToActive()}},{key:"componentDidUpdate",value:function(e){if(e.activeMsg!==this.props.activeMsg)this.scrollToActive();else{if(!this.refFlatList)return;var t=this.prevScrollWidth;if(null==t||0===t)return;var a=this.refFlatList.getListLength()-t;0!==a&&this.flatListController.setScrollFromStart(this.flatListController.getScrollFromStart()+a),this.prevScrollWidth=null}}},{key:"componentWillUnmount",value:function(){this.handleWindowResize.cancel(),this.handleScroll.cancel()}},{key:"render",value:function(){var e=this.getThumbs();return h.createElement("div",{className:E.default.flatListContainerWrapper,ref:this.setRefWrapper},h.createElement(g.default,{ref:this.setRefFlatListContainer,flatListControllers:[this.flatListController],className:E.default.flatListContainer,onScroll:this.onScroll,direction:"horizontal"},h.createElement(p.default,{ref:this.setRefFlatList,data:e,renderItem:this.renderItem,className:E.default.flatList,flatListController:this.flatListController,defaultItemWidth:80,direction:"horizontal"})))}}]),t}(h.Component),A=(0,b.default)(C);t.default=A},bdbfijejbi:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=n(a("ddhijeejag")),u=i(a("cgeedcdffb")),f=i(a("cgijjjgici")),h=i(a("cciecbcgbi")),p=i(a("bffhabgiib")),g=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i))))._abortController=new u.default,a._isAnimating=!1,a.state={rgbaBuffer:null},a._startAnimationCountDown=function(){a._isAnimating||(a._isAnimating=!0,(0,h.default)({onFrameChange:function(e){return a.setState({rgbaBuffer:e})},animationFrames:a.props.animationFrames,maxLoops:a.props.maxLoops,maxDuration:a.props.maxDuration,signal:a._abortController.signal}).catch(function(e){if(!(e instanceof f.default))throw e}).finally(function(){a._isAnimating=!1}))},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){this.props.startAnimation?this._startAnimationCountDown():this._renderFirstFrame()}},{key:"_renderFirstFrame",value:function(){var e=this.props.animationFrames;0!==e.length&&this.setState({rgbaBuffer:e[0].rgbaBuffer})}},{key:"componentWillUnmount",value:function(){this._abortController.abort()}},{key:"render",value:function(){var e=this.state.rgbaBuffer;return e?l.createElement(p.default,{rgbaBuffer:e,className:this.props.className,width:this.props.width,height:this.props.height,onClick:this.props.onClick,onMouseEnter:this.props.maxLoops===1/0&&this.props.maxDuration===1/0?null:this._startAnimationCountDown}):null}}]),t}(l.PureComponent);t.default=g},bdcddabebc:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("ffceefejc")),s=i(a("cjedcdbdii")),d=i(a("dbjagcfebh")),c=n(a("dcaifjegcg")),l=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),d=0;d<n;d++)i[d]=arguments[d];return(a=(0,o.default)(this,(e=(0,s.default)(t)).call.apply(e,[this].concat(i)))).id=(0,c.prop)(),a.displayText=(0,c.prop)(),a.subtype=(0,c.prop)(),a.url=(0,c.prop)(),a.phoneNumber=(0,c.prop)(),a.selectionId=(0,c.prop)(),a.selected=(0,c.session)(!1),a}return(0,d.default)(t,e),t}(c.default);l.Proxy="templateButton";var u=(0,c.defineModel)(l);t.default=u},bdcjhdddde:function(e,t){e.exports={title:"_2AJf5",titleIcon:"_3tCj6",ack:"_33bww",forwardCount:"_1NZZN",spinner:"_20U-x",list:"_3Za3d",footer:"_19xqi"}},bddhdheedf:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.logLabelOperationEvent=function(e,t,a){var n={labelOperation:e};null!=t&&Object.assign(n,{labelCount:t});a&&Object.assign(n,{labelTarget:a});new i.default.LabelEvent(n).commit()};var i=n(a("bfbggcdbfb"))},bdeabjehdj:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg"),r=i(a("bhabhhjdch")),o=i(a("ddfeabiaci")),s=i(a("gcfidijgh")),d=i(a("ehfgacedb")),c=i(a("bjigbaghc")),l=a("eidjcbbdf"),u=i(a("bjbdcigbdi")),f=a("cbgifejihh"),h=i(a("bdiiahhjbe")),p=i(a("cffajefeag")),g=n(a("dahaahdjfa")),m=i(a("bhggeigghg")),b=a("bbcaggdbc"),v=i(a("jccfhaecf"));function j(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}var E=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?j(Object(a),!0).forEach(function(t){(0,r.default)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):j(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({version:"10"},g.default,{parseMsgMessage:function(e,t){if("message"===this.N.tag(e)){if("ciphertext"===this.N.attr("type",e)){var a,n=this.N.attr("id",e),i=this.N.attr("from",e),r=this.N.attr("participant",e),o=v.default.isBroadcast(i)?r:i;try{a=new p.default({from:o,to:c.default.me,id:n,participant:r})}catch(e){return void h.default.error("drop: cannot create MsgKey: "+e.stack)()}return{type:"ciphertext",t:parseInt(this.N.attr("t",e),10)||0,id:a,from:o,to:c.default.me,participant:r,author:v.default.isBroadcast(i)?void 0:r,star:"true"===this.N.attr("star",e)}}var s=this.N.children(e);if(s instanceof ArrayBuffer)try{var d=b.WebMessageInfo.parse(s);return this.parseWebMessageInfo(d,t)}catch(t){return h.default.log("wmi error: ".concat(String(t)))(),void h.default.assert(!1,"parse-error","drop: failed parsing wmi")(e)}else h.default.error("drop: no bytes")(e)}else h.default.error("drop: not message")(e)},parseWebMessageInfo:function(e,t){var a,n=e.key,i=this.decodeJid(n.remoteJid),r=n.fromMe?i:c.default.me,o=n.fromMe?c.default.me:i,s=this.decodeJid(n.participant);if(c.default.me.equals(i)&&(a=n.fromMe?"out":"in"),"broadcast"!==r){var d;try{d=new p.default({fromMe:n.fromMe,remote:i,id:n.id,participant:s})}catch(e){return void h.default.error("drop: cannot create MsgKey: "+e.stack)()}return this.parseMsgProto(e.message,{id:d,from:o,to:r,self:a,participant:s,type:"unknown",t:e.messageTimestamp||0,ack:"fresh"===t?1:e.status-1,author:this.decodeJid(e.participant),invis:!!e.ignore,star:!!e.starred,broadcast:n.fromMe&&e.broadcast,notifyName:e.pushName||"",encFilehash:this.decodeBytes(e.mediaCiphertextSha256)},t)}h.default.error("drop: broadcast")(e)},parseProtocolMessageProto:function(e,t,a){if("relay"===a){var n=t.key,i=new p.default({fromMe:n.fromMe,remote:this.decodeJid(n.remoteJid),id:n.id,participant:this.decodeJid(n.participant)});(0,s.default)(e,{type:"protocol",subtype:"unknown",protocolMessageKey:i})}},parseLiveLocationMessageProto:function(e,t,a){e.type="location",e.isLive=!0,e.lat=void 0!==t.degreesLatitude?t.degreesLatitude:void 0,e.lng=void 0!==t.degreesLongitude?t.degreesLongitude:void 0,e.body=this.decodeBytes(t.jpegThumbnail)||"",e.accuracy=t.accuracyInMeters,e.speed=t.speedInMps,e.degrees=t.degreesClockwiseFromMagneticNorth,e.comment=(0,g.convertToTextWithoutSpecialEmojis)(t.caption),e.sequence=t.sequenceNumber,a&&(e.finalLat=void 0!==a.degreesLatitude?a.degreesLatitude:void 0,e.finalLng=void 0!==a.degreesLongitude?a.degreesLongitude:void 0,e.finalThumbnail=this.decodeBytes(a.jpegThumbnail)||"",e.finalAccuracy=a.accuracyInMeters,e.finalSpeed=a.speedInMps,e.finalDegrees=a.degreesClockwiseFromMagneticNorth,e.finalTimeOffset=a.timeOffset)},parseSendPaymentMessageProto:function(e,t,a){if(e.type="payment",this.callFeatureFlagFun(u.default.F.PAYMENTS,"parsePaymentInfo",e,a),u.default.supportsFeature(u.default.F.PAYMENTS)){e.subtype="send";var n=t.requestMessageKey;e.paymentRequestMessageKey=t.requestMessageKey?new p.default({fromMe:n.fromMe,remote:this.decodeJid(n.remoteJid),id:n.id,participant:this.decodeJid(n.participant)}):void 0,t.noteMessage&&(e.paymentNoteMsg={},t.noteMessage=this.parseMsgProto(t.noteMessage,e.paymentNoteMsg))}},parseRequestPaymentMessageProto:function(e,t,a){e.type="payment",this.callFeatureFlagFun(u.default.F.PAYMENTS,"parsePaymentInfo",e,a),u.default.supportsFeature(u.default.F.PAYMENTS)&&(e.subtype="request",t.currencyCodeIso4217&&!e.paymentCurrency&&(e.paymentCurrency=t.currencyCodeIso4217),t.amount1000&&!e.paymentAmount1000&&(e.paymentAmount1000=t.amount1000),t.requestFrom&&!e.paymentMessageReceiverJid&&(e.paymentMessageReceiverJid=this.decodeJid(t.requestFrom)),t.expiryTimestamp&&!e.paymentExpiryTimestamp&&(e.paymentExpiryTimestamp=t.expiryTimestamp),t.noteMessage&&(e.paymentNoteMsg={},t.noteMessage=this.parseMsgProto(t.noteMessage,e.paymentNoteMsg)))},parseGroupInviteMessageProto:function(e,t){e.type="groups_v4_invite",u.default.supportsFeature(u.default.F.GROUPS_V_4_JOIN_PERMISSION)&&(e.inviteCode=t.inviteCode,e.inviteCodeExp=t.inviteExpiration,e.inviteGrp=t.groupJid,e.inviteGrpName=t.groupName,e.inviteGrpJpegThum=this.decodeBytes(t.jpegThumbnail),e.comment=(0,g.convertToTextWithoutSpecialEmojis)(t.caption))},parseContextInfoProto:function(e,t,a){var n=t.quotedMessage,i=t.mentionedJid;e.quotedMsg=n&&this.parseMsgProto(n,{type:"unknown"}),e.quotedMsg&&"payment"===e.quotedMsg.type&&a&&this.callFeatureFlagFun(u.default.F.PAYMENTS,"parsePaymentInfo",e.quotedMsg,a),e.quotedStanzaID=t.stanzaId,e.quotedParticipant=this.decodeJid(t.participant),e.quotedRemoteJid=this.decodeJid(t.remoteJid),e.mentionedJidList=Array.isArray(i)?i.map(this.decodeJid):i,e.isForwarded=t.isForwarded,e.forwardingScore=t.forwardingScore,null!=t.expiration&&(e.ephemeralDuration=t.expiration)},msgCreateRecord:function(e){var t=this;return Promise.callSynchronously(function(){if(["ptt","audio","image","video","document","sticker","product"].includes(e.type)){var a,n="ptt"===e.type?"audio":e.type;return e.isMMS&&(a=e.isUnsentPhoneMsg()?{type:e.type}:e.avParams()),e.local&&!e.mediaKey?t.sendMedia(a):(0,s.default)({status:200,type:n},a)}}).catch(function(e){return h.default.error("wap:msgCreateRecord mPromise error (".concat((0,l.encodeErrorInfo)(),"): ").concat(e.stack))(),Promise.reject("wap:msgCreateRecord mPromise error")}).then(function(a){if(a&&200!==a.status){var n="wap:msgCreateRecord:sendMedia error ".concat(a.status);return h.default.error(n)(),Promise.reject(n)}var i=e.id.id,r=(0,f.createMessageKey)(e),o=(0,f.createMsgProtobuf)(e,a||{}),s=!!e.multicast||void 0,d=!!e.urlText||void 0,c=!!e.urlNumber||void 0,l=!!e.clearMedia||void 0,u=v.default.isUser(e.id.remote)||null==e.ephemeralDuration?void 0:e.ephemeralDuration,p=new b.WebMessageInfo({key:r,message:o,messageTimestamp:e.t,multicast:s,urlText:d,urlNumber:c,clearMedia:l,ephemeralDuration:u}),g=t.actionNode("relay",[["message",void 0,b.WebMessageInfo.encode(p).readBuffer()]]);return new Promise(function(a,n){t.binSend("send",g,n,{tag:i,onSend:t.wrap(a),onDrop:t.wrap(n),retryOn5xx:!0,resendGuard:function(){var t=m.default.Msg.get(e.id);return"protocol"===e.type||t&&t.id.equals(e.id)}},{debugString:["action","message",e.type,e.subtype,i].join(),debugObj:{xml:g,pb:p},metricName:"MESSAGE",ackRequest:!1})})})},msgFindQuery:function(e,t,a,n){var i=this,r=e;return new Promise(function(e,o){var s,d="";switch(r){case"after":t.id||(r="before");case"before":s={type:"message",kind:r,jid:t.remote,count:t.count.toString(),index:t.id,owner:void 0===t.fromMe?void 0:t.fromMe.toString(),participant:t.participant},d=[t instanceof p.default?t.toString():t.remote,t.count].join();break;case"search":s={type:"search",search:t.searchTerm,page:t.page.toString(),count:t.count.toString(),jid:t.remote,canceled:t.tagToCancel},d=["search",t.page,t.count,t.jid].join();break;case"star":s={type:"star",chat:t.chat,count:t.count.toString(),jid:t.remote,index:t.id,owner:void 0===t.fromMe?void 0:t.fromMe.toString(),participant:t.participant},d="starred";break;case"media":s={type:"media_message",count:t.count.toString(),kind:t.direction,jid:t.remote,index:t.id,owner:void 0===t.fromMe?void 0:t.fromMe.toString(),participant:t.participant},d="media"}var c=i.queryNode(s,void 0);i.binSend("sendEphemeral",c,o,{onSend:i.binWrap(function(t){i.BinaryProtocol.read(t).then(function(t){var a=[],n=i.N.children(t);if(h.default.logColor("green","bin-recv: response,msg",t)(),"response"===i.N.tag(t)&&("message"===i.N.attr("type",t)||"star"===i.N.attr("type",t)||"search"===i.N.attr("type",t)||"media_message"===i.N.attr("type",t))){if(Array.isArray(n)){var o,s=n.length;for(o=0;o<s;o++){var d=i.parseMsg(n[o],"response");d&&a.push(d)}}"search"===i.N.attr("type",t)?a={eof:"true"===i.N.attr("last",t),messages:a}:"media"===r&&(a={messages:a})}e(a)}).catch(o)},e),onDrop:i.wrap(o),logOnSend:a,onTag:n,tagToCancel:t.tagToCancel},{debugString:"query,message,"+d,metricName:"search"===r?"QUERY_SEARCH":"QUERY_MESSAGES",ackRequest:!1})})}});e.exports=(0,o.default)(E,d.default)},bdecdecede:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=0;if(!e)return t;e.quotedMsg&&(t+=54);e.caption&&(t+=31);switch(e.type){case o.MSG_TYPE.NOTIFICATION:case o.MSG_TYPE.GROUP_NOTIFICATION:case o.MSG_TYPE.GP2:case o.MSG_TYPE.BROADCAST_NOTIFICATION:case o.MSG_TYPE.E2E_NOTIFICATION:case o.MSG_TYPE.CALL_LOG:case o.MSG_TYPE.CIPHERTEXT:case o.MSG_TYPE.REVOKED:case o.MSG_TYPE.CHAT:e.linkPreview&&(t+=53);var a=(0,r.numCodepoints)(e.body&&e.body.toString());return t+19*Math.ceil(a/100)+13;case o.MSG_TYPE.IMAGE:return t+(e.mediaData&&e.mediaData.fullWidth&&e.mediaData.fullHeight||0)?Math.floor(Math.min(330/e.mediaData.fullWidth*e.mediaData.fullHeight,330)):330;case o.MSG_TYPE.VIDEO:case o.MSG_TYPE.AUDIO:return e.isGif?t+137:t+166;case o.MSG_TYPE.LOCATION:return t+e.isLive?n.MSG_HEIGHT:i.PREVIEW_HEIGHT;case o.MSG_TYPE.PTT:return t+67;case o.MSG_TYPE.VCARD:return t+74;case o.MSG_TYPE.DOCUMENT:return t+188;case o.MSG_TYPE.STICKER:return t+125;case o.MSG_TYPE.UNKNOWN:default:return t}};var n=a("icbjhhidg"),i=a("biadgfadhh"),r=a("chhhffajfi"),o=a("baagejbchg")},bdechjiebj:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=i(a("ceffhbhahb")),u=n(a("ddhijeejag")),f=i(a("hdgfdagbc")),h=i(a("ddgfdbejhb")),p=i(a("habcbfced")),g=i(a("digjajabhb")),m=i(a("cgjfaifddg")),b=i(a("iiaihjfbi")),v=a("bbcaggdbc"),j=20,E=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).state={isMultilineText:!1},a.setRefText=function(e){e&&a.setState({isMultilineText:e.getBoundingClientRect().height>j})},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e,t=this.props,a=t.paymentStatus,n=t.expiryTimestamp,i=(0,l.default)({[p.default.bubbleOut]:this.props.isSentByMe,[p.default.bubbleIn]:!this.props.isSentByMe}),r=null!=a&&a!==v.PaymentInfo.STATUS.UNKNOWN_STATUS;return e=this.props.hasCaption?u.createElement("div",{ref:this.setRefText},u.createElement("div",null,u.createElement(m.default,{subtype:this.props.subtype,receiverJid:this.props.receiverJid})),u.createElement(g.default,{paymentStatus:a,expiryTimestamp:n})):r?u.createElement("div",{ref:this.setRefText},u.createElement("div",null,u.createElement(m.default,{subtype:this.props.subtype,receiverJid:this.props.receiverJid})),u.createElement(b.default,{msg:this.props.msg},u.createElement(g.default,{paymentStatus:a,expiryTimestamp:n}))):u.createElement(b.default,{msg:this.props.msg},u.createElement("span",{ref:this.setRefText},u.createElement(m.default,{subtype:this.props.subtype,receiverJid:this.props.receiverJid}))),u.createElement("div",{className:i},u.createElement(f.default,{currency:this.props.currency,amount1000:this.props.amount1000}),u.createElement("div",{className:p.default.body},u.createElement("div",{className:(0,l.default)(p.default.bodyIcon,{[p.default.bodyIconMultiline]:this.state.isMultilineText})},u.createElement(h.default,{currency:this.props.currency,subtype:this.props.subtype,paymentStatus:this.props.paymentStatus})),u.createElement("div",{className:p.default.bodyText},e)))}}]),t}(u.PureComponent);t.default=E},bdfbccfifg:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.CACHE_POLICY_TYPE=void 0;var i=n(a("eaidjcib")),r=n(a("dgcdacjddi")),o=n(a("ffceefejc")),s=n(a("cjedcdbdii")),d=n(a("dbjagcfebh")),c=n(a("cccehdaiaf")),l={LOAD:"LOAD",IMMEDIATE:"IMMEDIATE",NONE:"NONE"};t.CACHE_POLICY_TYPE=l;var u=function(e){function t(e,a){var n;return(0,i.default)(this,t),(n=(0,o.default)(this,(0,s.default)(t).call(this)))._collection=e,n._id=a,n}return(0,d.default)(t,e),(0,r.default)(t,[{key:"enableCaching",value:function(){}},{key:"disableCaching",value:function(){}},{key:"collection",get:function(){return this._collection}},{key:"id",get:function(){return this._id}}]),t}(c.default);t.default=u,u.policy=l.NONE},bdfbijjhda:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var a=e instanceof ArrayBuffer?e.byteLength:e.buffer.byteLength,n=new s.default(t),u=a-c,f=Math.ceil(u/d),h=(0,r.default)(f,function(t){var a=t*d,i=a+c+d,r=e.slice(a,i);return n.sign(r,l)});return Promise.all(h).then(function(e){return o.default.apply(void 0,(0,i.default)(e))})},t.HMAC_LENGTH=t.IV_LENGTH=void 0;var i=n(a("bhfcfhafdj")),r=n(a("dfacahcafg")),o=n(a("cdfccifhg")),s=n(a("bbejegbieb")),d=65536,c=16;t.IV_LENGTH=c;var l=10;t.HMAC_LENGTH=l},bdfheihabb:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=n(a("ddhijeejag")),u=i(a("dhbceejbjg")),f=i(a("fifhbjiec")),h=i(a("bijffg")),p=n(a("icghcjegh")),g=i(a("eceadcicaf")),m=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).updateLabels=function(){a.forceUpdate()},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){this.props.listeners.add(h.default,"label_updated_".concat(this.props.label),this.updateLabels)}},{key:"render",value:function(){var e=this.props.label,t=h.default.get(e);if(!t||!t.name)return null;if("label-list"===this.props.theme){var a=l.createElement(p.default,{renderAsCircle:"label-list"===this.props.theme,theme:this.props.theme,labels:[e]}),n=l.createElement(f.default,{text:t.name,ellipsify:!0,titlify:!0});return l.createElement(u.default,{theme:"chat-checkbox",image:a,primary:n,secondary:l10n.t(640,{count:parseInt(t.count||0,10),_plural:parseInt(t.count||0,10)})})}var i=(0,p.renderLabelSvg)(t.hexColor),r=l.createElement(f.default,{text:t.name,ellipsify:!0,titlify:!0});return l.createElement(u.default,{theme:"label-selection",image:i,primary:r})}}]),t}(l.PureComponent),b=(0,g.default)(m);t.default=b},bdfjbfgea:function(e,t){e.exports={selectedListContainer:"I72vi"}},bdgdgicfaf:function(e,t){e.exports={symbol:"WVFpp",margin:"_3cO_w"}},bdgdjfajce:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=n(a("ddhijeejag")),u=i(a("dhbceejbjg")),f=i(a("cfadcbbiie")),h=i(a("dhhfaeacef")),p=n(a("dbgdaechch")),g=i(a("bhhdeihhhf")),m=i(a("fifhbjiec")),b=i(a("bffjfbgbg")),v=i(a("eaaihhcibf")),j=a("bhfdfhefca"),E=i(a("ihfccfgdf")),y=i(a("bfdcadbbif")),_=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).getMenuBtns=function(){return a.props.isMsgInAlbum?a.getAlbumMediaMenuBtns():a.getNonAlbumMediaMenuBtns()},a.getNonAlbumMediaMenuBtns=function(){var e=[],t=a.props.msg;return e.push(l.createElement(j.MenuBarItem,{key:"btnGoToMsg",icon:l.createElement(y.default,{name:"bubble"}),title:l10n.t(522),onClick:a.props.onGoToMsgClick})),e.push(a.getStarMenuBarItem()),t.canForward()&&e.push(a.getForwardMenuBarItem()),e.push(l.createElement(j.MenuBarItem,{key:"btnDownload",icon:l.createElement(y.default,{name:"download"}),title:l10n.t(1193),disabled:!a.isMediaDownloadable(),onClick:a.props.onDownloadClick})),e},a.getAlbumMediaMenuBtns=function(){var e=[],t=a.props.msg;return t.canReply()&&e.push(l.createElement(j.MenuBarItem,{key:"btnReply",icon:l.createElement(y.default,{name:"reply"}),title:l10n.t(957),onClick:a.props.onReplyClick})),e.push(a.getStarMenuBarItem()),e.push(l.createElement(j.MenuBarItem,{key:"btnDelete",icon:l.createElement(y.default,{name:"delete"}),title:l10n.t(1229),onClick:a.props.onDeleteClick})),t.canForward()&&e.push(a.getForwardMenuBarItem()),e.push(a.getDropdownMenuBarItem()),e},a.getStarMenuBarItem=function(){var e,t,n;return a.props.msg.star?(e=a.props.onUnstarClick,t="unstar-btn",n=l10n.t(1111)):(e=a.props.onStarClick,t="star-btn",n=l10n.t(1060)),l.createElement(j.MenuBarItem,{key:t,icon:l.createElement(y.default,{name:t}),title:n,onClick:e})},a.getForwardMenuBarItem=function(){return l.createElement(j.MenuBarItem,{key:"btnForward",icon:l.createElement(y.default,{name:"forward"}),title:l10n.t(481),onClick:a.props.openForwardFlow})},a.getDropdownMenuBarItem=function(){var e=[];return a.props.msg.isSentByMe&&e.push(l.createElement(g.default,{key:"dropdownMsgInfo",action:a.props.onMsgInfoClick},l10n.t(737))),e.push(l.createElement(g.default,{key:"dropdownGoToMsg",action:a.props.onGoToMsgClick},l10n.t(522)),l.createElement(g.default,{key:"dropdownDownload",action:a.props.onDownloadClick,disabled:!a.isMediaDownloadable()},l10n.t(1193))),l.createElement(j.MenuBarItem,{key:"btnMenu",icon:l.createElement(y.default,{name:"menu",color:"black"}),title:l10n.t(729)},l.createElement(p.default,{type:"dropdown_menu",key:"MediaPanelHeaderDropdown",flipOnRTL:!0,dirX:p.DirX.LEFT},e))},a.isMediaDownloadable=function(){var e=a.props.mediaData;return!!e.renderableUrl||e.mediaStage===b.default.STAGE.RESOLVED},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=this.props.msg,t=e.displayName(!0,!0);e.isGroupMsg&&(t+=" @ "+e.chat.title());return l.createElement("div",{className:v.default.mediaPanelHeader},l.createElement("div",{className:v.default.info},l.createElement(u.default,{idle:!0,image:l.createElement(h.default,{id:e.sender,size:40}),primary:l.createElement(m.default,{ellipsify:!0,text:t}),secondary:f.default.relativeDateAndTimeStr(e.t),theme:"media"})),l.createElement("div",{className:v.default.mediaPanelTools},l.createElement(j.MenuBar,{key:"media-panel-header",theme:"strong"},this.getMenuBtns(),l.createElement(j.MenuBarItem,{a8nText:"btn-close",icon:l.createElement(y.default,{name:"x-viewer"}),title:l10n.t(1202),onClick:this.props.onClose}))))}}]),t}(l.PureComponent);_.CONCERNS={msg:["star","isGroupMsg","chat","type","isGif","sender","t","isSentByMe"],mediaData:["filehash","mediaStage","renderableUrl"]};var S=(0,E.default)(_,_.CONCERNS);t.default=S},bdgehigfig:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.sendMsgRecord=function(e){return Promise.callSynchronously(function(){var t,a=e.id;m.default.Chat.find(a.remote).then(function(e){e.isTrusted()||(0,p.sendNotSpam)(e).catch(function(){})}),v.default.isBroadcast(e.to)&&(t=(0,f.broadcastFanout)(e)),e.isNewMsg=!0;var n,j=e.type===r.default.MSG_TYPE.PROTOCOL&&"revoke"===e.subtype;return e.isGroupMsg||j||!i.default.get(e.to)?(j||(n=new l.default.WebcMessageSend({messageType:e.getWamMessageType(),messageMediaType:e.getWamMediaType(),messageIsForward:Boolean(e.isForwarded)})),m.default.Chat.find(e.id.remote).then(function(t){return g.default.ephemeralMessages&&t.isEphemeralSettingOn()&&(e.ephemeralDuration=t.getEphemeralSetting()),(0,b.sendSeen)(t),m.default.Msg.trigger(r.default.NEW_MSG_SENT),Promise.props({reply:(0,h.sendMsgRecord)(e),chat:t})}).then(function(i){var s=i.reply,d=i.chat,l=a.remote,f=a.fromMe&&v.default.equals(a.remote,o.default.me)?3:s.data?s.data.ack:1;return e.updateAck(f,s.t),n&&(n.markMessageSendT(),n.commit()),e.type!==r.default.MSG_TYPE.PROTOCOL&&(d.lastReceivedKey=a),m.default.Msg.updateLastReceipt(l,s.t),v.default.isBroadcast(l)&&(t?t.forEach(function(e){var t=new u.default({from:o.default.me,to:e,id:a.id}),n=m.default.Msg.get(t);n&&(n.ack=1,m.default.Msg.updateLastReceipt(e,n.t),null==n.ephemeralStartTimestamp&&n.updateEphemeralStartTimestamp(n.t),m.default.Chat.find(e).then(function(e){e.lastReceivedKey=t}))}):c.default.log("model:msg:createRecord bclist server ack, no recipients")()),"success"}).catch(d.ServerStatusCodeError,function(t){if(408!==t.status){var a=e.toJSON();c.default.log("json.body: "+JSON.stringify(a.body))(),a.body=void 0,c.default.logVerbose("Json: "+JSON.stringify(a))(),c.default.assert(!1,"send-not-200","Phone responded ".concat(t.status))()}return"dropped"}).catch(function(t){return c.default.error("model:msg:createRecord dropped msg: "+e.id.toString())(e.type),c.default.assert(!1,"send-msg-error","Got error ".concat(String(t)))(t),"dropped"})):Promise.reject(new s.default("Contact is blocked",m.default.Contact.assertGet(e.to)))}).finally(function(){e.promises.sendPromise&&e.promises.sendPromise.control.settled()})};var i=n(a("bgfcjjddjf")),r=n(a("baagejbchg")),o=n(a("bjigbaghc")),s=n(a("beecadabde")),d=a("ddjgcfjicj"),c=n(a("bdiiahhjbe")),l=n(a("bfbggcdbfb")),u=n(a("cffajefeag")),f=a("ccbagdhfbb"),h=a("cjafhagbj"),p=a("dcbafbaejf"),g=n(a("bfgbdiffgd")),m=n(a("bhggeigghg")),b=a("dgdhcdgffe"),v=n(a("jccfhaecf"))},bdghdbcbdc:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=n(a("ddhijeejag")),u=i(a("ceffhbhahb")),f=i(a("eadgafjbag")),h=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i))))._handleMouseDown=function(e){e.stopPropagation()},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){return l.createElement("div",{className:(0,u.default)(f.default.container,this.props.className),onMouseDown:this._handleMouseDown},this.props.children)}}]),t}(l.PureComponent);t.default=h},bdgjaajijj:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=n(a("ddhijeejag")),u=i(a("bhaigiibeh")),f=i(a("bbchdeehff")),h=n(a("dcghjbcbii")),p=n(a("cajijabhgb")),g=i(a("bcbahjefec")),m=n(a("ffchhcfdj")),b=n(a("dcecgegjfc")),v=n(a("chcadgfgad")),j=a("dgfecega"),E=i(a("bjbedjfe")),y=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).refCaptureDrawer=null,a.setRefCaptureDrawer=function(e){a.refCaptureDrawer=e},a.pushPermissionModal=function(){a.push(l.createElement(m.default,{messaging:m.Messaging.CAMERA,type:m.default.TYPE.GUIDE_ALLOW,onConfirm:a.popModal}),"modal")},a.popModal=function(){a.pop("modal")},a.startCaptureDrawer=function(){var e=b.start("camera",a.pushPermissionModal);Promise.race([e,a.props.rejectOnUnmount()]).checkpoint(a.props.rejectOnUnmount()).then(function(e){a.refCaptureDrawer||a.popModal(),e&&a.refCaptureDrawer&&a.refCaptureDrawer.loadNewStream(e)}).catch(p.GUM.NotAllowedError,function(){a.cleanUp(),f.default.openModal(l.createElement(m.default,{messaging:m.Messaging.CAMERA_FAIL,type:m.default.TYPE.GUIDE_UNBLOCK}))}).catch(p.GUM.GUMError,function(){a.cleanUp(),f.default.openModal(l.createElement(m.default,{messaging:m.Messaging.CAMERA_MISSING,type:m.default.TYPE.GUIDE_NONE}))})},a.onFinished=function(e,t){a.props.onFinished(e,t),a.cleanUp()},a.cleanUp=function(){a.end()},a.onRetake=function(){a.pop("flow-transition-box-size-drawer-pop"),a.startCaptureDrawer()},a.onCaptured=function(e){a.push(l.createElement(v.default,{type:v.BoxModalType},l.createElement(h.default,{onRetake:a.onRetake,retryText:h.RETRY_OPTIONS.RETAKE,onFinished:a.onFinished,onCancel:a.cleanUp,img:e})),"flow-transition-box-size-drawer-push")},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){this.push(l.createElement(v.default,{type:v.BoxModalType},l.createElement(u.default,{ref:this.setRefCaptureDrawer,stream:void 0,caption:!1,layoutType:j.FIT_TYPE.COVER,onBack:this.cleanUp,onSend:null,onCaptured:this.onCaptured,chat:void 0}))),this.startCaptureDrawer()}}]),t}(g.default),_=(0,E.default)(y);t.default=_},bdhbdihbca:function(e,t){e.exports={cancelIcon:"_2MUsN",inputContainer:"_2gisX",inputEmojiSearch:"_2GXNm",searchRow:"_2Qm0c",ffFix:"_664gn",rowShadow:"_16-WE",rowInput:"_2hMsh"}},bdheiggeaf:function(e,t,a){"use strict";var n=a("cfjecfhbfg"),i=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.setPin=function(e,t){return function e(t,a){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:(0,o.genId)();var i=t.promises;i.setPin&&i.setPin.cancel();var l,u;a?l=Math.round(+new Date/1e3):u=t.pin;var f=(0,c.sendConversationPin)(t.id,l,u).cancellable();var h=a?new o.ActionType(l10n.t(37)):new o.ActionType(l10n.t(47));var p=f.then(function(i){var r;return 200===i.status?(r=a?l10n.t(36):l10n.t(46),new o.ActionType(r,l10n.t(159),function(){return e(t,!a,n)})):405===i.status?new o.ActionType(l10n.t(35)):i.status>=400?a?new o.ActionType(l10n.t(34)):new o.ActionType(l10n.t(45)):void 0}).catch(function(i){d.default.error("models:chat:setPin dropped")(i);var r=a?l10n.t(34):l10n.t(45);return new o.ActionType(r,l10n.t(155),function(){return e(t,a,n)})});s.default.openToast(r.createElement(o.ActionToast,{id:n,initialAction:h,pendingAction:p}));return i.setPin=f.then(function(e){200!==e.status||e._duplicate||(t.pin=l)}).finally(function(){i.setPin=null})}((0,l.unproxy)(e),t)};var r=i(a("ddhijeejag")),o=a("ccihhdchab"),s=n(a("bbchdeehff")),d=n(a("bdiiahhjbe")),c=a("cihffbbgjc"),l=a("bheafeifce")},bdhgicebce:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ParticipantCollection=t.MsgInfoParticipant=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("bjehdcaaj")),l=i(a("dbjagcfebh")),u=n(a("dcaifjegcg")),f=i(a("fcedgihic")),h=i(a("dhigahgdjb")),p=i(a("ccicaaeiaa")),g=i(a("cffajefeag")),m=i(a("jccfhaecf")),b=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).id=(0,u.prop)(),a.t=(0,u.prop)(),a.contact=(0,u.session)(),a}return(0,l.default)(t,e),(0,o.default)(t,[{key:"initialize",value:function(){(0,c.default)((0,d.default)(t.prototype),"initialize",this).call(this),this.addChild("contact",h.default.gadd(this.id))}}]),t}(u.default);b.Proxy="msgInfoParticipant",b.idClass=m.default;var v=(0,u.defineModel)(b);t.MsgInfoParticipant=v;var j=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,(0,d.default)(t).apply(this,arguments))}return(0,l.default)(t,e),t}(f.default);t.ParticipantCollection=j,j.model=v,j.comparator=function(e,t){return(0,p.default)(e.contact,t.contact)};var E=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).id=(0,u.prop)(),a.isPTT=(0,u.prop)(),a.playedRemaining=(0,u.prop)(0),a.readRemaining=(0,u.prop)(0),a.deliveryRemaining=(0,u.prop)(0),a.played=(0,u.collection)(j),a.read=(0,u.collection)(j),a.delivery=(0,u.collection)(j),a.settled=(0,u.derived)(a._settled,["isPTT","playedRemaining","readRemaining"]),a}return(0,l.default)(t,e),(0,o.default)(t,[{key:"_settled",value:function(){return this.isPTT?!this.playedRemaining:!this.readRemaining}},{key:"getCollection",value:function(){return a("eigdejjai").default}}]),t}(u.default);E.Proxy="msgInfo",E.idClass=g.default;var y=(0,u.defineModel)(E);t.default=y},bdigfbgefi:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("bhfcfhafdj")),r=n(a("eaidjcib")),o=n(a("dgcdacjddi")),s=n(a("ddbbigfbec")),d=n(a("cahfddcdga")),c=function(){function e(){(0,r.default)(this,e),this.rctKeyToData=new Map,this.keyToRctKey=new Map}return(0,o.default)(e,[{key:"genNewKeys",value:function(e){var t=e-this.rctKeyToData.size;if(t<=0)return[];for(var a=[],n=0;n<e&&(this.rctKeyToData.has(n)||(a.push(n),t!==a.length));n++);return a}},{key:"recycleKeysAndMap",value:function(e){var t=this,a=new Map,n=new Map,r=this.genNewKeys(e.length),o=new Set(this.rctKeyToData.keys()),c=[];e.forEach(function(e){var i=t.keyToRctKey.get(e.itemKey);void 0!==i?(n.set(e.itemKey,i),a.set(i,e),o.delete(i)):c.push(e)});var l=[].concat((0,i.default)(r),(0,i.default)(o));c.forEach(function(e){var t=l.pop();n.set(e.itemKey,t),a.set(t,e)});var u=(0,s.default)(e,[function(e){return n.get(e.itemKey)}]).map(function(e){return{rctKey:(0,d.default)(n.get(e.itemKey)),data:e}});return this.rctKeyToData=a,this.keyToRctKey=n,u}}]),e}();t.default=c},bdiihbaeaj:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var a=l({},u,{},e),n=a.signal,i=a.timeoutIncludesTaskDuration,o=(0,r.default)(a,["signal","timeoutIncludesTaskDuration"]),c=new d.default(o);return(0,s.default)({signal:n,timeoutIterator:c,timeoutIncludesTaskDuration:i},t)};var r=i(a("dagbcgeifg")),o=i(a("bhabhhjdch")),s=n(a("cajjjeihci")),d=n(a("cjjdbgcihf"));function c(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function l(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?c(Object(a),!0).forEach(function(t){(0,o.default)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):c(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var u=l({},d.defaults,{},s.defaults)},bdiiibjcij:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("bjehdcaaj")),l=i(a("dbjagcfebh")),u=i(a("cgcgbfbffj")),f=i(a("baagejbchg")),h=a("ddjgcfjicj"),p=n(a("cajijabhgb")),g=i(a("cbcbdjdah")),m=i(a("biecbbiiee")),b=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).hasDocBefore=!0,a}return(0,l.default)(t,e),(0,o.default)(t,[{key:"delete",value:function(){(0,c.default)((0,d.default)(t.prototype),"delete",this).call(this),this.stopListening(),this.reset()}},{key:"queryDocs",value:function(e,t){var a=this;if(t)return this.queryDocBefore?this.queryDocBefore:(this.queryDocBefore=m.default.queryMedia(t.id.remote,f.default.MEDIA_QUERY_LIMIT,"before",t.id,"document").then(function(e){return(!e||e.length<f.default.MEDIA_QUERY_LIMIT)&&(a.hasDocBefore=!1),a.add(e.filter(function(e){return e.isDoc}),{at:0}),{length:e.length}}).catch(h.WapDrop,p.ProtoVersionUndefined,function(){}).catch(404,function(){}).finally(function(){a.queryDocBefore=null,a.trigger("query_doc_before")}),this.trigger("query_doc_before"),this.queryDocBefore);var n=e.msgs;if(0===this.length){if(!n||0===n.length)return this.hasDocBefore=!1,new Promise(function(e){e({eof:!0})});this.add(n.filter(function(e){return e.isDoc}),{at:0})}if(e.msgs.msgLoadState.noEarlierMsgs)return this.hasDocBefore=!1,new Promise(function(e){e({eof:!0})});if(this.length<=2*f.default.MEDIA_QUERY_LIMIT){var i=0===this.length?n.head():this.head();return this.queryDocs(e,i)}return new Promise(function(e){e({eof:!1})})}}]),t}(u.default);t.default=b,b.model=g.default},bdjihaecid:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.StickerItem=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=n(a("ddhijeejag")),u=a("ddajbaceej"),f=i(a("dhfbfehaef")),h=i(a("ihfccfgdf")),p=a("bheafeifce"),g=i(a("bgghfidcfh")),m=i(a("ifbjhfegj")),b=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i))))._handleClick=function(e){var t=a.props.onClick;t&&t((0,p.unproxy)(a.props.sticker),e)},a._handleEnterKey=function(e){var t=a.props.onEnter;t&&t((0,p.unproxy)(a.props.sticker),e)},a._setRefContainer=function(e){a._refContainer=e},a._handleDownloadMedia=function(){return a.props.sticker.downloadMedia()},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){this.props.sticker.downloadMedia()}},{key:"focus",value:function(){this._refContainer&&(this.hasFocus()||(0,u.focus)(this._refContainer))}},{key:"getOffsetTop",value:function(){return this._refContainer?this._refContainer.offsetTop:0}},{key:"hasFocus",value:function(){return!!this._refContainer&&this._refContainer===document.activeElement}},{key:"render",value:function(){var e=this.props.sticker;return l.createElement(f.default,{onRef:this._setRefContainer,className:m.default.container,handlers:{enter:this._handleEnterKey}},l.createElement("div",{className:m.default.border},l.createElement(g.default,{mediaData:e.mediaData,onClick:this._handleClick,theme:"stickerPanel",loopAnimation:!0,downloadMedia:this._handleDownloadMedia})))}}]),t}(l.PureComponent);t.StickerItem=b,b.CONCERNS={sticker:["id","mediaData"]};var v=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,(0,d.default)(t).apply(this,arguments))}return(0,c.default)(t,e),(0,o.default)(t,[{key:"focus",value:function(){this.getComponent().focus()}},{key:"getOffsetTop",value:function(){return this.getComponent().getOffsetTop()}},{key:"hasFocus",value:function(){return this.getComponent().hasFocus()}}]),t}((0,h.default)(b,b.CONCERNS));t.default=v},beacbddhci:function(e,t,a){"use strict";var n=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("ddhijeejag")),r=a("eagfdbhhhh");function o(e){var t=e.children,a=e.selectable;return i.createElement(r.SelectableSpan,{className:"matched-text",selectable:a},t)}o.defaultProps={children:""};var s=o;t.default=s},beadfddidc:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.shouldEnableHsm=function(){return i.default.supportsFeature(i.default.F.MD_BACKEND)&&i.default.supportsFeature(i.default.F.MD_HSM)||i.default.supportsFeature(i.default.F.RICH_HSM)};var i=n(a("bjbdcigbdi"))},beafbeighe:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.shift();if(Array.isArray(t)){var a=[],n=[],i=[],s=[];t.forEach(function(e){if("c.us"===e.id)n.push(e);else{var t=!!S.default.Chat.get(e.id),i=["delete","clear","archive","unarchive","star","unstar","spam","modify_tag","pin","modify"].includes(e.type);i?t&&i?n.push(e):E.default.log("Model:chat:handle received junk chat record: "+JSON.stringify(e))():a.push(e)}});var A=a.findIndex(function(e){return C.default.isPSA(e.id)});A>-1&&(a[A].name=l10n.t(1468)),n.forEach(function(e){var t=e.type;if("c.us"===e.id){switch(S.default.Chat.disableSortListener(),t){case"clear":E.default.log("Model:chat:handle:clear:all before:".concat(String(e.before)," kind:").concat(String(e.kind)))(),S.default.Chat.forEach(function(t){"number"==typeof e.before?t.deleteMsgsOlderThan(e.before,e.star,e.kind):t.deleteMsgs(e.star,e.kind)});break;case"delete":E.default.log("Model:chat:handle:delete:all")(),S.default.Chat.toArray().forEach(function(e){e.isGroup?e.deleteMsgs(!0):i.push(e)});break;case"archive":E.default.log("Model:chat:handle:archive:all")(),S.default.Chat.forEach(function(e){s.push({id:e.id,archive:!0,pin:void 0})});break;case"unarchive":E.default.log("Model:chat:handle:unarchive:all")(),S.default.Chat.forEach(function(e){s.push({id:e.id,archive:!1})});break;case"unstar":E.default.log("Model:chat:handle:unstar:all")(),S.default.AllStarredMsgs.delete(),S.default.Chat.forEach(function(e){e.unstarAll()});break;default:E.default.error("Model:chat:handle unknown "+JSON.stringify(e),e)()}S.default.Chat.enableSortListener()}else{var a=S.default.Chat.get(e.id);if(!a)return;switch(t){case"clear":case"star":case"unstar":if(e.keys){for(var n=e.keys.length,r="star"===t,o=[],c=[],l=[],f=!1,h=0;h<n;h++){var p=void 0,g=void 0,m=void 0,b=void 0,v=void 0,j=e.keys[h];if(Array.isArray(j)){var _=(0,d.default)(j,3);p=_[0],g=_[1],m=_[2],b=new y.default({fromMe:g,remote:e.id,id:p,participant:m}),(v=S.default.Msg.get(b))?"clear"===t?v.delete():(v.star=r,l.push(v)):r&&(f=!0)}else!(0,u.default)(j)||"star"!==t&&"unstar"!==t||(b=j.id,(v=S.default.Msg.get(j.id))?(v.star=r,l.push(v)):c.push(j));o.push(b&&b.toString())}"star"!==t&&"unstar"!==t||S.default.AllStarredMsgs.process(r,c,l,f),E.default.log("model:Chat:handle:messages:"+[t,e.id,o.join(),e.modifyTag].join())()}else"clear"===t?("number"==typeof e.before?a.deleteMsgsOlderThan(e.before,e.star,e.kind):a.deleteMsgs(e.star,e.kind),E.default.log("model:Chat:handle cleared chat:"+[e.id,e.before,e.modifyTag,e.kind].join())()):"unstar"===t&&(a.unstarAll(),E.default.log("model:Chat:handle unstarred chat: "+e.id)());isNaN(e.modifyTag)||s.push({id:e.id,modifyTag:e.modifyTag});break;case"delete":i.push(a),E.default.log("model:Chat:handle deleted chat for "+String(e.id))();break;case"archive":s.push({id:e.id,archive:!0,pin:void 0});break;case"unarchive":s.push({id:e.id,archive:!1});break;case"spam":s.push({id:e.id,notSpam:e.notSpam});break;case"modify_tag":s.push({id:e.id,modifyTag:e.modifyTag});break;case"pin":s.push({id:e.id,pin:e.pin});break;case"modify":s.push({id:e.id,changeNumberOldJid:e.changeNumberOldJid,changeNumberNewJid:e.changeNumberNewJid})}}}),(b.default.supportsFeature(b.default.F.MD_BACKEND)?_.default.lock(["chat"],function(e){var t=(0,d.default)(e,1),n=t[0];return n.bulkCreateOrMerge(a.map(function(e){return M({},e,{id:e.id.toString()})})).then(function(){return Promise.map(s,function(e){var t=e.id,a=(0,o.default)(e,["id"]);n.merge(t.toString(),a)})}).then(function(){return n.bulkRemove(i.map(function(e){return e.id.toString()}))})}).catch(function(e){E.default.errorVerbose("ChatHandler: bulk handle error: ".concat(e))(),E.default.assert(!1,"ChatHandler: bulk handle error")(e)}):Promise.resolve()).then(function(){S.default.Chat.add(a,{merge:!0}),s.forEach(function(e){var t=e.id,a=(0,o.default)(e,["id"]),n=S.default.Chat.get(t);n&&n.set(a)}),i.forEach(function(e){return e.delete()})})}else if("leave"===t.cmd)t.gids.forEach(function(e){var t=S.default.Chat.get(e);t&&(0,m.localExitGroup)(t)});else if("preempt"===t.cmd){var T=b.default.supportsFeature(b.default.F.MD_BACKEND)?f.default.bulkCreateOrMerge(t.response.map(function(e){return M({},e,{id:e.id.toString()})})):Promise.resolve();T.then(function(){S.default.Chat.add(t.response,{merge:!0}),g.default.platform===g.PLATFORMS.IPHONE&&((0,l.default)(t.response)?S.default.Msg.trigger(p.default.COLLECTION_HAS_SYNCED):setTimeout(function(){S.default.Msg.trigger(p.default.COLLECTION_HAS_SYNCED)},2500)),S.default.Chat.trigger(p.default.COLLECTION_HAS_SYNCED,{count:t.response.length,binarySize:t.binarySize})})}else if("action"===t.cmd){var P=t.id,N=t.data;if("create"===N[0]||"introduce"===N[0]){var I=N[1],k=N[2],O=[].concat((0,r.default)((0,c.default)(k.admins,function(e){return{id:e,isAdmin:!0}})),(0,r.default)((0,c.default)(k.superadmins||[],function(e){return{id:e,isAdmin:!0,isSuperAdmin:!0}})),(0,r.default)((0,c.default)(k.regulars,function(e){return{id:e,isAdmin:!1}})));S.default.GroupMetadata.add({id:P,creation:k.creation,owner:I,participants:O,stale:!1,desc:k.desc,descId:k.descId,descTime:k.descTime,descOwner:k.descOwner,restrict:!!k.restrict,announce:!!k.announce},{merge:!0}),S.default.Contact.add({id:P,name:k.subject},{merge:!0});var R=S.default.Chat.get(P);if(!R)return;var w=R.msgs.last();if(!w)return;"gp2"===w.type&&"add"===w.subtype&&(S.default.GroupMetadata.trigger("group_participant_change_".concat(g.default.me.toString()),P),C.default.equals(w.recipients[0],g.default.me)&&h.default.alertNewMsg(w))}else{if(N.length<3)return void E.default.error("model:chat: incorrect length of payload data for action "+JSON.stringify(t))();var D,L=t.data[0],U="unknown"===t.data[1]?null:t.data[1];D=L===j.GROUP_ACTIONS.RESTRICT||L===j.GROUP_ACTIONS.ANNOUNCE||L===j.GROUP_ACTIONS.NO_FORWARD?{action:L,value:t.data[2]}:L===j.GROUP_ACTIONS.EPHEMERAL?{action:L,duration:t.data[2]}:M({action:L},t.data[2]),(0,v.handleGroupAction)({chatId:t.id,author:U},D)}}else E.default.error("model:chat: unknown payload: "+JSON.stringify(t))()};var r=i(a("bhfcfhafdj")),o=i(a("dagbcgeifg")),s=i(a("bhabhhjdch")),d=i(a("hbddjfeei")),c=i(a("dbafiicfja")),l=i(a("bebajedcaf")),u=i(a("bbfdjfific")),f=i(a("begbbgieee")),h=i(a("bbchdeehff")),p=i(a("baagejbchg")),g=n(a("bjigbaghc")),m=a("bafdehfigc"),b=i(a("bjbdcigbdi")),v=a("bggbjfdbhg"),j=a("cicdfhbegf"),E=i(a("bdiiahhjbe")),y=i(a("cffajefeag")),_=i(a("ffjiicch")),S=i(a("bhggeigghg")),C=i(a("jccfhaecf"));function A(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function M(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?A(Object(a),!0).forEach(function(t){(0,s.default)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):A(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}},beagfhhiea:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("hbddjfeei")),r=n(a("eaidjcib")),o=n(a("dgcdacjddi")),s=n(a("ffceefejc")),d=n(a("cjedcdbdii")),c=n(a("dbjagcfebh")),l=n(a("cgjbjefebj")),u=n(a("ceggedffg")),f=n(a("djegeegcbf")),h=n(a("dfbhcehadj")),p={"(y)":"","(n)":"",":-)":"",":-(":"",":-p":"",":-|":"",":-\\":"",":-d":"",":-*":"","<3":"","^_^":"",">_<":"",";-)":""},g=Object.keys(p).map(l.default).join("|"),m=new RegExp("(^|".concat("\\s|```|[*_~]",")((?:").concat(g,")+)(?=$|").concat("\\s|```|[*_~]",")"),"ig"),b=new RegExp("(".concat(g,")"),"i"),v=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,(0,d.default)(t).apply(this,arguments))}return(0,c.default)(t,e),(0,o.default)(t,null,[{key:"mutate",value:function(e){return e.split(b).map(function(e){var t=p[e.toLowerCase()];return t?f.default.getSkinToneEmojis()[t]&&h.default.getVariant(t)||t:e}).join("")}}]),t}((0,u.default)(m,2,function(e,t){var a=(0,i.default)(e,2)[1];a&&(e.index+=a.length,e[0]=e[0].slice(a.length));return e}));t.default=v,v.fragment=!0,v.mutates=!0},beahjdfigf:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("ccicaaeiaa")),r=function(e,t){return(0,i.default)(e.contact,t.contact)};t.default=r},bebbajcbbb:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=i(a("ceffhbhahb")),u=n(a("ddhijeejag")),f=(i(a("baagejbchg")),i(a("fifhbjiec"))),h=a("gaifbabbj"),p=i(a("fffdgbfji")),g=i(a("dbbbgjbbgf")),m=i(a("cfiighfhhg")),b=i(a("bihbdchfhc")),v=i(a("ihfccfgdf")),j=i(a("dbabefhajh")),E=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,(0,d.default)(t).apply(this,arguments))}return(0,c.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e,t,a,n=this.props.msg,i=n.paymentNoteMsg&&n.paymentNoteMsg.body;if(i){var r=(n.isTrusted()?h.Configuration.TrustedConversation:h.Configuration.UntrustedConversation)({mentions:n.mentionMap(),links:n.getLinks()});e=u.createElement(g.default,{msg:n},u.createElement(f.default,{text:i,selectable:!0,formatters:r,dirMismatch:n.rtl!==p.default.isRTL(),direction:n.dir}))}if(this.props.quotedMsg){var o=(0,l.default)(b.default.quote,{[b.default.hasAuthor]:this.props.displayAuthor&&!n.isSentByMe&&n.isGroupMsg,[b.default.forwarded]:n.showForwarded()});t=u.createElement("div",{className:o},this.props.quotedMsg)}var s=p.default.t(1345);this.props.placeholderText&&(a="ciphertext",s=this.props.placeholderText);var d=(0,l.default)({[b.default.hasText]:e,[b.default.noText]:!e});return u.createElement(j.default,{msg:n,displayAuthor:this.props.displayAuthor},t,this.props.paymentInfo,u.createElement("div",{className:d},u.createElement(m.default,{hasCaption:!!e,iconName:a,msg:n},s)),e)}}]),t}(u.Component);E.CONCERNS={msg:["rtl","dir","isSentByMe","isGroupMsg","isPSA","senderObj","paymentNoteMsg"]};var y=(0,v.default)(E,E.CONCERNS);t.default=y},bebecagjgj:function(e,t){e.exports={bodyContainer:"QChXd",list:"_1LsoD",search:"xq3Z0",hidden:"_3jqaL"}},becbhcadc:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("ebaacddagf")),r=new(n(a("bfdbhfjbdd")).default);(0,i.default)(r);var o=r;t.default=o},becefacdff:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("eaidjcib")),r=n(a("dgcdacjddi")),o=n(a("ffceefejc")),s=n(a("cjedcdbdii")),d=n(a("bjehdcaaj")),c=n(a("dbjagcfebh")),l=n(a("cgcgbfbffj")),u=n(a("cbcbdjdah")),f=function(e){function t(){var e,a;(0,i.default)(this,t);for(var n=arguments.length,r=new Array(n),d=0;d<n;d++)r[d]=arguments[d];return(a=(0,o.default)(this,(e=(0,s.default)(t)).call.apply(e,[this].concat(r)))).hasProductBefore=!0,a}return(0,c.default)(t,e),(0,r.default)(t,[{key:"delete",value:function(){(0,d.default)((0,s.default)(t.prototype),"delete",this).call(this),this.stopListening(),this.reset()}},{key:"queryProducts",value:function(e,t){var a=e.msgs;return this.hasProductBefore=!1,this.add(a.filter(function(e){return e.isProduct}),{at:0}),Promise.resolve()}}]),t}(l.default);t.default=f,f.model=u.default,f.comparator=function(e,t){return e.t-t.t}},becegcbegb:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.mimeType,a=e.filename,n=(0,s.default)(d.default.icon,l[t]?l[t].icon:"icon-doc-generic");return o.createElement("div",{className:d.default.container,"data-animate-attach-media":!0},o.createElement("div",{className:d.default.media},o.createElement("div",{className:d.default.document},o.createElement("div",{className:n}),o.createElement("div",{className:d.default.text},a))))};var r=i(a("bgeijhbbad")),o=n(a("ddhijeejag")),s=i(a("ceffhbhahb")),d=i(a("cihjadddhc")),c=a("behbjhhbg"),l=(0,r.default)(c.MIMETYPES,function(e){return"document"===e.msgType})},bechdajic:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BUSINESS_HOUR_MODES=t.DAYS_OF_WEEK=void 0;t.DAYS_OF_WEEK=["sun","mon","tue","wed","thu","fri","sat"];t.BUSINESS_HOUR_MODES={OPEN_24H:"open_24h",SPECIFIC_HOURS:"specific_hours",APPOINTMENT_ONLY:"appointment_only"}},bechejbabh:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.QuickReplyCollection=void 0;var i=n(a("eaidjcib")),r=n(a("dgcdacjddi")),o=n(a("ffceefejc")),s=n(a("cjedcdbdii")),d=n(a("bjehdcaaj")),c=n(a("dbjagcfebh")),l=n(a("cgcgbfbffj")),u=a("ddjgcfjicj"),f=n(a("bjbdcigbdi")),h=n(a("ddeghajfaj")),p=n(a("ceddibdhdb")),g=n(a("bihdhbjih")),m=function(e){function t(){var e,a;(0,i.default)(this,t);for(var n=arguments.length,r=new Array(n),d=0;d<n;d++)r[d]=arguments[d];return(a=(0,o.default)(this,(e=(0,s.default)(t)).call.apply(e,[this].concat(r)))).checksum=void 0,a.flushCountsTimer=new p.default(function(){a.hasPendingCounts()&&a.flushCounts()}),a.sortQuickReply=function(e,t){return e.totalCount===t.totalCount?e.id<t.id?-1:1:e.totalCount>t.totalCount?-1:1},a.onCountsFlushed=function(e){var t=e.id,n=e.count,i=a.get(t);i&&(i.count=n,i.pendingCount=0)},a}return(0,c.default)(t,e),(0,r.default)(t,[{key:"delete",value:function(){(0,d.default)((0,s.default)(t.prototype),"delete",this).call(this),delete this.checksum}},{key:"filterShortcuts",value:function(e){return this.filter(function(t){return t.shortcut.toLowerCase().startsWith(e.toLowerCase())}).sort(this.sortQuickReply)}},{key:"sync",value:function(e){f.default.supportsFeature(f.default.F.QUICK_REPLIES_QUERY)&&(this.synced()&&this.checksum===e?this.hasPendingCounts()&&this.flushCounts():this.findQuery({}).catch(u.WapDrop,function(){}))}},{key:"periodicFlush",value:function(){f.default.supportsFeature(f.default.F.QUICK_REPLIES_QUERY)&&this.flushCountsTimer.debounceAndCap(2e3,5e3)}},{key:"updateChecksum",value:function(e){this.checksum=e}},{key:"synced",value:function(){return void 0!==this.checksum}},{key:"hasPendingCounts",value:function(){return this.some(function(e){return e.pendingCount>0})}},{key:"getAllPendingCounts",value:function(){var e={};return this.forEach(function(t){var a=t.id,n=t.pendingCount;n>0&&(e[a]=n)}),e}},{key:"flushCounts",value:function(){var e=this,t=this.getAllPendingCounts();g.default.flushQuickReplyCounts(t).then(function(a){a.checksum&&e.updateChecksum(a.checksum),a.data.filter(function(e){var a=e.id;return void 0!==t[a]}).forEach(e.onCountsFlushed)}).catch(u.WapDrop,function(){})}},{key:"_findQuery",value:function(){var e=this,t=this.getAllPendingCounts();return g.default.queryQuickReplies(t).then(function(a){return a.checksum&&e.updateChecksum(a.checksum),a.data.filter(function(e){var a=e.id;return void 0!==t[a]}).forEach(e.onCountsFlushed),a.data})}},{key:"handle",value:function(e){e.checksum&&this.updateChecksum(e.checksum);var t=[],a=[];e.quickReplies.forEach(function(e){"delete"===e.type?t.push(e):a.push(e)}),this.remove(t.map(function(e){return e.id})),this.add(a,{merge:!0})}}]),t}(l.default);t.QuickReplyCollection=m,m.model=h.default;var b=new m;t.default=b},becjcdaafd:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.rmrSticker=function(e,t,a){return r.default.assert(a,"media-fault: rmr called on MediaObject without sticker")(),s.default.mediaUpload("sticker",a.id).tap(function(a){var n=a.sticker;if(200===a.status&&n){t.forEach(function(e){var t=(0,i.default)(e,2),a=t[0];t[1]||(a.directPath===n.directPath&&r.default.assert(!1,"rmrSticker:same-direct-path-after-rmr")(),a.clientUrl=n.url,a.filehash=n.filehash,a.width=n.width,a.height=n.height,a.mediaKey=n.mediaKey,a.mediaKeyTimestamp=0,a.directPath=n.directPath,a.uploadhash=n.encFilehash,n.mimetype&&(a.mimetype=n.mimetype))});var s=e.addEntry(n.url,n.mediaKey,0,n.encFilehash,o.default.STICKER,null,n.directPath);s&&s.markWhetherOnServer(!0)}})},t.rmrStickerPack=function(e,t,a){return r.default.assert(a,"media-fault: rmr called on MediaObject without stickerPack")(),s.default.mediaUpload("sticker-pack",a.id).tap(function(a){var n=a.stickerPack;if(200===a.status&&n){t.forEach(function(e){var t=(0,i.default)(e,2),a=t[0];t[1]||(a.directPath===n.directPath&&r.default.assert(!1,"rmrStickerPack:same-direct-path-after-rmr")(),a.url=n.url,a.filehash=n.filehash,a.mediaKey=n.mediaKey,a.mediaKeyTimestamp=0,a.directPath=n.directPath,a.uploadhash=n.encFilehash,n.mimetype&&(a.mimetype=n.mimetype))});var s=e.addEntry(n.url,n.mediaKey,0,n.encFilehash,o.default.IMAGE,null,n.directPath);s&&s.markWhetherOnServer(!0)}})};var i=n(a("hbddjfeei")),r=n(a("bdiiahhjbe")),o=n(a("gbjefdbgb")),s=n(a("bihdhbjih"))},bedcejaea:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=i(a("cgjbjefebj")),u=n(a("ddhijeejag")),f=i(a("cefgfgdhj")),h=i(a("beacbddhci")),p=i(a("fffdgbfji")),g=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,(0,d.default)(t).apply(this,arguments))}return(0,c.default)(t,e),(0,o.default)(t,null,[{key:"match",value:function(e,t){if(!t)return[];var a=t.terms,n=t.boundary,i=void 0!==n&&n,r=t.ignoreDiacritics,o=void 0!==r&&r;if(!a.length)return[];var s=o&&p.default.isLatinAlphabetLanguage(e)&&a.every(function(e){return p.default.isLatinAlphabetLanguage(e)})&&!p.default.isRTL(),d=s?p.default.removeAccents(e):e;return(0,f.default)(d,function(e,t,a){var n=(a?e.map(function(e){return p.default.removeAccents(e)}):e).map(l.default).join("|");if(p.default.isRTL())return new RegExp("".concat(t?"(?:^|\\b)":"","(\\S+)?(").concat(n,")(\\S+)?"),"ig");return new RegExp("".concat(t?"(?:^|\\b)":"","(").concat(n,")"),"ig")}(a,i,s))}}]),t}(i(a("gjhhbhigc")).default);t.default=g,g.jsx=function(e,t,a){var n=a.selectable;return u.createElement(h.default,{selectable:n},e)}},beddiafhbh:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.FULLSCREEN_CONTROLS_DISPLAY_TIMEOUT=void 0;var r=i(a("bhabhhjdch")),o=i(a("eaidjcib")),s=i(a("dgcdacjddi")),d=i(a("ffceefejc")),c=i(a("cjedcdbdii")),l=i(a("dbjagcfebh")),u=i(a("eaaagccfda")),f=i(a("ceffhbhahb")),h=n(a("ddhijeejag")),p=i(a("bigcibhibh")),g=a("cgecdbiihg"),m=i(a("bidfjbaebi")),b=i(a("dbfiijcdie")),v=i(a("chbfbiahhb")),j=i(a("fffdgbfji")),E=i(a("eceadcicaf")),y=i(a("bffjfbgbg")),_=n(a("ecibddhig")),S=a("dcfaachegb"),C=i(a("ccjagcdajg")),A=n(a("bbdfiiibib")),M=i(a("bcafcjajcb")),T=i(a("cgajhcgiji")),P=i(a("bhdgigicfd")),N=i(a("bfdcadbbif")),I=i(a("bcjcbbafcj")),k=i(a("bdacfjbfhj")),O=i(a("didfdhbecg")),R=i(a("bjhhaacbib"));function w(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function D(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?w(Object(a),!0).forEach(function(t){(0,r.default)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):w(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var L=3e3;t.FULLSCREEN_CONTROLS_DISPLAY_TIMEOUT=L;var U=function(e){function t(e){var a;return(0,o.default)(this,t),(a=(0,d.default)(this,(0,c.default)(t).call(this,e))).resetMouseMoveRecently=(0,u.default)(function(){a.setState({mouseMoveRecently:!1})},L),a.buffered=[],a.setRefVideo=function(e){a.refVideo=e},a.setRefContainer=function(e){a.refContainer=e,a.refContainer},a.handleLoadedMetadata=function(e,t){var n=null!=a.props.startTime?a.props.startTime:0;a.setState({videoMetadata:{duration:e.duration,currentTime:n,volume:e.volume,muted:e.muted,bufferedTime:0}}),a.props.onAspectRatio&&e.videoWidth&&e.videoHeight&&a.props.onAspectRatio(e.videoWidth/e.videoHeight),a.props.onLoadedMetadata&&a.props.onLoadedMetadata(t)},a.handleTimeUpdate=function(e){var t=null,n=a.state.videoMetadata;n&&(t=D({},n,{currentTime:e,bufferedTime:a.getRelevantBufferedTime(a.buffered,e)}));a.setState({videoMetadata:t})},a.handleVolumeChange=function(e){var t=null;a.state.videoMetadata&&(t=D({},a.state.videoMetadata,{volume:e.volume,muted:e.muted})),a.setState({videoMetadata:t})},a.handleEnded=function(){a.props.onVideoEnded&&a.props.onVideoEnded(),a.setState({isVideoPlaying:!1})},a.handleError=function(e){20!==e?(a.setState({isVideoError:!0}),a.props.onError&&a.props.onError()):a.setState({isVideoPlaying:!1})},a.handlePause=function(){a.setState({isVideoPlaying:!1})},a.handlePlaying=function(){a.setState({isVideoPlaying:!0})},a.handleProgress=function(e){a.buffered=e;var t=a.state.videoMetadata;if(t){var n=t.currentTime,i=D({},t,{bufferedTime:a.getRelevantBufferedTime(e,n)});a.setState({videoMetadata:i})}},a.handleEnterFullscreen=function(e){e.stopPropagation(),b.default.requestFullscreen(a.refContainer)},a.handleExitFullscreen=function(e){e.stopPropagation(),b.default.exitFullscreen()},a.handleFullscreenToggleButtonClick=function(e){a.state.isFullscreenMode?a.handleExitFullscreen(e):a.handleEnterFullscreen(e)},a.state={videoMetadata:null,isVideoPlaying:!1,isVideoError:!1,isMouseOver:!1,mouseMoveRecently:!1,isFullscreenMode:b.default.isFullscreenMode},a}return(0,l.default)(t,e),(0,s.default)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.listeners.add(b.default,"fullscreen_change",function(){b.default.isFullscreenMode&&b.default.fullscreenElement===e.refContainer?e.setState({isFullscreenMode:!0}):b.default.isFullscreenMode||e.setState({isFullscreenMode:!1})})}},{key:"componentWillUnmount",value:function(){this.resetMouseMoveRecently.cancel()}},{key:"getCurrentTimeFromVideo",value:function(){return this.refVideo?this.refVideo.getCurrentTime():0}},{key:"getVolumeFromVideo",value:function(){return this.refVideo?this.refVideo.getVolume():0}},{key:"getMutedFromVideo",value:function(){return!!this.refVideo&&this.refVideo.getMuted()}},{key:"getRelevantBufferedTime",value:function(e,t){for(var a=0,n=0;n<e.length;n++)if(t>=e[n][0]&&t<e[n][1]){a=e[n][1];break}return a}},{key:"renderMedia",value:function(){switch(this.props.type){case g.PLAYER_TYPE.FLOATER:case g.PLAYER_TYPE.MEDIA_VIEWER:return this.renderMsgMedia();case g.PLAYER_TYPE.OG_FLOATER:return this.renderOgMedia()}return null}},{key:"renderOgMedia",value:function(){var e=this.props.ogVideoInfo;if(!e)return null;var t={backgroundImage:"url(".concat(e.previewUrl,")")};return h.createElement(h.Fragment,null,this.state.isFullscreenMode?null:h.createElement("div",{className:P.default.preview,style:t}),""!==e.videoUrl?h.createElement(k.default,{ref:this.setRefVideo,key:"floating-media",url:e.videoUrl,startTime:this.props.startTime,onEnded:this.handleEnded,onError:this.handleError,onLoadedMetadata:this.handleLoadedMetadata,onPause:this.handlePause,onPlaying:this.handlePlaying,onProgress:this.handleProgress,onTimeUpdate:this.handleTimeUpdate,onVolumeChange:this.handleVolumeChange,autoPlay:this.props.autoPlay},j.default.t(1151)):null)}},{key:"renderMsgMedia",value:function(){var e=this.props.msgVideoInfo;if(!e)return null;var t=e.mediaData.preview;if(this.isMediaRenderable()){var a=t?{backgroundImage:"url(".concat(t.url(),")")}:void 0;return h.createElement(h.Fragment,null,this.state.isFullscreenMode||this.props.type!==g.PLAYER_TYPE.FLOATER?null:h.createElement("div",{className:P.default.preview,style:a}),h.createElement(C.default,{ref:this.setRefVideo,key:"floating-media",msg:e.msg,mediaData:e.mediaData,className:P.default.videoTag,startTime:this.props.startTime,onEnded:this.handleEnded,onError:this.handleError,onLoadedMetadata:this.handleLoadedMetadata,onPause:this.handlePause,onPlaying:this.handlePlaying,onProgress:this.handleProgress,onTimeUpdate:this.handleTimeUpdate,onVolumeChange:this.handleVolumeChange,autoPlay:this.props.autoPlay},j.default.t(1151)))}return t?h.createElement("img",{key:"floating-media",src:t.url(),draggable:"false"}):null}},{key:"isMediaRenderable",value:function(){switch(this.props.type){case g.PLAYER_TYPE.FLOATER:case g.PLAYER_TYPE.MEDIA_VIEWER:var e=this.props.msgVideoInfo;if(!e)return!1;var t=e.mediaData;return t.mediaStage===y.default.STAGE.RESOLVED||t.streamable&&t.isStreamable();case g.PLAYER_TYPE.OG_FLOATER:return!0}return!0}},{key:"renderMediaStage",value:function(){switch(this.props.type){case g.PLAYER_TYPE.FLOATER:case g.PLAYER_TYPE.MEDIA_VIEWER:var e=this.props.msgVideoInfo;return e?h.createElement("div",{className:P.default.mediaStageWrapper},h.createElement(S.MediaStage,{msg:e.msg,mediaData:e.mediaData})):null;case g.PLAYER_TYPE.OG_FLOATER:var t=this.props.ogVideoInfo;return t&&""===t.videoUrl?h.createElement("div",{className:P.default.mediaStageWrapper},h.createElement(_.Pending,null)):null}return null}},{key:"renderVideoControls",value:function(){if(!this.isMediaRenderable())return null;var e=this.state.videoMetadata;return e?h.createElement(R.default,{refVideo:this.refVideo,videoMetadata:e,isFullscreenMode:this.state.isFullscreenMode,isVideoPlaying:this.state.isVideoPlaying}):null}},{key:"renderErrorMessage",value:function(){return h.createElement(M.default,null,j.default.t(910),this.renderErrorMessageLink())}},{key:"renderErrorMessageLink",value:function(){if(this.props.type!==g.PLAYER_TYPE.OG_FLOATER)return null;if(!this.props.ogVideoInfo)return null;var e=this.props.ogVideoInfo.videoMsg.matchedText;return h.createElement(m.default,{className:P.default.errorLink,href:e},h.createElement("span",null,j.default.t(911)),h.createElement(N.default,{directional:!0,display:"inline",name:"chevron-right-text",className:P.default.errorLinkChevron}))}},{key:"render",value:function(){var e,t,a,n=this,i=this.isMediaRenderable();i&&(t=h.createElement(v.default,{isFullscreenMode:this.state.isFullscreenMode,onClick:this.handleFullscreenToggleButtonClick}));var r,o=h.createElement(p.default,{isFullscreenMode:this.state.isFullscreenMode,onClick:function(e){e.stopPropagation(),n.props.onClose()}});switch(this.props.type){case g.PLAYER_TYPE.OG_FLOATER:case g.PLAYER_TYPE.FLOATER:e=h.createElement(h.Fragment,null,I.default.isSafari?null:t,o);break;case g.PLAYER_TYPE.MEDIA_VIEWER:var s;s=this.state.isFullscreenMode?o:i?h.createElement(A.default,{onClick:function(e){e.stopPropagation(),n.props.onClose&&n.props.onClose(),n.props.onOpenVideoFloater&&n.props.onOpenVideoFloater()},theme:A.PIP_BUTTON_THEME.PLAYER}):null,e=h.createElement(h.Fragment,null,t,s),a=function(e){e.stopPropagation(),n.refVideo&&(n.state.isVideoPlaying?n.refVideo.pause():n.refVideo.play())}}r=this.state.isFullscreenMode?h.createElement(h.Fragment,null,h.createElement(T.default,{theme:"upper"}),h.createElement(T.default,{theme:"lower"})):this.props.type===g.PLAYER_TYPE.MEDIA_VIEWER?h.createElement(T.default,{theme:"full-sharp"}):h.createElement(T.default,{theme:"full-rounded"});var d=this.state.isVideoError?this.renderErrorMessage():null;return h.createElement("div",{ref:this.setRefContainer,key:"elementsWrapped",className:(0,f.default)(P.default.container,{[P.default.fullscreen]:this.state.isFullscreenMode}),onMouseEnter:function(e){n.setState({isMouseOver:!0})},onMouseLeave:function(e){n.setState({isMouseOver:!1})},onMouseDown:function(e){n.state.isFullscreenMode&&e.stopPropagation()},onMouseMove:function(e){n.state.isMouseOver||n.setState({isMouseOver:!0}),n.state.mouseMoveRecently||n.setState({mouseMoveRecently:!0}),n.resetMouseMoveRecently()},onClick:a},h.createElement("div",{className:P.default.videoFloaterMedia},this.renderMedia()),this.renderMediaStage(),d,this.props.overlays,h.createElement(O.default,{transitionName:"fade-fast"},this.state.isMouseOver&&this.state.mouseMoveRecently?h.createElement(h.Fragment,null,r,this.renderVideoControls(),e):null))}}]),t}(h.Component),G=function(e){function t(){var e,a;(0,o.default)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=(0,d.default)(this,(e=(0,c.default)(t)).call.apply(e,[this].concat(i)))).getCurrentTimeFromVideo=function(){return a.getComponent().getCurrentTimeFromVideo()},a}return(0,l.default)(t,e),t}((0,E.default)(U));t.default=G},bedfbecdgd:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.MediaListener=t.SelectionListener=t.WhileFocusedListener=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=n(a("ddhijeejag")),u=i(a("bbchdeehff")),f=i(a("eceadcicaf")),h=i(a("ihfccfgdf")),p=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).scrollMsg=function(e,t){a.props.parent.scrollMsg(e,t)},a.flashFocusedMsg=function(e){a.props.parent.highlight(e)},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){this.props.listeners.add(u.default,"scroll_to_focused_msg",this.scrollMsg),this.props.listeners.add(u.default,"flash_focused_msg",this.flashFocusedMsg)}},{key:"render",value:function(){return null}}]),t}(l.PureComponent),g=(0,f.default)(p);t.WhileFocusedListener=g;var m=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).onSelectChange=function(e){a.props.parent.onSelectChange(e)},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.listeners,a=e.msgId,n=e.selectedMessages;t.add(n,a,this.onSelectChange)}},{key:"componentDidUpdate",value:function(e){var t=this.props,a=t.listeners,n=t.msgId,i=t.selectedMessages;e.selectedMessages!==i&&(a.remove(e.selectedMessages,n,this.onSelectChange),a.add(i,n,this.onSelectChange))}},{key:"render",value:function(){return null}}]),t}(l.PureComponent),b=(0,f.default)(m);t.SelectionListener=b;var v=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,(0,d.default)(t).apply(this,arguments))}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentDidUpdate",value:function(){this.props.parent.forceUpdate()}},{key:"render",value:function(){return null}}]),t}(l.PureComponent);v.CONCERNS={mediaData:["isGif"]};var j=(0,h.default)(v,v.CONCERNS);t.MediaListener=j},beebhcdhhh:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=n(a("ddhijeejag")),u=i(a("cfaiaibca")),f=i(a("dhfbfehaef")),h=i(a("djhbegbdaf")),p=i(a("chcadgfgad")),g=i(a("bhheahajjg")),m=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).blockContact=function(e){e.stopPropagation(),e.preventDefault(),a.props.onBlock()},a.onCancel=function(e){e.stopPropagation(),e.preventDefault(),a.props.onCancel()},a.reportSpamBlock=function(e){e.stopPropagation(),e.preventDefault(),a.props.onReportSpamBlock()},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=l.createElement(u.default,{a8nText:"popup-controls-block",type:"primary",onClick:this.blockContact,key:0},l10n.t(215)),t=l.createElement(u.default,{a8nText:"popup-controls-report-spam",type:"plain",onClick:this.reportSpamBlock,key:1},l10n.t(959)),a=l.createElement(u.default,{a8nText:"popup-controls-cancel",type:"plain",onClick:this.onCancel,key:2},l10n.t(1197)),n={enter:this.blockContact,escape:this.onCancel},i=[t,e,a],r=l.createElement(g.default,{contact:this.props.contact}),o=l.createElement(h.default,{id:217,params:{contact:r}});return l.createElement(f.default,{handlers:n},l.createElement(p.default,{children:o,actions:i}))}}]),t}(l.Component);t.default=m},beecadabde:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("eaidjcib")),r=n(a("ffceefejc")),o=n(a("cjedcdbdii")),s=n(a("dbjagcfebh")),d=function(e){function t(e,a){var n;return(0,i.default)(this,t),(n=(0,r.default)(this,(0,o.default)(t).call(this,e))).contact=a,n}return(0,s.default)(t,e),t}((0,n(a("iffjgahba")).default)("ContactBlocked"));t.default=d},beeecgdjce:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(!Array.isArray(e))return void c.default.assert(!1,"ws2:invalid-msg","ws2: Invalid message, not an array")();var t,n=e.shift();switch(n){case"Blocklist":return void(0,i.default)(e);case"Contact":return void(0,d.default)(e);case"Props":t=a("bfgbdiffgd").default;break;case"Location":t=h.default.LiveLocation;break;case"Chat":return void(0,r.default)(e);case"Msg":return void(0,l.default)(e);case"Stream":return void(0,p.default)(e);case"Conn":return void(0,s.default)(e);case"Cmd":return void(0,o.default)(e);case"Presence":return void(0,f.default)(e);case"MsgInfo":return void(0,u.default)(e);default:t=h.default[n]}t?t.handle(e):c.default.error("ws2: Invalid type received",e)()};var i=n(a("difacfecfb")),r=n(a("beafbeighe")),o=n(a("bffejifief")),s=n(a("cjgfiijjee")),d=n(a("bjddijedhj")),c=n(a("bdiiahhjbe")),l=n(a("dgicehhija")),u=n(a("ceegagjdfb")),f=n(a("chjfbhjejb")),h=n(a("bhggeigghg")),p=n(a("bgebiidch"))},beeieigghj:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.commandeerFile=function(e,t,a,n){throw new Error("OpaqueData:commandeerFile unimplemented")},t.copyFile=function(e,t,a,n){throw new Error("OpaqueData:copyFile unimplemented")},t.getOrCreateOpaqueDataForPath=function(e,t){throw new Error("OpaqueData::getOrCreateOpaqueDataForPath unimplemented")},t.deleteFileAtPath=function(e){throw new Error("OpaqueData::deleteFileAtPath unimplemented")},t.constructData=function(e,t,a){throw new Error("OpaqueData::constructData unimplemented")},t.getNextFileName=function(e){throw new Error("OpaqueData::getNextFileName unimplemented")},t.getAudioDuration=function(e){throw new Error("OpaqueData::getAudioDuration unimplemented")},t.getFileHash=function(e){throw new Error("OpaqueData::getFileHash unimplemented")},t.getFileSize=function(e){throw new Error("OpaqueData::getFileSize unimplemented")},t.compressIfIsFolder=function(e){throw new Error("OpaqueData::compressIfIsFolder unimplemented")},t.default=void 0;var i=n(a("eaidjcib")),r=n(a("dgcdacjddi")),o=n(a("ffceefejc")),s=n(a("cjedcdbdii")),d=n(a("dbjagcfebh")),c=n(a("dgdahfddff")),l=n(a("hgjcbccfg")),u=a("cgffhfegce"),f=function(e){function t(){var e,a;(0,i.default)(this,t);for(var n=arguments.length,r=new Array(n),d=0;d<n;d++)r[d]=arguments[d];return(a=(0,o.default)(this,(e=(0,s.default)(t)).call.apply(e,[this].concat(r))))._b64=void 0,a._blob=void 0,a._url=void 0,a._mimetype=void 0,a._released=void 0,a}return(0,d.default)(t,e),(0,r.default)(t,[{key:"url",value:function(){return this.throwIfReleased("OpaqueData:url"),this._url?this._url:this._b64?this._url="data:image/jpeg;base64,".concat(this._b64):this._url=window.URL.createObjectURL(this._blob)}},{key:"filepath",value:function(){throw new Error("OpaqueData:filepath can not be implemented on web")}},{key:"wavFilepath",value:function(){throw new Error("OpaqueData:wavFilepath can not be implemented on web")}},{key:"setWavFilepath",value:function(e){throw new Error("OpaqueData:setWavFilepath can not be implemented on web")}},{key:"validate",value:function(){return this._released?Promise.resolve(!1):this._blob?(0,u.validateBlob)(this._blob):Promise.resolve(!0)}},{key:"size",value:function(){return this.throwIfReleased("OpaqueData:size"),this._blob?this._blob.size:l.default.sizeWhenDecoded(this._b64)}},{key:"formData",value:function(e){return this.throwIfReleased("OpaqueData:formData"),this.forceToBlob()}},{key:"type",value:function(){return this.throwIfReleased("OpaqueData:type"),this._mimetype||"undefined"}},{key:"forceToBlob",value:function(){this.throwIfReleased("OpaqueData:forceToBlob");var e=this._blob;if(e)return e;var t=this._b64;if(t){this._b64=void 0,this._url=void 0;var a=this._mimetype;return this._blob=new Blob([l.default.decode(t)],a?{type:a}:void 0)}throw new Error("OpaqueData:forceToBlob no b64 or blob")}},{key:"_releaseImpl",value:function(){this._mimetype=void 0,this._blob?(this._blob=void 0,this._url&&(window.URL.revokeObjectURL(this._url),this._url=void 0)):(this._b64=void 0,this._url=void 0)}},{key:"isBlobEqual",value:function(e){return e?this._blob===e._blob:!this._blob}}]),t}(c.default);t.default=f,f.createFromBase64Jpeg=function(e){return new Promise(function(t){var a=new f;return a._b64=e,a._mimetype="image/jpeg",t(a)})},f.createFromData=function(e,t){return new Promise(function(a){var n=new f;return n._blob=e instanceof Blob&&e.type===t?e:new Blob([e],{type:t}),n._mimetype=t,a(n)})}},beejfjjdjf:function(e,t){e.exports={bubble:"-N6Gq",meta:"_1RNhZ",isPSA:"_35jKp",isPsa:"_35jKp"}},begdabbfeh:function(e,t){e.exports={panel:"_1ebw2",body:"FkdAD",cancelButton:"OWYLS"}},begjfegacj:function(e,t){e.exports={commentInput:"k7wLF",search:"cIdsW",groupInfo:"_2MxY2",onSendInvite:"aSzLC"}},behbcejhad:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("bhabhhjdch")),o=i(a("eaidjcib")),s=i(a("dgcdacjddi")),d=i(a("ffceefejc")),c=i(a("cjedcdbdii")),l=i(a("dbjagcfebh")),u=i(a("ceffhbhahb")),f=n(a("ddhijeejag")),h=a("dghhefgjhc"),p=i(a("jjhbchhce")),g=n(a("cajijabhgb")),m=i(a("bidfjbaebi")),b=i(a("dgjacfgggf")),v=i(a("cajbifjffe")),j=i(a("eceadcicaf")),E=i(a("cgjijjgidi")),y=a("igiffibee"),_=i(a("bjbedjfe")),S=i(a("bfdcadbbif")),C=i(a("edbaidcaf"));function A(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}var M=50,T=15,P=function(e){function t(e){var a;return(0,o.default)(this,t),(a=(0,d.default)(this,(0,c.default)(t).call(this,e))).updateImgSrcUrl=function(e){var t=e.height+M,n="color:red|"+e.lat+", "+e.lng,i=e.lat+", "+e.lng,o=T,s=e.width+"x"+t,d=p.default.currentRes===p.default.RES.HIGH?2:1,c=l10n.getLocale(),l=C.default.GSM_NAME,u=C.default.build(h.G_MAPS_IMG_URL,function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?A(Object(a),!0).forEach(function(t){(0,r.default)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):A(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({zoom:o,size:s,scale:d,language:c,client:l},e.showMarker?{markers:n}:{center:i}));a.lastURL!==u&&(a.lastURL=u,C.default.gsmURL(u,C.default.GSM_NUMS).checkpoint(e.rejectOnUnmount()).then(function(e){a.setState({imgSrcUrl:e,hiResAvail:b.default.isCached(e)})}).catch(g.Unmount,function(){}))},a.onImgLoaded=function(e){a.state.hiResAvail||a.setState({hiResAvail:!0}),a.props.onLoad&&a.props.onLoad()},a.state={imgSrcUrl:null,hiResAvail:!1},a.updateImgSrcUrl(e),a}return(0,l.default)(t,e),(0,s.default)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.listeners.add(window,"dpichange",function(){return e.updateImgSrcUrl(e.props)})}},{key:"componentDidUpdate",value:function(){this.updateImgSrcUrl(this.props)}},{key:"render",value:function(){var e=this.props,t=e.lat,a=e.lng,n=e.name,i=e.width,r=e.height,o=e.className,s=e.linkify,d={pointerEvents:"none",width:i,height:this.state.hiResAvail?void 0:r},c=(0,u.default)(o,{[E.default.hidden]:!this.state.hiResAvail}),l=this.state.hiResAvail?null:f.createElement(S.default,{name:"map-placeholder",display:"inline"}),h=f.createElement(v.default,{src:this.state.imgSrcUrl||"",className:c,style:d,hasPrivacyChecks:!1,onLoad:this.onImgLoaded,noXHR:!0});return s?f.createElement(m.default,{href:(0,y.getMapUrl)(t,a,n),className:E.default.container},l,h):f.createElement("span",{className:E.default.container},l,h)}}]),t}(f.PureComponent);P.defaultProps={linkify:!0,showMarker:!0};var N=(0,j.default)((0,_.default)(P));t.default=N},beiahcfigb:function(e,t){e.exports={"#":1,"":1,"*":2,"0":3,"":3,"1":4,"":4,"2":5,"":5,"3":6,"":6,"4":7,"":7,"5":8,"":8,"6":9,"":9,"7":10,"":10,"8":11,"":11,"9":12,"":12,"":13,"":14,"":15,"":17,"":18,"":19,"":20,"":21,"":23,"":25,"":26,"":28,"":30,"":31,"":80,"":90,"":103,"":110,"":112,"":145,"":149,"":156,"":225,"":269,"":269,"":287,"":288,"":289,"":290,"":292,"":294,"":295,"":296,"":297,"":298,"":299,"":300,"":302,"":304,"":305,"":306,"":307,"":308,"":309,"":310,"":312,"":327,"":333,"":352,"":353,"":355,"":356,"":357,"":358,"":359,"":362,"":364,"":365,"":366,"":367,"":369,"":370,"":373,"":374,"":378,"":382,"":383,"":387,"":388,"":389,"":390,"":391,"":392,"":393,"":394,"":396,"":397,"":398,"":401,"":402,"":411,"":412,"":413,"":414,"":415,"":416,"":417,"":419,"":421,"":422,"":427,"":428,"":429,"":430,"":436,"":437,"":438,"":439,"":440,"":443,"":444,"":445,"":446,"":447,"":448,"":449,"":450,"":459,"":460,"":462,"":463,"":464,"":465,"":466,"":467,"":469,"":470,"":473,"":474,"":475,"":479,"":480,"":482,"":486,"":487,"":488,"":501,"":513,"":515,"":522,"":535,"":579,"":581,"":582,"":584,"":585,"":586,"":587,"":588,"":589,"":590,"":591,"":592,"":594,"":595,"":600,"":601,"":602,"":603,"":627,"":628,"":631,"":632,"":634,"":638,"":639,"":640,"":641,"":642,"":646,"":647,"":651,"":653,"":654,"":655,"":658,"":659,"":660,"":661,"":662,"":663,"":665,"":666,"":667,"":668,"":669,"":670,"":671,"":672,"":673,"":678,"":686,"":692,"":693,"":700,"":706,"":712,"":718,"":724,"":730,"":736,"":742,"":748,"":754,"":760,"":761,"":762,"":764,"":765,"":767,"":768,"":769,"":772,"":775,"":776,"":777,"":778,"":786,"":792,"":961,"":1146,"":1153,"":1177,"":1188,"":1207,"":1213,"":1225,"":1231,"":1237,"":1243,"":1255,"":1261,"":1264,"":1270,"":1271,"":1272,"":1273,"":1274,"":1285,"":1298,"":1304,"":1305,"":1311,"":1322,"":1330,"":1332,"":1333,"":1334,"":1335,"":1337,"":1338,"":1339,"":1340,"":1341,"":1342,"":1343,"":1344,"":1347,"":1348,"":1349,"":1350,"":1351,"":1352,"":1353,"":1355,"":1357,"":1358,"":1359,"":1360,"":1362,"":1364,"":1365,"":1371,"":1377,"":1378,"":1386,"":1387,"":1388,"":1389,"":1390,"":1392,"":1393,"":1415,"":1422,"":1425,"":1426,"":1427,"":1428,"":1434,"":1436,"":1439,"":1442,"":1443,"":1444,"":1446,"":1447,"":1450,"":1451,"":1452,"":1465,"":1468,"":1472,"":1473,"":1474,"":1475,"":1483,"":1484,"":1491,"":1494,"":1497,"":1501,"":1502,"":1503,"":1504,"":1505,"":1506,"":1521,"":1522,"":1523,"":1524,"":1525,"":1526,"":1527,"":1528,"":1529,"":1530,"":1531,"":1532,"":1618,"":1619,"":1620,"":1624,"":1625,"":1626,"":1627,"":1632,"":1633,"":1635,"":1636,"":1638,"":1641,"":1642,"":1643,"":1645,"":1647,"":1649,"":1651,"":1652,"":1653,"":1655,"":1656,"":1657,"":1658,"":1660,"":1663,"":1664,"":1667,"":1670,"":1671,"":1672,"":1673,"":1677,"":1701,"":1713,"":1726,"":1747,"":1777,"":1778,"":1781,"":1782,"":1783,"":1785,"":1787,"":1790,"":1793,"":1795,"":1796,"":1797,"":1799,"":1801,"":1803,"":1804,"":1811,"":1818,"":1819,"":1821,"":1826,"":1827,"":1832,"":1869,"":1872,"":1873,"":1874,"":1875,"":1876,"":1877,"":1884,"":2534,"":2535,"":2536,"":2537,"":2539,"":2540,"":2550,"":2577,"":2581,"":2582,"":2583,"":2584,"":2591,"":2592,"":2608,"":2609,"":2614,"":2615,"":2619,"":2621,"":2622,"":2629,"":2639,"":2642,"":2643,"":2644,"":2645,"":2646,"":2647,"":2648,"":2649,"":2650,"":2651,"":2652,"":2653,"":2655,"":2656,"":2657,"":2658,"":2659,"":2662,"":2672,"":2673,"":2679,"":2680,"":2681,"":2684,"":2690,"":2693,"":2694,"":2696,"":2711,"":2712,"":2713,"":2715,"":2722,"":2728,"":2734,"":2747,"":2748,"":2749,"":2752,"":2754,"":2755,"":2756,"":2757,"":2759,"":2763,"":2765,"":2768,"":2769,"":2772,"":2773,"":2774,"":2776,"":2777,"":2778}},beiebgdecj:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.findCC=l,t.getRegion=function(e){var t=l(e),a=i.default[t];if(!a||0===a.length)return null;if(1===a.length)return a[0];for(var n=0;n<a.length;n++){var r=a[n],o=s.default[r];if(o){var d=new RegExp(o);if(e.match(d))return r}}return null},t.default=function(e){var t=l(e);if(!t)return e;var a=e.substring(t.length),n=c[t]||function(e){var t=r.default[e];if(!t)return null;var a=JSON.parse(t);return c[e]={lengths:a[0],formats:a[1].map(function(e){return new o.default(e)})}}(t);if(!n)return"+"+t+" "+a;for(var i=n.formats,s=0;s<i.length;s++){var d=i[s].testAndFormat(a);if(d)return"+"+t+" "+d}return"+"+t+" "+a};var i=n(a("bcgacdhcba")),r=n(a("bbefjheeia")),o=n(a("ddhijgeicd")),s=n(a("cafffjgfbd")),d=/^(1|2[07]|3[0-469]|4[013-9]|5[1-8]|6[0-6]|7|8[1246]|9[0-58])/,c={};function l(e){var t=e.match(d);return t?t[0]:e.length>=3?e.substring(0,3):e}},beifdajhid:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"AbortError",{enumerable:!0,get:function(){return c.default}}),t.NoMediaHostsError=void 0;var i=n(a("eaidjcib")),r=n(a("ffceefejc")),o=n(a("cjedcdbdii")),s=n(a("dbjagcfebh")),d=n(a("iffjgahba")),c=n(a("cgijjjgici")),l=function(e){function t(){return(0,i.default)(this,t),(0,r.default)(this,(0,o.default)(t).apply(this,arguments))}return(0,s.default)(t,e),t}((0,d.default)("NoMediaHostsError"));t.NoMediaHostsError=l},beifejbdga:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(1===e.length)return e;var a,n=[];for(;a=e.pop();){for(var r=a,o=(0,i.default)(r,5),s=o[0],d=o[3],c=o[4],l=(0,i.default)(t[c],3),u=l[0],f=u.nestable,h=u.compatibility,p=l[2],g=!0,m=n.length,b=m-1;b>=0;--b){var v=(0,i.default)(n[b],5),j=v[2],E=v[3],y=v[4];if(s>E)break;var _=(0,i.default)(t[y],3),S=_[0],C=S.mutates,A=S.format,M=S.compatibility,T=_[2];if(d>j){if(p<T&&n.splice(b,1))continue;g=!1;break}if(C&&!(g=!1))break;if(h)break;if((f||M||!(p<T)||!n.splice(b,1))&&(!h&&!A)){g=!1;break}}g&&n.push(a)}return n};var i=n(a("hbddjfeei"))},beiggaad:function(e,t,a){"use strict";var n=a("cfjecfhbfg")(a("ddfeabiaci")),i=a("cccfbheica");e.exports=(0,n.default)({version:"17",supportsFeatureFlags:!0,implementedFeatures:{}},i)},bejbgaghc:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.queryGroupInviteCode=function(e){return function(e){if(e.groupInviteCodePromise)return e.groupInviteCodePromise;return e.groupInviteCodePromise=(0,s.sendQueryGroupInviteCode)(e.id).then(function(t){e.inviteCode=t}).finally(function(){e.groupInviteCodePromise=null})}((0,c.unproxy)(e))},t.revokeGroupInvite=function(e){return function(e){if(e.revokeGroupInvitePromise)return e.revokeGroupInvitePromise;return e.revokeGroupInvitePromise=(0,s.sendRevokeGroupInviteCode)(e.id).then(function(t){e.inviteCode=t}).catch(r.ServerStatusCodeError,function(e){throw e}).catch(function(e){d.default.error("models:groupMetadata:participantCollection:revokeGroupInvite dropped")(e)}).finally(function(){e.revokeGroupInvitePromise=null})}((0,c.unproxy)(e))},t.joinGroupViaInvite=function(e){return(0,s.sendJoinGroupViaInvite)(e).then(function(e){return o.default.supportsFeature(o.default.F.MD_BACKEND)?i.default.gadd(e):i.default.find(e)})};var i=n(a("dbdfbgehgj")),r=a("ddjgcfjicj"),o=n(a("bjbdcigbdi")),s=a("bcbfebgcic"),d=n(a("bdiiahhjbe")),c=a("bheafeifce")},bejccccege:function(e,t,a){"use strict";(function(e){var n=a("cfjecfhbfg"),i=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.msg,a=e.displayAuthor,n=(e.displayType,t.isSentByMe||!t.subtype?r.createElement("span",{className:p.default.action,role:"button",onClick:m},c.default.t(1116)):null);return r.createElement(f.default,{msg:t,displayAuthor:a},r.createElement(u.default,{iconName:"unknown",msg:t},d.default.msgText(t)," ",n))};var r=i(a("ddhijeejag")),o=a("dbhfachiij"),s=n(a("bbchdeehff")),d=(n(a("baagejbchg")),n(a("dgjddffcfg"))),c=n(a("fffdgbfji")),l=n(a("bdiiahhjbe")),u=n(a("cfiighfhhg")),f=n(a("dbabefhajh")),h=i(a("bfjajhbdf")),p=n(a("egibbfjcd")),g=n(a("cbbhbjebii"));function m(){if(e.mas||e.windowsStore)return g.default.manualDownload();s.default.openToast(r.createElement(h.default,{msg:c.default.t(1123),id:(0,h.genId)()})),g.default.update().then(function(e){e===o.DownloadState.UPDATE_NOT_AVAILABLE?(l.default.error("Got unsupported message but no newer release found")(),s.default.openToast(r.createElement(h.default,{msg:c.default.t(882),id:(0,h.genId)()}))):e===o.DownloadState.UPDATE_DOWNLOADED?g.default.restart():l.default.error("Got unsupported message but updater errored")()})}window.updater=g.default}).call(t,a("ddghcccjbh"))},bejfdgbdag:function(e,t,a){"use strict";var n,i=a("cfjecfhbfg"),r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=a("cgffhfegce"),d=i(a("bdiiahhjbe")),c=a("fdhajffgc"),l=a("dbajccegac"),u=0;var f=function(){function e(t){(0,r.default)(this,e),this.oggBlob=t}return(0,o.default)(e,[{key:"generateBlob",value:function(){return this.oggBlobToWAVBlob(this.oggBlob,1)}},{key:"oggBlobToWAVBlob",value:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return new Promise(function(i,r){var o=new c,l=[],f=[],h=(u++,n||new window.AudioContext),p={outputBufferSampleRate:h.sampleRate,bufferLength:4096};o.onmessage=function(e){if(null==e.data){for(var r=function(e){l.forEach(function(t,a){for(var n=t[e]||t[0],i=0;i<n.length;i++)f.push(n[i])})},o=0;o<a;o++)r(o);var s=t.encodeWAV(f,h,a),d=new Blob([s.readByteArray()],{type:"audio/wav"});0==--u&&n&&(n.close&&n.close(),n=void 0),i(d)}else l.push(e.data),a=l[0].length},o.postMessage({command:"decode-init",config:p}),(0,s.blobToArrayBuffer)(e).then(function(e){o.postMessage({command:"decode",pages:new Uint8Array(e)}),o.postMessage({command:"decode-done"})}).catch(function(e){d.default.error("Player::oggBlobToWAVBlob error: ".concat(e))(e)})})}},{key:"encodeWAV",value:function(e,t,a){var n=new l(void 0,!0);n.ensureCapacity(44+2*e.length),n.writeString("RIFF"),n.writeUint32(36+2*e.length),n.writeString("WAVE"),n.writeString("fmt "),n.writeUint32(16),n.writeUint16(1),n.writeUint16(a),n.writeUint32(t.sampleRate),n.writeUint32(t.sampleRate*a*2),n.writeUint16(2*a),n.writeUint16(16),n.writeString("data"),n.writeUint32(2*e.length);for(var i=0;i<e.length;i++){var r=Math.max(-1,Math.min(e[i],1));r*=r>0?32767:32768,n.writeInt16(Math.floor(r))}return n}}]),e}();e.exports=f},bfababcidc:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.msgFindQuery=function(e,t,a,n,s,c){if("before"===e)return function(e,t,a,n,s){return(0,o.getBefore)(e,e.count).then(function(o){var c,l=o.messages;return 0===o.remaining?l:(l.length?((c=l[0].id.clone()).direction="before",c.count=e.count-o.remaining):c=e,d("before",c,t,a,n,s).then(function(e){if(e.status>=400)return r.default.error("msgFindQuery returned ".concat(e.status,", returning local results if possible"))(),l.length?l:e;var t=e;return[].concat((0,i.default)(t),(0,i.default)(l))}))})}(t,a,n,s,c);return d(e,t,a,n,s,c)},t.queryVCard=function(e){return s.default.queryVCard(e).then(function(e){var t=e;return(0,o.storeMessages)(t).then(function(){return e})})};var i=n(a("bhfcfhafdj")),r=n(a("bdiiahhjbe")),o=a("ecdfgaagba"),s=n(a("bihdhbjih"));function d(e,t,a,n,i,r){return s.default.msgFindQuery(e,t,n,i).then(function(n){if(n.status>=400)return n;var i=function(e,t,a){if(("document"===a||"url"===a)&&"media"===t)return e;return"media"===t||"search"===t?e.messages:e}(n,e,t.media);return(0,o.storeMessages)(i).then(function(){return(0,o.addMessagesToHistory)(t.remote,i,a,r)}).then(function(){return n})})}},bfabbhgjga:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.sendRevoke=function(e,t){return function(e,t){if(!s.default.supportsFeature(s.default.F.REVOKE))return Promise.reject("revoke feature unsupported");var a=e.id,n=e.t;if(!a.fromMe)return Promise.reject("revoking received message");var i=new h.default({id:(0,g.default)(),remote:e.id.remote,fromMe:!0}),r={id:i,to:a.remote,t:n,type:o.MSG_TYPE.PROTOCOL,subtype:"revoke",protocolMessageKey:a,clearMedia:!!t,local:!0};return(0,l.appendMessage)(e.chat.id,r).then(function(){return(0,m.sendMsgRecord)(new f.default(r))}).then(function(t){if("success"===t){var a=Math.trunc(Date.now()/1e3-e.t);return new u.default.SendRevokeMessage({messageType:e.getWamMessageType(),messageMediaType:e.getWamMediaType(),revokeSendDelay:a}).commit(),E(e,i).then(function(){return"success"})}return Promise.reject("dropped")})}((0,b.unproxy)(e),t)},t.revoke=E;var r=i(a("dcdehfghdi")),o=a("baagejbchg"),s=i(a("bjbdcigbdi")),d=i(a("bdiiahhjbe")),c=n(a("ddgbhifaji")),l=a("ecdfgaagba"),u=i(a("bfbggcdbfb")),f=i(a("cbcbdjdah")),h=i(a("cffajefeag")),p=n(a("ccbagdhfbb")),g=i(a("cfejjfjhca")),m=a("bdgehigfig"),b=a("bheafeifce"),v=i(a("bhggeigghg")),j=i(a("jccfhaecf"));function E(e,t){return function(e,t){return(0,l.removeMessagesFromHistory)([e.id]).then(function(){p.typeIsMMS(e.type)&&c.deregisterMsg(e),e.chat&&e.chat.removeFromCollection(e);var a=e.getCollection(),n=e.id;e.msgChunk&&e.msgChunk.replaceId(n,t),a.replaceId(n,t);var i={id:t,type:o.MSG_TYPE.REVOKED,body:void 0,caption:void 0,clientUrl:void 0,loc:void 0,lat:void 0,lng:void 0,isLive:void 0,accuracy:void 0,speed:void 0,degrees:void 0,comment:void 0,sequence:void 0,shareDuration:void 0,finalLat:void 0,finalLng:void 0,finalAccuracy:void 0,finalThumbnail:void 0,finalSpeed:void 0,finalDegrees:void 0,finalTimeOffset:void 0,title:void 0,description:void 0,canonicalUrl:void 0,matchedText:void 0,thumbnail:void 0,richPreviewType:void 0,doNotPlayInline:void 0,quotedMsg:void 0,quotedStanzaID:void 0,quotedRemoteJid:void 0,quotedParticipant:void 0,mediaData:void 0,mentionedJidList:void 0,vcardList:void 0,star:!1};if(e.set(i),e.trigger("change:msgKey",{newKey:t,oldKey:n}),e.chat&&e.chat.updateMediasCountOnMsg(e,!0),e.chat&&n.equals(e.chat.lastReceivedKey)&&(e.chat.lastReceivedKey=t),e.isLive&&v.default.LiveLocation.removeMsg(e),j.default.isBroadcast(n.remote)){var s=p.getBroadcastFanoutKeys(n),l=p.getBroadcastFanoutKeys(t);if(!s||!l||s.length!==l.length)return void d.default.log("cannot fanout revoke: ".concat(String(s)," ").concat(String(l)))(s,l);(0,r.default)(s,l).forEach(function(e){var t=a.get(e[0]);t&&E(t,e[1])})}})}((0,b.unproxy)(e),t)}},bfajcggcdf:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Gallery=void 0;var r=i(a("bhfcfhafdj")),o=i(a("eaidjcib")),s=i(a("dgcdacjddi")),d=i(a("ffceefejc")),c=i(a("cjedcdbdii")),l=i(a("dbjagcfebh")),u=i(a("hhegggegb")),f=i(a("ceffhbhahb")),h=n(a("ddhijeejag")),p=i(a("effbcehec")),g=i(a("bbchdeehff")),m=i(a("baagejbchg")),b=a("cicgeajfge"),v=i(a("fffdgbfji")),j=i(a("eceadcicaf")),E=i(a("bffjfbgbg")),y=i(a("bicjggdg")),_=i(a("eiiicijcj")),S=i(a("cifjfjfegc")),C=i(a("bfgbdiffgd")),A=i(a("becfabjeeg")),M=i(a("ihfccfgdf")),T=a("bheafeifce"),P=function(e){function t(){var e,a;(0,o.default)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=(0,d.default)(this,(e=(0,c.default)(t)).call.apply(e,[this].concat(i)))).onScroll=function(e){a.handleScroll(e.currentTarget)},a.handleScroll=(0,u.default)(function(e){var t=a.props.mediaMsgs;t.hasMediaBefore&&e.scrollTop+m.default.SCROLL_FUDGE>e.scrollHeight-e.clientHeight&&a.queryMedia(t.head())},100),a}return(0,l.default)(t,e),(0,s.default)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.mediaMsgs.hasMediaBefore&&this.queryMedia(),this.props.listeners.add(this.props.mediaMsgs,"add",function(){e.forceUpdate()}),this.props.listeners.add(this.props.mediaMsgs,"remove",function(t){var a=e.props.selectedMessages;a&&a.isSelected(t)&&a.setVal(t,!1),e.forceUpdate()}),this.props.listeners.add(this.props.mediaMsgs,"reset",function(){e.props.selectedMessages&&e.props.selectedMessages.unsetAll(),e.forceUpdate()}),this.props.listeners.add(this.props.mediaMsgs,"query_media_before",function(){e.forceUpdate()})}},{key:"componentWillUnmount",value:function(){this.handleScroll.cancel()}},{key:"queryMedia",value:function(e){var t=this,a=this.props.mediaMsgs;a.hasMediaBefore&&this.props.listeners.uiIdle(function(){a.queryMedia((0,T.unproxy)(t.props.chat),e)})}},{key:"render",value:function(){var e=this,t=this.props.mediaMsgs,a=this.props,n=a.fullCollection,i=a.selectedMessages,r=a.chat,o=t.map(function(a,r){var o;return!e.props.fullCollection&&r>=t.length-6&&r<=t.length-4&&(o="hideableSecondRow"),h.createElement(I,{msg:a,hoverEvent:n,selectable:e.props.selectable,selectedMessages:i,onMessageSelect:e.props.onMessageSelect,theme:o,key:a.id.toString()})});return o.reverse(),n||(o=o.slice(0,6)),h.createElement(k,{medias:o,mediaCollection:t,fullCollection:n,chat:(0,T.unproxy)(r),onScroll:this.onScroll})}}]),t}(h.Component);P.CONCERNS={chat:["linkCount","docCount"]};var N=function(e){function t(){var e;(0,o.default)(this,t),(e=(0,d.default)(this,(0,c.default)(t).apply(this,arguments))).setRefImg=function(t){e.img=t},e.onSelectChange=function(t){e.state.selected!==t&&e.setState({selected:t})},e.onClick=function(t){var a=e.props,n=a.msg,i=a.selectable,r=a.onMessageSelect,o=n.mediaData;if(i&&r)r(n,!e.state.selected);else if(o.mediaStage!==E.default.STAGE.ERROR_MISSING){var s;t&&t.stopPropagation();var d=n.id;if(o.isGif||o.type===E.default.TYPE.IMAGE){var c=e.img;s=function(e){return d.equals(e)&&c?c:null}}g.default.mediaViewerModal({msg:(0,T.unproxy)(n),getZoomNode:s})}else g.default.openModal(h.createElement(_.default,{msg:n}))},e.onDragStart=function(t){t.nativeEvent.dataTransfer.setData("text/uri-list",e.props.msg.mediaData.renderableUrl)};var a=e.props,n=a.msg,i=a.selectedMessages;return e.state={selected:!(!i||!i.isSelected(n))},e}return(0,l.default)(t,e),(0,s.default)(t,[{key:"componentDidMount",value:function(){this.props.selectedMessages&&this.props.listeners.add(this.props.selectedMessages,this.props.msg.id.toString(),this.onSelectChange)}},{key:"render",value:function(){var e=this.props.msg,t=e.mediaData,a=t.type===E.default.TYPE.IMAGE&&t.renderableUrl?this.onDragStart:null,n=(0,f.default)(this.props.className);return h.createElement(S.default,{classes:n,onClick:this.onClick,hoverEvent:this.props.hoverEvent,selectable:this.props.selectable,selected:this.state.selected,onMessageSelect:this.props.onMessageSelect,onDragStart:a,msg:e,theme:this.props.theme,imgRef:this.setRefImg})}}]),t}(h.Component);var I=(0,j.default)(N),k=function(e){function t(){return(0,o.default)(this,t),(0,d.default)(this,(0,c.default)(t).apply(this,arguments))}return(0,l.default)(t,e),(0,s.default)(t,[{key:"render",value:function(){var e=this.props,t=e.mediaCollection,a=e.fullCollection,n=e.chat,i=e.onScroll,o=this.props.medias||this.props.productMedias;if(!o)return null;var s,d,c,l,u=(0,f.default)(y.default.container,{[y.default.drawer]:a,[y.default.galleryEmpty]:0===t.length}),g=(0,r.default)(o);if(t.queryMediaBefore&&(a||g.length<6)){var m=(0,f.default)(y.default.more,y.default.canvasComponent,{[y.default.canvasSecondRow]:!a&&g.length>=3,[y.default.canvasFirst]:0===t.length});g.push(h.createElement("div",{className:m,key:"spinner"},h.createElement(A.default,{stroke:6,size:24})))}if(0===t.length){if(a)return t.queryMediaBefore?h.createElement("div",{className:(0,f.default)(y.default.drawer,y.default.drawerBody)},h.createElement(b.Loading,null)):h.createElement(b.MediaMsgs,null);t.queryMediaBefore||t.hasMediaBefore||(u=(0,f.default)(u,y.default.galleryEmpty),g=[(s=Math.max(n?n.docCount:0,0),d=Math.max(n?n.linkCount:0,0),c=Math.max(n?n.productCount:0,0),l=[],null!=s&&s>0&&l.push(v.default.t(396,{count:s,_plural:s})),null!=d&&d>0&&l.push(v.default.t(649,{count:d,_plural:d})),C.default.productMediaAttachments&&null!=c&&c>0&&l.push(v.default.t(942,{count:c,_plural:c})),l.length>0?l.join(v.default.t(426)):C.default.productMediaAttachments?v.default.t(876):v.default.t(875))])}else for(var j=0;j<6;j++)g.push(h.createElement("div",{className:y.default.canvasEmpty,key:"empty"+j}));return h.createElement("div",{onScroll:i,"data-a8n":p.default.key("media-gallery"),className:u},g)}}]),t}(h.Component);t.Gallery=k;var O=(0,j.default)((0,M.default)(P,P.CONCERNS));t.default=O},bfajhabbdf:function(e,t,a){"use strict";var n=a("cfjecfhbfg"),i=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return r.createElement(s.default,{name:d[e.sectionId]})},t.sectionIdToIcon=void 0;var r=i(a("ddhijeejag")),o=n(a("bheebijggd")),s=n(a("bfdcadbbif")),d={[o.default.RECENT]:"panel-recent",[o.default.SMILEYS_PEOPLE]:"panel-emoji-people",[o.default.ANIMALS_NATURE]:"panel-emoji-nature",[o.default.FOOD_DRINK]:"panel-emoji-food",[o.default.ACTIVITY]:"panel-emoji-activity",[o.default.TRAVEL_PLACES]:"panel-emoji-travel",[o.default.OBJECTS]:"panel-emoji-objects",[o.default.SYMBOLS]:"panel-emoji-symbols",[o.default.FLAGS]:"panel-emoji-flags"};t.sectionIdToIcon=d},bfccafhbbb:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ThemeOptions=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("djecdhecha")),l=i(a("dbjagcfebh")),u=i(a("ceffhbhahb")),f=n(a("ddhijeejag")),h=i(a("djeajhjhb")),p=i(a("bbhhbdicgc")),g=i(a("cicjcfabii")),m=i(a("bggeiidigb")),b=i(a("ccajjgdjf")),v=i(a("chgaccicf")),j=a("cdgeeegaih"),E=i(a("dhbghcbcbi")),y=i(a("ihfccfgdf")),_=i(a("djhhbaegjb")),S=i(a("caffijjhc")),C=i(a("didfdhbecg")),A=(0,v.default)({MEDIA_CAPTION:null});t.ThemeOptions=A;var M={active:!1,offset:0,omitted:"",query:"",results:[],scrollTop:0},T=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).state=M,a.flatListController=new m.default,a.setRefList=function(e){a.list=e},a.onEnter=N(function(){return a.handleSelect(a.state.offset)},(0,c.default)(a)),a.onInactive=N(function(){return a.setState(M)},(0,c.default)(a)),a.onSearch=function(e){var t=(0,c.default)(a).state.omitted;if((!t||!e.startsWith(t))&&a.props.chat&&a.props.chat.isGroup){var n=a.props.chat.groupMetadata.participants;a.setState({active:!0,offset:0,omitted:null,query:e,results:(0,j.getResults)(e,n)})}},a.onEscape=function(){a.setState({active:!1,offset:0,omitted:a.state.query,query:"",results:[]})},a.onUp=N(function(){var e=Math.max(a.state.offset-1,0);a.setOffset(e)},(0,c.default)(a)),a.onDown=N(function(){var e=a.state.results.length-1,t=Math.min(a.state.offset+1,e);a.setOffset(t)},(0,c.default)(a)),a.renderItem=function(e){var t=e.index,n=e.contact;return f.createElement(E.default,{key:n.id.toString(),contact:n,term:a.state.query,selected:t===a.state.offset,theme:a.props.theme===A.MEDIA_CAPTION?"mediaCaption":null,onMouseDown:function(e){return e.preventDefault()},onMouseUp:function(){return a.handleSelect(t)},onMouseEnter:function(){return a.setOffset(t,!0)}})},a}return(0,l.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){var e=this.props.plugin;e.registerHandler(this,h.default.ENTER,this.onEnter),e.registerHandler(this,h.default.TAB,this.onEnter),e.registerHandler(this,h.default.SEARCH,this.onSearch),e.registerHandler(this,h.default.INACTIVE,this.onInactive),e.registerHandler(this,h.default.UP,this.onUp),e.registerHandler(this,h.default.DOWN,this.onDown)}},{key:"componentWillUnmount",value:function(){var e=this.props.plugin;e.unregisterHandler(this,h.default.ENTER),e.unregisterHandler(this,h.default.TAB),e.unregisterHandler(this,h.default.SEARCH),e.unregisterHandler(this,h.default.INACTIVE),e.unregisterHandler(this,h.default.UP),e.unregisterHandler(this,h.default.DOWN)}},{key:"handleSelect",value:function(e){var t=this.state.results[e];if(t&&t.id){var a=this.props.chat.assignedColor(t.id);this.props.plugin.handleSelect(t,a+"")}}},{key:"setOffset",value:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e!==this.state.offset&&this.setState({offset:e},function(){!a&&t.list&&t.list.scrollIntoViewIfNeeded(e)})}},{key:"renderList",value:function(){var e=this.state,t=e.results,a=e.query,n=e.offset;if(!e.active||!t.length)return null;var i=t.map(function(e,t){return{height:52,itemKey:e.id.toString(),contentKey:"".concat(a).concat(t===n?"-selected":""),index:t,contact:e}});return f.createElement(S.default,{displayName:"MentionSuggestions",escapable:!0,requestDismiss:this.onEscape,requestRecentFocusOnUnmount:!1},f.createElement("div",{className:(0,u.default)(_.default.overlayContainer,{[_.default.mediaCaption]:this.props.theme===A.MEDIA_CAPTION})},f.createElement(g.default,{className:_.default.resultsContainer,flatListControllers:[this.flatListController]},f.createElement(p.default,{ref:this.setRefList,data:i,flatListController:this.flatListController,direction:"vertical",renderItem:this.renderItem}))))}},{key:"render",value:function(){return f.createElement(C.default,{component:"div",className:_.default.positioningContainer,transitionName:"slide-up"},this.renderList())}}]),t}(f.Component);T.CONCERNS={chat:["groupMetadata","isGroup"]};var P=(0,y.default)(T,T.CONCERNS);function N(e,t){return function(a,n){return!(!t.state.active||!t.state.results.length)&&((!a||!(0,b.default)(a))&&(e.call(t,a,n),!0))}}t.default=P},bfcjfjfjjj:function(e,t){e.exports={spinner:"_38l_q"}},bfdbhfjbdd:function(e,t,a){e.exports=function(){return new Worker(a.p+"index.ebc8ce8286bef6044c2e.js")}},bfdhjgffdh:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=i(a("ceffhbhahb")),u=i(a("cgeeeeddea")),f=n(a("ddhijeejag")),h=i(a("cdbddjfbcd")),p=i(a("dfabffebdg")),g=a("deibcghej"),m=i(a("cehjjfagii")),b=a("dacdidjdfi"),v=i(a("bbchdeehff")),j=i(a("baagejbchg")),E=i(a("biddiiafgd")),y=i(a("bjjjdidhhi")),_=a("cgejchjdhj"),S=n(a("bhhdeihhhf")),C=a("ddajbaceej"),A=i(a("ghbbeafj")),M=i(a("dfeecdfijg")),T=i(a("bfhbfhhceg")),P=i(a("dbajgaecej")),N=i(a("deifjeacc")),I=a("ddbddjjgia"),k=i(a("dbfbdfhfee")),O=a("bheafeifce"),R=i(a("bfdcadbbif")),w=i(a("caffijjhc")),D=i(a("dbjbhajgfd")),L=i(a("bcifhbgija")),U=i(a("didfdhbecg")),G=i(a("cighigadh")),x=a("bedfbecdgd"),F=function(e){function t(e){var a;(0,r.default)(this,t),(a=(0,s.default)(this,(0,d.default)(t).call(this,e)))._refAlbumWrapper=f.createRef(),a._refMsgContainer=f.createRef(),a.refAlbumComponents={},a.setRefContext=function(e){a.refContext=e},a.didCancel=!1,a.highlightAnimation=null,a.setRefHighlightTail=function(e){a.refHighlightTail=e},a.setRefBubble=function(e){a.refBubble=e},a.setRefLeftStickerBubble=function(e){a.refLeftStickerBubble=e},a.setRefRightStickerBubble=function(e){a.refRightStickerBubble=e},a.firstStickerRef=f.createRef(),a.secondStickerRef=f.createRef(),a.mouseOver=function(e){e.buttons||a.state.hover||a.setState({hover:!0})},a.mouseDown=function(){a.state.hover&&a.setState({hover:!1})},a.contextMenu=function(e){e.stopPropagation()},a.openForwardFlow=function(e,t){for(var n,i=a.props.msgs,r=0;r<i.length;r++)if(i[r].isUnsentMedia){n=l10n.t(467,{_plural:1});break}n?v.default.openModal(f.createElement(E.default,{title:l10n.t(470),onOK:function(){return v.default.closeModal()},okText:l10n.t(1331)},n)):e?a.onSelectClick({selectedMsg:t}):v.default.openModal(f.createElement(A.default,{msgs:i}),{transition:"modal-flow"})},a.onSelectClick=function(e){var t=e.selectedMsg,n=e.event;if(n&&n.stopPropagation(),t)a.props.onMessageSelect((0,O.unproxy)(t),!a.props.selectedMessages.isSelected((0,O.unproxy)(t)),n);else{var i=0===a.state.selectedCount;a.props.msgs.forEach(function(e){a.props.onMessageSelect((0,O.unproxy)(e),i,n)})}},a.computeSelectedCount=function(){var e=a.props,t=e.msgs,n=e.selectedMessages,i=0;return t.forEach(function(e){n.isSelected((0,O.unproxy)(e))&&i++}),i},a.onDeleteMessage=function(){var e=a.props.msgs;v.default.openModal(f.createElement(y.default,{chat:e[0].chat,msgList:e,deletePrompt:!0,revokePrompt:e[0].canRevoke(),isMsgVisible:a.props.isMsgVisible}))},a._getMenuRefContext=function(){if(a.refContext)return a.refContext.getComponent().refContext},a.onMenu=function(e,t){var n=a.props.msgs;if(t&&a.state.contextMenu)a.setState({contextMenu:null});else{var i=t?a._getMenuRefContext():e,r=[];n.every(function(e){return e.canForward()})&&r.push(f.createElement(S.default,{key:"forward",a8n:"mi-msg-forward",action:function(){a.openForwardFlow(!0)}},l10n.t(482))),r.push(f.createElement(S.default,{key:"delete",a8n:"mi-msg-delete",action:a.onDeleteMessage},l10n.t(370))),a.setState({contextMenu:{menu:r,anchor:i,theme:S.ThemeOptions.COMPACT}})}},a.onAlbumGridRendered=function(e,t){e?a.refAlbumComponents[t.id.toString()]=e:delete a.refAlbumComponents[t.id.toString()]},a.scrollMsg=function(e,t){var n=a._refAlbumWrapper.current;if(n){var i=n.offsetParent;i&&((0,u.default)(i instanceof HTMLElement,"DOM offset parent is not a valid HTMLElement"),(0,_.scrollAt)(n,i,t).then(e))}},a.highlight=function(e){var t,n=a.isGroupedSticker(),i=a.refHighlightTail;n?(0===a.props.focusedMsgIndex&&(t=a.refLeftStickerBubble),1===a.props.focusedMsgIndex&&(t=a.refRightStickerBubble)):t=a.refBubble,t&&(a.setState({highlighting:!0}),a.highlightAnimation&&(a.didCancel=!0,a.highlightAnimation.cancel()),a.highlightAnimation=(a.highlightAnimation||Promise.resolve()).then(function(){var e,r,o,s,d;if(i&&(e=(0,L.default)(i,{opacity:[1,0]},{duration:250}),r=(0,L.default)(i,{opacity:[0,1]},{duration:250,delay:250})),n){o={tween:[.75,1]},s={tween:[1,.75]},d=function(e,t,a,n,i){e.forEach(function(e){e.style.filter=1===i?"":"brightness(".concat(i,")")})}}else{var c=a.props.msgs[0].isSentByMe,l=c?"#dcf8c6":"#ffffff",u=c?"#b3cba1":"#cccccc";o={backgroundColor:[u,l]},s={backgroundColor:[l,u]}}var f=(0,L.default)(t,o,{duration:250,progress:d}),h=(0,L.default)(t,s,{duration:250,delay:250,progress:d});return Promise.all(i?[e,r,f,h]:[f,h])}).cancellable().then(function(){a.onHighlightComplete(e)}).catch(Promise.CancellationError,function(){(0,L.default)(i,"stop",!0),(0,L.default)(t,"stop",!0)}).finally(function(){a.didCancel?a.didCancel=!1:a.highlightAnimation=null}))},a._handleClick=function(e){var t=a.props,n=t.albumId,i=t.onClick;i&&i(e,n)};var n=a.computeSelectedCount();return a.state={contextMenu:null,hover:!1,highlighting:!1,selectedCount:n},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentWillUnmount",value:function(){this.refBubble&&(0,L.default)(this.refBubble,"finish",!0)}},{key:"shouldComponentUpdate",value:function(e,t){return!(0,h.default)(t,this.state)||!(0,h.default)(e,this.props,function(e,t,a){if("msgs"===a)return(0,h.default)(e,t)})}},{key:"onSelectChange",value:function(e){var t;t=this.isGroupedSticker()?this.computeSelectedCount():e?this.props.msgs.length:0,this.state.selectedCount!==t&&this.setState({selectedCount:t})}},{key:"contextOpen",value:function(){this.onMenu(void 0,!0)}},{key:"contextClose",value:function(){this.setState({contextMenu:null})}},{key:"onHighlightComplete",value:function(e){this.setState({highlighting:!1},function(){e&&e()});var t=this.props.onHighlightComplete;t&&t(this.props.albumId)}},{key:"isGroupedSticker",value:function(){return this.props.msgs[0].type===j.default.MSG_TYPE.STICKER}},{key:"focus",value:function(e){var t;(null===(t=this._refMsgContainer)||void 0===t?void 0:t.current)&&(0,C.focus)(this._refMsgContainer.current,e)}},{key:"render",value:function(){var e,t=this,a=this.props,n=a.msgs,i=a.position,r=a.isMsgVisible,o=a.albumId,s=a.isFocusedAlbum,d=a.focusedMsgIndex,c=a.selectedMessages,u=n[0],h=n[1],v=u.isSentByMe,E=u.isGroupMsg,y=this.isGroupedSticker(),_=n.length>j.default.ALBUM_MIN_SIZE?n.length-j.default.ALBUM_MIN_SIZE+1:null,S=i===I.MsgPosition.FRONT||i===I.MsgPosition.SINGLE||y,C=y&&S&&(v||!E),A=(0,l.default)(G.default.msg,{[G.default.msgContinuation]:i===I.MsgPosition.FRONT||i===I.MsgPosition.MID,"message-out":v,"message-in":!v}),L=!v&&E;if(L){var F=(0,l.default)(G.default.author,{[G.default.groupStickerAuthor]:y});e=f.createElement("div",{className:F},f.createElement(m.default,{msg:n[0],contact:n[0].senderObj,albumId:o}))}var B,V,H,W,Y,$,K=(0,l.default)(G.default.message,{[G.default.messageTransparent]:y,tail:S,[G.default.tailOverrideHide]:C,[G.default.hasAuthor]:!this.isGroupedSticker()&&L,[G.default.forwarded]:!this.isGroupedSticker()&&n[0].showForwarded()}),q=(0,l.default)(G.default.albumBubbleContainer,{[G.default.messageBackground]:!y,[G.default.hasBorderBox]:!y});S&&(B=f.createElement("span",{className:"tail-container"}),V=f.createElement("span",{className:"tail-container highlight",ref:this.setRefHighlightTail})),u.canQuickForward()&&(H=f.createElement("div",{className:(0,l.default)(G.default.btnForward,{[G.default.authorForward]:L}),onClick:function(){t.openForwardFlow(!1)},role:"button"},f.createElement(R.default,{name:"forward-chat"}))),(this.state.hover||this.state.contextMenu)&&(W=f.createElement(N.default,{msg:u,position:i,key:"icon-context",ref:this.setRefContext,onToggle:function(e){t.onMenu(e)}})),Y=this.state.contextMenu?"none":u.isRTL?"pop-fast-reverse":"pop-fast",this.state.contextMenu&&($=f.createElement(w.default,{displayName:"MsgContextMenu",escapable:!0,popable:!0,requestDismiss:function(){return t.contextClose()}},f.createElement(D.default,{contextMenu:this.state.contextMenu})));var z,Q=this.props.selectable?f.createElement(k.default,{checked:this.state.selectedCount>0,theme:this.state.selectedCount>0&&this.state.selectedCount<n.length?b.CHECKBOX_THEME.PARTIAL:void 0,onClick:function(e){t.onSelectClick({event:e})}}):null;this.props.isFocusedAlbum&&(z=f.createElement(x.WhileFocusedListener,{parent:this}));var J=n.length>j.default.ALBUM_MIN_SIZE?n[0]:null;if(y){var Z=n.map(function(e){return f.createElement(x.SelectionListener,{key:e.id.toString(),parent:t,msgId:e.id.toString(),selectedMessages:c})}),X=this.props.selectable?f.createElement(P.default,{checked:this.props.selectedMessages.isSelected((0,O.unproxy)(u)),onClick:function(e){t.onSelectClick({selectedMsg:u})}}):null,ee=this.props.selectable?f.createElement(P.default,{checked:this.props.selectedMessages.isSelected((0,O.unproxy)(h)),onClick:function(e){t.onSelectClick({selectedMsg:h})}}):null;return f.createElement("div",{ref:this._refAlbumWrapper,className:A,onClick:this._handleClick},f.createElement(U.default,{transitionName:"delay-leave"},Q),f.createElement("div",{ref:this._refMsgContainer,className:K,onContextMenu:this.contextMenu,tabIndex:null},B,e,f.createElement("div",{className:G.default.groupStickerContainer},f.createElement("div",{onMouseEnter:this.firstStickerRef.current?this.firstStickerRef.current.onMouseEnter:null,className:G.default.singleGroupedStickerContainer,ref:this.setRefLeftStickerBubble},f.createElement(U.default,{transitionName:"delay-leave"},X),f.createElement(T.default,{msg:u,menuTransition:Y,onOpenForwardFlow:this.openForwardFlow,isMsgVisible:r,scrollMsg:this.scrollMsg,highlight:this.highlight,isFocused:s&&0===d,forwardRef:this.firstStickerRef})),f.createElement("div",{onMouseEnter:this.secondStickerRef.current?this.secondStickerRef.current.onMouseEnter:null,className:G.default.singleGroupedStickerContainer,ref:this.setRefRightStickerBubble},f.createElement(U.default,{transitionName:"delay-leave"},ee),f.createElement(T.default,{msg:h,menuTransition:Y,onOpenForwardFlow:this.openForwardFlow,isMsgVisible:r,scrollMsg:this.scrollMsg,highlight:this.highlight,isFocused:s&&1===d,forwardRef:this.secondStickerRef})))),Z)}var te=n[0].showForwarded()?f.createElement(M.default,{msg:n[0],className:G.default.forwardedIndicator}):null;return f.createElement("div",{ref:this._refAlbumWrapper,className:A,onClick:this._handleClick},f.createElement(U.default,{transitionName:"delay-leave"},Q),f.createElement("div",{ref:this._refMsgContainer,className:K,onContextMenu:this.contextMenu,onMouseOver:this.mouseOver,onMouseDown:this.mouseDown,onMouseUp:this.mouseOver,onMouseLeave:this.mouseDown,tabIndex:null},B,V,f.createElement("div",{className:q,ref:this.setRefBubble},e,te,f.createElement("div",{className:G.default.gridContainer},f.createElement(p.default,{msg:n[0],albumMsgs:n,albumPosition:g.AlbumPosition.TOP_LEFT,isMsgVisible:r,ref:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){t.onAlbumGridRendered(e,n[0])})}),f.createElement(p.default,{msg:n[1],albumMsgs:n,albumPosition:g.AlbumPosition.TOP_RIGHT,isMsgVisible:r,ref:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){t.onAlbumGridRendered(e,n[1])})}),f.createElement(p.default,{msg:n[2],albumMsgs:n,albumPosition:g.AlbumPosition.BOTTOM_LEFT,isMsgVisible:r,ref:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){t.onAlbumGridRendered(e,n[2])})}),f.createElement(p.default,{msg:n[3],albumMsgs:n,albumPosition:g.AlbumPosition.BOTTOM_RIGHT,isMsgVisible:r,zoomMsg:J,numAdditionalMedia:_,ref:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){t.onAlbumGridRendered(e,n[3])})}))),f.createElement(U.default,{transitionName:Y},W),H),$,z,f.createElement(x.SelectionListener,{parent:this,msgId:n[0].id.toString(),selectedMessages:c}))}}]),t}(f.Component);t.default=F},bfdijdeegj:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=n(a("ddhijeejag")),u=i(a("bhiafccjai")),f=i(a("bjbdcigbdi")),h=i(a("hgeacfdgi")),p=i(a("eceadcicaf")),g=i(a("didfdhbecg")),m=i(a("djdgcejjgf")),b=i(a("gigddihfd")),v=i(a("dbjfgbgci")),j=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).state={isOpen:!1},a.openVoipWindow=function(){f.default.supportsFeature(f.default.F.WEB_VOIP_VOICE_CALL)&&a.setState({isOpen:!0})},a.closeVoipWindow=function(){a.setState({isOpen:!1})},a.onCallAccept=function(){},a.onCallReject=function(){a.setState({isOpen:!1})},a.onCallEnd=function(){a.setState({isOpen:!1})},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){m.default.register(this)}},{key:"componentWillUnmount",value:function(){m.default.unregister()}},{key:"render",value:function(){return this.state.isOpen?l.createElement(g.default,{transitionName:"voip",className:b.default.wrapper,component:"div"},l.createElement(u.default,null,l.createElement(v.default,{callUi:h.default,onCallAccept:this.onCallAccept,onCallReject:this.onCallReject,onCallEnd:this.onCallEnd}))):null}}]),t}(l.Component),E=(0,p.default)(j);t.default=E},bfdjgcjbeh:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=n(a("ddhijeejag")),u=a("dfdebdgdei"),f=i(a("beebhcdhhh")),h=i(a("bbchdeehff")),p=i(a("biddiiafgd")),g=i(a("dcjaicbbhg")),m=i(a("dbgdaechch")),b=i(a("bhhdeihhhf")),v=i(a("djhbegbdaf")),j=i(a("fffdgbfji")),E=i(a("dhhcghbjeb")),y=i(a("bhheahajjg")),_=i(a("dadhidfcfe")),S=a("dcbafbaejf"),C=i(a("ihfccfgdf")),A=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).reportSpam=function(){(0,S.sendSpamReport)(a.props.chat),h.default.closeModal()},a.reportSpamBlock=function(){var e=a.props,t=e.chat,n=e.contact;(0,S.sendSpamReport)(t),(0,u.blockContact)(n),h.default.closeModal()},a.reportSpamBlockClear=function(){(0,S.sendSpamBlockClear)(a.props.chat),h.default.closeModal()},a.onReportSpam=function(){h.default.openModal(l.createElement(_.default,{isBusiness:a.props.contact.isBusiness,isGroupChat:!1,onReport:a.reportSpam,onReportBlockClear:a.reportSpamBlockClear,onCancel:function(){return h.default.closeModal()}}))},a.blockContact=function(){(0,u.blockContact)(a.props.contact),h.default.closeModal()},a.unblockContact=function(){(0,u.unblockContact)(a.props.contact),h.default.closeModal()},a.onBlockContact=function(){h.default.openModal(l.createElement(f.default,{contact:a.props.contact,onCancel:function(){return h.default.closeModal()},onBlock:a.blockContact,onReportSpamBlock:a.reportSpamBlock}))},a.onUnblockContact=function(){var e=l.createElement(y.default,{contact:a.props.contact});h.default.openModal(l.createElement(p.default,{okText:j.default.t(1100),onOK:a.unblockContact,cancelText:j.default.t(1197),onCancel:function(){return h.default.closeModal()}},l.createElement(v.default,{id:1101,params:{contact:e}})))},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"menus",value:function(){var e=this.props,t=e.chat,a=e.contact,n=e.onSelectMessages,i=[];return t.isPSA||i.push(l.createElement(b.default,{key:"info",a8n:"mi-contact",action:function(){return h.default.chatInfoDrawer(t)}},j.default.t(1203))),a.isBusiness&&i.push(l.createElement(b.default,{key:"report",a8n:"report",action:this.onReportSpam},j.default.t(960)),l.createElement(b.default,{key:"block",a8n:"block",action:a.isBlocked()?this.onUnblockContact:this.onBlockContact},a.isBlocked()?j.default.t(1100):j.default.t(215))),i.push(l.createElement(b.default,{a8n:"mi-select-messages",key:"select",action:n},j.default.t(1396))),t.mute.canMute()&&i.push(l.createElement(E.default,{key:"mute",onMute:function(e){return h.default.muteChat(t,e)},mute:t.mute})),i.push(l.createElement(b.default,{key:"clear",a8n:"mi-clear",action:function(){return h.default.clearChatMsgs(t)}},j.default.t(309))),i.push(l.createElement(g.default,{key:"delete",onDeleteOrExit:function(){return h.default.deleteOrExitChat(t)},chat:t})),i}},{key:"render",value:function(){return this.props.toContextMenuManager?l.createElement("div",null,this.menus()):l.createElement(m.default,{type:"dropdown_menu",key:"ContactMenuDropdown",flipOnRTL:!0,dirX:"LEFT"},this.menus())}}]),t}(l.PureComponent);A.CONCERNS={chat:["isPSA","mute"],contact:["isBusiness"]};var M=(0,C.default)(A,A.CONCERNS);t.default=M},bfebbjhgbh:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("hbddjfeei")),o=i(a("eaidjcib")),s=i(a("dgcdacjddi")),d=i(a("ffceefejc")),c=i(a("cjedcdbdii")),l=i(a("dbjagcfebh")),u=i(a("bebajedcaf")),f=i(a("ceffhbhahb")),h=n(a("ddhijeejag")),p=n(a("dfhjacfbjg")),g=i(a("bbchdeehff")),m=a("baagejbchg"),b=i(a("biddiiafgd")),v=i(a("bjigbaghc")),j=a("cfffidafid"),E=i(a("dhfbfehaef")),y=i(a("fffdgbfji")),_=n(a("dbcedfihd")),S=i(a("beiebgdecj")),C=i(a("ceghehfgdc")),A=i(a("bfdcadbbif")),M=i(a("hfhhcchgj")),T=n(a("bfjajhbdf"));var P=function(e){function t(){var e,a;(0,o.default)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=(0,d.default)(this,(e=(0,c.default)(t)).call.apply(e,[this].concat(i)))).state={email:"",emailError:void 0,confirmEmail:"",confirmEmailError:void 0,subject:v.default.isSMB?y.default.t(1045):y.default.t(1046),subjectError:void 0,description:"",descriptionError:void 0,screenshots:[],isDragging:!1},a.setAttachButton=function(e){a.attachButton=e},a.setEmailAddr=function(e){a.emailAddrInput=e},a.onSend=function(){var e={},t=a.state,n=t.email,i=t.confirmEmail,r=t.subject,o=t.description,s=t.screenshots,d=n.trim(),c=i.trim();if(a.validateEmail(d)||(e.emailError=y.default.t(1032)),a.validateConfirmEmail(c)||(e.confirmEmailError=y.default.t(1033)),a.validateDescription(o)||(e.descriptionError=y.default.t(1044)),a.validateSubject(r)||(e.subjectError=y.default.t(1041)),(0,u.default)(e)){a.setState({email:d,confirmEmail:c,emailError:void 0,confirmEmailError:void 0,descriptionError:void 0,subjectError:void 0}),s.map(function(e){e.url&&(URL.revokeObjectURL(e.url),delete e.url)});var l=v.default.me?(0,S.default)(v.default.me.user):null,f=r.trim()||y.default.t(1029);p.uploadUserReport(l,d,f,o,s),a.props.onSend&&a.props.onSend({subject:f,description:o,numScreenshots:s.length}),g.default.closeModal(),g.default.openToast(h.createElement(T.default,{msg:y.default.t(1040),id:(0,T.genId)()}))}else e.email=d,e.confirmEmail=c,a.setState(e)},a.onCancel=function(){a.props.onCancel&&a.props.onCancel(),g.default.closeModal()},a.onSubjectChange=function(e){var t={subject:e,subjectError:a.state.subjectError};a.state.subjectError&&a.validateSubject(t.subject)&&(t.subjectError=void 0),a.setState(t)},a.onSubjectBlur=function(){var e;a.validateSubject(a.state.subject)||(e=y.default.t(1041)),a.state.subjectError!==e&&a.setState({subjectError:e})},a.onDescriptionChange=function(e){var t={description:e,descriptionError:a.state.descriptionError};a.state.descriptionError&&a.validateDescription(t.description)&&(t.descriptionError=void 0),a.setState(t)},a.onDescriptionBlur=function(){var e;!a.state.description&&!a.state.descriptionError||a.validateDescription(a.state.description)||(e=y.default.t(1044)),a.state.descriptionError!==e&&a.setState({descriptionError:e})},a.onEmailChange=function(e){var t={email:e,emailError:a.state.emailError};a.state.emailError&&a.validateEmail(t.email)&&(t.emailError=void 0),a.setState(t)},a.onEmailBlur=function(){var e,t=a.state.email.trim(),n={};!a.state.email&&!a.state.emailError||a.validateEmail(t)||(e=y.default.t(1032)),a.state.emailError!==e&&(n.emailError=e),a.state.email!==t&&(n.email=t),(0,u.default)(n)||a.setState(n)},a.onConfirmEmailChange=function(e){var t={confirmEmail:e,confirmEmailError:a.state.confirmEmailError};a.state.confirmEmailError&&a.validateConfirmEmail(t.confirmEmail)&&(t.confirmEmailError=void 0),a.setState(t)},a.onConfirmEmailBlur=function(){var e,t=a.state.confirmEmail.trim(),n={};!a.state.confirmEmail&&!a.state.confirmEmailError||a.validateConfirmEmail(t)||(e=y.default.t(1033)),a.state.confirmEmailError!==e&&(n.confirmEmailError=e),a.state.confirmEmail!==t&&(n.confirmEmail=t),(0,u.default)(n)||a.setState(n)},a.validateEmail=function(e){return _.validateEmail(e)},a.validateConfirmEmail=function(e){return a.state.email===e},a.validateDescription=function(e){return e.length>m.SEND_LOGS_MIN_DESC_LENGTH},a.validateSubject=function(e){return!0},a.onFilePick=function(e){e.preventDefault(),e.stopPropagation(),a.reachMaxScreenshots()||(0,j.getFiles)(e,"image/*").then(function(e){a.attachButton&&(a.attachButton.value="");var t=e.filter(function(e){return e.size<=m.SEND_LOGS_MAX_SCREENSHOT_SIZE});t.length<e.length&&g.default.openToast(h.createElement(T.default,{msg:y.default.t(1035),id:(0,T.genId)()}));var n=a.state.screenshots.concat(t).slice(0,m.SEND_LOGS_MAX_SCREENSHOTS);n.map(function(e){e.url||(e.url=URL.createObjectURL(e))}),a.setState({screenshots:n})})},a.onDragChange=function(e,t){a.setState({isDragging:e})},a.handleAttachClick=function(e){a.attachButton&&!a.reachMaxScreenshots()&&a.attachButton.click()},a.stopPropagation=function(e){e.stopPropagation()},a}return(0,l.default)(t,e),(0,s.default)(t,[{key:"componentDidMount",value:function(){this.emailAddrInput&&this.emailAddrInput.restoreFocus()}},{key:"componentWillUnmount",value:function(){this.state.screenshots.map(function(e){var t=e.url;return t&&URL.revokeObjectURL(t)})}},{key:"reachMaxScreenshots",value:function(){return this.state.screenshots.length>=m.SEND_LOGS_MAX_SCREENSHOTS}},{key:"deleteScreenshot",value:function(e){var t=this.state.screenshots.slice(),a=t.splice(e,1),n=(0,r.default)(a,1)[0];n.url&&URL.revokeObjectURL(n.url),this.setState({screenshots:t})}},{key:"getScreenshotsList",value:function(){var e=this,t=this.state.screenshots.map(function(t,a){if(!t.url)return null;var n="url(".concat(t.url,")"),i="screenshot-".concat(a);return h.createElement("div",{key:i,className:C.default.screenshotsImg,style:{backgroundImage:n}},h.createElement("button",{className:C.default.btnDelete,onClick:function(){e.deleteScreenshot(a)}},h.createElement(A.default,{name:"x-alt-light"})))});return t.length?h.createElement("div",{className:C.default.screenshotPreview},t):null}},{key:"getScreenshotAction",value:function(){if(this.reachMaxScreenshots()){var e=m.SEND_LOGS_MAX_SCREENSHOTS;return h.createElement("div",{className:(0,f.default)(C.default.action,C.default.disabled)},y.default.t(1043,{count:e,_plural:e}))}return this.state.isDragging?h.createElement("div",{className:C.default.action},y.default.t(1038)):h.createElement("div",{className:C.default.action,onClick:this.handleAttachClick},y.default.t(1039))}},{key:"render",value:function(){var e={enter:this.stopPropagation},t=h.createElement("div",{className:C.default.screenshots},this.getScreenshotsList(),this.getScreenshotAction(),h.createElement("input",{accept:"image/*",type:"file",multiple:!0,onClick:this.stopPropagation,onChange:this.onFilePick,ref:this.setAttachButton,disabled:this.reachMaxScreenshots()}));return h.createElement(b.default,{title:y.default.t(1042),okText:y.default.t(1028),onOK:this.onSend,onCancel:this.onCancel,onDrop:this.onFilePick,onDragChange:this.onDragChange},h.createElement(E.default,{handlers:e},h.createElement(M.default,{ref:this.setEmailAddr,value:this.state.email,error:this.state.emailError,maxLength:m.SEND_LOGS_MAX_EMAIL_LENGTH,onChange:this.onEmailChange,onBlur:this.onEmailBlur,placeholder:y.default.t(1030)}),h.createElement(M.default,{editable:!0,value:this.state.confirmEmail,error:this.state.confirmEmailError,maxLength:m.SEND_LOGS_MAX_EMAIL_LENGTH,onChange:this.onConfirmEmailChange,onBlur:this.onConfirmEmailBlur,placeholder:y.default.t(1031)}),h.createElement(M.default,{value:this.state.subject,error:this.state.subjectError,maxLength:m.SEND_LOGS_MAX_SUBJECT_LENGTH,onChange:this.onSubjectChange,onBlur:this.onSubjectBlur,placeholder:y.default.t(1034)}),h.createElement(M.default,{value:this.state.description,error:this.state.descriptionError,maxLength:m.SEND_LOGS_MAX_DESC_LENGTH,onChange:this.onDescriptionChange,onBlur:this.onDescriptionBlur,placeholder:y.default.t(379),multiline:!0}),t))}}]),t}(h.Component);t.default=P},bffadhdafi:function(e,t){e.exports=[65,26,32,26,73,1,11,1,5,1,6,23,24,31,32,449,451,7,21,2,16,5,14,1,130,4,6,2,4,4,5,1,7,1,2,3,4,1,2,20,21,83,84,140,147,166,167,38,40,49,55,-1,46,-1,2,-1,3,-1,3,-1,2,-56,64,-1,3,-1,2,-1,14,-48,82,-3,4,-101,116,-2,9,-2,12,-23,24,-30,57,-91,102,-58,67,-2,6,-3,4,-24,28,-1,10,-1,4,-1,6,-43,46,-119,167,55,56,1,2,4,12,4,5,3,10,10,12,29,30,2,3,8,10,2,4,22,23,7,8,1,4,4,7,4,10,2,4,2,3,1,9,1,5,2,3,3,7,12,14,7,8,2,7,1,2,6,10,2,4,22,23,7,8,2,3,2,3,2,6,3,27,4,5,1,8,10,12,3,4,1,13,1,2,9,10,3,4,22,23,7,8,2,3,5,8,4,12,1,2,2,5,1,16,2,6,11,19,1,9,2,3,8,10,2,4,22,23,7,8,2,3,5,8,2,3,1,7,2,4,2,12,1,5,2,3,3,7,18,29,1,2,6,9,3,4,4,7,2,3,1,2,2,5,2,5,3,6,12,16,2,3,2,5,3,4,3,6,1,7,1,15,13,27,3,4,8,9,3,4,23,24,16,19,1,4,4,23,3,8,2,6,10,25,2,3,11,12,3,4,23,24,10,11,5,8,8,9,3,4,2,11,2,9,1,2,2,6,10,11,2,17,2,3,8,9,3,4,41,43,4,9,3,4,3,4,2,6,14,18,26,28,2,3,18,21,24,25,9,10,1,3,7,15,3,9,8,14,10,12,3,15,48,49,2,14,7,15,13,50,2,3,1,3,2,3,1,3,1,7,4,5,7,8,3,4,1,2,1,3,2,3,4,5,2,11,1,3,5,6,1,10,10,12,4,36,24,26,27,28,1,2,1,6,10,11,36,54,1,6,1,3,5,54,8,9,6,7,13,50,45,49,1,7,1,3,2,4,25,27,4,7,16,20,13,14,2,4,6,7,15,16,40,41,1,6,1,3,377,378,4,6,7,8,1,2,4,6,41,42,4,6,33,34,4,6,7,8,1,2,4,6,15,16,57,58,4,6,67,72,29,32,16,32,86,88,6,9,639,640,26,31,89,96,13,14,4,18,18,21,2,11,18,32,13,14,3,18,52,54,1,8,8,9,2,13,7,8,1,4,10,48,10,16,89,96,5,7,34,35,1,6,70,80,31,35,4,6,3,7,2,3,6,19,40,42,5,16,44,48,26,32,11,48,23,25,2,5,56,57,1,10,1,2,2,10,6,19,10,16,10,16,14,100,48,49,1,6,1,2,5,6,9,13,27,36,9,14,32,36,2,4,1,4,56,57,1,3,3,4,1,4,2,10,48,56,2,7,15,18,60,67,43,45,11,22,1,14,1,8,4,5,6,7,3,11,192,256,278,280,6,8,38,40,6,8,8,9,1,2,1,2,1,2,31,33,53,54,7,8,1,4,3,4,7,10,4,6,6,10,13,18,3,4,7,24,1,1,-1,98,1,14,1,17,13,114,1,5,1,3,10,11,1,4,5,11,1,2,1,2,1,2,4,5,11,13,4,9,5,9,2,18,41,470,69,95,1,263,78,528,1,340,256,1024,47,48,47,48,133,139,4,7,2,14,38,39,1,6,1,3,56,63,2,17,23,32,7,8,7,8,7,8,7,8,7,8,7,8,7,8,7,557,3,28,9,13,2,3,5,7,5,9,86,92,3,4,90,91,4,9,43,44,94,95,43,96,45,48,48,64,28,31,50,65,12,16,47,48,119,123,99,101,31,32,6582,6656,20976,20992,1165,1232,317,320,28,48,47,64,30,32,80,82,6,48,102,103,49,110,11,12,3,4,4,5,25,27,1,9,8,16,52,64,68,78,12,36,13,14,38,46,25,36,2,13,30,36,48,49,2,6,2,3,17,18,11,15,7,8,25,26,41,47,2,4,2,13,3,4,8,9,1,3,10,12,32,33,51,52,1,4,2,4,5,7,1,2,1,25,17,19,8,19,6,8,6,8,6,15,7,8,7,8,54,64,117,118,2,3,4,7,10,16,11172,11184,23,27,49,2101,6766,6768,106,144,7,19,5,10,-1,2,-10,11,-532,534,-144,176,-13,14,-2,114,-143,177,26,32,26,37,89,92,6,8,6,8,6,8,3,38,12,13,26,27,19,20,2,3,15,17,14,48,123,128,1,2,1,5,45,48,9,86,2,67,45,176,29,32,49,96,36,45,30,35,38,48,30,31,37,41,14,56,158,160,10,16,36,40,36,40,40,48,52,63,1,145,311,320,22,32,8,160,-287,288,-225,228,-1,3,-5,9,-40,43,-4,5,-165,167,-82,89,-484,488,-8,18,-294,325,-199,210,-175,175,1,2,54,69,7,31,10,28,49,53,2,4,7,18,1,3,25,32,10,19,36,41,1,10,17,26,35,36,3,14,52,61,10,14,1,3,16,17,20,31,18,19,28,31,2,3,1,3,6,72,7,8,1,2,4,5,15,16,11,17,47,48,3,16,10,18,2,3,8,10,2,4,22,23,7,8,2,3,5,8,3,4,4,6,2,4,3,5,1,7,1,6,7,163,56,64,2,5,1,2,19,20,1,2,1,35,51,57,1,2,4,6,1,3,4,12,10,176,50,56,4,6,1,3,27,63,51,59,2,3,1,3,4,15,10,48,43,44,1,2,2,8,1,10,10,64,27,32,2,6,1,10,16,208,47,56,1,3,1,101,83,95,1,257,1,7,2,4,40,46,2,6,8,17,1,7,2,5,40,42,4,17,1,3,9,38,57,320,9,10,38,52,8,18,29,32,32,57,1,8,1,3,1,76,7,8,2,3,38,59,1,10,10,16,6,7,2,3,37,41,2,3,1,2,1,8,10,320,19,21,4,267,922,1024,111,112,5,16,196,2944,1071,5120,583,9216,569,576,31,32,10,14,2,98,30,37,1,11,48,55,15,25,10,11,7,8,21,26,19,707,91,192,69,80,47,67,13,77,2,32,6130,6144,755,10240,287,368,396,2704,107,112,13,16,9,16,10,12,1,3,1,4961,246,256,39,41,62,65,9,25,2,9,30,34,59,306,20,128,25,160,85,86,71,72,2,4,1,3,2,4,4,5,12,13,1,2,7,8,65,66,4,6,8,9,7,8,28,29,4,5,5,6,1,4,7,8,340,342,51,52,57,58,57,58,57,58,57,58,8,60,512,567,4,54,8,9,14,15,7,3451,-208,215,-109,116,-1445,1447,-270,542,31,32,58,64,61,118,29,42,44,48,9,16,2,3504,42711,42752,4149,4160,222,224,5762,5776,7473,10576,542,788480,65534,65536,65534]},bffbahfgga:function(e,t){e.exports={inputContainer:"_12h2d",label:"_2rGJA",input:"_1EoYL"}},bffbhdadij:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return new Promise(function(t,a){var n=new r.default;n.onerror=function(e){n.terminate(),a(new o.DecodeWebpResultsError("worker error",e))},n.onmessageerror=function(e){n.terminate(),a(new o.DecodeWebpResultsError("worker message error",e))},n.onmessage=function(e){n.terminate();var a=e.data;t(a)},n.postMessage({webpBuffer:e},[e])})};var r=i(a("dachjgjeda")),o=n(a("cajijabhgb"))},bffcbhabha:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=i(a("dgdjiicfdg")),u=n(a("ddhijeejag")),f=i(a("bbchdeehff")),h=i(a("biddiiafgd")),p=i(a("fifhbjiec")),g=i(a("fffdgbfji")),m=i(a("djhbfghcdb")),b=i(a("ihfccfgdf")),v=i(a("egjjcjcg"));function j(){f.default.closeModal()}var E=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).state={},a.onChange=function(e){var t=e.target;t instanceof HTMLInputElement&&a.setState({mute:parseInt(t.value,10)})},a.onMute=function(){f.default.closeModal();var e=a.getMuteDuration();v.default.setLastChatMuteDuration(e),a.props.onMute(3600*e+(0,l.default)().unix(),!0)},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"getMuteDuration",value:function(){return null!=this.state.mute&&0!==this.state.mute?this.state.mute:v.default.getLastChatMuteDuration()||8}},{key:"render",value:function(){var e=this,t=this.props.onCancel||j,a=this.getMuteDuration(),n=[{label:g.default.t(1323),duration:8},{label:g.default.t(1321),duration:168},{label:g.default.t(1322),duration:8760}].map(function(t){var n=t.duration;return u.createElement("li",{key:"mute-"+n},u.createElement("label",{className:m.default.label},u.createElement("input",{type:"radio",name:"duration",className:m.default.input,value:t.duration,checked:a===n,onChange:e.onChange}),t.label))}),i=u.createElement(p.default,{text:g.default.t(785,{name:this.props.chat.title()})});return u.createElement(h.default,{title:i,okText:g.default.t(1307),onOK:this.onMute,onCancel:t},u.createElement("form",null,u.createElement("ol",null,n)))}}]),t}(u.PureComponent);E.CONCERNS={chat:["id","formattedTitle"]};var y=(0,b.default)(E,E.CONCERNS);t.default=y},bffejifief:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.shift();switch(t.type){case"picture":(0,r.changeProfilePicThumb)(t.jid,t.tag);break;default:i.default.handle([t])}return Promise.resolve()};var i=n(a("dhggbbghfb")),r=a("cdghjejjij")},bffhabgiib:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=n(a("ddhijeejag")),u=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i))))._onRefChange=function(e){e?(a._ctx=e.getContext("2d"),a._imageData=a._ctx.createImageData(a.props.width,a.props.height)):(a._ctx=null,a._imageData=null)},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"_updateCanvas",value:function(){var e=this._ctx,t=this._imageData,a=this.props.rgbaBuffer;e&&t&&a&&(t.data.set(new Uint8Array(a)),e.putImageData(t,0,0))}},{key:"componentDidMount",value:function(){this._updateCanvas()}},{key:"componentDidUpdate",value:function(){this._updateCanvas()}},{key:"render",value:function(){return l.createElement("canvas",{className:this.props.className,width:this.props.width,height:this.props.height,onClick:this.props.onClick,onMouseEnter:this.props.onMouseEnter,ref:this._onRefChange})}}]),t}(l.PureComponent);t.default=u},bffjfbgbg:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.cleanFilename=S,t.cleanIncomingFilename=function(e){if(!e)return e;var t=S(e);if(e!==t&&t){var a=t.split("."),n=a.length>=2&&a.pop();["bat","exe","cmd","com","lnk","pif","scr","vb","vbe","vbs","wsh","js","ps1","hta","sh","csh","msi","app","scpt","applescript","reg","vbe","wsf","sct"].includes(n)&&(p.default.logVerbose("cleanIncomingFilename:extension: ".concat(n||""))(),p.default.assert(!1,"rtlo char in executable filename")())}return t},t.default=void 0;var r=i(a("bhabhhjdch")),o=i(a("eaidjcib")),s=i(a("dgcdacjddi")),d=i(a("ffceefejc")),c=i(a("cjedcdbdii")),l=i(a("bjehdcaaj")),u=i(a("dbjagcfebh")),f=n(a("dcaifjegcg")),h=i(a("baagejbchg")),p=i(a("bdiiahhjbe")),g=i(a("cjieghfgda")),m=a("daichdjff"),b=i(a("bjbdcigbdi"));function v(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function j(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?v(Object(a),!0).forEach(function(t){(0,r.default)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):v(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var E=function(e){function t(){var e,a;(0,o.default)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=(0,d.default)(this,(e=(0,c.default)(t)).call.apply(e,[this].concat(i)))).type=(0,f.prop)(m.OUTWARD_TYPES.UNKNOWN),a.mmsUrl=(0,f.prop)(),a.directPath=(0,f.prop)(),a.mediaKey=(0,f.prop)(),a.mediaKeyTimestamp=(0,f.prop)(),a.uploadHash=(0,f.prop)(),a.mediaStage=(0,f.prop)(m.STAGE.INIT),a.size=(0,f.prop)(),a.filehash=(0,f.prop)(),a.mimetype=(0,f.prop)(),a.mediaBlob=(0,f.prop)(),a.renderableUrl=(0,f.prop)(),a.fullHeight=(0,f.prop)(),a.fullWidth=(0,f.prop)(),a.aspectRatio=(0,f.prop)(),a.rgbaBuffer=(0,f.prop)(),a.rgbaHeight=(0,f.prop)(),a.rgbaWidth=(0,f.prop)(),a.animationDuration=(0,f.prop)(0),a.animatedAsNewMsg=(0,f.prop)(!1),a.isAnimated=(0,f.prop)(),a.firstFrameLength=(0,f.prop)(),a.firstFrameSidecar=(0,f.prop)(),a.preview=(0,f.prop)(),a.sidecar=(0,f.prop)(),a.duration=(0,f.prop)(),a.durationFloat=(0,f.prop)(),a.isGif=(0,f.prop)(),a.gifAttribution=(0,f.prop)(),a.streamable=(0,f.derived)(a._isStreamable,["isGif","mediaStage","sidecar","type","_swStreamingSupported"]),a._swStreamingSupported=(0,f.prop)(!1),a._listeningToSwSupport=(0,f.prop)(!1),a.filename=(0,f.prop)(),a.pageCount=(0,f.prop)(),a.documentPreview=(0,f.prop)(),a.subtype=(0,f.prop)(),a}return(0,u.default)(t,e),(0,s.default)(t,[{key:"initialize",value:function(){(0,l.default)((0,c.default)(t.prototype),"initialize",this).call(this)}},{key:"set",value:function(e,a,n){var i,r=n;return"string"==typeof e?i={[e]:a}:(i=e,r=a),i=function(e){var t,a=e.type,n=e.subtype;if("template"===a){switch(n){case h.default.TEMPLATE_SUBTYPE.IMAGE:t=m.OUTWARD_TYPES.IMAGE;break;case h.default.TEMPLATE_SUBTYPE.VIDEO:t=m.OUTWARD_TYPES.VIDEO;break;case h.default.TEMPLATE_SUBTYPE.DOCUMENT:t=m.OUTWARD_TYPES.DOCUMENT;break;case h.default.TEMPLATE_SUBTYPE.LOCATION:t=m.OUTWARD_TYPES.IMAGE}return j({},e,{type:t})}return e}(i=function(e){var t=e.filename||e.caption;if(t&&e.type===y.TYPE.DOCUMENT)return t=S(t),j({},e,{filename:t,caption:t});return e}(i)),(0,l.default)((0,c.default)(t.prototype),"set",this).call(this,i,r)}},{key:"_isStreamable",value:function(){return this.isStreamable()}},{key:"isStreamable",value:function(){return this.isStreamableType()&&this.listenToServiceWorkerSupport()}},{key:"_updateStreamingSupported",value:function(e){this._swStreamingSupported=e}},{key:"listenToServiceWorkerSupport",value:function(){if(this._listeningToSwSupport)return this._swStreamingSupported;var e=a("gcbhjhjhg").default;return this.listenTo(e,"change:streamingSupported",this._updateStreamingSupported),this._swStreamingSupported=Boolean(e.streamingSupported),this._listeningToSwSupport=!0,this._swStreamingSupported}},{key:"isStreamableType",value:function(){var e=!1;return e=b.default.supportsFeature(b.default.F.VIDEO_STREAMING)&&Boolean(this.type===m.OUTWARD_TYPES.VIDEO)&&!this.isGif&&(this.mediaStage===m.STAGE.INIT||this.mediaStage===m.STAGE.RESOLVED)&&null!=this.fullWidth&&null!=this.fullHeight&&Boolean(this.sidecar&&this.sidecar.byteLength>0),e}},{key:"isDownloadable",value:function(){return null!=this.renderableUrl||g.default.has(this.filehash)}}]),t}(f.default);E.Proxy="mediaData";var y=(0,f.defineModel)(E);y.TYPE=m.OUTWARD_TYPES,y.STAGE=m.STAGE;var _=y;function S(e){return e?e.replace(/[\u202a-\u202e\u2066-\u2068]/g,""):e}t.default=_},bfgacchdii:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.queryBusinessProfile=function(e){return(0,n.queryBusinessProfile)(e)};var n=a("eccjgeceej")},bfggfbdghf:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={TRENDING:"TRENDING",HAHA:"HAHA",SAD:"SAD",LOVE:"LOVE",REACTIONS:"REACTIONS",SPORTS:"SPORTS",TV:"TV"};t.default=n},bfgjcdgecg:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.sendConversationArchive=function(e,t,a){return o.default.sendConversationArchive(e,t,a).then(function(a){if(i.default.supportsFeature(i.default.F.MD_BACKEND)&&200===a.status&&!a._duplicate){var n={archive:t};return t&&(n.pin=void 0),r.Chat.merge(e.toString(),n).then(function(){return a})}return a})};var i=n(a("bjbdcigbdi")),r=a("cefcddgdgg"),o=n(a("bihdhbjih"))},bfhbfhhceg:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=n(a("ddhijeejag")),u=i(a("dbdfbgehgj")),f=i(a("bbchdeehff")),h=i(a("bjjjdidhhi")),p=n(a("bhhdeihhhf")),g=i(a("cijjejhjfh")),m=i(a("eceadcicaf")),b=i(a("deifjeacc")),v=a("ddbddjjgia"),j=a("bheafeifce"),E=i(a("dghebhejhb")),y=i(a("caffijjhc")),_=i(a("dbjbhajgfd")),S=i(a("didfdhbecg")),C=a("bedfbecdgd"),A=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).addRevokeListener=function(){a.props.listeners.add(a.props.msg,"change:isRevoked",a.handleRevoke)},a.handleRevoke=function(){f.default.refreshMessages()},a.state={contextMenu:null,hover:!1},a.setRefContext=function(e){return a.refContext=e},a.mouseOver=function(e){e.buttons||a.state.hover||a.setState({hover:!0})},a.mouseDown=function(){a.state.hover&&a.setState({hover:!1})},a.onOpenInfoDrawer=function(){f.default.msgInfoDrawer((0,j.unproxy)(a.props.msg))},a.onReplyMessage=function(){var e=(0,j.unproxy)(a.props.msg),t=e.chat;t.composeQuotedMsg=e,f.default.focusChatTextInput(t)},a.onPrivateReplyMessage=function(){var e=(0,j.unproxy)(a.props.msg);u.default.find(e.sender).then(function(e){return Promise.props({ok:f.default.openChatBottom(e),chat:e})}).then(function(t){var n=t.ok,i=t.chat;n&&(i.composeQuotedMsg=e,a.props.msg&&a.props.msg.chat&&(i.composeQuotedMsgRemoteJid=a.props.msg.chat.id))})},a.onStarMessage=function(){var e=(0,j.unproxy)(a.props.msg);f.default.sendStarMsgs(e.chat,[e])},a.onUnstarMessage=function(){var e=(0,j.unproxy)(a.props.msg);f.default.sendUnstarMsgs(e.chat,[e])},a.onDeleteMessage=function(){var e=a.props,t=e.msg,n=e.isMsgVisible;f.default.openModal(l.createElement(h.default,{chat:t.chat,msgList:[t].map(j.unproxy),deletePrompt:!0,revokePrompt:t.canRevoke(),isMsgVisible:n}))},a.openContactChat=function(){u.default.find(a.props.msg.author).then(function(e){f.default.openChatFromUnread(e).then(function(t){t&&f.default.focusChatTextInput(e)})})},a._getMenuRefContext=function(){if(a.refContext)return a.refContext.getComponent().refContext},a.onMenu=function(e,t){if(t&&a.state.contextMenu)a.setState({contextMenu:null});else{var n=t?a._getMenuRefContext():e,i=(0,j.unproxy)(a.props.msg),r=[];i.isSentByMe&&!i.isRevoked&&r.push(l.createElement(p.default,{key:"info",a8n:"mi-msg-info",action:a.onOpenInfoDrawer},l10n.t(737))),i.canReply()&&r.push(l.createElement(p.default,{key:"reply",a8n:"mi-msg-reply",action:a.onReplyMessage},l10n.t(957))),(i.canPrivateReply()||i.canPrivateReplyInRestrictedGrp())&&r.push(l.createElement(p.default,{key:"private_reply",a8n:"mi-msg-reply",action:a.onPrivateReplyMessage},l10n.t(917))),i.canForward()&&r.push(l.createElement(p.default,{key:"forward",a8n:"mi-msg-forward",action:function(){a.props.onOpenForwardFlow(!0,i)}},l10n.t(485))),i.canStar()&&(i.star?r.push(l.createElement(p.default,{key:"star",a8n:"mi-msg-unstar",action:a.onUnstarMessage},l10n.t(1111))):r.push(l.createElement(p.default,{key:"star",a8n:"mi-msg-star",action:a.onStarMessage},l10n.t(1060)))),r.push(l.createElement(p.default,{key:"delete",a8n:"mi-msg-delete",action:a.onDeleteMessage},l10n.t(376))),i.isGroupMsg&&i.author&&!i.isSentByMe&&r.push(l.createElement(p.default,{key:"author",a8n:"mi-msg-author",action:a.openContactChat},l10n.t(733,{author:i.displayName()}))),a.setState({contextMenu:{menu:r,anchor:n,theme:p.ThemeOptions.COMPACT}})}},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){this.addRevokeListener()}},{key:"componentDidUpdate",value:function(e){this.props.msg.id.equals(e.msg.id)||(this.props.listeners.remove(e.msg,"change:isRevoked",this.handleRevoke),this.addRevokeListener())}},{key:"contextOpen",value:function(){this.onMenu(void 0,!0)}},{key:"contextClose",value:function(){this.setState({contextMenu:null})}},{key:"scrollMsg",value:function(e,t){this.props.scrollMsg(e,t)}},{key:"highlight",value:function(e){this.props.highlight(e)}},{key:"render",value:function(){var e,t,a,n=this,i=this.props,r=i.msg,o=i.menuTransition;return(this.state.hover||this.state.contextMenu)&&(e=l.createElement(b.default,{msg:r,position:v.MsgPosition.SINGLE,key:"icon-context",ref:this.setRefContext,onToggle:function(e){n.onMenu(e)},isGroupedSticker:!0})),this.props.isFocused&&(t=l.createElement(C.WhileFocusedListener,{parent:this})),this.state.contextMenu&&(a=l.createElement(y.default,{displayName:"MsgContextMenu",escapable:!0,popable:!0,requestDismiss:function(){return n.contextClose()}},l.createElement(_.default,{contextMenu:this.state.contextMenu}))),l.createElement("div",{className:g.default.stickerItem,onMouseOver:this.mouseOver,onMouseDown:this.mouseDown,onMouseUp:this.mouseOver,onMouseLeave:this.mouseDown},l.createElement(E.default,{mediaData:r.mediaData,msg:r,forwardRef:this.props.forwardRef}),l.createElement("div",{className:g.default.stickerMenu},l.createElement(S.default,{transitionName:o},e)),a,t)}}]),t}(l.Component),M=(0,m.default)(A);t.default=M},bfhcddbbhg:function(e,t){e.exports={albumGridClass:"_36Yqt",albumTopLeft:"_1b8RS",albumTopRight:"_2ip-H",albumBottomLeft:"_3mNmN",albumBottomRight:"_125Xa",numberText:"_1XSxP"}},bfhdbejjbg:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.DownloadManager=void 0;var i=n(a("bhabhhjdch")),r=n(a("eaidjcib")),o=n(a("cgeedcdffb")),s=n(a("cchfggidbj")),d=n(a("cecfgggbdj")),c=a("bafdjibgig"),l=n(a("bdiiahhjbe")),u=a("chfghiiefb"),f=a("daichdjff"),h=a("fabajdgab"),p=n(a("cjbdijighi")),g=n(a("bfbggcdbfb")),m=n(a("cgdfjifbb")),b=a("bcjidabgad"),v=n(a("dejcgejdhb"));function j(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}var E=function e(){(0,r.default)(this,e),this.downloadAndDecrypt=(0,s.default)(function(e){return e.filehash},{get:function(e,t){return(0,h.shouldUseLruMediaStore)(t.type)?v.default.get(e).catch(function(e){return l.default.error("downloadManager.asyncCache.get error: ",e)(),null}):Promise.resolve(null)},set:function(e,t,a){return(0,h.shouldUseLruMediaStore)(a.type)?v.default.put(e,t).catch(function(e){l.default.error("downloadManager.asyncCache.set error: ",e)()}):Promise.resolve()}},function(e){var t=e.directPath,a=e.encFilehash,n=e.filehash,i=e.mediaKey,r=e.onDecryptStart,s=e.type,u=e.signal||(new o.default).signal,f={directPath:t,encFilehash:a,type:s};return l.default.log("downloadManager.download: start",f)(),m.default.download({directPath:t,encFilehash:a,type:s,signal:u}).then(function(e){return r&&r(),(0,d.default)({mediaKey:i,ciphertextHmac:e,expectedPlaintextHash:n,type:s})}).then(function(e){return l.default.log("downloadManager.download: success",f,e)(),e}).catch(function(e){throw e instanceof c.MediaNotFoundError?l.default.log("downloadManager.download: expected error",f,e)():l.default.error("downloadManager.download: error",f,e)(),e})}),this.rmr=(0,p.default)(function(e){return e.object.filehash||""},function(e){var t=e.object,a={filehash:t.filehash,type:t.type};l.default.log("downloadManager.rmr: start",a)(),t.consolidate({downloadStage:f.DOWNLOAD_STAGE.REUPLOADING});var n=performance.now(),r=new g.default.WebcMediaRmr(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?j(Object(a),!0).forEach(function(t){(0,i.default)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):j(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},e.rmrData,{webcRmrReason:e.rmrReason})),o=(0,b.getEffectiveNetworkType)();return null!=o&&(r.webcBrowserNetworkType=o),t.type&&(r.messageMediaType=(0,u.webMediaTypeToWamMediaType)(t.type)),null!=t.size&&(r.webcMediaSize=t.size),Math.random()<=.01&&l.default.assert(null!=e.rmrReason,"rmrReason is null")(),t.rmr({onMsgSelect:function(e){null==r.webcChatType&&e.chat&&(r.webcChatType=e.chat.getWebcChatType()),null==r.webcMessageT&&(r.webcMessageT=e.t),r.messageMediaType=e.getWamMediaType()}}).then(function(e){if(r.webcRmrStatusCode=e.status,l.default.log("downloadManager.rmr: reply",a,e)(),404===e.status)throw new c.MediaNotOnPhone;if(200!==e.status)throw new c.ServerStatusCodeError(e.status);l.default.log("downloadManager.rmr: success",a)()}).catch(function(e){throw r.webcMediaRmrError=!0,e instanceof c.MediaNotOnPhone?(l.default.log("downloadManager.rmr: expected error",a,e)(),e):(l.default.error("downloadManager.rmr: error",a,e)(),new c.MediaNeedsReupload)}).finally(function(){r.webcMediaRmrT=Math.ceil(performance.now()-n),r.commit()})})};t.DownloadManager=E;var y=new E;t.default=y},bfiaijhcgh:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=n(a("ddhijeejag")),u=n(a("dbhhbejbcb")),f=i(a("dgbdeadddb")),h=a("eagfdbhhhh"),p=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,(0,d.default)(t).apply(this,arguments))}return(0,c.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e,t=this,a=this.props.emojis,n=a?a.length:0;if(0===n)return null;switch(n){default:case 3:e=u.SIZE.MEDIUM;break;case 2:e=u.SIZE.LARGE;break;case 1:e=u.SIZE.XLARGE}var i=a.map(function(a,n){return l.createElement(u.default,{animation:t.props.animation,size:e,emoji:a,key:a+n,selectable:!0})});return l.createElement(h.SelectableDiv,{selectable:!0,className:f.default.wrapper},i)}}]),t}(l.Component);t.default=p},bfidcjhfda:function(e,t,a){"use strict";var n=a("cfjecfhbfg"),i=n(a("dbajccegac")),r=n(a("dicfecifhd")),o=n(a("bdiiahhjbe")),s=n(a("jccfhaecf")),d=a("dcbdjheea");e.exports=function(e){var t,a={},n=e.nibbleEncode;for(t=0;t<e.singleByte.length;t++)e.singleByte[t]&&(a[e.singleByte[t]]=t);for(t=0;t<e.doubleByte.length;t++)e.doubleByte[t]&&(a[e.doubleByte[t]]=t+r.default.SINGLE_BYTE_MAX);this.writeNode=function(e,t){if(t){if(3!==t.length)throw new Error("invalid node");var a=t[1]?2*Object.keys(t[1]).filter(function(e){return!!t[1][e]}).length:0;this.writeListStart(e,1+a+(t[2]?1:0)),this.writeString(e,t[0]),this.writeAttributes(e,t[1]),this.writeChildren(e,t[2])}},this.writeString=function(e,t,n){if("string"!=typeof t&&!(t instanceof s.default))throw o.default.error("writer:writeString passed non-string/wid type: ".concat(typeof t))(t),new Error("invalid string");if(t instanceof s.default)this.writeJid(e,t);else{var i,c,l=a.hasOwnProperty(t)?a[t]:void 0;if("c.us"!==t||n)if(void 0===l)if(t.indexOf("@")<1)this.writeStringRaw(e,t);else try{var u=(0,d.createWid)(t);this.writeJid(e,u)}catch(a){this.writeStringRaw(e,t)}else{if(l<r.default.SINGLE_BYTE_MAX)this.writeToken(e,l);else{var f=l-r.default.SINGLE_BYTE_MAX;switch(c=f%256,f>>8){case 0:i=r.default.DICTIONARY_0;break;case 1:i=r.default.DICTIONARY_1;break;case 2:i=r.default.DICTIONARY_2;break;case 3:i=r.default.DICTIONARY_3;break;default:throw new Error("double byte dictionary token out of range: "+t+" "+l)}}this.writeToken(e,i),this.writeToken(e,c)}else this.writeToken(e,a["s.whatsapp.net"])}},this.writeStringRaw=function(e,t){var a=i.default.numUtf8Bytes(t);if(a>=4294967296)throw new Error("string too large to encode (len = "+a+"): "+t);a>=1<<20?(e.pushByte(r.default.BINARY_32),e.pushInt32(a)):a>=256?(e.pushByte(r.default.BINARY_20),e.pushInt20(a)):(e.pushByte(r.default.BINARY_8),e.pushByte(a)),e.pushString(t)},this.writeJid=function(e,t){var a=t.user,n=t.server,i=t.agent,o=t.device;if(i||o){if(i>255||o>255||"c.us"!==n&&"s.whatsapp.net"!==n)throw new Error("invalid agent:".concat(i," or device:").concat(o," or server:").concat(n," for wid ").concat(t.toString()));e.pushByte(r.default.JID_AD),e.pushByte(i||0),e.pushByte(o||0),a?this.writePackedBytesStringFallback(e,a):this.writeToken(e,r.default.LIST_EMPTY)}else e.pushByte(r.default.JID_PAIR),a?this.writePackedBytesStringFallback(e,a):this.writeToken(e,r.default.LIST_EMPTY),this.writeString(e,n)},this.writeToken=function(e,t){if(t<245)e.pushByte(t);else if(t<=500)throw new Error("invalid token")},this.writeAttributes=function(e,t){if(t){for(var a in this.isAttr=!0,t)t[a]&&(this.writeString(e,a),this.writeString(e,t[a]));this.isAttr=!1}},this.writeChildren=function(e,t){var a;if(t)if("string"==typeof t)this.writeString(e,t,!0);else if(t instanceof ArrayBuffer){if((a=t.byteLength)>=4294967296)throw new Error("invalid children; too long (len = "+a);a>=1<<20?(e.pushByte(r.default.BINARY_32),e.pushInt32(a)):a>=256?(e.pushByte(r.default.BINARY_20),e.pushInt20(a)):(e.pushByte(r.default.BINARY_8),e.pushByte(a)),e.pushBytes(t)}else{if(!Array.isArray(t))throw new Error("invalid children");a=t.length,this.writeListStart(e,a);for(var n=0;n<a;n++)this.writeNode(e,t[n])}},this.writeListStart=function(e,t){0===t?e.pushByte(r.default.LIST_EMPTY):t<256?(e.pushByte(r.default.LIST_8),e.pushByte(t)):(e.pushByte(r.default.LIST_16),e.pushInt16(t))},this.writePackedBytesStringFallback=function(e,t){try{this.writePackedBytes(e,t)}catch(a){o.default.warnVerbose('writer:encode-fallback "'.concat(a.message,'"'))(t),this.writeString(e,t)}},this.writePackedBytes=function(e,t){try{this.writePackedBytesImpl(e,t,r.default.NIBBLE_8)}catch(a){o.default.warn('writer:enc nib fail, try hex "'.concat(a.message,'"'))(t),this.writePackedBytesImpl(e,t,r.default.HEX_8)}},this.writePackedBytesImpl=function(e,t,a){var n=i.default.numUtf8Bytes(t);if(n>r.default.PACKED_MAX)throw new Error("too many bytes to nibble-encode: len = "+n);var o,s=[],d=0;n%2>0&&(d=128);var c=d|Math.ceil(n/2);s.push(a),s.push(c);for(var l=Math.floor(n/2),u=0;u<l;u++)o=this.packBytePair(a,t[2*u],t[2*u+1]),s.push(o);d>0&&(o=this.packBytePair(a,t[n-1],"\0"),s.push(o));var f=new Uint8Array(s);e.pushUint8Array(f)},this.packBytePair=function(e,t,a){var n,i;switch(e){case r.default.NIBBLE_8:n=this.packNibble(t),i=this.packNibble(a);break;case r.default.HEX_8:n=this.packHex(t),i=this.packHex(a);break;default:throw new Error("invalid byte pack type: "+e)}return n<<4|i},this.packNibble=function(e){if(!n.hasOwnProperty(e))throw new Error("invalid byte to nibble-pack: "+e);return n[e]},this.packHex=function(e){switch(e){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"A":case"B":case"C":case"D":case"E":case"F":return parseInt(e,16);case"\0":return 15;default:throw new Error("packHex:invalid byte: "+e)}}}},bfidigcji:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=n(a("ddhijeejag")),u=i(a("ihfccfgdf")),f=i(a("dgacgafafa")),h=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,(0,d.default)(t).apply(this,arguments))}return(0,c.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=this.props.stickerPack,t=e.id,a=e.name,n=e.url;return l.createElement(f.default,{id:t,name:a,url:n})}}]),t}(l.PureComponent);h.CONCERNS={stickerPack:["id","name","url"]};var p=(0,u.default)(h,h.CONCERNS);t.default=p},bfifafibjc:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("bacehaajgh")),o=i(a("dagbcgeifg")),s=i(a("bhabhhjdch")),d=i(a("eaidjcib")),c=i(a("dgcdacjddi")),l=i(a("ffceefejc")),u=i(a("cjedcdbdii")),f=i(a("dbjagcfebh")),h=i(a("ceffhbhahb")),p=n(a("ddhijeejag")),g=i(a("dcicgjefd")),m=i(a("dbhcbbgdji"));function b(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}var v=function(e){function t(){var e,a;(0,d.default)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=(0,l.default)(this,(e=(0,u.default)(t)).call.apply(e,[this].concat(i))))._setRefResizeObserver=function(e){a._refResizeObserver=e,a.props.onRef&&a.props.onRef(e),a._handleResize()},a._handleResize=function(){var e=a._refResizeObserver;if(e){var t={height:e.offsetHeight,width:e.offsetWidth};a._prevDimensions&&a._prevDimensions.width===t.width&&a._prevDimensions.height===t.height||(a._prevDimensions=t,a.props.onResize(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?b(Object(a),!0).forEach(function(t){(0,s.default)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):b(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},t)))}},a}return(0,f.default)(t,e),(0,c.default)(t,[{key:"render",value:function(){var e=this.props,t=e.children,a=e.className,n=(e.onResize,e.onRef,(0,o.default)(e,["children","className","onResize","onRef"]));return p.createElement("div",(0,r.default)({className:(0,h.default)(g.default.container,a),ref:this._setRefResizeObserver},n),t,p.createElement(m.default,{onResize:this._handleResize}))}}]),t}(p.PureComponent);t.default=v},bfifighhia:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=n(a("ddhijeejag")),u=i(a("bhhdiiaihb")),f=i(a("caegbedegd")),h=i(a("ceggedffg")),p=(0,u.default)("*"),g=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,(0,d.default)(t).apply(this,arguments))}return(0,c.default)(t,e),(0,o.default)(t,null,[{key:"jsx",value:function(e,t,a){var n=a.selectable,i=void 0!==n&&n;return l.createElement(f.default,{selectable:i},e)}}]),t}((0,h.default)(/(?:^|[\s\W_])\*([^\s\u20e3]|[^\s\u20e3][^\n]*?\S)\*(?=$|[[\s\W_])/g,1,p));t.default=g},bfihjhiege:function(e,t){e.exports={fit:"_3NteO",fitRelative:"_1kgcV",fitScaledown:"_3eeXM",fitZoomin:"_14CNR",nativeCover:"_3WAy7",nativeScaleDown:"_39KgN"}},bfjbdahdag:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=n(a("ddhijeejag")),u=i(a("fifhbjiec")),f=i(a("dafiibaihc")),h=a("gaifbabbj"),p=i(a("dbbbgjbbgf")),g=i(a("ihfccfgdf")),m=i(a("dgdadejebh")),b=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,(0,d.default)(t).apply(this,arguments))}return(0,c.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=this.props,t=e.msg,a=e.spacer,n=e.trusted,i=(n?h.Configuration.TrustedConversation:h.Configuration.UntrustedConversation)({mentions:t.mentionMap(),links:t.getLinks(),selectable:!0}),r=t.text;if(!r)return null;var o=!(!t.dir||t.rtl===l10n.isRTL());return l.createElement(l.Fragment,null,l.createElement(m.default,{msg:t}),l.createElement(p.default,{msg:t,"data-id":t.id,spacer:a},l.createElement(f.default,{text:r,textLimit:t.initialPageSize},function(e){return l.createElement(u.default,{direction:t.dir,dirMismatch:o,formatters:i,inferLinesDirection:!0,noInvisibleSpace:o&&null!=t.footer,selectable:!0,text:t.text,textLimit:e.textLimit})})))}}]),t}(l.PureComponent);b.CONCERNS={msg:["t","id","dir","rtl","text","initialPageSize","footer"]};var v=(0,g.default)(b,b.CONCERNS);t.default=v},bfjchhccjd:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(!e)return!1;var a=e.parentElement;if(!a)return!1;var n=t>=0?t:a.childNodes.length+t;return e===a.childNodes[n]}},bfjegcdcag:function(e,t){e.exports={container:"_2LSbZ",title:"_3EN0l","padding-large":"_1ur1f",paddingLarge:"_1ur1f",padding:"_2ZVEo","group-desc-padding":"ujWpH",groupDescPadding:"ujWpH","padding-product":"_2x5h1",paddingProduct:"_2x5h1",animate:"_2j5ir","well-animation2":"_3e_bD",wellAnimation2:"_3e_bD"}},bfjeggfcij:function(e,t){e.exports={playerWrapper:"_2sTOw"}},bfjfgcfade:function(e,t,a){"use strict";var n=a("cfjecfhbfg"),i=n(a("eaidjcib")),r=n(a("dgcdacjddi")),o=n(a("ffceefejc")),s=n(a("cjedcdbdii")),d=n(a("dbjagcfebh")),c=n(a("digcccheca")),l=n(a("djegeegcbf")),u=n(a("bjgibbgbai")),f=n(a("debfbiicee")),h=n(a("bidcddiaag")),p=n(a("decdhbjfjc")),g={ArrowLeft:u.default.EMOJI_LEFT,ArrowRight:u.default.EMOJI_RIGHT,Enter:u.default.EMOJI_ENTER,Tab:u.default.EMOJI_TAB},m=50,b=function(e){function t(){var e,a;(0,i.default)(this,t);for(var n=arguments.length,r=new Array(n),d=0;d<n;d++)r[d]=arguments[d];return(a=(0,o.default)(this,(e=(0,s.default)(t)).call.apply(e,[this].concat(r)))).hooks={[f.default.CHANGE](e,t){""===t.refInput.textContent&&this.handle(u.default.EMOJI_INACTIVE)}},a.handlers={onKeyDown(e,t){var a=this;8!==e.keyCode&&e.repeat&&(this._lastSyncKeyDownWasRepeat=!0,setTimeout(function(){delete a._lastSyncKeyDownWasRepeat},0));var n=g[e.key];return!!n&&this.handle(n,[e,t])},onSelect(e,t){if(this.ctx.isComposing)return!1;if(this._lastSyncKeyDownWasRepeat)return!1;var a=window.getSelection();if(!a.modify)return!1;var n=v(t,a);return n?(n=n.slice(1),this.handle(u.default.EMOJI_SEARCH,[n]),!1):this.handle(u.default.EMOJI_INACTIVE)}},a}return(0,d.default)(t,e),(0,r.default)(t,[{key:"handleSelect",value:function(e){this.ctx.forceFocus(),v(this.ctx,window.getSelection(),!0)&&(this.ctx.replaceSelection(e),this.handle(u.default.EMOJI_INACTIVE))}}]),t}(c.default);function v(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=null,i=null,r="",o=0,s=null;return(0,h.default)(e,t,function(e,t,a){if("@"===e||" "===e&&" "===i)return!0;if(":"===i)if(" "===n);else{if(l.default.isEmoji(e))return s=r,!0;if(/\W/.test(e))return s=a.slice(t+1)+r,!0}return 0===t&&(r=a+r),n=i,i=e,(o+=1)>=m||void 0}),!s&&o<m&&":"===i&&(s=r),a&&s&&s.length&&(0,p.default)(t,s.length),s}e.exports=b},bgabieacgg:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.find=function(e,t){var a=performance.now();return s.default.chatFindQuery(e,function(e){t.binarySize=e.binarySize}).then(function(e){return"preempted"!==e&&(t.timing=Math.ceil(performance.now()-a),t.size=e.length,o.default.supportsFeature(o.default.F.MD_BACKEND))?r.default.bulkCreateOrMerge(e.map(function(e){return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?d(Object(a),!0).forEach(function(t){(0,i.default)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):d(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},e,{id:e.id.toString()})})).then(function(){return e}):e})};var i=n(a("bhabhhjdch")),r=n(a("begbbgieee")),o=n(a("bjbdcigbdi")),s=n(a("bihdhbjih"));function d(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}},bgaeiiadg:function(e,t){e.exports={border:"_2DxRd"}},bgaigbgdgj:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){for(var a=atob(e),n=0,i=0;i<a.length;i++){var r=a.charCodeAt(i),o=r>>4,s=15&r;n=(((n=((n<<4)+o)%t)<<4)+s)%t}return n}},bgajdijche:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=n(a("ddhijeejag")),u=i(a("effbcehec")),f=i(a("cfadcbbiie")),h=i(a("baagejbchg")),p=a("ddjgcfjicj"),g=n(a("cajijabhgb")),m=i(a("bjbdcigbdi")),b=i(a("fffdgbfji")),v=i(a("eceadcicaf")),j=i(a("bdiiahhjbe")),E=i(a("eigdejjai")),y=i(a("bjbedjfe")),_=i(a("becfabjeeg")),S=i(a("cdeaahaeee")),C=a("hjbcfjaai"),A=i(a("bfdcadbbif")),M=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,(0,d.default)(t).apply(this,arguments))}return(0,c.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e,t,a=l.createElement(P,{statusV3:this.props.status,onOpenStatus:this.props.onOpenStatus});return m.default.supportsFeature(m.default.F.STATUS_V3_UI_SENDING)&&(e=l.createElement("div",{className:S.default.updateWrapper},l.createElement("div",{className:S.default.updateTitle},b.default.t(1079)),l.createElement("div",{className:S.default.uploadButtons},l.createElement("div",{className:S.default.buttonContainer},l.createElement(A.default,{name:"status-v3-upload"}),l.createElement("p",null,b.default.t(1080))),l.createElement("div",{className:S.default.buttonContainer},l.createElement(A.default,{name:"status-v3-camera"}),l.createElement("p",null,b.default.t(1066))))),t=l.createElement("hr",null)),l.createElement("div",{className:S.default.outStatusPanel},e,t,a)}}]),t}(l.Component),T=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).rerender=function(){a.forceUpdate()},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.statusV3,a=e.listeners;t&&(a.add(t,"change:msgsChanged",this.rerender),t.loadMore(t.totalCount).catch(function(e){j.default.error("error while loading all out status: ".concat(String(e)))()}))}},{key:"componentDidUpdate",value:function(e){var t=this.props,a=t.listeners,n=t.statusV3,i=e.statusV3;i!==n&&(i&&a.remove(i,"change:msgsChanged",this.rerender),n&&a.add(n,"change:msgsChanged",this.rerender))}},{key:"render",value:function(){var e=this,t=this.props.statusV3;if(t&&t.msgs.length>0){var a=t.msgs.map(function(a){return l.createElement(I,{key:a.id.toString(),msg:a,status:t,onOpenStatus:e.props.onOpenStatus})});return l.createElement("div",{className:S.default.viewWrapper},l.createElement("div",{className:S.default.viewTitle},b.default.t(1081)),l.createElement("div",{className:S.default.viewUpdates},a))}return l.createElement("div",{className:S.default.viewWrapper},l.createElement("div",{className:S.default.placeholderIcon},l.createElement("div",{className:S.default.placeholderIcon},l.createElement(A.default,{name:"status-v3-placeholder"}))),l.createElement("div",{"data-a8n":u.default.key("status-placeholder"),className:S.default.placeholderText},b.default.t(1075)))}}]),t}(l.Component),P=(0,v.default)(T),N=function(e){function t(){var e;return(0,r.default)(this,t),(e=(0,s.default)(this,(0,d.default)(t).apply(this,arguments))).state={},e}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){var e=this;E.default.find(this.props.msg.id).checkpoint(this.props.rejectOnUnmount()).then(function(t){e.props.listeners.add(t.read,"add remove",function(){e.setState({seenCount:t.read.length})}),e.setState({seenCount:t.read.length})}).catch(g.Unmount,function(){}).catch(p.EphemeralDrop,function(){})}},{key:"render",value:function(){var e,t,a,n=this,i=this.props,r=i.msg,o=i.status,s=r.mediaData;if(s&&s.preview)e={backgroundImage:"url(".concat(s.preview.url(),")")};else if(r.type===h.default.MSG_TYPE.CHAT){e={backgroundColor:r.statusV3TextBg}}return r.type===h.default.MSG_TYPE.CHAT&&(t=l.createElement(C.StatusV3Text,{msg:r,theme:"status-panel"})),a=void 0!==this.state.seenCount?l.createElement(l.Fragment,null,l.createElement(A.default,{name:"status-v3-seen"}),l.createElement("div",{className:S.default.seenCount},this.state.seenCount)):l.createElement(_.default,{stroke:3,size:12}),l.createElement("div",{className:S.default.outDetail},l.createElement("div",{className:S.default.statusImage,style:e,onClickCapture:function(e){n.props.onOpenStatus(o,r),e.preventDefault(),e.stopPropagation()}},t),l.createElement("div",{className:S.default.seen},a),l.createElement("div",{className:S.default.timestamp},f.default.relativeDateAndTimeStr(r.t)))}}]),t}(l.Component),I=(0,y.default)((0,v.default)(N)),k=M;t.default=k},bgcdajbhif:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.StatusV3Collection=void 0;var i=n(a("eaidjcib")),r=n(a("dgcdacjddi")),o=n(a("ffceefejc")),s=n(a("cjedcdbdii")),d=n(a("bjehdcaaj")),c=n(a("dbjagcfebh")),l=n(a("bebajedcaf")),u=n(a("iidhbgeed")),f=n(a("dbafiicfja")),h=n(a("cbeddgjfaj")),p=n(a("cgcgbfbffj")),g=n(a("cfadcbbiie")),m=n(a("baagejbchg")),b=n(a("bjigbaghc")),v=a("ddjgcfjicj"),j=n(a("bjbdcigbdi")),E=n(a("bdiiahhjbe")),y=n(a("bfbggcdbfb")),_=n(a("biecbbiiee")),S=n(a("beeieigghj")),C=n(a("bfgbdiffgd")),A=n(a("jcfjeeiii")),M=n(a("bihdhbjih")),T=a("dcbdjheea"),P=function(e){function t(){return(0,i.default)(this,t),(0,o.default)(this,(0,s.default)(t).apply(this,arguments))}return(0,c.default)(t,e),(0,r.default)(t,[{key:"delete",value:function(){(0,d.default)((0,s.default)(t.prototype),"delete",this).call(this),delete this.checksum}},{key:"_find",value:function(e){return Promise.resolve({id:e})}},{key:"findQuery",value:function(e,a){var n=this;return(0,d.default)((0,s.default)(t.prototype),"findQuery",this).call(this,e,a).then(function(e){var t=e||[];return Promise.all(t.map(function(e){if(e){var t=0;return e.msgs.forEach(function(a){t<e._msgs.length&&e._msgs[t].id.toString()===a.id.toString()?++t:a.delete()}),e._msgs.length>0?n.addStatusMessages(e.id,e._msgs):Promise.resolve()}})).then(function(){return t})})}},{key:"_findQuery",value:function(e){var t=this;return M.default.statusQuery().then(function(e){return t.checksum=e.checksum,Promise.map(e.statuses,function(e){e.totalCount!==e._msgs.length&&e.totalCount<=20&&E.default.warn("Received ".concat(e._msgs.length," status V3 messages when total count is ").concat(e.totalCount," for ").concat(e.id))();var t=e.pic;return t?S.default.createFromData(t,"image/jpeg").then(function(t){return e.pic=t,e}):e})})}},{key:"loadMore",value:function(e,t,a){return M.default.statusQuery(e,t,a&&a.id,"after").then(function(e){return e.status>=400?(E.default.error("model:statusv3:findQuery error "+e.status)(),Promise.reject(e.status)):(e.forEach(function(e){e.invis=!0}),E.default.log("model:statusv3:loadMore:".concat(e.length))(),_.default.processMultipleMessages((0,T.createWid)(m.default.STATUS_WID),e,{add:"after",isHistory:!0}))})}},{key:"sync",value:function(e){var t=this,a=window.performance.now();return!e||this.checksum&&this.checksum!==e?this.findQuery({},{set:this.hasSynced()}).catch(v.WapDrop,function(){}).finally(function(){t.trigger("sync")}).tap(function(e){var n=window.performance.now(),i=Math.round(n-a);t.logMetrics({type:"sync",syncTime:i}),t.forEach(function(e){e.msgs.length>e.totalCount&&E.default.log("Total count: ".concat(e.totalCount,", msgs length: ").concat(e.msgs.length))()})}):Promise.resolve(void 0)}},{key:"logMetrics",value:function(e){var t;t="sync"===e.type?new y.default.WebcStatusSync({webcStatusSyncT:e.syncTime}):new y.default.WebcStatusSession({webcStatusSessionId:e.sessionId});var a=this.filter(function(e){return!e.contact.isMe}),n=a.filter(function(e){return!e.contact.statusMute}),i=n.filter(function(e){return e.hasUnread}),r=n.filter(function(e){return!e.hasUnread}),o=a.filter(function(e){return e.contact.statusMute}),s=(0,h.default)(n.map(function(e){return e.unreadCount})),d=(0,h.default)(n.map(function(e){return e.readCount})),c=(0,h.default)(o.map(function(e){return e.totalCount}));t.webcStatusRecentItemCount=s,t.webcStatusRecentRowCount=i.length,t.webcStatusViewedItemCount=d,t.webcStatusViewedRowCount=r.length,t.webcStatusMutedItemCount=c,t.webcStatusMutedRowCount=o.length,t.commit()}},{key:"hasSynced",value:function(){return!!this.checksum}},{key:"handleUpdate",value:function(e,t,a){var n=e.id.fromMe?b.default.me:e.author;if(this.updateChecksum(t),this.hasSynced()){if(a)return!0;var i=this.get(n);if(i){var r=i.totalCount===i.msgs.length;if("revoke"===e.subtype){var o=i.msgs.toArray().slice(0,i.totalCount-i.unreadCount),s=(0,f.default)(o,function(e){return e.id.toString()}),d={totalCount:i.totalCount-1};s.find(function(t){return t===e.protocolMessageKey.toString()})||i.readKeys[e.protocolMessageKey.toString()]||(d.unreadCount=i.unreadCount-1),i.set(d)}else{var c={totalCount:i.totalCount+1};e.invis||(c.unreadCount=i.unreadCount+1),c.t=e.t,i.set(c)}return!r&&e.body&&S.default.createFromBase64Jpeg(e.body).then(function(e){i.pic=e}),r}return this.add({id:n,t:e.t,unreadCount:e.invis?0:1,totalCount:1}),!0}return!1}},{key:"handleScore",value:function(e,t){var a=this.get(e);a?a.score=t:E.default.log("models:statusV3:score:no_status:"+[e,t].join())()}},{key:"updateChecksum",value:function(e){e?this.hasSynced()&&(this.checksum=e):E.default.info("models:statusV3:no_checksum")()}},{key:"handle",value:function(e){var t=e.shift();if(Array.isArray(t))E.default.warn("models:statusV3:unexpected update")(t);else switch(t.type){case"read":this.updateChecksum(t.checksum);var a=this.get(t.chat);a?a.handleReadStatus(t.key):E.default.log("models:statusV3:read:no_status:"+[t.chat,t.key].join())(t);break;case"privacy":break;case"score":for(var n=0;n<t.scores.length;n++){var i=t.scores[n],r=i.jid,o=i.score;this.handleScore(r,o)}this.sort();break;default:E.default.warn("models:statusV3:unknown:"+t.type,t)()}}},{key:"addStatusMessages",value:function(e,t){return _.default.processMultipleMessages((0,T.createWid)(m.default.STATUS_WID),t,{add:"after",isHistory:!0})}},{key:"getUnexpired",value:function(e){var t=this.filter(function(e){return e.totalCount>0&&g.default.globalUnixTime()-e.t<=86400&&e.contact.isMyContact&&!e.contact.isMe});return e?(0,u.default)(t,function(e){return e.unreadCount>0}):(0,u.default)(t,function(e){return 0===e.unreadCount})}},{key:"getMyStatus",value:function(){var e=this.filter(function(e){return e.contact.isMe});return(0,l.default)(e)?void 0:g.default.globalUnixTime()-e[0].t>86400?void 0:e[0]}}]),t}(p.default);t.StatusV3Collection=P,P.model=A.default,P.comparator=function(e,t){return C.default.statusRanking&&j.default.supportsFeature(j.default.F.STATUS_RANKING)&&e.score!==t.score?t.score-e.score:t.t-e.t};var N=new P;t.default=N},bgcibhihaj:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(e.size!==t.size)return!1;for(var a of e){var n=(0,i.default)(a,2),r=n[0],o=n[1];if(t.get(r)!==o)return!1}return!0};var i=n(a("hbddjfeei"))},bgdcgdigif:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.CALL_TYPES=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=n(a("dcaifjegcg")),u=a("cgejjichfa");t.CALL_TYPES={VOICE:"VOICE",VIDEO:"VIDEO"};var f=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).callId=(0,l.session)(),a.state=(0,l.session)(u.CALL_UI_STATES.NONE),a.from=(0,l.session)(),a.to=(0,l.session)(),a.type=(0,l.session)(),a.muted=(0,l.session)(),a.peerMuted=(0,l.session)(),a.speaker=(0,l.session)(),a.outgoing=(0,l.session)(),a.startTime=(0,l.session)(),a.showFullscreenCallView=(0,l.session)(!1),a.showCallStatusBar=(0,l.session)(!1),a.externalInputAvailable=(0,l.session)(),a.interrupted=(0,l.session)(),a.peerBusy=(0,l.session)(),a.peerVideoState=(0,l.session)(),a.voipWindowId=(0,l.session)(),a.isGroup=(0,l.session)(),a.groupCallParticipants=(0,l.session)(),a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"onStateChange",value:function(){}},{key:"onAudioOutputChange",value:function(){}},{key:"overrideOutputRoute",value:function(e){return Promise.resolve()}}]),t}(l.default);t.default=f,f.Proxy="callUi"},bgebiidch:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){switch(e[0]){case"asleep":break;case"update":var t,a,n=e[2];"number"==typeof e[1]?a=e[1]:t=!!e[1],o.default.update(n,t,a);break;case"killsw":o.default.killServiceWorker();break;case"update_desktop":var s=(0,i.default)(e,5),d=(s[0],s[1]),c=s[2],l=s[3],u=s[4],f=o.default.activeVersion.lt(d)?Number.parseInt(c,10):void 0,h=o.default.activeVersion.lt(l);o.default.update(void 0,h,f,u);break;case"desktop_manual_download":break;default:r.default.error("Stream:handle unknown cmd "+e[0],e)()}};var i=n(a("hbddjfeei")),r=n(a("bdiiahhjbe")),o=n(a("cbbhbjebii"))},bgedbhhbbg:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=i(a("ceffhbhahb")),u=i(a("dgdjiicfdg")),f=n(a("ddhijeejag")),h=i(a("effbcehec")),p=i(a("dacdidjdfi")),g=i(a("bbchdeehff")),m=i(a("ejdjhbacj")),b=i(a("bdiiahhjbe")),v=i(a("dagdiahdfi")),j=i(a("eedjbihej")),E=n(a("bfjajhbdf")),y={title:0,hour:1,day:24,week:168},_=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).state={notifications:v.default.getGlobalNotifications(),sounds:v.default.getGlobalSounds(),previews:v.default.getGlobalPreviews(),collapseMuted:v.default.getCollapseMuted(),dnd:y.title},a.onSounds=function(){var e=!a.state.sounds;a.setState({sounds:e}),v.default.setGlobalSounds(e)},a.onNotifications=function(){var e=!a.state.notifications;a.setState({notifications:e}),v.default.setGlobalNotifications(e)},a.onPreviews=function(){var e=!a.state.previews;a.setState({previews:e}),v.default.setGlobalPreviews(e)},a.onCollapseMuted=function(){var e=!a.state.collapseMuted;a.setState({collapseMuted:e}),v.default.setCollapseMuted(e)},a.onDND=function(e){if(e.target&&e.target.value){var t=parseInt(e.target.value,10);if(0===t)return a.setState({dnd:y.title}),void v.default.globalMute().unmute();a.setState({dnd:t});var n=(0,u.default)().unix()+60*t*60;v.default.globalMute().mute(n)}},a.onClose=function(){g.default.closeModal()},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentWillUnmount",value:function(){this.state.dnd!==y.title&&g.default.openToast(f.createElement(E.default,{msg:this.globalMuteDurationLabel(this.state.dnd),id:(0,E.genId)()}))}},{key:"globalMuteDurationLabel",value:function(e){switch(this.state.dnd){case 1:return l10n.t(516);case 24:return l10n.t(515);case 168:return l10n.t(517);default:return b.default.log("DoNotDisturbSettings:globalMuteDurationLabel non standard global mute duration:"+e)(),l10n.t(514)}}},{key:"render",value:function(){var e=[];if(window.Notification){e.push(f.createElement("div",{className:m.default.section,onClick:this.onNotifications,key:0},f.createElement("div",{"data-a8n":h.default.key("menu-icon-notifications"),className:m.default.control},f.createElement(p.default,{onChange:this.onNotifications,checked:this.state.notifications})),f.createElement("div",{"data-a8n":h.default.key("option-desktop-notifications"),className:m.default.label},l10n.t(897))));var t=(0,l.default)(m.default.section,{[m.default.disabled]:!this.state.notifications});e.push(f.createElement("div",{className:t,onClick:this.onPreviews,key:1},f.createElement("div",{"data-a8n":h.default.key("menu-icon-notifications"),className:m.default.control},f.createElement(p.default,{onChange:this.onPreviews,checked:this.state.previews})),f.createElement("div",{"data-a8n":h.default.key("option-msg-previews"),className:m.default.label},l10n.t(898),f.createElement(j.default,{theme:"muted",block:!0},l10n.t(899)))))}return f.createElement("div",{className:m.default.container},f.createElement("div",{className:m.default.section,onClick:this.onSounds},f.createElement("div",{"data-a8n":h.default.key("menu-icon-notifications"),className:m.default.control},f.createElement(p.default,{onChange:this.onSounds,checked:this.state.sounds})),f.createElement("div",{"data-a8n":h.default.key("option-sounds"),className:m.default.label},l10n.t(901))),e,void 0,f.createElement("div",{className:(0,l.default)(m.default.section,m.default.sectionWide)},f.createElement("div",{className:m.default.select},f.createElement("select",{"data-a8n":h.default.key("alert-dnd-options"),value:this.state.dnd,onChange:this.onDND},f.createElement("option",{value:y.title},l10n.t(900)),f.createElement("option",{value:y.hour},l10n.t(782)),f.createElement("option",{value:y.day},l10n.t(781)),f.createElement("option",{value:y.week},l10n.t(783))))))}}]),t}(f.Component);t.default=_},bgefgjjhb:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=n(a("ddhijeejag")),u=i(a("fifhbjiec")),f=i(a("eahbabfhi")),h=i(a("didfdhbecg")),p=a("caceaafdic"),g=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).state={date:void 0,visible:!0},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"updateDateMarkerText",value:function(e){this.setState({date:e})}},{key:"setVisibility",value:function(e){this.setState({visible:e})}},{key:"render",value:function(){var e;return this.state.date&&this.state.visible&&(e=l.createElement("div",{className:f.default.sticky},l.createElement(p.SystemBubble,null,l.createElement(u.default,{direction:"auto",text:this.state.date})))),l.createElement(h.default,{transitionName:"slide-down-date"},e)}}]),t}(l.PureComponent);t.default=g},bgfcjjddjf:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.BlocklistCollection=void 0;var i=n(a("eaidjcib")),r=n(a("dgcdacjddi")),o=n(a("ffceefejc")),s=n(a("cjedcdbdii")),d=n(a("djecdhecha")),c=n(a("dbjagcfebh")),l=n(a("cgcgbfbffj")),u=n(a("chghgadcbg")),f=function(e){function t(){var e;return(0,i.default)(this,t),(e=(0,o.default)(this,(0,s.default)(t).call(this))).listenTo((0,d.default)(e),"add",e.blockContact),e.listenTo((0,d.default)(e),"remove",e.unblockContact),e}return(0,c.default)(t,e),(0,r.default)(t,[{key:"blockContact",value:function(e){e.contact().isContactBlocked=!0}},{key:"unblockContact",value:function(e){e.contact().isContactBlocked=!1}}]),t}(l.default);t.BlocklistCollection=f,f.model=u.default;var h=new f;t.default=h},bgfebdjaae:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.auth,a=e.encFilehash,n=e.hostname,d=e.signal,c=e.type,l=e.onProgress,u=(0,o.default)({auth:t,encFilehash:a,hostname:n,query:{resume:1},type:c}),f={encFilehash:e.encFilehash,type:e.type,url:u};return s.default.log("mmsGetUploadProgress: start",f)(),(0,r.default)(u,{method:"post",signal:d,onProgress:l}).then(function(e){if(e.ok)return e.json();switch(e.status){case 401:throw new i.MMSUnauthorizedError("mmsGetUploadProgress",{url:u});case 404:throw new i.MediaNotFoundError("mmsGetUploadProgress",{url:u});default:throw new i.HttpStatusCodeError(e.status,"mmsGetUploadProgress",{url:u})}}).then(function(e){if(!e.resume)throw new i.HttpInvalidResponseError("mmsGetUploadProgress: missing resume",{url:u});return{directPath:e.direct_path,resume:e.resume,url:e.url}}).then(function(e){return s.default.log("mmsGetUploadProgress: success",f)(),e}).catch(function(e){throw e instanceof i.MediaNotFoundError?s.default.log("mmsGetUploadProgress: expected error",f,e)():s.default.error("mmsGetUploadProgress: error",f,e)(),e})};var i=a("fgeddfbg"),r=n(a("dgjijbgdai")),o=n(a("cfgbadhada")),s=n(a("bdiiahhjbe"))},bgffafigi:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.updateMsgAck=l,t.processOrphanAck=function(e,t){var a=o.default.get(e);if(!a)return Promise.reject("processOrphanAck: no msg found for id ".concat(e.toString()));if(!a.to.isUser())return r.default.error("linkOrphanAck: not implemented for group/broadcast message")(),Promise.resolve();return(0,i.linkOrphanAck)(a).then(function(e){e.forEach(function(e){l(a,t,e)})}).catch(function(e){r.default.assert(!1,"processOrphanAck failed")(e)})};var i=a("chhjhdffbh"),r=n(a("bdiiahhjbe")),o=n(a("biecbbiiee")),s=n(a("eigdejjai")),d=n(a("jccfhaecf")),c=a("dcbdjheea");function l(e,t,a){var n=a.ack,i=a.t,r=a.from,l=a.to,u=e.id,f=u.remote,h=u.id;if(e.updateAck(n,i),o.default.updateLastReceipt(f,i),d.default.isUser(f)){if(s.default.updateInfo(h,r,l,n,f,i),t&&d.default.isBroadcast(t)){var p=t instanceof d.default?t:(0,c.createWid)(t);s.default.updateInfo(h,r,p,n,f,i)}}else d.default.isStatusV3(f)&&s.default.updateInfo(h,r,f,n,l,i)}},bggbjfdbhg:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.handleGroupAction=function(e,t){var a=e.chatId,n=s.default.Chat.get(a);if(!n)return void o.default.error("model:chat: unknown chat for ".concat(a.toString(),", action ").concat(JSON.stringify(t)))();if(!i.default.supportsFeature(i.default.F.MD_BACKEND))return function(e,t,a){var n=t.author,i=Promise.resolve();if(a.action===r.GROUP_ACTIONS.SUBJECT){var o={name:a.subject};i=(0,d.updateLocal)(e.contact.id,o)}return i.then(function(){(0,r.handleGroupAction)(e,n,a)})}(n,e,t)};var i=n(a("bjbdcigbdi")),r=a("cicdfhbegf"),o=n(a("bdiiahhjbe")),s=n(a("bhggeigghg")),d=a("dcjbdhhjge")},bggdbeiaie:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("bacehaajgh")),o=i(a("eaidjcib")),s=i(a("dgcdacjddi")),d=i(a("ffceefejc")),c=i(a("cjedcdbdii")),l=i(a("dbjagcfebh")),u=n(a("ddhijeejag")),f=i(a("ihfccfgdf")),h=i(a("cjfiaefceb")),p=function(e){function t(){return(0,o.default)(this,t),(0,d.default)(this,(0,c.default)(t).apply(this,arguments))}return(0,l.default)(t,e),(0,s.default)(t,[{key:"genCircle",value:function(e){var t=100+this.props.stroke;return u.createElement("circle",(0,r.default)({cx:t/2,cy:t/2,r:50,fill:"none",strokeLinecap:"round",strokeWidth:this.props.stroke},e))}},{key:"genDasharray",value:function(e,t,a,n){for(var i="",r=0;r<e;r++)i+=r===e-1?"".concat(t," ").concat(a-e*(n+t)+n," "):"".concat(t," ").concat(n," ");return i}},{key:"render",value:function(){var e=this.props,t=e.statusV3,a=e.stroke,n=e.size,i=100+a,r="0 0 ".concat(i," ").concat(i),o=t.totalCount,s=10,d=50*Math.PI*2;d-10*o<1&&(s=d/o/1.2);var c,l,f=(d-s*o)/o,p=d/4-s/2,g=t.contact.isMe?0:t.unreadCount,m=o-g;if(g){var b,v=p+o*(s+f);1!==o&&(b=this.genDasharray(g,f,d,s)),c=this.genCircle({strokeDashoffset:v,strokeDasharray:b,className:h.default.unread})}if(m){var j,E=p+m*(s+f);1!==o&&(j=this.genDasharray(m,f,d,s)),l=this.genCircle({strokeDashoffset:E,strokeDasharray:j,className:h.default.read})}return u.createElement("svg",{className:h.default.ring,width:n,height:n,viewBox:r},c,l)}}]),t}(u.PureComponent);p.CONCERNS={statusV3:["unreadCount","totalCount","contact"]},p.defaultProps={size:48,stroke:4};var g=(0,f.default)(p,p.CONCERNS);t.default=g},bggdhciede:function(e,t,a){"use strict";var n=a("cfjecfhbfg"),i=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.setPushname=function(e){return function e(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(0,o.genId)();var n=(0,u.default)(t);var i=new o.ActionType(l10n.t(147));var h=d.default.pushname;var p=n.then(function(t){return new o.ActionType(l10n.t(144),l10n.t(159),function(){return e(h,a)})}).catch(c.ServerStatusCodeError,function(e){if(e.status>=400)return new o.ActionType(l10n.t(145))}).catch(function(t){throw l.default.error("models:conn:setPushname dropped")(t),new o.ActionType(l10n.t(145),l10n.t(155),function(){return e(status,a)})});s.default.openToast(r.createElement(o.ActionToast,{id:a,initialAction:i,pendingAction:p}));return n.then(function(e){e._duplicate||(d.default.pushname=t,f.default.setPushname(t))})}(e)};var r=i(a("ddhijeejag")),o=a("ccihhdchab"),s=n(a("bbchdeehff")),d=n(a("bjigbaghc")),c=a("ddjgcfjicj"),l=n(a("bdiiahhjbe")),u=n(a("gfhdfcfge")),f=n(a("egjjcjcg"))},bggeiidigb:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("eaidjcib")),r=n(a("dgcdacjddi")),o=function(){function e(){(0,i.default)(this,e)}return(0,r.default)(e,[{key:"registerContainer",value:function(e){this._containerAPI=e,this._listHandlers&&e.onRegisterList()}},{key:"unregisterContainer",value:function(){delete this._containerAPI}},{key:"triggerScroll",value:function(){this._listHandlers&&this._listHandlers.handleScroll()}},{key:"triggerLayout",value:function(e){this._listHandlers&&this._listHandlers.handleLayout(e)}},{key:"registerList",value:function(e){this._listHandlers=e,this._containerAPI&&this._containerAPI.onRegisterList()}},{key:"unregisterList",value:function(){delete this._listHandlers}},{key:"getScrollFromStart",value:function(){if(this._containerAPI)return this._containerAPI.getScrollFromStart()}},{key:"setScrollFromStart",value:function(e){this._containerAPI&&this._containerAPI.setScrollFromStart(e)}}]),e}();t.default=o},bgghfidcfh:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=i(a("ceffhbhahb")),u=n(a("ddhijeejag")),f=i(a("bbibiacbfd")),h=i(a("djebbfefcf")),p=i(a("dcaiaeaebb")),g=i(a("cgchdicacf")),m=i(a("cjdaccjhdg")),b=i(a("bbjadhadbg")),v=i(a("didbbgcjac")),j=i(a("bjbedjfe")),E=i(a("bffhabgiib")),y=i(a("ihfccfgdf"));function _(e){var t=e.className,a=e.loopAnimation,n=e.mediaData,i=e.startAnimation,r=e.renderPreview,o=e.downloadMedia,s=e.onClick,d=e.forwardRef;if(n.animationDuration>0&&!a)return u.createElement(h.default,{className:t,mediaData:n,startAnimation:i,onClick:s,placeholderRenderer:r,downloadMedia:o,ref:d});return u.createElement(b.default,{mediaData:n,placeholderRenderer:r,downloadMedia:o},function(e){return u.createElement("img",{className:t,draggable:"false",onClick:s,src:e})})}function S(e){var t=e.className,a=e.loopAnimation,n=e.mediaData,i=e.startAnimation,r=e.renderPreview,o=e.downloadMedia,s=e.onClick;return n.animationDuration>0?u.createElement(m.default,{mediaData:n,render:function(e){return u.createElement(f.default,{className:t,loopAnimation:a,blob:e,renderPreview:r,startAnimation:i,onClick:s})},renderPlaceholder:r,downloadMedia:o}):n.rgbaBuffer?u.createElement(E.default,{className:t,height:n.rgbaHeight,onClick:s,rgbaBuffer:n.rgbaBuffer,width:n.rgbaWidth}):r()}var C=function(e){function t(e){var a;(0,r.default)(this,t),(a=(0,s.default)(this,(0,d.default)(t).call(this,e))).state={},a._animatedAsNewMsg=a.props.mediaData.animatedAsNewMsg,a._renderPreview=function(){var e=a.props.mediaData.preview,t=e&&e.url(),n=a._getClassName();return t?u.createElement("img",{className:n,draggable:"false",onClick:a.props.onClick,src:t}):u.createElement(v.default,{className:(0,l.default)(g.default.placeholder,n)})};var n=(0,p.default)();return n.isFulfilled()?a.state.supportsWebp=n.value():n.checkpoint(a.props.rejectOnUnmount()).then(function(e){return a.setState({supportsWebp:e})}),a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"_getClassName",value:function(){return(0,l.default)({[g.default.conversation]:"conversation"===this.props.theme,[g.default.quoted]:"quoted"===this.props.theme,[g.default.composeBoxQuoted]:"composeBoxQuoted"===this.props.theme,[g.default.stickerPanel]:"stickerPanel"===this.props.theme,[g.default.clickable]:Boolean(this.props.onClick)})}},{key:"render",value:function(){var e=this.state.supportsWebp;if(null==e)return this._renderPreview();var t=this._getClassName(),a=this.props.mediaData,n=Boolean(this.props.isNewMsg&&!this._animatedAsNewMsg),i=Boolean(this.props.loopAnimation);return e?u.createElement(_,{className:t,mediaData:a,loopAnimation:i,startAnimation:n,renderPreview:this._renderPreview,onClick:this.props.onClick,downloadMedia:this.props.downloadMedia,forwardRef:this.props.forwardRef}):u.createElement(S,{className:t,mediaData:a,loopAnimation:i,startAnimation:n,renderPreview:this._renderPreview,onClick:this.props.onClick,downloadMedia:this.props.downloadMedia})}}]),t}(u.PureComponent);C.CONCERNS={mediaData:["animatedAsNewMsg","animationDuration","mediaBlob","preview","renderableUrl","rgbaBuffer","rgbaHeight","rgbaWidth"]};var A=(0,j.default)((0,y.default)(C,C.CONCERNS));t.default=A},bggjbiacd:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=i(a("ceffhbhahb")),u=n(a("ddhijeejag")),f=a("chebca"),h=n(a("jaigjeiig")),p=i(a("djegeegcbf")),g=i(a("cajbifjffe")),m=p.default.getEmojiFromUnicode,b=p.default.getStyle,v=p.default.getClasses,j=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,(0,d.default)(t).apply(this,arguments))}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.emoji,a=e.size,n=this.context,i=m(t);n.incrementLoadingEmojisCount(),h.default.loadEmoji(i,a||"small",h.LOAD_PRIORITY.LAZY_LOAD_EMOJI).finally(function(){n.decrementLoadingEmojisCount()})}},{key:"render",value:function(){var e,t,a=this.props,n=a.className,i=a.element,r=a.emoji,o=a.selectable,s=a.selected,d=a.size,c=a.src,f=a.onLoad,h=a.tabIndex,p=m(r);if(!p)return null;c||(e=b(p,d),t=v(p,d));var j=(0,l.default)(n,t,{selected:s});return"span"===i?u.createElement("span",{className:j,style:e,onLoad:f,tabIndex:h,"data-unicode":this.props["data-unicode"],"data-variant":this.props["data-variant"],"data-emoji-index":this.props["data-emoji-index"]}):u.createElement(g.default,{alt:r,className:j,draggable:!1,onLoad:f,plainText:r,selectable:o,style:e,src:c})}}]),t}(u.Component);t.default=j,j.contextType=f.InitialEmojisCompletionContext},bghjfahjfd:function(e,t){e.exports={cursorAuto:"_2W3Ap"}},bgidiahdfc:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(e===i)return;i=e;var t=e===o.EMOJI_TYPE.APPLE?[a("jjjdieajj"),a("cjjefedaad"),a("hddfjdhii")]:[a("dacbiajefj"),a("beiahcfigb"),a("cifhabcfgj")],n=(0,r.default)(t,3),d=n[0],c=n[1],l=n[2];s.default.configure({emojiType:e,orderedEmoji:d,legacyToEmoji:c,emojiCategory:l})};var i,r=n(a("hbddjfeei")),o=a("bbicdddbdj"),s=n(a("djegeegcbf"))},bgiegbhhbf:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){for(var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1/0,n=[],r=0;r<t.length;++r){for(var o=(0,i.default)(t[r],2),s=o[0],d=o[1],c=s.match(e,d,a),l=[],u=c.length,f=0,h=c[f];f<u;h=c[++f])l[f]=[h[0],h[1],h[2],h[3],r,h[4]];l.length&&n.push(l)}for(var p=0;p<n.length;p++){var g=t[n[p][0][4]][0].conflictResolvers;if(g)for(var m=0;m<n.length;m++){var b=t[n[m][0][4]][0],v=g.get(b);v&&v(n[p],n[m])}}for(var j=[],E=0;E<n.length;++E)j[E]=n[E].length-1;var y=[],_=0;for(;n.length;){for(var S=0,C=-1;S<n.length;++S)n[S][j[S]][0]>C&&(_=S,C=n[S][j[S]][0]);y.push(n[_][j[_]]),--j[_]<0&&(n.splice(_,1),j.splice(_,1))}return y};var i=n(a("hbddjfeei"))},bgjaficfde:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=n(a("ddhijeejag")),u=i(a("bhhdeihhhf")),f=i(a("ihfccfgdf")),h=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,(0,d.default)(t).apply(this,arguments))}return(0,c.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=this.props,t=e.chat,a=e.disabled,n=this.props.onArchive.bind(null,!t.archive);return l.createElement(u.default,{a8n:"mi-archive",action:n,key:"ArchiveMenuItem",disabled:a},t.archive?l10n.t(1099):l10n.t(183))}}]),t}(l.PureComponent);h.CONCERNS={chat:["archive"]};var p=(0,f.default)(h,h.CONCERNS);t.default=p},bgjddhffji:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.logBusinessProfileCatalogView=function(e,t){new i.default.CatalogView({catalogViewAction:i.default.CATALOG_VIEW_ACTION.ACTION_CARD_IMPRESSION,catalogEntryPoint:i.default.CATALOG_ENTRY_POINT.CATALOG_ENTRY_POINT_PROFILE,catalogOwnerJid:e,catalogSessionId:t}).commit()},t.logProfileProductClick=function(e,t){new i.default.CatalogView({catalogViewAction:i.default.CATALOG_VIEW_ACTION.ACTION_CARD_ITEM_CLICK,catalogEntryPoint:i.default.CATALOG_ENTRY_POINT.CATALOG_ENTRY_POINT_PROFILE,productId:e.id.toString(),catalogOwnerJid:e.catalogWid.toString(),catalogSessionId:t}).commit()},t.logCarouselViewMoreClick=function(e,t){new i.default.CatalogView({catalogViewAction:i.default.CATALOG_VIEW_ACTION.ACTION_CARD_MORE_CLICK,catalogOwnerJid:e,catalogSessionId:t}).commit()},t.logCatalogListView=function(e,t){new i.default.CatalogView({catalogViewAction:i.default.CATALOG_VIEW_ACTION.ACTION_LIST_IMPRESSION,catalogOwnerJid:e,catalogSessionId:t}).commit()},t.logCatalogListDetailClick=function(e,t){new i.default.CatalogView({catalogViewAction:i.default.CATALOG_VIEW_ACTION.ACTION_LIST_ITEM_CLICK,productId:e.id.toString(),catalogOwnerJid:e.catalogWid.toString(),catalogSessionId:t}).commit()},t.logDetailImageClick=function(e,t){new i.default.CatalogView({catalogViewAction:i.default.CATALOG_VIEW_ACTION.ACTION_DETAIL_IMAGE_CLICK,productId:e.id.toString(),catalogOwnerJid:e.catalogWid.toString(),catalogSessionId:t}).commit()},t.logDetailLinkClick=function(e,t){new i.default.CatalogView({catalogViewAction:i.default.CATALOG_VIEW_ACTION.ACTION_DETAIL_LINK_CLICK,productId:e.id.toString(),catalogOwnerJid:e.catalogWid.toString(),catalogSessionId:t}).commit()},t.logFullImageView=function(e,t){new i.default.CatalogView({catalogViewAction:i.default.CATALOG_VIEW_ACTION.ACTION_FULL_IMAGE_IMPRESSION,productId:e.id.toString(),catalogOwnerJid:e.catalogWid.toString(),catalogSessionId:t}).commit()},t.logImageNavigate=function(e,t){new i.default.CatalogView({catalogViewAction:i.default.CATALOG_VIEW_ACTION.ACTION_FULL_IMAGE_SWIPE,productId:e.id.toString(),catalogOwnerJid:e.catalogWid.toString(),catalogSessionId:t}).commit()},t.logProductDetailView=function(e,t){new i.default.CatalogView({catalogViewAction:i.default.CATALOG_VIEW_ACTION.ACTION_DETAIL_IMPRESSION,productId:e.id.toString(),catalogOwnerJid:e.catalogWid.toString(),catalogSessionId:t}).commit()},t.logReportProduct=function(e,t){new i.default.CatalogView({catalogViewAction:i.default.CATALOG_VIEW_ACTION.ACTION_REPORT_PRODUCT,productId:e.id.toString(),catalogOwnerJid:e.catalogWid.toString(),catalogSessionId:t}).commit()},t.logReportProductSuccess=function(e,t){new i.default.CatalogView({catalogViewAction:i.default.CATALOG_VIEW_ACTION.ACTION_REPORT_PRODUCT_SUCCESS,productId:e.id.toString(),catalogOwnerJid:e.catalogWid.toString(),catalogSessionId:t}).commit()},t.logReportProductFailure=function(e,t){new i.default.CatalogView({catalogViewAction:i.default.CATALOG_VIEW_ACTION.ACTION_REPORT_PRODUCT_FAILURE,productId:e.id.toString(),catalogOwnerJid:e.catalogWid.toString(),catalogSessionId:t}).commit()},t.logProductInquiryClick=function(e,t){new i.default.CatalogView({catalogViewAction:i.default.CATALOG_VIEW_ACTION.ACTION_QUOTED_PRODUCT_IN_CONVERSATION_CLICK,catalogEntryPoint:i.default.CATALOG_ENTRY_POINT.CATALOG_ENTRY_POINT_MESSAGE,productId:e.id.toString(),catalogOwnerJid:e.catalogWid.toString(),catalogSessionId:t}).commit()},t.logProductMsgClick=function(e,t){new i.default.CatalogView({catalogViewAction:i.default.CATALOG_VIEW_ACTION.ACTION_PRODUCT_IN_CONVERSATION_CLICK,catalogEntryPoint:i.default.CATALOG_ENTRY_POINT.CATALOG_ENTRY_POINT_MESSAGE,productId:e.id.toString(),catalogOwnerJid:e.catalogWid.toString(),catalogSessionId:t}).commit()},t.logProductDeepLinkOpen=function(e,t,a){new i.default.CatalogView({catalogViewAction:i.default.CATALOG_VIEW_ACTION.ACTION_SHARE_PRODUCT_LINK_CLICK,catalogEntryPoint:i.default.CATALOG_ENTRY_POINT.CATALOG_ENTRY_POINT_DEEPLINK,productId:e,catalogOwnerJid:t,catalogSessionId:a}).commit()},t.logCatalogDeepLinkOpen=function(e,t){new i.default.CatalogView({catalogViewAction:i.default.CATALOG_VIEW_ACTION.ACTION_SHARE_CATALOG_LINK_CLICK,catalogEntryPoint:i.default.CATALOG_ENTRY_POINT.CATALOG_ENTRY_POINT_DEEPLINK,catalogOwnerJid:e,catalogSessionId:t}).commit()};var i=n(a("bfbggcdbfb"))},bgjhfgcbb:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=n(a("ddhijeejag")),u=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).setRefCanvas=function(e){a.refCanvas=e},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"shouldComponentUpdate",value:function(){return!1}},{key:"render",value:function(){return l.createElement("canvas",{className:this.props.className,ref:this.setRefCanvas})}}]),t}(l.Component);t.default=u},bhaaifddjf:function(e,t){e.exports={container:"qiFt5",wrapper:"FXIEb",mask:"_1HTIY",bg:"_3MP3K",foreground:"_2ON21",filled:"_3u9U6",empty:"_2KImX",active:"xiH0N"}},bhacbjbjic:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;return e.every(function(e,a){return e===t[a]})}},bhacdidjbh:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("eaidjcib")),r=n(a("dgcdacjddi")),o=n(a("cgeeeeddea")),s=n(a("cahfddcdga")),d=new(function(){function e(){(0,i.default)(this,e)}return(0,r.default)(e,[{key:"init",value:function(){var e=this;return this._promise||(this._promise=new Promise(function(t){e._resolver=t}).timeout(5e3)),this._promise}},{key:"isConnected",value:function(){return null!=this._port}},{key:"getPort",value:function(){return this._port}},{key:"waitForConnection",value:function(){return(0,s.default)(this._promise,"ConnectionManager Initialization Promise")}},{key:"connectVia",value:function(e){this.isConnected()?(0,o.default)(!1,"Connection already established"):((0,o.default)(this._resolver,"ConnectionManager not initialized"),this._port=e,this._resolver())}}]),e}());t.default=d},bhagdhdadd:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i=3988292384;function r(e,t){var a=t;for(n||(n=function(){for(var e=new Uint32Array(256),t=0,a=0,n=0;t<256;a=++t){for(n=0;n<8;++n)a=1&a?a>>>1^i:a>>>1;e[t]=a}return e}());e.size();)a=n[255&(a^e.readUint8())]^a>>>8;return~a>>>0}t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4294967295;return e.peek(r,t)}},bhahchbic:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.fetchState;switch(t){case"NONE":case"SUCCESS":return null;case"PENDING":return o.createElement("div",{className:(0,r.default)(d.default.loadingContainer)},o.createElement(c.default,{size:14,color:c.colorOptions.highlight}),o.createElement(l.default,{className:(0,r.default)(d.default.text,d.default.loadingText),theme:"small"},s.default.t(940)));case"NOT_FOUND":case"ERROR":return o.createElement("div",{className:(0,r.default)(d.default.loadingContainer)},o.createElement(l.default,{className:d.default.text,theme:"small",color:"danger"},"NOT_FOUND"===t?s.default.t(927):s.default.t(921)));default:throw new Error("invalid fetchState ".concat(t))}};var r=i(a("ceffhbhahb")),o=n(a("ddhijeejag")),s=i(a("fffdgbfji")),d=i(a("jdehfjbjc")),c=n(a("becfabjeeg")),l=i(a("eedjbihej"))},bhaigiibeh:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=i(a("ceffhbhahb")),u=n(a("ddhijeejag")),f=i(a("cdcfgefbba")),h=i(a("bbchdeehff")),p=i(a("baagejbchg")),g=i(a("djcchigfih")),m=i(a("djbhiedbef")),b=n(a("dajffajabh")),v=n(a("cajijabhgb")),j=n(a("ffchhcfdj")),E=a("ejbdjaifi"),y=i(a("dgjacfgggf")),_=i(a("bdiiahhjbe")),S=i(a("bbcjhfahhb")),C=i(a("jgcieiibj")),A=n(a("dcecgegjfc")),M=a("bfbggcdbfb"),T=i(a("dgfecega")),P=i(a("beeieigghj")),N=i(a("bjbedjfe")),I=i(a("cdjhjdcbeg")),k=i(a("ceddibdhdb")),O=i(a("becfabjeeg")),R=i(a("bfdcadbbif")),w=i(a("edbaidcaf")),D=i(a("didfdhbecg")),L=i(a("ccfdaijebj")),U="CAPTURE_MEDIA",G={ANIMATING:"ANIMATING",LOADING:"LOADING",RECORDING:"RECORDING",SENDING:"SENDING"},x=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).state={state:G.ANIMATING,stream:void 0,img:void 0,caption:void 0,videoSize:void 0},a.videoRef=null,a.startTimer=new k.default(function(e){a.loadNewStream(e)}),a.loadNewStream=function(e){e?(a.setState({state:G.LOADING,stream:e}),(0,A.isSrcObjectInVideoElement)()||(e?(window.URL.revokeObjectURL(a.url),a.url=window.URL.createObjectURL(e)):(window.URL.revokeObjectURL(a.url),a.url=void 0))):a.state.state===G.ANIMATING&&a.setState({state:G.LOADING})},a.stopStreamTimer=new k.default(function(e){e&&A.stop(e),(0,A.isSrcObjectInVideoElement)()||(a.url=window.URL.revokeObjectURL(a.url))}),a.onCapture=function(){if(a.videoRef){var e=a.videoRef.underlyingVideo();if(e){var t=a.props.chat,n=document.createElement("canvas");n.height=e.videoHeight,n.width=e.videoWidth;var i=n.getContext("2d");if(i){i.translate(n.width,0),i.scale(-1,1),i.drawImage(e,0,0,e.videoWidth,e.videoHeight);var r=a.props.onCaptured;if(r)y.default.canvasToBlob(n).then(function(e){r(e)});else{a.stopStreamTimer.onOrBefore(500,a.state.stream),a.mediaLogger=new S.default,a.mediaLogger.logAdd(U,"image",M.MEDIA_PICKER_ORIGIN_TYPE.MENU_CAMERA_CAPTURE),a.mediaLogger.chatRecipients=t&&t.groupMetadata?t.groupMetadata.participants.length:1;var o=n.toDataURL("image/jpeg");a.setState({state:G.SENDING,stream:void 0,img:o})}}else _.default.warn("CaptureDrawer:onCapture can not get 2d context")()}}},a.onVideoLoaded=function(e){a.setState({state:G.RECORDING,videoSize:{width:e.videoWidth,height:e.videoHeight}})},a.onRetake=function(){a.setState({state:G.LOADING,caption:void 0});var e=A.start("camera");Promise.race([e,a.props.rejectOnUnmount()]).checkpoint(a.props.rejectOnUnmount()).then(function(e){e&&((0,A.isSrcObjectInVideoElement)()||(a.url=window.URL.createObjectURL(e)),a.setState({stream:e}))}).catch(v.Unmount,function(){e.then(function(e){return A.stop(e)}).catch(function(){})}).catch(v.GUM.NotAllowedError,function(){a.props.onBack(),h.default.openModal(u.createElement(j.default,{messaging:j.Messaging.CAMERA_FAIL,type:j.default.TYPE.GUIDE_UNBLOCK}))}).catch(v.GUM.GUMError,function(){a.props.onBack(),h.default.openModal(u.createElement(j.default,{messaging:j.Messaging.CAMERA_MISSING,type:j.default.TYPE.GUIDE_NONE}))})},a.onSend=function(){var e=a.state,t=e.img,n=e.caption,i=a.props.onSend;if(i)if(t){var r=t,o=a.refCaptionInput&&a.refCaptionInput.refInput,s=[];if(n&&o){var d=o.serialize(n),c=[d[0].trim(),d[1]],l=c[0],u=c[1];l.length&&(n=l,s=u.mentionedJidList||[])}i({getImg:P.default.createFromBase64Jpeg(w.default.parseDataURL(r).data),caption:n,mentionedJidList:s}),a.mediaLogger.logSend()}else _.default.assert(t,"capture-drawer-no-img")();else _.default.assert(i,"capture-drawer-no-onSend")()},a.onCaptionChange=function(e){a.setState({caption:e})},a.setRefCaptionInput=function(e){a.refCaptionInput=e},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){this.startTimer.onOrBefore(300,this.props.stream)}},{key:"componentWillUnmount",value:function(){this.startTimer.cancel(),this.url&&window.URL.revokeObjectURL(this.url),this.state.stream&&A.stop(this.state.stream),this.mediaLogger&&this.mediaLogger.logCancel()}},{key:"render",value:function(){var e,t,a,n,i;switch(this.state.state){case G.ANIMATING:case G.LOADING:if(i=u.createElement(O.default,{stroke:4,size:50}),this.state.state===G.ANIMATING)break;case G.RECORDING:var r=(0,l.default)(f.default.video,{[f.default.videoInactive]:this.state.stream&&this.state.state===G.LOADING}),o=this.state.stream?u.createElement(L.default,{autoPlay:!0,ref:(0,E.GetRef)("videoRef",this),onPlay:this.onVideoLoaded,src:this.url?this.url:void 0,srcObject:this.url?void 0:this.state.stream}):null;a=this.state.stream?u.createElement("div",{key:"webcam"},u.createElement(T.default,{type:this.props.layoutType,size:this.state.videoSize},u.createElement("div",{className:r,"data-animage-capture-webcam":!0},o))):null,e=this.state.state===G.RECORDING?u.createElement("div",{className:f.default.btn,key:"btn-capture"},u.createElement(I.default,{large:!0,onClick:this.onCapture},u.createElement(R.default,{name:"camera-light"}))):null;break;case G.SENDING:a=u.createElement(T.default,{type:this.props.layoutType,size:this.state.videoSize},u.createElement("img",{className:f.default.image,"data-animate-capture-snapshot":!0,src:this.state.img})),e=u.createElement("div",{className:(0,l.default)(f.default.btn,f.default.btnSend),key:"btn-send"},u.createElement(I.default,{large:!0,onClick:this.onSend},u.createElement(R.default,{name:"send-light",directional:!0}))),t=u.createElement("div",{className:f.default.retakeBtn,onClick:this.onRetake},u.createElement("div",{className:f.default.retakeIcon},u.createElement(R.default,{name:"return-light"})),l10n.t(980)),n=this.props.chat?u.createElement(C.default,{ref:this.setRefCaptionInput,chat:this.props.chat,maxLength:p.default.MAX_CAPTION_LENGTH,multiline:!0,onEnter:this.onSend,onChange:this.onCaptionChange,placeholder:l10n.t(160),showRemaining:!0,spellCheck:!0,supportsEmoji:!0,value:this.state.caption}):null;break;default:_.default.log("captureDrawer:render Unhandled video capture state "+this.state.state)()}var s=this.props.caption?u.createElement(D.default,{transitionName:"media-caption",className:f.default.caption},n):null;return u.createElement(g.default,{key:"attach-capture-modal",theme:"capture"},u.createElement(b.default,{title:l10n.t(1091),type:b.DRAWER_HEADER_TYPE.OFFSET,onCancel:this.props.onBack},t),u.createElement(m.default,{overflow:"hidden"},u.createElement("div",{className:f.default.container},i,u.createElement("div",{className:f.default.body},u.createElement(D.default,{transitionName:"capture",className:f.default.videoContainer},a))),u.createElement("div",{className:f.default.footer},s,u.createElement(D.default,{transitionName:"pop_delay"},e))))}}]),t}(u.PureComponent);x.defaultProps={caption:!1};var F=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).loadNewStream=function(e){a.getComponent().loadNewStream(e)},a}return(0,c.default)(t,e),t}((0,N.default)(x));t.default=F},bhbihjaicd:function(e,t,a){var n=a("fdhajffgc"),i=function e(t){var a=t;if(!e.isRecordingSupported())throw"Recording is not supported in this browser";this.audioContext=new window.AudioContext,this.config=a=a||{},this.config.command="encode-init",this.config.bufferLength=a.bufferLength||4096,this.config.monitorGain=a.monitorGain||0,this.config.numberOfChannels=a.numberOfChannels||1,this.config.originalSampleRate=this.audioContext.sampleRate,this.config.encoderSampleRate=a.encoderSampleRate||48e3,this.config.streamPages=a.streamPages||!1,this.config.leaveStreamOpen=a.leaveStreamOpen||!1,this.config.maxBuffersPerPage=a.maxBuffersPerPage||40,this.config.encoderApplication=a.encoderApplication||2049,this.config.encoderFrameSize=a.encoderFrameSize||20,this.config.streamOptions=a.streamOptions||{optional:[],mandatory:{googEchoCancellation:!1,googAutoGainControl:!1,googNoiseSuppression:!1,googHighpassFilter:!1}},this.storePage=this._storePage.bind(this),this.streamPage=this._streamPage.bind(this),this.state="inactive",this.eventTarget=document.createDocumentFragment(),this.createAudioNodes()};i.isRecordingSupported=function(){return window.AudioContext&&navigator.mediaDevices&&navigator.mediaDevices.getUserMedia},i.prototype.addEventListener=function(e,t,a){this.eventTarget.addEventListener(e,t,a)},i.prototype.clearStream=function(){this.stream&&(this.stream.getTracks().forEach(function(e){e.stop()}),delete this.stream)},i.prototype.createAudioNodes=function(){var e=this;this.scriptProcessorNode=this.audioContext.createScriptProcessor(this.config.bufferLength,this.config.numberOfChannels,this.config.numberOfChannels),this.scriptProcessorNode.onaudioprocess=function(t){e.encodeBuffers(t.inputBuffer)},this.monitorNode=this.audioContext.createGain(),this.setMonitorGain(this.config.monitorGain),this.config.sampleRate<this.audioContext.sampleRate&&this.createButterworthFilter()},i.prototype.createButterworthFilter=function(){this.filterNode=this.audioContext.createBiquadFilter(),this.filterNode2=this.audioContext.createBiquadFilter(),this.filterNode3=this.audioContext.createBiquadFilter(),this.filterNode.type=this.filterNode2.type=this.filterNode3.type="lowpass";var e=this.config.sampleRate/2;this.filterNode.frequency.value=this.filterNode2.frequency.value=this.filterNode3.frequency.value=e-e/3.5355,this.filterNode.Q.value=.51764,this.filterNode2.Q.value=.70711,this.filterNode3.Q.value=1.93184,this.filterNode.connect(this.filterNode2),this.filterNode2.connect(this.filterNode3),this.filterNode3.connect(this.scriptProcessorNode)},i.prototype.encodeBuffers=function(e){if("recording"===this.state){for(var t=[],a=0;a<e.numberOfChannels;a++)t[a]=e.getChannelData(a);this.encoder.postMessage({command:"encode",buffers:t}),this.duration+=e.duration,this.eventTarget.dispatchEvent(new CustomEvent("duration",{detail:this.duration}))}},i.prototype.initStream=function(e){if(this.stream)this.eventTarget.dispatchEvent(new Event("streamReady"));else{if(e)return this.stream=e,this.sourceNode=this.audioContext.createMediaStreamSource(e),this.sourceNode.connect(this.filterNode||this.scriptProcessorNode),this.sourceNode.connect(this.monitorNode),void this.eventTarget.dispatchEvent(new Event("streamReady"));var t=this;navigator.mediaDevices&&navigator.mediaDevices.getUserMedia({audio:this.config.streamOptions}).then(function(e){t.stream=e,t.sourceNode=t.audioContext.createMediaStreamSource(e),t.sourceNode.connect(t.filterNode||t.scriptProcessorNode),t.sourceNode.connect(t.monitorNode),t.eventTarget.dispatchEvent(new Event("streamReady"))}).catch(function(e){t.eventTarget.dispatchEvent(new ErrorEvent("streamError",{error:e}))})}},i.prototype.pause=function(){"recording"===this.state&&(this.state="paused",this.eventTarget.dispatchEvent(new Event("pause")))},i.prototype.removeEventListener=function(e,t,a){this.eventTarget.removeEventListener(e,t,a)},i.prototype.resume=function(){"paused"===this.state&&(this.state="recording",this.eventTarget.dispatchEvent(new Event("resume")))},i.prototype.setMonitorGain=function(e){this.monitorNode.gain.value=e},i.prototype.start=function(){"inactive"===this.state&&this.stream&&(this.encoder=new n,this.config.streamPages?this.encoder.addEventListener("message",this.streamPage):(this.recordedPages=[],this.totalLength=0,this.encoder.addEventListener("message",this.storePage)),this.encodeBuffers=function(){delete this.encodeBuffers},this.duration=0,this.state="recording",this.monitorNode.connect(this.audioContext.destination),this.scriptProcessorNode.connect(this.audioContext.destination),this.eventTarget.dispatchEvent(new Event("start")),this.eventTarget.dispatchEvent(new CustomEvent("duration",{detail:this.duration})),this.encoder.postMessage(this.config))},i.prototype.stop=function(){"inactive"!==this.state&&(this.state="inactive",this.audioContext.close&&this.audioContext.close(),this.monitorNode.disconnect(),this.scriptProcessorNode.disconnect(),this.config.leaveStreamOpen||this.clearStream(),this.encoder.postMessage({command:"encode-done"}))},i.prototype._storePage=function(e){var t=e.data;if(this.recordedPages.push(t),this.totalLength+=t.length,4&t[5]){this.encoder.removeEventListener("message",this.storePage);for(var a=new Uint8Array(this.totalLength),n=0,i=0;i<this.recordedPages.length;i++)a.set(this.recordedPages[i],n),n+=this.recordedPages[i].length;this.eventTarget.dispatchEvent(new CustomEvent("dataAvailable",{detail:new Blob([a],{type:"audio/ogg; codecs=opus"})})),this.recordedPages=[],this.eventTarget.dispatchEvent(new Event("stop"))}},i.prototype._streamPage=function(e){var t=e.data;this.eventTarget.dispatchEvent(new CustomEvent("dataAvailable",{detail:new Blob([t],{type:"audio/ogg; codecs=opus"})})),4&t[5]&&(this.encoder.removeEventListener("message",this.streamPage),this.eventTarget.dispatchEvent(new Event("stop")))},e.exports=i},bhcacchcde:function(e,t){e.exports={section:"_2eMOq",control:"_3__0E",label:"DiGkU"}},bhcdajjdgi:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("bhfcfhafdj")),o=i(a("eaidjcib")),s=i(a("dgcdacjddi")),d=i(a("ffceefejc")),c=i(a("cjedcdbdii")),l=i(a("dbjagcfebh")),u=n(a("ddhijeejag")),f=i(a("djjeicfhjb")),h=i(a("bbchdeehff")),p=i(a("dhigahgdjb")),g=a("cicgeajfge"),m=n(a("bbhhbdicgc")),b=i(a("ddajbaceej")),v=i(a("dgjddffcfg")),j=i(a("cbcdicdeeb")),E=i(a("cbgeijgefb")),y=n(a("bfjajhbdf")),_=i(a("deabjbejhf")),S={SEC_CONTACTS:"SEC_CONTACTS"},C={ROW_CONTACTS:"ROW_CONTACTS"},A=function(e){function t(e){var a;return(0,o.default)(this,t),(a=(0,d.default)(this,(0,c.default)(t).call(this,e))).setList=function(e){a.list=e},a._handleRef=function(e){a._refHotKey=e},a._handleSelect=function(e,t,n){var i=a.props,r=i.selections,o=i.maxContacts,s=i.active,d=i.onSelectionChanged;t&&"number"==typeof o&&r.getSelected().length>=o?h.default.openToast(u.createElement(y.default,{id:(0,y.genId)(),msg:l10n.t(779,{count:o,_plural:o})})):(r.setVal(e,t,n),s.setVal(e,n),d&&d(e,t))},a._handleIndexChange=function(e){var t;null===(t=a.list)||void 0===t||t.scrollIntoViewIfNeeded(e)},a._renderItem=function(e){switch(e.type){case S.SEC_CONTACTS:return u.createElement(E.default,{header:l10n.t(1208)});case C.ROW_CONTACTS:var t=e.data,n=a.props,i=n.isDisabled,r=n.customSecondaryText;return u.createElement(f.default,{key:t.id.toString(),model:t,selections:a.props.selections,checked:!!a.props.isSelected&&a.props.isSelected(t.id)},u.createElement(_.default,{contact:t,disabled:i&&i(t.id),onSelect:function(){return a._onContactClick(t)},customSecondaryText:r&&r(t.id),active:a.props.active,allowBlockedContacts:a.props.allowBlockedContacts}));default:throw new m.UnknownDataError(e)}},a.state={filteredData:t.calculateFilteredData(e)},a}return(0,l.default)(t,e),(0,s.default)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.active.init(this._flattenData(this.state.filteredData)),this.props.getInitialItems&&this.props.getInitialItems().forEach(function(t){return e.props.selections.setVal(t,!0)})}},{key:"componentDidUpdate",value:function(e){this.props.searchText!==e.searchText&&this.props.active.init(this._flattenData(this.state.filteredData))}},{key:"_flattenData",value:function(e){return e.contacts}},{key:"_isEmpty",value:function(){return!this.state.filteredData.contacts.length}},{key:"_getData",value:function(){var e=[],t=this.state.filteredData.contacts;return t.length&&(e.push({itemKey:S.SEC_CONTACTS,type:S.SEC_CONTACTS}),e.push.apply(e,(0,r.default)(t.map(function(e){return{itemKey:e.id.toString(),type:C.ROW_CONTACTS,data:e}})))),e}},{key:"toggleFirst",value:function(e){if(this.state.filteredData.contacts.length){var t=this.state.filteredData.contacts[0],a=!this.props.selections.isSelected(t);this._handleSelect(t,a,e)}}},{key:"focus",value:function(){this._refHotKey&&b.default.focus(this._refHotKey)}},{key:"_clearActive",value:function(){this.props.active.unset()}},{key:"_onContactClick",value:function(e){var t=this.props.isDisabled;if(!t||!t(e.id)){var a=this.props.selections.isSelected(e);this._handleSelect(e,!a,!1)}}},{key:"_renderList",value:function(){return this._isEmpty()?this.props.searchText?u.createElement(g.Search,null):u.createElement(g.ListChats,null):u.createElement(m.default,{ref:this.setList,flatListController:this.props.flatListController,direction:"vertical",forceConsistentRenderCount:!1,data:this._getData(),renderItem:this._renderItem})}},{key:"render",value:function(){return u.createElement(j.default,{active:this.props.active,onLeave:this.props.onLeaveList,onRef:this._handleRef,onIndexChange:this._handleIndexChange},this._renderList())}}],[{key:"getDerivedStateFromProps",value:function(e,a){return{filteredData:t.calculateFilteredData(e)}}},{key:"calculateFilteredData",value:function(e){return{contacts:t.calculateFilteredContacts(e)}}},{key:"calculateFilteredContacts",value:function(e){var t=e.filter,a=e.useAllContacts,n=e.searchText,i=a?p.default.toArray():p.default.getFilteredContacts();if(t&&(i=i.filter(function(e){return t(e)})),!n)return i;var r=l10n.accentFold(n),o=v.default.numberSearch(r);return i.filter(function(e){return e.searchMatch(r,o)})}}]),t}(u.Component);t.default=A},bhcdbgbbad:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=n(a("ddhijeejag")),u=i(a("dbdfbgehgj")),f=i(a("bbchdeehff")),h=i(a("bjigbaghc")),p=i(a("fifhbjiec")),g=a("jegbhjbde"),m=i(a("chjdbchg")),b=i(a("cffhcdjiff")),v=i(a("jheedhagg")),j=i(a("djhbegbdaf")),E=i(a("bdiiahhjbe")),y=i(a("ihfccfgdf")),_=i(a("bfdcadbbif")),S=i(a("jccfhaecf")),C=i(a("djbfhebjhe")),A=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,(0,d.default)(t).apply(this,arguments))}return(0,c.default)(t,e),(0,o.default)(t,[{key:"stopEvent",value:function(e){e.stopPropagation(),e.preventDefault()}},{key:"openInfoDrawer",value:function(){var e=this;return function(t){e.stopEvent(t),f.default.chatInfoDrawer(e.props.msg.chat)}}},{key:"openGroupInviteLinkDrawer",value:function(){var e=this;return function(t){e.stopEvent(t);var a=e.props.msg.chat;f.default.openDrawerRight(l.createElement(m.default,{chat:a,groupMetadata:a.groupMetadata,onBack:function(){return f.default.closeDrawerRight()}}),"slide-left",e.props.uim)}}},{key:"openExpandedGroupDesc",value:function(){var e=this;return function(t){e.stopEvent(t);var a=e.props.msg.chat;f.default.chatInfoDrawer(a,!0)}}},{key:"openChat",value:function(e){var t=this;return function(a){t.stopEvent(a),u.default.find(e).then(function(e){f.default.openChatFromUnread(e).then(function(t){t&&f.default.focusChatTextInput(e)})})}}},{key:"getFormattedText",value:function(e){return l.createElement(p.default,{direction:"auto",text:e})}},{key:"isMe",value:function(e){return S.default.equals(e,h.default.me)}},{key:"_renderGroupNotificationL10n",value:function(e,t,a,n){var i=t?(0,g.getFormattedName)(t,!this.props.clickable):null;switch(e){case"add":return this.isMe(t)?l.createElement(j.default,{id:1271}):l.createElement(j.default,{id:1270,params:{name:i}});case"remove":return this.isMe(t)?l.createElement(j.default,{id:1283}):l.createElement(j.default,{id:1282,params:{name:i}});case"leave":return this.isMe(t)?l.createElement(j.default,{id:1279}):l.createElement(j.default,{id:1278,params:{name:i}});case"picture":return"remove"===n?this.isMe(t)?l.createElement(j.default,{id:1384}):l.createElement(j.default,{id:1383,params:{name:i}}):this.isMe(t)?l.createElement(j.default,{id:1382}):l.createElement(j.default,{id:1381,params:{name:i}});case"subject":var r=this.getFormattedText(n);return this.isMe(t)?l.createElement(j.default,{id:1295,params:{subject:r}}):l.createElement(j.default,{id:1294,params:{subject:r,name:i}});case"modify":if(this.isMe(t)){var o=(0,C.default)(n);return l.createElement(j.default,{id:1273,params:{new_number:o,name:i}})}return l.createElement(j.default,{id:1272,params:{name:i}});default:E.default.log("wa:groupNotification:unknown message subtype: "+e)()}}},{key:"_renderGp2L10n",value:function(e,t,a,n,i){var r=t?(0,g.getFormattedName)(t,!this.props.clickable):null,o=i?i[0]:void 0,s=o?(0,g.getFormattedName)(o,!this.props.clickable):null,d=(0,g.getFormattedNames)(i,!this.props.clickable);switch(e){case"add":return t?this.isMe(t)?l.createElement(j.default,{id:1288,params:{participants:d}}):this.isMe(o)?l.createElement(j.default,{id:1285,params:{name:r}}):l.createElement(j.default,{id:1284,params:{participants:d,name:r}}):this.isMe(o)?l.createElement(j.default,{id:1271}):l.createElement(j.default,{id:1270,params:{name:s}});case"remove":return t?S.default.equals(t,o)?l.createElement(j.default,{id:1283}):this.isMe(t)?l.createElement(j.default,{id:1289,params:{participants:d}}):this.isMe(o)?l.createElement(j.default,{id:1287,params:{name:r}}):l.createElement(j.default,{id:1286,params:{participants:d,name:r}}):this.isMe(o)?l.createElement(j.default,{id:1283}):l.createElement(j.default,{id:1282,params:{name:s}});case"leave":return this.isMe(o)?l.createElement(j.default,{id:1279}):l.createElement(j.default,{id:1278,params:{name:d}});case"picture":return"remove"===n?this.isMe(t)?l.createElement(j.default,{id:1384}):l.createElement(j.default,{id:1383,params:{name:r}}):this.isMe(t)?l.createElement(j.default,{id:1382}):l.createElement(j.default,{id:1381,params:{name:r}});case"subject":var c=this.getFormattedText(n);return this.isMe(t)?l.createElement(j.default,{id:1295,params:{subject:c}}):l.createElement(j.default,{id:1294,params:{name:r,subject:c}});case"modify":var u=(0,C.default)(t),f=(0,C.default)(o);return u===a?l.createElement(j.default,{id:1273,params:{name:a,new_number:f}}):l.createElement(j.default,{id:1272,params:{name:a}});case"create":return this.isMe(t)?n?l.createElement(j.default,{id:1250,params:{subject:this.getFormattedText(n)}}):l.createElement(j.default,{id:1251}):n?l.createElement(j.default,{id:1248,params:{subject:this.getFormattedText(n),name:r}}):l.createElement(j.default,{id:1249,params:{name:r}});case"delete":return this.isMe(t)?l.createElement(j.default,{id:1260}):l.createElement(j.default,{id:1259,params:{name:r}});case"promote":var h=i.length;return 1===h&&this.isMe(o)?l.createElement(j.default,{id:1281}):l.createElement(j.default,{id:1280,params:{count:h,participants:d},plural:h});case"demote":var p=i.length;return 1===p&&this.isMe(o)?l.createElement(j.default,{id:1275}):l.createElement(j.default,{id:1274,params:{count:p,participants:d},plural:p});case"invite":return this.isMe(o)?l.createElement(j.default,{id:1277}):l.createElement(j.default,{id:1276,params:{name:s}});case"revoke_invite":return this.isMe(t)?l.createElement(j.default,{id:1265}):l.createElement(j.default,{id:1264,params:{name:r}});case"description":return this.isMe(t)?l.createElement(j.default,{id:1255}):l.createElement(j.default,{id:1253,params:{name:r}});case"announce":return"on"===n?this.isMe(t)?l.createElement(j.default,{id:1247}):l.createElement(j.default,{id:1246,params:{name:r}}):this.isMe(t)?l.createElement(j.default,{id:1245}):l.createElement(j.default,{id:1244,params:{name:r}});case"restrict":return"on"===n?this.isMe(t)?l.createElement(j.default,{id:1293}):l.createElement(j.default,{id:1292,params:{name:r}}):this.isMe(t)?l.createElement(j.default,{id:1291}):l.createElement(j.default,{id:1290,params:{name:r}});case"no_frequently_forwarded":return"on"===n?this.isMe(t)?l.createElement(j.default,{id:1269}):l.createElement(j.default,{id:1268,params:{name:r}}):this.isMe(t)?l.createElement(j.default,{id:1267}):l.createElement(j.default,{id:1266,params:{name:r}});case"announce_msg_bounce":return l.createElement(j.default,{id:1243});case"v4_add_invite_sent":return l.createElement(j.default,{id:1128,params:{participants:d,count:i.length}});case"v4_add_invite_join":return l.createElement(j.default,{id:1127,params:{participants:d,count:i.length}});default:E.default.log("wa:groupNotification:unknown message subtype: "+e)()}}},{key:"_renderIcon",value:function(e,t){if("gp2"===e&&"announce"===t)return l.createElement("div",{className:b.default.icon},l.createElement(_.default,{name:"megaphone"}))}},{key:"_getClickHandler",value:function(e,t){if(this.props.clickable)switch(t){case"picture":case"subject":return this.openInfoDrawer();case"revoke_invite":return this.openGroupInviteLinkDrawer();case"description":return this.openExpandedGroupDesc()}}},{key:"render",value:function(){var e=this.props.msg,t=e.type,a=e.subtype,n=e.author,i=e.body,r=e.recipients,o=e.displayName();if("group_notification"!==t&&"gp2"!==t)return null;var s="gp2"===t?this._renderGp2L10n(a,n,o,i,r):this._renderGroupNotificationL10n(a,n,o,i);if(!s)return null;var d=this._getClickHandler(t,a);return d&&(s=l.cloneElement(s,{onClick:d})),l.createElement("span",{role:d?"button":void 0,className:b.default.notification},this._renderIcon(t,a),s)}}]),t}(l.PureComponent);A.CONCERNS={msg:["type","subtype","author","body","recipients","chat"]};var M=(0,v.default)((0,y.default)(A,A.CONCERNS));t.default=M},bhcdgaheib:function(e,t){e.exports={ellipsify:"_19RFN",inlineblock:"_1ovWX",dirMismatch:"_1wsdb",clickable:"_18GNg"}},bhdgigicfd:function(e,t){e.exports={container:"_3b8_6",fullscreen:"_2V_gW",videoFloaterMedia:"Rxe5u",videoTag:"_2vGFe",mediaStageWrapper:"_2-Jil",preview:"JZ2FH",errorLink:"_2MfdM",errorLinkChevron:"ooG8r"}},bhedcifgbg:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=n(a("ddhijeejag")),u=i(a("bcbahjefec")),f=i(a("ccdhdfebfj")),h=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,(0,d.default)(t).apply(this,arguments))}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){this.push(l.createElement(f.default,{chat:this.props.chat,onConfirm:this.props.onConfirm}))}}]),t}(u.default);t.default=h},bheebijggd:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.ORDERED_TAB_SECTION_IDS=t.default=void 0;var i=n(a("bhfcfhafdj")),r=n(a("bhabhhjdch"));function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}var s=a("dghhefgjhc").EMOJI,d=s.CATEGORIES,c=s.ORDERED_CATEGORY_IDS,l=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach(function(t){(0,r.default)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({RECENT:"RECENT"},d,{SEARCH_RESULT:"SEARCH_RESULT"}),u=l;t.default=u;var f=[{[l.RECENT]:l.RECENT,[l.SMILEYS_PEOPLE]:l.SMILEYS_PEOPLE,[l.ANIMALS_NATURE]:l.ANIMALS_NATURE,[l.FOOD_DRINK]:l.FOOD_DRINK,[l.ACTIVITY]:l.ACTIVITY,[l.TRAVEL_PLACES]:l.TRAVEL_PLACES,[l.OBJECTS]:l.OBJECTS,[l.SYMBOLS]:l.SYMBOLS,[l.FLAGS]:l.FLAGS}.RECENT].concat((0,i.default)(c));t.ORDERED_TAB_SECTION_IDS=f},bheehfahbe:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=i(a("iidhbgeed")),u=i(a("bebajedcaf")),f=i(a("bhdddbafig")),h=i(a("ceffhbhahb")),p=n(a("ddhijeejag")),g=i(a("effbcehec")),m=a("dfdebdgdei"),b=i(a("bbchdeehff")),v=i(a("biddiiafgd")),j=i(a("dhigahgdjb")),E=i(a("chdfbgffgh")),y=i(a("djcchigfih")),_=i(a("djbhiedbef")),S=n(a("dajffajabh")),C=a("cicgeajfge"),A=n(a("cajijabhgb")),M=i(a("cicjcfabii")),T=i(a("bggeiidigb")),P=i(a("ddajbaceej")),N=i(a("dgjddffcfg")),I=n(a("dhfbfehaef")),k=i(a("fffdgbfji")),O=i(a("cacgcabfhd")),R=i(a("dfigcajgai")),w=i(a("bjbedjfe")),D=i(a("cdjhjdcbeg")),L=a("eagfdbhhhh"),U=i(a("bfgbdiffgd")),G=i(a("becfabjeeg")),x=i(a("bfdcadbbif")),F=n(a("bfjajhbdf")),B=i(a("didfdhbecg")),V=(0,F.genId)("max_participant_toast"),H=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).state={searchText:"",participants:a.props.participants,shouldFocus:!0,isBusy:!1},a.flatListController=new T.default,a.setRefParticipantList=function(e){a.refParticipantList=e},a.setRefList=function(e){a.refList=e},a.onKeyDown=function(e){if("Backspace"===e.key&&!a.state.searchText&&!(0,u.default)(a.state.participants)){e.preventDefault();var t=a.state.participants;a.setState({participants:t.slice(0,t.length-1),shouldFocus:!0})}},a.onInput=function(e){a.setState({searchText:e.target.value})},a.onReset=function(){a.setState({searchText:"",shouldFocus:!0})},a.focus=function(){P.default.focus(a.refInput)},a.onBack=function(){a.props.onBack()},a.onContinue=function(){a.props.onContinue(a.state.participants)},a.onDelete=function(e,t){var n=(0,l.default)(a.state.participants,function(e){return!e.id.equals(t.id)});a.setState({participants:n,shouldFocus:!n.length})},a.onContactClick=function(e,t){a.state.participants.find(function(e){return e.id.equals(t.id)})?a.removeContact(t):t.isBlocked()?b.default.openModal(p.createElement(v.default,{title:k.default.t(165),onOK:function(){a.unblockAndAddContact(t),b.default.closeModal()},onCancel:function(){return b.default.closeModal()},okText:k.default.t(1456),cancelText:k.default.t(1326)},k.default.t(161))):a.addContact(t)},a.onFocusList=function(e){a.refList&&(e.preventDefault(),e.stopPropagation(),(0,I.shouldIndicateFocus)(),a.refList&&a.refList.focusFirst())},a.onFocusParticipants=function(e){e.repeat||a.refInput&&0!==a.refInput.selectionStart||a.refParticipantList&&(e.preventDefault(),e.stopPropagation(),I.default.flashFocus=0,a.refParticipantList&&a.refParticipantList.focusLast())},a.onSelectFirst=function(e){e.preventDefault(),e.stopPropagation();var t=a.getFilteredContacts()[0];t&&a.onContactClick(e,t)},a.onFocusSearch=function(e){(0,I.shouldIndicateFocus)(),P.default.focus(a.refInput)},a.setRefInput=function(e){a.refInput=e},a.setRefSizer=function(e){a.refSizer=e},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){this.focus()}},{key:"componentDidUpdate",value:function(){this.adjustInput()}},{key:"getFilteredContacts",value:function(){var e=(0,f.default)(j.default.getFilteredContacts(),this.state.participants),t=this.state.searchText;if(!t)return e;t=k.default.accentFold(t);var a=N.default.numberSearch(t);return e.filter(function(e){return e.searchMatch(t,a)})}},{key:"adjustInput",value:function(){if(this.refInput){var e,t=this.refInput.offsetParent.offsetWidth-10,a=this.refSizer.offsetWidth,n=a>t?t:a;this.refInput.style.width=n+"px",e=t-this.refInput.offsetLeft-n>0?t-this.refInput.offsetLeft:t,this.refInput.style.width=e+"px",this.state.shouldFocus&&this.focus()}}},{key:"addContact",value:function(e){var t=this.state.participants;if(t.length>=U.default.maxParticipants){var a=k.default.t(54,{max:U.default.maxParticipants});b.default.openToast(p.createElement(F.default,{msg:a,id:V}))}else this.setState({participants:t.concat(e),searchText:"",shouldFocus:!0})}},{key:"removeContact",value:function(e){var t=this.state.participants;this.setState({participants:(0,l.default)(t,function(t){return!e.id.equals(t.id)}),shouldFocus:!0})}},{key:"unblockAndAddContact",value:function(e){var t=this;this.setState({isBusy:!0}),(0,m.unblockContact)(e).checkpoint(this.props.rejectOnUnmount()).then(function(){t.addContact(e),t.setState({isBusy:!1})}).catch(A.Unmount,function(){}).catch(function(e){t.setState({isBusy:!1})})}},{key:"render",value:function(){var e;this.state.isBusy?e=p.createElement("div",{className:O.default.spinner},p.createElement(G.default,{stroke:6,size:24})):this.state.participants&&this.state.participants.length&&(e=p.createElement(D.default,{a8nText:"group-participants-btn",onClick:this.onContinue},p.createElement(x.default,{name:"forward-light",directional:!0})));var t=this.state.participants&&this.state.participants.length?" ":k.default.t(560),a={down:this.onFocusList,enter:this.state.searchText?this.onSelectFirst:this.state.participants&&this.state.participants.length?this.onContinue:function(){},up:this.onFocusParticipants};a[k.default.LR("left","right")]=this.onFocusParticipants;var n,i=this.getFilteredContacts();return n=0===i.length?p.createElement(C.SearchContacts,null):p.createElement(E.default,{ref:this.setRefList,flatListController:this.flatListController,contacts:i,onClick:this.onContactClick,onFocusSearch:this.onFocusSearch,showPersonGroupDivisionHeader:!1}),p.createElement(y.default,null,p.createElement(S.default,{title:k.default.t(1481),type:S.DRAWER_HEADER_TYPE.LARGE,onBack:this.onBack}),p.createElement(_.default,null,p.createElement("div",{className:O.default.search},p.createElement("div",null,p.createElement(I.default,{handlers:a,className:O.default.inputLine},p.createElement("div",{"data-list-scroll-container":!0},p.createElement(R.default,{ref:this.setRefParticipantList,theme:"list-names",contacts:this.state.participants,onDelete:this.onDelete,onFocusSearch:this.onFocusSearch})),p.createElement("input",{"data-a8n":g.default.key("inputarea"),className:(0,h.default)(O.default.inputarea,L.SELECTABLE_INPUT_CSS_CLASS),ref:this.setRefInput,placeholder:t,onKeyDown:this.onKeyDown,onChange:this.onInput,value:this.state.searchText,type:"text"}),p.createElement("span",{className:O.default.inputareaSizer,ref:this.setRefSizer},this.state.searchText)))),p.createElement(M.default,{className:O.default.contacts,flatListControllers:[this.flatListController]},n),p.createElement(B.default,{transitionName:"btn",className:O.default.drawerSection},e)))}}]),t}(p.Component);H.defaultProps={participants:[]};var W=(0,w.default)(H);t.default=W},bhfajidgce:function(e,t){e.exports={container:"_3OmmQ",isQuoted:"_2gu3h"}},bhfcdbibdf:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(!e.parentNode)return;e.parentNode.removeChild(e)}},bhfdfhefca:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.MenuBar=function(e){var t=(0,l.default)(h.default.menu,{[h.default.menuDefault]:!e.theme,[h.default.menuStrong]:"strong"===e.theme});return u.createElement("div",{className:t},e.children)},t.MenuBarItem=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=i(a("ceffhbhahb")),u=n(a("ddhijeejag")),f=i(a("effbcehec")),h=i(a("daddjfeaa")),p=i(a("caffijjhc")),g=i(a("didfdhbecg"));var m=function(e){function t(e){var a;return(0,r.default)(this,t),(a=(0,s.default)(this,(0,d.default)(t).call(this,e))).onClose=function(){a.setState({active:!1})},a.handleClick=function(e){a.props.onClick&&a.props.onClick(e),e.isDefaultPrevented()||(e.preventDefault(),a.state.active||a.onOpen())},a.state={active:!1},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"onOpen",value:function(){this.props.children&&this.setState({active:!0})}},{key:"render",value:function(){var e=this.props,t=e.children,a=e.icon,n=e.transitionName,i=e.title,r=e.selected,o=e.disabled,s=this.state.active,d=t&&s?u.createElement(p.default,{displayName:"MenuBarMenuItem",escapable:!0,popable:!0,requestDismiss:this.onClose},u.Children.only(t)):null,c=(0,l.default)(h.default.item,{[h.default.selected]:r,[h.default.active]:s,[h.default.disabled]:o});return u.createElement("div",{"data-a8n":f.default.key(this.props.a8nText),className:c},u.createElement("div",{role:"button",onMouseDown:this.handleClick,title:i},a),u.createElement(g.default,{transitionName:n},d))}}]),t}(u.PureComponent);t.MenuBarItem=m,m.defaultProps={transitionName:"dropdown",disabled:!1}},bhfeffjbfg:function(e,t){e.exports={searchContainer:"_2wmGC",section:"SI-QE",blank:"XWe4-",row:"_1Yyly",noResults:"_2Vtro"}},bhfgbcfeae:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=n(a("ddhijeejag")),u=i(a("cfaiaibca")),f=i(a("baagejbchg")),h=i(a("bjigbaghc")),p=i(a("bjgiedaj")),g=i(a("fijafegab")),m=i(a("fifhbjiec")),b=a("bidfjbaebi"),v=a("gaifbabbj"),j=i(a("fffdgbfji")),E=n(a("dbcedfihd")),y=a("bgjddhffji"),_=i(a("cbidhfhhbb")),S=i(a("ihfccfgdf")),C=a("bheafeifce"),A=i(a("eedjbihej")),M=function(e){function t(e){var a;return(0,r.default)(this,t),(a=(0,s.default)(this,(0,d.default)(t).call(this,e))).onReadMore=function(){a.setState({isDescExpanded:!0})},a.onClickUrl=function(e,t){e.stopPropagation();var n=a.props,i=n.product,r=n.sessionId;(0,y.logDetailLinkClick)((0,C.unproxy)(i),r);var o=t&&E.findLink(t);o&&(0,b.openExternalLink)(o.url)},a.state={isDescExpanded:!1},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"renderMessageBusinessButton",value:function(){var e=this.props,t=e.onSendChat,a=e.product,n=e.isAvailable;if(!a.fetchedFromServer||!n)return null;var i=j.default.t(925);return l.createElement("div",{className:_.default.buttonContainer,title:i},l.createElement(u.default,{onClick:t,type:"primary"},i))}},{key:"renderLink",value:function(e){var t=this,a=this.props,n=a.product,i=a.isAvailable;if(!n.fetchedFromServer||!e||!i)return null;var r=v.Configuration.TrustedGroupDesc({links:E.findLinks(e)});return l.createElement("div",{className:_.default.descBlock},l.createElement(m.default,{selectable:!0,formatters:r,text:e,onClick:function(a){return t.onClickUrl(a,e)}}))}},{key:"renderDesc",value:function(){var e=this.props.product,t=this.state.isDescExpanded;if(!e.description&&!e.url&&!e.retailerId)return null;var a,n=!(!e||!e.description)&&e.description.length>f.default.GROUP_DESCRIPTION_INFO_PANEL_TRUNC_LENGTH;return e.description&&(a=l.createElement("div",{className:_.default.descBlock},l.createElement(m.default,{selectable:!0,text:e.description,textLimit:t?1/0:f.default.GROUP_DESCRIPTION_INFO_PANEL_TRUNC_LENGTH}),n&&!t?l.createElement("span",{className:_.default.more,role:"button",onClick:this.onReadMore}," ".concat(j.default.t(949))):null)),l.createElement(A.default,{theme:"plain",block:!0,className:_.default.description},a,this.renderLink(e.url),e.retailerId?l.createElement("div",{className:_.default.descBlock},l.createElement(m.default,{text:e.retailerId,selectable:!0,direction:"inherit"})):null)}},{key:"render",value:function(){var e=this.props.product,t=e.catalogWid.equals(h.default.me)?null:this.renderMessageBusinessButton();return l.createElement(g.default,{theme:"padding-product",animation:!1},l.createElement(A.default,{theme:"title",block:!0,className:_.default.name},l.createElement(m.default,{text:e.name,selectable:!0})),e.currency&&null!=e.priceAmount1000&&0!==e.priceAmount1000?l.createElement(A.default,{block:!0,className:_.default.price,color:"dark",theme:"plain"},l.createElement(m.default,{text:p.default.format(e.currency,e.priceAmount1000),selectable:!0,direction:"inherit"})):null,this.renderDesc(),t)}}]),t}(l.Component);M.CONCERNS={product:["name","url","description","currency","priceAmount1000","fetchedFromServer","retailerId","catalogWid"]};var T=(0,S.default)(M,M.CONCERNS);t.default=T},bhgfchijhg:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.queryProduct=function(e,t,a,n){var o;if(i.default.supportsFeature(i.default.F.MD_BACKEND))o=Promise.reject(new Error("Shoudl not reach here"));else{var s=e.toString({legacy:!0});o=r.default.queryProduct(s,t,a,n)}return o},t.queryCatalog=function(e,t,a,n,o){var s;if(i.default.supportsFeature(i.default.F.MD_BACKEND))s=Promise.reject(new Error("Should not reach here"));else{var d=e.toString({legacy:!0});s=r.default.queryProductCatalog(d,t,a,n,o)}return s},t.reportProduct=function(e,t,a){var n;n=i.default.supportsFeature(i.default.F.MD_BACKEND)?Promise.reject(new Error("Should not reach here")):r.default.reportBusinessCatalogProduct(e,t,a);return n};var i=n(a("bjbdcigbdi")),r=n(a("bihdhbjih"))},bhgjdccfde:function(e,t){e.exports={tile:"fzCXy",backgroundColor:"_3GHFH"}},bhhdeihhhf:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ThemeOptions=void 0;var r=i(a("bacehaajgh")),o=i(a("eaidjcib")),s=i(a("dgcdacjddi")),d=i(a("ffceefejc")),c=i(a("cjedcdbdii")),l=i(a("dbjagcfebh")),u=i(a("ceffhbhahb")),f=n(a("ddhijeejag")),h=i(a("effbcehec")),p=i(a("ddchejfidi")),g=i(a("jheedhagg")),m=i(a("dhfbfehaef")),b=i(a("chgaccicf")),v=a("hjbbdjjdf"),j=(0,b.default)({COMPACT:null});t.ThemeOptions=j;var E=function(e){function t(){var e,a;(0,o.default)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=(0,d.default)(this,(e=(0,c.default)(t)).call.apply(e,[this].concat(i)))).state={hover:!1,focus:!1},a.onMouseEnter=function(){a.setState({hover:!0})},a.onMouseLeave=function(){a.setState({hover:!1})},a.onFocus=function(){a.setState({focus:!0})},a.onBlur=function(){a.setState({focus:!1})},a.onClick=function(e){a.onAction(e)},a.onEnter=function(e){e.repeat||a.onAction(e)},a.onAction=function(e){var t=a.props.action;if(t&&!(!1===t(e))){var n=a.props.uim;n&&n.uie.requestDismiss()}},a}return(0,l.default)(t,e),(0,s.default)(t,[{key:"render",value:function(){var e=this.props,t=e.children,a=e.tooltip,n=e.type,i=e.disabled,o=void 0!==i&&i,s=e.theme,d=this.state,c=d.hover,l=d.focus,g=(c||l)&&a?a:null,b=(0,v.isString)(t)?f.createElement("div",{className:(0,u.default)(p.default.ellipsify,p.default.action,{[p.default.compact]:s===j.COMPACT}),role:"button",title:t},t):t,E={enter:this.onEnter},_=(0,u.default)(p.default.item,p.default.shortcut,{[p.default.hover]:c||l,[p.default.text]:"text"===n,[p.default.emoji]:"emoji"===n,[p.default.icon]:"icon"===n,[p.default.disabled]:o}),S=o?{}:{handlers:E,onContextMenu:y,onMouseDown:y,onClick:this.onClick,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,onFocus:this.onFocus,onBlur:this.onBlur};return f.createElement(m.default,(0,r.default)({component:"li","data-a8n":h.default.key(this.props.a8n),className:_,"data-animate-dropdown-item":!0},S),b,g)}}]),t}(f.PureComponent);function y(e){e.preventDefault()}E.defaultProps={type:"text"};var _=(0,g.default)(E);t.default=_},bhhdiiaihb:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(t,a){var n=2*e.length+t[1].length,i=t[0].length-n;return i>0&&(t.index+=i,t[0]=t[0].slice(i)),a.lastIndex--,t}}},bhheahajjg:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.chat,a=e.contact,n=(0,o.default)(e,["chat","contact"]);if(t&&!t.isUser)return h.createElement(M,(0,r.default)({chat:t},n));var i=a||t.contact;return h.createElement(C,(0,r.default)({contact:i},n))},t.GroupNameClass=t.ContactNameClass=void 0;var r=i(a("bacehaajgh")),o=i(a("dagbcgeifg")),s=i(a("eaidjcib")),d=i(a("dgcdacjddi")),c=i(a("ffceefejc")),l=i(a("cjedcdbdii")),u=i(a("dbjagcfebh")),f=i(a("ceffhbhahb")),h=n(a("ddhijeejag")),p=i(a("fifhbjiec")),g=i(a("dgjddffcfg")),m=i(a("bjbdcigbdi")),b=a("gaifbabbj"),v=i(a("icghcjegh")),j=i(a("bdiiahhjbe")),E=i(a("haehdhfbi")),y=i(a("ihfccfgdf")),_=i(a("bfdcadbbif")),S=function(e){function t(){return(0,s.default)(this,t),(0,c.default)(this,(0,l.default)(t).apply(this,arguments))}return(0,u.default)(t,e),(0,d.default)(t,[{key:"render",value:function(){var e,t=this.props,a=t.element,n=t.contact,i=t.highlightText,r=t.titlify,o=t.ellipsify,s=t.you,d=t.selectable,c=t.useShortName,l=t.useDisplayName,u=t.onClick,y=t.showLabel,S=t.showBusinessCheckmark,C=t.showNotifyName;i&&(e=b.Configuration.Search({terms:[i]}));var A,M=(0,f.default)(n.isPSA?E.default.psa:null);if(!(A=l&&n.displayName?n.displayName:c&&n.formattedShortName?n.formattedShortName:s&&n.isMe?n.formattedName:C&&!n.name&&n.notifyName?"~".concat(n.notifyName):n.formattedUser))return j.default.assert(!1,"display name is null or undefined","displayName:".concat(A,",\n                formattedName:").concat(n.formattedName,",\n                name:").concat(n.name,",\n                formattedShortName:").concat(n.formattedShortName,",\n                formattedUser:").concat(n.formattedUser))(),"";var T=h.createElement(p.default,{text:g.default.replaceMultipleSpaces(A),element:a,className:M,formatters:e,titlify:r,ellipsify:o,direction:"auto",selectable:d,inlineblock:!0,onClick:u}),P=y&&(n.labels||this.props.labels)?h.createElement("div",{className:E.default.labels},h.createElement(v.default,{labels:this.props.labels||n.labels,showName:!1})):null;return n.isPSA||m.default.supportsFeature(m.default.F.VNAME_V_2)&&S&&n.showBusinessCheckmark?h.createElement("span",{className:E.default.verified},T,h.createElement("div",{className:E.default.icon},h.createElement(_.default,{name:"psa-verified"})),P):P?h.createElement("span",{className:E.default.hasLabels},T,P):T}}]),t}(h.PureComponent);t.ContactNameClass=S,S.CONCERNS={contact:["isPSA","formattedUser","formattedName","formattedShortName","displayName","showBusinessCheckmark","labels","name","notifyName","isMe"]},S.defaultProps={element:"span"};var C=(0,y.default)(S,S.CONCERNS),A=function(e){function t(){return(0,s.default)(this,t),(0,c.default)(this,(0,l.default)(t).apply(this,arguments))}return(0,u.default)(t,e),(0,d.default)(t,[{key:"render",value:function(){var e,t=this.props,a=t.element,n=t.chat,i=t.highlightText,r=t.titlify,o=t.ellipsify,s=t.onClick,d=t.showLabel;i&&(e=b.Configuration.Search({terms:[i]}));var c=d&&(n.labels||this.props.labels)?h.createElement("div",{className:E.default.labels},h.createElement(v.default,{labels:this.props.labels||n.labels,showName:!1})):null,l=h.createElement(p.default,{text:g.default.replaceMultipleSpaces(n.title()),element:a,formatters:e,titlify:r,ellipsify:o,direction:"auto",inlineblock:!0,onClick:s});return c?h.createElement("div",{className:c?E.default.hasLabels:null},l,c):l}}]),t}(h.PureComponent);t.GroupNameClass=A,A.CONCERNS={chat:["formattedTitle","labels"]};var M=(0,y.default)(A,A.CONCERNS)},bhhgagadei:function(e,t,a){"use strict";var n=a("cfjecfhbfg"),i=n(a("eaidjcib")),r=n(a("dgcdacjddi")),o=n(a("dfeigdcjhi")),s=a("ddjfcdfihc"),d=function(){function e(){(0,i.default)(this,e),document.addEventListener("keydown",function(e){var t=(0,s.getAction)(e);t&&(0,o.default)(t)})}return(0,r.default)(e,[{key:"trigger",value:function(e){}},{key:"menuBatchRenderWith",value:function(e){}}]),e}();e.exports=new d},bhiafccjai:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=n(a("ddhijeejag")),u=i(a("bbchdeehff")),f=i(a("cahefccjdd")),h=(i(a("bffjfbgbg")),i(a("gejffefga"))),p=function(e){function t(e){var a;return(0,r.default)(this,t),(a=(0,s.default)(this,(0,d.default)(t).call(this,e))).state=a.getInitialMediaStyle(),a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"getInitialMediaStyle",value:function(){var e;if(this.props.initialStyle)return{initialStyle:this.props.initialStyle,aspectRatio:.67};u.default.getConversationHeaderOffset(function(t){e=t});return e||(e={right:window.innerWidth,bottom:0}),{initialStyle:{width:330*.67,left:e.right<window.innerWidth?e.right-330*.67-10:window.innerWidth-330*.67-10,bottom:window.innerHeight-10-330-e.bottom},aspectRatio:.67}}},{key:"render",value:function(){var e={x:10,y:10};return l.createElement(h.default,{aspectRatio:.67,margin:e,minWidth:145,className:f.default.voipFloater,initialStyle:this.state.initialStyle},this.props.children)}}]),t}(l.Component);t.default=p},bhibhdeccd:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t,a=s[e];a&&(t=i.default.getSkinToneEmojis()[a]&&r.default.getVariant(a));return t||a},t.backwardsEmojiTextsTrie=void 0;var i=n(a("djegeegcbf")),r=n(a("dfbhcehadj")),o=n(a("cjdfbfihbe")),s={"(y)":"","(Y)":"","(n)":"","(N)":"",":-)":"",":-(":"",":-p":"",":-P":"",":-|":"",":-\\":"",":-D":"",":-*":"",":-o":"","<3":"","^_^":"",">_<":"",";-)":""};var d=Object.keys(s),c=o.default.fromBackwardsStrings(d);t.backwardsEmojiTextsTrie=c},bhichefhgf:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.cancelUploadMedia=function(e){e.uploadPromise&&e.uploadPromise.control.cancel()},t.uploadMedia=function(e,t,a){if(t.uploadPromise)return t.uploadPromise;var n=new r.default,i=n.signal,j=new m.default.MediaUpload2;function E(e){j.set({overallMediaSize:e.byteLength})}function y(e){e instanceof o.HttpStatusCodeError&&j.set({resumeHttpCode:e.status})}function _(){j.set({overallUploadResult:m.default.MEDIA_UPLOAD_RESULT_TYPE.DUPLICATE,overallIsFinal:!0,resumeHttpCode:200}),j.markOverallCumT(),j.commit()}function S(e){var t=e.hostName,a=e.hostClass,n=e.failCount;j.set({overallDomain:t,overallConnectionClass:a,overallRetryCount:n})}function C(){j.set({resumeHttpCode:404,overallUploadResult:m.default.MEDIA_UPLOAD_RESULT_TYPE.OK,overallIsFinal:!0}),j.markOverallCumT(),j.commit()}function A(e){j.set({overallUploadResult:(0,p.getMetricUploadErrorResultType)(e),overallIsFinal:!0}),j.markOverallCumT(),j.commit()}function M(e){j.set({overallT:e})}function T(e,t,a){var n=new m.default.MediaUpload2(j);n.set({overallUploadResult:(0,p.getMetricUploadErrorResultType)(e),overallIsFinal:!1,overallT:t,overallRetryCount:a}),j.markOverallCumT(),n.commit()}return t.uploadPromise=Promise.resolve().then(function(){t.consolidate({uploadStage:h.UPLOAD_STAGE.UPLOADING});var n=t.mediaBlob;if(n)return n.formData();if(t.filehash){var r=l.default.get(t.filehash);if(r)return r}return(0,b.downloadMedia)({mimetype:e,object:t,downloadEvenIfExpensive:!0,mediaType:a,signal:i,rmrReason:m.default.WEBC_RMR_REASON_CODE.UPLOAD}).then(function(){if(t.downloadStage===h.DOWNLOAD_STAGE.ERROR_MISSING)throw new s.MediaNotOnPhone;var e=t.mediaBlob;if(e)return e.formData();if(t.filehash){var a=l.default.get(t.filehash);if(a)return a}throw new Error("cant upload media w/out mediaBlob after download")})}).then(function(e){var n,r=t.entries.getUploadEntry();return n=a,j.set({connectionType:m.default.CONNECTION_TYPE.HOSTNAME,overallMediaType:(0,p.getMetricMediaType)(n),overallMmsVersion:4,overallAttemptCount:t.userAttemptCount,networkStack:m.default.NETWORK_STACK_TYPE.NATIVE,overallUploadMode:m.default.MEDIA_UPLOAD_MODE_TYPE.REGULAR}),v.default.encryptAndUpload({blob:e,mediaKey:r&&r.mediaKey,mediaKeyTimestamp:r&&r.mediaKeyTimestamp,type:a,signal:i,onArrayBufferCreated:E,onCheckExistingSuccess:_,onCheckExistingError:y,onUploadHostFound:S,onUploadAttemptSuccess:M,onUploadAttemptError:T,onUploadSuccess:C,onUploadError:A}).then(function(e){var n=e.directPath,i=e.encFilehash,r=e.mediaKey,o=e.mediaKeyTimestamp,s=e.url,d=e.sidecar,c=e.firstFrameSidecar,h=t.entries.addEntry(s,r,o,i,a,d,n,c);if(!h)throw new Error("could not create media entry");if((a===f.default.PTT||a===f.default.AUDIO)&&!g.canPlayOgg())if(g.shouldUseMediaCache(a)){var p=t.filehash;if(p&&t.mediaBlob)return(0,u.transcode)(t.mediaBlob.formData()).then(function(e){l.default.put(p,e)}).then(function(){return h})}else if(t.mediaBlob)return g.gatherAndSetMetadata(t,t.mediaBlob).then(function(){return h});return h})}).addRawControl("cancel",function(){return n.abort()}).then(function(e){if(i.aborted)throw new d.AbortError;return t.consolidate({uploadStage:h.UPLOAD_STAGE.UPLOADED}),c.default.log("MediaAlgo.uploadMedia: success",e.uploadHash)(),e}).catch(function(e){throw c.default.error("MediaAlgo.uploadMedia: error",e)(),e}).finally(function(){delete t.uploadPromise}).catch(s.MediaNotOnPhone,function(e){t.consolidate({uploadStage:h.UPLOAD_STAGE.ERROR_MISSING})}).catch(d.MediaTooLargeError,function(e){t.consolidate({uploadStage:h.UPLOAD_STAGE.ERROR_TOO_LARGE})}).catch(function(e){t.consolidate({uploadStage:h.UPLOAD_STAGE.NEED_UPLOAD})}).endWithControls("cancel"),t.uploadPromise};var r=i(a("cgeedcdffb")),o=a("fgeddfbg"),s=a("bafdjibgig"),d=a("ddbdaadcgc"),c=i(a("bdiiahhjbe")),l=i(a("cjieghfgda")),u=a("baffhfhhda"),f=i(a("gbjefdbgb")),h=a("daichdjff"),p=a("dcihijcig"),g=n(a("fabajdgab")),m=i(a("bfbggcdbfb")),b=a("dhcccifjge"),v=i(a("dejgiicjih"))},bhifaggjcb:function(e,t,a){"use strict";var n=a("cfjecfhbfg"),i=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("ddhijeejag")),o=n(a("ceffhbhahb")),s=n(a("dhhbgegf")),d=function(e){var t=e.children,a=e.side,n=e.ellipsify,i=e.onClick,d=(0,o.default)({[s.default.clickable]:i}),c=(0,o.default)(s.default.main,{[s.default.mainEllipsify]:n}),l=a?r.createElement("div",{className:s.default.side},a):null;return r.createElement("div",{className:d,onClick:i},r.createElement("div",{className:s.default.body},r.createElement("div",{className:c},t),l))};t.default=d},bhihgacbic:function(e,t){e.exports={container:"_1EHsn",thumb:"CMB4l",amount:"_2CpXP",amountCurrency:"_1wFgH",amountInteger:"_1G71p",amountDecimal:"B9T1x",isQuoted:"_2ecUv",isQuotedInComposeBox:"_57jWu"}},bhjegffigh:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.updateLocal=function(e,t){if(r.default.supportsFeature(r.default.F.MD_BACKEND))return i.default.merge(e.toString(),t);return Promise.resolve()};var i=n(a("begbbgieee")),r=n(a("bjbdcigbdi"))},biadgfadhh:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.PREVIEW_HEIGHT=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=i(a("bebajedcaf")),u=i(a("ceffhbhahb")),f=n(a("ddhijeejag")),h=i(a("cehjjfagii")),p=i(a("jhcabjcaf")),g=i(a("bfjbdahdag")),m=i(a("dfeecdfijg")),b=i(a("cjeajhjegi")),v=i(a("bdiiahhjbe")),j=i(a("behbcejhad")),E=a("igiffibee"),y=i(a("dbbbgjbbgf")),_=i(a("cieaeggjg")),S=a("eagfdbhhhh"),C=i(a("ihfccfgdf")),A=i(a("deibgadgic")),M=i(a("cbjacjjfgc")),T=i(a("edbaidcaf"));t.PREVIEW_HEIGHT=150;var P=["foursquare.com","facebook.com","maps.google.com"],N=function(e){function t(e){var a;return(0,r.default)(this,t),(a=(0,s.default)(this,(0,d.default)(t).call(this,e))).loc=function(){var e=a.props.msg.get("loc");if(e)return 2===(e=e.split("\n")).length?{name:e[0],addr:e[1]}:{name:e}},a.getLocationDetails=function(e){var t,n,i,r=a.props.msg,o=a.loc(),s=r.clientUrl||e,d=T.default.hostname(s),c=(0,l.default)(P.filter(function(e){return d.includes(e)})),h=c?f.createElement("span",{className:b.default.link},d):null,p=T.default.isHttp(s);if(!p)return s.toLowerCase().startsWith("javascript:")&&v.default.assert(!1,"URL error","Bad url: ".concat(s))(),null;if(!c&&p&&o&&!s.includes("javascript")){t=o.name?f.createElement(S.SelectableLink,{className:b.default.title,dir:"auto",href:s,plainText:"".concat(o.name,"\n").concat(s),selectable:!0,target:"_blank",title:o.name},o.name):null;var g=(0,u.default)(b.default.address,{[b.default.hasURL]:h});n=o.addr?f.createElement(S.SelectableDiv,{className:g,selectable:!0,title:o.addr},o.addr):null}return(t||n||h)&&(i=f.createElement("div",{className:b.default.text},f.createElement(y.default,{msg:r,"data-id":r.id},t,n,h))),i},a.onClick=function(e){e.stopPropagation()},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e,t,a=this.props.msg,n=a.lat,i=a.lng,r=this.loc(),o=r&&r.name,s=(0,E.getMapUrl)(n,i,o),d=this.getLocationDetails(s),c=null!=d||a.hsmEnabled?null:f.createElement(M.default,null),l=this.props.displayAuthor&&!a.isSentByMe&&a.isGroupMsg,v=a.showForwarded(),y=l?f.createElement("div",{className:b.default.author},f.createElement(h.default,{msg:a,contact:a.senderObj})):null,C=v?f.createElement(m.default,{msg:a,className:b.default.forwardedIndicator}):null,T=(0,u.default)(b.default.container,{[b.default.hasCaption]:d,[b.default.hasAuthor]:l,[b.default.forwarded]:v}),P={height:150},N=this.props.quotedMsg?f.createElement("div",{className:b.default.quote},this.props.quotedMsg):null;return a.hsmEnabled&&(e=a.caption?f.createElement("div",{className:b.default.caption},f.createElement(g.default,{msg:a,spacer:!a.footer})):null,t=f.createElement(A.default,{msg:a})),f.createElement("div",null,f.createElement(p.default,{className:T,contact:a.senderObj,msg:a},y,C,N,f.createElement(S.SelectableDiv,{className:b.default.thumb,onClick:this.onClick,plainText:s,selectable:!0,style:P},f.createElement(j.default,{lat:a.lat,lng:a.lng,width:270,height:150,name:o,className:b.default.thumbBody}),c),d,e,t,f.createElement("div",{className:b.default.meta},f.createElement(_.default,{msg:a}))))}}]),t}(f.PureComponent);N.CONCERNS={msg:["caption","clientUrl","dir","footer","hsmEnabled","id","isGroupMsg","isSentByMe","lat","lng","rtl","senderObj","subtype","type"]};var I=(0,C.default)(N,N.CONCERNS);t.default=I},biahchiahj:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=n(a("ddhijeejag")),u=a("ddajbaceej"),f=i(a("bjbdcigbdi")),h=i(a("febicjijd")),p=i(a("eceadcicaf")),g=i(a("fagbfehid")),m=n(a("cgjafchgje")),b=i(a("bbcccehdad")),v=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).state={hasFetchedData:g.default.hasFetchedData(),hasStickers:g.default.length>0,menuShadow:!1,selectedStickerPackIndex:a._getInitialStickerPackIndex()},a._setRefEmptyContent=function(e){a._refEmptyContent=e},a._setRefContent=function(e){a._refContent=e},a._setRefMenu=function(e){a._refMenu=e},a._handleContainerClick=function(e){a._stopEvent(e),a.restoreFocus()},a._handleContentFocusNext=function(e){a._stopEvent(e),a._refMenu&&a._refMenu.focus()},a._handleContentFocusPrev=function(e){a._stopEvent(e),a._refMenu&&a._refMenu.focus()},a._handleEmptyFocusPrev=function(e){a._stopEvent(e),a._focusPrev()},a._handleEmptyFocusNext=function(e){a._stopEvent(e),a._focusNext()},a._handleItemClick=function(e){a.setState({selectedStickerPackIndex:e})},a._handleMenuFocusBelow=function(e){a._stopEvent(e),a._refContent&&a._refContent.focus()},a._handleMenuFocusNext=function(e){a._stopEvent(e),a._focusNext()},a._handleMenuFocusPrev=function(e){a._stopEvent(e),a._focusPrev()},a._handleScroll=function(e){var t=e.scrollTop;a._lastScrollTop=t,a.setState({menuShadow:t>0})},a._handleStickerPacksChange=function(){a.setState({hasFetchedData:g.default.hasFetchedData(),hasStickers:g.default.length>0})},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"_getInitialStickerPackIndex",value:function(){var e=this.props.displayCache;return e&&null!=e.selectedStickerPackIndex?e.selectedStickerPackIndex:0}},{key:"componentDidMount",value:function(){var e=this;this.props.listeners.add(g.default,"change:length",this._handleStickerPacksChange),this.props.listeners.add(g.default,"change:pageFetchStates",this._handleStickerPacksChange),this.props.listeners.uiIdle(function(){e.restoreFocus(),g.default.fetchAt(0)})}},{key:"componentWillUnmount",value:function(){this.props.onDisplayCache&&this.props.onDisplayCache({scrollTop:this._lastScrollTop,selectedStickerPackIndex:this.state.selectedStickerPackIndex})}},{key:"restoreFocus",value:function(){var e=this;this.props.listeners.uiIdle(function(){if(e._refEmptyContent){if(document.activeElement===e._refEmptyContent)return;(0,u.focus)(e._refEmptyContent)}else e._refMenu&&e._refMenu.focus()})}},{key:"_focusPrev",value:function(){this.props.onFocusPrev&&this.props.onFocusPrev()}},{key:"_focusNext",value:function(){this.props.onFocusNext&&this.props.onFocusNext()}},{key:"_stopEvent",value:function(e){e&&(e.preventDefault(),e.stopPropagation())}},{key:"render",value:function(){var e=f.default.isRecentStickersEnabled(),t=f.default.isRecentStickersEnabled(),a=(e?1:0)+(t?1:0),n=this.state.selectedStickerPackIndex;return e||!this.state.hasFetchedData||this.state.hasStickers?l.createElement("div",{className:h.default.panelContainer,onClick:this._handleContainerClick},l.createElement(b.default,{ref:this._setRefMenu,onFocusBelow:this._handleMenuFocusBelow,onFocusNext:this._handleMenuFocusNext,onFocusPrev:this._handleMenuFocusPrev,onItemClick:this._handleItemClick,selectedStickerPackIndex:n,shadow:this.state.menuShadow,recentStickersEnabled:e,starredStickersEnabled:t,specialItemsCount:a}),l.createElement(m.default,{ref:this._setRefContent,onFocusNext:this._handleContentFocusNext,onFocusPrev:this._handleContentFocusPrev,onScroll:this._handleScroll,onSticker:this.props.onSticker,selectedStickerPackIndex:n,recentStickersEnabled:e,starredStickersEnabled:t,specialItemsCount:a})):l.createElement(m.StickerPanelEmpty,{containerClassName:h.default.panelContainer,onClick:this._handleContainerClick,onFocusPrev:this._handleEmptyFocusPrev,onFocusNext:this._handleEmptyFocusNext,onRef:this._setRefEmptyContent})}}]),t}(l.PureComponent),j=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,(0,d.default)(t).apply(this,arguments))}return(0,c.default)(t,e),(0,o.default)(t,[{key:"restoreFocus",value:function(){this.getComponent().restoreFocus()}}]),t}((0,p.default)(v));t.default=j},biahggehgf:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.requestDeletePicture=function(e){var t;t=o.default.supportsFeature(o.default.F.MD_BACKEND)?Promise.reject(new Error("Should not reach here")):c.default.deletePicture(e).then(function(e){return e.status&&200!==e.status?Promise.reject(new r.ServerStatusCodeError(e.status)):e});return t.then(function(t){return t._duplicate?t:o.default.supportsFeature(o.default.F.MD_BACKEND)?s.ProfilePicThumb.remove(e.toString()).then(function(){return t}):t})},t.sendSetPicture=function(e,t,a){var n;n=o.default.supportsFeature(o.default.F.MD_BACKEND)?Promise.reject(new Error("Should not reach here")):c.default.sendSetPicture(e,t,a).then(function(e){return 200!==e.status?Promise.reject(new r.ServerStatusCodeError(e.status)):e});return n.then(function(t){if(t._duplicate)return t;if(o.default.supportsFeature(o.default.F.MD_BACKEND)){var a=e.toString();return s.ProfilePicThumb.createOrMerge(a,{id:a,tag:t.tag,eurl:t.eurl}).then(function(){return t})}return t})},t.profilePicFindThumbFromPhone=function(e,t){return c.default.profilePicFindThumbFromPhone(e,t).then(function(e){if(o.default.supportsFeature(o.default.F.MD_BACKEND)){var t=e.id.toString();return s.ProfilePicThumb.createOrMerge(t,{id:t,tag:e.tag,raw:e.raw}).then(function(){return e})}return e})},t.profilePicFind=function(e){var t;t=o.default.supportsFeature(o.default.F.MD_BACKEND)?Promise.reject(new Error("Should not reach here")):c.default.profilePicFind(e).then(function(e){return null!=e.status&&200!==e.status?Promise.reject(new r.ServerStatusCodeError(e.status)):e});var a=function(t){return d.default.lock(["profile-pic-thumb"],function(a){var n=(0,i.default)(a,1),r=n[0];return r.get(e.toString()).then(function(a){return a?r.merge(e.toString(),t):r.create(t)})})},n={id:e.toString(),tag:void 0,eurl:void 0,raw:void 0};return t.then(function(e){return o.default.supportsFeature(o.default.F.MD_BACKEND)?(n.tag=e.tag,n.eurl=e.eurl,n.raw=null,a(n).then(function(){return e})):e}).catch(r.ServerStatusCodeError,function(e){if(!o.default.supportsFeature(o.default.F.MD_BACKEND))throw e;return o.default.supportsFeature(o.default.F.MD_BACKEND)&&404===e.status||!o.default.supportsFeature(o.default.F.MD_BACKEND)&&401===e.status?(n.tag="",n.raw=null):(n.tag=null,n.eurl=null),a(n).then(function(){throw e})})};var i=n(a("hbddjfeei")),r=a("ddjgcfjicj"),o=n(a("bjbdcigbdi")),s=a("cefcddgdgg"),d=n(a("ffjiicch")),c=n(a("bihdhbjih"))},biaifggagf:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.CallCollection=void 0;var r=i(a("bhabhhjdch")),o=i(a("eaidjcib")),s=i(a("dgcdacjddi")),d=i(a("ffceefejc")),c=i(a("cjedcdbdii")),l=i(a("dbjagcfebh")),u=i(a("gcfidijgh")),f=i(a("fcdbffdgh")),h=i(a("cgcgbfbffj")),p=i(a("daejhdfjb")),g=i(a("bjbdcigbdi")),m=i(a("hgeacfdgi")),b=i(a("bdiiahhjbe")),v=n(a("bhgjacgcdd")),j=n(a("ddcbacabaj")),E=a("baigjdbded"),y=a("cgejjichfa");function _(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}var S=function(e){function t(){var e,a;(0,o.default)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=(0,d.default)(this,(e=(0,c.default)(t)).call.apply(e,[this].concat(i)))).pendingOffers={},a.pendingVoipCapChecks={},a}return(0,l.default)(t,e),(0,s.default)(t,[{key:"handleQuery",value:function(e){return Promise.resolve()}},{key:"handle",value:function(e){var t=this,n=e.shift();if(n.data&&n.data[0]){var i=j.default.parseCallSignalingMsg(n);if(!i)return;var o={};a("bfgbdiffgd").default.getWebVoipInternalTester()&&g.default.supportsFeature(g.default.F.DESKTOP_VOIP_VOICE_CALL)&&(Array.isArray(n.data[0])&&(n.data=n.data[0]),(0,j.base64DecodeRecursively)(n.data),o={peer_jid:i.peer_jid,payload:n.data,peer_platform:i.peer_platform,peer_app_version:i.peer_version,epoch_msec:null!=i.t?String(1e3*i.t):void 0,elapsed_msec:null!=i.e?String(1e3*i.e):void 0,is_offline:n.data[1].offline});var s,d=i.call_id,c=null,l=null,u=null;switch(i.type){case E.TYPE.OFFER:if(s=y.CALL_STATES.INCOMING_RING,c=i.isVideoCall,l=i.isGroupCall,u=i.t,v.default.isInitialized()){this.pendingVoipCapChecks[d]=(0,v.checkVoipCapability)(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?_(Object(a),!0).forEach(function(t){(0,r.default)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):_(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},i));var f=n.data[2]&&n.data[2].find(function(e){return"enc"===e[0]});this.pendingOffers[d]=Promise.sit("receivedKey",function(e){return j.default.receiveCallOfferKey(e,f),n}).endWithControls("receivedKey")}break;case E.TYPE.OFFER_RECEIPT:s=y.CALL_STATES.OUTGOING_CALLING;break;case E.TYPE.PREACCEPT:s=y.CALL_STATES.OUTGOING_RING;break;case E.TYPE.ACCEPT_RECEIPT:case E.TYPE.ACCEPT:s=y.CALL_STATES.ACTIVE;break;case E.TYPE.REJECT:s=y.CALL_STATES.REJECTED,m.default.callId===d&&v.default.endCall(),this.cleanupPendingOffer(d);break;case E.TYPE.TERMINATE:s=y.CALL_STATES.ENDED,m.default.callId===d&&v.default.endCall(),this.cleanupPendingOffer(d)}this.pendingVoipCapChecks[d]?this.pendingVoipCapChecks[d].then(function(e){var r;r=!l&&(c?e&&g.default.supportsFeature(g.default.F.DESKTOP_VOIP_VIDEO_CALL):e),t.processIncomingCall(d,n.from,s,{isVideo:c,isGroupCall:l,canHandleLocally:r,offerTime:u}),r&&t.pendingOffers[d]&&a("bfgbdiffgd").default.getWebVoipInternalTester()&&g.default.supportsFeature(g.default.F.DESKTOP_VOIP_VOICE_CALL)?t.pendingOffers[d].then(function(){v.default.handleIncomingSignalingMessage(i,o)}):t.cleanupPendingOffer(d)}).finally(function(){delete t.pendingVoipCapChecks[d]}):this.pendingOffers[d]?(this.processIncomingCall(d,n.from,s),a("bfgbdiffgd").default.getWebVoipInternalTester()&&g.default.supportsFeature(g.default.F.DESKTOP_VOIP_VOICE_CALL)&&this.pendingOffers[d].then(function(){v.default.handleIncomingSignalingMessage(i,o)})):(this.processIncomingCall(d,n.from,s,{isVideo:c,isGroupCall:l,canHandleLocally:!1,offerTime:u}),v.default.isInitialized()&&a("bfgbdiffgd").default.getWebVoipInternalTester()&&g.default.supportsFeature(g.default.F.DESKTOP_VOIP_VOICE_CALL)&&v.default.handleIncomingSignalingMessage(i,o))}else{var h;switch(n.type){case"offer_key":var p=this.pendingOffers[n.id];p?p.control.receivedKey(n.key):b.default.warn("received offer_key: no pending offer")();break;case"accept":h=y.CALL_STATES.ACTIVE,this.cleanupPendingOffer(n.id);break;case"reject":h=y.CALL_STATES.REJECTED,this.cleanupPendingOffer(n.id);break;case"terminate":h=y.CALL_STATES.ENDED,this.cleanupPendingOffer(n.id)}this.processIncomingCall(n.id,void 0,h)}}},{key:"processIncomingCall",value:function(e,t,a,n){var i=n;if(a){var r={id:e};null!=t&&(r.peerJid=t),i&&(i=(0,f.default)(i,function(e){return null==e}),(0,u.default)(r,i)),this.add(r,{merge:!0}),this.assertGet(e).setState(a)}}},{key:"cleanupPendingOffer",value:function(e){delete this.pendingOffers[e]}}]),t}(h.default);t.CallCollection=S,S.model=p.default;var C=new S;t.default=C},bibjgdifc:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=n(a("ddhijeejag")),u=i(a("ifijdebbd")),f=i(a("ddjcbfehh")),h=i(a("ihfccfgdf")),p=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i))))._setRefContainer=function(e){a._refContainer=e},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"getContainer",value:function(){return this._refContainer}},{key:"render",value:function(){var e=this.props.chatPreference;return l.createElement("div",{className:f.default.container,ref:this._setRefContainer},l.createElement("div",{className:f.default.body},l.createElement(u.default,{wallpaperColor:e.wallpaperColor}),this.props.children))}}]),t}(l.Component);p.CONCERNS={chatPreference:["wallpaperColor"]};var g=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,(0,d.default)(t).apply(this,arguments))}return(0,c.default)(t,e),(0,o.default)(t,[{key:"container",get:function(){return this.getComponent().getContainer()}}]),t}((0,h.default)(p,p.CONCERNS));t.default=g},bicbaggehc:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Dir=t.Transition=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=i(a("dbegcaehed")),u=i(a("dhgeffcgbg")),f=i(a("cifjgjcead")),h=n(a("ddhijeejag")),p=i(a("bbchdeehff")),g=i(a("caiifejggg")),m=i(a("ddajbaceej")),b=i(a("eceadcicaf")),v=i(a("dhfbjgicha")),j=a("hjbbdjjdf"),E=i(a("caffijjhc")),y=i(a("dfefggiaaf")),_=i(a("didfdhbecg")),S={LEFT:"drawer-left",MID:"slide-up",NONE:"none",RIGHT:"slide-left"};t.Transition=S;t.Dir={LEFT:"left",MID:"mid",RIGHT:"right"};var C=function(e){return S[e.toUpperCase()]},A=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).state={drawer:void 0,drawerId:null,transition:C(a.props.direction),uim:void 0,option:void 0},a.blockTransition=null,a.flowDismissPending=!1,a.setRefUIE=function(e){a.refUIE=e},a.openFlow=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:C(a.props.direction),n=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,r=(0,f.default)("DrawerManager".concat(a.props.direction));if(!a.flowDismissPending&&a.state.drawer){if(null!=e.key&&(0,u.default)(a.state.drawer.key,e.key))return;a.blockTransition=S.NONE,a.setState({drawer:e,drawerId:r,transition:t,uim:n,option:i},function(){a.blockTransition=t})}else a.props.onDrawerIn&&a.props.onDrawerIn(),a.setState({drawer:e,drawerId:r,transition:t,uim:n,option:i})},a.existsFlow=function(e){e(!0!==a.flowDismissPending&&!!a.state.drawer)},a.closeFlow=function(e){e&&a.state.drawerId!==e||a.state.drawer&&(a.props.onDrawerOut&&a.props.onDrawerOut(),a.flowDismissPending=!0,a.setState({drawer:void 0},function(){a.flowDismissPending=!1}))},a.requestFocus=function(){if(a.refUIE){var e=a.refUIE.getNode();e&&!e.contains(document.activeElement)&&m.default.focus(e)}},a.onAnimationComplete=function(e){var t=a.props.onDrawerAnimationComplete;t&&t();var n=a.state,i=n.option,r=n.drawer;i&&r&&e===a.state.drawerId&&(0,j.isFunction)(i.onEnterAnimationComplete)&&i.onEnterAnimationComplete()},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){this.props.listeners.add(p.default,"open_drawer_".concat(this.props.direction),this.openFlow),this.props.listeners.add(p.default,"exists_drawer_".concat(this.props.direction),this.existsFlow),this.props.listeners.add(p.default,"close_drawer_".concat(this.props.direction),this.closeFlow)}},{key:"componentDidUpdate",value:function(e){this.props.direction!==e.direction&&(e.listeners.remove(p.default,"open_drawer_".concat(e.direction),this.openFlow),e.listeners.remove(p.default,"exists_drawer_".concat(e.direction),this.existsFlow),e.listeners.remove(p.default,"close_drawer_".concat(e.direction),this.closeFlow),this.props.listeners.add(p.default,"open_drawer_".concat(this.props.direction),this.openFlow),this.props.listeners.add(p.default,"exists_drawer_".concat(this.props.direction),this.existsFlow),this.props.listeners.add(p.default,"close_drawer_".concat(this.props.direction),this.closeFlow))}},{key:"render",value:function(){var e=this,t=this.props.direction,a=this.state,n=a.drawer,i=a.drawerId,r=a.transition,o=a.option,s=this.blockTransition||r,d=o&&o.noFocus?null:this.requestFocus;return n&&(n=h.createElement(E.default,{displayName:"Drawer".concat((0,l.default)(t)),escapable:!0,key:i,ref:this.setRefUIE,requestFocus:d,requestDismiss:this.closeFlow.bind(null,i)},h.createElement(v.default,{style:{height:"100%"}},n))),h.createElement(y.default.Consumer,null,function(t){return h.createElement(y.default.Provider,{value:e.state.uim||t},h.createElement(_.default,{className:g.default.container,transitionName:s,onAnimationComplete:e.onAnimationComplete.bind(e,i)},n))})}}]),t}(h.PureComponent),M=(0,b.default)(A);t.default=M},bicbefgjgg:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=n(a("ddhijeejag")),u=i(a("dagibffcjf")),f=i(a("cjijbdhgbf")),h=i(a("biehbcgiib")),p=function(e){function t(e){var a;(0,r.default)(this,t),(a=(0,s.default)(this,(0,d.default)(t).call(this,e)))._handleAspectRatio=function(e){((null==a.state.aspectRatio||0===a.state.aspectRatio)&&e||null!=a.state.aspectRatio&&0!==a.state.aspectRatio&&e&&Math.abs(e-a.state.aspectRatio)>.01)&&a.setState({aspectRatio:e})};var n=(0,f.default)(a.props.ogVideoInfo.previewUrl),i=n.width&&n.height?n.width/n.height:void 0;return a.state={aspectRatio:i},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){return l.createElement(u.default,{aspectRatio:this.state.aspectRatio,previewUrl:this.props.ogVideoInfo.previewUrl,animationStartStyle:this.props.animationStartStyle},l.createElement(h.default,{ogVideoInfo:this.props.ogVideoInfo,startTime:this.props.startTime,onClose:this.props.onClose,onError:this.props.onError,onAspectRatio:this._handleAspectRatio,autoPlay:!0}))}}]),t}(l.Component);t.default=p},bicjggdg:function(e,t){e.exports={canvasComponent:"_3iJaK",canvasEmpty:"_1L19m",canvasSecondRow:"_3ChBw",canvasFirst:"_1uPx1",more:"_2raSX",container:"_26Nvu",galleryEmpty:"_1goQ0",drawer:"_2BqsJ",drawerBody:"aA-bE"}},bidcddiaag:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,a){if(1!==t.rangeCount)return;if(!t.getRangeAt(0).collapsed)return;var n=t.anchorNode,c=t.anchorOffset;if(n&&n===e.refInput){if(-1===(c-=1))return;n=n.childNodes[c],c=n.textContent.length}n=(0,s.default)(n)?d(n):n,(0,i.default)(n,function(e){var t=d(e);return t?[t]:[]},function(e){var t,i;if((0,o.isEmojiEl)(e))return t=r.default.fromNode(e,!0).toPlainString(),a(t,0,t);var s=(i=e===n?e.textContent.slice(0,c):e.textContent).lastIndexOf("\n"),d=s>=0;d&&(i=i.slice(s+1));for(var l=i.length-1;l>=0;l--)if(t=i.charAt(l),a(t,l,i))return!0;return!!d||void 0})};var i=n(a("bbiacghfif")),r=n(a("cebdcdcgja")),o=a("dfcggebdjj"),s=n(a("ccagfiehde"));function d(e){var t=e;do{if((t=t&&t.previousSibling)&&t.nodeType!==Node.TEXT_NODE&&!(0,o.isEmojiEl)(t))return null}while(t&&(0,s.default)(t));return t}},biddahcajc:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MMS_URL_MEDIA_TYPE_SEARCH_PARAM=t.IS_MMS_URL_SEARCH_PARAM=void 0;t.IS_MMS_URL_SEARCH_PARAM="__wa-mms";t.MMS_URL_MEDIA_TYPE_SEARCH_PARAM="mms-type"},bidgicbbjf:function(e,t){e.exports={"-open-menu-width":"110px",openMenuWidth:"110px",menu:"_3GnEH",button:"_1rWTA",open:"_19THG",full:"_1rv_w",closeButton:"_3Kbqm",firstButton:"Kwld2",secondButton:"OoTjh",thirdButton:"_2pZnl"}},biecbbiiee:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.MsgCollection=void 0;var r=i(a("bhabhhjdch")),o=i(a("eaidjcib")),s=i(a("dgcdacjddi")),d=i(a("ffceefejc")),c=i(a("djecdhecha")),l=i(a("cjedcdbdii")),u=i(a("bjehdcaaj")),f=i(a("dbjagcfebh")),h=i(a("cgcgbfbffj")),p=i(a("baagejbchg")),g=i(a("bjigbaghc")),m=a("ddjgcfjicj"),b=a("bfababcidc"),v=i(a("bdiiahhjbe")),j=i(a("cbcbdjdah")),E=i(a("djhiiadbhh")),y=i(a("cffajefeag")),_=i(a("cahfddcdga")),S=a("dfjijdgbhd"),C=n(a("ebggjhghhi")),A=i(a("bhggeigghg")),M=i(a("ggdiceega")),T=a("hjbbdjjdf"),P=i(a("bihdhbjih")),N=i(a("jccfhaecf")),I=a("dcbdjheea"),k=n(a("bgeajihhc"));function O(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}var R=function(e){function t(){var e;return(0,o.default)(this,t),(e=(0,d.default)(this,(0,l.default)(t).call(this))).lastReceivedReceipt={},e.lastReceivedPaymentTransaction={},e.lastReceivedEphemeralRead={},e.preAck={},e.pendingAdd={},e.ftsCache={},e.onSearchTag=function(t){e.pendingSearchTag=t},e.listenTo(k.default,"change:stream",function(){k.default.stream===k.STREAM.DISCONNECTED&&(this.preAck={})}),e.listenTo((0,c.default)(e),"remove",e.removeFromCollection),e}return(0,f.default)(t,e),(0,s.default)(t,[{key:"removeFromCollection",value:function(e){e.chat&&e.chat.removeFromCollection(e)}},{key:"_findQuery",value:function(e,t){var a,n=this;switch(e.direction){case"before":case"after":a=e.direction;break;default:a="before"}var i={add:a,isHistory:!0};return(0,b.msgFindQuery)(a,e,i,t,void 0,this.get(e)).then(function(t){if(t.status>=400)return v.default.error("model:Msg:findQuery error "+t.status)(),Promise.reject(t.status);return t.forEach(function(e){e.invis=!0}),v.default.log("model:Msg:findQuery:got:".concat(t.length,":").concat(e.direction))(),n.processMultipleMessages(e.remote,t,i,function(){var t=n.get(e),a=A.default.Chat.get(e.remote);return t?t.msgChunk:a?a.msgs:void 0})})}},{key:"add",value:function(e,a){var n=(Array.isArray(e)?e:[e]).filter(function(e){return null==e.ephemeralDuration||null==e.ephemeralStartTimestamp||!new j.default(e).isExpired()}),i=(0,u.default)((0,l.default)(t.prototype),"add",this).call(this,n,a);return this._syncTemplateButtonClickState(i),i}},{key:"_syncTemplateButtonClickState",value:function(e){for(var t=this,a=function(a){var n=e[a];if(!n)return"continue";var i=n.chat;if(n.type===p.default.MSG_TYPE.TEMPLATE_BUTTON_REPLY&&null!=n.selectedIndex&&n.sender.equals(g.default.me)){null==i.msgUnsyncedButtonReplyMsgs&&(i.msgUnsyncedButtonReplyMsgs=new E.default);var r=i.msgUnsyncedButtonReplyMsgs,o=n.quotedMsgObj();if(!o)return"continue";var s=r.get(o.id);s||(r.add({id:o.id,unsyncedButtonReplies:new M.default}),s=r.get(o.id));var d=(0,_.default)(s).unsyncedButtonReplies;d.add(n);var c=t.get(o.id);if(c&&c.buttons){var l=c.buttons.get("".concat((0,_.default)(n.selectedIndex)));l&&(l.selected=!0),d.remove(n)}}else if(n.type===p.default.MSG_TYPE.TEMPLATE&&n.buttons){var u=i.msgUnsyncedButtonReplyMsgs;if(null==u)return"continue";var f=u.get(n.id);f&&(f.unsyncedButtonReplies.forEach(function(e){var t=(0,_.default)(n.buttons).get("".concat((0,_.default)(e.selectedIndex)));t&&(t.selected=!0)}),f.unsyncedButtonReplies.delete())}},n=0;n<e.length;n++)a(n)}},{key:"getStarred",value:function(e,t,a,n){var i=this,r={count:"number"!=typeof t||isNaN(t)?p.default.PAGE_SIZE:t,chat:e||void 0,remote:a&&a.remote,id:a&&a.id,fromMe:a&&a.fromMe,participant:a&&a.participant,media:n?"gif":void 0},o={add:"search"};return(0,b.msgFindQuery)("star",r,o).then(function(e){var t=e.status;return e.status>=400?(499===t?v.default.log("model:Msg:getStarred error 499 (unimplemented)")():v.default.error("model:Msg:getStarred error ".concat(t))(),Promise.reject(t)):i.processMultipleMessages(void 0,e,o)})}},{key:"queryVCard",value:function(e){var t=this;return(0,b.queryVCard)(e).then(function(e){return 499===e.status?(v.default.log("model:Msg:queryVCard error 499 (unimplemented)")(),Promise.reject(new m.E499)):t.processMultipleMessages(void 0,e,{add:"search"})})}},{key:"incrementalStarredUpdate",value:function(e){return this.processMultipleMessages(void 0,e,{add:"search"})}},{key:"search",value:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},o="".concat(e,"__").concat(r.label||r.kind||"");if(1!==a||i)return this._search(e,a,n,i,r.label,r.kind);var s=this.ftsCache[o];if(s)return s;var d=this._search(e,a,n,i,r.label,r.kind);this.ftsCache[o]=d;var c=function(){t.ftsCache[o]=null};return setTimeout(c,p.default.FTS_TTL),d.catch(c),d}},{key:"_search",value:function(e,t,a,n,i,r){var o=this,s={searchTerm:e,page:(0,T.isNumber)(t)&&0!==t?t:1,count:(0,T.isNumber)(a)&&0!==a?a:p.default.PAGE_SIZE,remote:n,tagToCancel:n?this.pendingSearchTag:void 0,label:i,kind:r},d={add:"search"};return(0,b.msgFindQuery)("search",s,d,void 0,this.onSearchTag).then(function(e){if(s.tagToCancel===o.pendingSearchTag&&(o.pendingSearchTag=void 0),499===e.status)return Promise.props({messages:Promise.resolve([]),eof:!1,canceled:!0});if(404===e.status)return Promise.reject(new m.E404);if(e.status>=400)return v.default.error("model:Msg:search error "+e.status)(),Promise.reject(e.status);var t=Array.isArray(e)?e:e.messages,a=!!Array.isArray(e)||e.eof;return Promise.props({messages:o.processMultipleMessages(void 0,t,d),eof:a,canceled:!1})})}},{key:"queryMedia",value:function(e,t,a,n,i){var r=this,o={remote:e,count:(0,T.isNumber)(t)&&0!==t?t:p.default.PAGE_SIZE,id:n&&n.id,fromMe:n&&n.fromMe,participant:n&&n.participant,direction:a||"before",media:i},s={add:"search"};return(0,b.msgFindQuery)("media",o,s).then(function(e){return e.status>=400?(v.default.error("model:Msg:media error "+e.status)(),Promise.reject(e.status)):i?r.processMultipleMessages(void 0,e,{add:"search"}):Promise.props({docCount:e.docCount,linkCount:e.linkCount,mediaCount:e.mediaCount,messages:r.processMultipleMessages(void 0,e.messages,s)})})}},{key:"getContext",value:function(e,t,a){var n=this,i=this.get(e);if(i)return Promise.all([(0,b.msgFindQuery)("before",e,{add:"before",isHistory:!0},a),(0,b.msgFindQuery)("after",e,{add:"after",isHistory:!0},a)]).spread(function(a,r){return Array.isArray(a)&&Array.isArray(r)?(i.search=!1,Promise.all([n.processMultipleMessages(e.remote,a,{add:"before",isHistory:!0},t),n.processMultipleMessages(e.remote,r,{add:"after",isHistory:!0},t)])):(v.default.error("model:msg:getContext fetch error",a,r)(),Promise.reject(a.status||r.status))});var r={add:"after",isHistory:!0};return(0,b.msgFindQuery)("after",e,r,a).then(function(a){return Array.isArray(a)?N.default.isStatusV3(a[0].id.remote)?Promise.reject("statusV3, stop querying before the msg"):n.processMultipleMessages(e.remote,a,r,t):(v.default.error("model:msg:getContext:after fetch error",a)(),Promise.reject(a.status))}).then(function(t){var i=(0,_.default)(t[0]),r=i.id.clone();r.count=e.count+1;var o={add:"before",isHistory:!0};return Promise.all([(0,b.msgFindQuery)("before",r,o,a).then(function(t){if(!Array.isArray(t))return v.default.error("model:msg:getContext:before fetch error",t)(),Promise.reject(t.status);if(!t[t.length-1].id.equals(e))return v.default.error("model:msg:getContext:before ctx message mismatch",t)(),Promise.reject(405);return n.processMultipleMessages(e.remote,t,o,function(){return i.msgChunk})}),Promise.resolve(t)])})}},{key:"hasSynced",value:function(){return C.waitForBBEvent(this,p.default.COLLECTION_HAS_SYNCED)}},{key:"delete",value:function(){(0,u.default)((0,l.default)(t.prototype),"delete",this).call(this),this.lastReceivedReceipt={},this.lastReceivedPaymentTransaction={},this.lastReceivedEphemeralRead={},this.preAck={}}},{key:"getKeysForResyncReceipts",value:function(){var e=[],t=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?O(Object(a),!0).forEach(function(t){(0,r.default)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):O(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},this.lastReceivedReceipt,{},this.lastReceivedPaymentTransaction,{},this.lastReceivedEphemeralRead);for(var a in t){var n=(0,I.createWid)(a),i=A.default.Chat.get(n),o=void 0;if(i&&(o=i.getFirstMsgWithStatus()),o){var s=o.id;s.t=Math.max(this.lastReceivedReceipt[n],this.lastReceivedEphemeralRead[n])||o.t||0,s.payT=this.lastReceivedPaymentTransaction[n],e.push(s)}else v.default.error("Msg:resyncReceipts wid in lastReceivedReceipt, but no msg: "+n.toString())()}return e}},{key:"resyncReceipts",value:function(){var e=this;v.default.log("Msg:resyncReceipts")();var t=this.getKeysForResyncReceipts();return 0===t.length?Promise.resolve():P.default.resyncReceipts(t).then(function(t){Array.isArray(t)?(v.default.log("Msg:resyncReceipts success")(),t.forEach(function(t){e.updateLastReceipt(t.id,t.t),e.updateLastTransactionTime(t.id,t.payT),t.acks.forEach(function(a){var n=a.id,i=a.fromMe,r=a.participant,o=a.status,s=a.t;if(null!=n&&null!=i&&null!=o){var d=new y.default({fromMe:i,remote:t.id,id:n,participant:r}),c=e.get(d);c&&(c.isEphemeral&&s?c.updateEphemeralStartTimestamp(s):c.updateAck(o))}else v.default.error("Msg:resyncReceipts invalid response: "+JSON.stringify(a))()}),t.msgs.length>0&&e.processMultipleMessages(t.id,t.msgs,{update:!0,isHistory:!1}).catch(m.LogoutDrop,function(){})})):v.default.error("Msg:resyncReceipts error",t)()}).catch(m.LogoutDrop,m.EphemeralDrop,m.BrowserReplacedDrop,function(){}).catch(function(e){throw v.default.error("Msg:resyncReceipts dropped ".concat(String(e)," ").concat(e?e.stack:"no stack"))(),new Error("Msg:resyncReceipts dropped")})}},{key:"updateLastReceipt",value:function(e,t){var a=this.lastReceivedReceipt[e];t&&(!a||t>a)&&(this.lastReceivedReceipt[e]=t)}},{key:"updateLastTransactionTime",value:function(e,t){var a=this.lastReceivedPaymentTransaction[e];t&&(!a||t>a)&&(this.lastReceivedPaymentTransaction[e]=t)}},{key:"updateLastEphemeralRead",value:function(e,t){var a=this.lastReceivedEphemeralRead[e];t&&(!a||t>a)&&(this.lastReceivedEphemeralRead[e]=t)}},{key:"processMultipleMessages",value:function(e,t,a,n){var i=this,r=function(){return(0,S._processMultipleMessages)(e,t,a,n)};if(e){var o,s=this.pendingAdd[e];return(o=s?s.then(r):r()).finally(function(){e&&i.pendingAdd[e]===o&&(i.pendingAdd[e]=null)}).catch(function(){}),this.pendingAdd[e]=o}return r()}},{key:"markAllAsStale",value:function(){this.forEach(function(e){return e.unset("recvFresh")})}}]),t}(h.default);t.MsgCollection=R,R.model=j.default;var w=new R;t.default=w},biedfadfag:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ProductImageCollection=void 0;var i=n(a("eaidjcib")),r=n(a("dgcdacjddi")),o=n(a("ffceefejc")),s=n(a("cjedcdbdii")),d=n(a("bjehdcaaj")),c=n(a("dbjagcfebh")),l=n(a("cgcgbfbffj")),u=n(a("diafggiefe")),f=function(e){function t(){return(0,i.default)(this,t),(0,o.default)(this,(0,s.default)(t).apply(this,arguments))}return(0,c.default)(t,e),(0,r.default)(t,[{key:"toArray",value:function(){var e=this;return(0,d.default)((0,s.default)(t.prototype),"filter",this).call(this,function(t){return t.old&&e.remove(t),t})}}]),t}(l.default);t.ProductImageCollection=f,f.model=u.default;var h=f;t.default=h},biehbcgiib:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=n(a("ddhijeejag")),u=a("cgecdbiihg"),f=i(a("beddiafhbh")),h=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,(0,d.default)(t).apply(this,arguments))}return(0,c.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){return l.createElement(f.default,{type:u.PLAYER_TYPE.OG_FLOATER,ogVideoInfo:this.props.ogVideoInfo,startTime:this.props.startTime,onClose:this.props.onClose,onVideoEnded:this.props.onVideoEnded,onError:this.props.onError,onAspectRatio:this.props.onAspectRatio,autoPlay:this.props.autoPlay})}}]),t}(l.PureComponent);t.default=h},bieicghjif:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("bjehdcaaj")),l=i(a("dbjagcfebh")),u=n(a("ddhijeejag")),f=a("ccihhdchab"),h=n(a("dcaifjegcg")),p=i(a("dbdfbgehgj")),g=i(a("bbchdeehff")),m=i(a("bjigbaghc")),b=a("ddjgcfjicj"),v=n(a("cajijabhgb")),j=i(a("bdiiahhjbe")),E=i(a("gabccaieg")),y=i(a("bihdhbjih")),_=i(a("jccfhaecf")),S=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).id=(0,h.prop)(),a.duration=(0,h.prop)(),a.participants=(0,h.collection)(E.default),a.active=(0,h.session)(!1),a.keepAliveTimer=(0,h.session)(),a.stopPromise=(0,h.session)(),a}return(0,l.default)(t,e),(0,o.default)(t,[{key:"initialize",value:function(){var e=this;(0,c.default)((0,d.default)(t.prototype),"initialize",this).call(this),this.listenTo(this.participants,"remove reset",function(){e.hasParticipants()||e.delete()});var a=p.default.get(this.id);a&&!a.liveLocation&&(a.liveLocation=this)}},{key:"delete",value:function(){(0,c.default)((0,d.default)(t.prototype),"delete",this).call(this),this.stopViewingMap(),this.participants.delete(),this.getCollection().remove(this.id);var e=p.default.get(this.id);e&&(e.liveLocation=void 0)}},{key:"hasParticipants",value:function(){return this.participants.length>0}},{key:"startViewingMap",value:function(){this.active||(this.active=!0,this._updateLiveLocations(),this._startKeepAlive())}},{key:"stopViewingMap",value:function(){this.active&&(this.active=!1,this._pauseLiveLocations(),this._stopKeepAlive())}},{key:"userHasLiveLocation",value:function(e){return!!this.participants.get(e)}},{key:"iHaveLiveLocation",value:function(){return this.userHasLiveLocation(m.default.me)}},{key:"stopMyLiveLocation",value:function(e){var t=this;if(!this.iHaveLiveLocation())return Promise.reject(new v.ActionError);if(this.stopPromise)return this.stopPromise;var a=this.stopPromise=y.default.disableLiveLocation(this.id),n=new f.ActionType(l10n.t(96)),i=e||(0,f.genId)(),r=a.then(function(e){return 200===e.status?new f.ActionType(l10n.t(95)):e.status>=400?new f.ActionType(l10n.t(92)):void 0}).catch(function(e){return j.default.error("models:liveLocation:disableLiveLocation dropped")(e),new f.ActionType(l10n.t(92),l10n.t(155),t.stopMyLiveLocation.bind(t,i))});return g.default.openToast(u.createElement(f.ActionToast,{id:i,initialAction:n,pendingAction:r})),a.then(function(e){if(200===e.status&&!e._duplicate){var a=t.participants.get(m.default.me);a&&a.disable()}}).finally(function(){t.stopPromise=null})}},{key:"_updateLiveLocations",value:function(){this.getCollection().update(this.id).catch(function(){})}},{key:"_pauseLiveLocations",value:function(){y.default.unsubscribeLiveLocation(this.id).catch(b.WapDrop,function(){})}},{key:"_sendKeepAlive",value:function(){y.default.subscribeLiveLocation(this.id,!1).catch(b.WapDrop,function(){})}},{key:"_startKeepAlive",value:function(){if(null==this.keepAliveTimer){var e=this.duration;null!=e&&0!==e&&(this.keepAliveTimer=window.setInterval(this._sendKeepAlive.bind(this),1e3*e))}}},{key:"_stopKeepAlive",value:function(){null!=this.keepAliveTimer&&(window.clearInterval(this.keepAliveTimer),this.keepAliveTimer=null)}},{key:"getCollection",value:function(){return a("cdcijfdgje").default}}]),t}(h.default);S.Proxy="liveLocation",S.idClass=_.default;var C=(0,h.defineModel)(S);t.default=C},bifahbdaeg:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=n(a("ddhijeejag")),u=i(a("dgibicjjj")),f=a("cgejchjdhj"),h=i(a("ddajbaceej")),p=n(a("dhfbfehaef")),g=i(a("dgiechcbec")),m=i(a("eceadcicaf")),b=i(a("ihfccfgdf")),v=a("bheafeifce"),j=i(a("cbeecgcage")),E=a("hjbbdjjdf"),y=i(a("bcifhbgija")),_=function(e){function t(e){var a;(0,r.default)(this,t),(a=(0,s.default)(this,(0,d.default)(t).call(this,e))).onActiveChange=function(e,t){if("focus"===e){var n=a._refHotKeys;h.default.focus(n),t&&n&&(0,f.scrollIntoViewIfNeeded)(n)}a.setState({active:!!e})},a.onClick=function(e){if((0,E.isFunction)(a.props.onClick)){var t=(0,v.unproxy)(a.props.msg),n=t.chat,i=n.getSearchContext(t);i.msg=t,a.props.onClick(e,n,i)}},a.onEnter=function(e){e.preventDefault(),e.stopPropagation(),(0,p.shouldIndicateFocus)(),a.onClick(e)},a.indicateFocus=function(e){var t;null===(t=a._refCell)||void 0===t||t.indicateFocus(a.onBlur)},a.onBlur=function(e){if(a._refCell){var t=a._refCell.getCellFrameDivRef();t&&((0,y.default)(t,"stop"),t.style.backgroundColor="")}},a.contextEnabled=function(){return!1},a._setRefCell=function(e){a._refCell=e},a._setRefHotKeys=function(e){a._refHotKeys=e};var n=e.msg,i=e.active;return a.state={active:!!i&&i.value===n},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){this.props.active&&this.props.listeners.add(this.props.active,this.props.msg.id.toString(),this.onActiveChange)}},{key:"render",value:function(){var e=this.props,t=e.msg,a=e.author,n=l.createElement(j.default,{msg:t}),i=l.createElement(g.default,{msg:t,msgType:"Search",author:a,searchQuery:this.props.searchText?[this.props.searchText]:[]}),r={enter:this.onEnter};return l.createElement(p.default,{handlers:r,onFocus:this.indicateFocus,onBlur:this.onBlur,onRef:this._setRefHotKeys},l.createElement(u.default,{ref:this._setRefCell,contextEnabled:this.contextEnabled,theme:"chat-search",active:!!this.state.active,primaryDetail:n,secondary:i,primary:void 0,onClick:this.onClick}))}}]),t}(l.Component);_.CONCERNS={msg:["id","chat","isSentByMe","senderObj","rtl","dir","type"]};var S=(0,m.default)((0,b.default)(_,_.CONCERNS));t.default=S},bifbhbbiie:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=i(a("dfacahcafg")),u=n(a("ddhijeejag")),f=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,(0,d.default)(t).apply(this,arguments))}return(0,c.default)(t,e),(0,o.default)(t,[{key:"_renderColumns",value:function(){var e=this,t=this.props,a=t.numColumns,n=t.numItems,i=t.offset,r=t.renderItem,o=t.selectedIndex,s=0,d=n-a;return 1===i&&(a+=1,s=-1),i===d-1&&(a+=1),(0,l.default)(a,function(t){var a=t+s+i;return a<0?null:a>=n?null:r(a,a===o,e.props.menuWidth)})}},{key:"render",value:function(){return u.createElement(u.Fragment,null,this._renderColumns())}}]),t}(u.PureComponent);t.default=f},bifgjibich:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.logFilterEvent=function(e){new i.default.QuickReply({quickReplyAction:i.default.QUICK_REPLY_ACTION.ACTION_CHAT_IMPRESSION,quickReplyCount:e}).commit()},t.logSelectEvent=function(){new i.default.QuickReply({quickReplyAction:i.default.QUICK_REPLY_ACTION.ACTION_CHAT_CLICK,quickReplyKeywordMatched:!1}).commit()},t.logCancelEvent=function(){new i.default.QuickReply({quickReplyAction:i.default.QUICK_REPLY_ACTION.ACTION_CHAT_CLICK_CANCEL}).commit()};var i=n(a("bfbggcdbfb"))},bifjfdedi:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=n(a("ddhijeejag")),u=i(a("dhgeaaaega")),f=i(a("fifhbjiec")),h=i(a("dgiechcbec")),p=i(a("ihfccfgdf")),g=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,(0,d.default)(t).apply(this,arguments))}return(0,c.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=this.props,t=e.chat,a=e.presence;if(a.isActive()){var n=a.getFormattedString();if(n)return l.createElement(f.default,{className:u.default.chatstateTyping,direction:"inherit",ellipsify:!0,titlify:!0,text:n})}var i=t.previewMessage;return i?l.createElement(h.default,{msg:i,msgType:"LastMessage"}):null}}]),t}(l.PureComponent);g.displayName="ChatStateInfo",g.CONCERNS={chat:["previewMessage"],chatstate:["id","type"]},g.WEAK_CONCERNS={presence:["hasData","withholdDisplay"]};var m=(0,p.default)(g,g.CONCERNS,g.WEAK_CONCERNS);t.default=function(e){var t=e.chat;return l.createElement(m,{chat:t,presence:t.presence,chatstate:t.presence.chatstate})}},bigcibhibh:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=i(a("ceffhbhahb")),u=n(a("ddhijeejag")),f=i(a("dadagidhdg")),h=i(a("bfdcadbbif")),p=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,(0,d.default)(t).apply(this,arguments))}return(0,c.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){return u.createElement("div",{className:(0,l.default)(f.default.closeBtn,{[f.default.fullscreen]:this.props.isFullscreenMode}),onClick:this.props.onClick},u.createElement(h.default,{name:"video-x"}))}}]),t}(u.PureComponent);t.default=p},bigeebbfbi:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.hydrateMessage=function(e){var t=r.default.fromString(e.id);return(function e(t){if(Array.isArray(t))return t.map(function(t,a){return e((0,i.default)(a,t,o.isWidlike,o.createWidFromWidLike))});if(t&&"object"==typeof t){for(var a=Object.keys(t),n=0;n<a.length;n++){var r=a[n];t[r]=e((0,i.default)(r,t[r],o.isWidlike,o.createWidFromWidLike))}return t}return t}(e)).id=t,e};var i=n(a("eecdaegci")),r=n(a("cffajefeag")),o=a("dcbdjheea")},bigicfbcdh:function(e,t,a){"use strict";var n=a("cfjecfhbfg"),i=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return r.createElement("div",{className:e.inactive?o.default.inactive:o.default.offline,onClick:e.onClick},r.createElement("div",null,r.createElement("div",{className:o.default.circle},r.createElement(s.default,{name:e.svgName})),r.createElement("div",{className:o.default.text},e.text)))};var r=i(a("ddhijeejag")),o=n(a("daahhbhaaf")),s=n(a("bfdcadbbif"))},bihbdchfhc:function(e,t){e.exports={hasText:"_3ZzfG",noText:"_1llsm",quote:"T55bS",hasAuthor:"_2zxsH",forwarded:"_2cLXT"}},bihdbbidff:function(e,t){e.exports={container:"_2fsn0",popupPanel:"QRsOy",wrapper:"aNhVd",emojiIcon:"_2dEi2",sendIcon:"_2Oy0E",lineWrapper:"_2Gbfq"}},biheibdage:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ATTACH_MEDIA_STATE=void 0;var r=i(a("bhabhhjdch")),o=i(a("eaidjcib")),s=i(a("dgcdacjddi")),d=i(a("ffceefejc")),c=i(a("cjedcdbdii")),l=i(a("bjehdcaaj")),u=i(a("dbjagcfebh")),f=n(a("dcaifjegcg")),h=n(a("cajijabhgb")),p=a("cgffhfegce"),g=i(a("bdiiahhjbe")),m=a("ddgbhifaji"),b=i(a("cieaaiahhf")),v=a("bfbggcdbfb"),j=a("cbcbdjdah"),E=i(a("beeieigghj"));function y(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}var _={READY:"ready",PROCESSING:"processing",ERROR:"error"};t.ATTACH_MEDIA_STATE=_;var S=function(e){function t(){var e,a;(0,o.default)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=(0,d.default)(this,(e=(0,c.default)(t)).call.apply(e,[this].concat(i)))).id=(0,f.prop)(),a.file=(0,f.prop)(),a.uiProcessed=(0,f.prop)(!1),a.fileOrigin=(0,f.prop)(),a.state=(0,f.session)(),a.mediaPrep=(0,f.session)(),a.mimetype=(0,f.session)(),a.originalMimetype=(0,f.session)(),a.processPromise=(0,f.session)(),a.exception=(0,f.session)(),a.caption=(0,f.session)(),a.type=(0,f.session)(j.TYPE.UNKNOWN),a.preview=(0,f.session)(),a.fullPreview=(0,f.session)(),a.fullPreviewSize=(0,f.session)(),a.filename=(0,f.session)(),a.pdfPages=(0,f.session)(),a.isGif=(0,f.session)(),a.gifAttribution=(0,f.session)(),a.previewable=(0,f.derived)(a._previewable,["preview","fullPreview","type","filename","fullPreviewSize","mimetype"]),a}return(0,u.default)(t,e),(0,s.default)(t,[{key:"_previewable",value:function(){if(!this.type||!this.mimetype||!this.fullPreview)return!1;switch(this.type){case j.TYPE.DOCUMENT:return!!this.filename;case j.TYPE.IMAGE:case j.TYPE.VIDEO:return!(!this.fullPreviewSize||!this.preview);case j.TYPE.AUDIO:case j.TYPE.PTT:case j.TYPE.UNKNOWN:return!0;default:throw new Error("Unsupported attach media type ".concat(this.type))}}},{key:"initialize",value:function(){if((0,l.default)((0,c.default)(t.prototype),"initialize",this).call(this),!(this.file instanceof Promise))throw new Error("cannot process non-promise file");this.processAttachment(this.file)}},{key:"processAttachment",value:function(e){this.state=_.PROCESSING,this.processPromise=this._processAttachmentPromiseHelper(e)}},{key:"_processAttachmentData",value:function(e){if(this.fileOrigin===v.MEDIA_PICKER_ORIGIN_TYPE.CHAT_PHOTO_LIBRARY){var t=e.file.name;return(0,p.copyFile)(e.file).then(function(a){return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?y(Object(a),!0).forEach(function(t){(0,r.default)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):y(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},e,{filename:t,file:a})})}return Promise.resolve(e)}},{key:"_processAttachmentPromiseHelper",value:function(e){var t=this;return e.then(function(e){return t._processAttachmentData(e)}).then(function(e){t.set(e);var a={},n=e.file,i=e.filename,r=e.isGif,o=e.gifAttribution;r?(a.asGif=!0,a.gifAttribution=o):e.type===p.FILETYPE.DOCUMENT&&(a.asDocument=!0,a.filename=i),a.precomputedFields={fullHeight:e.fullPreviewSize?e.fullPreviewSize.height:void 0,fullWidth:e.fullPreviewSize?e.fullPreviewSize.width:void 0,preview:e.preview,duration:e.duration};var s=E.default.createFromData(n,n.type),d=(0,m.prepRawMedia)(s,a);return t.set({mediaPrep:d}),d.waitForPrep().then(function(a){var n=a.documentPreview,i=window.URL.createObjectURL(a.mediaBlob),r={file:a.mediaBlob,fullPreview:i,type:a.type,filename:a.filename,mimetype:a.mimetype,originalMimetype:e.mimetype,preview:a.preview,state:_.READY,isGif:a.isGif,fullPreviewSize:void 0,pdfPages:void 0};a.fullWidth&&a.fullHeight&&(r.fullPreviewSize={height:a.fullHeight,width:a.fullWidth}),a.type===j.TYPE.IMAGE&&(r.preview=i),a.type===j.TYPE.DOCUMENT&&n&&(r.fullPreview=n.url,r.preview=n.thumbUrl,r.fullPreviewSize={height:n.height,width:n.width},r.pdfPages=n.pdfPages),t.set(r),g.default.assert(t.previewable,"AttachMedia processFile","Invariant violated, processed file is not previewable")()})}).catch(h.InvalidMediaFileType,h.InvalidImageFileType,function(a){if(t.isGif||t.type===p.FILETYPE.DOCUMENT)throw a;return t._processAttachmentPromiseHelper(e.then(function(e){return e.type=p.FILETYPE.DOCUMENT,e}))}).catch(b.default,h.MediaFileFailedLoad,h.MediaFileEmpty,function(e){return t.set({exception:e,state:_.ERROR}),t}).catch(function(e){return g.default.warn("AttachMedia:processFile convert unexpected error to InvalidMediaFileType:")(e),t.set({exception:new h.InvalidMediaFileType,state:_.ERROR}),t})}},{key:"sendToChat",value:function(e,t){if(!this.mediaPrep)throw new Error("MediaPrep not available");if(this.state===_.ERROR)throw new Error(this.exception);if(!(this.state!==_.PROCESSING||this.previewable&&t.addEvenWhilePreparing))throw new Error("Media still processing");if(this.state!==_.READY){var a={mimetype:this.mimetype};switch(this.type){case j.TYPE.VIDEO:a.isGif=this.isGif,a.gifAttribution=this.gifAttribution;case j.TYPE.IMAGE:a.width=this.fullPreviewSize.width,a.height=this.fullPreviewSize.height,a.body=this.preview,t.placeholderProps=a;break;case j.TYPE.DOCUMENT:a.pageCount=this.pdfPages,a.filename=this.filename,a.body=this.preview,t.placeholderProps=a;break;case j.TYPE.AUDIO:case j.TYPE.PTT:}this.mediaPrep.sendToChat(e,t)}else this.mediaPrep.sendToChat(e,t)}},{key:"getFileType",value:function(){if(!(this.file instanceof Blob||this.file instanceof File))throw new Error("expected file to be a Blob or File");return(0,p.typeFromMimetype)(this.file.type)}},{key:"delete",value:function(){this.fullPreview&&window.URL.revokeObjectURL(this.fullPreview),(0,l.default)((0,c.default)(t.prototype),"delete",this).call(this)}}]),t}(f.default);S.Proxy="attachMedia";var C=(0,f.defineModel)(S);t.default=C},bihjahgcja:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("eaidjcib")),r=n(a("ffceefejc")),o=n(a("cjedcdbdii")),s=n(a("dbjagcfebh")),d=function(e){function t(e){var a;return(0,i.default)(this,t),(a=(0,r.default)(this,(0,o.default)(t).call(this))).reasons=e,a}return(0,s.default)(t,e),t}((0,n(a("iffjgahba")).default)("ForwardError"));t.default=d},biigiejiib:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.sendQueryGroup=function(e){var t;if(r.default.supportsFeature(r.default.F.MD_BACKEND))return Promise.reject(new Error("queryGroup: not supported when not build with MD_BACKEND"));t=u.default.groupMetadataFind(e);return t.then(function(t){if(t.id)return function(e,t){(0,d.isString)(t)&&s.default.Contact.find(e).then(function(e){if(!e.name){var a={name:t};(0,l.updateLocal)(e.id,a).then(function(){e.set(a)})}})}(e,t.subject),(0,c.updateParticipants)(t.id,t.participants).then(function(){return{id:t.id,owner:t.owner,creation:t.creation,desc:t.desc,descId:t.descId,descOwner:t.descOwner,descTime:t.descTime,restrict:t.restrict,announce:t.announce,noFrequentlyForwarded:t.noFrequentlyForwarded,ephemeralDuration:t.ephemeralDuration,participants:t.participants}});o.default.warn("Store:GroupMetadata Unexpected server response")(t)}).catch(i.ServerStatusCodeError,function(t){if(t.status>=400)return{id:e,stale:!1}})},t.sendQueryGroupInvite=function(e){var t;if(r.default.supportsFeature(r.default.F.MD_BACKEND))return Promise.reject(new Error("queryGroup: not supported when not build with MD_BACKEND"));t=u.default.groupInviteInfo(e).then(function(e){return 200!==e.status?Promise.reject(new i.ServerStatusCodeError(e.status)):e});return t},t.groupMetadataFindFromPhone=function(e){if(r.default.supportsFeature(r.default.F.MD_BACKEND))return Promise.reject(new Error("groupMetadataFindFromPhone: not supported in MD_BACKEND mode"));return u.default.groupMetadataFindFromPhone(e)};var i=a("ddjgcfjicj"),r=n(a("bjbdcigbdi")),o=n(a("bdiiahhjbe")),s=n(a("bhggeigghg")),d=a("hjbbdjjdf"),c=a("hhcfehghc"),l=a("dcjbdhhjge"),u=n(a("bihdhbjih"))},biiiheaiih:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.reconnect=void 0;var r=i(a("eaidjcib")),o=n(a("dcdiaahjj")),s=i(a("bgeajihhc")),d=(new function e(){var t=this;(0,r.default)(this,e),this.isReconnecting=!1,this.reconnectIfDisconnected=function(){t.isReconnecting||o.default.displayInfo!==o.StreamInfo.OFFLINE||(t.isReconnecting=!0,s.default.poke(),s.default.summary(),setTimeout(function(){return t.isReconnecting=!1},3e3))}}).reconnectIfDisconnected;t.reconnect=d},biijfeijcb:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.findEmojiRowAt=M,t.getNumColumns=T,t.default=t.TOTAL_SEARCH_HEIGHT=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=i(a("ciajhadgcb")),u=n(a("ddhijeejag")),f=i(a("dgbjhghjfc")),h=n(a("dfihaffaee")),p=i(a("bheebijggd")),g=i(a("bbhhbdicgc")),m=i(a("cicjcfabii")),b=i(a("bggeiidigb")),v=i(a("ecdffdifib")),j=i(a("ehjcaiibe")),E=i(a("bcifhbgija")),y=parseInt(j.default["-total-search-height"],10);t.TOTAL_SEARCH_HEIGHT=y;var _=parseInt(j.default["-title-height"],10),S={[p.default.SEARCH_RESULT]:function(){throw new Error("Search results should not be shown with a title.")},[p.default.RECENT]:function(){return l10n.t(421)},[f.default.SMILEYS_PEOPLE]:function(){return l10n.t(422)},[f.default.ANIMALS_NATURE]:function(){return l10n.t(416)},[f.default.FOOD_DRINK]:function(){return l10n.t(418)},[f.default.ACTIVITY]:function(){return l10n.t(415)},[f.default.TRAVEL_PLACES]:function(){return l10n.t(424)},[f.default.OBJECTS]:function(){return l10n.t(420)},[f.default.SYMBOLS]:function(){return l10n.t(423)},[f.default.FLAGS]:function(){return l10n.t(417)}},C=0;C=parseInt(j.default["-scrollbar-width"].replace(/px$/,""),10);var A=function(e){function t(e){var a;return(0,r.default)(this,t),(a=(0,s.default)(this,(0,d.default)(t).call(this,e)))._rowComponents=new Map,a._flatListController=new b.default,a._renderBlanks=!1,a._getRowsAndSectionDataMemoized=(0,v.default)(function(e){var t=e.numColumns,a=e.data,n=e.showTitles,i=y,r={},o=[];return a.forEach(function(e,s){var d=e.sectionId,c=e.emojiIds,u=0,f=i;if(0!==c.length){n&&(o.push({kind:"title",itemKey:"section_".concat(d,"_title"),index:o.length,title:S[d](),sectionId:d,height:_,offsetTop:i}),u+=_,i+=_);var p=(0,l.default)(c,t),g=s===a.length-1;p.forEach(function(e,t){var a=t===p.length-1&&!g?h.EMOJI_HEIGHT+parseInt(j.default["-section-bottom-margin"],10):h.EMOJI_HEIGHT;o.push({kind:"emojis",itemKey:"section_".concat(d,"_emoji_").concat(t),index:o.length,emojiIds:e,sectionId:d,height:a,offsetTop:i}),u+=a,i+=a}),r[d]={height:u,offsetTop:f}}}),{rows:o,sectionData:r}}),a._handleEmojiFocus=function(e){var t=a._refScrollContainer;t&&a.props.onEmojiFocus(e,t)},a._handleScroll=function(e){a._animationFrameID||(a._animationFrameID=requestAnimationFrame(a._handleScrollOnAnimationFrame))},a._handleScrollOnAnimationFrame=function(){if(delete a._animationFrameID,a._refScrollContainer){var e=a._refScrollContainer.scrollTop;a.props.onScroll&&a.props.onScroll(e);var t=a._getSectionIdFromScrollTop(e);t&&a.props.onSection&&a.props.onSection(t)}},a._setRefScrollContainer=function(e){a._refScrollContainer=e},a._renderRow=function(e){switch(e.kind){case"title":return u.createElement("div",{className:j.default.title},e.title);case"emojis":return u.createElement(h.default,{emojiIds:e.emojiIds,focusAbove:function(t){a._focusEmojiAt(e.index,-1,t)},focusBelow:function(t){a._focusEmojiAt(e.index,1,t)},numColumns:a._getNumColumns(),onEmoji:a.props.onEmoji,onEmojiFocus:a._handleEmojiFocus,ref:function(t){t?a._rowComponents.set(e.itemKey,t):a._rowComponents.delete(e.itemKey)},allowVariantPrompt:e.sectionId!==p.default.RECENT});default:throw e.kind,new Error("Invalid row kind: ".concat(e.kind))}},a._getRowsAndSectionData(),a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){this._refScrollContainer&&this._refScrollContainer.scrollTop!==this.props.initialScrollTop&&(this._refScrollContainer.scrollTop=this.props.initialScrollTop)}},{key:"focusFirstVisibleEmoji",value:function(e){var t=this._getFirstVisibleEmojiRowComponent(e||0);t&&t.focusEmojiAt(0)}},{key:"scrollToSection",value:function(e,t){var a=this,n=t||0,i=this._refScrollContainer;if(!i)return Promise.resolve();var r=this._getRowsAndSectionData().sectionData[e];if(!r)return Promise.resolve();var o=r.offsetTop;if(i.scrollTop===o)return Promise.resolve();if(this._activeAnimation){if(this._activeAnimation.sectionId===e)return this._activeAnimation.promise;(0,E.default)(this._activeAnimation.scrollTarget,"stop"),this._activeAnimation&&this._activeAnimation.promise.cancel()}if(i.scrollTop===o)return Promise.resolve();var s=document.createElement("div");s.style.position="absolute",s.style.top="".concat(o+n,"px"),s.style.left="0px",i.appendChild(s);var d=(0,E.default)(s,"scroll",{container:i,duration:300,easing:[.99,.13,.13,.99]}).then(function(){}).delay(100);return this._activeAnimation={promise:d,sectionId:e,scrollTarget:s},d.finally(function(){i.removeChild(s),a._activeAnimation&&a._activeAnimation.promise===d&&delete a._activeAnimation}),d}},{key:"scrollToTop",value:function(){this._refScrollContainer&&(this._refScrollContainer.scrollTop=0)}},{key:"selectFirstVisibleEmoji",value:function(e){var t=this._getFirstVisibleEmojiRowComponent(e||0);t&&t.selectFirstEmoji()}},{key:"_getCurrentSearchInputHeight",value:function(){return this.props.searchInputVisible?y:0}},{key:"_getNumColumns",value:function(){return T(this.props.width)}},{key:"_getRowsAndSectionData",value:function(){return this._getRowsAndSectionDataMemoized({numColumns:this._getNumColumns(),data:this.props.data,showTitles:this.props.showTitles})}},{key:"_getFirstVisibleEmojiRowComponent",value:function(e){if(this._refScrollContainer){var t=this._refScrollContainer.scrollTop+e,a=this._getEmojiRowFromScrollTop(t);if(a)return this._rowComponents.get(a.itemKey)}}},{key:"_getEmojiRowFromScrollTop",value:function(e){return this._getRowsAndSectionData().rows.map(function(e){return"emojis"===e.kind?e:null}).filter(Boolean).find(function(t){return t.offsetTop+t.height>e})}},{key:"_getSectionIdFromScrollTop",value:function(e){var t=this._getEmojiRowFromScrollTop(e+this._getCurrentSearchInputHeight());if(t)return t.sectionId}},{key:"_focusEmojiAt",value:function(e,t,a){var n=M(this._getRowsAndSectionData().rows,e,t);if(n){var i=this._rowComponents.get(n.itemKey);i&&i.focusEmojiAt(a)}}},{key:"render",value:function(){var e,t=this._getRowsAndSectionData().rows,a=Math.min(t.length,2);return(this.props.onScroll||this.props.onSection)&&(e=this._handleScroll),u.createElement(m.default,{onScroll:e,className:j.default.container,onRef:this._setRefScrollContainer,flatListControllers:[this._flatListController]},u.createElement(g.default,{data:t,reorderAnimationsEnabled:!1,forceConsistentRenderCount:!1,flatListController:this._flatListController,direction:"vertical",extraItems:a,initialScrollFromStart:this.props.initialScrollTop,renderItem:this._renderRow}))}}]),t}(u.PureComponent);function M(e,t,a){for(var n=a<0?-1:1,i=t+a;i>=0&&i<e.length;){var r=e[i];if("emojis"===r.kind)return r;i+=n}}function T(e){var t=e-2*h.SIDE_MARGIN-C;return Math.floor(t/h.EMOJI_WIDTH)}t.default=A},bijdjchach:function(e,t){e.exports={count:"P6z4j"}},bijebbjggf:function(e,t,a){"use strict";var n=a("cfjecfhbfg"),i=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.setArchive=function(e,t){return function e(t,a){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:(0,o.genId)();if(t.archive===a)return Promise.reject(new c.ActionError);var i=t.promises;if(i.setArchive)return i.setArchive;var u=t.getLastMsgKeyForAction();var f=(0,s.sendConversationArchive)(t.id,a,u).cancellable();var h=a?new o.ActionType(l10n.t(15)):new o.ActionType(l10n.t(40));var p=f.then(function(i){var r;return 200===i.status?(r=a?l10n.t(14):l10n.t(39),new o.ActionType(r,l10n.t(159),function(){return e(t,!a,n)})):i.status>=400?a?new o.ActionType(l10n.t(13)):new o.ActionType(l10n.t(38)):void 0}).catch(function(i){l.default.error("models:chat:setArchive dropped")(i);var r=a?l10n.t(13):l10n.t(38);return new o.ActionType(r,l10n.t(155),function(){return e(t,a,n)})});d.default.openToast(r.createElement(o.ActionToast,{id:n,initialAction:h,pendingAction:p}));var g=i.setArchive=f.then(function(e){200!==e.status||e._duplicate||(t.archive=a,a&&(t.pin=void 0))}).finally(function(){i.setArchive=null});g.archive=a;return g}((0,u.unproxy)(e),t)};var r=i(a("ddhijeejag")),o=a("ccihhdchab"),s=a("bfgjcdgecg"),d=n(a("bbchdeehff")),c=i(a("cajijabhgb")),l=n(a("bdiiahhjbe")),u=a("bheafeifce")},bijegdjcac:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("dagbcgeifg")),o=i(a("bhabhhjdch")),s=i(a("eaidjcib")),d=i(a("dgcdacjddi")),c=i(a("ffceefejc")),l=i(a("cjedcdbdii")),u=i(a("djecdhecha")),f=i(a("dbjagcfebh")),h=i(a("bebajedcaf")),p=i(a("bejjegijhj")),g=i(a("eaaagccfda")),m=i(a("hhegggegb")),b=i(a("ceffhbhahb")),v=n(a("ddhijeejag")),j=i(a("djciiabagi")),E=i(a("cdbddjfbcd")),y=i(a("cgijjjgici")),_=i(a("hgeacfdgi")),S=i(a("cfadcbbiie")),C=i(a("bbchdeehff")),A=i(a("baagejbchg")),M=i(a("bfdjgcjbeh")),T=i(a("cbedjffdai")),P=i(a("fciifhbdb")),N=i(a("ccegbieicj")),I=i(a("cbcchiaeeb")),k=a("ddjgcfjicj"),O=n(a("cajijabhgb")),R=a("bgddggdhc"),w=i(a("ddajbaceej")),D=a("ejbdjaifi"),L=i(a("fffdgbfji")),U=i(a("eceadcicaf")),G=i(a("cijhadicdb")),x=i(a("bdiiahhjbe")),F=i(a("ddchcbhaia")),B=i(a("cbdehahifi")),V=i(a("biecbbiiee")),H=i(a("bjbedjfe")),W=i(a("jcfhjhibi")),Y=i(a("ceddibdhdb")),$=i(a("bgefgjjhb")),K=i(a("bfdcadbbif")),q=n(a("bfjajhbdf")),z=i(a("bcjcbbafcj")),Q=i(a("caffijjhc")),J=i(a("dbjbhajgfd")),Z=i(a("cdegfghcid")),X=a("dgdhcdgffe"),ee=i(a("bcifhbgija")),te=i(a("didfdhbecg"));function ae(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function ne(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ae(Object(a),!0).forEach(function(t){(0,o.default)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ae(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var ie=300,re=function(e){function t(e){var a;(0,s.default)(this,t),(a=(0,c.default)(this,(0,l.default)(t).call(this,e))).chatOpenScrollTimestamp=0,a.renderedMsgCache=new Map,a.visibleMsgOrder=[],a.setScrollContainer=function(e){return a.scrollContainer=e},a.onPanesWillChange=function(e){var t=a.visibleMsgOrder[a.visibleMsgOrder.length-1];if(t){var n=t.toString(),i=a.messageList;if(n&&i){var r=i.getMsgWrapperRef(n);if(r){var o=a.scrollContainer,s=(0,R.forbiddenAssertDOMNode)(r);if(!o)return;var d=a.getMsgBottom(o,s);a.panesChanging={msg:s,container:o,msgBottom:d}}}}},a.onPanesDidChange=function(e){if(a.panesChanging){var t=a.panesChanging,n=t.msg,i=t.container,r=t.msgBottom;a.setMsgBottom(i,n,r),a.panesChanging=void 0}},a.attachMsgCollectionObservers=function(e){var t=a.props,n=t.listeners,i=t.chat,r=t.msgCollection,o=e.focusCtx,s=e.chat,d=e.msgCollection;r&&(n.remove(r,"remove_msgs",a.onMsgsDelete),n.remove(i.msgs,"change:last",a.onLastMsgChanged)),n.remove(i,"change:unreadCount",a.onUnreadCount),null!=a._msgLoadStateChangeUnsubscribe&&a._msgLoadStateChangeUnsubscribe(),a._msgLoadStateChangeUnsubscribe=d.onMsgLoadStateChange(a._handleMsgLoadStateChange),n.add(s,"change:unreadCount",a.onUnreadCount),n.add(s.msgs,"change:last",a.onLastMsgChanged),n.add(d,"remove_msgs",a.onMsgsDelete),o&&d.loadAroundPromise&&d.loadAroundPromise.checkpoint(a.props.rejectOnUnmount()).catch(O.Unmount,function(){}).catch(k.E404,function(){C.default.openToast(v.createElement(q.default,{msg:L.default.t(747),id:(0,q.genId)()}))})},a.updateForCurrentPosition=(0,m.default)(function(){var e=a.props.rejectOnUnmount();(0,I.default)({signal:e}).then(function(){e.isRejected()||(a.updateRenderedMsgCache(),j.default.unstable_batchedUpdates(function(){var e=(0,u.default)(a).scrollContainer;if(null!=e){e.scrollTop<ie&&a.loadEarlierMsgs();var t=a.state,n=t.isNearBottom,i=t.cursor,r=a.nearBottom();r?(a.maybeSendSeen(!0),a.isMostRecentCMC()&&n!==r&&a.setState({isNearBottom:r,newUnread:0}),(i.getEnd(a.props.msgCollection)<a.props.msgCollection.length||!a.isMostRecentCMC())&&a.loadRecentMsgs()):n!==r&&a.setState({isNearBottom:r})}}))}).catch(y.default,function(){})},100),a._handleMsgLoadStateChange=function(){var e=a.state.msgLoadState,t=de(a.props.msgCollection),n={msgLoadState:t};if(e.isLoadingAroundMsgs&&!t.isLoadingAroundMsgs){var i=se(a.props.focusCtx),r=i&&i.msg;r&&(n=ne({},n,{cursor:a.state.cursor.init(r.id,a.props.msgCollection),focusCtx:i}))}a.setState(n)},a.onResizeThrottle=(0,m.default)(function(){a.updateRenderedMsgCache()},100),a.onMsgKeyChange=function(e){var t=e.newKey,n=e.oldKey,i=n.toString(),r=t.toString(),o=a.renderedMsgCache.get(i);o&&(a.renderedMsgCache.delete(i),a.renderedMsgCache.set(r,o));for(var s=0;s<a.visibleMsgOrder.length;++s)if(a.visibleMsgOrder[s]===n){a.visibleMsgOrder[s]=t;break}},a.onResizeDebounce=(0,g.default)(function(){var e=a.nearBottom();a.nearBottom!==e&&a.setState({isNearBottom:e})},100),a.loadEarlierMsgs=function(){var e=a.props,t=e.chat,n=e.msgCollection,i=a.state,r=i.cursor,o=i.msgLoadState;if(r.getStart(n)>0)r.hasBefore(n)&&a.setState({cursor:r.loadBefore(n)});else{if(o.isLoadingEarlierMsgs||o.isLoadingAroundMsgs)return;if(ce(t,a.isMostRecentCMC(),o)&&(n.msgLoadState.noEarlierMsgs=!1),n.msgLoadState.noEarlierMsgs)return;t.loadEarlierMsgs(n).checkpoint(a.props.rejectOnUnmount()).then(function(){var e={};a.state.focusCtx||(e.focusCtx=a.getUnreadFocusCtx(a.props)),r.hasBefore(n)?(e.cursor=r.loadBefore(n),a.setState(e)):a.setState(e)}).catch(O.Unmount,function(){}).catch(function(e){x.default.log("ConversationMsgs:loadEarlierMsgs failed")(),x.default.log(e)()})}},a.loadRecentMsgs=function(){var e=a.props,t=e.chat,n=e.msgCollection,i=a.state,r=i.cursor,o=i.msgLoadState;if(r.getEnd(n)<n.length)a.setState({cursor:r.loadAfter(n)});else{if(o.isLoadingRecentMsgs||o.isLoadingAroundMsgs)return;a.loadRecentMsgsPromise=t.loadRecentMsgs(n).cancellable().checkpoint(a.props.rejectOnUnmount()).then(function(){r.hasAfter(n)?a.setState({cursor:r.loadAfter(n)}):a.state.cursor.getEnd(n)>=n.length&&a.isMostRecentCMC()&&a.forceUpdate()}).catch(O.Unmount,function(){}).catch(function(e){x.default.log("ConversationMsgs:loadRecentMsgs failed")(),x.default.log(e)()}).finally(function(){a.loadRecentMsgsPromise=null})}},a.onComposeHeightChange=function(e){var t=a.scrollContainer;if(t)if(e){if(t&&e<0&&t.scrollTop===t.scrollHeight-t.clientHeight)return;a.setScrollTop(t,t.scrollTop+e)}else{var n=t.scrollHeight-(t.scrollTop+t.clientHeight);(0,ee.default)(t,{tween:18},{progress:function(){a.setScrollTop(t,t.scrollHeight-n-t.clientHeight)},duration:300},[.1,.82,.25,1])}},a.getScrollBottom=function(){var e=a.scrollContainer;return e?e.scrollHeight-(e.scrollTop+e.clientHeight):0},a.hideStickyDateMarker=new Y.default(function(){a.stickyDateMarker&&a.stickyDateMarker.setVisibility(!1)}),a.updateStickyDateMarker=new Y.default(function(e){var t=e||{},n=t.dateMarkerIdx,i=t.silent,r=void 0!==i&&i,o=a.messageList;if(o&&"number"==typeof n){r||Date.now()-(a.programmaticScroll||0)<200||a.showStickyDateMarker();var s=o.getDateMarkerRef(n);if(-1===n)a.stickyDateMarker.updateDateMarkerText();else if(s){var d=s.getTimestamp(),c=S.default.relativeDateStr(d).toUpperCase();a.stickyDateMarker.updateDateMarkerText(c)}if(a.dateMarkerIdx!==n){var l=o.getDateMarkerRef(a.dateMarkerIdx);l&&l.hide(!1),s&&s.hide(!0)}}}),a.isMsgVisible=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return a.renderedMsgCache.has(e.toString())&&(!!t||a.getMsgComponent(e))},a.getSequentialMsg=function(e){var t=a.getMsgs();if(t){var n=t.findIndex(function(t){return e.equals(t.id)});return n>=t.length-1?null:t[n+1]}},a.onScroll=function(e){a.updateForCurrentPosition()},a.onWindowGainedFocus=function(){var e=a.props.chat;!a.clearUnreadTimer&&e.isDirty()&&(a.clearUnreadTimer=setTimeout(function(){delete a.clearUnreadTimer,a.maybeSendSeen()},A.default.CLEAR_CHAT_DIRTY_WAIT))},a.onWindowLostFocus=function(){if(a.state.unreadCount&&a.isMostRecentCMC()){var e=a.props.chat;0===e.unreadCount&&a.setState({unreadCount:0}),e.markedUnread=!1}},a.jumpToBottom=function(){var e=a.props.msgCollection;a.isMostRecentCMC()&&a.state.cursor.getEnd(e)>=e.length?a.scrollToBottom():C.default.openChatBottom(a.props.chat).then(function(e){e&&C.default.focusChatTextInput(a.props.chat)})},a.scrollToBottom=function(e){var t=a.scrollContainer;t&&a.setScrollTop(t,t.scrollHeight),e&&e();var n=a.props.rejectOnUnmount();(0,I.default)({signal:n}).then(function(){n.isRejected()||a.setState({cursor:a.state.cursor.resetBeforeCursor(a.props.msgCollection)})}).catch(y.default,function(){})},a.onLastMsgChanged=function(e,t){var n=a.props.msgCollection,i=a.state.focusCtx,r=a.state.cursor,o=n.last();if(a.isMostRecentCMC()){var s={},d=document.hasFocus(),c=a.nearBottom(),l=c;d&&c?(s.unreadCount=0,s.focusCtx=void 0,r=r.setFocusedMsgKey(n)):o&&o.isSentByMe&&t&&(l=!0,a.state.unreadCount&&(s.unreadCount=0,s.focusCtx=void 0,r=r.setFocusedMsgKey(n)),a.jumpToBottom()),(r=i&&!s.hasOwnProperty("focusCtx")?r.loadAfter(n,{count:1}):r.loadBeforeCapped(n,{count:1}))!==a.state.cursor&&(s.cursor=r),(0,h.default)(s)||a.setState(s,function(){l&&a.scrollToBottom()})}else t&&e&&e.isSentByMe&&a.jumpToBottom()},a.onUnreadCount=function(){var e=a.props.chat,t=a.nearBottom(),n=document.hasFocus();a.maybeSendSeen(t,n);var i={};if(e.unreadCount&&!e.pendingSeenCount&&a.isMostRecentCMC()){i.unreadCount=e.unreadCount;var r=a.getUnreadFocusCtx();r&&(i.focusCtx=r,i.cursor=a.state.cursor.setFocusedMsgKey(a.props.msgCollection,r.msg&&r.msg.id))}var o=t&&i.unreadCount-a.state.unreadCount==1;(!t&&a.isMostRecentCMC()||!e.pendingSeenCount&&a.state.newUnread!==e.unreadCount)&&(i.newUnread=e.unreadCount),(0,h.default)(i)||a.setState(i,function(){o&&a.scrollToBottom()})},a.onMsgsDelete=function(){var e=a.state.cursor.ensureValidFocus(a.props.msgCollection);a.state.cursor!==e?a.setState({cursor:e}):a.forceUpdate()},a.onPageUpDown=function(e){w.default.focus(a.scrollContainer)},a.scrollMessages=function(){var e=a.visibleMsgOrder[a.visibleMsgOrder.length-1];if(e){var t=a.messageList;if(t){var n=t.getMsgWrapperRef(e.toString());if(n){var i=(0,R.forbiddenFindDOMNode)(n);if(i){var r=1===a.visibleMsgOrder.length?i.clientHeight:0,o=a.scrollContainer;(0,ee.default)(i,"stop"),o&&(0,ee.default)(o,"stop"),(0,ee.default)(i,"scroll",{duration:300,container:o,offset:r})}}}}},a.onKeyPress=function(e){e.metaKey||e.ctrlKey||(e.preventDefault(),"Enter"!==e.key||e.shiftKey?C.default.pasteChatTextInput(a.props.chat,String.fromCharCode(e.charCode)):C.default.enterChatTextInput(a.props.chat))},a.onContextMenu=function(e){var t,n=a.props.chat,i=a.props.onSelectMessages;if(n.isUser)t=v.createElement(M.default,{callUi:_.default,chat:n,toContextMenuManager:!0,contact:n.contact,onSelectMessages:i});else if(n.isGroup)t=F.default.group(n,i);else{if(!n.isBroadcast)return;t=F.default.broadcast(n,i)}e.preventDefault(),e.stopPropagation(),e.persist(),a.setState({contextMenu:{menu:t,event:e}})},a.onContextClose=function(){a.setState({contextMenu:null})},a.onPaste=function(e){e.preventDefault(),e.persist(),C.default.sendPasteToCompose(a.props.chat,e)},a._notifyChatRendered=function(){a.props.notifyChatRendered&&a.props.notifyChatRendered(a.getMsgs())};var n=e.chat;return a.state=ne({},a._getInitialCursorAndFocusContext(e),{unreadCount:n.pendingSeenCount?0:n.unreadCount,isNearBottom:!0,newUnread:0,contextMenu:null,textsize:T.default.get().textsize,msgLoadState:de(e.msgCollection)}),a}return(0,f.default)(t,e),(0,d.default)(t,[{key:"_getInitialCursorAndFocusContext",value:function(e){var t=e.focusCtx,a=e.chat,n=e.msgCollection,i=se(t)||this.getUnreadFocusCtx(e),r=i&&i.msg,o=r&&r.id;return{cursor:W.default.create({msgCollection:n,focusedMsgKey:o,type:a.isGroup?A.default.RENDER_CURSOR.GROUP_CONVERSATION:A.default.RENDER_CURSOR.CONVERSATION}),focusCtx:i}}},{key:"componentWillUnmount",value:function(){null!=this._msgLoadStateChangeUnsubscribe&&this._msgLoadStateChangeUnsubscribe(),this.updateStickyDateMarker.cancel(),this.updateForCurrentPosition.cancel(),this.onResizeThrottle.cancel(),this.onResizeDebounce.cancel(),this.hideStickyDateMarker.cancel(),this.clearUnreadTimer&&clearTimeout(this.clearUnreadTimer),this.maybeSendSeen(),this.props.chat.markedUnread=!1}},{key:"componentDidMount",value:function(){var e=this,t=this.props,a=t.chat,n=t.listeners;n.add(C.default,"scroll_chat_to_bottom",function(t){e.scrollToBottom(t)}),n.add(C.default,"scroll_messages",this.scrollMessages),n.add(C.default,"textsize_change",function(t){return e.setState({textsize:t})}),n.add(C.default,"panes_will_change",this.onPanesWillChange),n.add(C.default,"panes_did_change",this.onPanesDidChange),n.add(C.default,"scroll_to_focused_msg",function(){e.chatOpenScrollTimestamp=Date.now()}),n.add(window,"focus",this.onWindowGainedFocus),n.add(window,"blur",this.onWindowLostFocus),n.add(window,"resize",this.onResizeThrottle),n.add(window,"resize",this.onResizeDebounce),n.add(V.default,"change:msgKey",this.onMsgKeyChange),this.attachMsgCollectionObservers(this.props);var i=this.props.rejectOnUnmount();(0,I.default)({signal:i}).then(function(){i.isRejected()||e.showStickyDateMarker()}).catch(y.default,function(){}),this.props.updateOpenedChatInfo({chat:a}),(0,X.sendSeen)(a),this.updateForCurrentPosition(),this._notifyChatRendered()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.selectable===this.props.selectable&&(this.loadRecentMsgsPromise&&this.loadRecentMsgsPromise.cancel(),this.setState(ne({msgLoadState:de(e.msgCollection)},this._getInitialCursorAndFocusContext(e))),this.attachMsgCollectionObservers(e))}},{key:"shouldComponentUpdate",value:function(e,t){if(!(0,E.default)(e,this.props))return!0;var a=this.state,n=a.msgLoadState,i=(0,r.default)(a,["msgLoadState"]),o=t.msgLoadState,s=(0,r.default)(t,["msgLoadState"]);return!(0,E.default)(o,n)||!(0,E.default)(s,i)}},{key:"componentDidUpdate",value:function(e){var t=this.props.chat;this.updateRenderedMsgCache(e.chat===t),this.props.updateOpenedChatInfo({chat:t}),e.msgCollection!==this.props.msgCollection&&this.updateForCurrentPosition(),this._notifyChatRendered()}},{key:"getMsgBottom",value:function(e,t){var a=e.scrollTop,n=e.scrollHeight,i=n-(a+e.clientHeight);return n-(t.offsetTop+t.clientHeight+i)}},{key:"setMsgBottom",value:function(e,t,a){var n=t.offsetTop+t.clientHeight+a-e.clientHeight;this.setScrollTop(e,n)}},{key:"getRenderedMessageCount",value:function(){return this.getMsgs().length}},{key:"isMostRecentCMC",value:function(){return this.props.chat.msgs===this.props.msgCollection}},{key:"setScrollBottom",value:function(e){var t=this.scrollContainer;t&&this.setScrollTop(t,t.scrollHeight-e-t.clientHeight)}},{key:"setScrollTop",value:function(e,t){this.programmaticScroll=Date.now(),e&&(e.scrollTop=t)}},{key:"showStickyDateMarker",value:function(){this.stickyDateMarker&&this.stickyDateMarker.setVisibility(!0),this.hideStickyDateMarker.debounce(3e3)}},{key:"nearBottom",value:function(){var e=this.scrollContainer;return!!e&&e.scrollTop+A.default.SCROLL_FUDGE>e.scrollHeight-e.clientHeight}},{key:"getUnreadFocusCtx",value:function(e){var t,a=e||this.props,n=a.chat,i=a.msgCollection,r=a.focusCtx;if(n.unreadCount?t=n.unreadCount:this.state&&this.state.unreadCount&&(t=this.state.unreadCount),(!r||this.isMostRecentCMC())&&t){var o=i.toArray().filter(function(e){return e.isUnreadType}).reverse().slice(0,t);if(o.length===t)return{msg:o=o[o.length-1],isUnreadDivider:n.shouldShowUnreadDivider,highlightMsg:!1}}}},{key:"getMsgs",value:function(){var e=this.props,t=e.focusCtx,a=e.msgCollection,n=this.state,i=n.cursor,r=n.msgLoadState;return t&&r.isLoadingAroundMsgs?[]:a.toArray().slice(i.getStart(a),i.getEnd(a))}},{key:"updateRenderedMsgCache",value:function(e){var t=this.messageList;if(t){for(var a=[],n=t.props.msgs,i=new Map,r={},o=0,s=n.length-1;o<s;){var d=Math.floor((o+s)/2),c=n[d].id.toString(),l=t.getMsgWrapperRef(c);t.getMsgVisibility(l).visibility===A.default.VISIBILITY.ABOVE?o=d+1:s=d}for(var u=o;u<n.length;u++){var f=n[u].id.toString(),h=t.getMsgWrapperRef(f);if(!h)throw new Error("msgRef not found!");var p=t.getMsgVisibility(h);if(p.visibility!==A.default.VISIBILITY.VISIBLE)break;r[f]={offset:p.offset,t:n[u].t},i.set(f,h),a.push(n[u].id)}if(this.scrollContainer){var g=this.scrollContainer.scrollTop;o=0,s=Object.keys(t.renderedDateMarkers).length-1;var m=t.getDateMarkerRef(0),b=m&&(0,R.forbiddenAssertDOMNode)(m);if(b&&b.offsetTop<=g+8.5)for(;o<s;){var v=Math.ceil((o+s)/2),j=t.getDateMarkerRef(v);if(!j)throw new Error("DateMarkerRef: ".concat(v," not found. ").concat(Object.keys(t.renderedDateMarkers).toString(),"}"));(0,R.forbiddenAssertDOMNode)(j).offsetTop>g+8.5?s=v-1:o=v}else o=-1;this.updateStickyDateMarker.onOrBefore(0,{dateMarkerIdx:o,silent:e}),this.dateMarkerIdx=o,this.pauseHiddenGifs(this.renderedMsgCache,i),this.renderedMsgCache=i,this.visibleMsgOrder=a,this.props.updateOpenedChatInfo({renderedMsgsInfo:r,visibleMsgOrder:a,clientHeight:this.scrollContainer?this.scrollContainer.clientHeight:0})}}else this.renderedMsgCache.clear()}},{key:"getMsgComponent",value:function(e){var t=this.messageList;if(t)return t.getMsgComponentRef(e.toString())}},{key:"pauseHiddenGifs",value:function(e,t){var a=this;e.forEach(function(e,n){if(!t.has(n)){var i=a.props.msgCollection.get(n);i&&i.isGif&&"function"==typeof e.pause&&e.pause()}})}},{key:"maybeSendSeen",value:function(e,t){var a=e,n=t,i=this.props,r=i.chat,o=i.msgCollection,s=this.state.cursor;if(r.isDirty()&&this.isMostRecentCMC()&&s.getEnd(o)>=o.length&&((0,p.default)(n)&&(n=document.hasFocus()),n&&((0,p.default)(a)&&(a=this.nearBottom()),a)))return(0,X.sendSeen)(r),!0}},{key:"render",value:function(){var e,t=this,a=this.props,n=a.chat,i=a.msgCollection,r=a.selectable,o=a.onMessageSelect,s=this.state,d=s.focusCtx,c=s.msgLoadState,l=(0,b.default)(P.default.pane,{[P.default.selectable]:r}),u=this.isMostRecentCMC(),f=!!d,h=A.default.TEXTSIZE_CLASS_MAP.find(function(e){return e.scale===t.state.textsize});h&&(e=h.classname);var p,g,m,j,E=v.createElement(B.default,{ref:(0,D.GetRef)("messageList",this),unreadCount:this.state.unreadCount,selectable:r,onMessageSelect:o,msgs:this.getMsgs(),focusedMsgCtx:d,selectedMessages:this.props.selectedMessages,isMsgVisible:this.isMsgVisible,getSequentialMsg:this.getSequentialMsg}),y=v.createElement(G.default,{direction:"around",isMostRecentCMC:u,loadMoreMsgs:function(){},isLoadingEarlierMsgs:c.isLoadingEarlierMsgs,isLoadingRecentMsgs:c.isLoadingRecentMsgs,isLoadingAroundMsgs:c.isLoadingAroundMsgs});(this.state.cursor.getStart(i)>0||!c.noEarlierMsgs||ce(n,u,c))&&(p=v.createElement(G.default,{direction:"earlier",isMostRecentCMC:u,loadMoreMsgs:this.loadEarlierMsgs,isLoadingEarlierMsgs:c.isLoadingEarlierMsgs,isLoadingRecentMsgs:c.isLoadingRecentMsgs,isLoadingAroundMsgs:c.isLoadingAroundMsgs})),(this.state.cursor.getEnd(i)<i.length||!u)&&(g=v.createElement(G.default,{direction:"recent",isMostRecentCMC:u,loadMoreMsgs:this.loadRecentMsgs,isLoadingEarlierMsgs:c.isLoadingEarlierMsgs,isLoadingRecentMsgs:c.isLoadingRecentMsgs,isLoadingAroundMsgs:c.isLoadingAroundMsgs})),f&&c.isLoadingAroundMsgs?(g=void 0,p=void 0):y=void 0;var _,S=this.state,C=S.isNearBottom,M=S.newUnread;if(!C||!c.isLoadingAroundMsgs&&!u){M&&n.unreadCount&&(j=v.createElement(Z.default,{count:this.state.newUnread,key:"icon-unread"}));var T=(0,b.default)(P.default.incoming,{[P.default.ffFix]:z.default.isGecko});m=v.createElement("div",{className:T,onClick:this.jumpToBottom,role:"button"},v.createElement(te.default,{transitionName:"pop",className:P.default.unread},j),v.createElement(K.default,{name:"down"}))}return this.state.contextMenu&&(_=v.createElement(Q.default,{displayName:"ConversationContextMenu",escapable:!0,popable:!0,requestDismiss:this.onContextClose},v.createElement(J.default,{contextMenu:this.state.contextMenu}))),v.createElement(N.default,{className:e},v.createElement($.default,{ref:(0,D.GetRef)("stickyDateMarker",this)}),v.createElement(te.default,{transitionName:"pop"},m),v.createElement("div",{className:l,ref:this.setScrollContainer,onScroll:this.onScroll,onKeyPress:this.onKeyPress,onContextMenu:r?null:this.onContextMenu,onPaste:this.onPaste,tabIndex:"0"},v.createElement("div",{className:P.default.empty}),y,p,E,g),_)}}]),t}(v.Component),oe=(0,H.default)((0,U.default)(re));function se(e){return null==e?null:null!=e.key?ne({},e,{msg:V.default.get(e.key)}):e}function de(e){var t=e.msgLoadState;return{noEarlierMsgs:t.noEarlierMsgs,isLoadingEarlierMsgs:t.isLoadingEarlierMsgs,isLoadingRecentMsgs:t.isLoadingRecentMsgs,isLoadingAroundMsgs:t.isLoadingAroundMsgs,contextLoaded:t.contextLoaded}}function ce(e,t,a){var n=a.noEarlierMsgs&&e.shouldAppearInList&&t&&e.msgChunks.filter(function(e){return e.filter(function(t){return t.msgChunk===e}).length>0}).length>0;return n&&x.default.assert(!1,"noEarlierMsgs-error","MRM noEarlierMsgs on chat ".concat(String(e.id)," is true but chat.msgChunks has length: ").concat(e.msgChunks.length,",\n                    and chat.msgs.length: ").concat(e.msgs.length))(),n}t.default=oe},bijffg:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.LabelCollection=t.LABEL_PROPERTIES=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("djecdhecha")),c=i(a("cjedcdbdii")),l=i(a("bjehdcaaj")),u=i(a("dbjagcfebh")),f=i(a("jdjcgjgea")),h=n(a("ddhijeejag")),p=a("ccihhdchab"),g=i(a("cgcgbfbffj")),m=i(a("bbchdeehff")),b=i(a("bjigbaghc")),v=a("ddjgcfjicj"),j=n(a("cajijabhgb")),E=i(a("fffdgbfji")),y=i(a("bbjjjbicfb")),_=a("bddhdheedf"),S=a("hciaejfjd"),C=i(a("bdiiahhjbe")),A=i(a("bfbggcdbfb")),M=n(a("ebggjhghhi")),T=i(a("bhggeigghg")),P=i(a("bgabgddgch")),N=i(a("egjjcjcg")),I=i(a("bihdhbjih")),k=i(a("bgeajihhc")),O=Object.freeze({NAME:"name",COLOR:"color"});t.LABEL_PROPERTIES=O;var R=Object.freeze({UPDATING:"updating",SUCCEEDED:"succeeded",FAILED:"failed"}),w=function(e){function t(){var e;return(0,r.default)(this,t),(e=(0,s.default)(this,(0,c.default)(t).call(this))).checksum=void 0,e.listenTo((0,d.default)(e),"remove",e.handleRemove),e}return(0,u.default)(t,e),(0,o.default)(t,[{key:"addNewLabel",value:function(e,t){(0,_.logLabelOperationEvent)(A.default.LABEL_OPERATIONS.ADD,1,A.default.LABEL_TARGETS.LABEL);var a=I.default.createLabel(e,t),n=new p.ActionType(E.default.t(5,{labelName:e})),i=(0,p.genId)(),r=a.then(function(t){return 200===t.status?new p.ActionType(E.default.t(113,{labelName:e})):new p.ActionType(E.default.t(112,{labelName:e}))}).catch(function(t){return C.default.error("addingNewLabel dropped")(t),new p.ActionType(E.default.t(112,{labelName:e}))});return m.default.openToast(h.createElement(p.ActionToast,{id:i,initialAction:n,pendingAction:r})),a}},{key:"addOrRemoveLabels",value:function(e,t){var a=I.default.addOrRemoveLabels(e,t),n=new p.ActionType(E.default.t(2,{count:e.length,_plural:e.length})),i=(0,p.genId)(),r=a.then(function(t){return 200===t.status?new p.ActionType(E.default.t(4,{count:e.length,_plural:e.length})):new p.ActionType(E.default.t(3))}).catch(function(e){return C.default.error("addingNewLabel dropped")(e),new p.ActionType(E.default.t(3))});return m.default.openToast(h.createElement(p.ActionToast,{id:i,initialAction:n,pendingAction:r})),a}},{key:"deleteLabel",value:function(e){(0,_.logLabelOperationEvent)(A.default.LABEL_OPERATIONS.DELETE,1,A.default.LABEL_TARGETS.LABEL);var t=I.default.deleteLabel(e),a=this.get(e);if(a){var n=a.name,i=new p.ActionType(E.default.t(50,{labelName:n})),r=(0,p.genId)(),o=t.then(function(e){return 200===e.status?new p.ActionType(E.default.t(49,{labelName:n})):new p.ActionType(E.default.t(48,{labelName:n}))}).catch(function(e){return C.default.error("addingNewLabel dropped")(e),new p.ActionType(E.default.t(48,{labelName:n}))});return m.default.openToast(h.createElement(p.ActionToast,{id:r,initialAction:i,pendingAction:o})),t}C.default.log("deleteLabel - label does not exist")()}},{key:"_getActionLabelUpdateString",value:function(e,t){switch(e){case O.NAME:return t===R.UPDATING?E.default.t(89):t===R.SUCCEEDED?E.default.t(91):E.default.t(90);case O.COLOR:return t===R.UPDATING?E.default.t(86):t===R.SUCCEEDED?E.default.t(88):E.default.t(87)}return""}},{key:"updateLabel",value:function(e,t){var a=this;(0,_.logLabelOperationEvent)(A.default.LABEL_OPERATIONS.EDIT,1,A.default.LABEL_TARGETS.LABEL);var n=I.default.editLabel(e.id,e.name,e.color),i=new p.ActionType(this._getActionLabelUpdateString(t,R.UPDATING)),r=(0,p.genId)(),o=n.then(function(e){return 200===e.status?new p.ActionType(a._getActionLabelUpdateString(t,R.SUCCEEDED)):new p.ActionType(a._getActionLabelUpdateString(t,R.FAILED))}).catch(function(e){return C.default.error("updatingLabel dropped")(e),new p.ActionType(a._getActionLabelUpdateString(t,R.FAILED))});return m.default.openToast(h.createElement(p.ActionToast,{id:r,initialAction:i,pendingAction:o})),n}},{key:"getNewLabelColor",value:function(){return I.default.queryNextLabelColor().then(function(e){return e.labelColors[0].color}).catch(function(e){})}},{key:"getLabelColorPalette",value:function(){return this.labelColorPalette=this.labelColorPalette||N.default.getSmbLabelPalette(),this.labelColorPalette&&this.labelColorPalette.waVersion===b.default.phone.wa_version?Promise.resolve(this.labelColorPalette.colors):this._getColorPaletteLoop().then(function(e){var t=e.labelColors.map(function(e){return e.color});return N.default.setSmbLabelPalette({colors:t,waVersion:b.default.phone.wa_version}),t}).catch(function(){})}},{key:"_getColorPaletteLoop",value:function(){return Promise.loop(function(e,t,a){var n=Promise.delay(P.default.expBackoff(a,12e4,1e3,.1));return("CONNECTED"===k.default.stream?Promise.resolve():M.waitForBBEvent(k.default,"change:stream",function(){return"CONNECTED"===k.default.stream})).then(function(){return I.default.queryLabelPalette().then(function(t){e(t)})}).catch(function(e){return!(e instanceof Promise.CancellationError)},function(e){return a>3||404===e?(C.default.error("labels:loadLabelPalette:error "+String(e))(),404===e?Promise.reject(new v.E404):Promise.reject(new j.GaveUpRetry("Gave up loading label palette ".concat(a," tries")))):n})},0)}},{key:"handleRemove",value:function(e){var t=this;e.labeltemColleciton.toArray().forEach(function(e){var a=e.parentId,n=e.parentType,i=e.labelId,r=t._getParentModel(n).get(a);r&&(r.labels=(0,f.default)(r.labels,function(e){return e!==i}))})}},{key:"_getParentModel",value:function(e){switch(e){case"Chat":return T.default.Chat;case"Contact":return T.default.Contact;case"Msg":return T.default.Msg;default:throw new Error("invalid parentType ".concat(e))}}},{key:"onResume",value:function(){var e=this;this.filter(function(e){return e.hasObservers()}).forEach(function(t){e.find(t.id).catch(v.WapDrop,function(){})})}},{key:"delete",value:function(){(0,l.default)((0,c.default)(t.prototype),"delete",this).call(this),delete this.checksum}},{key:"sync",value:function(e){if(!e||this.checksum!==e)return this.findQuery({}).catch(v.WapDrop,j.ProtoVersionUndefined,function(){})}},{key:"handle",value:function(e){var t,a=this;if(e.checksum&&this.updateChecksum(e.checksum),e.labels&&e.labels[0]&&e.labels[0].labelUpdates)return e.labels[0].labelUpdates.forEach(function(e){e.collection.forEach(function(n){"Msg"!==n&&"Chat"!==n||(t=!0);var i=e.id,r=a._getParentModel(n).get(e.id);r&&(r.labels&&r.labels.forEach(function(t){e.labels.includes(t)||(0,S.removeLabelFromCollection)(i,t,n)}),r.labels=e.labels)})}),void(t&&this.trigger("bulk_msg_chat_label_change"));var n=[],i=[];e.labels.forEach(function(e){"delete"===e.type?n.push(e.label):i.push(e.label)}),this.remove(n.map(function(e){return e.id})),this.add(i,{merge:!0})}},{key:"_findQuery",value:function(){var e=this;return I.default.queryLabels().then(function(t){return t.checksum&&e.updateChecksum(t.checksum),t.labels})}},{key:"_find",value:function(e){return this._findQuery()}},{key:"updateChecksum",value:function(e){this.checksum=e}}]),t}(g.default);t.LabelCollection=w,w.model=y.default,w.staleCollection=!0,w.resumeOnAvailable=!0;var D=new w;t.default=D},bijjhdhgfd:function(e,t){e.exports={price:"dWVmW",description:"L1OmW"}},bijjheifie:function(e,t,a){"use strict";var n=a("cfjecfhbfg"),i=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.getStatus=function(e){return(0,u.getStatus)(e).then(function(t){var a={id:e};if((0,h.isNumber)(t.status))switch(t.status){case 429:a.stale=!0;var n=f.default.Status.get(e);n&&!(0,h.isString)(n.status)&&(a.status="");break;default:a.status=""}else a.status=t.status;return a})},t.setMyStatus=function e(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(0,o.genId)();var n=t.trim();if(!n)return Promise.reject(new c.ActionError);var i=(0,u.setMyStatus)(n);var h=new o.ActionType(l10n.t(154));var p=f.default.Status.assertGet(d.default.me).status;var g=i.then(function(t){return 200===t.status?new o.ActionType(l10n.t(152),l10n.t(159),function(){return e(p,a)}):t.status>=400?new o.ActionType(l10n.t(153)):void 0}).catch(function(n){throw l.default.error("models:statusCollection:setMyStatus dropped")(n),new o.ActionType(l10n.t(153),l10n.t(155),function(){return e(t,a)})});s.default.openToast(r.createElement(o.ActionToast,{id:a,initialAction:h,pendingAction:g}));return i.then(function(e){200!==e.status||e._duplicate||(f.default.Status.assertGet(d.default.me).status=t)})};var r=i(a("ddhijeejag")),o=a("ccihhdchab"),s=n(a("bbchdeehff")),d=n(a("bjigbaghc")),c=i(a("cajijabhgb")),l=n(a("bdiiahhjbe")),u=a("cbcjhabjci"),f=n(a("bhggeigghg")),h=a("hjbbdjjdf")},bjaehhfffd:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("eaidjcib")),r=n(a("dgcdacjddi")),o=function(){function e(){(0,i.default)(this,e),this.initSessionId()}return(0,r.default)(e,[{key:"initSessionId",value:function(){this.sessionId=this.newSessionId()}},{key:"newSessionId",value:function(){return this.sessionId=Math.floor(2147483648*Math.random()),this.sessionId}}]),e}();t.default=o},bjbeidgfjj:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=n(a("ddhijeejag")),u=i(a("dhfbfehaef")),f=i(a("dbciicjiad")),h=i(a("fbjjefaic")),p=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i))))._onSearch=a.props.debounce(function(e){a.props.setSearchText(e)},100),a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentWillUnmount",value:function(){this._onSearch.cancel()}},{key:"render",value:function(){return this.props.enabled?l.createElement(u.default,{handlers:{down:this.props.onDown},onFocus:this.props.onFocus},l.createElement(f.default,{ref:this.props.searchRef,onSearch:this._onSearch,onEnter:this.props.onEnter,placeholder:l10n.t(1004)})):null}}]),t}(l.Component);p.defaultProps={enabled:!0};var g=(0,h.default)(p);t.default=g},bjbggbjed:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.DISP_LOCATION=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=i(a("ceffhbhahb")),u=n(a("ddhijeejag")),f=a("dbgdaechch"),h=i(a("dcfafchbae")),p=n(a("bheebijggd")),g=i(a("dibjgbdhfg")),m=i(a("eceadcicaf")),b=i(a("caciiaejed")),v=i(a("bjfecgfdgj")),j=i(a("defeghgfc")),E=i(a("egjjcjcg")),y={COMPOSE_BOX:"COMPOSE_BOX",DROPDOWN:"DROPDOWN"};t.DISP_LOCATION=y;var _=function(e){function t(e){var a,n;return(0,r.default)(this,t),(a=(0,s.default)(this,(0,d.default)(t).call(this,e)))._sectionIds=0===v.default.length?p.ORDERED_TAB_SECTION_IDS.filter(function(e){return e!==p.default.RECENT}):p.ORDERED_TAB_SECTION_IDS,a._handleEmojiPanelFocusNext=function(){a.props.onFocusNext()},a._handleMenuTabClick=function(e){a._selectSection(e)},a._handleMouseDown=function(e){e.stopPropagation(),e.preventDefault(),a._focusSearchInput()},a._handlePanelSection=function(e){a._animationPromise||a.state.selectedSectionId!==e&&a.setState({selectedSectionId:e})},a._onEmoji=function(e){v.default.increment(e),a.props.onEmoji(e)},a._setRefContent=function(e){a._refContent=e},a.renderEmojiTab=function(e,t){return u.createElement(j.default,{key:e,onClick:a._handleMenuTabClick,sectionId:e,selected:t})},a._scrollSectionIds=a._sectionIds,n=a.props.displayCache?a.props.displayCache:{scrollTop:0,sectionId:a._sectionIds[0],showSearchInput:!0},a._displayCache=n,a.state={selectedSectionId:n.sectionId},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.listeners.uiIdle(function(){e.restoreFocus()})}},{key:"restoreFocus",value:function(e){this._focusSearchInput(e)}},{key:"_focusSearchInput",value:function(e){this._refContent&&this._refContent.focusSearchInput(e)}},{key:"_selectSection",value:function(e){this.state.selectedSectionId!==e&&(E.default.setLastEmojiTab(e),this.setState({selectedSectionId:e}),this._focusSearchInput(),this._scrollToSection(e))}},{key:"_scrollToSection",value:function(e){var t=this;if(this._refContent){var a=this._refContent.scrollToSection(e);this._animationPromise=a,a.finally(function(){a===t._animationPromise&&delete t._animationPromise})}}},{key:"render",value:function(){var e=(0,l.default)(g.default.emojiPanel,{[g.default.panelDropdown]:this.props.displayLocation===y.DROPDOWN}),t=this.props.width,a=void 0===t?f.EMOJI_PICKER_WIDTH:t;return u.createElement("div",{className:e,onMouseDown:this._handleMouseDown},u.createElement(b.default,{selectedSectionId:this.state.selectedSectionId,sectionIds:this._sectionIds,renderSectionTab:this.renderEmojiTab}),u.createElement(h.default,{displayCache:this._displayCache,width:a,onDisplayCache:this.props.onDisplayCache,onFocusPrev:this.props.onFocusPrev,onFocusNext:this._handleEmojiPanelFocusNext,onEmoji:this._onEmoji,onSection:this._handlePanelSection,ref:this._setRefContent,sectionIds:this._scrollSectionIds}))}}]),t}(u.PureComponent);_.defaultProps={displayLocation:y.DROPDOWN};var S=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,(0,d.default)(t).apply(this,arguments))}return(0,c.default)(t,e),(0,o.default)(t,[{key:"restoreFocus",value:function(e){this.getComponent().restoreFocus(e)}}]),t}((0,m.default)(_));t.default=S},bjcegba:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.queryGroupFromPhone=function(e){return(0,d.groupMetadataFindFromPhone)(e).then(function(t){return"ok"===t.status?t.data:"missing"!==t.status?"error"===t.status?(s.default.error("model:GroupMetadata:find error "+t.info)(),Promise.reject(new Error("model:GroupMetadata:find error"))):void 0:void(0,r.default)(function(){c.default.Chat.assertGet(e).delete()})})},t.queryGroupInviteInfo=function(e){return(0,d.sendQueryGroupInvite)(e).then(function(e){var t=e.status,a=e.subject,n=(0,i.default)(e,["status","subject"]),r=new o.default(n);c.default.Contact.gadd(r.id);var s=c.default.Chat.get(r.id),d=!!s&&!s.isReadOnly;return{status:t,subject:a,groupMetadata:r,inGroup:d}})};var i=n(a("dagbcgeifg")),r=n(a("bgifaaggh")),o=n(a("fcfchiagj")),s=n(a("bdiiahhjbe")),d=a("biigiejiib"),c=n(a("bhggeigghg"))},bjcfdghhfc:function(e,t){e.exports={"-item-spacing":"16px",itemSpacing:"16px","-item-width":"26px",itemWidth:"26px",container:"-XQxp",active:"_1oNFt",square24:"_1jjUV",square26:"UNg3F",top:"_24zF5",padding:"_2NeJ7"}},bjcgcdejaa:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var a=e;if(!a)return;do{a=t===r.NEXT?a.nextSibling:a.previousSibling}while(a&&(0,i.default)(a));return a},t.DIR=void 0;var i=n(a("ccagfiehde")),r={NEXT:"NEXT",PREV:"PREV"};t.DIR=r},bjddgjgae:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=i(a("ceffhbhahb")),u=n(a("ddhijeejag")),f=i(a("bbchdeehff")),h=i(a("eiiicijcj")),p=n(a("ecibddhig")),g=i(a("bfbggcdbfb")),m=i(a("dfhbgghjei")),b=i(a("ihfccfgdf")),v=i(a("bghjfahjfd")),j=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i))))._showMediaMissing=function(){f.default.openModal(u.createElement(h.default,{msg:a.props.msg}))},a._downloadMedia=function(){a.props.msg.downloadMedia(!0,g.default.WEBC_RMR_REASON_CODE.MSG_CLICK)},a._cancelDownload=function(){a.props.msg.cancelDownload()},a._cancelUpload=function(){a.props.msg.cancelUpload()},a._resumeUpload=function(){a.props.msg.resumeUpload()},a._resumeRemoteUpload=function(){a.props.msg.resumeRemoteUpload()},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e,t,a=this.props.mediaData,n=a.mediaStage;switch(n){case"RESOLVED":e=null,t=null;break;case"FETCHING":e=this._cancelDownload,t=u.createElement(p.PendingCancel,null);break;case"NEED_POKE":e=this._downloadMedia,t=u.createElement(p.Download,{filesize:a.size});break;case"UPLOADING":e=this._cancelUpload,t=u.createElement(p.PendingCancel,null);break;case"NEED_UPLOAD":e=this._resumeUpload,t=u.createElement(p.Upload,{filesize:a.size});break;case"REMOTE_NEED_UPLOAD":e=this._resumeRemoteUpload,t=u.createElement(p.Upload,{filesize:a.size});break;case"ERROR_MISSING":e=this._showMediaMissing,t=u.createElement(p.Upload,{filesize:a.size});break;case"ERROR_UNSUPPORTED":e=this._showMediaMissing,t=u.createElement(p.Download,{filesize:a.size});break;case"SENDING":case"DECRYPTING":case"ERROR_TOO_LARGE":case"INIT":case"PREPARING":case"REMOTE_UPLOADING":case"REUPLOADING":t=u.createElement(p.Pending,null);break;default:throw new Error("invalid value for sticker mediaStage '".concat(n,"'"))}return u.createElement("div",{className:(0,l.default)(m.default.thumb,v.default.cursorAuto),onClick:e},t,this.props.children)}}]),t}(u.PureComponent);j.CONCERNS={mediaData:["mediaStage","size"]};var E=(0,b.default)(j,j.CONCERNS);t.default=E},bjddijedhj:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.shift();if(Array.isArray(t)){var a=e.shift();!function(e,t){var a=l.default.Contact,n=t&&"remove"===t.missing?(0,c.getContactsToRemove)(e):[];(0,f.mungePSAContact)(e);var i=Promise.resolve();if(o.default.supportsFeature(o.default.F.MD_BACKEND)){if(n.length){var r=n.map(function(e){return e.id.toString()});i=d.Contact.bulkRemove(r)}i=i.then(function(){return(0,u.bulkCreateOrUpdateContacts)(e)})}i.then(function(){a.add(e,{merge:!0}),n.forEach(function(e){e.unset("name"),e.unset("shortName")}),t&&t.checksum&&(a.setChecksum(t.checksum),s.default.log("handle:Contact update checksum "+t.checksum)())}),s.default.log("handle:Contact updated "+e.map(function(e){return e.id}).join())()}(t,a)}else"preempt"===t.cmd?function(e){var t,a=l.default.Contact;(0,f.mungePSAContact)(e.response),t=o.default.supportsFeature(o.default.F.MD_BACKEND)?(0,u.bulkCreateOrUpdateContacts)(e.response):Promise.resolve();t.then(function(){a.add(e.response,{merge:!0}),e.checksum&&(a.setChecksum(e.checksum),s.default.log("Store:Contact:handle update checksum "+e.checksum)()),a.trigger(i.default.COLLECTION_HAS_SYNCED,{count:e.response.length,binarySize:e.binarySize})})}(t):"frequent"===t.type?function(e){var t;delete e.type,t=o.default.supportsFeature(o.default.F.MD_BACKEND)?(0,r.setFrequent)(e):Promise.resolve();t.then(function(){l.default.Contact.updateFrequentContacts(e)})}(t):"sidelist"===t.type?function(e){var t=l.default.Contact,a=e.notification,n=e.action,i=e.hash,r=t._contactHashes.get(i);if(!r)return;"business"===a&&"profile"===n&&r.forEach(function(e){var a=t.get(e);if(a)a.businessProfile&&a.businessProfile.markStale();else{var n=t.getUserCount(),r=t._contactHashes.length;s.default.assert(!1,"Stale wid in contact hash index","Hash: ".concat(i," Users: ").concat(n,", Hashes: ").concat(r))()}})}(t):s.default.error("handle:Contact unknown: "+JSON.stringify(t))()};var i=n(a("baagejbchg")),r=a("cbecjajacd"),o=n(a("bjbdcigbdi")),s=n(a("bdiiahhjbe")),d=a("cefcddgdgg"),c=a("dbefabiacb"),l=n(a("bhggeigghg")),u=a("dbhhjaecch"),f=a("dafafigeih")},bjdfbiahbi:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=(0,r.default)(s.default.chatSubtitle,{[s.default.chatSubtitleHeader]:"title"===e.location});return o.createElement("div",{className:t},o.createElement(d.default,{titlify:!0,className:s.default.chatSubtitleText,direction:"inherit",text:e.text}))};var r=i(a("ceffhbhahb")),o=n(a("ddhijeejag")),s=i(a("hbfbchadb")),d=i(a("fifhbjiec"))},bjdjbcefcc:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("eaidjcib")),r=n(a("ffceefejc")),o=n(a("cjedcdbdii")),s=n(a("dbjagcfebh")),d=n(a("bfjfgcfade")),c=n(a("dfcggebdjj")),l=n(a("cdheafhdbh")),u=n(a("ccchcigijb")),f=n(a("eccjbdjafd")),h=n(a("ciibfajghc")),p=n(a("eaecbgafff")),g=n(a("bafdbchefg")),m=n(a("bfccafhbbb")),b=n(a("ddibegacej")),v=n(a("ecidjifge")),j=new u.default,E=new d.default,y=function(e){function t(){return(0,i.default)(this,t),(0,r.default)(this,(0,o.default)(t).apply(this,arguments))}return(0,s.default)(t,e),t}((0,f.default)([c.default,E,p.default,j,g.default,h.default]));t.default=y,y.Suggestions=(0,v.default)(m.default,{plugin:j}),y.EmojiSuggestions=(0,v.default)(l.default,{plugin:E}),y.QuickRepliesSuggestions=(0,v.default)(b.default,{plugin:h.default})},bjeccdffag:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg"),r=i(a("bacehaajgh")),o=n(a("ddhijeejag")),s=i(a("bbahcjdgfa")),d=i(a("becfabjeeg")),c=i(a("bfdcadbbif")),l=function(e){var t=e.children,a=e.onClick,n=a?{onClick:a}:{};return o.createElement("div",(0,r.default)({className:s.default.docState},n),t)};e.exports={Download:function(e){var t=e.onClick;return o.createElement(l,{onClick:t||function(){}},o.createElement(c.default,{name:"audio-download"}))},Pending:function(e){var t=e.outgoingMsg;return o.createElement(l,null,o.createElement("div",{className:s.default.spinner},o.createElement(d.default,{stroke:3,size:32,outgoingMsg:t})))},PendingCancel:function(e){var t=e.outgoingMsg;return o.createElement(l,null,o.createElement("div",{className:s.default.spinner},o.createElement(d.default,{stroke:3,size:32,outgoingMsg:t})),o.createElement(c.default,{name:"audio-cancel-noborder"}))},Upload:function(){return o.createElement(l,null,o.createElement(c.default,{name:"audio-upload"}))}}},bjecicbiic:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.sendConversationDelete=function(e,t,a){return o.default.sendConversationDelete(e,t).then(function(n){if(i.default.supportsFeature(i.default.F.MD_BACKEND)&&200===n.status&&!n._duplicate){var o=a();if(t&&t.equals(o)||t===o)return r.Chat.remove(e.toString()).then(function(){return n})}return n})};var i=n(a("bjbdcigbdi")),r=a("cefcddgdgg"),o=n(a("bihdhbjih"))},bjfacgbcjj:function(e,t){e.exports={msg:"_1WMT2",hover:"_1lakC",current:"_2nA3s",active:"_2V_Wj"}},bjfecgfdgj:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.RecentEmojiCollection=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("djecdhecha")),c=i(a("cjedcdbdii")),l=i(a("bjehdcaaj")),u=i(a("dbjagcfebh")),f=i(a("hhegggegb")),h=i(a("eaaagccfda")),p=n(a("cgcgbfbffj")),g=i(a("djegeegcbf")),m=a("ddjgcfjicj"),b=i(a("bjbdcigbdi")),v=i(a("bdiiahhjbe")),j=i(a("dghggcieid")),E=a("hjbbdjjdf"),y=i(a("bihdhbjih")),_=100,S=36,C=function(e){function t(){var e;return(0,r.default)(this,t),(e=(0,s.default)(this,(0,c.default)(t).call(this))).dirty=!1,e._throttledSync=(0,f.default)(function(e){e.sync()},S,{leading:!1}),e.listenTo((0,d.default)(e),"change:weight change:length",(0,h.default)(e._sortTrimScale,_)),e}return(0,u.default)(t,e),(0,o.default)(t,[{key:"_sortTrimScale",value:function(){var e=this.length;if(e){this.sort(),e>S&&this.remove(this.models.slice(S));var t=this.head(),a=this.last();t&&a&&t.weight<10&&a.weight>.01||this.forEach(function(t,a){t.weight=1+(e-a)/e*3})}}},{key:"delete",value:function(){(0,l.default)((0,c.default)(t.prototype),"delete",this).call(this),this.dirty=!1,this._throttledSync.cancel()}},{key:"sync",value:function(){var e=this;return this.findQuery({},{set:!0}).finally(function(){e.dirty=!1}).catch(m.WapDrop,function(){}).catch(E.isString,function(){})}},{key:"_findQuery",value:function(){return b.default.supportsFeature(b.default.F.RECENT_EMOJI_SYNC)?y.default.recentEmojiQuery(this.dirty?this.toArray():void 0).then(function(e){return Array.isArray(e)?(e.forEach(function(e){e.id=g.default.normalizeEmoji(e.id)}),Promise.resolve(e)):(v.default.error("models:recentEmoji:findQuery error",e)(),Promise.reject("recent emoji fetch error"))}):Promise.reject("gk recent emoji sync unsupported")}},{key:"throttledSync",value:function(){b.default.supportsFeature(b.default.F.RECENT_EMOJI_SYNC)&&(v.default.log("models:RecentEmoji:throttledSync dirty: ".concat(String(this.dirty)))(),this._throttledSync(this))}},{key:"increment",value:function(e){var t=g.default.getSkinToneEmojis()[e]||e;this.get(t)||this.add({id:t,weight:0}),this.forEach(function(e){var a=e.weight;e.id===t?a+=1:a*=.9,e.weight=Math.round(1e3*a)/1e3}),this.dirty=!0,this.throttledSync()}}]),t}(p.default);t.RecentEmojiCollection=C,C.cachePolicy={id:"recent_emoji_collection",policy:p.CACHE_POLICY.LOAD,delay:2e3},C.comparator=function(e,t){return e.weight>t.weight?-1:1},C.model=j.default;var A=new C;t.default=A},bjfgjddfab:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("ceffhbhahb")),o=n(a("ddhijeejag")),s=i(a("cegfacfjjj")),d=i(a("bfdcadbbif"));var c=function(e){var t=e.name;return o.createElement("div",{className:(0,r.default)(s.default.centerChild,s.default.show)},o.createElement(d.default,{name:t}))};t.default=c},bjfjacgeai:function(e,t){e.exports={sensor:"_2xINO"}},bjgdagjjci:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("bjehdcaaj")),l=i(a("dbjagcfebh")),u=i(a("djheacfeif")),f=n(a("dcaifjegcg")),h=i(a("cfadcbbiie")),p=i(a("bjigbaghc")),g=i(a("dhigahgdjb")),m=a("dfdhiegfdi"),b=a("hjbbdjjdf"),v=i(a("jccfhaecf")),j=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).id=(0,f.prop)(),a.msg=(0,f.prop)(),a.lat=(0,f.prop)(),a.lng=(0,f.prop)(),a.accuracy=(0,f.prop)(),a.speed=(0,f.prop)(),a.degrees=(0,f.prop)(),a.sequence=(0,f.prop)(),a.comment=(0,f.prop)(),a.expiration=(0,f.prop)(),a.lastUpdated=(0,f.prop)(),a.contact=(0,f.session)(),a.expireTimerId=(0,f.session)(),a.disabled=(0,f.session)(!1),a.isMe=(0,f.derived)(a._isMe,["id"]),a.valid=(0,f.derived)(a._valid,["lat","lng"]),a}return(0,l.default)(t,e),(0,o.default)(t,[{key:"_isMe",value:function(){return this.id.equals(p.default.me)}},{key:"_valid",value:function(){return t=this.lat,(0,b.isNumber)(t)&&t>=-90&&t<=90&&(e=this.lng,(0,b.isNumber)(e)&&e>=-180&&e<=180);var e,t}},{key:"initialize",value:function(){(0,c.default)((0,d.default)(t.prototype),"initialize",this).call(this),this.addChild("contact",g.default.gadd(this.id)),(0,m.addLiveLocation)(this.contact,this),this.listenTo(this,"change:expiration",this._setExpireTimer),this._setExpireTimer()}},{key:"delete",value:function(){(0,c.default)((0,d.default)(t.prototype),"delete",this).call(this),this._disableMsg(),(0,m.removeLiveLocation)(this.contact,this),this._clearExpireTimer()}},{key:"remainingTime",value:function(){return this.expiration-h.default.globalUnixTime()}},{key:"elapsedTime",value:function(){return h.default.globalUnixTime()-this.lastUpdated}},{key:"disable",value:function(){this.disabled=!0}},{key:"_disableMsg",value:function(){var e=this.msg;e&&(e.shareDuration=h.default.globalUnixTime()-e.t-1)}},{key:"_setExpireTimer",value:function(){this.expiration&&(this.remainingTime()<=0?this._expire():this.expireTimerId=u.default.setGlobalTimeout(this._expire.bind(this),1e3*this.expiration,this.expireTimerId))}},{key:"_clearExpireTimer",value:function(){u.default.clearTimeout(this.expireTimerId),this.expireTimerId=null}},{key:"_expire",value:function(){this.disable()}}]),t}(f.default);j.Proxy="liveLocationParticipant",j.idClass=v.default;var E=(0,f.defineModel)(j);t.default=E},bjghdijfjd:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=n(a("ddhijeejag")),u=i(a("bhhdeihhhf")),f=i(a("ihfccfgdf")),h=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,(0,d.default)(t).apply(this,arguments))}return(0,c.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=this.props,t=e.chat,a=e.disabled,n=this.props.onMarkUnread.bind(null,!t.unreadCount);return l.createElement(u.default,{a8n:"mi-mark-as",action:n,key:"MarkUnreadMenuItem",disabled:a},t.unreadCount?l10n.t(703):l10n.t(704))}}]),t}(l.PureComponent);h.CONCERNS={chat:["unreadCount"]};var p=(0,f.default)(h,h.CONCERNS);t.default=p},bjghfcjch:function(e,t){e.exports={mediaViewerImg:"V2ijM",cropOverlay:"gHl-a"}},bjgibbgbai:function(e,t,a){"use strict";var n=a("cfjecfhbfg")(a("chgaccicf"));e.exports=(0,n.default)({EMOJI_ENTER:void 0,EMOJI_INACTIVE:void 0,EMOJI_LEFT:void 0,EMOJI_RIGHT:void 0,EMOJI_SEARCH:void 0,EMOJI_TAB:void 0})},bjgiedaj:function(e,t,a){"use strict";var n=a("cfjecfhbfg")(a("fffdgbfji")),i={IDR:"in-ID",MXN:"es-MX",INR:"en-IN"};function r(e,t,a){var n=a/1e3;return new Intl.NumberFormat(e,{style:"currency",currency:t}).format(n)}function o(e,t){return r(e,t,0).replace(/\d+([,.]\d+)?/g,"").trim()}e.exports={format:function(e,t){return r(n.default.getLocale(),e,t)},formatToParts:function(e,t){var a=n.default.getLocale(),i=function(e){return new Intl.NumberFormat(e).format(1.1).substring(1,2)}(a),s=o(a,e),d=r(a,e,t).replace(s,"").trim(),c=d.indexOf(i);return{symbol:s,integer:-1===c?d:d.substring(0,c),decimal:-1===c?"":d.substring(c)}},formatLocalSymbol:function(e){return o(i[e],e)}}},bjhbahjgdi:function(e,t,a){"use strict";var n=a("cfjecfhbfg"),i=n(a("bhfcfhafdj")),r=n(a("bdiiahhjbe")),o=n(a("cffajefeag")),s=n(a("cahfddcdga")),d={chat:["Chat","Contact"],message:["Msg"],contact:["Contact"]},c={queryLabels:function(){var e=this;return new Promise(function(t,a){var n=e.queryNode({type:"label"});e.binSend("sendEphemeral",n,a,{onSend:e.binWrap(function(n){e.BinaryProtocol.read(n).then(function(a){var n={labels:[]};if(r.default.logColor("green","bin-recv: response,label",a)(),"response"===e.N.tag(a)&&"label"===e.N.attr("type",a)){n.checksum=e.N.attr("checksum",a);var i=e.N.children(a);if(Array.isArray(i))for(var o=0;o<i.length;o++){var s=e.parseLabel(i[o]),d=s&&s.label;d&&n.labels.push(d)}}t(n)}).catch(a)},t),onDrop:e.wrap(a)},{debugString:"query,labels",metricName:"QUERY_LABELS"})})},parseLabel:function(e){if("label"===this.N.tag(e)){var t,a=parseInt(this.N.attr("count",e),10),n=this.N.attr("id",e),i=this.N.attr("name",e),r=this.N.attr("color",e),c=isNaN(a)?void 0:a,u=this.N.attr("type",e);if("update"===u)for(var f=this.N.children(e),h=0;h<f.length;h++){var p=f[h],g=null;switch(this.N.tag(p)){case"chat":g=this.N.attr("jid",p);break;case"message":var m=this.N.attr("jid",p),b=this.N.attr("index",p),v="true"===this.N.attr("owner",p),j=this.N.attr("participant",p);g=new o.default({fromMe:v,remote:m,id:b,participant:j})}var E={id:(0,s.default)(g),labels:l(this.N.children(p),this.N.attr),collection:d[this.N.tag(p)]};t=t?t.concat(E):[E]}var y={label:{id:n,name:i,color:r,count:c},type:u,labelUpdates:t},_=[!(u||n&&i&&r),u&&"update"!==u&&"delete"!==u];return this.dropIfConditionMet(_,y)}}};function l(e,t){return e&&Array.isArray(e)?e.reduce(function(e,a){return[].concat((0,i.default)(e),[(0,s.default)(t("id",a))])},[]):[]}e.exports=c},bjhcbbbjdc:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.MsgComponent=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=n(a("ddhijeejag")),u=i(a("ebhdjgicgg")),f=i(a("cbifffdech")),h=i(a("baagejbchg")),p=i(a("dibgadcjce")),g=i(a("bjbdcigbdi")),m=i(a("cfficaagef")),b=i(a("eacehgiidh")),v=a("ejbdjaifi"),j=i(a("icbjhhidg")),E=i(a("biadgfadhh")),y=i(a("bdiiahhjbe")),_=i(a("djjgggigcf")),S=i(a("fccahhfch")),C=i(a("cfbeeihgea")),A=i(a("gddafccec")),M=i(a("dhccihecch")),T=i(a("cggajedfhg")),P=i(a("gigggciff")),N=i(a("jjbcbhhjh")),I=i(a("hichbacjh")),k=i(a("caigihje")),O=i(a("ihfccfgdf")),R=a("bheafeifce"),w=i(a("dghebhejhb")),D=i(a("chdggedfah")),L=i(a("dbifijhjeg")),U=i(a("bejccccege")),G=i(a("ccjgccbced")),x=i(a("dbgefjefac")),F=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,(0,d.default)(t).apply(this,arguments))}return(0,c.default)(t,e),(0,o.default)(t,[{key:"getQuotedMsg",value:function(e){var t,a=this.props,n=a.displayType,i=a.msg,r=a.chat;if(g.default.supportsFeature(g.default.F.REPLIES_IN)&&n!==h.default.DISP_TYPE.GALLERY){var o=i.quotedMsgObj();if(o)t=l.createElement(N.default,{msg:o,key:o.id.toString(),rootMsg:(0,R.unproxy)(i),displayType:n,chat:(0,R.unproxy)(r),t:i.t});else{var s=i.getQuotedMsgAdminGroupJid();s&&(t=l.createElement(I.default,{quotedGroupJid:s}))}}return t}},{key:"getRef",value:function(){return this.ref}},{key:"render",value:function(){var e=this.props,t=e.chat,a=e.displayAuthor,n=e.displayType,i=e.isMsgVisible,r=e.msg;switch(r.type){case h.default.MSG_TYPE.CHAT:return l.createElement(L.default,{msg:(0,R.unproxy)(r),contact:r.senderObj,ref:(0,v.GetRef)("ref",this),quotedMsg:this.getQuotedMsg(h.default.MSG_TYPE.CHAT),trusted:r.isTrusted(),displayType:n,displayAuthor:a});case h.default.MSG_TYPE.IMAGE:return l.createElement(M.default,{msg:r,displayType:n,mediaData:r.mediaData,ref:(0,v.GetRef)("ref",this),quotedMsg:this.getQuotedMsg(h.default.MSG_TYPE.IMAGE),isMsgVisible:i,trusted:r.isTrusted(),displayAuthor:a});case h.default.MSG_TYPE.PRODUCT:return l.createElement(T.default,{msg:r,mediaData:r.mediaData,displayAuthor:a,trusted:r.isTrusted(),onProductClick:this.props.onProductClick,quotedMsg:this.getQuotedMsg(h.default.MSG_TYPE.IMAGE)});case h.default.MSG_TYPE.GROUP_NOTIFICATION:case h.default.MSG_TYPE.GP2:case h.default.MSG_TYPE.BROADCAST_NOTIFICATION:case h.default.MSG_TYPE.NOTIFICATION:case h.default.MSG_TYPE.NOTIFICATION_TEMPLATE:case h.default.MSG_TYPE.E2E_NOTIFICATION:case h.default.MSG_TYPE.CALL_LOG:return l.createElement(S.default,{contact:(0,R.unproxy)(t).contact,msg:r,ref:(0,v.GetRef)("ref",this)});case h.default.MSG_TYPE.AUDIO:return l.createElement(u.default,{msg:r,mediaData:r.mediaData,quotedMsg:this.getQuotedMsg(h.default.MSG_TYPE.AUDIO),displayAuthor:a,displayType:n,ref:(0,v.GetRef)("ref",this)});case h.default.MSG_TYPE.VIDEO:return r.isGif?l.createElement(m.default,{displayAuthor:a,displayType:n,isMsgVisible:i,maxWidth:this.props.maxWidth,mediaData:r.mediaData,msg:r,quotedMsg:this.getQuotedMsg(h.default.MSG_TYPE.VIDEO),ref:(0,v.GetRef)("ref",this),trusted:r.isTrusted()}):l.createElement(x.default,{displayAuthor:a,displayType:n,hover:this.props.hover,isMsgVisible:i,mediaData:r.mediaData,msg:r,quotedMsg:this.getQuotedMsg(h.default.MSG_TYPE.VIDEO),ref:(0,v.GetRef)("ref",this),trusted:r.isTrusted()});case h.default.MSG_TYPE.VCARD:return l.createElement(G.default,{msg:r,ref:(0,v.GetRef)("ref",this),quotedMsg:this.getQuotedMsg(),displayType:n,displayAuthor:a});case h.default.MSG_TYPE.MULTI_VCARD:return l.createElement(_.default,{msg:r,ref:(0,v.GetRef)("ref",this),quotedMsg:this.getQuotedMsg(),displayType:n,displayAuthor:a});case h.default.MSG_TYPE.GROUPS_V4_INVITE:return l.createElement(b.default,{msg:r,ref:(0,v.GetRef)("ref",this),displayAuthor:a});case h.default.MSG_TYPE.LOCATION:return r.isLive?l.createElement(j.default,{msg:(0,R.unproxy)(r),ref:(0,v.GetRef)("ref",this),quotedMsg:this.getQuotedMsg(h.default.MSG_TYPE.LOCATION),trusted:r.isTrusted(),displayAuthor:a}):l.createElement(E.default,{msg:(0,R.unproxy)(r),ref:(0,v.GetRef)("ref",this),quotedMsg:this.getQuotedMsg(h.default.MSG_TYPE.LOCATION),displayAuthor:a});case h.default.MSG_TYPE.PAYMENT:return l.createElement(A.default,{msg:r,ref:(0,v.GetRef)("ref",this),quotedMsg:this.getQuotedMsg(h.default.MSG_TYPE.PAYMENT),displayAuthor:a});case h.default.MSG_TYPE.PTT:return l.createElement(P.default,{msg:r,mediaData:r.mediaData,quotedMsg:this.getQuotedMsg(h.default.MSG_TYPE.PTT),displayAuthor:a,displayType:n,ref:(0,v.GetRef)("ref",this),getSequentialMsg:this.props.getSequentialMsg});case h.default.MSG_TYPE.STICKER:return l.createElement(w.default,{msg:r,mediaData:r.mediaData,ref:(0,v.GetRef)("ref",this),quotedMsg:this.getQuotedMsg(h.default.MSG_TYPE.IMAGE),displayAuthor:a,position:this.props.position,forwardRef:this.props.forwardStickerRef});case h.default.MSG_TYPE.DOCUMENT:return l.createElement(p.default,{msg:r,displayType:n,mediaData:r.mediaData,ref:(0,v.GetRef)("ref",this),quotedMsg:this.getQuotedMsg(h.default.MSG_TYPE.DOCUMENT),trusted:r.isTrusted(),displayAuthor:a});case h.default.MSG_TYPE.UNKNOWN:return l.createElement(U.default,{msg:(0,R.unproxy)(r),displayAuthor:a});case h.default.MSG_TYPE.CIPHERTEXT:return l.createElement(f.default,{msg:r,ref:(0,v.GetRef)("ref",this),displayAuthor:a});case h.default.MSG_TYPE.REVOKED:return l.createElement(k.default,{msg:(0,R.unproxy)(r),ref:(0,v.GetRef)("ref",this)});case h.default.MSG_TYPE.OVERSIZED:return l.createElement(C.default,{msg:(0,R.unproxy)(r),displayAuthor:a});case h.default.MSG_TYPE.TEMPLATE:if(!r.hsmEnabled)return l.createElement(D.default,{msg:(0,R.unproxy)(r),displayType:n,displayAuthor:a});switch(r.subtype){case h.default.TEMPLATE_SUBTYPE.IMAGE:return l.createElement(M.default,{msg:r,displayType:n,mediaData:r.mediaData,ref:(0,v.GetRef)("ref",this),quotedMsg:this.getQuotedMsg(h.default.MSG_TYPE.TEMPLATE),isMsgVisible:i,trusted:r.isTrusted(),displayAuthor:a});case h.default.TEMPLATE_SUBTYPE.VIDEO:return l.createElement(x.default,{displayAuthor:a,displayType:n,hover:this.props.hover,isMsgVisible:i,mediaData:r.mediaData,msg:r,quotedMsg:this.getQuotedMsg(h.default.MSG_TYPE.TEMPLATE),ref:(0,v.GetRef)("ref",this),trusted:r.isTrusted()});case h.default.TEMPLATE_SUBTYPE.LOCATION:return l.createElement(E.default,{msg:(0,R.unproxy)(r),ref:(0,v.GetRef)("ref",this),quotedMsg:this.getQuotedMsg(h.default.MSG_TYPE.TEMPLATE),displayAuthor:a});case h.default.TEMPLATE_SUBTYPE.DOCUMENT:return l.createElement(p.default,{msg:r,displayType:n,mediaData:r.mediaData,ref:(0,v.GetRef)("ref",this),quotedMsg:this.getQuotedMsg(h.default.MSG_TYPE.TEMPLATE),trusted:r.isTrusted(),displayAuthor:a});case h.default.TEMPLATE_SUBTYPE.TEXT:return l.createElement(L.default,{msg:(0,R.unproxy)(r),contact:r.senderObj,ref:(0,v.GetRef)("ref",this),quotedMsg:this.getQuotedMsg(h.default.MSG_TYPE.TEMPLATE),trusted:r.isTrusted(),displayType:n,displayAuthor:a});default:return l.createElement(D.default,{msg:(0,R.unproxy)(r),displayType:n,displayAuthor:a})}case h.default.MSG_TYPE.HSM:return l.createElement(L.default,{msg:(0,R.unproxy)(r),contact:r.senderObj,ref:(0,v.GetRef)("ref",this),quotedMsg:this.getQuotedMsg(h.default.MSG_TYPE.HSM),trusted:r.isTrusted(),displayType:n,displayAuthor:a});case h.default.MSG_TYPE.TEMPLATE_BUTTON_REPLY:return r.hsmEnabled?l.createElement(L.default,{msg:(0,R.unproxy)(r),contact:r.senderObj,ref:(0,v.GetRef)("ref",this),quotedMsg:this.getQuotedMsg(h.default.MSG_TYPE.TEMPLATE_BUTTON_REPLY),trusted:r.isTrusted(),displayType:n,displayAuthor:a}):l.createElement(D.default,{msg:(0,R.unproxy)(r),displayType:n,displayAuthor:a});default:return y.default.log("messageList:render Unknown message type: "+r.type)(),l.createElement(U.default,{msg:(0,R.unproxy)(r),ref:(0,v.GetRef)("ref",this),displayAuthor:a})}}}]),t}(l.PureComponent);t.MsgComponent=F,F.CONCERNS={msg:["isGif","isLive","mediaData","senderObj","subtype","type","t","id","title","hsmEnabled"],chat:["trusted"]};var B=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,(0,d.default)(t).apply(this,arguments))}return(0,c.default)(t,e),(0,o.default)(t,[{key:"getRef",value:function(){return this.getComponent().getRef()}}]),t}((0,O.default)(F,F.CONCERNS));t.default=B},bjhdcidgah:function(e,t,a){e.exports=a.p+"img/animated-doodle_600127bdb5f7627ede5cd4ef320f55b0.png"},bjhfhjjdgd:function(e,t){e.exports={container:"_3W2zz",retryButton:"_3_cuW"}},bjhhaacbib:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=n(a("ddhijeejag")),u=i(a("dddjddjahc")),f=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).handlePlayByControls=function(){a.props.refVideo&&a.props.refVideo.play()},a.handlePauseByControls=function(){a.props.refVideo&&a.props.refVideo.pause()},a.handleSetCurrentTimeByControls=function(e){a.props.refVideo&&a.props.refVideo.setCurrentTime(e)},a.handleSetVolumeByControls=function(e){a.props.refVideo&&a.props.refVideo.setVolume(e)},a.handleSetMutedByControls=function(e){a.props.refVideo&&a.props.refVideo.setMuted(e)},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){if(!this.props.refVideo)return null;var e=this.props.videoMetadata;return e?l.createElement(u.default,{duration:e.duration,progress:e.currentTime,volume:e.volume,muted:e.muted,bufferedTime:e.bufferedTime,onPlay:this.handlePlayByControls,onPause:this.handlePauseByControls,onProgressChange:this.props.handleSetCurrentTimeByControls?this.props.handleSetCurrentTimeByControls:this.handleSetCurrentTimeByControls,onVolumeValueChange:this.handleSetVolumeByControls,onMutedValueChange:this.handleSetMutedByControls,isVideoPlaying:this.props.isVideoPlaying,isFullscreenMode:this.props.isFullscreenMode,className:this.props.controlsClassName}):null}}]),t}(l.PureComponent);t.default=f},bjhjaiccai:function(e,t,a){"use strict";function n(e){var t=e.find(function(e){return!!e});return e.length?t?1===e.length?t:l10n.t(776,{contactName:t,count:e.length-1,_plural:e.length-1}):l10n.t(778,{count:e.length,_plural:e.length}):l10n.t(777)}Object.defineProperty(t,"__esModule",{value:!0}),t.getNameString=function(e){return n(e.map(function(e){return e.displayName}))},t.getNameStringFromNames=n},bjidaciaje:function(e,t){e.exports={body:"_2lIlo",text:"NXIBh",hidden:"_3TuOE",desc:"_3tsVg",more:"_2v0mb"}},bjjajbbcbi:function(e,t){e.exports={quotedMsg:"_3xviK",quotedMsgAuthor:"_39LDU",quotedMsgInComposeBox:"aZla8"}},bjjegiiahd:function(e,t,a){"use strict";var n=a("cfjecfhbfg"),i=n(a("dgdjiicfdg")),r=n(a("bjigbaghc")),o=a("hjbbdjjdf"),s=n(a("bgeajihhc")),d={setGroupDescription:function(e,t,a,n){var d=this;return new Promise(function(c,l){var u,f=s.default.tag(),h=d.wrap(c);h.tag=f,u=(0,o.isString)(t)?[["description",{id:a,prev:n||"none"},t]]:[["description",{prev:n||"none",delete:"true"},void 0]];var p=["group",{id:f,jid:e,type:"description",author:r.default.me},u],g=d.actionNode("set",[p]);d.binSend("send",g,l,{clientCacheable:!0,onSend:h,onDrop:d.wrap(l)},{debugString:"action,group,desc",metricName:"GROUP",expires:(0,i.default)().unix()})})},setGroupProperty:function(e,t,a){var n=this;return"announcement"!==t&&"restrict"!==t&&"no_frequently_forwarded"!==t?Promise.reject("invalid group property"):new Promise(function(o,d){var c,l=s.default.tag(),u=n.wrap(o);switch(u.tag=l,t){case"announcement":c=[["announcement",{value:(!!a).toString()},void 0]];break;case"restrict":c=[["locked",{value:(!!a).toString()},void 0]];break;case"no_frequently_forwarded":c=[["no_frequently_forwarded",{value:(!!a).toString()},void 0]]}var f=["group",{id:l,jid:e,type:"prop",author:r.default.me},c],h=n.actionNode("set",[f]);n.binSend("send",h,d,{clientCacheable:!0,onSend:u,onDrop:n.wrap(d)},{debugString:["action,group,prop",t,a].join(),metricName:"GROUP",expires:(0,i.default)().unix()})})},demoteParticipants:function(e,t){return this.setGroupParticipants("demote",e,t)}};e.exports=d},bjjhgbbeja:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.auth,a=e.ciphertextHmac,n=e.encFilehash,d=e.hostname,c=e.type,l=e.signal,u=e.onProgress,f=(0,o.default)({auth:t,encFilehash:n,hostname:d,type:c}),h={encFilehash:n,type:c,url:f};return s.default.log("mmsUpload: start",h)(),(0,r.default)(f,{method:"post",body:a,signal:l,onProgress:u}).then(function(e){if(!e.ok)switch(e.status){case 401:throw new i.MMSUnauthorizedError("mmsUpload",{url:f});case 413:throw new i.MediaTooLargeError("mmsUpload",{url:f});case 415:throw new i.MediaInvalidError("mmsUpload: hash mismatch",{url:f});case 507:throw new i.MMSThrottleError("mmsUpload",{url:f});default:throw new i.HttpStatusCodeError(e.status,"mmsUpload",{url:f})}return e.json()}).then(function(e){if(!e.direct_path)throw new i.HttpInvalidResponseError("mmsUpload: missing direct_path");if(!e.url)throw new i.HttpInvalidResponseError("mmsUpload: missing url");return{directPath:e.direct_path,url:e.url}}).then(function(e){return s.default.log("mmsUpload: success",h)(),e}).catch(function(e){throw s.default.error("mmsUpload: error",h,e)(),e})};var i=a("fgeddfbg"),r=n(a("dgjijbgdai")),o=n(a("cfgbadhada")),s=n(a("bdiiahhjbe"))},bjjiehdfge:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=n(a("ddhijeejag")),u=i(a("dbgdaechch")),f=i(a("bhhdeihhhf")),h=i(a("ecdjiddfjg")),p=a("bhfdfhefca"),g=i(a("bfgbdiffgd")),m=i(a("bfdcadbbif")),b=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,(0,d.default)(t).apply(this,arguments))}return(0,c.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=this.props,t=e.onSendProduct,a=e.onReportProduct,n=e.onProductLinkClick;return l.createElement(l.Fragment,null,g.default.productCatalogDeeplink&&l.createElement(p.MenuBarItem,{a8nText:"menu-bar-product-link",icon:l.createElement(h.default,null),title:l10n.t(924),onClick:n}),l.createElement(p.MenuBarItem,{a8nText:"menu-bar-menu",icon:l.createElement(m.default,{name:"menu"}),title:l10n.t(729)},l.createElement(u.default,{type:"dropdown_menu",flipOnRTL:!0,key:"ProductDetailHeader",dirX:"LEFT"},l.createElement(f.default,{a8n:"mi-send menu-item",action:t},l10n.t(1049)),l.createElement(f.default,{a8n:"mi-report menu-item",action:a},l10n.t(970)))))}}]),t}(l.PureComponent);t.default=b},bjjjdidhhi:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=n(a("ddhijeejag")),u=i(a("cfaiaibca")),f=i(a("baagejbchg")),h=i(a("dciidighgh")),p=i(a("bbddghdigd")),g=a("bidfjbaebi"),m=a("facgccaif"),b=i(a("bcbahjefec")),v=i(a("dhfbfehaef")),j=i(a("fffdgbfji")),E=i(a("chcadgfgad")),y=i(a("caffijjhc")),_=i(a("egjjcjcg")),S=function(e){function t(){var e;(0,r.default)(this,t),(e=(0,s.default)(this,(0,d.default)(t).call(this))).onDelete=function(){e.end()},e.onRevoke=function(){e.showRevokeNux?(e.push(e.renderRevokeNux(),"none"),_.default.setNUX(f.default.NUX.REVOKE_LEGAL_DISCLAIMER_NUX,{views:1,maxViews:1})):e.end()},e.onPopupCancel=function(){e.end()},e.onCancel=function(){e.end()},e.openRevokeLearnMore=function(){(0,g.openExternalLink)((0,m.getRevokeFaqUrl)())},e.onRevokeNuxClicked=function(){e.end()},e.renderRevokeNux=function(){var t=[l.createElement(u.default,{type:"plain",onClick:e.openRevokeLearnMore,key:1},j.default.t(644)),l.createElement(u.default,{type:"primary",onClick:e.onRevokeNuxClicked,key:0},j.default.t(1331))];return l.createElement(y.default,{displayName:"MsgRevokeNuxModal",escapable:!1},l.createElement(v.default,{handlers:{enter:e.onRevokeNuxClicked}},l.createElement(E.default,{actions:t},l.createElement("div",{className:h.default.label},j.default.t(1e3)))))};var a=_.default.getNUX(f.default.NUX.REVOKE_LEGAL_DISCLAIMER_NUX);return e.showRevokeNux=!a||a.views<a.maxViews,e}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.chat,a=e.msgList,n=e.deletePrompt,i=e.revokePrompt,r=e.toastPosition,o=e.onCancel,s=e.isMsgVisible;this.push(l.createElement(p.default,{chat:t,msgList:a,deletePrompt:n,revokePrompt:i,toastPosition:r,onDelete:this.onDelete,onRevoke:this.onRevoke,onPopupCancel:this.onPopupCancel,onCancel:o,isMsgVisible:s}))}}]),t}(b.default);t.default=S},caafgbfcba:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.AudioPlayerFrame=P,t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=i(a("ceffhbhahb")),u=n(a("ddhijeejag")),f=a("djciiabagi"),h=i(a("djidacbicd")),p=i(a("cfadcbbiie")),g=i(a("bbchdeehff")),m=i(a("baagejbchg")),b=i(a("fffdgbfji")),v=i(a("eceadcicaf")),j=i(a("bbjadhadbg")),E=i(a("dagdiahdfi")),y=i(a("cahfddcdga")),_=a("cjefbihjci"),S=i(a("dhbegafffi")),C=i(a("becfabjeeg")),A=i(a("bfdcadbbif")),M=i(a("fbjjefaic")),T=function(e){function t(e){var a;return(0,r.default)(this,t),(a=(0,s.default)(this,(0,d.default)(t).call(this,e))).setRefAudio=function(e){a.refAudio=(0,f.findDOMNode)(e)},a.onPlayClick=function(){var e=a.refAudio;e&&(a.props.playing?e.pause():e.play())},a.onPttPlayback=function(e){if(a.props.currMsgId===e){a.setState({sequentialPlayback:!0,progress:0}),a.trackCursorRef&&a.trackCursorRef.current&&(a.startingScrollPos=a.trackCursorRef.current.getBoundingClientRect().top);var t=a.refAudio;t&&(a.delayPttPromise=a.delayPtt(m.default.PTT_PLAYBACK_DELAY).cancellable().then(function(){t.currentTime=0,t.play()}).catch(function(){}).finally(function(){a.delayPttPromise=null}))}},a.delayPtt=function(e){return new Promise(function(t){return a.props.setInterval(t,e)})},a.onNewPttRecording=function(){var e=a.refAudio;e&&(a.props.playing&&e.pause(),a.delayPttPromise&&a.delayPttPromise.cancel())},a.onPlaying=function(){var e=a.props.currMsgId;e&&g.default.pttPlaying(e),a.props.onPlayingUpdate(!0)},a.onPause=function(){a.props.onPlayingUpdate(!1)},a.onEnded=function(){var e=a.refAudio;e&&(e.currentTime=0,e.load(),a.maybePlayNextPTT())},a.onTimeUpdate=function(){var e=a.refAudio;if(e){var t=0;Number.isFinite(e.duration)&&(t=Math.round(100*Math.min(1,e.currentTime/e.duration)),a.props.onTimeUpdate(e.currentTime)),a.setState({progress:t})}},a.onDrag=function(e){var t=a.refAudio;if(t){var n=parseInt(e.currentTarget.value);null==n||isNaN(n)||(a.setState({progress:n}),t.duration&&(t.currentTime=t.duration/100*n))}},a.onPlayerError=function(e){},a.onOtherPttPlaying=function(e){a.props.currMsgId!==e&&a.delayPttPromise&&a.delayPttPromise.cancel()},a.renderAudioTag=function(e){return u.createElement(h.default,{ref:a.setRefAudio,url:e,preload:"auto",onError:a.onPlayerError,autoPlay:a.props.autoPlay})},a.state={progress:0,playedBefore:e.played,sequentialPlayback:!1},a.trackCursorRef=u.createRef(),a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){var e=(0,y.default)(this.refAudio);this.props.listeners.add(e,"playing",this.onPlaying),this.props.listeners.add(e,"pause",this.onPause),this.props.listeners.add(e,"ended",this.onEnded),this.props.listeners.add(e,"timeupdate",this.onTimeUpdate),this.props.listeners.add(e,"durationchange",this.onTimeUpdate),this.props.listeners.add(e,"progress",this.onTimeUpdate),this.props.listeners.add(g.default,"pttRecording",this.onNewPttRecording),this.props.listeners.add(g.default,"sequential_playback_ptt",this.onPttPlayback),this.props.listeners.add(g.default,"pttPlaying",this.onOtherPttPlaying)}},{key:"isValidPlaybackSequence",value:function(e){return e.type===m.default.MSG_TYPE.PTT&&!(e.isSentByMe&&!this.props.outgoingMsg&&!this.state.playedBefore)}},{key:"maybePlayNextPTT",value:function(){var e=this,t=this.state.sequentialPlayback;if(this.props.getSequentialMsg&&this.props.currMsgId){var a=this.props.getSequentialMsg(this.props.currMsgId);a&&this.isValidPlaybackSequence(a)?this.delayPttPromise=this.delayPtt(m.default.PTT_PLAYBACK_DELAY).cancellable().then(function(){E.default.getGlobalSounds()&&(0,_.playMidPttTone)();var t=e.trackCursorRef&&e.trackCursorRef.current&&e.trackCursorRef.current.getBoundingClientRect().top;null!=t&&e.startingScrollPos===t&&g.default.scrollToPtt(a),g.default.autoplayPTT(a.id)}).catch(function(){}).finally(function(){e.delayPttPromise=null}):this.state.sequentialPlayback&&(this.delayPttPromise=this.delayPtt(m.default.PTT_PLAYBACK_DELAY).cancellable().then(function(){E.default.getGlobalSounds()&&(0,_.playEndPttTone)(),e.delayPttPromise=null}).catch(function(){}).finally(function(){e.delayPttPromise=null}),t=!1),this.setState({playedBefore:!0,sequentialPlayback:t})}}},{key:"render",value:function(){var e=this,t=this.props.playing?"audio-pause":"audio-play",a={width:this.state.progress-this.state.progress/100*3+"%"},n=null!=this.props.duration&&0!==this.props.duration?u.createElement("div",{className:S.default.metadata},p.default.durationStr(this.props.duration)):null,i=u.createElement("button",{className:S.default.button,onClick:this.onPlayClick},u.createElement(A.default,{name:t})),r=(0,y.default)(this.props.mediaData),o=(0,y.default)(this.props.downloadMedia),s=u.createElement(j.default,{mediaData:r,placeholderRenderer:function(){return e.renderAudioTag("")},downloadMedia:o},this.renderAudioTag);return u.createElement(P,{button:i,played:this.props.played,outgoingMsg:this.props.outgoingMsg,displayType:this.props.displayType},n,u.createElement("div",{className:S.default.trackContainer,ref:this.trackCursorRef},u.createElement("span",{className:S.default.progress,style:a}),u.createElement("input",{dir:"ltr",type:"range",className:S.default.track,value:this.state.progress,onChange:this.onDrag,min:"0",max:"100"}),s))}}]),t}(u.PureComponent);function P(e){var t=e.spinner&&!e.button?u.createElement("div",{className:S.default.spinner},u.createElement(C.default,{stroke:3,size:34,outgoingMsg:e.outgoingMsg})):null,a=!e.icon||e.button||e.spinner?null:u.createElement("button",{className:S.default.button,onClick:e.action},e.icon),n=null!=e.fileSize&&0!==e.fileSize?u.createElement("div",{className:S.default.metadata},b.default.filesize(e.fileSize)):null,i=e.children||u.createElement("input",{className:S.default.track,dir:"ltr",disabled:"disabled",max:100,min:0,type:"range",value:0}),r=(0,l.default)(S.default.audio,{[S.default.audioIn]:!e.outgoingMsg,[S.default.audioOut]:e.outgoingMsg,[S.default.played]:e.played,[S.default.isGallery]:e.displayType===m.default.DISP_TYPE.STARRED_MSGS||e.displayType===m.default.DISP_TYPE.GALLERY});return u.createElement("div",{className:r},u.createElement("div",{className:S.default.controls},e.button,t,a),u.createElement("div",{className:S.default.body},i,n))}var N=(0,M.default)((0,v.default)(T));t.default=N},caahjiefj:function(e,t){e.exports={bodyContainer:"_20KNO",gifPanel:"_2PAm9",panelBody:"_3HCkv"}},cabhjigfgc:function(e,t,a){"use strict";var n=a("cfjecfhbfg"),i=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.children,a=e.onClick,n=e.icon,i=e.className,l=e.color,u=e.theme,f=n?r.createElement("div",{className:d.default.icon},n):null,h=(0,o.default)(d.default.container,i,{[d.default.containerNoIcon]:!n,[d.default.containerListAligned]:"list-aligned"===u}),p=a?"button":null,g="string"==typeof t?t:null;return r.createElement("div",{"data-a8n":s.default.key(e.a8nText),className:h,"data-ignore-capture":"any",onClick:a,role:p,title:g},f,r.createElement("div",{className:d.default.bodyContainer},r.createElement("div",{className:d.default.body},r.createElement(c.default,{theme:"title",color:l},t))))};var r=i(a("ddhijeejag")),o=n(a("ceffhbhahb")),s=n(a("effbcehec")),d=n(a("hddadiifa")),c=n(a("eedjbihej"))},cacaidhjb:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=n(a("ddhijeejag")),u=i(a("dhbceejbjg")),f=i(a("bjigbaghc")),h=i(a("dhhfaeacef")),p=i(a("djcchigfih")),g=i(a("djbhiedbef")),m=i(a("cabhjigfgc")),b=n(a("dajffajabh")),v=i(a("fifhbjiec")),j=i(a("fffdgbfji")),E=i(a("ibeajfihb")),y=i(a("bfdcadbbif")),_=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,(0,d.default)(t).apply(this,arguments))}return(0,c.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=l.createElement(E.default,{id:this.props.profileId}),t=l.createElement(h.default,{id:f.default.me,size:82,quality:h.default.Quality.HIGH}),a=l.createElement(v.default,{text:f.default.pushname,ellipsify:!0,titlify:!0});return l.createElement(p.default,{theme:"settings"},l.createElement(b.default,{title:j.default.t(1052),onBack:this.props.onClose,type:b.DRAWER_HEADER_TYPE.LARGE}),l.createElement(g.default,null,l.createElement(u.default,{onClick:this.props.onProfile,image:t,primary:a,theme:"identity",secondary:e}),l.createElement(m.default,{a8nText:"li-notifications",icon:l.createElement(y.default,{name:"settings-notifications"}),onClick:this.props.onNotifications},j.default.t(721)),l.createElement(m.default,{a8nText:"li-chat_wallpaper",icon:l.createElement(y.default,{name:"settings-wallpaper"}),onClick:this.props.onWallpaper},j.default.t(727)),l.createElement(m.default,{a8nText:"li-blocked",icon:l.createElement(y.default,{name:"settings-blocked"}),onClick:this.props.onBlocked},j.default.t(714)),void 0,l.createElement(m.default,{a8nText:"li-help",icon:l.createElement(y.default,{name:"settings-help"}),onClick:this.props.onHelp},j.default.t(716)),void 0,void 0,void 0,void 0))}}]),t}(l.PureComponent);t.default=_},cacbgbjgef:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=i(a("ceffhbhahb")),u=n(a("ddhijeejag")),f=i(a("bbchdeehff")),h=i(a("ddidadfgch")),p=a("bgjddhffji"),g=i(a("ecdifdiid")),m=i(a("ihfccfgdf")),b=a("bheafeifce"),v=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).onClick=function(e,t){var n=a.props,i=n.product,r=n.sessionId;(0,p.logDetailImageClick)((0,b.unproxy)(i),r);var o={activeProductImage:t,productImageCollection:i.productImageCollection,getZoomNode:function(){return e},product:i};f.default.productImageViewerModal(o,r)},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=this.props,t=e.product,a=e.shouldShrinkUp,n=e.isAvailable,i=e.fetching,r=t.productImageCollection.toArray();return u.createElement("div",{className:(0,l.default)({[g.default.container]:1===r.length,[g.default.gridContainer]:r.length>1,[g.default.shrinkUp]:r.length>1&&a})},u.createElement(h.default,{columns:2,lastColumnNumRows:2,imageModels:r,numberTextClassName:g.default.numberText,onClick:n?this.onClick:null,lastColumnClassName:r.length>1?g.default.lastColumn:void 0,renderFallbackImage:!n,productMsgMediaData:t.productMsgMediaData,fetching:i}))}}]),t}(u.Component);v.CONCERNS={product:["productImageCollection","productMsgMediaData"]};var j=(0,m.default)(v,v.CONCERNS);t.default=j},caceaafdic:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.SystemBubble=function(e){var t=(0,l.default)(B.default.message,B.default.messageSystem,{[B.default.messageHidden]:e.hidden});return u.createElement("div",{className:(0,l.default)(B.default.msg,B.default.msgSystem)},u.createElement("div",{className:t},e.children))},t.MessageContainer=function(e){var t=(0,l.default)(B.default.msgContainer,{"message-out":e.isSentByMe,"message-in":!e.isSentByMe}),a=(0,l.default)(B.default.message,"tail tail-override-left");return u.createElement("div",{className:t},u.createElement("div",{className:a},u.createElement("div",{className:B.default.messageBackground},u.createElement("span",{className:"tail-container"}),e.children)))},t.default=t.Wrapper=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=i(a("ceffhbhahb")),u=n(a("ddhijeejag")),f=i(a("effbcehec")),h=i(a("dbdfbgehgj")),p=i(a("bbchdeehff")),g=i(a("dacicgjcai")),m=i(a("baagejbchg")),b=i(a("biddiiafgd")),v=i(a("bjjjdidhhi")),j=a("cgejchjdhj"),E=n(a("bhhdeihhhf")),y=i(a("eiighchhi")),_=a("ddajbaceej"),S=i(a("ghbbeafj")),C=i(a("bjbdcigbdi")),A=a("ciajafaaie"),M=i(a("bdiiahhjbe")),T=i(a("cfhgffgbcb")),P=i(a("deifjeacc")),N=a("ddbddjjgia"),I=i(a("dbfbdfhfee")),k=i(a("bjhcbbbjdc")),O=i(a("gdeficihh")),R=i(a("ihfccfgdf")),w=a("bheafeifce"),D=i(a("bfdcadbbif")),L=i(a("caeafadcah")),U=i(a("caffijjhc")),G=i(a("dbjbhajgfd")),x=i(a("bcifhbgija")),F=i(a("didfdhbecg")),B=i(a("cighigadh")),V=a("bedfbecdgd"),H=function(e){function t(e){var a;(0,r.default)(this,t),(a=(0,s.default)(this,(0,d.default)(t).call(this,e))).didCancel=!1,a.highlightAnimation=null,a.setRefMsgComponent=function(e){return a.refMsgComponent=e},a.setRefContext=function(e){return a.refContext=e},a.setRefHighlightTail=function(e){return a.refHighlightTail=e},a.setRefBubble=function(e){return a.refBubble=e},a.sizeMismatch=!1,a.stickerRef=u.createRef(),a._setRefContainer=function(e){a._refContainer=e},a._refMsgContainer=u.createRef(),a.resend=function(){a.props.msg.resend().catch(function(e){M.default.log("wrapper:resend failure: "+e)()})},a.mouseEnter=function(e){e.buttons||a.state.hover||!a.contextEnabled()||a.setState({hover:!0})},a.mouseLeave=function(){a.state.hover&&a.contextEnabled()&&a.setState({hover:!1})},a.mouseDown=function(){a.state.hover&&a.setState({hover:!1})},a._getMenuRefContext=function(){if(a.refContext)return a.refContext.getComponent().refContext},a.onMenu=function(e,t){if(t&&a.state.contextMenu)a.setState({contextMenu:!1});else{var n=t?a._getMenuRefContext():e,i=(0,w.unproxy)(a.props.msg),r=[];i.isSentByMe&&a.props.displayType!==m.default.DISP_TYPE.MSG_INFO&&!i.isRevoked&&r.push(u.createElement(E.default,{key:"info",a8n:"mi-msg-info",action:function(){a.openInfoDrawer()}},l10n.t(737))),i.canReply()&&r.push(u.createElement(E.default,{key:"reply",a8n:"mi-msg-reply",action:function(){a.onReplyMessage()}},l10n.t(957))),(i.canPrivateReply()||i.canPrivateReplyInRestrictedGrp())&&r.push(u.createElement(E.default,{key:"private_reply",a8n:"mi-msg-reply",action:function(){a.onPrivateReplyMessage()}},l10n.t(917))),i.mediaData&&i.mediaData.isDownloadable()&&i.type!==m.default.MSG_TYPE.STICKER&&!i.isRevoked&&r.push(u.createElement(E.default,{key:"download",a8n:"mi-msg-download",action:function(){a.onDownload()}},l10n.t(1193))),i.canForward()&&r.push(u.createElement(E.default,{key:"forward",a8n:"mi-msg-forward",action:function(){a.openForwardFlow(!0)}},l10n.t(485))),C.default.supportsFeature(C.default.F.LABELS_EDIT)&&!i.isRevoked&&r.push(u.createElement(E.default,{key:"editLabel",a8n:"mi-edit-label",action:function(){a.openEditLabelFlow()}},l10n.t(412))),i.canStar()&&(i.star?r.push(u.createElement(E.default,{key:"star",a8n:"mi-msg-unstar",action:function(){a.onUnstarMessage()}},l10n.t(1111))):r.push(u.createElement(E.default,{key:"star",a8n:"mi-msg-star",action:function(){a.onStarMessage()}},l10n.t(1060)))),r.push(u.createElement(E.default,{key:"delete",a8n:"mi-msg-delete",action:function(){a.onDeleteMessage()}},l10n.t(376))),i.isGroupMsg&&i.author&&!i.isSentByMe&&r.push(u.createElement(E.default,{key:"author",a8n:"mi-msg-author",action:function(){a.openContactChat()}},l10n.t(733,{author:i.displayName()}))),a.setState({contextMenu:{menu:r,anchor:n,theme:E.ThemeOptions.COMPACT}})}},a.onSelectClick=function(e){e&&e.stopPropagation();var t=a.props.onMessageSelect;t?t((0,w.unproxy)(a.props.msg),!a.state.selected,e):M.default.assert(!1,"wrapper-onSelectClick","no onMessageSelect")()},a._handleClick=function(e){var t=a.props,n=t.msg,i=t.onClick;i&&i(e,n.id.toString())},a.onDoubleClick=function(e){var t=a.props.displayType,n=(0,w.unproxy)(a.props.msg);if(n.canReply()&&!a.props.selectable&&t===m.default.DISP_TYPE.CONVERSATION){(function(e,t){for(var a=t;a;){if(a===e)return!0;a=a.parentNode}return!1})(a.refBubble,e.target)||(n.chat.composeQuotedMsg=n,p.default.focusChatTextInput(n.chat),a.highlight())}},a.onResize=function(){a.forceUpdate()},a.state={contextMenu:!1,hover:!1,highlighting:!1,selected:!!e.selectedMessages&&e.selectedMessages.isSelected((0,w.unproxy)(e.msg))};var n=a.props.displayType===m.default.DISP_TYPE.STARRED_MSGS||a.props.displayType===m.default.DISP_TYPE.GALLERY||a.props.displayType===m.default.DISP_TYPE.MSG_INFO;return a.sizeMismatch=n&&a.props.msg.isGif,a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){this.sizeMismatch&&this.refBubble&&(this.maxWidth=this.refBubble.offsetWidth,this.forceUpdate(),window.addEventListener("resize",this.onResize))}},{key:"componentWillUnmount",value:function(){this.refBubble&&(0,x.default)(this.refBubble,"finish",!0),this.sizeMismatch&&window.removeEventListener("resize",this.onResize)}},{key:"scrollMsg",value:function(e,t){this._refContainer&&(0,j.scrollAt)(this._refContainer,void 0,t).then(e)}},{key:"highlight",value:function(e){var t=this,a=this.refHighlightTail,n=this.refBubble;n&&(this.setState({highlighting:!0}),this.highlightAnimation&&(this.didCancel=!0,this.highlightAnimation.cancel()),this.highlightAnimation=(this.highlightAnimation||Promise.resolve()).then(function(){var e,i,r,o,s;if(a&&(e=(0,x.default)(a,{opacity:[1,0]},{duration:250}),i=(0,x.default)(a,{opacity:[0,1]},{duration:250,delay:250})),$(t.props.msg)){r={tween:[.75,1]},o={tween:[1,.75]},s=function(e,t,a,n,i){e.forEach(function(e){e.style.filter=1===i?"":"brightness(".concat(i,")")})}}else{var d,c;t.props.msg.isNotification?(d="#e1f2fb",c="#b6c9d2"):(d=t.props.msg.isSentByMe?"#dcf8c6":"#ffffff",c=t.props.msg.isSentByMe?"#b3cba1":"#cccccc"),r={backgroundColor:[c,d]},o={backgroundColor:[d,c]}}var l=(0,x.default)(n,r,{duration:250,progress:s}),u=(0,x.default)(n,o,{duration:250,delay:250,progress:s});return Promise.all(a?[e,i,l,u]:[l,u])}).cancellable().then(function(){t.onHighlightComplete(e)}).catch(Promise.CancellationError,function(){(0,x.default)(a,"stop",!0),(0,x.default)(n,"stop",!0)}).finally(function(){t.didCancel?t.didCancel=!1:t.highlightAnimation=null}))}},{key:"onHighlightComplete",value:function(e){this.setState({highlighting:!1},function(){e&&e()});var t=this.props.onHighlightComplete;t&&t(this.props.msg.id.toString())}},{key:"openForwardFlow",value:function(e){var t,a=this.props.msg;if(a.type===m.default.MSG_TYPE.CIPHERTEXT?t=l10n.t(468):a.isRevoked?t=l10n.t(469):a.isUnsentMedia&&(t=l10n.t(467,{_plural:1})),t)p.default.openModal(u.createElement(b.default,{title:l10n.t(470),onOK:function(){return p.default.closeModal()},okText:l10n.t(1331)},t));else{if(e&&this.props.displayType===m.default.DISP_TYPE.CONVERSATION)return void this.onSelectClick();p.default.openModal(u.createElement(S.default,{msgs:[(0,w.unproxy)(a)]}),{transition:"modal-flow"})}}},{key:"openEditLabelFlow",value:function(){this.props.displayType!==m.default.DISP_TYPE.CONVERSATION?p.default.openModal(u.createElement(T.default,{modelsToUpdate:[(0,w.unproxy)(this.props.msg)]})):this.onSelectClick()}},{key:"openInfoDrawer",value:function(){p.default.msgInfoDrawer((0,w.unproxy)(this.props.msg))}},{key:"openContactChat",value:function(){h.default.find(this.props.msg.author).then(function(e){p.default.openChatFromUnread(e).then(function(t){t&&p.default.focusChatTextInput(e)})})}},{key:"contextEnabled",value:function(){return!this.props.msg.isNotification}},{key:"onDeleteMessage",value:function(){var e=this.props,t=e.msg,a=e.isMsgVisible;p.default.openModal(u.createElement(v.default,{chat:t.chat,msgList:[t].map(w.unproxy),deletePrompt:!0,revokePrompt:t.canRevoke(),isMsgVisible:a}))}},{key:"onReplyMessage",value:function(){var e=(0,w.unproxy)(this.props.msg),t=e.chat;t.composeQuotedMsg=e,p.default.focusChatTextInput(t)}},{key:"onPrivateReplyMessage",value:function(){var e=this,t=(0,w.unproxy)(this.props.msg);h.default.find(t.sender).then(function(e){return Promise.props({ok:p.default.openChatBottom(e),chat:e})}).then(function(a){var n=a.ok,i=a.chat;n&&(i.composeQuotedMsg=t,e.props.msg&&e.props.msg.chat&&(i.composeQuotedMsgRemoteJid=e.props.msg.chat.id))})}},{key:"onDownload",value:function(){y.default.initDownload((0,w.unproxy)(this.props.msg))}},{key:"onStarMessage",value:function(){var e=(0,w.unproxy)(this.props.msg);p.default.sendStarMsgs(e.chat,[e])}},{key:"onUnstarMessage",value:function(){var e=(0,w.unproxy)(this.props.msg);p.default.sendUnstarMsgs(e.chat,[e])}},{key:"contextOpen",value:function(){this.onMenu(void 0,!0)}},{key:"contextClose",value:function(){this.setState({contextMenu:!1})}},{key:"getMsgComponent",value:function(e){var t=this.props,a=t.msg,n=t.position,i=t.displayType,r=t.isMsgVisible,o=t.getSequentialMsg;return u.createElement(k.default,{chat:a.chat,displayAuthor:e,displayType:i,hover:this.state.hover,isMsgVisible:r,maxWidth:this.maxWidth,msg:a,ref:this.setRefMsgComponent,position:n,getSequentialMsg:o,onProductClick:this.props.onProductClick,forwardStickerRef:this.stickerRef})}},{key:"getMsgComponentRef",value:function(){return this.refMsgComponent&&this.refMsgComponent.getRef()}},{key:"onSelectChange",value:function(e){this.state.selected!==e&&this.setState({selected:e})}},{key:"focus",value:function(e){var t;(null===(t=this._refMsgContainer)||void 0===t?void 0:t.current)&&(0,_.focus)(this._refMsgContainer.current,e)}},{key:"render",value:function(){var e,t=this,a=this.props,n=a.msg,i=a.position,r=a.displayType,o=a.selectedMessages,s=r===m.default.DISP_TYPE.CONVERSATION,d=n.type!==m.default.MSG_TYPE.CHAT||r!==m.default.DISP_TYPE.STARRED_MSGS&&!!n.quotedMsg||!(i===N.MsgPosition.MID||i===N.MsgPosition.END)||r===m.default.DISP_TYPE.GALLERY||n.linkPreview||(0,A.isParsableOnlineVideoURL)(n.richPreviewType,n.matchedText,n.doNotPlayInline);(this.state.hover&&!this.state.highlighting||this.props.current||this.state.contextMenu)&&r!==m.default.DISP_TYPE.GALLERY&&!this.props.selectable&&(e=u.createElement(P.default,{msg:n,position:i,key:"icon-context",ref:this.setRefContext,onToggle:function(e){t.onMenu(e)}}));var c=null;if(!n.isNotification&&this.props.selectable){var h=r===m.default.DISP_TYPE.GALLERY?"gallery":null;c=u.createElement(I.default,{checked:!!this.state.selected,onClick:this.onSelectClick,msgTheme:h})}var p=null;n.type===m.default.MSG_TYPE.STICKER&&this.props.selectable&&(p=u.createElement("span",null,u.createElement("div",{className:B.default.stickerWrapperContainer,onMouseEnter:this.stickerRef.current?this.stickerRef.current.onMouseEnter:null,onClick:this.onSelectClick})));var b=!1;if(n.type===m.default.MSG_TYPE.CHAT){var v=g.default.match(n.body);b=1===v.length&&v[0][4][0].length===n.body.length}var j,E,y,_,S,C,M=n.chat&&n.chat.isPSA,T=!M&&!this.props.tailOverride&&(i===N.MsgPosition.FRONT||i===N.MsgPosition.SINGLE)||r===m.default.DISP_TYPE.MSG_INFO||this.props.tailOverride,k=$(n)&&(!d||n.isSentByMe||!n.isGroupMsg&&!n.quotedMsg)&&(s&&(i===N.MsgPosition.FRONT||i===N.MsgPosition.SINGLE)||!s),R=(0,l.default)(B.default.msg,{[B.default.msgContinuation]:!(i!==N.MsgPosition.FRONT&&i!==N.MsgPosition.MID||n.hsmEnabled&&n.isQuickReply),[B.default.msgPSA]:r!==m.default.DISP_TYPE.STARRED_MSGS&&M,[B.default.msgSystem]:n.isNotification,[B.default.msgGallery]:r===m.default.DISP_TYPE.STARRED_MSGS||r===m.default.DISP_TYPE.GALLERY,[B.default.msgInfo]:r===m.default.DISP_TYPE.MSG_INFO,"message-out":!n.isNotification&&n.isSentByMe||r===m.default.DISP_TYPE.MSG_INFO,"message-in":!n.isNotification&&!n.isSentByMe}),w=(0,l.default)(B.default.message,function(e){switch(e.type){case m.default.MSG_TYPE.NOTIFICATION_TEMPLATE:return e.isBizNotification?B.default.messageBizNotification:void 0;case m.default.MSG_TYPE.E2E_NOTIFICATION:return B.default.messageE2ENotification;case m.default.MSG_TYPE.GROUPS_V4_INVITE:return B.default.messageChat;case m.default.MSG_TYPE.CHAT:return(0,A.isParsableOnlineVideoURL)(e.richPreviewType,e.matchedText,e.doNotPlayInline)?B.default.messageVideoLinkPreview:B.default.messageChat;case m.default.MSG_TYPE.LOCATION:return e.isLive?B.default.messageLiveLocation:B.default.messageLocation;case m.default.MSG_TYPE.VCARD:return B.default.messageVcard;case m.default.MSG_TYPE.CIPHERTEXT:return(0,l.default)(B.default.messageChat,B.default.messagePlaceholder);case m.default.MSG_TYPE.MULTI_VCARD:return B.default.messageMultiVcard;case m.default.MSG_TYPE.IMAGE:return B.default.messageImage;case m.default.MSG_TYPE.PRODUCT:return B.default.messageProduct;case m.default.MSG_TYPE.STICKER:return $(e)?B.default.messageTransparent:B.default.messageSticker;case m.default.MSG_TYPE.VIDEO:return e.mediaData.isGif?B.default.messageGif:B.default.messageVideo;case m.default.MSG_TYPE.AUDIO:return B.default.messageAudio;case m.default.MSG_TYPE.PTT:return B.default.messagePTT;case m.default.MSG_TYPE.DOCUMENT:return B.default.messageDocument;case m.default.MSG_TYPE.TEMPLATE:if(e.hsmEnabled){if(e.subtype===m.default.TEMPLATE_SUBTYPE.IMAGE)return B.default.messageImage;if(e.subtype===m.default.TEMPLATE_SUBTYPE.VIDEO)return B.default.messageVideo;if(e.subtype===m.default.TEMPLATE_SUBTYPE.LOCATION)return B.default.messageLocation;if(e.subtype===m.default.TEMPLATE_SUBTYPE.DOCUMENT)return B.default.messageDocument;if(e.subtype===m.default.TEMPLATE_SUBTYPE.TEXT)return B.default.messageChat}break;case m.default.MSG_TYPE.TEMPLATE_BUTTON_REPLY:if(e.hsmEnabled)return B.default.messageChat;break;case m.default.MSG_TYPE.UNKNOWN:return(0,l.default)(B.default.messageChat,B.default.messagePlaceholder);default:return}}(n),{[B.default.messageSystem]:n.isNotification,[B.default.messageCode]:b,tail:T,"tail-override-left":"left"===this.props.tailOverride,"tail-override-right":"right"===this.props.tailOverride,[B.default.tailOverrideHide]:k}),x=(0,l.default)({[B.default.messageBackground]:!$(n),[B.default.hasBorderBox]:!n.isNotification&&!$(n),[B.default.hasUrlCallButtons]:n.hsmEnabled&&n.hasTemplateButtons&&!n.isQuickReply});if(this.sizeMismatch&&!this.refBubble)return u.createElement("div",{className:B.default.placeholder,ref:this.setRefBubble});j=this.state.contextMenu?"none":n.isRTL?"pop-fast-reverse":"pop-fast",this.state.contextMenu&&(E=u.createElement(U.default,{displayName:"MsgContextMenu",escapable:!0,popable:!0,requestDismiss:function(){return t.contextClose()}},u.createElement(G.default,{contextMenu:this.state.contextMenu}))),this.props.isFocusedMsg&&(y=u.createElement(V.WhileFocusedListener,{parent:this})),o&&(_=u.createElement(V.SelectionListener,{parent:this,msgId:n.id.toString(),selectedMessages:o})),s&&!this.props.selectable&&n.canQuickForward()&&(S=u.createElement("div",{className:B.default.btnForward,onClick:function(){return t.openForwardFlow(!1)},role:"button"},u.createElement(D.default,{name:"forward-chat"}))),n.mediaData&&(C=u.createElement(V.MediaListener,{parent:this,mediaData:n.mediaData}));var H,W,K,q=Y,z="msg-container";n.isNotification&&(z="msg-notification-container"),T&&(H=u.createElement("span",{className:"tail-container"}),W=u.createElement("span",{className:"tail-container highlight",ref:this.setRefHighlightTail})),n.logInitialRender(),n.hsmEnabled&&n.hasTemplateButtons&&(K=u.createElement(L.default,{msg:n,chat:n.chat}));return u.createElement("div",{className:R,onClick:this._handleClick,onDoubleClick:this.onDoubleClick,ref:this._setRefContainer},u.createElement(F.default,{transitionName:"delay-leave"},c),u.createElement("div",{ref:this._refMsgContainer,"data-a8n":f.default.key(z),className:w,onContextMenu:q,onMouseOver:this.mouseEnter,onMouseEnter:this.mouseEnter,onMouseDown:this.mouseDown,onMouseUp:this.mouseEnter,onMouseLeave:this.mouseLeave,tabIndex:null},H,W,u.createElement(O.default,{displayType:r,msg:n}),p,u.createElement("div",{className:x,ref:this.setRefBubble},this.getMsgComponent(d)),u.createElement(F.default,{transitionName:j},e),S,K),E,y,_,C)}}]),t}(u.PureComponent);t.Wrapper=H,H.defaultProps={displayType:m.default.DISP_TYPE.CONVERSATION},H.CONCERNS={msg:["ack","author","body","chat","dir","id","isBizNotification","isFailed","isGif","isGroupMsg","isLive","isMedia","isMMS","isNotification","isRevoked","isRTL","isSentByMe","isUnsentMedia","linkPreview","mediaData","matchedText","quotedMsg","richPreviewType","sender","star","subtype","type","title","hasTemplateButtons","isQuickReply","hsmEnabled","doNotPlayInline"]};var W=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,(0,d.default)(t).apply(this,arguments))}return(0,c.default)(t,e),(0,o.default)(t,[{key:"focus",value:function(e){this.getComponent().focus(e)}},{key:"contextOpen",value:function(){this.getComponent().contextOpen()}},{key:"getMsgComponentRef",value:function(){return this.getComponent().getMsgComponentRef()}}]),t}((0,R.default)(H,H.CONCERNS));function Y(e){e.stopPropagation()}function $(e){return e.type===m.default.MSG_TYPE.STICKER&&!e.quotedMsg}t.default=W},cacgcabfhd:function(e,t){e.exports={spinner:"_2JqQZ",search:"_1w-mX",inputLine:"_39cGk",inputarea:"_44uDJ",contacts:"_70TS5",drawerSection:"_39zhW",inputareaSizer:"_3Xd_4"}},cachecbicf:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createProductLink=function(e,t){return"https://wa.me/p/".concat(t,"/").concat(e)},t.createCatalogLink=function(e){return"https://wa.me/c/".concat(e)}},caciiaejed:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=n(a("ddhijeejag")),u=i(a("bdghdbcbdc")),f=i(a("ciaidfgabf")),h=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,(0,d.default)(t).apply(this,arguments))}return(0,c.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=this,t=-1,a=this.props.sectionIds.map(function(a,n){var i=!1;return a===e.props.selectedSectionId&&(t=n,i=!0),e.props.renderSectionTab(a,i)});return l.createElement(u.default,null,l.createElement(f.default,{numTabs:this.props.sectionIds.length,selectedTabIndex:t}),a)}}]),t}(l.Component);t.default=h},cadbaeefbb:function(e,t,a){"use strict";var n=a("cfjecfhbfg"),i=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.items.map(function(e,t){return r.createElement("div",{className:s.default.actionsBtn,key:t,onClick:e.onClick,role:"button",title:e.title||e.label},e.label)});return r.createElement("div",{className:(0,o.default)(s.default.actions,{[s.default.noDivider]:"no-divider"===e.theme})},t)};var r=i(a("ddhijeejag")),o=n(a("ceffhbhahb")),s=n(a("diigahjidi"))},cadedacjj:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={DOWNLOAD:"DOWNLOAD",UPLOAD:"UPLOAD"};t.default=n},cadfgfddig:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=i(a("ceffhbhahb")),u=n(a("ddhijeejag")),f=i(a("dhbceejbjg")),h=i(a("cfifaahgae")),p=i(a("djcchigfih")),g=i(a("djbhiedbef")),m=n(a("dajffajabh")),b=i(a("fifhbjiec")),v=i(a("cijajafeeb")),j=i(a("ddhffgjhb")),E=n(a("cgbfcjgjcf")),y=a("cachecbicf");function _(e){var t=e.productImageCollection.head();return t?u.createElement(E.default,{className:(0,l.default)(j.default.productImage,j.default.productImageContainer),mediaData:t.mediaData}):u.createElement(E.ProductThumbPlaceholder,{className:(0,l.default)(j.default.productThumb,j.default.productThumbContainer)})}var S=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,(0,d.default)(t).apply(this,arguments))}return(0,c.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=this.props,t=e.onBack,a=e.product,n=(0,y.createProductLink)(a.catalogWid.user,a.id.toString());return u.createElement(p.default,{onDrop:t,key:"product-link-drawer"},u.createElement(m.default,{a8n:"product-link-title",title:l10n.t(924),onBack:t,type:m.DRAWER_HEADER_TYPE.SMALL}),u.createElement(g.default,null,u.createElement(f.default,{image:_(a),primary:u.createElement(b.default,{text:a.name,direction:"auto"}),theme:"identity",secondary:u.createElement(v.default,{id:"product-link-anchor",href:n})}),u.createElement(h.default,{elementId:"product-link-anchor"})))}}]),t}(u.Component);t.default=S},cadjjhjjci:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var a=t.parentNode;if(!a)return;if(t.nextSibling)return void a.insertBefore(e,t.nextSibling);return a.appendChild(e),e}},caeafadcah:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=i(a("ceffhbhahb")),u=n(a("ddhijeejag")),f=i(a("cfaiaibca")),h=i(a("bbchdeehff")),p=i(a("baagejbchg")),g=n(a("bidfjbaebi")),m=i(a("fffdgbfji")),b=a("dbcedfihd"),v=i(a("eceadcicaf")),j=i(a("chcadgfgad")),E=a("dbbhhgjjbg"),y=i(a("ihfccfgdf")),_=i(a("ciheehhei")),S=i(a("bfdcadbbif")),C=i(a("igahgcaag")),A=p.default.TEMPLATE_BUTTON_SUBTYPE,M=A.QUICK_REPLY,T=A.URL,P=A.CALL;function N(e,t){var a=(0,b.findLink)(e,!1,t.from);if(a&&a.suspiciousCharacters)return h.default.openModal(u.createElement(_.default,{link:a}));var n=u.createElement(f.default,{a8nText:"popup-controls-go",type:"primary",onClick:function(){return function(e){(0,g.openExternalLink)(e),h.default.closeModal()}(e)},key:0},m.default.t(1241)),i=u.createElement(f.default,{a8nText:"popup-controls-cancel",type:"plain",onClick:function(){return h.default.closeModal()},key:1},m.default.t(1197)),r=p.default.TEMPLATE_URL_START+p.default.TEMPLATE_URL_END;h.default.openModal(u.createElement(j.default,{title:m.default.t(893),actions:[i,n]},u.createElement("div",null,m.default.t(894)),u.createElement(g.default,{href:e,isLongTemplateUrl:e.length>r},e)))}var I=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).handleClick=function(e){var t,n=e.subtype,i=e.url,r=e.displayText,o=e.selectionId,s=e.id;n===P?(t=u.createElement(f.default,{a8nText:"popup-controls-ok",type:"primary",onClick:function(){return h.default.closeModal()},key:0},m.default.t(1331)),h.default.openModal(u.createElement(j.default,{actions:[t]},m.default.t(258)))):n===T&&i?N(i,a.props.msg):n===M&&(0,E.sendTextMsgToChat)(a.props.chat,r,{quotedMsg:a.props.msg,selectedIndex:parseInt(s),selectedId:o}).then(function(){e.selected=!0})},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.msg;t.buttons&&t.buttons.length&&t.buttons.forEach(function(t){return e.props.listeners.add(t,"change:selected",function(){return e.forceUpdate()})})}},{key:"render",value:function(){var e,t=this,a=this.props.msg;return a.buttons&&(e=a.buttons.map(function(e){var a;switch(e.subtype){case P:a=u.createElement(S.default,{name:"hsm-call",className:C.default.icon});break;case T:a=u.createElement(S.default,{name:"hsm-link",className:C.default.icon})}var n=e.selected?void 0:function(){return t.handleClick(e)};return u.createElement("button",{key:e.id,className:(0,l.default)(C.default.actionButton,{[C.default.firstButton]:0===parseInt(e.id)&&e.subtype!==M,[C.default.disabled]:e.selected}),onClick:n},a,u.createElement("span",{className:C.default.actionText},e.displayText))})),u.createElement("div",{className:(0,l.default)({[C.default.quickReply]:a.isQuickReply,[C.default.callUrl]:!a.isQuickReply})},u.createElement("div",{className:C.default.buttonContainer},e))}}]),t}(u.PureComponent);I.CONCERNS={msg:["buttons","isQuickReply","from"]};var k=(0,v.default)((0,y.default)(I,I.CONCERNS));t.default=k},caedaejadb:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("bjehdcaaj")),l=i(a("dbjagcfebh")),u=i(a("cgcgbfbffj")),f=i(a("baagejbchg")),h=a("ddjgcfjicj"),p=n(a("cajijabhgb")),g=i(a("cbcbdjdah")),m=i(a("biecbbiiee")),b=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).hasLinkBefore=!0,a}return(0,l.default)(t,e),(0,o.default)(t,[{key:"delete",value:function(){(0,c.default)((0,d.default)(t.prototype),"delete",this).call(this),this.stopListening(),this.reset()}},{key:"queryLinks",value:function(e,t){var a=this;if(t)return this.queryLinkBefore?this.queryLinkBefore:(this.queryLinkBefore=m.default.queryMedia(t.id.remote,f.default.MEDIA_QUERY_LIMIT,"before",t.id,"url").then(function(e){return(!e||e.length<f.default.MEDIA_QUERY_LIMIT)&&(a.hasLinkBefore=!1),a.add(e,{at:0}),a.createLinksAndAddMsgs(e),{length:e.length}}).catch(h.WapDrop,p.ProtoVersionUndefined,function(){}).catch(404,function(){}).finally(function(){a.queryLinkBefore=null,a.trigger("query_link_before")}),this.trigger("query_link_before"),this.queryLinkBefore);var n=e.msgs.getModelsArray();if(0===this.length){if(!n||0===n.length)return this.hasLinkBefore=!1,new Promise(function(e){e({eof:!0})});this.add(n.filter(function(e){return e.getLinks().length>0}),{at:0}),this.createLinksAndAddMsgs(n)}if(e.msgs.msgLoadState.noEarlierMsgs)return this.hasLinkBefore=!1,new Promise(function(e){e({eof:!0})});if(this.length<=2*f.default.MEDIA_QUERY_LIMIT){var i=0===this.length?e.msgs.head():this.head();return this.queryLinks(e,i)}return new Promise(function(e){e({eof:!1})})}},{key:"createLinksAndAddMsgs",value:function(e){var t=this,a=[];Promise.loop(function(t,n,i){e.length===i&&t();var r=e[i];r.getLinks().length&&a.push(r)}).then(function(){t.add(a),t.trigger("query_link_before")})}}]),t}(u.default);t.default=b,b.model=g.default,b.comparator=function(e,t){return e.t-t.t}},caegbedegd:function(e,t,a){"use strict";var n=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("ddhijeejag")),r=a("eagfdbhhhh");function o(e){var t=e.children,a=e.selectable;return i.createElement(r.SelectableStrong,{selectable:a,appTextTemplate:"*${appText}*"},t)}o.defaultProps={children:""};var s=o;t.default=s},caeigadddg:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var a=e.reduce(function(e,t){var a=t.hotkeys;return a?(Object.keys(a).forEach(function(n){e[n]||(e[n]=[]),e[n].push([t,a[n]])}),e):e},{});return Object.keys(a).reduce(function(e,n){return e[n]=function(e,t){return function(a){e.some(function(e){var n=(0,i.default)(e,2),r=n[0],o=n[1],s=o.call(r,a,t);return!!a.defaultPrevented||!0===s&&(a.preventDefault&&a.preventDefault(),a.stopPropagation&&a.stopPropagation(),!0)})}}(a[n],t),e},{})};var i=n(a("hbddjfeei"))},caeigdhgia:function(e,t,a){"use strict";var n=a("cfjecfhbfg"),i=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("ddhijeejag")),o=n(a("bbchdeehff")),s=n(a("baagejbchg")),d=n(a("biddiiafgd")),c=n(a("ebijaadcje")),l=n(a("bfgbdiffgd"));var u=function(e){var t=function(e){var t={maxSize:l10n.filesize(l.default.media)},a={maxSize:l10n.filesize(l.default.maxFileSize)};switch(e){case s.default.MSG_TYPE.AUDIO:case s.default.MSG_TYPE.PTT:return l10n.t(732,t);case s.default.MSG_TYPE.IMAGE:return l10n.t(736,t);case s.default.MSG_TYPE.VIDEO:return l10n.t(750,t);case s.default.MSG_TYPE.DOCUMENT:return l10n.t(734,a);case s.default.MSG_TYPE.UNKNOWN:default:return l10n.t(735,a)}}(e.mediaType);return r.createElement(c.default,{displayType:e.displayType,onClick:f.bind(null,t),tooltip:t})};function f(e){o.default.openModal(r.createElement(d.default,{onOK:function(){return o.default.closeModal()}},e))}t.default=u},cafajifcca:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.requireBundle=E,t.ExpiredLocationDrawerLoadable=t.LiveLocationDrawerLoadable=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=n(a("ddhijeejag")),u=i(a("cbhegcchgg")),f=i(a("dghhefgjhc")),h=i(a("djcchigfih")),p=i(a("djbhiedbef")),g=n(a("dajffajabh")),m=a("cicgeajfge"),b=i(a("jheedhagg")),v=i(a("bdiiahhjbe")),j=i(a("bigicfbcdh"));function E(){return a.e(130).then(function(e){return{LiveLocationDrawer:a("dfjgigggff").default,ExpiredLocationDrawer:a("ddijbgcjdg").default}}.bind(null,a)).catch(a.oe)}var y=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).onCancel=function(){a.props.uim.uie.requestDismiss()},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){return l.createElement(h.default,null,l.createElement(g.default,{title:this.props.title,type:g.DRAWER_HEADER_TYPE.SMALL,onCancel:this.onCancel}),l.createElement(p.default,null,this.props.error?l.createElement(j.default,{inactive:!0,svgName:"live-location-refresh",text:l10n.t(981),onClick:this.props.retry}):l.createElement(m.Loading,null)))}}]),t}(l.PureComponent),_=(0,b.default)(y),S=(0,u.default)({loader:function(){return E().then(function(e){return e.LiveLocationDrawer}).catch(function(e){throw v.default.assert(!1,"loadable:LiveLocationDrawer loading error")(e),e})},loading:e=>l.createElement(_,{title:l10n.t(677),error:Boolean(e.error),retry:e.retry}),delay:f.default.LOADABLE_DELAY});t.LiveLocationDrawerLoadable=S;var C=(0,u.default)({loader:function(){return E().then(function(e){return e.ExpiredLocationDrawer}).catch(function(e){throw v.default.assert(!1,"loadable:ExpiredLocationDrawer loading error")(e),e})},loading:e=>l.createElement(_,{title:l10n.t(653),error:Boolean(e.error),retry:e.retry}),delay:f.default.LOADABLE_DELAY});t.ExpiredLocationDrawerLoadable=C},cafdagagdh:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.HOST_TYPE=t.SUPPORTS_ALL_MEDIA_TYPES=void 0;var i=n(a("eaidjcib")),r=n(a("dgcdacjddi")),o=a("gbjefdbgb").MEDIA_TYPE_VALUES.reduce(function(e,t){return e[t]=!0,e},{});t.SUPPORTS_ALL_MEDIA_TYPES=o;var s=Object.freeze({PRIMARY:"primary",FALLBACK:"fallback"});t.HOST_TYPE=s;var d=function(){function e(t){(0,i.default)(this,e);var a=e.extractMediaTypesFromRules(t.rules),n=a.download,r=a.upload;Object.assign(this,{ips:[]},{hostname:t.hostname,ips:t.ips,type:t.type,class:t.class,download:n,upload:r})}return(0,r.default)(e,[{key:"isFallback",value:function(){return null!=this.type&&this.type===s.FALLBACK}},{key:"supportsDownload",value:function(e,t){return(!this.type||this.type===e)&&this.download[t]}},{key:"supportsDownloadMediaType",value:function(e){return this.download[e]}},{key:"supportsUploadMediaType",value:function(e){return this.upload[e]}}],[{key:"extractMediaTypesFromRules",value:function(e){var t,a;return(e||[]).forEach(function(e){e.download&&(t=t||{},e.download.forEach(function(e){t&&(t[e]=!0)})),e.upload&&(a=a||{},e.upload.forEach(function(e){a&&(a[e]=!0)}))}),{download:t||o,upload:a||o}}}]),e}();t.default=d},cafffjgfbd:function(e,t){e.exports={AC:"(?:(4....)|(6[2-467]...))",AD:"(?:((?:3..|5..|6(?:[0-8].|9[1-9]|90...))...)|([78].....|180[02]....))",AE:"(?:(5[024-68].......)|([2-4679][2-8]......|400......|800...?.?.?.?.?.?.?))",AF:"(?:(7........)|((?:[25][0-8]|[34][0-4]|6[0-5])[2-9]......))",AG:"(?:(268[2-9]......)|(268(?:4(?:6[0-38]|84)|56[0-2])....|8(?:00|33|44|55|66|77|88)[2-9]......))",AI:"(?:(264(?:235|476|5(?:3[6-9]|8[1-4])|7(?:29|72))....)|(2644(?:6[12]|9[78])....|8(?:00|33|44|55|66|77|88)[2-9]......))",AL:"(?:(6[6-9].......)|((?:2(?:[168][1-9]|[247].|9[1-7])|3(?:1[1-3]|[2-6].|[79][1-8]|8[1-9])|4..|5(?:1[1-4]|[2-578].|6[1-5]|9[1-7])|8(?:[19][1-5]|[2-6].|[78][1-7])).....|800....))",AM:"(?:((?:4[1349]|55|77|88|9[1-9])......)|((?:1[0-2].|2(?:2[2-46]|3[1-8]|4[2-69]|5[2-7]|6[1-9]|8[1-7])|3[12]2|47.).....|800.....))",AO:"(?:(9[1-49].......)|(2.(?:[26-9].|.[26-9]).....))",AR:"(?:(675.......|9(?:11[2-9].......|(?:2(?:2[013]|3[067]|49|6[01346]|80|9[147-9])|3(?:36|4[12358]|5[138]|6[24]|7[069]|8[013578]))[2-9]......|....[2-9].....))|(11........|(?:2(?:2(?:[013].|2[13-79]|4[1-6]|5[2457]|6[124-8]|7[1-4]|8[13-6]|9[1267])|3(?:1[467]|2[03-6]|3[13-8]|[49][2-6]|5[2-8]|[067].)|4(?:7[3-8]|9.)|6(?:[01346].|2[24-6]|5[15-8])|80.|9(?:[0124789].|3[1-6]|5[234]|6[2-46]))|3(?:3(?:2[79]|6.|8[2578])|4(?:[78].|0[0124-9]|[1-35].|4[24-7]|6[02-9]|9[123678])|5(?:[138].|2[1245]|4[1-9]|6[2-4]|7[1-6])|6[24].|7(?:[0469].|1[1568]|2[013-9]|3[145]|5[14-8]|7[2-57]|8[0-24-9])|8(?:[013578].|2[15-7]|4[13-6]|6[1-357-9]|9[124]))|670.)......|800.......))",AS:"(?:(684[2-9]......)|(6846(?:22|33|44|55|77|88|9[19])....|8(?:00|33|44|55|66|77|88)[2-9]......))",AT:"(?:(6(?:5[0-3579]|6[013-9]|[7-9].).....?.?.?.?.?.?)|(1....?.?.?.?.?.?.?.?.?|(?:2(?:1[467]|2[13-8]|5[2357]|6[1-46-8]|7[1-8]|8[124-7]|9[1458])|3(?:1[1-8]|3[23568]|4[5-7]|5[1378]|6[1-38]|8[3-68])|4(?:2[1-8]|35|63|7[1368]|8[2457])|5(?:12|2[1-8]|3[357]|4[147]|5[12578]|6[37])|6(?:13|2[1-47]|4[1-35-8]|5[468]|62)|7(?:2[1-8]|3[25]|4[13478]|5[68]|6[16-8]|7[1-6]|9[45]))....?.?.?.?.?.?.?|800.......?.?.?.?))",AU:"(?:(14(?:5.|71).....|4(?:[0-3].|4[47-9]|5[0-25-9]|6[6-9]|7[02-9]|8[12457-9]|9[017-9])......|482......)|([237]........|8(?:[6-8]...|9(?:[02-9]..|1(?:[0-57-9].|6[0135-9])))....|180(?:0...|2)...))",AW:"(?:((?:290|5(?:[69].)|6(?:[03]0|22|4[0-2]|[69].)|7[34].|9(?:6[45]|9[4-8]))....)|(5(?:2.|8[1-9])....|800....))",AX:"18[1-8]....?.?.?.?.?.?|800.....?.?.?",AZ:"(?:((?:36554|(?:4[04]|5[015]|60|7[07])...)....)|((?:1[28]...|2(?:02|1[24]|2[2-4]|33|[45]2|6[23])..|365(?:[0-46-9].|5[0-35-9]))....|88.......))",BA:"(?:(6(?:0[34]|44|7.|[1-356])......|604......)|((?:[35].|49)......|8[08]......))",BB:"(?:(246[2-9]......)|(246(?:2(?:2[78]|7[0-4])|4(?:1[024-6]|2.|3[2-9])|5(?:20|[34].|54|7[1-3])|6(?:2.|38)|7(?:37|57)|9(?:1[89]|63))....|8(?:00|33|44|55|66|77|88)[2-9]......))",BD:"(?:((?:1[13-9].|(?:3[78]|44)[02-9]|6(?:44|6[02-9])).......)|(2(?:[45]...|7(?:1[0-267]|2[0-289]|3[0-29]|4[01]|5[1-3]|6[013]|7[0178]|91)|8(?:0[125]|[139][1-6]|2[0157-9]|41|6[1-35]|7[1-5]|8[1-8]|90)|9(?:0[0-2]|1[0-4]|2[568]|3[3-6]|5[5-7]|6[0167]|7[15]|8[0146-9]))....|3(?:12?[5-7]..|0(?:2(?:[025-79].|[348]..?)|3(?:[2-4].|[56].?))|2(?:1..|2(?:[12].|[35]..?|4.?))|3(?:1..|2(?:[2356].|4..?))|4(?:1..|2(?:2..?|[47]|5..))|5(?:1..|29)|[67]1..|8(?:1..|2(?:2..|3|4.)))...|4(?:0(?:2(?:[09].|7)|33..)|1...|2(?:1..|2(?:[25].?|[348].|[67]..?))|3(?:1..(?:..)?|2(?:[045].|[236-9]..?)|32..)|4(?:[18]..|2(?:[2-46]..|3)|5[25]..)|5(?:1..|2(?:3.|5))|6(?:[18]..|2(?:3(?:..)?|[46]..?|5..|7.)|5(?:3.?|4.|[57]..?|6..|8))|71..|8(?:[18]..|23..|54..)|9(?:[18]..|2[2-5]..|53..?))...|5(?:02[03489]..|1..|2(?:1..|2(?:2(?:..)?|[457]..))|3(?:1..|2(?:[37](?:..)?|[569]..))|4(?:1..|2[46]..)|5(?:1..|26..?)|6(?:[18]..|2|53..)|7(?:1|24)..|8(?:1|26)..|91..)...|6(?:0(?:1..|2(?:3..|4..?))|2(?:2[2-5]..|5(?:[3-5]..|7)|8..)|3(?:1|2[3478])..|4(?:1|2[34])..|5(?:1|2[47])..|6(?:[18]..|6(?:2(?:2.|[34]..)|5(?:[24]..|3.|5..?)))|72[2-5]..|8(?:1..|2[2-5]..)|9(?:1..|2[2-6]..))...|7(?:(?:02|[3-589]1|6[12]|72[24])..|21...|32)...|8(?:(?:4[12]|[5-7]2|1.?)|(?:0|3[12]|[5-7]1|217).)....|9(?:[35]1|(?:[024]2|81).|(?:1|[24]1)..)...|80[03].......))",BE:"(?:(4(?:56|6[0135-8]|[79].|8[3-9])......)|((?:1[0-69]|[23][2-8]|4[23]|5.|6[013-57-9]|71|8[1-79]|9[2-4])......|80[2-8].....|800.....))",BF:"(?:((?:5[124-8].|6..).....|7.......|51......)|(2(?:0(?:49|5[23]|9[016-9])|4(?:4[569]|5[4-6]|7[0179])|5(?:[34].|50))....))",BG:"(?:((?:8[7-9].|9(?:8.|99))......|4(?:3[0789]|8.).....)|(2......?.?|(?:[36].|5[1-9]|8[1-6]|9[1-7])......?|(?:4(?:[124-7].|3[1-6])|7(?:0[1-9]|[1-9].)).....?|800.....))",BH:"(?:((?:3(?:[1-4679].|5[013-69]|8[0-47-9]).|6(?:3(?:00|33|6[16])|6(?:[69].|3[03-9]|7[0-6])))....|(133|35[69]|38[5679]|39.|66[79]|354).....)|((?:1(?:3[1356]|6[0156]|7.).|6(?:1[16].|500|6(?:0.|3[12]|44|7[7-9])|9[69][69])|7(?:1(?:11|78)|7..))....|80......))",BI:"(?:((?:29|6[1289]|7[124-9])......)|(22......))",BJ:"(?:((?:6.|9[03-9])......)|(2(?:02|1[037]|2[45]|3[68]).....|7[3-5]..))",BL:"590(?:2[7-9]|5[12]|87)....",BM:"(?:(441(?:[37].|5[0-39]).....)|(441(?:2(?:02|23|61|[3479].)|[46]..|5(?:4.|60|89)|824)....|8(?:00|33|44|55|66|77|88)[2-9]......))",BN:"(?:(22[89]....|[78]......)|(2(?:[013-9].|2[0-7])....|[3-5]......))",BO:"(?:([67].......|(?:33[237]|392|507).....|4[0234567]......)|((?:2(?:2..|5(?:11|[258].|9[67])|6(?:12|2.|9[34])|8(?:2[34]|39|62))|3(?:3..|4(?:6.|8[24])|8(?:25|42|5[257]|86|9[25])|9(?:2.|3[234]|4[248]|5[24]|6[2-6]|7.))|4(?:4..|6(?:11|[24689].|72)))....|800......))",BQ:"(?:((?:31(?:8[14-8]|9[14578])|416[14-9]|7(?:0[01]|7[017]|8.|9[056]).)...)|((?:318[023]|41(?:6[023]|70)|7(?:1[578]|50).)...))",BR:"(?:(1[1-9](?:7|9.).......|(?:2[12478]|3[1-578]|[4689][1-9]|5[13-5]|7[13-579])(?:[6-8]|9.?).......|(?:[89][1-9])[6-9].......|2195101....)|((?:[14689][1-9]|2[12478]|3[1-578]|5[13-5]|7[13-579])[2-5].......|800.......?))",BS:"(?:(242[2-9]......)|(242(?:3(?:02|[236][1-9]|4[0-24-9]|5[0-68]|7[3467]|8[0-4]|9[2-467])|461|502|6(?:0[1-3]|12|7[67]|8[78]|9[89])|7(?:02|88))....|242300....|8(?:00|33|44|55|66|77|88)[2-9]......))",BT:"(?:((?:1[67]|77)......)|((?:2[3-6]|[34][5-7]|5[236]|6[2-46]|7[246]|8[2-4]).....))",BW:"(?:(7[1-7]......)|((?:2(?:4[0-48]|6[0-24]|9[0578])|3(?:1[0-35-9]|55|[69].|7[01])|4(?:6[03]|7[1267]|9[0-5])|5(?:3[0389]|4[0489]|7[1-47]|88|9[0-49])|6(?:2[1-35]|5[149]|8[067]))....))",BY:"(?:((?:2(?:5[5679]|9[1-9])|33.|44.)......)|((?:1(?:5(?:1[1-5]|[24].|6[2-4]|9[1-7])|6(?:[235].|4[1-7])|7..)|2(?:1(?:[246].|3[0-35-9]|5[1-9])|2(?:[235].|4[0-8])|3(?:[26].|3[02-79]|4[024-7]|5[03-7]))).....|8(?:0[13]|20.).......|800....?.?.?.?))",BZ:"(?:(6[0-35-7].....)|((?:2(?:[02].|36)|[3-58][02].|7(?:[02].|32))....|0800.......))",CA:"(?:((?:2(?:04|[23]6|[48]9|50)|3(?:06|43|6[57])|4(?:03|1[68]|3[178]|50)|5(?:06|1[49]|48|79|8[17])|6(?:0[04]|13|22|39|47)|7(?:0[59]|78|8[02])|8(?:[06]7|19|25|7[39])|90[25])[2-9]......|500555....)|((?:2(?:04|[23]6|[48]9|50)|3(?:06|43|65)|4(?:03|1[68]|3[178]|50)|5(?:06|1[49]|48|79|8[17])|6(?:0[04]|13|22|39|47)|7(?:0[59]|78|8[02])|8(?:[06]7|19|25|73)|90[25])[2-9]......|310....|8(?:00|33|44|55|66|77|88)[2-9]......|310....))",CC:"89162....|180(?:0...|2)...",CD:"(?:(8(?:[0-2459]..|8).....|9[017-9].......)|(1(?:2.......|......)|[2-6]......))",CF:"(?:(7[0257]......)|(2[12]......))",CG:"(?:(0[14-6].......)|(222[1-589].....))",CH:"(?:(7[5-9].......|512?......)|((?:2[12467]|3[1-4]|4[134]|5[256]|6[12]|[7-9]1).......|800......))",CI:"(?:((?:0[1-9]|4.|5[1-9]|6[014-79]|7[1-9]|8[4-79])......|(2[0389]|39|68|79|8[5-9]|9[0-8])......)|((?:2(?:0[023]|1[02357]|[23][045]|4[03-5])|3(?:0[06]|1[069]|[2-4][07]|5[09]|6[08])).....))",CK:"(?:([5-8]....)|((?:2.|3[13-7]|4[1-5])...))",CL:"(?:(9[3-9].......|2(?:1962....|2.......|32[0-467].....)|(?:3[2-5]|[47][1-35]|5[1-3578]|6[13-57]).......)|(2(?:1962....|2.......|32[0-467].....)|(?:3[2-5]|[47][1-35]|5[1-3578]|6[13-57]).......|800......|1230.......))",CM:"(?:(6[25-9].......|(24|[24-9]).......)|(2(?:22|33|4[23])......|800.....))",CN:"(?:(1(?:[38].|4[567]|5[0-35-9]|66|7[0-35-8]|99)........)|(21(?:100..|95....?|.........?.?)|(?:10|2[02-57-9]|3(?:11|7[179])|4(?:[15]1|3[1-35])|5(?:1.|2[37]|3[12]|51|7[13-79]|9[15])|7(?:31|5[457]|6[09]|91)|8(?:[57]1|98))(?:100..|95....?|........)|(?:3(?:1[02-9]|35|49|5.|7[02-68]|9[1-68])|4(?:1[02-9]|2[179]|3[3-9]|5[2-9]|6[4789]|7.|8[23])|5(?:3[03-9]|4[36]|5[02-9]|6[1-46]|7[028]|80|9[2-46-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[17].|2[248]|3[04-9]|4[3-6]|5[0-4689]|6[2368]|9[02-9])|8(?:078|1[236-8]|2[5-7]|3.|5[1-9]|7[02-9]|8[3678]|9[1-7])|9(?:0[1-3689]|1[1-79]|[379].|4[13]|5[1-5]))(?:100..|95....?|.......)|80(?:29|6[03578]|7[018]|81)....|(?:10)?800.......))",CO:"(?:(3(?:0[0-5]|1.|2[0-3]|3[03]|5[01]).......|252[12]....)|([124-8][2-9]......|1800.......))",CR:"(?:(5(?:0[01]|7[0-3]).....|6(?:[0-4]...|500[01])...|(?:7[0-3]|8[3-9])......|[578].......)|(2[0-24-7]......|800.......|210[0-6]....|4.......|5100....))",CU:"(?:(5.......)|(2[1-4]......?|3(?:1......|[23].....?.?)|4(?:[125]......?|[36]......|[78].....?.?)|7.......?))",CV:"(?:((?:9.|5[1-389]).....|5......)|(2(?:2[1-7]|3[0-8]|4[12]|5[1256]|6.|7[1-3]|8[1-5])....))",CW:"(?:(9(?:5(?:[12467].|3[01])|6(?:[15-9].|3[01]))....)|(9(?:[48]..|50.|7(?:2[0-24]|[34].|6[35-7]|77|8[7-9]))....))",CX:"89164....|180(?:0...|2)...",CY:"(?:(9[4-79]......)|(2[2-6]......|800.....))",CZ:"(?:((?:60[1-8]|7(?:0[2-5]|[2379].)|9[36].)......)|(2........|(?:3[1257-9]|4[16-9]|5[13-9]).......|800......))",DE:"(?:(1(?:5[0-25-9]........|6[023]........?|7.........?)|[246]......?.?.?.?.?.?.?.?|3(?:0....?.?.?.?.?.?.?.?.?.?|2.........|[3-9].....?.?.?.?.?.?.?.?.?)|5(?:0[2-8]|[1256].|[38][0-8]|4.?.?|[79][0-7])....?.?.?.?.?.?.?.?|7(?:0[2-8]|[1-9].)....?.?.?.?.?.?.?|8(?:0[2-9]|[1-9].)....?.?.?.?.?.?.?|9(?:0[6-9]....?.?.?.?.?.?.?|1.....?.?.?.?.?.?.?.?|[2-9].....?.?.?.?.?.?.?))|([246]......?.?.?.?.?.?.?.?|3(?:0....?.?.?.?.?.?.?.?.?.?|2.........|[3-9].....?.?.?.?.?.?.?.?.?)|5(?:0[2-8]|[1256].|[38][0-8]|4.?.?|[79][0-7])....?.?.?.?.?.?.?.?|7(?:0[2-8]|[1-9].)....?.?.?.?.?.?.?|8(?:0[2-9]|[1-9].)....?.?.?.?.?.?.?|9(?:0[6-9]....?.?.?.?.?.?.?|1.....?.?.?.?.?.?.?.?|[2-9].....?.?.?.?.?.?.?)|800........?.?.?.?.?))",DJ:"(?:(77......|773.....)|(2(?:1[2-5]|7[45]).....))",DK:"(?:((?:[2-7].|8[126-9]|9[1-46-9])......)|((?:[2-7].|8[126-9]|9[1-46-9])......|80......))",DM:"(?:(767[2-9]......)|(767(?:2(?:55|66)|4(?:2[01]|4[0-25-9])|50[0-4]|70[1-3])....|8(?:00|33|44|55|66|77|88)[2-9]......))",DO:"(?:(8[024]9[2-9]......)|(8(?:[04]9[2-9]......|29(?:2(?:[0-59].|6[04-9]|7[0-27]|8[0237-9])|3(?:[0-35-9].|4[7-9])|[45]..|6(?:[0-27-9].|[3-5][1-9]|6[0135-8])|7(?:0[013-9]|[1-37].|4[1-35689]|5[1-4689]|6[1-57-9]|8[1-79]|9[1-8])|8(?:0[146-9]|1[0-48]|[248].|3[1-79]|5[01589]|6[013-68]|7[124-8]|9[0-8])|9(?:[0-24].|3[02-46-9]|5[0-79]|60|7[0169]|8[57-9]|9[02-9]))....)|8(?:00|33|44|55|66|77|88)[2-9]......))",DZ:"(?:((?:5[4-6]|7[7-9]).......|6(?:[569].|7[0-6])......)|((?:1.|2[013-79]|3[0-8]|4[0135689])......|9619.....|800......))",EC:"(?:(9(?:(?:39|[45][89]|7[7-9]|[89].).|6(?:[0-37-9].)).....|962......)|([2-7][2-7]......|1800.......?))",EE:"(?:((?:5.|8[1-5])......|5(?:[02]..|1(?:[0-8].|95)|5[0-478].|64[0-4]|65[1-589])...)|((?:3[23589]|4[3-8]|6.|7[1-9]|88).....|800(?:0...|1.|[2-9])...))",EG:"(?:(1(?:0.|1[0-245]|2[0-278]|5.).......)|((?:1(?:3[23].|5(?:[23]|9.))|2[2-4]..|3..|4(?:0[2-5]|[578][23]|64).|5(?:0[2-7]|[57][23]).|6[24-689]3.|8(?:2[2-57]|4[26]|6[237]|8[2-4]).|9(?:2[27]|3[24]|52|6[2356]|7[2-4]).).....|1[69]...|800.......))",ER:"(?:(17[1-3]....|7......)|(1(?:1[12568]|20|40|55|6[146])....|8......))",ES:"(?:((?:6......|7[1-48].....|9(?:6906(?:09|10)|7390..))..)|(8(?:[1356].|[28][0-8]|[47][1-9])......|9(?:[135].......|[28][0-8]......|4[1-9]......|6(?:[0-8]......|9(?:0(?:[0-57-9]....|6(?:0[0-8]|1[1-9]|[2-9].)..)|[1-9].....))|7(?:[124-9]..|3(?:[0-8].|9[1-9]))....)|[89]00......))",ET:"(?:(9........)|((?:11(?:1(?:1[124]|2[2-57]|3[1-5]|5[5-8]|8[6-8])|2(?:13|3[6-8]|5[89]|7[05-9]|8[2-6])|3(?:2[01]|3[0-289]|4[1289]|7[1-4]|87)|4(?:1[69]|3[2-49]|4[0-3]|6[5-8])|5(?:1[578]|44|5[0-4])|6(?:18|2[69]|39|4[5-7]|5[1-5]|6[0-59]|8[015-8]))|2(?:2(?:11[1-9]|22[0-7]|33.|44[1467]|66[1-68])|5(?:11[124-6]|33[2-8]|44[1467]|55[14]|66[1-3679]|77[124-79]|880))|3(?:3(?:11[0-46-8]|22[0-6]|33[0134689]|44[04]|55[0-6]|66[01467])|4(?:44[0-8]|55[0-69]|66[0-3]|77[1-5]))|4(?:6(?:22[0-24-7]|33[1-5]|44[13-69]|55[14-689]|660|88[1-4])|7(?:11[1-9]|22[1-9]|33[13-7]|44[13-6]|55[1-689]))|5(?:7(?:227|55[05]|(?:66|77)[14-8])|8(?:11[149]|22[013-79]|33[0-68]|44[013-8]|550|66[1-5]|77.)))....))",FI:"(?:(4......?.?.?.?.?|50.....?.?.?.?|299......)|(1(?:[3569][1-8]....?.?.?.?.?.?|[47]......?.?.?.?.?)|2[1-8]....?.?.?.?.?.?|3(?:[1-8]....?.?.?.?.?.?|9.....?.?.?.?)|[5689][1-8]....?.?.?.?.?.?|800.....?.?.?|[13]0.....?.?.?.?|2(?:0(?:[016-8]....?.?.?.?|[2-59]...?.?.?.?.?)|9.....?.?.?.?)|60(?:[12]......?|6.......)|7(?:1.......|3........|5[03-9]...?.?.?.?.?)))",FJ:"(?:((?:[279].|45|5[01568]|8[034679]).....|8[125].....)|((?:3[0-5]|6[25-7]|8[58]).....|0800.......))",FK:"(?:([56]....)|([2-47]....))",FM:"(?:(3[2357]0[1-9]...|820....|9[2-7].....)|(3[2357]0[1-9]...|9[2-7].....))",FO:"(?:((?:[27][1-9]|5.)....)|((?:20|[3-4].|8[19])....|80[257-9]...))",FR:"(?:(63[0-8]......|69[157-9]......|6[0-24-8].......|7[0-24-9].......)|([1-5]........|80[0-5]......|9........))",GA:"(?:(0?[2-7]......)|(01......))",GB:"(?:(7(?:[1-3]...|4(?:[0-46-9]..|5(?:[0-689].|7[0-57-9]))|5(?:0[0-8]|[13-9].|2[0-35-9]).|7(?:0(?:0[01]|[1-9].)|[1-7]..|8[02-9].|9[0-689].)|8(?:[014-9].|[23][0-8]).|9(?:[024-9]..|1(?:[02-9].|1[028])|3[0-689].)).....)|(2(?:0[01378]|3[0189]|4[017]|8[0-46-9]|9[0-2]).......|1(?:1(?:3[0-48]|[46][0-4]|5[0-26-9]|[78][0-49])|21[0-7]|31[0-8]|[4-69]1.)......|1(?:2(?:0[024-9]|2[3-9]|3[3-79]|4[1-689]|[58][02-9]|6[0-47-9]|7[013-9]|9.)|3(?:0.|[25][02-9]|3[02-579]|[468][0-46-9]|7[1-35-79]|9[2-578])|4(?:0[03-9]|[28][02-57-9]|[37].|4[02-69]|5[0-8]|[69][0-79])|5(?:0[1-35-9]|2[024-9]|3[015689]|4[02-9]|5[03-9]|6.|7[0-35-9]|8[0-468]|9[0-57-9])|6(?:0[034689]|2[0-35689]|[38][013-9]|4[1-467]|5[0-69]|6[13-9]|7[0-8]|9[0124578])|7(?:0[0246-9]|2.|3[0236-8]|4[03-9]|5[0-46-9]|6[013-9]|7[0-35-9]|8[024-9]|9[02-9])|8(?:0[35-9]|2[1-57-9]|3[02-578]|4[0-578]|5[124-9]|6[2-69]|7.|8[02-9]|9[02569])|9(?:0[02-589]|2[02-689]|3[1-57-9]|4[2-9]|5[0-579]|6[2-47-9]|7[0-24578]|8.|9[2-57]))......|1(?:2(?:0(?:46[1-4]|87[2-9])|545[1-79]|76(?:2.|3[1-8]|6[1-6])|9(?:7(?:2[0-4]|3[2-5])|8(?:2[2-8]|7[0-47-9]|8[345])))|3(?:638[2-5]|647[23]|8(?:47[04-9]|64[0157-9]))|4(?:044[1-7]|20(?:2[23]|8.)|6(?:0(?:30|5[2-57]|6[1-8]|7[2-8])|140)|8(?:052|87[123]))|5(?:24(?:3[2-79]|6.)|276.|6(?:26[06-9]|686))|6(?:06(?:4.|7[4-79])|295[567]|35[34].|47(?:24|61)|59(?:5[08]|6[67]|74)|955[0-4])|7(?:26(?:6[13-9]|7[0-7])|442.|50(?:2[0-3]|[3-68]2|76))|8(?:27[56].|37(?:5[2-5]|8[239])|84(?:3[2-58]))|9(?:0(?:0(?:6[1-8]|85)|52.)|3583|4(?:66[1-8]|9(?:2[01]|81))|63(?:23|3[1-4])|9561))...|176888[2-46-8]..|16977[23]...|80(?:0(?:1111|.......?)|8.......)|(?:3[0347]|55)........))",GD:"(?:(473[2-9]......)|(473(?:2(?:3[0-2]|69)|3(?:2[89]|86)|4(?:[06]8|3[5-9]|4[0-49]|5[5-79]|68|73|90)|63[68]|7(?:58|84)|800|938)....|8(?:00|33|44|55|66|77|88)[2-9]......))",GE:"(?:(5(?:14|5[01578]|44|68|7[0147-9]|9[0-35-9])......|559......)|((?:3(?:[256].|4[124-9]|7[0-4])|4(?:1.|2[2-7]|3[1-79]|4[2-8]|7[239]|9[1-7]))......|800......))",GF:"(?:(694......)|(594(?:10|2[012457-9]|3[0-57-9]|4[3-9]|5[7-9]|6[0-3]|9[014])....))",GG:"(?:(7(?:781.|839.|911[17]).....)|(1481......|80(?:0(?:1111|.......?)|8.......)|500......))",GH:"(?:((?:2[034678].|3[0-9].|5(?:[0457].|6[01]))......|55.......)|(3(?:0[237].|[167](?:2[0-6]|7.)|2(?:2[0-5]|7.)|3(?:2[0-3]|7.)|4(?:2[013-9]|3[01]|7.)|5(?:2[0-7]|7.)|8(?:2[0-2]|7.)|9(?:20|7.)).....|800.....))",GI:"(?:((?:5[46-8]|6[02])......)|(2(?:00.|1(?:6[24-7]|9.)|2(?:00|2[2457]))....|80......))",GL:"(?:([245][2-9]....)|((?:19|3[1-6]|6[14689]|8[14-79]|9.)....|80....))",GM:"(?:([23679]......)|((?:4(?:[23]..|4(?:1[024679]|[6-9].))|5(?:54[0-7]|6(?:[67].)|7(?:1[04]|2[035]|3[58]|48))|8...)...))",GN:"(?:(6[02356].......)|(30(?:24|3[12]|4[1-35-7]|5[13]|6[189]|[78]1|9[1478])....))",GP:"(?:(690......)|(590(?:0[13468]|1[012]|2[0-68]|3[28]|4[0-8]|5[579]|6[0189]|70|8[0-689]|9.)....))",GQ:"(?:((?:222|55.)......|(?:55[02]|666)......)|(3(?:3(?:3.[7-9]|[0-24-9].[46])|5..[7-9])....|80.[1-9].....))",GR:"(?:(69........)|(2(?:1..|2(?:2[1-46-9]|3[1-8]|4[1-7]|5[1-4]|6[1-8]|7[1-5]|[89][1-9])|3(?:1.|2[1-57]|[35][1-3]|4[13]|7[1-7]|8[124-6]|9[1-79])|4(?:1.|2[1-8]|3[1-4]|4[13-5]|6[1-578]|9[1-5])|5(?:1.|[29][1-4]|3[1-5]|4[124]|5[1-6])|6(?:1.|3[1245]|4[1-7]|5[13-9]|[269][1-6]|7[14]|8[1-5])|7(?:1.|2[1-5]|3[1-6]|4[1-7]|5[1-57]|6[135]|9[125-7])|8(?:1.|2[1-5]|[34][1-4]|9[1-57]))......|800.......))",GT:"(?:([345].......)|([267][2-9]......|18[01]........))",GU:"(?:(671[2-9]......)|(671(?:3(?:00|3[39]|4[349]|55|6[26])|4(?:56|7[1-9]|8[0236-9])|5(?:55|6[2-5]|88)|6(?:3[2-578]|4[24-9]|5[34]|78|8[235-9])|7(?:[079]7|2[0167]|3[45]|47|8[789])|8(?:[2-5789]8|6[48])|9(?:2[29]|6[79]|7[1279]|8[789]|9[78]))....|8(?:00|33|44|55|66|77|88)[2-9]......))",GW:"(?:(9(?:5..|6(?:[569].)|77.).....|(?:[5-7].|9[012]).....)|(443......))",GY:"(?:(6......)|((?:2(?:1[6-9]|2[0-35-9]|3[1-4]|5[3-9]|6.|7[0-24-79])|3(?:2[25-9]|3.)|4(?:4[0-24]|5[56])|77[1-57])....|(?:289|862)....))",HK:"(?:((?:46(?:0[0-6]|[14].)|5(?:[1-59][0-46-9].|6[0-4689].|7(?:[0-2469].|30))|6(?:0[1-9].|[13-59]..|2(?:[0-57-9].|6[01])|[68][0-57-9].|7[0-79].)|7(?:07.)|9(?:0[1-9].|1[02-9].|2(?:[0-8].|9[03-9])|[358][0-8].|[467]..))....)|((?:2(?:[13-8].|2[013-9]|9[0-24-9]).|3(?:[1569][0-24-9].|4[0-246-9].|7[0-24-69].|8(?:40|9.))|58(?:0[1-8]|1[2-9]))....|800......))",HN:"(?:([37-9].......)|(2(?:2(?:0[019]|1[1-36]|[23].|4[03-6]|5[57]|7[013589]|8[0146-9]|9[012])|4(?:07|2[3-59]|3[13-689]|4[0-68]|5[1-35])|5(?:16|4[03-5]|5.|6[4-6]|74)|6(?:[056].|17|3[04]|4[0-378]|[78][0-8]|9[01])|7(?:6[46-9]|7[02-9]|8[034])|8(?:79|8[0-35789]|9[1-57-9]))....))",HR:"(?:(9(?:[01259]..|7(?:[0679].|51)|8..?).....)|(1.......|(?:2[0-3]|3[1-5]|4[02-47-9]|5[1-3]).......?|80[01].....?.?))",HT:"(?:((?:2(?:81|9.)|3[1-9].|4..|9(?:8[0-35]|9[5-9])).....)|(2(?:[24].|5[1-5]).....|8.......))",HU:"(?:((?:[257]0|3[01]).......)|((?:1.|2[2-9]|3[2-7]|4[24-9]|5[2-79]|6[23689]|7[2-9]|8[2-57-9]|9[2-69])......|[48]0......))",ID:"(?:((?:2(?:1(?:3[145]|4[01]|5[1-469]|60|8[0359]|9.)|2(?:88|9[1256])|3[1-4]9|4(?:36|91)|5(?:1[349]|[2-4]9)|6[0-7]9|7(?:[1-36]9|4[39])|8[1-5]9|9[1-48]9)|3(?:19[1-3]|2[12]9|3[13]9|4(?:1[69]|39)|5[14]9|6(?:1[69]|2[89])|709)|4[13]19|5(?:1(?:19|8[39])|4[129]9|6[12]9)|6(?:19[12]|2(?:[23]9|77))|7(?:1[13]9|2[15]9|419|5(?:1[89]|29)|6[15]9|7[178]9))......?|8[1-35-9]........?.?.?|2(?:1(?:14...|[0-8].......?|500...|9......)|2.......?.?|4........?)|(?:2(?:[35][1-4]|6[0-8]|7[1-6]|8.|9[1-8])|3(?:1|[25][1-8]|3[1-68]|4[1-3]|6[1-3568]|7[0-469]|8.)|4(?:0[1-589]|1[01347-9]|2[0-36-8]|3[0-24-68]|43|5[1-378]|6[1-5]|7[134]|8[1245])|5(?:1[1-35-9]|2[25-8]|3[124-9]|4[1-3589]|5[1-46]|6[1-8])|6(?:19?|[25].|3[1-69]|4[1-6])|7(?:02|[125][1-9]|[36].|4[1-8]|7[0-36-9])|9(?:0[12]|1[013-8]|2[0-479]|5[125-8]|6[23679]|7[159]|8[01346]))......?.?.?|(?:4067|4157|4447|4502|4546|5447|5467|5557|6307|7027|7157|9047|9127|9197|9257|9507|9597|9607|9647|9787)......?|895.........)|(2(?:1(?:14...|[0-8].......?|500...|9......)|2.......?.?|4........?)|(?:2(?:[35][1-4]|6[0-8]|7[1-6]|8.|9[1-8])|3(?:1|[25][1-8]|3[1-68]|4[1-3]|6[1-3568]|7[0-469]|8.)|4(?:0[1-589]|1[01347-9]|2[0-36-8]|3[0-24-68]|43|5[1-378]|6[1-5]|7[134]|8[1245])|5(?:1[1-35-9]|2[25-8]|3[124-9]|4[1-3589]|5[1-46]|6[1-8])|6(?:19?|[25].|3[1-69]|4[1-6])|7(?:02|[125][1-9]|[36].|4[1-8]|7[0-36-9])|9(?:0[12]|1[013-8]|2[0-479]|5[125-8]|6[23679]|7[159]|8[01346]))......?.?.?|177.......?.?|800......?.?))",IE:"(?:(8(?:22......|[35-9].......))|(1........?|2(?:1.......?|3.......|[24-9].....)|4(?:0[24].....|[1-469].......|5......|7.....|8[0-46-9].......)|5(?:0[45].....|1......|[23679].......|8.....)|6(?:1......|[237-9].....|[4-6].......)|7[14].......|9(?:1......|[04].......|[35-9].....)|1800......))",IL:"(?:(5(?:[0-47-9]..|5(?:01|2[2-5]|3[2-4]|4[45]|5[5689]|6[678]|7[0-278]|8[6-9]|9[1-9])|6[2-9].).....)|((?:153..?|[2-489]).......|1(?:80[019]...|255)...|7(?:18.|2[23].|3[237].|47.|6[58].|7..|8(?:2.|33|55|77|81)|9[2579].).....))",IM:"(?:(7(?:4576|[569]24.).....)|(1624......|808162....))",IN:"(?:((?:6(?:0(?:0[0-3569]|26).|1279|2(?:0[0-79]|3[02589]|6.|8[0-479]|9[0-7]).|3(?:0[0-469].|5(?:0[0-6]|[1-9].)|6[0-49].|7[014-9].|[89]..)|90[019].)|7(?:0...|19[0-5].|2(?:[0235-9].|[14][017-9]).|3(?:[025-9].|1[01789]|3[017-9]|4[017-9]).|4(?:[01235689].|4[01789]|7[01789]).|5(?:[0-46-9].|5[017-9]).|6(?:[02-9].|1[0-257-9]).|7...|8...|9(?:[07-9].|3[01]|61).)|8(?:0(?:[0157-9].|6[67])|1..|2(?:0[089]|[1235-9].|4[089])|3(?:[03-57-9].|1[0789]|2[089]|6[089])|[45]..|6(?:[02-9].|1[089])|7(?:0[07-9]|7[089]|8[089]|[1-69].)|8(?:[0-25-9].|3[089]|4[0489])|9(?:[02-9].|1[0289])).|9....).....|6(?:0.|2[08]|3[589]|9.).......|[7-9].........)|((?:11|2[02]|33|4[04]|79)[2-7].......|80[2-467].......|(?:1(?:2[0-249]|3[0-25]|4[145]|[59][14]|6[014]|7[1257]|8[01346])|2(?:1[257]|3[013]|4[01]|5[0137]|6[0158]|7[18]|8[1568]|9[14])|3(?:26|4[1-3]|5[34]|6[01489]|7[02-46]|8[159])|4(?:1[36]|2[1-47]|3[15]|5[12]|6[0-26-9]|7[0-24-9]|8[013-57]|9[014-7])|5(?:1[025]|[36][25]|22|4[28]|5[12]|[78]1|9[15])|6(?:12|[2345]1|57|6[13]|7[14]|80)|7(?:12|2[14]|3[134]|4[47]|5[15]|[67]1|88)|8(?:16|2[014]|3[126]|6[136]|7[078]|8[34]|91))[2-7]......|(?:(?:1(?:2[35-8]|3[346-9]|4[236-9]|[59][0235-9]|6[235-9]|7[34689]|8[257-9])|2(?:1[134689]|3[24-8]|4[2-8]|5[25689]|6[2-4679]|7[13-79]|8[2-479]|9[235-9])|3(?:01|1[79]|2[1-5]|4[25-8]|5[125689]|6[235-7]|7[157-9]|8[2-467])|4(?:1[14578]|2[5689]|3[2-467]|5[4-7]|6[35]|73|8[2689]|9[2389])|5(?:[16][146-9]|2[14-8]|3[1346]|4[14-69]|5[46]|7[2-4]|8[2-8]|9[246])|6(?:1[1358]|2[2457]|3[2-4]|4[235-7]|[57][2-689]|6[24-578]|8[1-6])|8(?:1[1357-9]|2[235-8]|3[03-57-9]|4[0-24-9]|5.|6[2457-9]|7[1-6]|8[1256]|9[2-4])).|7(?:(?:1[013-9]|2[0235-9]|3[2679]|4[1-35689]|5[2-46-9]|[67][02-9]|9.).|8(?:2[0-6]|[013-8].)))[2-7].....|00800.......|1(?:600......|80(?:0.....?.?.?.?.?|3.........))|1860........?.?))",IO:"(?:(38.....)|(37.....))",IQ:"(?:(7[3-9]........|6[26].......)|(1.......|(?:2[13-5]|3[02367]|4[023]|5[03]|6[026]).......?))",IR:"(?:(9(?:0[1-5]|[1-3].|9[01489]).......|991.......)|((?:(?:1[137]|2[13-68]|3[1458]|4[145]|5[1468]|6[16]|7[1467]|8[13467])(?:........|(?:[16]|[289].?)...))|94(?:000|11[0-7]|2..|30[01]|440).....))",IS:"(?:(38[589]......|(?:6(?:1[1-8]|[289].|3[027-9]|4[014679]|5[0159]|[67][0-69])|7(?:5[057]|[6-8].)|8(?:2[0-59]|3[0-4]|[469].|5[1-9]|88))....|[3678]......)|((?:4(?:1[0-24-69]|2[0-7]|[37][0-8]|4[0-245]|5[0-68]|6.|8[0-36-8])|5(?:05|[156].|2[02578]|3[0-79]|4[03-7]|7[0-2578]|8[0-35-9]|9[013-689])|87[23])....|800....))",IT:"(?:(3(?:[12457-9]........|6........?|3........?.?))|(0(?:[26].....?.?.?.?.?|(?:1(?:[0159].|[27][1-5]|31|4[1-4]|6[1356]|8[2-57])|3(?:[0159].|2[1-4]|3[12]|[48][1-6]|6[2-59]|7[1-7])|4(?:[0159].|[23][1-9]|4[245]|6[1-5]|7[1-4]|81)|5(?:[0159].|2[1-5]|3[2-6]|4[1-79]|6[4-6]|7[1-578]|8[3-8])|7(?:[0159].|2[12]|3[1-7]|4[2346]|6[13569]|7[13-6]|8[1-59])|8(?:[0159].|2[34578]|3[1-356]|[6-8][1-5])|9(?:[0159].|[238][1-5]|4[12]|6[1-8]|7[1-6]))...?.?.?.?.?)|80(?:0......|3...)))",JE:"(?:(7(?:509.|7(?:00[378]|97[7-9])|829.|937.).....)|(1534......|80(?:07(?:35|81)|8901)....))",JM:"(?:(876[2-9]......)|(876(?:5(?:0[12]|1[0-468]|2[35]|63)|6(?:0[1-3579]|1[027-9]|[23].|40|5[06]|6[2-589]|7[05]|8[04]|9[4-9])|7(?:0[2-689]|[1-6].|8[056]|9[45])|9(?:0[1-8]|1[02378]|[2-8].|9[2-468]))....|8(?:00|33|44|55|66|77|88)[2-9]......))",JO:"(?:(7(?:55|7[025-9]|8[0-25-9]|9[0-25-9])......|75.......)|((?:2(?:6(?:2[0-35-9]|3[0-57-8]|4[24-7]|5[0-24-8]|[6-8][023]|9[0-3])|7(?:0[1-79]|10|2[014-7]|3[0-689]|4[019]|5[0-3578]))|32(?:0[1-69]|1[1-35-7]|2[024-7]|3.|4[0-3]|[57][023]|6[03])|53(?:0[0-3]|[13][023]|2[0-59]|49|5[0-35-9]|6[15]|7[45]|8[1-6]|9[0-36-9])|6(?:2[50]0|3(?:00|33)|4(?:0[0125]|1[2-7]|2[0569]|[38][07-9]|4[025689]|6[0-589]|7.|9[0-2])|5(?:[01][056]|2[034]|3[0-57-9]|4[17-8]|5[0-69]|6[0-35-9]|7[1-379]|8[0-68]|9[02-39]))|87(?:[02]0|7[08]|90))....|80......))",JP:"(?:([7-9]0[1-9].......)|((?:1(?:1[235-8]|2[3-6]|3[3-9]|4[2-6]|[58][2-8]|6[2-7]|7[2-9]|9[1-9])|2[2-9].|[36][1-9].|4(?:6[02-8]|[2-578].|9[2-59])|5(?:6[1-9]|7[2-8]|[2-589].)|7(?:3[4-9]|4[02-9]|[25-9].)|8(?:3[2-9]|4[5-9]|5[1-9]|8[03-9]|[2679].)|9(?:[679][1-9]|[2-58].))......|120......|800.......|00(?:37.......?.?.?.?.?.?.?|66.......?.?.?.?.?.?.?|777(?:[01]..|5...|8....)|882[1245]....)))",KE:"(?:(7........|(?:20|46)51.....|4[14]50.....|5183.....|5670.....|5785.....|6184.....)|(20.......?|4(?:0.......?|[136].......|[245]......?.?)|5(?:[08].......|[1-79]......?.?)|6(?:[01457-9]......?.?|2.......|6.......?)|800[24-8]......?))",KG:"(?:((?:2(?:0[0-35]|2.)|5[0124-7].|7(?:55|[07].)|999)......)|((?:3(?:1(?:[256].|3[1-9]|47)|2(?:22|3[0-479]|6[0-7])|4(?:22|5[6-9]|6.)|5(?:22|3[4-7]|59|6.)|6(?:22|5[35-7]|6.)|7(?:22|3[468]|4[1-9]|59|[67].)|9(?:22|4[1-8]|6.))|6(?:09|12|2[2-4]).).....|800.......?))",KH:"(?:((?:1(?:[013-79].|[28]..?)|2[3-6]48|3(?:[189]..|[2-6]48)|4[2-4]48|5[2-5]48|6(?:[016-9].|[2-5]48)|7(?:[07-9].|[16]..|[2-5]48)|8(?:[013-79].|8..)|9(?:6..|7..?|[0-589].)).....|18.......)|((?:2[3-6]|3[2-6]|4[2-4]|[5-7][2-5])(?:[237-9]|4[56]|5.|6.?).....|23(?:4[234]|8..)....|1800(?:1.|2[019])....))",KI:"(?:((?:6[23]0|7(?:20|3[01])).....)|((?:[24].|3[1-9]|50|8[0-5])...|7(?:27|31|5[0-4]).....))",KM:"(?:([34]......|351....)|(7[4-7].....))",KN:"(?:(869(?:5(?:5[6-8]|6[5-7])|66.|76[02-7])....)|(869(?:2(?:29|36)|302|4(?:6[015-9]|70))....|8(?:00|33|44|55|66|77|88)[2-9]......))",KP:"(?:(19[123].......)|(2.......|85......))",KR:"(?:(1[0-26-9]........?)|((?:2|3[1-3]|[46][1-4]|5[1-5])(?:1...?|[1-9].......?)|(?:00798.?.?|80).......))",KW:"(?:((?:5(?:[05]..|1[0-7].|2(?:22|5[25])|6[56].)|6(?:0[034679].|222|5[015-9].|6..|7[067].|9[0369].)|9(?:0[09].|11[01]|22.|4[01479].|55.|6[0679].|[79]..|8[057-9].|333))....|992.....)|((?:18.|2(?:[23]..|4(?:[1-35-9].|44)|5(?:0[034]|[2-46].|5[1-3]|7[1-7])))....))",KY:"(?:(345(?:32[1-9]|5(?:1[67]|2[5-7]|4[6-8]|76)|9(?:1[67]|2[2-9]|3[689]))....)|(345(?:2(?:22|44)|444|6(?:23|38|40)|7(?:4[35-79]|6[6-9]|77)|8(?:00|1[45]|25|[48]8)|9(?:14|4[035-9]))....|8(?:00|33|44|55|66|77|88)[2-9]......))",KZ:"(?:(7(?:0[012578]|47|6[02-4]|7[15-8]|85).......)|(33622.....|7(?:1(?:0(?:[23].|4[0-3]|59|63)|1(?:[23].|4[0-79]|59)|2(?:[23].|59)|3(?:2.|3[0-79]|4[0-35-9]|59)|4(?:[24].|3[013-9]|5[1-9])|5(?:2.|3[1-9]|4[0-7]|59)|6(?:[234].|5[19]|61)|72.|8(?:[27].|3[1-46-9]|4[0-5]))|2(?:1(?:[23].|4[46-9]|5[3469])|2(?:2.|3[0679]|46|5[12679])|3(?:[234].|5[139])|4(?:2.|3[1235-9]|59)|5(?:[23].|4[01246-8]|59|61)|6(?:2.|3[1-9]|4[0-4]|59)|7(?:[2379].|40|5[279])|8(?:[23].|4[0-3]|59)|9(?:2.|3[124578]|59))).....|800.......))",LA:"(?:(20(?:2[2389]|[59].|7[6-9])......|30(?:[49]).......|209.......)|((?:2[13]|3(?:0.|[14])|[5-7][14]|41|8[1468])......))",LB:"(?:((?:3.|7(?:[01].|6[013-9]|8[89]|9[1-3])|81.).....)|((?:[14-6]..|7(?:[2-57].|62|8[0-7]|9[04-9])|8[02-9].|9..)....))",LC:"(?:(758[2-9]......)|(758(?:4(?:30|5[0-9]|6[2-9]|8[0-2])|57[0-2]|638)....|8(?:00|33|44|55|66|77|88)[2-9]......))",LI:"(?:(6(?:5(?:0[3-9]|1.|20)|6(?:0[0-7]|10|2[016-9]|3[7-9])|97[789]).....|7(?:[37-9].|42|56)....)|((?:2(?:01|1[27]|3.|6[02-578]|96)|3(?:7[0135-7]|8[048]|9[0269]))....|80(?:02[28]|9..)..))",LK:"(?:(7[0125-8].......)|((?:[189]1|2[13-7]|3[1-8]|4[157]|5[12457]|6[35-7])[2-57]......))",LR:"(?:((?:4[67].|5(?:55)?..|77...|88...)....)|(2.......))",LS:"(?:([56].......)|(2.......|800[256]....))",LT:"(?:(6.......)|((?:3[1478]|4[124-6]|52)......|800.....))",LU:"(?:(6(?:[2679][18]|5[158]|81)......|681......)|((?:2[2-9]...?.?.?.?.?.?.?|(?:[3457]..|8(?:0[2-9]|[13-9].)|9(?:0[89]|[2-579].))..?.?.?.?.?.?.?)|800.....))",LV:"(?:(2.......)|(6.......|80......))",LY:"(?:(9[1-6].......)|((?:2[1345]|5[1347]|6[123479]|71).......))",MA:"(?:((?:6(?:[0-79].|8[0-247-9])|7(?:0[067]|6[1267]|7[07]))......|7........)|(5(?:2(?:[015-79].|2[02-9]|3[2-57]|4[2-8]|8[235-7]).|3(?:[0-48].|[57][2-9]|6[2-8]|9[3-9]).|4[067]..|5[03]..)....|80.......))",MC:"(?:(3.......|4(?:4.|5[1-9]|61).....|6........)|(870.....|9[2-47-9]......|90......))",MD:"(?:((?:562|6..|7(?:[189].|6.|7[457-9])).....|(?:6[0-9]|71)......)|((?:2[1-9].|3[1-79].|5(?:33|5[257])).....|800.....))",ME:"(?:(6(?:0..|3[02-6].|6[0-25].|[7-9]..)....|63......)|((?:20[2-8]|3(?:0[2-7]|[12][235-7]|3[24-7])|4(?:0[2-467]|1[267])|5(?:0[2467]|1[267]|2[2367])).....|80[0-258].....))",MF:"590(?:[02][79]|13|5[0-268]|[78]7)....",MG:"(?:(3[2-49].......)|(20(?:2..|4[47].|5[3467].|6[279].|7(?:2[29]|[35].)|8[268].|9[245].)....))",MH:"(?:((?:235|329|45[356]|545)....)|((?:247|528|625)....))",MK:"(?:(7(?:[0-25-8]..|3[24].|93.|421)....|79(2..|3([0-6].|7[0-5]))...)|((?:2(?:[23].|5[124578]|6[01])|3(?:1[3-6]|[23][2-6]|4[2356])|4(?:[23][2-6]|4[3-6]|5[256]|6[25-8]|7[24-6]|8[4-6])).....|800.....))",ML:"(?:((?:2(?:079|17.)|4[02]..|[5679]...|8[239]..)....)|((?:2(?:0(?:2.|7[0-8])|1(?:2[5-7]|[3-689].))|44[1239].)....|80......))",MM:"(?:(17[01]....|9(?:2(?:[0-4]|[56]..)|3(?:[0-36]|4[069]).|4(?:[02]..|[1379].|4[0-589].|5..|88)|5[0-6]|6(?:1.|9..|.)|7(?:3|5[0-2]|[6-9].).|8(?:.|9..)|9(?:1.|[5-7]..|[089])).....|78.......)|(1(?:2..?|[3-5].|6.?|[89][0-6].)....|2(?:2(?:000...|....)|3....|4(?:0.....|....)|5(?:1....?.?.?|[02-9]....?.?)|[6-9]....)|4(?:2[245-8]|3(?:[2-46]|56?)|[46][2-6]|5[3-5])....|5(?:2(?:2(?:..?)?|[3-8])|3[2-68]|4(?:21?|[4-8])|5[23]|6[2-4]|7[2-8]|8[24-7]|9[2-7])....|6(?:0[23]|1(?:2(?:0|4.)?|[356])|2[2-6]|3[24-6]|4(?:2(?:4.)?|[3-6])|5[2-4]|6[2-8]|7(?:[2367]|4.|5.?|8[145].)|8[245]|9(?:20?|4))....|7(?:[04][24-8]|1(?:20?|[3-7])|22|3[2-4]|5[2-7])....|8(?:1(?:2..?|[3-689].)|2(?:2.|3(?:.|20)|[4-8].)|3[24].|4[24-7].|5[245].|6[23].)...))",MN:"(?:((?:8(?:[05689].|3[01])|9[013-9].).....)|([12](?:1.|2(?:[1-3].?|7.)|3[2-8]..?|4[2-68]..?|5[1-4689]..?).....|5[0568]......))",MO:"(?:(6(?:[2356].|8[013-578]).....|6[0189]......)|((?:28[2-57-9]|8[2-57-9].).....))",MP:"(?:(670[2-9]......)|(670(?:2(?:3[3-7]|56|8[5-8])|32[1238]|4(?:33|8[348])|5(?:32|55|88)|6(?:64|70|82)|78[589]|8[3-9]8|989)....|8(?:00|33|44|55|66|77|88)[2-9]......))",MQ:"(?:(696......)|(596(?:0[2-5]|[12]0|3[05-9]|4[024-8]|[5-7].|89|9[4-8])....))",MR:"(?:([234][0-46-9]......)|(25[08].....|35......|45[1-7].....|800.....))",MS:"(?:(66449[2-6]....|66439[23]....)|(664491....|8(?:00|33|44|55|66|77|88)[2-9]......))",MT:"(?:((?:7(?:210|[79]..)|9(?:2..|69[67]|8(?:1[1-3]|89|97)|9..))....)|(2(?:0(?:1[0-6]|3[1-4]|[69].)|[1-357]..)....|800[3467]....))",MU:"(?:(5?(?:2[59].|4(?:2[1-389]|3.|7[1-9]|9.)|7..|8(?:[256].|7[15-8])|9[0-8].)....|5.......)|((?:2(?:[03478].|1[0-7]|6[1-69])|4(?:[013568].|2[4-7])|5(?:44.|471)|6..|8(?:14|3[129]))....|80[012]....))",MV:"(?:((?:46[46]|7[2-9].|9[14-9].)....)|((?:3(?:0[0-3]|3[0-59])|6(?:[57][02468]|6[024568]|8[024689]|90))....|800.......))",MW:"(?:((?:111|77.|88.|99.)......|21.......)|((?:1[2-9]|21..).....))",MX:"(?:(1(?:(?:33|55|81)........|(?:2(?:2[1-9]|3[1-35-8]|4[13-9]|7[1-689]|8[1-578]|9[467])|3(?:1[1-79]|[2458][1-9]|7[1-8]|9[1-5])|4(?:1[1-57-9]|[24-6][1-9]|[37][1-8]|8[1-35-9]|9[2-689])|5(?:88|9[1-79])|6(?:1[2-68]|[2-4][1-9]|5[1-3689]|6[12457-9]|7[1-7]|8[67]|9[4-8])|7(?:[13467][1-9]|2[1-9]|5[13-9]|8[1-69]|9[17])|8(?:2[13-689]|3[1-6]|4[124-6]|6[1246-9]|7[1-378]|9[12479])|9(?:1[346-9]|2[1-4]|3[2-46-8]|5[1348]|[69][1-9]|7[12]|8[1-8])).......))|((?:33|55|81)........|(?:2(?:0[01]|2[1-9]|3[1-35-8]|4[13-9]|7[1-689]|8[1-578]|9[467])|3(?:1[1-79]|[2458][1-9]|7[1-8]|9[1-5])|4(?:1[1-57-9]|[24-6][1-9]|[37][1-8]|8[1-35-9]|9[2-689])|5(?:88|9[1-79])|6(?:1[2-68]|[234][1-9]|5[1-3689]|6[12457-9]|7[1-7]|8[67]|9[4-8])|7(?:[13467][1-9]|2[1-8]|5[13-9]|8[1-69]|9[17])|8(?:2[13-689]|3[1-6]|4[124-6]|6[1246-9]|7[1-378]|9[12479])|9(?:1[346-9]|2[1-4]|3[2-46-8]|5[1348]|[69][1-9]|7[12]|8[1-8])).......|8(?:00|88).......))",MY:"(?:(1(?:1(?:[1-7]..|1[03-589]|2[049]|3[25]|4[01]|5[2-9])|[0349][2-9].|[267]..|59..?|8(?:1[23]|[2-9].)).....)|((?:3[2-9].|[4-9][2-9])......|1[378]00......))",MZ:"(?:(8[2-7].......|8[15].......)|(2(?:[1346].|5[0-2]|[78][12]|93).....|800......))",NA:"(?:((?:60|8[125]).......)|(6(?:1(?:17|2(?:[0189].|[2-6]|7.?)|3(?:[01378]|2.)|4(?:[024]|10?|3[15]?)|69|7[014])|2(?:17|5(?:[0-36-8]|4.?)|69|70)|3(?:17|2(?:[0237].?|[14-689])|34|6[289]|7[01]|81)|4(?:17|2(?:[012]|7.?)|4(?:[06]|1.?)|5(?:[01357]|[25].?)|69|7[01])|5(?:17|2(?:[0459]|[23678].?)|69|7[01])|6(?:17|2(?:5|6.?)|38|42|69|7[01])|7(?:17|2(?:[569]|[234].?)|3(?:0.?|[13])|6[89]|7[01]))....))",NC:"(?:((?:5[0-4]|[79].|8[0-79])....)|((?:2[03-9]|3[0-5]|4[1-7]|88)....))",NE:"(?:((?:8[04589]|9.)......)|(2(?:0(?:20|3[1-7]|4[134]|5[14]|6[14578]|7[1-578])|1(?:4[145]|5[14]|6[14-68]|7[169]|88))....|08......))",NF:"(?:(3[58]....)|((?:1(?:06|17|28|39)|3[012].)...))",NG:"(?:((?:1(?:7[34].|8(?:04|[124579].|8[0-3])|95.)|287[0-7]|3(?:18[1-8]|88[0-7]|9(?:8[5-9]|6[1-5]))|4(?:28[0-2]|6(?:7[1-9]|8[02-47])|88[0-2])|5(?:2(?:7[7-9]|8.)|38[1-79]|48[0-7]|68[4-7])|6(?:2(?:7[7-9]|8.)|4(?:3[7-9]|[68][129]|7[04-69]|9[1-8])|58[0-2]|98[7-9])|7(?:38[0-7]|69[1-8]|78[2-4])|8(?:28[3-9]|38[0-2]|4(?:2[12]|3[147-9]|5[346]|7[4-9]|8[014-689]|90)|58[1-8]|78[2-9]|88[5-7])|98[07].)....|(?:70(?:[1-689].|7[0-3])|8(?:0(?:1[01]|[2-9].)|1(?:[0-8].|9[01]))|90[235-9].)......)|([12].......?|9(?:0[3-9]|[1-9].).....|(?:3.|4[023568]|5[02368]|6[02-469]|7[4-69]|8[2-9])......|(?:4[47]|5[14579]|6[1578]|7[0-357])......?|(?:78|41).....|800........?.?.?.?|700........?.?.?.?))",NI:"(?:(5(?:5[0-7].....|[78]......)|6(?:20|3[035]|4[045]|5[05]|77|8[1-9]|9[059]).....|7[5-8]......|8.......|[57].......|68......)|(2.......|1800....))",NL:"(?:(6[1-578].......|970........)|((?:1[0135-8]|2[02-69]|3[0-68]|4[0135-9]|[57].|8[478]).......|800.....?.?.?|(?:6760|85..).....))",NO:"(?:((?:4[015-8]|5[89]|87|9.)......)|((?:2[1-4]|3[1-3578]|5[1-35-7]|6[1-4679]|7[0-8])......|80[01].....))",NP:"(?:(9(?:6[0-3]|7[245]|8[0-24-68]).......)|((?:1[0-6].|2[13-79][2-6]|3[135-8][2-6]|4[146-9][2-6]|5[135-7][2-6]|6[13-9][2-6]|7[15-9][2-6]|8[1-46-9][2-6]|9[1-79][2-6]).....))",NR:"(?:(5(?:[56].)....)|((?:444|888)....))",NU:"(?:([1256]...)|([34]...))",NZ:"(?:(2(?:[028]........?|1(?:[03]......?.?|[12457]......?|[689].....)|[79].......))|((?:3[2-79]|[49][2-9]|6[235-9]|7[2-57-9])......|24099...|508.......?|80.......?.?))",OM:"(?:(7[129]......|9(?:0[1-9]|[1-9].).....)|(2[2-6]......|8007.....?|500....))",PA:"(?:((?:1[16]1|21[89]|8(?:1[01]|7[23]))....|6(?:[02-9].|1[0-5]).....)|((?:1(?:0[0-8]|1[49]|2[37]|3[0137]|4[147]|5[05]|6[58]|7[0167]|8[58]|9[139])|2(?:[0235679].|1[0-7]|4[04-9]|8[028])|3(?:[09].|1[014-7]|2[0-3]|3[03]|4[03-57]|55|6[068]|7[06-8]|8[06-9])|4(?:3[013-69]|4.|7[0-589])|5(?:[01].|2[0-7]|[56]0|79)|7(?:0[09]|2[0-267]|3[06]|[469]0|5[06-9]|7[0-24-79]|8[7-9])|8(?:09|[34].|5[0134]|8[02])|9(?:0[6-9]|1[016-8]|2[036-8]|3[3679]|40|5[0489]|6[06-9]|7[046-9]|8[36-8]|9[1-9]))....|80[09]....))",PE:"(?:(9........)|((?:1.|4[1-4]|5[1-46]|6[1-7]|7[2-46]|8[2-4])......|800.....))",PF:"(?:(8[79]......|38....)|(4(?:[09][45689].|4)....))",PG:"(?:(7(?:[0-689].|7[578]).....)|((?:3[0-2].|4[257].|5[34].|64[1-9]|77(?:[0-24].|30)|85[02-46-9]|9[78].)....|180....))",PH:"(?:((?:81[37]|9(?:0[5-9]|1[024-9]|2[0-35-9]|3[02-9]|4[235-9]|5[056]|6[5-7]|7[34-79]|89|9[4-9])).......)|(2.....(?:..)?|(?:3[2-68]|4[2-9]|5[2-6]|6[2-58]|7[24578]|8[2-8]).......|88(?:22......|42....)|1800........?.?))",PK:"(?:(3(?:[014].|2[0-5]|3[0-7]|55|64).......)|((?:21|42)[2-9].......|(?:2[25]|4[0146-9]|5[1-35-7]|6[1-8]|7[14]|8[16]|91)[2-9]......|(?:2(?:3[2358]|4[2-4]|9[2-8])|45[3479]|54[2-467]|60[468]|72[236]|8(?:2[2-689]|3[23578]|4[3478]|5[2356])|9(?:2[2-8]|3[27-9]|4[2-6]|6[3569]|9[25-8]))[2-9]......?|58[126].......|800.....))",PL:"(?:(45[09]......|(?:5[0137]|6[069]|7[2389]|88).......)|((?:1[2-8]|2[2-69]|3[2-4]|4[1-468]|5[24-689]|6[1-3578]|7[14-7]|8[1-79]|9[145]).......|[12]2.....|800......))",PM:"(?:(55....|40....)|(41....))",PR:"(?:((?:787|939)[2-9]......)|((?:787|939)[2-9]......|8(?:00|33|44|55|66|77|88)[2-9]......))",PS:"(?:(5[69].......)|((?:22[234789]|42[45]|82[01458]|92[369]).....|1800......))",PT:"(?:(9(?:[1236]..|480).....)|(2(?:[12].|[35][1-689]|4[1-59]|6[1-35689]|7[1-9]|8[1-69]|9[1256])......|80[02]......))",PW:"(?:((?:6[234689]0|77.)....)|(2552255|(?:277|345|488|5(?:35|44|87)|6(?:22|54|79)|7(?:33|47)|8(?:24|55|76))....))",PY:"(?:(9(?:51|6[129]|[78][1-6]|9[1-5])......|9[789][0-6]......)|((?:[26]1|3[289]|4[124678]|7[123]|8[1236])......?.?|(?:2(?:2[4568]|7[15]|9[1-5])|3(?:18|3[167]|4[2357]|51)|4(?:18|2[45]|3[12]|5[13]|64|71|9[1-47])|5(?:[1-4].|5[0234])|6(?:3[1-3]|44|7[1-4678])|7(?:17|4[0-4]|6[1-578]|75|8[0-8])|858)......?))",QA:"(?:([3567].......)|(4[04]......|800....))",RE:"(?:(6(?:9[23]|47)......)|(262......|80.......))",RO:"(?:(7(?:[0-8]..|99.).....|79.......)|(2(?:1(?:.......|9...)|[3-6](?:.......|.9..))|3(?:1....(?:...)?|[3-6].......)|800......|37.......))",RS:"(?:(6(?:[0-689]|7.).......?)|((?:1(?:[02-9][2-9]|1[1-9]).|2(?:[0-24-7][2-9].|[389](?:0[2-9]|[2-9].))|3(?:[0-8][2-9].|9(?:[2-9].|0[2-9])))....?.?.?.?.?|800....?.?.?.?.?.?))",RU:"(?:(9.........|(?:3(?:0[12]|4[1-35-79]|5[1-3]|65|8[1-58]|9[0145])|4(?:01|1[1356]|2[13467]|7[1-5]|8[1-7]|9[1-689])|8(?:1[1-8]|2[01]|3[13-6]|4[0-8]|5[15]|6[1-35-79]|7[1-37-9])).......|58.......)|((?:3(?:0[12]|4[1-35-79]|5[1-3]|65|8[1-58]|9[0145])|4(?:01|1[1356]|2[13467]|7[1-5]|8[1-7]|9[1-689])|8(?:1[1-8]|2[01]|3[13-6]|4[0-8]|5[15]|6[1-35-79]|7[1-37-9])).......|80[04].......))",RW:"(?:(7[238].......)|(2[258].......|06......|800......))",SA:"(?:((?:5(?:[013-689].|7[0-36-8])|811.)......|57.......|6........)|(11.......|1?(?:2[24-8]|3[35-8]|4[3-68]|6[2-5]|7[235-7])......|800.......))",SB:"(?:(48...|7(?:[1-9]).....|8[4-9].....|9(?:1[2-9]|2[013-9]|3[0-2]|[46].|5[0-46-9]|7[0-689]|8[0-79]|9[0-8])....|7[12].....)|((?:1[4-79]|[23].|4[0-2]|5[03]|6[0-37])...|1[38]...))",SC:"(?:(2[5-8].....)|(4[2-46].....|8000...))",SD:"(?:(9[0-3569].......|1........)|(1(?:[0-25].|8[3567])......))",SE:"(?:((?:7[02369].......|7813000..))|(1(?:0[1-8]......|[136]......?.?|(?:2[0-35]|4[0-4]|5[0-25-9]|7[13-6]|[89].)......?)|2(?:[136]......?.?|(?:2[0-7]|4[0136-8]|5[0138]|7[018]|8[01]|9[0-57])......?)|3(?:[356]......?.?|(?:0[0-4]|1.|2[0-25]|4[056]|7[0-2]|8[0-3]|9[023])......?)|4(?:[0246]......?.?|(?:1[013-8]|3[0135]|5[14-79]|7[0-246-9]|8[0156]|9[0-689])......?)|5(?:0[0-6]|[15][0-5]|2[0-68]|3[0-4]|4.|6[03-5]|7[013]|8[0-79]|9[01])......?|6(?:[03]......?.?|(?:1[1-3]|2[0-4]|4[02-57]|5[0-37]|6[0-3]|7[0-2]|8[0247]|9[0-356])......?)|8.......?.?|9(?:0[1-9].....?.?|(?:1[0-68]|2.|3[02-5]|4[0-3]|5[0-4]|[68][01]|7[0135-8])......?)|20.....?.?.?))",SG:"(?:((?:8[1-8]|9[0-8])......)|(6[1-9]......|1?800.......|3[12]......))",SH:"(?:([56]....)|(2(?:[0-57-9].|6[4-9])..))",SI:"(?:((?:[37][01]|4[0139]|51|6[4589])......|6555....)|((?:1.|[25][2-8]|3[24-8]|4[24-8]|7[3-8])......|80.....?.?))",SJ:"79......|80[01].....",SK:"(?:(9(?:0(?:[1-8].|9[1-9])|(?:1[0-24-9]|[45].).).....|909......)|(2(?:1(?:6....?|7...)|[2-9].......)|[3-5][1-8](?:1(?:6...?|7...)|.......)|800......))",SL:"(?:((?:2[15]|3[03-5]|4[04]|5[05]|66|7[5-9]|8[08]|99)......|80......)|([235]2[2-4][2-9]....))",SM:"(?:(6[16]......)|(0549(?:8[0157-9]|9.)....))",SN:"(?:(7(?:[06-8].|21|90)......)|(3(?:0(?:1[0-2]|80)|282|3(?:8[1-9]|9[3-9])|611).....|800......))",SO:"(?:((?:15.|2(?:4.|8)|3[59]..|4[89]..|6[1-9]?..|7(?:[1-8].|9..?)|8[08]..|9(?:0.|[2-9]).).....|90.......)|((?:1..?|2[0-79].|3[0-46-8]?.|4[0-7]?.|59.|8[125])....))",SR:"(?:((?:7[124-7]|8[1-9]).....)|((?:2[1-3]|3[0-7]|4.|5[2-58]|68.)....))",SS:"(?:((?:12|9[1257]).......)|(18.......))",ST:"(?:(9(?:0(?:0[5-9]|[1-9].)|[89]..)...|900....)|(22.....))",SV:"(?:([67].......)|(2[1-6]......|800....(?:....)?))",SX:"(?:(7215(?:1[02]|2.|5[034679]|8[014-8])....)|(7215(?:4[2-8]|8[239]|9[056])....|8(?:00|33|44|55|66|77|88)[2-9]......))",SY:"(?:(9........)|((?:1(?:1.?|4.|[2356])|2(?:1.?|[235])|3(?:[13].|4)|4[13]|5[1-3])......))",SZ:"(?:((?:3[2-5]|7[6-9])......)|(2[2-5]......|0800....))",TC:"(?:(649(?:2(?:3[129]|4[1-7])|3(?:3[1-389]|4[1-8])|4[34][1-3])....)|(649(?:712|9(?:4.|50))....|8(?:00|33|44|55|66|77|88)[2-9]......))",TD:"(?:((?:[69]..|77.).....|9[01258]......)|(22(?:[3789]0|5[0-5]|6[89])....))",TG:"(?:((?:9[0-36-9]|79)......|70......)|(2(?:2[2-7]|3[23]|44|55|66|77).....))",TH:"(?:((?:14|6[1-6]|[89].).......)|((?:2.|3[2-9]|4[2-5]|5[2-6]|7[3-7])......|1800......))",TJ:"(?:((?:41[18]|(?:5[05]|77|88|9.).)......|50.......)|((?:3(?:1[3-5]|2[245]|3[12]|4[24-7]|5[25]|72)|4(?:46|74|87))......))",TK:"(?:(7[2-4]...?.?.?)|((?:2[2-4]|[34].)...?.?.?))",TL:"(?:(7[3-8]......)|((?:2[1-5]|3[1-9]|4[1-4]).....|80.....))",TM:"(?:(6[1-9]......)|((?:1(?:2.|3[1-9])|2(?:22|4[0-35-8])|3(?:22|4[03-9])|4(?:22|3[128]|4.|6[15])|5(?:22|5[7-9]|6[014-689])).....))",TN:"(?:((?:[259].|4[0-6])......|8[028]......)|(3(?:[012].|6[0-4]|91).....|7.......|81200...|8010....))",TO:"(?:((?:7[5678]|8[46-9]).....)|((?:2.|3[1-8]|4[1-4]|[56]0|7[0149]|8[05])...|0800...))",TR:"(?:(5(?:(?:0[1-7]|22|[34].|5[1-59]|9[246])..|6161|1616).....)|((?:2(?:[13][26]|[28][2468]|[45][268]|[67][246])|3(?:[13][28]|[24-6][2468]|[78][02468]|92)|4(?:[16][246]|[23578][2468]|4[26])).......|800.......|444....|850.......|8[89]8.......))",TT:"(?:(868[2-9]......)|(868(?:2(?:01|[23].)|6(?:0[79]|1[02-8]|2[1-9]|[3-69].|7[0-79])|82[124])....|8(?:00|33|44|55|66|77|88)[2-9]......))",TV:"(?:((?:70.|90)....)|(2[02-9]...))",TW:"(?:(9........)|(2(?:[235-8].......|4.......?)|[3-8]........?|800......))",TZ:"(?:((?:6[125-9]|[79][1-9]).......)|(2[2-8].......|80[08]......))",UA:"(?:((?:39|50|6[36-8]|7[13]|9[1-9]).......|72.......)|((?:3[1-8]|4[13-8]|5[1-7]|6[12459]).......|800......))",UG:"(?:(7(?:(?:[015789].|30|4[0-4]).|2(?:[03].|60)).....)|(20(?:[0147]..|2(?:40|[5-9].)|3(?:0[0-4]|[23].)|5[0-4].|6[035-9].|8[0-2].)....|[34]........|800[123].....))",US:"(?:((?:2(?:0[1-35-9]|1[02-9]|2[03-589]|3[149]|4[08]|5[1-46]|6[0279]|7[0269]|8[13])|3(?:0[1-57-9]|1[02-9]|2[0135]|3[0-24679]|4[67]|5[12]|6[014]|8[056])|4(?:0[124-9]|1[02-579]|2[3-5]|3[0245]|4[0235]|58|6[39]|7[0589]|8[04])|5(?:0[1-57-9]|1[0235-8]|20|3[0149]|4[01]|5[19]|6[1-47]|7[013-5]|8[056])|6(?:0[1-35-9]|1[024-9]|2[03689]|3[016]|4[16]|5[017]|6[0-279]|78|8[012])|7(?:0[1-46-8]|1[02-9]|2[04-7]|3[1247]|4[037]|5[47]|6[02359]|7[02-59]|8[156])|8(?:0[1-68]|1[02-8]|2[08]|3[0-258]|4[3578]|5[046-9]|6[02-5]|7[028])|9(?:0[1346-9]|1[02-9]|2[0589]|3[014678]|4[0179]|5[12469]|7[0-3589]|8[04-69]))[2-9]......)|((?:2(?:0[1-35-9]|1[02-9]|2[03-589]|3[149]|4[08]|5[1-46]|6[0279]|7[0269]|8[13])|3(?:0[1-57-9]|1[02-9]|2[0135]|3[0-24679]|4[67]|5[12]|6[014]|8[056])|4(?:0[124-9]|1[02-579]|2[3-5]|3[0245]|4[0235]|58|6[39]|7[0589]|8[04])|5(?:0[1-57-9]|1[0235-8]|20|3[0149]|4[01]|5[19]|6[1-47]|7[013-5]|8[056])|6(?:0[1-35-9]|1[024-9]|2[03689]|3[016]|4[16]|5[017]|6[0-279]|78|8[012])|7(?:0[1-46-8]|1[02-9]|2[04-7]|3[1247]|4[037]|5[47]|6[02359]|7[02-59]|8[156])|8(?:0[1-68]|1[02-8]|2[08]|3[0-258]|4[3578]|5[046-9]|6[02-5]|7[028])|9(?:0[1346-9]|1[02-9]|2[0589]|3[014678]|4[0179]|5[12469]|7[0-3589]|8[04-69]))[2-9]......|8(?:00|33|44|55|66|77|88)[2-9]......))",UY:"(?:(9[1-9]......)|(2.......|4[2-7]......|80[05]....))",UZ:"(?:(6(?:1(?:2(?:98|2[01])|35[0-4]|50.|61[23]|7(?:[01][017]|4.|55|9[5-9]))|2(?:11.|2(?:[12]1|9[01379])|5(?:[126].|3[0-4])|7..)|5(?:19[01]|2(?:27|9[26])|30.|59.|7..)|6(?:2(?:1[5-9]|2[0367]|38|41|52|60)|3[79].|4(?:56|83)|7(?:[07].|1[017]|3[07]|4[047]|5[057]|67|8[0178]|9[79])|9[0-3].)|7(?:2(?:24|3[237]|4[5-9]|7[15-8])|5(?:7[12]|8[0589])|7(?:0.|[39][07])|9(?:0.|7[079]))|9(?:2(?:1[1267]|5.|3[01]|7[0-4])|5[67].|6(?:2[0-26]|8.)|7..))....|7(?:0...|1(?:13[01]|6(?:0[47]|1[67]|66)|71[3-69]|98.)|2(?:2(?:2[79]|95)|3(?:2[5-9]|6[0-6])|57.|7(?:0.|1[17]|2[27]|3[37]|44|5[057]|66|88))|3(?:2(?:1[0-6]|21|3[469]|7[159])|33.|5(?:0[0-4]|5[579]|9.)|7(?:[0-3579].|4[0467]|6[67]|8[078])|9[4-6].)|4(?:2(?:29|5[0257]|6[0-7]|7[1-57])|5(?:1[0-4]|8.|9[5-9])|7(?:0.|1[024589]|2[0127]|3[0137]|[46][07]|5[01]|7[5-9]|9[079])|9(?:7[015-9]|[89].))|5(?:112|2(?:0.|2[29]|[49]4)|3[1568].|52[6-9]|7(?:0[01578]|1[017]|[23]7|4[047]|[5-7].|8[78]|9[079]))|6(?:2(?:2[1245]|4[2-4])|39.|41[179]|5(?:[349].|5[0-2])|7(?:0[017]|[13].|22|44|55|67|88))|9(?:22[128]|3(?:2[0-4]|7.)|57[05629]|7(?:2[05-9]|3[37]|4.|60|7[2579]|87|9[07])))....|9[0-57-9].......)|((?:6(?:1(?:22|3[124]|4[1-4]|5[123578]|64)|2(?:22|3[0-57-9]|41)|5(?:22|3[3-7]|5[024-8])|6..|7(?:[23].|7[69])|9(?:22|4[1-8]|6[135]))|7(?:0(?:5[4-9]|6[0146]|7[12456]|9[135-8])|1[12].|2(?:22|3[1345789]|4[123579]|5[14])|3(?:2.|3[1578]|4[1-35-7]|5[1-57]|61)|4(?:2.|3[1-579]|7[1-79])|5(?:22|5[1-9]|6[1457])|6(?:22|3[12457]|4[13-8])|9(?:22|5[1-9]))).....))",VA:"(?:(3(?:[12457-9]........|6........?|3........?.?))|(06698.....|80(?:0......|3...)))",VC:"(?:(784[2-9]......)|(784(?:266|3(?:6[6-9]|7.|8[0-24-6])|4(?:38|5[0-36-8]|8[0-8])|5(?:55|7[0-2]|93)|638|784)....|8(?:00|33|44|55|66|77|88)[2-9]......))",VE:"(?:(4(?:1[24-8]|2[46]).......)|((?:2(?:12|3[457-9]|[58][1-9]|[467].|9[1-6])|50[01]).......|800.......))",VG:"(?:(284[2-9]......)|(284(?:(?:229|4(?:22|9[45])|774|8(?:52|6[459]))....|496[1-5]...)|8(?:00|33|44|55|66|77|88)[2-9]......))",VI:"(?:(340[2-9]......)|(340(?:2(?:01|2[0678]|44|77)|3(?:32|44)|4(?:22|7[34])|5(?:1[34]|55)|6(?:26|4[23]|77|9[023])|7(?:1[2-589]|27|7.)|884|998)....|8(?:00|33|44|55|66|77|88)[2-9]......))",VN:"(?:((?:[39].|1(?:2.|6[1-9]|8[68]|99)).......|5(?:2[238]|[689].)......|7[06-9][2-9]......|8(?:6[689]|[1-58].|9[689])......|8[89].......)|(2(?:0[3-9]|1[0-689]|2[0-25-9]|3[2-9]|4[2-8]|5[124-9]|6[0-39]|7[0-7]|8[2-7]|9[0-4679]).......|1800.....?.?))",VU:"(?:((?:5(?:7[0-5]|[0-689].)|7[013-7].)....)|((?:2[02-9].|3(?:[5-7].|8[0-8])|48[4-9]|88.)..))",WF:"(?:((?:50|68|72|8[23])....)|((?:50|68|72)....))",WS:"(?:((?:60|7[25-7].)....)|((?:[2-5].|6[1-9]|84..)...|800...))",XK:"(?:(4[3-79]......)|((?:2[89]0?|3(?:8|90?))......|800.....))",YE:"(?:(7[0137].......)|((?:1(?:7.|[2-68])|2[2-68]|3[2358]|4[2-58]|5[2-6]|6[3-58]|7[24-68]).....))",YT:"(?:(639......)|(269(?:6[0-4]|50)....|80.......))",ZA:"(?:((?:6.|7[0-46-9]).......|8(?:[1-4]..?.?.?.?|5.....)..)|((?:1[0-8]|2[1-378]|3[1-69]|4.|5[1346-8]).......|80.......|87.......))",ZM:"(?:(9[567].......)|(21[1-8]......|800......))",ZW:"(?:(7[1378].......|8644......)|((?:2(?:0(?:4.|5..)|2[278].|48.|7(?:[1-7].|[089]..)|8(?:[2-57-9]|[146]..)|98)|3(?:08|17|3[78]|7(?:[19]|[56].)|8[37]|98)|5[15][78]|6(?:28..|[36]7|75.|[69]8|8(?:7.|8)))...|(?:2(?:1[39]|2[0157]|6[14]|7[35]|84)|329).......|(?:1(?:3..|9.|[4-8])|2(?:0..|[569].)|3(?:[26]|[013459].)|5(?:0|5..|[689].)|6(?:[39]|[01246].|[78]..))...|(?:29.|39|54)......|(?:(?:25|54)83|2582.)...|(?:4.......?|9[2-9].....?)|800.......))"}},cafgbeeihg:function(e,t){e.exports={mediaCanvas:"grK2C",shade:"_1ekmt",iconType:"QEFLC",iconStar:"_30H48",mediaCanvasDuration:"JVArc",shadeTop:"_1DNPt",canvasBody:"_2Ji5m",canvasSelected:"_1oTUk",mediaSelect:"KV2wQ",canvasComponent:"_2wPfr",canvasSecondRow:"IJkhc",viewerFlow:"_1LdNS",active:"cJP5q",viewerFlowTransparent:"_3Jjxz"}},cagcbeeaab:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=n(a("ddhijeejag")),u=i(a("dhbceejbjg")),f=i(a("cfifaahgae")),h=i(a("dhhfaeacef")),p=i(a("djcchigfih")),g=i(a("djbhiedbef")),m=n(a("dajffajabh")),b=i(a("cijajafeeb")),v=i(a("bhheahajjg")),j=a("cachecbicf"),E=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,(0,d.default)(t).apply(this,arguments))}return(0,c.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=this.props,t=e.onBack,a=e.catalog,n=e.contact,i=l.createElement(h.default,{id:n.id,size:82,quality:h.default.Quality.HIGH});return l.createElement(p.default,{onDrop:t,key:"catalog-link-drawer"},l.createElement(m.default,{a8n:"catalog-link-title",title:l10n.t(275),onBack:t,type:m.DRAWER_HEADER_TYPE.SMALL}),l.createElement(g.default,null,l.createElement(u.default,{image:i,primary:l.createElement(v.default,{contact:n,useDisplayName:!0,showBusinessCheckmark:!0}),theme:"identity",secondary:l.createElement(b.default,{id:"catalog-link-anchor",href:(0,j.createCatalogLink)(a.id.user)})}),l.createElement(f.default,{elementId:"catalog-link-anchor"})))}}]),t}(l.Component);t.default=E},caghbagede:function(e,t){e.exports={container:"_1Zlsf",roundIcon:"_1DnDx",unchecked:"_3i9Xl",passive:"_2eJeD"}},cahcacghci:function(e,t){e.exports={iconSpinner:"_3y7Hk",iconMorph:"_2F_Gi",iconCloseSearch:"_2heX1",iconLabelSelect:"_2pjfI",labelSearchPlaceholder:"_201Bk",inputPlaceholder:"_183ES",listSearch:"ZP8RM",contInputSearch:"eiCXe",active:"_19OGD",iconSearchMorph:"_1XCAr",iconMorphSearch:"_3I7nT",iconMorphBack:"_2l_xV",labels:"_29Ziv",kind:"_2eGMB",kindName:"_2NyQz",filterTitle:"KrrR1"}},cahefccjdd:function(e,t){e.exports={voipFloater:"KoAWx"}},cahigbeecb:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=i(a("ceffhbhahb")),u=n(a("ddhijeejag")),f=i(a("djcchigfih")),h=i(a("djbhiedbef")),p=n(a("dajffajabh")),g=i(a("fffdgbfji")),m=a("bbjjjbicfb"),b=n(a("bijffg")),v=i(a("gcdabficb")),j=i(a("becfabjeeg")),E=i(a("bfdcadbbif")),y=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).state={hover:!1},a.onClick=function(e){a.props.onUpdateColor({id:a.props.labelId,color:a.props.colorInt},b.LABEL_PROPERTIES.COLOR),a.props.onBack()},a.disableHover=function(e){a.state.hover&&a.setState({hover:!1})},a.enableHover=function(e){a.state.hover||a.setState({hover:!0})},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=this.props.isSelected?u.createElement(E.default,{name:"checkmark-light"}):null,t=(0,l.default)(v.default.wallpaperColorCanvas,{[v.default.canvasHover]:this.state.hover,[v.default.canvasActive]:this.props.isSelected});return u.createElement("span",{className:t,style:{backgroundColor:(0,m.intColorToHex)(this.props.colorInt)},onMouseOver:this.enableHover,onMouseEnter:this.enableHover,onMouseLeave:this.disableHover,onClick:this.onClick},e)}}]),t}(u.Component),_=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,(0,d.default)(t).apply(this,arguments))}return(0,c.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){for(var e=this,t=this.props,a=t.currentColor,n=t.colors.map(function(t){return u.createElement(y,{onUpdateColor:e.props.onUpdateColor,colorInt:t,onBack:e.props.onBack,labelId:e.props.labelId,isSelected:a===t,key:t})}),i=0;i<2;i++)n.push(u.createElement("div",{key:"emptyEl"+i,className:v.default.wallpaperColorEmpty}));return n}}]),t}(u.Component),S=function(e){function t(){var e;return(0,r.default)(this,t),(e=(0,s.default)(this,(0,d.default)(t).call(this))).getColorPromise=null,e.state={colors:b.default.labelColorPalette&&b.default.labelColorPalette.colors},e}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentWillUnmount",value:function(){this.getColorPromise&&this.getColorPromise.cancel()}},{key:"render",value:function(){var e=this,t=u.createElement(j.default,{stroke:6,size:24});return this.state.colors?t=u.createElement(_,{labelId:this.props.labelId,onBack:this.props.onClose,onUpdateColor:this.props.onUpdateColor,colors:this.state.colors,currentColor:this.props.currentColor}):(this.getColorPromise=b.default.getLabelColorPalette(),this.getColorPromise.cancellable().then(function(t){e.setState({colors:t})})),u.createElement(f.default,null,u.createElement(p.default,{theme:this.state.colors?void 0:"center-content",title:g.default.t(639),onBack:this.props.onClose,type:p.DRAWER_HEADER_TYPE.LARGE}),u.createElement(h.default,null,u.createElement("div",{className:v.default.container},t)))}}]),t}(u.Component);t.default=S},caigihje:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=n(a("ddhijeejag")),u=(i(a("baagejbchg")),i(a("dbbbgjbbgf"))),f=i(a("ccfhgdcjch")),h=i(a("bfdcadbbif")),p=i(a("dbabefhajh")),g=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,(0,d.default)(t).apply(this,arguments))}return(0,c.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=this.props.msg,t=e.isSentByMe?l10n.t(1001):l10n.t(999),a=e.isSentByMe?"recalled-out":"recalled-in";return l.createElement(p.default,{msg:e},l.createElement(u.default,{msg:e,theme:"placeholder"},l.createElement("div",{className:f.default.icon},l.createElement(h.default,{name:a})),t))}}]),t}(l.Component);t.default=g},caiifejggg:function(e,t){e.exports={container:"_3wYPn"}},caijdggfg:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.SEARCH_EVENT=void 0;var i=n(a("eaidjcib")),r=n(a("dgcdacjddi")),o=n(a("ffceefejc")),s=n(a("cjedcdbdii")),d=n(a("dbjagcfebh")),c=n(a("jcfacighg")),l=n(a("cfjdfebffb")),u=n(a("cccehdaiaf"));t.SEARCH_EVENT="SEARCH_EVENT";var f=function(e){function t(){var e,a;(0,i.default)(this,t);for(var n=arguments.length,r=new Array(n),d=0;d<n;d++)r[d]=arguments[d];return(a=(0,o.default)(this,(e=(0,s.default)(t)).call.apply(e,[this].concat(r)))).query="",a.filter={},a}return(0,d.default)(t,e),(0,r.default)(t,[{key:"updateQuery",value:function(e){var t=this.query;this.query=e,e.trim()!==t&&this.trigger("SEARCH_EVENT")}},{key:"updateLabelQuery",value:function(e){this.filter=e||{}}},{key:"clear",value:function(){this.updateQuery("")}},{key:"trimmed",get:function(){return this.query.trim()}},{key:"highlighted",get:function(){var e=this.trimmed.toLowerCase().split(" ");return(0,l.default)((0,c.default)(e))}},{key:"isEmptySearchTerm",get:function(){return""===this.trimmed||!this.trimmed}},{key:"isEmptyQuery",get:function(){return this.isEmptySearchTerm&&!this.filter.kind&&!this.filter.label}}]),t}(u.default);t.default=f},caijdjeaba:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.getMsgByMsgKey=function(e){if(!r.default.supportsFeature(r.default.F.MD_BACKEND))return Promise.resolve(null);var t;t=e instanceof d.default?e.toString():e;return s.default.get(t).then(function(e){return e?(0,l.hydrateMessage)(e):null})},t.getBefore=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20;if(!r.default.supportsFeature(r.default.F.MD_BACKEND))return Promise.resolve({messages:[],remaining:t});return c.default.lock(["meta-message-island","message-island"],function(a){var n=(0,i.default)(a,2),r=n[0],s=n[1];return function(e,t){return e.equals(["messages"],t.toString()).then(function(e){return e.length?e[0]:null})}(s,e).then(function(a){if(!a)return{messages:[],remaining:t};var n=a.messages.findIndex(function(t){return t===e.toString()});if(-1===n)return o.default.error("MessageIsland was found via message ".concat(e.toString(),", but message not found in island.messages array"))(),{messages:[],remaining:t};var i=a.messages.slice(0,n),d=t-i.length;return 0===d?{messages:i,remaining:d}:r.get(a.parent).then(function(e){if(!e)return o.default.error("MetaMessageIsland for island.parent was not found")(),{messages:i,remaining:d};var t=e.islands.findIndex(function(e){return e===a.id});return t<=0?{messages:i,remaining:d}:function e(t,a,n,i,r){var o=a[n];return t.get(o).then(function(o){return o?r<=o.messages.length?{messages:o.messages.slice(-r).concat(i),remaining:0}:n>0?e(t,a,n-1,o.messages.concat(i),r-o.messages.length):{messages:o.messages.concat(i),remaining:r-o.messages.length}:{messages:i,remaining:r}})}(s,e.islands,t-1,i,d)})})}).then(function(e){var t=e.messages,a=e.remaining;return s.default.bulkGet(t).then(function(e){return{remaining:a,messages:e.filter(function(e,a){return!!e||(o.default.error("getBefore: cannot find msg ".concat(t[a]," locally"))(),!1)}).map(l.hydrateMessage)}})})};var i=n(a("hbddjfeei")),r=n(a("bjbdcigbdi")),o=n(a("bdiiahhjbe")),s=n(a("bjdejebbgc")),d=n(a("cffajefeag")),c=n(a("ffjiicch")),l=a("bigeebbfbi")},cajbicccif:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg"),r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=n(a("ddhijeejag")),u=n(a("iaibjaeb")),f=i(a("dbdfbgehgj")),h=i(a("bbchdeehff")),p=i(a("djcchigfih")),g=i(a("djbhiedbef")),m=n(a("dajffajabh")),b=a("cicgeajfge"),v=i(a("bbhhbdicgc")),j=i(a("bggeiidigb")),E=i(a("ddajbaceej")),y=i(a("jheedhagg")),_=i(a("dhfbfehaef")),S=i(a("eceadcicaf")),C=i(a("dcaibchbg")),A=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).flatListController=new j.default,a.selection=new C.default([],function(e){return e.id.toString()}),a.onClick=function(e,t){h.default.openChatFromUnread(t).then(function(e){e&&h.default.focusChatTextInput(t)}),a.onClose()},a.onClose=function(){a.props.uim.uie.requestDismiss()},a.onNextChat=function(e){e.preventDefault(),e.stopPropagation(),a.selection.setNext(!0)},a.onPrevChat=function(e){e.preventDefault(),e.stopPropagation(),a.selection.setPrev(!0)},a.renderItem=function(e){return l.createElement(u.default,{chat:e.chat,mode:u.Mode.LAST,active:a.selection,onClick:a.onClick})},a.setRefHotKeys=function(e){a.refList=e},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.listeners.add(f.default,"change:archive add remove",function(){e.forceUpdate()}),this.refList&&E.default.focus(this.refList)}},{key:"getData",value:function(e){return e.map(function(e){return{itemKey:e.id.toString(),chat:e}})}},{key:"render",value:function(){var e,t=f.default.filter(function(e){return e.archive});if(this.selection.init(t,!0),t.length>0){var a={down:this.onNextChat,up:this.onPrevChat};e=l.createElement(_.default,{onRef:this.setRefHotKeys,handlers:a},l.createElement(v.default,{data:this.getData(t),flatListController:this.flatListController,direction:"vertical",renderItem:this.renderItem}))}else e=l.createElement(b.Archived,null);return l.createElement(p.default,null,l.createElement(m.default,{title:l10n.t(185),onBack:this.onClose,type:m.DRAWER_HEADER_TYPE.LARGE}),l.createElement(g.default,{flatListControllers:[this.flatListController]},e))}}]),t}(l.Component);e.exports=(0,y.default)((0,S.default)(A))},cajddbdaie:function(e,t){e.exports={thumbsContainer:"_2n0jo",scrollContainer:"_3U0tQ",viewerThumbs:"_2ogLZ",mediaThumb:"x0gLY",thumbPadding:"_2HN8V"}},cajejegicg:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.setChecksum=function(e){i.default.supportsFeature(i.default.F.MD_BACKEND)&&(0,r.setContactChecksum)(e);return Promise.resolve()};var i=n(a("bjbdcigbdi")),r=a("bgaeedafjf")},cajjfeahjc:function(e,t){e.exports={listPanel:"IMn_C",listBody:"_2eMVG",listSectionSep:"qlhJH",listSectionText:"_3hF3J",listSectionAction:"FGTTS",panelHeader:"_3pEci",headerText:"_1AHPD",primaryHeaderText:"_26-u-",secondaryHeaderText:"OEFaY",headerButtonsPrimary:"n5y-k",headerButtonsSecondary:"aVknD"}},cbcbdjdah:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.createProductInquiry=function(e,t,a){var n=function(e){return new z(e)}({ack:0,id:new R.default({id:"product_inquiry",remote:t,fromMe:!0}),from:t,t:b.default.globalUnixTime(),type:j.MSG_TYPE.PRODUCT,title:e.name,description:e.description,businessOwnerJid:t.toString({legacy:!0}),productId:e.id.toString(),url:e.url,productImageCount:e.productImageCollection.length,body:a.preview&&a.preview._b64,currencyCode:e.currency,priceAmount1000:e.priceAmount1000});return n.mediaData.set(a),n},Object.defineProperty(t,"TYPE",{enumerable:!0,get:function(){return K.MSG_TYPE}}),t.default=void 0;var r=i(a("hbddjfeei")),o=i(a("eaidjcib")),s=i(a("dgcdacjddi")),d=i(a("ffceefejc")),c=i(a("cjedcdbdii")),l=i(a("bjehdcaaj")),u=i(a("dbjagcfebh")),f=i(a("bcdejiigcg")),h=i(a("bhaghghai")),p=i(a("bebajedcaf")),g=n(a("dcaifjegcg")),m=i(a("daffbcegjj")),b=i(a("cfadcbbiie")),v=i(a("bbchdeehff")),j=n(a("baagejbchg")),E=i(a("bjigbaghc")),y=i(a("bjgiedaj")),_=i(a("djegeegcbf")),S=i(a("cijheiibhg")),C=i(a("bjbdcigbdi")),A=a("beadfddidc"),M=i(a("hciaejfjd")),T=a("cefjgcjhgf"),P=n(a("dbcedfihd")),N=i(a("bdiiahhjbe")),I=n(a("ddgbhifaji")),k=i(a("bffjfbgbg")),O=i(a("bfbggcdbfb")),R=i(a("cffajefeag")),w=n(a("ccbagdhfbb")),D=a("bcjidabgad"),L=i(a("cahfddcdga")),U=n(a("ebggjhghhi")),G=a("bdgehigfig"),x=i(a("bfgbdiffgd")),F=i(a("bhggeigghg")),B=a("hjbbdjjdf"),V=a("chhhffajfi"),H=a("dffjhcaahi"),W=i(a("cgfjebhhej")),Y=i(a("jccfhaecf")),$=i(a("djbfhebjhe")),K=a("baagejbchg"),q=function(e){function t(){var e,a;(0,o.default)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=(0,d.default)(this,(e=(0,c.default)(t)).call.apply(e,[this].concat(i)))).id=(0,g.prop)(),a.body=(0,g.prop)(),a.type=(0,g.prop)(),a.subtype=(0,g.prop)(),a.t=(0,g.prop)(),a.notifyName=(0,g.prop)(),a.from=(0,g.prop)(),a.to=(0,g.prop)(),a.author=(0,g.prop)(),a.self=(0,g.prop)("in"),a.ack=(0,g.prop)(),a.invis=(0,g.prop)(),a.isNewMsg=(0,g.prop)(),a.star=(0,g.prop)(!1),a.recvFresh=(0,g.prop)(),a.caption=(0,g.prop)(),a.interactiveAnnotations=(0,g.prop)(),a.clientUrl=(0,g.prop)(),a.loc=(0,g.prop)(),a.lat=(0,g.prop)(),a.lng=(0,g.prop)(),a.isLive=(0,g.prop)(),a.accuracy=(0,g.prop)(),a.speed=(0,g.prop)(),a.degrees=(0,g.prop)(),a.comment=(0,g.prop)(),a.sequence=(0,g.prop)(),a.shareDuration=(0,g.prop)(),a.finalLat=(0,g.prop)(),a.finalLng=(0,g.prop)(),a.finalAccuracy=(0,g.prop)(),a.finalThumbnail=(0,g.prop)(),a.finalSpeed=(0,g.prop)(),a.finalDegrees=(0,g.prop)(),a.finalTimeOffset=(0,g.prop)(),a.directPath=(0,g.prop)(),a.mimetype=(0,g.prop)(),a.duration=(0,g.prop)(),a.filehash=(0,g.prop)(),a.uploadhash=(0,g.prop)(),a.size=(0,g.prop)(),a.filename=(0,g.prop)(),a.streamingSidecar=(0,g.prop)(),a.mediaKey=(0,g.prop)(),a.mediaKeyTimestamp=(0,g.prop)(),a.pageCount=(0,g.prop)(),a.isGif=(0,g.prop)(),a.gifAttribution=(0,g.prop)(),a.streamable=(0,g.prop)(),a.width=(0,g.prop)(),a.height=(0,g.prop)(),a.devicesAdded=(0,g.prop)(),a.devicesRemoved=(0,g.prop)(),a.firstFrameLength=(0,g.prop)(),a.firstFrameSidecar=(0,g.prop)(),a.isAnimated=(0,g.prop)(),a.canonicalUrl=(0,g.prop)(),a.matchedText=(0,g.prop)(),a.thumbnail=(0,g.prop)(),a.richPreviewType=(0,g.prop)(),a.doNotPlayInline=(0,g.prop)(),a.title=(0,g.prop)(),a.description=(0,g.prop)(),a.businessOwnerJid=(0,g.prop)(),a.productId=(0,g.prop)(),a.currencyCode=(0,g.prop)(),a.priceAmount1000=(0,g.prop)(),a.retailerId=(0,g.prop)(),a.url=(0,g.prop)(),a.productImageCount=(0,g.prop)(),a.recipients=(0,g.prop)(),a.broadcast=(0,g.prop)(),a.quotedMsg=(0,g.prop)(),a.quotedStanzaID=(0,g.prop)(),a.quotedRemoteJid=(0,g.prop)(),a.quotedParticipant=(0,g.prop)(),a.mentionedJidList=(0,g.prop)(),a.footer=(0,g.prop)(),a.buttons=(0,g.prop)(),a.selectedId=(0,g.prop)(),a.selectedIndex=(0,g.prop)(),a.multicast=(0,g.prop)(),a.urlText=(0,g.prop)(),a.urlNumber=(0,g.prop)(),a.clearMedia=(0,g.prop)(),a.vcardList=(0,g.prop)(),a.protocolMessageKey=(0,g.prop)(),a.templateParams=(0,g.prop)(),a.textColor=(0,g.prop)(),a.backgroundColor=(0,g.prop)(),a.font=(0,g.prop)(),a.isForwarded=(0,g.prop)(!1),a.forwardingScore=(0,g.prop)(),a.labels=(0,g.prop)(),a.paymentCurrency=(0,g.prop)(),a.paymentAmount1000=(0,g.prop)(),a.paymentMessageReceiverJid=(0,g.prop)(),a.paymentTransactionTimestamp=(0,g.prop)(),a.paymentStatus=(0,g.prop)(),a.paymentNoteMsg=(0,g.prop)(),a.paymentRequestMessageKey=(0,g.prop)(),a.paymentExpiryTimestamp=(0,g.prop)(),a.ephemeralStartTimestamp=(0,g.prop)(),a.ephemeralDuration=(0,g.prop)(),a.historySyncMetaData=(0,g.prop)(),a.promises=(0,g.session)(function(){return{}}),a.local=(0,g.session)(),a.search=(0,g.session)(),a.msgChunk=(0,g.session)(),a.phoneUploading=(0,g.session)(),a.startOfDay=(0,g.session)(),a.startOfDaySkew=(0,g.session)(),a._quotedMsgObj=(0,g.session)(),a.isQuotedMsgAvailable=(0,g.session)(!0),a.senderObj=(0,g.session)(),a.mediaData=(0,g.session)(),a.inviteCode=(0,g.prop)(),a.inviteCodeExp=(0,g.prop)(),a.inviteGrp=(0,g.prop)(),a.inviteGrpName=(0,g.prop)(),a.inviteGrpJpegThum=(0,g.prop)(),a._links=(0,g.session)(function(){return[]}),a.linksIndexParsed=(0,g.session)(0),a.hsmEnabled=(0,g.derived)(a._hsmEnabled,["type"]),a.chat=(0,g.derived)(a._chat),a.hasTemplateButtons=(0,g.derived)(a._hasTemplateButtons,["buttons"]),a.ephemeralExpirationTimestamp=(0,g.derived)(a._ephemeralExpirationTimestamp,["t","ephemeralStartTimestamp","ephemeralDuration","minEphemeralExpirationTimestamp"]),a.minEphemeralExpirationTimestamp=(0,g.derived)(a._minEphemeralExpirationTimestamp,["t","shareDuration","paymentExpiryTimestamp","inviteCodeExp"]),a.isEphemeral=(0,g.derived)(a._isEphemeral,["ephemeralDuration"]),a.isQuickReply=(0,g.derived)(a._isQuickReply,["buttons"]),a.isFutureproof=(0,g.derived)(a._isFutureproof,["type","subtype"]),a.isGroupMsg=(0,g.derived)(a._isGroupMsg),a.isStatusV3=(0,g.derived)(a._isStatusV3),a.isPSA=(0,g.derived)(a._isPSA),a.isRTL=(0,g.derived)(a._isRTL,["dir"]),a.isProductInquiry=(0,g.derived)(a._isProductInquiry),a.statusV3TextBg=(0,g.derived)(a._statusV3TextBg),a.isSentByMe=(0,g.derived)(a._isSentByMe),a.isSentByMeFromWeb=(0,g.derived)(a._isSentByMeFromWeb,["isUserCreatedType"]),a.isNotification=(0,g.derived)(a._isNotification,["type"]),a.isGroupNotification=(0,g.derived)(a._isGroupNotification,["type"]),a.isBroadcastNotification=(0,g.derived)(a._isBroadcastNotification,["type"]),a.isBizNotification=(0,g.derived)(a._isBizNotification,["type","subtype"]),a.isProduct=(0,g.derived)(a._isProduct,["type"]),a.isValidAlbumAsset=(0,g.derived)(a._isValidAlbumAsset,["type","isNotification","caption","isForwarded","isRevoked","isGif","quotedMsg"]),a.isValidGroupedSticker=(0,g.derived)(a._isValidGroupedSticker,["type","isNotification","isRevoked","quotedMsg"]),a.isMedia=(0,g.derived)(a._isMedia,["type"]),a.isDoc=(0,g.derived)(a._isDoc,["type"]),a.isMMS=(0,g.derived)(a._isMMS,["type"]),a.isRevoked=(0,g.derived)(a._isRevoked,["type"]),a.numTimesForwarded=(0,g.derived)(a._numTimesForwarded,["isForwarded","forwardingScore"]),a.isFrequentlyForwarded=(0,g.derived)(a._isFrequentlyForwarded,["numTimesForwarded"]),a.eventType=(0,g.derived)(a._eventType,["type","invis","isNewMsg"]),a.sender=(0,g.derived)(a._sender),a.text=(0,g.derived)(a._text,["type","body","caption","comment","isLive","paymentNoteMsg","subtype"]),a.containsEmoji=(0,g.derived)(a._containsEmoji,["text"]),a.isFailed=(0,g.derived)(a._isFailed,["isSentByMe","ack"]),a.vcard=(0,g.derived)(a._vcard,["type","body"]),a.isUnsentMedia=(0,g.derived)(a._isUnsentMedia,["ack","isMMS","isSentByMe"]),a.dir=(0,g.derived)(a._dir,["type","text","subtype"]),a.rtl=(0,g.derived)(a._rtl,["type","text","subtype"]),a.linkPreview=(0,g.derived)(a._linkPreview,["matchedText","body","title","description"]),a.isGroupsV4InviteExpired=(0,g.derived)(a._isGroupsV4InviteExpired,["type","inviteCode","inviteCodeExp"]),a.isPersistent=(0,g.derived)(a._isPersistent),a.isUnreadType=(0,g.derived)(a._isUnreadType,["type"]),a.isUserCreatedType=(0,g.derived)(a._isUserCreatedType,["type"]),a.initialPageSize=(0,g.derived)(a._initialPageSize,["isFrequentlyForwarded"]),a}return(0,u.default)(t,e),(0,s.default)(t,[{key:"_hsmEnabled",value:function(){return!!(0,A.shouldEnableHsm)()&&((this.type===j.default.MSG_TYPE.TEMPLATE||this.type===j.default.MSG_TYPE.TEMPLATE_BUTTON_REPLY)&&!!(C.default.supportsFeature(C.default.F.MD_BACKEND)&&C.default.supportsFeature(C.default.F.MD_HSM)||C.default.supportsFeature(C.default.F.HSM_INTERACTIVE)||!this.hasTemplateButtons&&this.type!==j.default.MSG_TYPE.TEMPLATE_BUTTON_REPLY))}},{key:"_chat",value:function(){return F.default.Chat.get(this.id.remote)}},{key:"_hasTemplateButtons",value:function(){return(0,A.shouldEnableHsm)()&&this.type===j.default.MSG_TYPE.TEMPLATE&&null!=this.buttons&&this.buttons.length>0}},{key:"_ephemeralExpirationTimestamp",value:function(){var e=this.t,t=this.ephemeralStartTimestamp,a=this.ephemeralDuration;if(null==a||0===a)return null;var n=null!=t&&0!==t?t+a:Number.POSITIVE_INFINITY,i=e+j.default.MAX_EPHEMERAL_DURATION;return Math.min(i,Math.max(this.minEphemeralExpirationTimestamp,n))}},{key:"_minEphemeralExpirationTimestamp",value:function(){if(this.shareDuration>0)return this.t+this.shareDuration;if(null!=this.paymentExpiryTimestamp&&this.paymentExpiryTimestamp>0)return this.paymentExpiryTimestamp;var e=parseInt(this.inviteCodeExp,10);return e>0?e:Number.NEGATIVE_INFINITY}},{key:"_isEphemeral",value:function(){return null!=this.ephemeralDuration&&0!==this.ephemeralDuration}},{key:"_isQuickReply",value:function(){if(!this.hasTemplateButtons)return!1;if(null==this.buttons)return!1;var e=this.buttons.at(0);return null!=e&&e.subtype===j.default.TEMPLATE_BUTTON_SUBTYPE.QUICK_REPLY}},{key:"_isFutureproof",value:function(){return this.type===j.MSG_TYPE.UNKNOWN||this.type===j.MSG_TYPE.PAYMENT&&"futureproof"===this.subtype}},{key:"_isGroupMsg",value:function(){return Y.default.isGroup(this.from)||Y.default.isGroup(this.to)}},{key:"_isStatusV3",value:function(){return Y.default.isStatusV3(this.id.remote)}},{key:"_isPSA",value:function(){return Y.default.isPSA(this.id.remote)}},{key:"_isRTL",value:function(){return"rtl"===this.dir||void 0===this.dir&&l10n.isRTL()}},{key:"_isProductInquiry",value:function(){return this.id&&this.id.id===j.default.PRODUCT_INQUIRY_TYPE}},{key:"_statusV3TextBg",value:function(){if(!this.isStatusV3)return null;var e=this.backgroundColor;if(!e)return null;var t=e>>24&255,a=e>>8&255,n=255&e;return"rgba(".concat(e>>16&255,", ").concat(a,", ").concat(n,", ").concat(t,")")}},{key:"_isSentByMe",value:function(){return"in"!==this.id.self&&!this.isNotification&&Y.default.equals(this.from,E.default.me)}},{key:"_isSentByMeFromWeb",value:function(){return this.id.fromMe&&this.local&&this.isUserCreatedType}},{key:"_isNotification",value:function(){switch(this.type){case j.MSG_TYPE.GROUP_NOTIFICATION:case j.MSG_TYPE.GP2:case j.MSG_TYPE.BROADCAST_NOTIFICATION:case j.MSG_TYPE.NOTIFICATION:case j.MSG_TYPE.NOTIFICATION_TEMPLATE:case j.MSG_TYPE.E2E_NOTIFICATION:case j.MSG_TYPE.CALL_LOG:return!0;default:return!1}}},{key:"_isGroupNotification",value:function(){switch(this.type){case j.MSG_TYPE.GROUP_NOTIFICATION:case j.MSG_TYPE.GP2:return!0;default:return!1}}},{key:"_isBroadcastNotification",value:function(){return this.type===j.MSG_TYPE.BROADCAST_NOTIFICATION}},{key:"_isBizNotification",value:function(){if(this.type===j.MSG_TYPE.NOTIFICATION_TEMPLATE)switch(this.subtype){case"verified_initial_unknown":case"verified_initial_low":case"verified_initial_high":case"verified_transition_any_to_none":case"verified_transition_any_to_high":case"verified_transition_high_to_low":case"verified_transition_high_to_unknown":case"verified_transition_unknown_to_low":case"verified_transition_low_to_unknown":case"verified_transition_none_to_low":case"verified_transition_none_to_unknown":case"biz_verified_transition_top_to_bottom":case"biz_verified_transition_bottom_to_top":case"biz_intro_top":case"biz_intro_bottom":case"biz_name_change":case"biz_move_to_consumer_app":case"biz_two_tier_migration_top":case"biz_two_tier_migration_bottom":return!0;default:return!1}return!1}},{key:"_isProduct",value:function(){return"product"===this.type}},{key:"_isValidAlbumAsset",value:function(){return!(this.type!==j.default.MSG_TYPE.IMAGE&&this.type!==j.default.MSG_TYPE.VIDEO||this.isNotification||this.caption||this.isRevoked||this.isGif||this.quotedMsg)}},{key:"_isValidGroupedSticker",value:function(){return this.type===j.default.MSG_TYPE.STICKER&&!this.isNotification&&!this.isRevoked&&!this.quotedMsg}},{key:"_isMedia",value:function(){return["image","video","audio"].includes(this.type)||this.hsmEnabled&&(this.subtype===j.default.TEMPLATE_SUBTYPE.IMAGE||this.subtype===j.default.TEMPLATE_SUBTYPE.VIDEO)}},{key:"_isDoc",value:function(){return this.type===j.default.MSG_TYPE.DOCUMENT||this.hsmEnabled&&this.subtype===j.default.TEMPLATE_SUBTYPE.DOCUMENT}},{key:"_isMMS",value:function(){return w.typeIsMMS(this.type,this.subtype)}},{key:"_isRevoked",value:function(){return this.type===j.MSG_TYPE.REVOKED}},{key:"_numTimesForwarded",value:function(){return this.forwardingScore?this.forwardingScore||0:this.isForwarded?1:0}},{key:"_isFrequentlyForwarded",value:function(){return this.numTimesForwarded>=j.default.FREQUENTLY_FORWARDED_SENTINEL}},{key:"_eventType",value:function(){if(!this.isNewMsg)return"i";var e=this.eventTypeFromMsgType();return this.invis?"i"===e?"i":"n":e}},{key:"_sender",value:function(){return this.isSentByMe?this.from:this.isGroupMsg||this.isStatusV3?this.author:this.from}},{key:"_text",value:function(){switch(this.type){case j.MSG_TYPE.CHAT:return this.body;case j.MSG_TYPE.IMAGE:case j.MSG_TYPE.VIDEO:return this.caption;case j.MSG_TYPE.LOCATION:return this.isLive?this.comment:void 0;case j.MSG_TYPE.PAYMENT:var e=this.paymentNoteMsg;return e?e.body:void 0;case j.MSG_TYPE.GROUPS_V4_INVITE:return this.comment;case j.MSG_TYPE.PRODUCT:return this.getProductInfoText();case j.MSG_TYPE.HSM:return this.body;case j.MSG_TYPE.TEMPLATE:if(this.hsmEnabled)return this.subtype===j.default.TEMPLATE_SUBTYPE.TEXT?this.body:this.caption;break;case j.MSG_TYPE.TEMPLATE_BUTTON_REPLY:return this.body;default:return}}},{key:"_containsEmoji",value:function(){var e=this.text;return!!e&&_.default.containsEmoji(e)}},{key:"_isFailed",value:function(){return this.isSentByMe&&this.ack<0}},{key:"_vcard",value:function(){if(this.type===j.MSG_TYPE.VCARD)try{return W.default.parse(this.body)}catch(e){return}}},{key:"_isUnsentMedia",value:function(){return this.ack<1&&this.isMMS&&this.isSentByMe}},{key:"_dir",value:function(){return this.type===j.MSG_TYPE.VCARD?this.subtype?m.default.dir(this.subtype):void 0:this.text?m.default.dir(this.text):void 0}},{key:"_rtl",value:function(){return this.type===j.MSG_TYPE.VCARD?!!this.subtype&&"rtl"===m.default.dir(this.subtype):!!this.text&&"rtl"===m.default.dir(this.text)}},{key:"_linkPreview",value:function(){return(0,B.isString)(this.matchedText)&&(!(0,p.default)(this.title)||!(0,p.default)(this.description))&&this.body.includes(this.matchedText)}},{key:"_isGroupsV4InviteExpired",value:function(){if(this.type!==j.default.MSG_TYPE.GROUPS_V4_INVITE)return!1;if(!this.inviteCode)return!0;var e=(new Date).getTime()/1e3;return parseInt(e,10)>=parseInt(this.inviteCodeExp,10)}},{key:"_isPersistent",value:function(){return this.type===j.MSG_TYPE.E2E_NOTIFICATION&&"encrypt"===this.subtype}},{key:"_isUnreadType",value:function(){return[j.MSG_TYPE.CHAT,j.MSG_TYPE.IMAGE,j.MSG_TYPE.VIDEO,j.MSG_TYPE.AUDIO,j.MSG_TYPE.PTT,j.MSG_TYPE.DOCUMENT,j.MSG_TYPE.VCARD,j.MSG_TYPE.LOCATION,j.MSG_TYPE.CIPHERTEXT,j.MSG_TYPE.OVERSIZED,j.MSG_TYPE.MULTI_VCARD,j.MSG_TYPE.REVOKED,j.MSG_TYPE.UNKNOWN,j.MSG_TYPE.STICKER,j.MSG_TYPE.PRODUCT,j.MSG_TYPE.GROUPS_V4_INVITE].includes(this.type)}},{key:"_isUserCreatedType",value:function(){return[j.MSG_TYPE.PROTOCOL,j.MSG_TYPE.CHAT,j.MSG_TYPE.LOCATION,j.MSG_TYPE.VCARD,j.MSG_TYPE.MULTI_VCARD,j.MSG_TYPE.IMAGE,j.MSG_TYPE.VIDEO,j.MSG_TYPE.AUDIO,j.MSG_TYPE.PTT,j.MSG_TYPE.DOCUMENT,j.MSG_TYPE.STICKER,j.MSG_TYPE.PRODUCT,j.MSG_TYPE.GROUPS_V4_INVITE].includes(this.type)}},{key:"_initialPageSize",value:function(){return this.isFrequentlyForwarded?j.default.FREQUENTLY_FORWARDED_INITIAL_PAGE_SIZE:j.default.INITIAL_PAGE_SIZE}},{key:"initialize",value:function(){var e,a=this;if((0,l.default)((0,c.default)(t.prototype),"initialize",this).call(this),this.sender)this.addChild("senderObj",F.default.Contact.gadd(this.sender));else switch(this.type){case j.MSG_TYPE.NOTIFICATION:case j.MSG_TYPE.NOTIFICATION_TEMPLATE:case j.MSG_TYPE.GROUP_NOTIFICATION:case j.MSG_TYPE.GP2:case j.MSG_TYPE.BROADCAST_NOTIFICATION:case j.MSG_TYPE.E2E_NOTIFICATION:case j.MSG_TYPE.CALL_LOG:case j.MSG_TYPE.PROTOCOL:break;default:N.default.log("msg:msg with no sender id:".concat(this.id.toString(),", from:").concat(this.from.toString(),", author:").concat(this.author&&this.author.toString(),", type:").concat(this.type))()}this.mentionedJidList=this.mentionedJidList||[],this.mentionedJidList.forEach(function(e){return F.default.Contact.gadd(e)});var n=this.getCollection();(e=n.preAck[this.id])&&(N.default.log("Msg:initialize updating msg with out of order ack",e)(),this.updateAck(e.ack,e.t),delete n.preAck[this.id]),this.type===j.MSG_TYPE.CIPHERTEXT&&this.listenToOnce(this,"change:type",this.onCiphertextDecrypted),this.mediaObject=void 0,w.typeIsMMS(this.type,this.subtype)&&(this._createMediaDataChild(),I.registerMsg(this)),this.isSentByMeFromWeb&&(this.promises.sendPromise=Promise.sit("settled").finally(function(){a.promises.sendPromise=null}).endWithControls("settled")),this.isLive&&F.default.LiveLocation.processMsg(this,!1),E.default.isSMB&&(this.addLabelsToCollection(),this.listenTo(this,"change:labels",this.addLabelsToCollection))}},{key:"getLinks",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.initialPageSize+1,t=this.text;if(!t)return this._links;if(this.linksIndexParsed>=e)return this._links;var a=(0,V.firstNCodepoints)(t,e),n=P.findLinks(a,!1,this.sender);if(t.length>e&&n.length>0){var i=n[n.length-1];i.index+(0,V.numCodepoints)(i.url)===e&&(n=P.findLinks(t,!1,this.sender))}return this.linksIndexParsed=e,this._links=n}},{key:"getGalleryLinks",value:function(){return(0,h.default)(this.getLinks(),"href").filter(function(e){return e.isHttp})}},{key:"getSuspiciousLinks",value:function(){return this.getLinks().filter(function(e){return e.suspiciousCharacters&&e.suspiciousCharacters.size})}},{key:"addLabelsToCollection",value:function(){(0,M.default)(this.id.toString(),this.labels,"Msg")}},{key:"_createMediaDataChild",value:function(){this.addChild("mediaData",new k.default)}},{key:"hasSymbol",value:function(){return["image","video","audio","ptt","location","vcard","multi_vcard","document","ciphertext","oversized","unknown","call_log","revoked","sticker","payment","groups_v4_invite","product"].includes(this.type)||this.type===j.default.MSG_TYPE.TEMPLATE&&this.subtype!==j.default.TEMPLATE_SUBTYPE.TEXT}},{key:"mayFail",value:function(){return this.isSentByMe&&this.ack<1}},{key:"isUnsentPhoneMsg",value:function(){return!this.local&&this.isSentByMe&&this.ack<1}},{key:"canReply",value:function(){return this.chat.canSend&&!this.mayFail()&&!this.isNotification&&this.type!==j.MSG_TYPE.UNKNOWN&&this.type!==j.MSG_TYPE.CIPHERTEXT&&this.type!==j.MSG_TYPE.OVERSIZED&&this.type!==j.MSG_TYPE.REVOKED&&C.default.supportsFeature(C.default.F.REPLIES_OUT)&&this.interactiveButtonsReleased()}},{key:"canPrivateReply",value:function(){return!this.mayFail()&&!this.isNotification&&this.type!==j.MSG_TYPE.UNKNOWN&&this.type!==j.MSG_TYPE.CIPHERTEXT&&this.type!==j.MSG_TYPE.OVERSIZED&&this.type!==j.MSG_TYPE.REVOKED&&C.default.supportsFeature(C.default.F.REPLIES_OUT)&&!this.isSentByMe&&this.isGroupMsg&&C.default.supportsFeature(C.default.F.PRIVATE_REPLY)&&this.interactiveButtonsReleased()}},{key:"canPrivateReplyInRestrictedGrp",value:function(){return!!this.chat.isAnnounceGrpRestrict&&!this.chat.isReadOnly&&C.default.supportsFeature(C.default.F.PRIVATE_REPLY)&&C.default.supportsFeature(C.default.F.REPLIES_OUT)&&!this.mayFail()&&!this.isSentByMe&&!this.isNotification&&this.type!==j.MSG_TYPE.UNKNOWN&&this.type!==j.MSG_TYPE.CIPHERTEXT&&this.type!==j.MSG_TYPE.OVERSIZED&&this.type!==j.MSG_TYPE.REVOKED&&this.interactiveButtonsReleased()}},{key:"canForward",value:function(){if(this.type===j.MSG_TYPE.CIPHERTEXT)return!1;if(this.type===j.MSG_TYPE.OVERSIZED)return!1;if(this.type===j.MSG_TYPE.REVOKED)return!1;if(this.type===j.MSG_TYPE.UNKNOWN)return!1;if(this.type===j.MSG_TYPE.PAYMENT)return!1;if(this.type===j.MSG_TYPE.GROUPS_V4_INVITE)return!1;if(this.type===j.MSG_TYPE.LOCATION&&this.isLive)return!1;if(!this.interactiveButtonsReleased())return!1;if(this.ack<1&&this.isSentByMe)return!1;if(this.isMMS){var e=this.mediaData;if(!I.canSendType(e.type))return!1;if(e.mediaStage===k.default.STAGE.ERROR_MISSING)return!1;if(e.mediaStage===k.default.STAGE.ERROR_UNSUPPORTED)return!1;if(this.isUnsentMedia)return!1}return!0}},{key:"canQuickForward",value:function(){return!(!this.canForward()||this.isFrequentlyForwarded||0!==this.getSuspiciousLinks().length||this.type===j.default.MSG_TYPE.PTT||this.type===j.default.MSG_TYPE.STICKER||!this.interactiveButtonsReleased())&&(this.isMMS||this.linkPreview||this.type===j.default.MSG_TYPE.VCARD||this.type===j.default.MSG_TYPE.LOCATION||this.hsmEnabled&&this.subtype===j.default.TEMPLATE_SUBTYPE.LOCATION)}},{key:"canStar",value:function(){return!this.isNotification&&!this.isFutureproof&&this.type!==j.MSG_TYPE.REVOKED&&!(this.ack<1&&this.isSentByMe)&&this.interactiveButtonsReleased()}},{key:"interactiveButtonsReleased",value:function(){return this.hsmEnabled||!this.hasTemplateButtons&&this.type!==j.default.MSG_TYPE.TEMPLATE_BUTTON_REPLY}},{key:"isGroupLeave",value:function(){return"gp2"===this.type&&("leave"===this.subtype||"remove"===this.subtype)&&Y.default.equals(this.recipients[0],E.default.me)}},{key:"isTrusted",value:function(){return!!Y.default.equals(this.sender,E.default.me)||(!(!this.senderObj||!this.senderObj.isMyContact)||(this.isGroupMsg?this.chat.isTrusted():this.chat.notSpam))}},{key:"getWAids",value:function(){return this.type!==j.MSG_TYPE.VCARD?null:W.default.vcardWAids(this.vcard)}},{key:"getVCardThumbnailWAid",value:function(){if(this.type!==j.MSG_TYPE.VCARD)return null;var e=this.getWAids();if(e){var t=W.default.thumbnailWAid(e);return t||(e.length?e[0]:void 0)}}},{key:"getLocObject",value:function(){var e=this.loc;if(e){var t=e.split("\n"),a=(0,r.default)(t,2),n=a[0],i=a[1];return{name:n,addr:void 0===i?null:i}}return null}},{key:"resumeRemoteUpload",value:function(){var e=this;return this.isUnsentPhoneMsg()&&!this.phoneUploading&&((0,G.sendMsgRecord)(this).then(function(t){"success"!==t&&(e.phoneUploading=!1)}),this.phoneUploading=!0),this.downloadMedia(!0,O.default.WEBC_RMR_REASON_CODE.MSG_CLICK)}},{key:"forceRMR",value:function(){return Promise.reject(new Error("unimplemented forceRMR"))}},{key:"isForcingRMR",value:function(){return!1}},{key:"cancelDownload",value:function(){I.cancelDownloadMsg(this)}},{key:"resumeUpload",value:function(){return N.default.assert(this.mediaData.mediaStage===k.default.STAGE.NEED_UPLOAD,"resume-non-need-upload","resumeUpload called while state was ".concat(this.mediaData.mediaStage))(),I.resumeUploadMsg(this)}},{key:"cancelUpload",value:function(){I.cancelUploadMsg(this)}},{key:"logInitialRender",value:function(){var e=this;if(this.isMMS&&this.mediaData&&!this.isStatusV3&&!this._renderEvent){var t=this._renderEvent=new O.default.WebcMediaRender({messageMediaType:this.getWamMediaType(),webcChatType:this.chat.getWebcChatType(),webcChatPosition:this.chat.initialIndex,webcBrowserNetworkType:(0,D.getEffectiveNetworkType)(),webcMessageT:this.t}),a=this.msgChunk;a&&a===this.chat.msgs&&(t.webcMessageIndex=a.length-a.indexOf(this)-1);this.listenToAndRun(this.mediaData,"change:mediaStage",function a(){switch(e.mediaData.mediaStage){case k.default.STAGE.INIT:case k.default.STAGE.PREPARING:case k.default.STAGE.FETCHING:case k.default.STAGE.DECRYPTING:case k.default.STAGE.REMOTE_UPLOADING:case k.default.STAGE.REUPLOADING:case k.default.STAGE.UPLOADING:case k.default.STAGE.SENDING:return;case k.default.STAGE.RESOLVED:t.webcMediaStage=O.default.WEBC_MEDIA_STAGE_TYPE.RESOLVED;break;case k.default.STAGE.NEED_POKE:t.webcMediaStage=O.default.WEBC_MEDIA_STAGE_TYPE.NEEDS_RMR;break;default:t.webcMediaStage=O.default.WEBC_MEDIA_STAGE_TYPE.OTHER}e._logStorageEstimate(t).finally(function(){t.commit(),e.stopListening(e.mediaData,"change:mediaStage",a)})})}}},{key:"downloadMedia",value:function(e,t){var a=this;if(this.isRevoked)return Promise.resolve();if(N.default.assert(this.isMMS,"media-fault: downloadMedia msg is not mms type","id: ".concat(this.id.toString()," type: ").concat(this.type))(this),this.isUnsentPhoneMsg()){var n=this.promises.waitForPhoneUpload;return n||(n=this.promises.waitForPhoneUpload=U.waitForBBEvent(this.mediaData,"change:mediaStage change:filehash",function(){return!!a.mediaData.filehash&&!a.isUnsentPhoneMsg()}).then(function(){a.promises.waitForPhoneUpload=null})),n.then(function(){return a.downloadMedia(e,t)})}return I.downloadMsg(this,e,t,this._getRmrData(t))}},{key:"_getRmrData",value:function(e){var t={webcRmrReason:e,webcMessageT:this.t},a=this.chat;if(a){t.webcChatType=a.getWebcChatType(),null!=a.initialIndex&&(t.webcChatPosition=a.initialIndex);var n=this.msgChunk;n&&n===a.msgs&&(t.webcMessageIndex=n.length-n.indexOf(this)-1)}return t}},{key:"applyUpdate",value:function(e){var t=this;return e.type&&this.type!==e.type&&w.typeIsMMS(e.type)?(this.type!==j.MSG_TYPE.CIPHERTEXT&&N.default.assert(!1,"invalid-type-update","updated ".concat(this.id.toString()," from ").concat(this.type," to ").concat(String(e.type)))(),this._createMediaDataChild(),I.registerMsgEarly(this,e),I.prepareMsg(this).then(function(){return(0,H.updateLocal)(t.id,e)}).then(function(){t.set(e)}).catch(function(e){N.default.assert(!1,"preregister-error","error = ".concat(String(e)))(e)})):(0,H.updateLocal)(this.id,e).then(function(){(t.set(e),t.isLive&&F.default.LiveLocation.processMsg(t,!0),t.paymentTransactionTimestamp)&&t.getCollection().updateLastTransactionTime(t.id.remote,t.paymentTransactionTimestamp)}).catch(function(e){N.default.assert(!1,"msg:applyUpdate: failed to update locally")(e)})}},{key:"waitForPrep",value:function(){return w.typeIsMMS(this.type,this.subtype)?I.prepareMsg(this):Promise.resolve()}},{key:"delete",value:function(e){(0,l.default)((0,c.default)(t.prototype),"delete",this).call(this),F.default.AllStarredMsgs.remove(this),this.isLive&&F.default.LiveLocation.removeMsg(this),this.getCollection().remove(this.id),this.msgChunk&&this.msgChunk.remove(this.id,{},Boolean(e&&e.skipUpdatingSortTime)),w.typeIsMMS(this.type)&&I.deregisterMsg(this);var a=F.default.Chat.get(this.id.remote);if(a&&(a.unreadMsgAnchor===this&&(a.unreadMsgAnchor=void 0),a.lastReceivedKey===this.id)){var n=void 0,i=a.getLastReceivedMsg();i&&(n=i.id),(0,T.setLastReceivedKey)(a.id,n).then(function(){a.lastReceivedKey=n})}}},{key:"quotedMsgObj",value:function(){if(!this.quotedMsg&&!this.paymentRequestMessageKey)return null;if(this._quotedMsgObj){var e=this.getCollection();return w.getOriginalQuotedMsgIfPossible(this._quotedMsgObj,e)}if(this.quotedMsg)this._quotedMsgObj=this._getQuotedMsgObj();else{if(!this.paymentRequestMessageKey)return null;this._quotedMsgObj=this._getQuotedPaymentRequestMsg()}var t=this.getCollection();return w.getOriginalQuotedMsgIfPossible(this._quotedMsgObj,t)}},{key:"_getQuotedMsgObj",value:function(){var e=!this.quotedParticipant||Y.default.equals(this.quotedParticipant,E.default.me),t=e?"out":"in",a=this.quotedRemoteJid?this.quotedRemoteJid:this.id.remote,n={id:this.quotedStanzaID,from:e?E.default.me:a,to:e?a:E.default.me,self:t,author:(0,L.default)(this.quotedParticipant),remote:a};return!(Y.default.isGroup(n.from)||Y.default.isGroup(n.to))&&!Y.default.isStatusV3(a)||Y.default.equals(E.default.me,this.quotedParticipant)||(n.participant=(0,L.default)(this.quotedParticipant)),Object.assign(n,this.quotedMsg),w.createQuotedMsg(n)}},{key:"_getQuotedPaymentRequestMsg",value:function(){if(!this.paymentRequestMessageKey)return null;var e=this.paymentRequestMessageKey.remote?this.paymentRequestMessageKey.remote:this.id.remote,t=this.paymentRequestMessageKey.fromMe,a=null!=this.paymentRequestMessageKey.self?this.paymentRequestMessageKey.self:t?"out":"in",n=this.paymentRequestMessageKey.participant||this.paymentMessageReceiverJid,i={id:this.paymentRequestMessageKey.id,from:t?E.default.me:e,to:t?e:E.default.me,self:a,participant:n,author:n,remote:e,amount1000:this.paymentAmount1000,currency:this.paymentCurrency,receiverJid:this.sender,type:this.type,subtype:"request"};return w.createQuotedMsg(i)}},{key:"getQuotedMsgAdminGroupJid",value:function(){return null==this.quotedMsg?this.quotedRemoteJid:null}},{key:"msgContextInfo",value:function(e){var t=(0,f.default)(this.toJSON(),["id","t","notifyName","from","to","author","self","ack","invis","isNewMsg","star","recvFresh","recipients","broadcast","quotedMsg","quotedStanzaID","quotedRemoteJid","quotedParticipant","senderObj","multicast"]),a=null;return e&&!this.id.remote.equals(e)&&(a=this.id.remote),{quotedMsg:t,quotedParticipant:this.sender,quotedStanzaID:this.id.id,quotedRemoteJid:a}}},{key:"displayName",value:function(e,t){if(!this.sender)return"";if(this.sender.equals(E.default.me))return l10n.t(1459);var a=this.senderObj,n=e?a.shortName:void 0;if(n)return n;if(a.name)return a.name;var i=t&&this.notifyName?" ~"+this.notifyName:"";return l10n.isRTL()?l10n.embedLTR((0,$.default)(this.sender))+i:(0,$.default)(this.sender)+i}},{key:"isQuoted",value:function(e){var t=this.quotedMsgObj();return!!t&&t.sender.equals(e)}},{key:"isMentioned",value:function(e){return!!this.mentionedJidList&&this.mentionedJidList.findIndex(function(t){return t.equals(e)})>-1}},{key:"mentionMap",value:function(){if(!C.default.supportsFeature(C.default.F.MENTIONS_IN))return null;if(!this.mentionedJidList)return null;if(!this.mentionedJidList.length)return null;var e={};return this.mentionedJidList.forEach(function(t){e["@".concat(Y.default.user(t)||"")]=F.default.Contact.gadd(t)}),e}},{key:"updateAck",value:function(e,t){var a=this.ack;(0,B.isNumber)(e)&&(void 0===a||e>a||-1===e)?(this.ack=e,e>=1&&null!=t&&null==this.ephemeralStartTimestamp&&this.updateEphemeralStartTimestamp(t),"ephemeral_setting"===this.subtype&&1===e&&null!=t&&this.chat.updateEphemeralSettingTimestamp(t)):-1===e&&0===this.ack&&(this.ack=-1,this.phoneUploading=!1)}},{key:"avParams",value:function(){return I.mediaMetadata(this)}},{key:"resend",value:function(){return this.isFailed?(this.ack=0,this.isMMS?this.isSentByMeFromWeb?this.resumeUpload():this.resumeRemoteUpload():(0,G.sendMsgRecord)(this)):Promise.resolve()}},{key:"onCiphertextDecrypted",value:function(){if(!this.isStatusV3){var e=this.chat,t=e.msgs.length,a=e.msgs.indexOf(this);-1!==a&&t-a<=10&&v.default.alertNewMsg(this)}}},{key:"eventTypeFromMsgType",value:function(){var e,t,a=this.type,n=this.subtype;return a===j.MSG_TYPE.GP2||a===j.MSG_TYPE.GROUP_NOTIFICATION?"subject"===n?e="n":"add"===n||"invite"===n?(t=this.recipients[0],e=Y.default.equals(t,E.default.me)?"s":"i"):"remove"===n?(t=this.recipients[0],e=Y.default.equals(t,E.default.me)?"n":"i"):e="create"===n?"n":"i":e=a===j.MSG_TYPE.BROADCAST_NOTIFICATION||a===j.MSG_TYPE.NOTIFICATION||a===j.MSG_TYPE.E2E_NOTIFICATION?"create"===n?"n":"i":a===j.MSG_TYPE.GROUPS_V4_INVITE&&this.from===E.default.me?"i":a===j.MSG_TYPE.CALL_LOG?"n":this.broadcast?Y.default.isBroadcast(this.id.remote)?"n":"i":a===j.MSG_TYPE.REVOKED?"i":this.isPSA?2===this.ack?"d":"a":a===j.MSG_TYPE.CIPHERTEXT||a===j.MSG_TYPE.OVERSIZED?"a":a===j.MSG_TYPE.NOTIFICATION_TEMPLATE?"i":"d",e}},{key:"canRevoke",value:function(){return C.default.supportsFeature(C.default.F.REVOKE)&&this.id.fromMe&&this.isUserCreatedType&&(!Y.default.isBroadcast(this.id.remote)||"iphone"===E.default.platform)&&!this.broadcast&&Math.trunc(+new Date/1e3)-this.t<=j.default.REVOKE_WINDOW&&!this.isUnsentPhoneMsg()&&!this.isUnsentMedia}},{key:"getWamMessageType",value:function(){return this.isStatusV3?O.default.MESSAGE_TYPE.STATUS:this.isGroupMsg?O.default.MESSAGE_TYPE.GROUP:Y.default.isBroadcast(this.id.remote)?O.default.MESSAGE_TYPE.BROADCAST:O.default.MESSAGE_TYPE.INDIVIDUAL}},{key:"getWamMediaType",value:function(){switch(this.type){case j.MSG_TYPE.IMAGE:return O.default.MEDIA_TYPE.PHOTO;case j.MSG_TYPE.VIDEO:return this.mediaData.isGif?O.default.MEDIA_TYPE.GIF:O.default.MEDIA_TYPE.VIDEO;case j.MSG_TYPE.AUDIO:return O.default.MEDIA_TYPE.AUDIO;case j.MSG_TYPE.PTT:return O.default.MEDIA_TYPE.PTT;case j.MSG_TYPE.DOCUMENT:return O.default.MEDIA_TYPE.DOCUMENT;case j.MSG_TYPE.UNKNOWN:return O.default.MEDIA_TYPE.FUTURE;case j.MSG_TYPE.LOCATION:return this.isLive?O.default.MEDIA_TYPE.LIVE_LOCATION:O.default.MEDIA_TYPE.LOCATION;case j.MSG_TYPE.VCARD:return O.default.MEDIA_TYPE.CONTACT;case j.MSG_TYPE.MULTI_VCARD:return O.default.MEDIA_TYPE.CONTACT_ARRAY;case j.MSG_TYPE.CHAT:return this.linkPreview?O.default.MEDIA_TYPE.URL:O.default.MEDIA_TYPE.NONE;case j.MSG_TYPE.STICKER:return O.default.MEDIA_TYPE.STICKER;case j.MSG_TYPE.PRODUCT:return O.default.MEDIA_TYPE.PRODUCT_IMAGE;default:return O.default.MEDIA_TYPE.NONE}}},{key:"showForwarded",value:function(){var e=x.default.fwdUiStartTs;return this.numTimesForwarded>0&&e>0&&e<this.t&&!this.isRevoked}},{key:"getForwardingScoreWhenForwarded",value:function(){if(!x.default.frequentlyForwardedMessages)return this.numTimesForwarded;var e=this.numTimesForwarded+(this.id.fromMe?0:1);return e>=x.default.frequentlyForwardedThreshold?j.default.FREQUENTLY_FORWARDED_SENTINEL:e}},{key:"getProductInfoText",value:function(){var e=this.title,t=this.description,a=this.currencyCode,n=this.priceAmount1000;e="*".concat(e,"*");var i,r=a&&null!=n?y.default.format(a,n):null;return e=e.length>j.default.MAX_REPLY_PRODUCT_TITLE_LENGTH?"".concat((0,V.firstNCodepoints)(e,j.default.MAX_REPLY_PRODUCT_TITLE_LENGTH),"..."):e,t=t&&t.length>j.default.MAX_REPLY_PRODUCT_DESC_LENGTH?"".concat((0,V.firstNCodepoints)(t,j.default.MAX_REPLY_PRODUCT_DESC_LENGTH),"..."):t,r?i=r:t&&(i=t),i?"".concat(e,"\n").concat(i):e}},{key:"updateEphemeralStartTimestamp",value:function(e){this.ephemeralStartTimestamp=e}},{key:"isExpired",value:function(){return null!=this.ephemeralExpirationTimestamp&&this.ephemeralExpirationTimestamp<=b.default.globalUnixTime()}},{key:"_logStorageEstimate",value:function(e){return(0,S.default)().then(function(t){t&&(e.webcBrowserStorageQuotaBytes=t.quota,e.webcBrowserStorageQuotaUsedBytes=t.usage)})}},{key:"getCollection",value:function(){return a("biecbbiiee").default}}]),t}(g.default);q.Proxy="msg",q.idClass=R.default;var z=(0,g.defineModel)(q),Q=z;t.default=Q},cbcdicdeeb:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=n(a("ddhijeejag")),u=i(a("dhfbfehaef")),f=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i))))._onNext=function(e){e.preventDefault(),e.stopPropagation(),a.props.active.setNext(!0),a.props.onIndexChange&&a.props.onIndexChange(a.props.active.index)},a._onPrev=function(e){e.stopPropagation(),e.preventDefault(),a.props.active.prev()>-1?(a.props.active.setPrev(!0),a.props.onIndexChange&&a.props.onIndexChange(a.props.active.index)):a.props.onLeave&&(a.props.onLeave(e),a.props.active.unset())},a._onEnter=function(e){a.props.onEnter&&a.props.onEnter(e)},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e={down:this._onNext,up:this._onPrev,enter:this._onEnter};return l.createElement(u.default,{handlers:e,onRef:this.props.onRef},this.props.children)}}]),t}(l.Component);t.default=f},cbcfgjhjhj:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("bhfcfhafdj")),o=i(a("eaidjcib")),s=i(a("dgcdacjddi")),d=i(a("ffceefejc")),c=i(a("cjedcdbdii")),l=i(a("dbjagcfebh")),u=n(a("ddhijeejag")),f=i(a("bcajjbibcd")),h=i(a("bijffg")),p=i(a("bdfheihabb")),g=i(a("eceadcicaf")),m=i(a("gfgihaeab")),b=function(e){function t(){var e;return(0,o.default)(this,t),(e=(0,d.default)(this,(0,c.default)(t).call(this))).refLastLabel=null,e.updateData=function(t,a,n){var i=e.props.shouldScrollIntoViewAndSelect;e.setState({labels:h.default.toArray()},function(){if(n.add&&i){var a=i(t.name),r=a.shouldScrollIntoView,o=a.shouldSelect;r&&e.refLastLabel&&e.refLastLabel.scrollIntoView({behavior:"smooth"}),o&&e.onMultiSelect(t,!0,!1)}})},e.setRefLastLabel=function(t){e.refLastLabel=t},e.onMultiSelect=function(t,a,n){var i=e.props,r=i.selectedLabels,o=i.onMultiSelect;r&&r.setVal(t,a,n),o&&o(t.id)},e.renderLabelRow=function(){var t=e.props,a=t.renderContex,n=t.onLabelClick,i=t.initialLabelState,o=void 0===i?{}:i,s=e.props.SelectableState||new m.default(!0);return e.state.labels.reduce(function(t,i,d){var c=h.default.assertGet(i.id);return i.name?[].concat((0,r.default)(t),[u.createElement("div",{key:"label_item_".concat(i.id),ref:d===e.state.labels.length-1?e.setRefLastLabel:function(){},onClick:n?n.bind(null,i.id):function(){}},u.createElement(f.default,{theme:a,model:c,initialSelection:o[i.id]||0,multiSelection:e.props.selectedLabels,selectableState:s,onSelect:e.onMultiSelect},u.createElement(p.default,{label:i.id})))]):t},[])},e.state={labels:h.default.toArray()},e}return(0,l.default)(t,e),(0,s.default)(t,[{key:"componentDidMount",value:function(){this.props.listeners.add(h.default,"add remove",this.updateData)}},{key:"render",value:function(){return u.createElement("div",null,this.renderLabelRow())}}]),t}(u.PureComponent),v=(0,g.default)(b);t.default=v},cbcgbajadc:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=n(a("ddhijeejag")),u=a("dfdebdgdei"),f=i(a("beebhcdhhh")),h=i(a("bgfcjjddjf")),p=i(a("cfaiaibca")),g=i(a("bbchdeehff")),m=a("baagejbchg"),b=i(a("biddiiafgd")),v=i(a("bjbdcigbdi")),j=i(a("jheedhagg")),E=i(a("dfgbhedcf")),y=i(a("eceadcicaf")),_=i(a("dadhidfcfe")),S=a("dcbafbaejf"),C=i(a("dhhcgceeai")),A=i(a("ccgdgjcjjh")),M=i(a("ihfccfgdf")),T=a("bheafeifce"),P=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).confirmReportGroupSpam=function(){g.default.openModal(l.createElement(_.default,{isGroupChat:!0,onReport:a.reportSpam,onReportExitClear:a.reportSpamExitClear,onCancel:function(){return g.default.closeModal()}}))},a.exitChat=function(){g.default.deleteOrExitChat(a.props.chat)},a.confirmReportSpam=function(){g.default.openModal(l.createElement(_.default,{isBusiness:a.props.contact.isBusiness,isGroupChat:!1,onReport:a.reportSpam,onReportBlockClear:a.reportSpamBlockClear,onCancel:function(){return g.default.closeModal()}}))},a.reportSpam=function(){(0,S.sendSpamReport)(a.props.chat),g.default.closeModal()},a.reportSpamExitClear=function(){(0,S.sendSpamExitClear)(a.props.chat),g.default.closeModal()},a.reportSpamBlockClear=function(){(0,S.sendSpamBlockClear)(a.props.chat),g.default.closeModal()},a.notSpam=function(){(0,S.sendNotSpam)(a.props.chat,!0).catch(function(){})},a.confirmBlock=function(){g.default.openModal(l.createElement(f.default,{contact:a.props.contact,onCancel:function(){return g.default.closeModal()},onBlock:a.block,onReportSpamBlock:a.reportSpamBlock}))},a.block=function(){(0,u.blockContact)(a.props.contact).catch(function(){}),g.default.closeModal()},a.reportSpamBlock=function(){(0,S.sendSpamReport)(a.props.chat),(0,u.blockContact)(a.props.contact).catch(function(){}),g.default.closeModal()},a.confirmUnblock=function(){g.default.openModal(l.createElement(b.default,{okText:l10n.t(1100),onOK:a.unblock,cancelText:l10n.t(1197),onCancel:function(){return g.default.closeModal()}},l10n.t(1101,{contact:a.props.contact.formattedName})))},a.unblock=function(){(0,u.unblockContact)(a.props.contact).catch(function(){}),g.default.closeModal()},a.getNotSpamButton=function(){return l.createElement("div",{key:"not_spam",className:C.default.button},l.createElement(p.default,{onClick:a.notSpam,type:"plain-white"},l10n.t(1331)))},a.onViewInfo=function(){g.default.openDrawerRight(l.createElement(E.default,{chat:(0,T.unproxy)(a.props.chat),key:"info-".concat(a.props.chat.id.toString())}),"slide-left",a.props.uim)},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.listeners.add(h.default,"add remove reset",function(){e.forceUpdate()})}},{key:"render",value:function(){var e=this.props,t=e.chat,a=e.contact;if(t.isPSA||!t.shouldAppearInList||t.trusted)return null;var n,i=h.default.get(t.id),r=[];if(t.isGroup)n=l10n.t(525),r.push(l.createElement("div",{key:"report_spam",className:C.default.button},l.createElement(p.default,{type:"plain-white",onClick:this.confirmReportGroupSpam},l10n.t(958)))),r.push(l.createElement("div",{key:"exit_group",className:C.default.button},l.createElement(p.default,{type:"plain-white",onClick:this.exitChat},l10n.t(1238)))),r.push(this.getNotSpamButton());else{if(n=l.createElement("div",{className:C.default.text},l10n.t(1051)),a.isBusiness)if(v.default.supportsFeature(v.default.F.VNAME_V_2)){var o=a.verifiedLevel===m.VERIFIED_LEVEL.HIGH?l10n.t(889):l10n.t(699);n=l.createElement("div",{className:C.default.text},o)}else a.verifiedLevel>m.VERIFIED_LEVEL.UNKNOWN&&a.businessProfile&&(n=l.createElement(A.default,{contact:a,businessProfile:a.businessProfile,onClick:this.onViewInfo}));r.push(l.createElement("div",{key:"report_spam",className:C.default.button},l.createElement(p.default,{type:"plain-white",onClick:this.confirmReportSpam},l10n.t(958)))),i?r.push(l.createElement("div",{key:"unblock",className:C.default.button},l.createElement(p.default,{onClick:this.confirmUnblock,type:"plain-white"},l10n.t(1100)))):r.push(l.createElement("div",{key:"block",className:C.default.button},l.createElement(p.default,{onClick:this.confirmBlock,type:"plain-white"},l10n.t(215)))),r.push(this.getNotSpamButton())}return l.createElement("div",{className:C.default.spam},n,l.createElement("div",{className:C.default.controls},r))}}]),t}(l.PureComponent);P.CONCERNS={chat:["id","isPSA","shouldAppearInList","trusted","isGroup","vcardDismissed"],contact:["id","isBusiness","verifiedLevel","formattedName","businessProfile"]};var N=(0,j.default)((0,y.default)((0,M.default)(P,P.CONCERNS)));t.default=N},cbcjhabjci:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.getStatus=function(e){var t;t=r.default.supportsFeature(r.default.F.MD_BACKEND)?Promise.reject(new Error("getAbout: invalid when build with MD_BACKEND")):o.default.statusFind(e).then(function(t){return{id:e,status:null!=t.status?t.status:""}}).catch(i.WapDrop,function(){return{id:e,stale:!0,status:""}});return t},t.setMyStatus=function(e){var t;t=r.default.supportsFeature(r.default.F.MD_BACKEND)?Promise.reject(new Error("setStatus: invalid when build with MD_BACKEND")):o.default.sendSetStatus(e);return t};var i=a("ddjgcfjicj"),r=n(a("bjbdcigbdi")),o=n(a("bihdhbjih"))},cbdagjiddg:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=n(a("ddhijeejag")),u=i(a("dgibicjjj")),f=i(a("cfadcbbiie")),h=i(a("dhhfaeacef")),p=i(a("fifhbjiec")),g=i(a("dgdegachj")),m=i(a("ihfccfgdf")),b=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,(0,d.default)(t).apply(this,arguments))}return(0,c.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e,t=this.props,a=t.contact,n=t.msgInfoParticipant,i=l.createElement(h.default,{id:a.id}),r=f.default.relativeDateAndTimeStr(n.t),o=l.createElement("span",{title:r},r);return!a.name&&a.notifyName&&(e=l.createElement("span",{className:g.default.secondaryDetailContainer},l.createElement(p.default,{direction:"auto",text:a.notifyName}))),l.createElement(u.default,{contextEnabled:function(){return!1},image:i,primary:a.formattedName,secondary:o,secondaryDetail:e,style:{cursor:"auto"},theme:"drawer-list",idle:!0})}}]),t}(l.PureComponent);b.CONCERNS={msgInfoParticipant:["t"],contact:["id","name","formattedName","notifyName"]};var v=(0,m.default)(b,b.CONCERNS);t.default=v},cbddejeeba:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(t){return function(e,t){for(var a=[],n="iphone"===e?d.APPLE:d.WHATSAPP,s=t[n],l=s.SELECTOR,u=Math.ceil((0,r.default)((0,i.default)(s.UNICODE_TO_EMOJI)).length/c),f=0;f<u;f+=1)a.push({id:"emoji-".concat(l,"-b").concat(f,"-small"),selector:".emoji.".concat(l,".b").concat(f),low:{default:(0,o.getEmojiSpritesPath)(n,f,20,"png"),webp:(0,o.getEmojiSpritesPath)(n,f,20,"webp")},high:{default:(0,o.getEmojiSpritesPath)(n,f,40,"png"),webp:(0,o.getEmojiSpritesPath)(n,f,40,"webp")}}),a.push({id:"emoji-".concat(l,"-b").concat(f,"-large"),selector:".emojik.".concat(l,".b").concat(f),low:{default:(0,o.getEmojiSpritesPath)(n,f,32,"jpg"),webp:(0,o.getEmojiSpritesPath)(n,f,32,"webp")},high:{default:(0,o.getEmojiSpritesPath)(n,f,64,"jpg"),webp:(0,o.getEmojiSpritesPath)(n,f,64,"webp")}});return a}(t,e)}};var i=n(a("cehcfaibji")),r=n(a("cfjdfebffb")),o=a("cjcejcdhic"),s=a("dghhefgjhc").EMOJI,d=s.EMOJI_TYPE,c=s.BUCKET_SIZE},cbddhcffbc:function(e,t){e.exports={pipBtn:"_9RNXq",player:"_1Otoj",preview:"_2h7rw"}},cbdehahifi:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("dagbcgeifg")),o=i(a("eaidjcib")),s=i(a("dgcdacjddi")),d=i(a("ffceefejc")),c=i(a("cjedcdbdii")),l=i(a("dbjagcfebh")),u=i(a("ceffhbhahb")),f=n(a("ddhijeejag")),h=i(a("cdbddjfbcd")),p=i(a("bfdhjgffdh")),g=i(a("bbhahjgijh")),m=i(a("bbchdeehff")),b=i(a("baagejbchg")),v=(a("dghhefgjhc"),i(a("haidjjcae"))),j=a("bgddggdhc"),E=i(a("faeabjacf")),y=a("ejbdjaifi"),_=i(a("dhfbfehaef")),S=i(a("eceadcicaf")),C=i(a("bdiiahhjbe")),A=i(a("ceaabfjiba")),M=a("ddbddjjgia"),T=i(a("biecbbiiee")),P=i(a("dcfghhhajg")),N=i(a("caceaafdic")),I=function(e){function t(e){var a;(0,o.default)(this,t),(a=(0,d.default)(this,(0,c.default)(t).call(this,e))).renderedMsgs={},a.renderedDateMarkers={},a.renderedAlbums={},a.renderedMsgToAlbum={},a.renderedIds=[],a._setRefHotKeys=function(e){a._refHotKeys=e},a.handleRefreshMessages=function(){a.forceUpdate()},a.handleOpenMediaViewerForAlbumMedia=function(e){var t=a.renderedMsgToAlbum[e.id.toString()];if(t&&!t.isGroupedSticker()){var n=t.props.msgs,i=new Set((n||[]).map(function(e){return e.id.toString()}));a.renderedMsgToAlbum[e.id.toString()]&&m.default.mediaViewerModal({msg:e,getZoomNode:function(){var a=t.refAlbumComponents[e.id.toString()],n=(0,j.forbiddenFindDOMNode)(a);return n||null},highlightedMsgIds:i})}},a.onMsgKeyChange=function(e){var t=e.newKey,n=e.oldKey,i=t.toString(),r=n.toString(),o=a.renderedMsgs[r];if(o){delete a.renderedMsgs[r],a.renderedMsgs[i]=o;var s=a.renderedIds.indexOf(r);-1!==s&&a.renderedIds.splice(s,1,i)}},a.onMsgRendered=function(e,t){e?a.renderedMsgs[t]=e:delete a.renderedMsgs[t]},a.rowRenderers={msg:function(e){function t(t,a,n,i){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e,t,n,i){var r,o=a.props;r=i&&!n?M.MsgPosition.FRONT:i&&n?M.MsgPosition.MID:!i&&n?M.MsgPosition.END:M.MsgPosition.SINGLE;var s=e.type===b.default.MSG_TYPE.IMAGE||e.type===b.default.MSG_TYPE.VIDEO||e.type===b.default.MSG_TYPE.AUDIO||e.hsmEnabled&&e.type===b.default.MSG_TYPE.TEMPLATE&&(e.subtype===b.default.TEMPLATE_SUBTYPE.IMAGE||e.subtype===b.default.TEMPLATE_SUBTYPE.VIDEO);return a.renderedIds.push(e.id.toString()),f.createElement(N.default,{key:"msg-"+e.id.toString(),ref:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(t){var n={};(0,y.GetRef)("wrapper",n)(t),a.onMsgRendered(n.wrapper,e.id.toString())}),msg:e,displayType:b.default.DISP_TYPE.CONVERSATION,isMsgVisible:s?o.isMsgVisible:function(){},selectable:o.selectable,selectedMessages:o.selectedMessages,onMessageSelect:o.onMessageSelect,position:r,isFocusedMsg:t,getSequentialMsg:a.props.getSequentialMsg,onHighlightComplete:a._handleHighlightComplete,onClick:a._handleMessageClick})}),album:function(e,t,n,i,r,o){var s,d=a.props;return s=i&&!n?M.MsgPosition.FRONT:i&&n?M.MsgPosition.MID:!i&&n?M.MsgPosition.END:M.MsgPosition.SINGLE,a.renderedIds.push(t),f.createElement(p.default,{msgs:e,ref:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(n){a.onAlbumRendered(n,t,e)}),key:"album-"+t,position:s,isMsgVisible:d.isMsgVisible,selectable:d.selectable,selectedMessages:d.selectedMessages,onMessageSelect:d.onMessageSelect,albumId:t,isFocusedAlbum:r,focusedMsgIndex:o,onHighlightComplete:a._handleHighlightComplete,onClick:a._handleMessageClick})},date:function(e,t){return f.createElement(v.default,{ref:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){a.onDateMarkerRendered(t,e)}),key:"msg-"+e.id.toString()+"-date",timestamp:e.t})},unread:function(){return f.createElement(P.default,{key:"msg-unread",count:a.props.unreadCount})}},a._handleMessageClick=function(e,t){},a._handleHighlightComplete=function(e){},a.focusMsg=function(e,t){t.indexShift,t.preventScroll};var n=e.msgs;return a.latestMsgWhenChatOpen=n.length>0?n[n.length-1]:null,a}return(0,l.default)(t,e),(0,s.default)(t,[{key:"shouldComponentUpdate",value:function(e){var t=e.msgs,a=(0,r.default)(e,["msgs"]),n=this.props,i=n.msgs,o=(0,r.default)(n,["msgs"]);return!(0,h.default)(a,o)||!(0,g.default)(t,i)}},{key:"UNSAFE_componentWillUpdate",value:function(e){var t=this,a=(0,j.forbiddenAssertDOMNode)(this).parentNode,n=e.msgs.find(function(e){return t.renderedMsgs.hasOwnProperty(e.id)});if(null!=n){var i=n.id.toString(),r=(0,j.forbiddenAssertDOMNode)(this.getMsgWrapperRef(i));this._beforeRenderScrollInfo={commonMessageId:i,commonMessageTop:r.offsetTop-a.scrollTop}}else this._beforeRenderScrollInfo=null}},{key:"componentDidMount",value:function(){this.props.listeners.add(T.default,"change:msgKey",this.onMsgKeyChange),this.props.listeners.add(m.default,"refresh_messages",this.handleRefreshMessages),this.props.listeners.add(m.default,"open_media_viewer_for_album_media",this.handleOpenMediaViewerForAlbumMedia)}},{key:"componentDidUpdate",value:function(e){var t=(0,j.forbiddenAssertDOMNode)(this).parentNode,a=this._beforeRenderScrollInfo;if(null!=a){var n=a.commonMessageId,i=a.commonMessageTop,r=(0,j.forbiddenAssertDOMNode)(this.getMsgWrapperRef(n));t.scrollTop=r.offsetTop-i}}},{key:"getMsgVisibility",value:function(e){var t=(0,j.forbiddenAssertDOMNode)(this).parentNode,a=t.scrollTop,n=a+t.clientHeight,i=(0,j.forbiddenFindDOMNode)(e);return i?i.offsetTop+i.clientHeight<=a?{visibility:b.default.VISIBILITY.ABOVE,offset:i.offsetTop-a}:i.offsetTop>=n?{visibility:b.default.VISIBILITY.BELOW,offset:i.offsetTop-a}:{visibility:b.default.VISIBILITY.VISIBLE,offset:i.offsetTop-a}:(C.default.error("getMsgVisibility on invalid ref: ".concat(e))(),{visibility:b.default.VISIBILITY.VISIBLE,offset:0})}},{key:"getMsgWrapperRef",value:function(e){return this.renderedMsgs[e]||this.renderedMsgToAlbum[e]}},{key:"getMsgComponentRef",value:function(e){return this.renderedMsgs[e]?this.renderedMsgs[e].refMsgComponent&&this.renderedMsgs[e].refMsgComponent.getRef():this.renderedMsgToAlbum[e]?this.renderedMsgToAlbum[e].refAlbumComponents[e]&&this.renderedMsgToAlbum[e].refAlbumComponents[e].getRef():void 0}},{key:"getDateMarkerRef",value:function(e){return this.renderedDateMarkers[e]}},{key:"onDateMarkerRendered",value:function(e,t){t?this.renderedDateMarkers[e]=t:delete this.renderedDateMarkers[e]}},{key:"onAlbumRendered",value:function(e,t,a){var n=this;e?(this.renderedAlbums[t]=e,a.forEach(function(t){n.renderedMsgToAlbum[t.id.toString()]=e})):delete this.renderedAlbums[t]}},{key:"render",value:function(){var e,t,a=this,n=this.props,i=n.msgs,r=n.focusedMsgCtx,o=n.unreadCount;this.renderedIds=[],r&&(e=r.msg,r.isUnreadDivider&&o>0&&(t=r.msg));var s=(0,u.default)(A.default.messageList,{[A.default.messageListSelectable]:this.props.selectable}),d={down:function(e){a.focusMsg(e,{indexShift:1,preventScroll:!1})},up:function(e){a.focusMsg(e,{indexShift:-1,preventScroll:!1})}};return f.createElement(_.default,{handlers:d,onRef:this._setRefHotKeys,"data-tab":null,className:s},(0,E.default)(this.rowRenderers,i,e,t,o,this.latestMsgWhenChatOpen))}}]),t}(f.Component),k=(0,S.default)(I);t.default=k},cbeabehaca:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("eaidjcib")),r=n(a("dgcdacjddi")),o=n(a("jdjcgjgea")),s=n(a("bdiiahhjbe")),d=n(a("cahfddcdga")),c=n(a("jccfhaecf")),l=function(){function e(){(0,i.default)(this,e),this._map={},this.length=0}return(0,r.default)(e,[{key:"put",value:function(t){var a=e.getSidelistHash(t);if(a&&!this._map[a]){if(this._map[a]){var n=this._map[a];n instanceof c.default?this._map[a]=[n,t.id]:n instanceof Array&&n.push(t.id)}else this._map[a]=t.id;this.length++}}},{key:"remove",value:function(t){var a=e.getSidelistHash(t);if(a&&this._map[a]){var n=(0,d.default)(this._map[a]);n instanceof c.default?delete this._map[a]:n instanceof Array&&(0,o.default)(n,function(e){return e.equals(t.id)}),this.length++}}},{key:"get",value:function(e){var t=this._map[e];return t instanceof c.default?[t]:t}},{key:"clear",value:function(){this._map={},this.length=0}}],[{key:"getSidelistHash",value:function(e){return e.isUser?"string"==typeof e.userhash&&e.userhash.slice?e.userhash.slice(0,4):(s.default.error("Store:Contact can't call slice on contact.userhash")(e.userhash),null):null}}]),e}();t.default=l},cbebjghfgg:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg"),r=i(a("bhfcfhafdj")),o=i(a("cehcfaibji")),s=i(a("hgjcbccfg")),d=i(a("eaigijhjei")),c=i(a("dajcegbdcc")),l=i(a("beafbeighe")),u=i(a("bjigbaghc")),f=i(a("cjgfiijjee")),h=i(a("bjddijedhj")),p=a("ddjgcfjicj"),g=n(a("cajijabhgb")),m=i(a("bjbdcigbdi")),b=i(a("bdiiahhjbe")),v=i(a("dgicehhija")),j=i(a("cahfddcdga")),E=i(a("bbchfgbaj")),y=i(a("hcbfjecci")),_=i(a("bhggeigghg")),S=i(a("jccfhaecf")),C=i(a("bgeajihhc")),A={epochCount:0,epoch:0,epochSend:function(e){return 0===this.epochCount&&this.epoch++,e||this.epochCount++,b.default.log("wap:epochCount: "+this.epochCount+" epoch: "+this.epoch)(),this.epoch.toString()},epochRecv:function(){this.epochCount>0?this.epochCount--:b.default.error("wap:epochRecv: NEGATIVE")(),b.default.log("wap:epochCount: "+this.epochCount+" epoch: "+this.epoch)()},setSubProtocol:function(e){if(-1===e)this.BinaryProtocol=new c.default,this.N=this.BinaryProtocol.Node;else{if(null==e||0===e)throw b.default.error("Wap:setSubProtocol unknown ".concat(String(e)))(),new g.UpdateImmediately("".concat(this.version,"_unknown_version"));this.BinaryProtocol=new d.default(e),this.N=this.BinaryProtocol.Node}},clearBPQueue:function(){var e=this;return new Promise(function(t,a){e.BinaryProtocol.dropAllBecauseLogout(),t()})},upgradeProtoVersion(e){if(e.BinaryProtocol instanceof c.default)for(var t=e.BinaryProtocol.getWriteQueue();t.length;){var a=t.shift(),n=a.n,i=a.resolve,r=a.reject;this.BinaryProtocol.write(n).then(i).catch(r)}},delete:function(){this.epochCount=0,this.epoch=0},cannotReachPhone:function(){this.epochRecv()},dropIfConditionMet:function(e,t){return e.reduce(function(e,t){return e||t},!1)?void 0:t},pruneUndefinedProps:function(e){for(var t in e){void 0===e[t]&&delete e[t]}},callFeatureFlagFun:function(e,t){if(m.default.supportsFeature(e)){for(var a=[],n=2;n<arguments.length;n++)a.push(arguments[n]);return this[t].apply(this,a)}},safeParseInt:function(e,t){var a=parseInt(this.N.attr(t,e),10);return Number.isNaN(a)?void 0:a},wrap:function(e){var t=this;return function(a){if(a&&"object"==typeof a&&"number"==typeof a.status&&a.status>=500)return a;t.epochRecv(),e(a)}},wrap02:function(e){return function(t){if(t&&"object"==typeof t&&"number"==typeof t.status&&t.status>=500)return t;e(t)}},binWrap:function(e,t){var a=this;return function(n){if(n&&"object"==typeof n&&"number"==typeof n.status){if(401===n.status)throw a.epochRecv(),new p.E401;if(n.status>=500)return n;a.epochRecv(),t(n)}else a.epochRecv(),e(n)}},binSend:function(e,t,a,n,i){var r=this,o=n.epochIneligible?a:function(e){r.epochRecv(),a(e)};return delete n.epochIneligible,this.BinaryProtocol.write(t).then(function(a){i.debugObj||(i.debugObj=t),i.metric=r.M[i.metricName],n.data=a,n.binaryOpts=i,C.default[e](n)}).catch(o)},msgGetTarget:function(e){return S.default.equals(e.from,u.default.me)?e.to:e.from},thumbFromMediaXml:function(e){return"raw"===this.N.attr("encoding",e)?this.N.children(e)instanceof ArrayBuffer?s.default.encode(this.N.children(e)):"":this.N.dataStr(e)},actionNode:function(e,t,a){return["action",{type:e,epoch:this.epochSend(a)},t]},queryNode:function(e,t){var a=e;return a||(a={}),a.epoch=this.epochSend(),["query",a,t]},responseNode:function(e,t){var a=e;return a||(a={}),a.epoch=this.epochSend(),["response",a,t]},errorNode:function(e){return["error",{code:e.toString(),epoch:this.epochSend()},void 0]},actionGetMeta:function(e){var t={};if("action"!==this.N.tag(e))return t;var a=this.N.attr("add",e),n=this.N.attr("missing",e),i=this.N.attr("checksum",e);switch(a){case"unread":t.unreadId=this.N.attr("index",e),t.unreadFromMe="true"===this.N.attr("owner",e),t.unreadParticipant=this.N.attr("participant",e);case"after":case"before":case"last":t.pendingMsgsDone="true"===this.N.attr("last",e),t.resume="true"===this.N.attr("resume",e);case"relay":case"update":t.add=a}switch(n){case"remove":t.missing=n}return i&&(t.checksum=i),t},groupActionsByType:function(e){var t,a,n={};if(!Array.isArray(e))return n;var i=e.length;for(a=0;a<i;a++)switch(t=e[a],this.N.tag(t)){case"broadcast":switch(this.N.attr("type",t)){case"create":case"add":case"remove":n.msg||(n.msg=[]),n.msg.push(t);break;case"modify":n.bcUpdate||(n.bcUpdate=[]),n.bcUpdate.push(t)}break;case"message":case"groups_v2":case"notification":case"call_log":case"security":n.msg||(n.msg=[]),n.msg.push(t);break;case"read":case"log":case"identity":n.cmd||(n.cmd=[]),n.cmd.push(t);break;case"received":n.ack||(n.ack=[]),n.ack.push(t);break;case"user":n.contact||(n.contact=[]),n.contact.push(t);break;case"contacts":n.contacts||(n.contacts=[]),n.contacts.push(t);break;case"chat":switch(this.N.attr("type",t)){case"mute":n.mute||(n.mute=[]),n.mute.push(t);break;default:n.chat||(n.chat=[]),n.chat.push(t)}break;case"battery":n.battery||(n.battery=[]),n.battery.push(t);break;case"location":n.location||(n.location=[]),n.location.push(t);break;case"label":n.label||(n.label=[]),n.label.push(t);break;case"group":n.group||(n.group=[]),n.group.push(t);break;case"quick_reply":n.quickReply||(n.quickReply=[]),n.quickReply.push(t);break;case"call":n.call||(n.call=[]),n.call.push(t);break;case"stickerPack":case"sticker_pack":n.stickerPack||(n.stickerPack=[]),n.stickerPack.push(t);break;case"recent_stickers":n.recentStickers||(n.recentStickers=[]),n.recentStickers.push(t);break;case"starred_stickers":n.starredStickers||(n.starredStickers=[]),n.starredStickers.push(t);break;case"status":n.status||(n.status=[]),n.status.push(t);break;default:b.default.errorVerbose("Wap:groupActionsByType unknown action: "+this.N.toString(t),t)()}return n},handleResponse:function(e,t,a,n){if(0===e.indexOf("preempt"))switch(this.N.attr("type",t)){case"chat":b.default.logColor("green","bin-recv: "+e+",response,chat",t)();var i=this.N.children(t)||[];if(Array.isArray(i)){for(var r=i.length,o=[],s=0;s<r;s++){var d=this.parseChat(i[s]);d&&o.push(d)}(0,l.default)([{cmd:"preempt",response:o,binarySize:a}])}break;case"contacts":b.default.logColor("green","bin-recv: "+e+",response,contact",t)();var c=this.N.children(t);if(Array.isArray(c)){for(var u=c.length,f=[],p=0;p<u;p++){var g=this.parseContact(c[p]);g&&f.push(g)}(0,h.default)([{cmd:"preempt",checksum:this.N.attr("checksum",t),response:f,binarySize:a}])}break;default:b.default.error("Wap:handle unknown response type: "+this.N.toString(t,!0),t)()}else b.default.error("Wap:handle non-preemptive response: "+this.N.toString(t,!0),t)()},handleActionMsg:function(e,t,a,n,i){var r=n.length;switch(a.add){case"relay":case"update":var o=this.parseMsg(n[0],"relay");if(1!==r&&b.default.error("Wap:handle action msg relay length not 1",i)(),o){b.default.logColor("green","bin-recv: "+[e,"action","msg",a.add,o.type,o.from,o.to,o.id,o.author].join(","),i,o)();var s=this.msgGetTarget(o);(0,v.default)([{meta:a,chat:s,msg:o}])}else b.default.error("Wap:handle action msg relay dropped",n[0])();break;case"last":for(var d=[],c=0;c<r;c++){var l=this.parseMsg(n[c],"last");l?d.push(l):b.default.error("Wap:handle action msg last dropped",n[c])()}if(d.length>0){b.default.logColor("green","bin-recv: "+[e,"action","msg","last",n.length].join(","),i,[d])();for(var u={recent:!0,meta:a,binarySize:t},f=0;f<d.length;f++)u[this.msgGetTarget(d[f])]=d[f];(0,v.default)([u])}else b.default.error("Wap:handle action msg last dropped to 0")();break;case"before":case"after":case"unread":if(r>0){for(var h=[],p=0;p<r;p++){var g=this.parseMsg(n[p],a.add);g?h.push(g):b.default.error("Wap:handle action msg before/after dropped",n[p])()}if(h.length>0){var m=this.msgGetTarget(h[0]);b.default.logColor("green","bin-recv: "+[e,"action","msg",a.add,m,h.length].join(","),i,[h])(),(0,v.default)([{meta:a,chat:m,msgs:h,binarySize:t}])}else b.default.error("Wap:handle action msg ".concat(a.add," dropped to 0"))()}else b.default.error("Wap:handle action msg before/after 0 msgs")();break;default:b.default.error("Wap:handle action msg no meta.add",i)()}},handleAction:function(e,t,n,i){var s=this.actionGetMeta(t),d=this.groupActionsByType(this.N.children(t)),c=Object.keys(d);if(Array.isArray(c)){var u=c.length;if(0!==u||"last"!==s.add)for(var p=0;p<u;p++){var g=c[p],S=d[g],C=S.length;switch(g){case"msg":this.handleActionMsg(e,n,s,S,t);break;case"cmd":for(var A=0;A<C;A++){var M=this.parseCmd(S[A]);if(M){var T=(0,o.default)(M).join(",");b.default.logColor("green","bin-recv: "+[e,"action","cmd",T].join(","),t)(),a("dhggbbghfb").handle([M])}else b.default.error("Wap:handle action cmd invalid",t)()}break;case"bcUpdate":for(var P=[],N=0;N<C;N++){var I=this.parseBCUpdate(S[N]);I?P.push(I):b.default.error("Wap:handle action bc update invalid",S[N])()}b.default.logColor("green","bin-recv: "+[e,"action","bcUpdate",P.length].join(","),t)(),P.length>0&&_.default.GroupMetadata.handle(P);break;case"ack":for(var k=0;k<C;k++){var O=this.parseAck(S[k]);O?(b.default.logColor("green","bin-recv: "+[e,"action","ack",O.to,O.id,O.ack].join(","),t)(),(0,v.default)([O])):b.default.error("Wap:handle action ack invalid",t)()}break;case"contact":for(var R=[],w=0;w<C;w++){var D=this.parseContact(S[w]);D?R.push(D):b.default.error("Wap:handle action contact dropped",S[w])()}if(b.default.logColor("green","bin-recv: "+[e,"action","contact",R.length,s.missing].join(","),t)(),R.length>0){var L=[R];(s.missing||s.checksum)&&L.push(s),(0,h.default)(L)}break;case"contacts":var U=this.parseContacts(S[0]);b.default.logColor("green","bin-recv: "+[e,"action","contacts"].join(","),t)(),U?(0,h.default)([U]):b.default.error("Wap:handle:action:contacts dropped",S[0])();break;case"chat":for(var G=[],x=0;x<C;x++){var F=this.parseChat(S[x]);F?G.push(F):b.default.error("Wap:handle action chat dropped",S[x])()}b.default.logColor("green","bin-recv: "+[e,"action","chat",G.length].join(","),t)(),G.length>0&&(0,l.default)([G]);break;case"battery":var B=this.parseBattery(S[0]);B?(b.default.logColor("green","bin-recv: "+[e,"action","battery",B.battery,B.plugged].join(","),t)(),(0,f.default)([B])):b.default.error("Wap:handle action battery dropped",S[0])();break;case"mute":for(var V=[],H=0;H<C;H++){var W=this.parseChat(S[H]);W?V.push(W):b.default.error("Wap:handle action mute dropped",S[H])()}b.default.logColor("green","bin-recv: "+[e,"action","mute",V.length].join(","),t)(),V.length>0&&_.default.Mute.handle(V);break;case"location":for(var Y=[],$=0;$<C;$++){var K=this.parseLocation(S[$]);K?Y.push(K):b.default.error("Wap:handle:location dropped",S[$])(),b.default.logColor("green","bin-recv:"+[e,"action,location",Y.length].join(),t)(),Y.length>0&&_.default.LiveLocation.handle(Y)}break;case"label":for(var q=[],z=0;z<C;z++){var Q=this.callFeatureFlagFun(m.default.F.LABELS_DISPLAY,"parseLabel",S[z]);Q?q.push(Q):b.default.error("Wap:handle:label dropped",S[z])(),b.default.logColor("green","bin-recv:"+[e,"action,label",q.length].join(),t)(),q.length>0&&_.default.Label.handle({checksum:s.checksum,labels:q})}break;case"group":for(var J=0;J<C;J++){var Z=this.callFeatureFlagFun(m.default.F.GROUPS_V_4_JOIN_PERMISSION,"parseInviteUpdate",S[J]);b.default.logColor("green","bin-recv:"+[e,"action,group_v4_pending_invites",Z&&Z.length].join(),t)(),void 0!==Z&&_.default.GroupMetadata.handlePendingInvite({gid:Z.gid,participants:Z.participants})}break;case"quickReply":for(var X=[],ee=0;ee<C;ee++){var te=this.callFeatureFlagFun(m.default.F.QUICK_REPLIES_QUERY,"parseQuickReply",S[ee]);te?X.push(te):b.default.error("Wap:handle:quickReply dropped",S[ee])(),b.default.logColor("green","bin-recv:"+[e,"action,quickReply",X.length].join(),t)(),X.length>0&&_.default.QuickReply.handle({checksum:s.checksum,quickReplies:X})}break;case"call":var ae=this.callFeatureFlagFun(m.default.F.VOIP_INDIVIDUAL_INCOMING,"parseCall",S[0]);b.default.logColor("green","bin-recv:"+[e,"action","call"].join(),t)(),ae?_.default.Call.handle([ae]):b.default.error("Wap:handle:action:call dropped",S[0])();break;case"stickerPack":case"sticker_pack":for(var ne=[],ie=0;ie<C;ie++){var re=this.callFeatureFlagFun(m.default.F.STICKER_PACK_QUERY,"parseStickerPackUpdate",S[ie]);re?(ne.push(re),_.default.StickerPack.sync(s.checksum)):b.default.error("Wap:handle:stickerPack dropped",S[ie])(),b.default.logColor("green","bin-recv:"+[e,"action,stickerPack",ne.length].join(),t)()}break;case"recentStickers":if(m.default.isRecentStickersEnabled())for(var oe=0;oe<C;oe++){var se=(0,E.default)(S[oe],this.N);se?(_.default.RecentSticker.setChecksum(s.checksum),_.default.RecentSticker.remove(se),b.default.logColor("green","bin-recv:"+[e,"action,recentStickers",se].join(),t)()):b.default.error("Wap:handle:recentStickers dropped",S[oe])()}break;case"starredStickers":if(m.default.isStarredStickersEnabled())for(var de=0;de<C;de++){var ce=(0,y.default)(S[de],this.N);if(ce){var le=ce.type,ue=ce.filehash,fe=ce.sticker;switch(le){case"add":_.default.StarredSticker.add((0,j.default)(fe),{at:0},!0);break;case"delete":_.default.StarredSticker.remove(ue)}b.default.logColor("green","bin-recv:"+[e,"action,starredStickers",le,ue].join(),t)()}else b.default.error("Wap:handle:starredStickers dropped",S[de])()}break;case"status":for(var he=[],pe=0;pe<C;pe++){var ge=this.callFeatureFlagFun(m.default.F.STATUS_RANKING,"parseStatusRankingScores",S[pe]);ge&&ge.length?he.push.apply(he,(0,r.default)(ge)):b.default.error("Wap:handle:status dropped",S[pe])(),b.default.logColor("green","bin-recv:"+[e,"action,status",he.length].join(),t)(),he.length>0&&_.default.StatusV3.handle([{type:"score",scores:he}])}break;default:b.default.error("Wap:handle action unknown "+g,t)()}}else(0,v.default)([{recent:!0,meta:s,binarySize:n}])}else b.default.error("Wap:handle:action keys not array: "+typeof c)(c)},handleQuery:function(e,t,a){var n=this,i=this.N.children(t);if(Array.isArray(i))for(var r=function(a){var r=i[a],o=n.N.tag(r);b.default.logColor("green","bin-recv:"+[e,"query",o].join(),t)();var s=void 0;switch(o){case"call":s=n.callFeatureFlagFun(m.default.F.VOIP_INDIVIDUAL_INCOMING,"handleCallQuery",r);break;default:b.default.error("wap:handle:query unknown "+o,t)()}s||(s=Promise.resolve(n.errorNode(501))),s.then(function(t){n.BinaryProtocol.write(t).then(function(a){C.default.send({tag:e,data:a,onSend:n.wrap(function(){}),onDrop:n.wrap(function(){}),retryOn5xx:!0,binaryOpts:{debugString:["response",o].join(),debugObj:t,metricName:"QUERY_RESPONSE",ackRequest:!0}})}).catch(function(e){n.epochRecv()})})},o=0;o<i.length;o++)r(o)},handle:function(e,t,n,i){var r=this;return this.BinaryProtocol.read(e).then(function(e){switch(r.N.tag(e)){case"response":r.handleResponse(n,e,i,t);break;case"action":r.handleAction(n,e,i,t);break;case"query":r.handleQuery(n,e,i);break;case"read":var s=r.parseCmd(e);if(s){var d=(0,o.default)(s).join();b.default.logColor("green","bin-recv:"+[n,"action",d].join(),e)(),a("dhggbbghfb").handle([s])}else b.default.error("Wap:handle read invalid",e)();break;default:b.default.errorVerbose("TODO "+r.N.toString(e,!0),e)()}return!0}).catch(p.LogoutDrop,function(e){b.default.error(e.toString())(e)}).catch(function(e){throw b.default.info("BinaryProtocol read error with tag ".concat(n,", size: ").concat(i))(),b.default.info("BinaryProtocol read error stack: ".concat(e.stack||""))(),new Error("BinaryProtocol read error: ".concat(e))})}};e.exports=A},cbecjajacd:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.setFrequent=function(e){var t={};Object.keys(e).forEach(function(a){t[a]=e[a].map(function(e){return e.toString()})}),i.default.supportsFeature(i.default.F.MD_BACKEND)&&(0,r.setFrequentContacts)(t);return Promise.resolve()};var i=n(a("bjbdcigbdi")),r=a("bgaeedafjf")},cbedjffdai:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("eaidjcib")),r=n(a("dgcdacjddi")),o=new(function(){function e(){(0,i.default)(this,e)}return(0,r.default)(e,[{key:"init",value:function(){}},{key:"get",value:function(){return{textsize:0}}},{key:"set",value:function(e){}}]),e}());t.default=o},cbeecgcage:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=i(a("dgdjiicfdg")),u=n(a("ddhijeejag")),f=i(a("cfadcbbiie")),h=i(a("bbchdeehff")),p=i(a("eceadcicaf")),g=i(a("ihfccfgdf")),m=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).state={updater:!1},a.listening=!1,a.rerender=function(){a.setState({updater:!a.state.updater})},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){this.maybeRegMidnight()}},{key:"componentDidUpdate",value:function(){this.maybeRegMidnight()}},{key:"maybeRegMidnight",value:function(){var e=this.props,t=e.listeners,a=e.msg,n=(0,l.default)().startOf("day").subtract(7,"day");a.t>=n.unix()?this.listening||(this.listening=!0,t.add(h.default,"midnight",this.rerender)):this.listening&&(this.listening=!1,t.remove(h.default,"midnight",this.rerender))}},{key:"render",value:function(){return u.createElement(u.Fragment,null,f.default.relativeStr(this.props.msg.t))}}]),t}(u.PureComponent);m.CONCERNS={msg:["t"]};var b=(0,p.default)((0,g.default)(m,m.CONCERNS)),v=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,(0,d.default)(t).apply(this,arguments))}return(0,c.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=this.props.chat;return e.previewMessage?u.createElement(b,{msg:e.previewMessage}):null}}]),t}(u.PureComponent);v.CONCERNS={chat:["previewMessage"]};var j=(0,g.default)(v,v.CONCERNS);t.default=function(e){var t=e.chat,a=e.msg;return t?u.createElement(j,{chat:t}):a?u.createElement(b,{msg:a}):null}},cbfccciabh:function(e,t){e.exports={flatListContainer:"sjDGB",flatListContainerWrapper:"_2Z6dX",flatList:"_3qG-H",thumbWrapper:"_1jHmq",thumbPaddingWithFlatList:"_2jflC",mediaThumb:"_11JEP"}},cbfidcgebe:function(e,t){e.exports={container:"_1V-to",media:"eP1x7"}},cbgedejjgb:function(e,t){e.exports={app:"_1Jzz1","app-enter":"_2yIDO",appEnter:"_2yIDO",noAnimation:"_3K0yf",drawerManager:"_2aMzp",pane:"_10V4p",paneTwo:"_1jxtm",paneThree:"_1mseJ",paneOne:"_3A_Ft"}},cbgeijgefb:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("bacehaajgh")),o=i(a("dagbcgeifg")),s=n(a("ddhijeejag")),d=i(a("eccjjjfhdj")),c=function(e){var t=e.header,a=(0,o.default)(e,["header"]);return s.createElement("div",(0,r.default)({className:d.default.container},a),t)};t.default=c},cbghhhdedg:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(t.isComposing)return!1;var a=window.getSelection();return function(e,t,a){if(!t.modify)return!1;if(1!==t.rangeCount)return!1;var n=l.backwardsEmojiTextsTrie,i=e.data||"";if(!(n=n.get(i)))return!1;if(!t.getRangeAt(0).collapsed)return!1;var f=i,h=null,p=null;if((0,d.default)(a,t,function(e,t,a){return(0,r.default)(n,"Trie ptr somehow not set"),!(n=n.get(e))||(n.hasChildren()?void(0===t&&(f=a+f)):(f=a.slice(t)+f,(p=(0,l.default)(f))&&(h=f),!0))}),!h)return!1;var g=a.serializeTextBeforeCursor();if((0,o.isInsideCodeBlock)(g))return!1;(0,c.default)(t,h.length-1),a.replaceSelection(p||"");var m=a.refInput,b=(0,s.default)(m,u.BACKWARD);if(!b)return!0;return b.dataset.replacedEmojiText=h,!0}(e,a,t)};var r=i(a("cgeeeeddea")),o=a("dacicgjcai"),s=i(a("dbegdchadg")),d=i(a("bidcddiaag")),c=i(a("decdhbjfjc")),l=n(a("bhibhdeccd")),u=s.default.Direction},cbgifejihh:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.createDeviceSentMessage=function(e,t){return new h({deviceSentMessage:new h.DeviceSentMessage({destinationJid:t.toString({legacy:!0}),message:e})})},t.createMsgProtobuf=function(e,t){var a,n=function(e){var t=e.id,a=e.toJSON();delete a.status,delete a.mimetype,delete a.height,delete a.width,delete a.recipients,delete a.chat,delete a.broadcast,delete a.ack,delete a.invis,delete a.filehash,delete a.recvFresh,delete a.mediaData,c.default.isHttp(e.clientUrl)||delete a.clientUrl;for(var n in a)null==a[n]&&delete a[n];"chat"!==a.type||"url"!==a.subtype||r.default.supportsFeature(r.default.F.URL)||delete a.subtype;a.quotedMsg&&!r.default.supportsFeature(r.default.F.REPLIES_OUT)&&(delete a.quotedMsg,delete a.quotedStanzaID,delete a.quotedRemoteJid,delete a.quotedParticipant);a.mentionedJidList&&!r.default.supportsFeature(r.default.F.MENTIONS_OUT)&&delete a.mentionedJidList;var o=i.default.get(t.remote);o&&(a.conversionTuple=o.serialize());return a}(e);if(n.quotedMsg){var o=n.quotedMsg.mentionedJidList,s=Array.isArray(o)&&o.length>0?{mentionedJid:o.map(b)}:void 0;s&&(s=new p(s)),a={stanzaId:n.quotedStanzaID,remoteJid:b(n.quotedRemoteJid),participant:b(n.quotedParticipant),quotedMessage:m(n.quotedMsg,{duration:n.quotedMsg.duration,directPath:n.quotedMsg.directPath,encFilehash:n.quotedMsg.uploadhash,filehash:n.quotedMsg.filehash,height:n.quotedMsg.height,mediaKey:n.quotedMsg.mediaKey,mediaKeyTimestamp:(0,d.isNumber)(n.quotedMsg.mediaKeyTimestamp)?n.quotedMsg.mediaKeyTimestamp:void 0,mimetype:n.quotedMsg.mimetype,url:n.quotedMsg.clientUrl,width:n.quotedMsg.width},s)}}else n.quotedRemoteJid&&(a={remoteJid:b(n.quotedRemoteJid)});if(n.mentionedJidList&&n.mentionedJidList.length>0){var l=n.mentionedJidList;(a=a||{}).mentionedJid=l.map(b)}n.conversionTuple&&(a=a||{},Object.assign(a,n.conversionTuple));n.isForwarded&&((a=a||{}).isForwarded=n.isForwarded);n.forwardingScore&&((a=a||{}).forwardingScore=n.forwardingScore);n.ephemeralDuration&&((a=a||{}).expiration=n.ephemeralDuration);a&&(a=new p(a));return m(n,t,a)},t.createMessageKey=function(e){return new g({remoteJid:b(e.to),fromMe:!0,id:e.id.id})};var i=n(a("ccbihadedf")),r=n(a("bjbdcigbdi")),o=a("beadfddidc"),s=n(a("bdiiahhjbe")),d=a("hjbbdjjdf"),c=n(a("edbaidcaf")),l=n(a("jccfhaecf")),u=a("hgjcbccfg"),f=a("bgiachiigg"),h=f.Message,p=f.ContextInfo,g=a("bfifcddbbg").MessageKey;function m(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0,i=n||new h,r=e.mimetype||t.mimetype||void 0,c=t.duration;switch(e.type){case"chat":"url"===e.subtype||e.quotedMsg||e.quotedRemoteJid||Array.isArray(e.mentionedJidList)&&e.mentionedJidList.length>0||e.conversionTuple||e.isForwarded||e.forwardingScore||e._isPaymentNoteMsg||e.ephemeralDuration?i.extendedTextMessage=new h.ExtendedTextMessage({text:e.body,matchedText:e.matchedText,canonicalUrl:e.canonicalUrl,description:e.description,title:e.title,jpegThumbnail:v(e.thumbnail),previewType:e.richPreviewType,contextInfo:a}):i.conversation=e.body;break;case"groups_v4_invite":i.groupInviteMessage=new h.GroupInviteMessage({inviteCode:e.inviteCode,inviteExpiration:parseInt(e.inviteCodeExp,10),groupJid:e.inviteGrp,groupName:e.inviteGrpName,caption:e.comment,jpegThumbnail:v(e.inviteGrpJpegThum)});break;case"sticker":if("image/webp"!==t.mimetype)throw s.default.error("invalid sticker mimetype: ".concat(t.mimetype))(),new Error("invalid sticker mimetype");i.stickerMessage=new h.StickerMessage({url:t.url,mimetype:t.mimetype,directPath:t.directPath||void 0,fileSha256:v(t.filehash),fileEncSha256:v(t.encFilehash),mediaKey:v(t.mediaKey),mediaKeyTimestamp:(0,d.isNumber)(t.mediaKeyTimestamp)?t.mediaKeyTimestamp:void 0,fileLength:(0,d.isNumber)(e.size)?e.size:void 0,height:e.height,width:e.width,firstFrameLength:t.firstFrameLength||void 0,firstFrameSidecar:e.firstFrameSidecar||void 0,isAnimated:t.isAnimated,contextInfo:a});break;case"location":var l=new h.LocationMessage({degreesLatitude:parseFloat(e.lat)||void 0,degreesLongitude:parseFloat(e.lng)||void 0,jpegThumbnail:v(e.body),contextInfo:a});if(e.loc&&(0,d.isString)(e.loc)){var u=e.loc.split("\n");l.name=u[0],l.address=u[1],l.url=e.clientUrl}i.locationMessage=l;break;case"vcard":i.contactMessage=new h.ContactMessage({displayName:e.subtype,vcard:e.body,contextInfo:a});break;case"multi_vcard":i.contactsArrayMessage=new h.ContactsArrayMessage({displayName:e.subtype,contacts:e.vcardList.map(function(e){return new h.ContactMessage(e)}),contextInfo:a});break;case"image":i.imageMessage=new h.ImageMessage({url:t.url,mimetype:r,caption:e.caption,directPath:t.directPath||void 0,fileSha256:v(t.filehash),fileEncSha256:v(t.encFilehash),height:t.height,width:t.width,fileLength:(0,d.isNumber)(e.size)?e.size:void 0,mediaKey:v(t.mediaKey),mediaKeyTimestamp:(0,d.isNumber)(t.mediaKeyTimestamp)?t.mediaKeyTimestamp:void 0,jpegThumbnail:v(e.body),contextInfo:a});break;case"product":i.productMessage=new h.ProductMessage({product:new h.ProductMessage.ProductSnapshot({productImage:new h.ImageMessage({url:t.url,mimetype:r,caption:e.caption,directPath:t.directPath||void 0,fileSha256:v(t.filehash),fileEncSha256:v(t.encFilehash),height:t.height,width:t.width,fileLength:(0,d.isNumber)(e.size)?e.size:void 0,mediaKey:v(t.mediaKey),mediaKeyTimestamp:(0,d.isNumber)(t.mediaKeyTimestamp)?t.mediaKeyTimestamp:void 0,jpegThumbnail:v(e.body)}),productId:e.productId,title:e.title,description:e.description,currencyCode:e.currencyCode,priceAmount1000:e.priceAmount1000||void 0,retailerId:e.retailerId,url:e.url,productImageCount:e.productImageCount}),businessOwnerJid:e.businessOwnerJid,contextInfo:a});break;case"document":var f=new h.DocumentMessage({url:t.url,mimetype:r,title:e.caption,directPath:t.directPath||void 0,fileSha256:v(t.filehash),fileEncSha256:v(t.encFilehash),fileName:t.filename,fileLength:(0,d.isNumber)(e.size)?e.size:void 0,mediaKey:v(t.mediaKey),mediaKeyTimestamp:(0,d.isNumber)(t.mediaKeyTimestamp)?t.mediaKeyTimestamp:void 0,jpegThumbnail:v(e.body),contextInfo:a});(0,d.isNumber)(e.pageCount)&&!isNaN(e.pageCount)&&(f.pageCount=e.pageCount),i.documentMessage=f;break;case"ptt":case"audio":c=(0,d.isString)(c)?parseInt(c,10):c,i.audioMessage=new h.AudioMessage({url:t.url,mimetype:r,directPath:t.directPath||void 0,fileSha256:v(t.filehash),fileEncSha256:v(t.encFilehash),seconds:c,ptt:"ptt"===e.type,fileLength:(0,d.isNumber)(e.size)?e.size:void 0,mediaKey:v(t.mediaKey),mediaKeyTimestamp:(0,d.isNumber)(t.mediaKeyTimestamp)?t.mediaKeyTimestamp:void 0,contextInfo:a,streamingSidecar:e.streamingSidecar});break;case"video":c=(0,d.isString)(c)?parseInt(c,10):c,i.videoMessage=new h.VideoMessage({url:t.url,mimetype:r,directPath:t.directPath||void 0,fileSha256:v(t.filehash),fileEncSha256:v(t.encFilehash),height:t.height,width:t.width,seconds:c,caption:e.caption,fileLength:(0,d.isNumber)(e.size)?e.size:void 0,mediaKey:v(t.mediaKey),mediaKeyTimestamp:(0,d.isNumber)(t.mediaKeyTimestamp)?t.mediaKeyTimestamp:void 0,jpegThumbnail:v(e.body),gifPlayback:e.isGif,gifAttribution:e.gifAttribution,contextInfo:a,streamingSidecar:e.streamingSidecar});break;case"protocol":var p;switch(e.subtype){case"revoke":var j=e.protocolMessageKey;p={key:new g({remoteJid:b(j.remote),fromMe:j.fromMe,id:j.id,participant:b(j.participant)}),type:h.ProtocolMessage.TYPE.REVOKE};break;case"ephemeral_setting":p={type:h.ProtocolMessage.TYPE.EPHEMERAL_SETTING,ephemeralExpiration:e.ephemeralDuration};break;case"ephemeral_sync_response":p={type:h.ProtocolMessage.TYPE.EPHEMERAL_SYNC_RESPONSE,ephemeralExpiration:e.ephemeralDuration,ephemeralSettingTimestamp:e.ephemeralSettingTimestamp}}p&&(i.protocolMessage=new h.ProtocolMessage(p));break;case"payment":var E={};E.stanzaId=e.quotedStanzaID,E.mentionedJid=e.mentionedJidList&&e.mentionedJidList.map(b),E.isForwarded=e.isForwarded,E.forwardingScore=e.forwardingScore,E.participant=b(e.quotedParticipant),e.quotedMsg&&(E.quotedMessage=m(e.quotedMsg));var y=e.paymentNoteMsg?m(Object.assign(e.paymentNoteMsg,{_isPaymentNoteMsg:!0}),E):void 0;switch(e.subtype){case"send":var _=e.paymentRequestMessageKey?new g({fromMe:e.paymentRequestMessageKey.fromMe,remoteJid:b(e.paymentRequestMessageKey.remote),id:e.paymentRequestMessageKey.id,participant:b(e.paymentRequestMessageKey.participant)}):void 0;i.sendPaymentMessage=new h.SendPaymentMessage({requestMessageKey:_,noteMessage:y});break;case"request":i.requestPaymentMessage=new h.RequestPaymentMessage({amount1000:e.amount1000,expiryTimestamp:e._paymentExpiryTimestamp,requestFrom:e._paymentRequestFrom,currencyCodeIso4217:e._currencyCodeIso4217,noteMessage:y})}break;case"template_button_reply":(0,o.shouldEnableHsm)()&&(i.templateButtonReplyMessage=new h.TemplateButtonReplyMessage({selectedId:e.selectedId,selectedIndex:e.selectedIndex,selectedDisplayText:e.body,contextInfo:a}));break;case"template":if((0,o.shouldEnableHsm)())return"text"===e.subtype?(e.type="chat",e.title&&(e.body="*"+e.title+"*\n"+e.body)):e.type=e.subtype,m(e,t,a,i)}return i}function b(e){return e instanceof l.default?e.toString({legacy:!0}):(0,d.isString)(e)?e.replace(/@c.us$/,"@s.whatsapp.net"):void 0}function v(e){return e?u.decode(e):void 0}},cbhbjajgac:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=i(a("cgjbjefebj")),u=i(a("bebajedcaf")),f=n(a("ddhijeejag")),h=i(a("cefgfgdhj")),p=i(a("cfegbbcefd")),g=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,(0,d.default)(t).apply(this,arguments))}return(0,c.default)(t,e),(0,o.default)(t,null,[{key:"match",value:function(e,t){if(!t)return[];var a=t.mentions;if(!a||(0,u.default)(a))return[];for(var n,i,r=(n=a,i=Object.keys(n).map(l.default).join("|"),new RegExp("(".concat(i,")"),"g")),o=(0,h.default)(e,r),s=0;s<o.length;++s)o[s][4]=a[o[s][4][0]];return o}},{key:"jsx",value:function(e,t,a){var n=a.selectable;return f.createElement(p.default,{contact:t,selectable:n})}}]),t}(i(a("gjhhbhigc")).default);t.default=g,g.format=!1},cbhejdgihi:function(e,t){e.exports={mainWrapper:"_11ARv",v3_x:"_1C7S1",v3X:"_1C7S1",v3_x_mac:"_3jOF8",v3XMac:"_3jOF8",modalBackground:"_2dLx9"}},cbhhfeaigc:function(e,t){e.exports={container:"_19l4G",error:"_1OJm4",compact:"_3st4K"}},cbhhieidga:function(e,t){e.exports={singleByte:["ciphertext","invite"]}},cbiciaafaf:function(e,t){e.exports={tooltip:"_3Fjw5","menu-tooltip":"_2fn4u",menuTooltip:"_2fn4u"}},cbidhfhhbb:function(e,t){e.exports={chatIcon:"DLg-l",buttonContainer:"a2oPi",name:"_5CRCo",price:"_1_rGc",description:"ExrSP",more:"_1NstX",descBlock:"_9GmPg"}},cbifffdech:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=n(a("ddhijeejag")),u=i(a("jdgfdffcj")),f=a("bidfjbaebi"),h=a("facgccaif"),p=i(a("cfiighfhhg")),g=i(a("ihfccfgdf")),m=a("bheafeifce"),b=i(a("dbabefhajh")),v=function(){(0,f.openExternalLink)((0,h.getCiphertextFaqUrl)())},j=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,(0,d.default)(t).apply(this,arguments))}return(0,c.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){return l.createElement(b.default,{msg:(0,m.unproxy)(this.props.msg),displayAuthor:this.props.displayAuthor},l.createElement(p.default,{iconName:"ciphertext",msg:this.props.msg},l10n.t(915)," ",l.createElement("span",{className:u.default.action,role:"button",onClick:v},l10n.t(644))))}}]),t}(l.PureComponent);j.CONCERNS={msg:["isSentByMe","isGroupMsg","senderObj"]};var E=(0,g.default)(j,j.CONCERNS);t.default=E},cbigbjjigh:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("djecdhecha")),l=i(a("dbjagcfebh")),u=i(a("eaaagccfda")),f=n(a("ddhijeejag")),h=i(a("bbchdeehff")),p=i(a("baagejbchg")),g=i(a("eceadcicaf")),m=a("cgbdcdhgig"),b=i(a("ihfccfgdf")),v=i(a("bcjcbbafcj")),j=i(a("egjjcjcg")),E=n(a("bgeajihhc")),y=(0,u.default)(function(e,t){j.default.setVideoVolumeSettings(e,t)},500),_=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).state={hasSentPlayed:!1},a.checkIteration=0,a.checkForSuccessInterval=0,a.hasCalledPlaying=!1,a.mediaBlobWasDownloadedBeforeMount=Boolean(a.props.mediaData.mediaBlob),a.refVideo=f.createRef(),a.onVolumeChange=function(){var e=a.refVideo&&a.refVideo.current;e&&y(e.volume,e.muted)},a.onTimeUpdate=function(){var e=a.refVideo&&a.refVideo.current;e&&(e.currentTime/e.duration>.5||e.currentTime>10)&&((0,m.markPlayed)(a.props.msg),a.setState({hasSentPlayed:!0}))},a.startCheckForSuccess=function(){a.checkIteration=0,a.checkForSuccessInterval||(a.checkForSuccessInterval=setInterval(a.checkForSuccess,250))},a.clearCheckForSuccess=function(){a.checkForSuccessInterval&&(clearInterval(a.checkForSuccessInterval),a.checkIteration=0,a.checkForSuccessInterval=0)},a.checkForSuccess=function(){if(E.default.state===E.STATE.CONNECTED){a.checkIteration++;var e=a.refVideo&&a.refVideo.current,t=e&&e.buffered;t&&t.length&&t.end(0)>0?a.onPlaying():a.checkIteration>240&&a.clearCheckForSuccess()}},a.onPlayerError=function(){a.clearCheckForSuccess()},a.onOtherPlaying=function(e){e!==(0,c.default)(a)&&a.pause()},a.pause=function(){var e=a.refVideo&&a.refVideo.current;e&&(e.paused||e.pause())},a.onPlaying=function(){a.clearCheckForSuccess(),h.default.mediaPlaying((0,c.default)(a))},a.onLoadedMetadata=function(e){a.setStartTime();var t=a.props.onLoadedMetadata;t&&t(e)},a.setStartTime=function(){var e=a.refVideo&&a.refVideo.current;null!=a.props.startTime&&0!==a.props.startTime&&e&&(e.currentTime=a.props.startTime)},a}return(0,l.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){this.props.listeners.add(h.default,"mediaPlaying",this.onOtherPlaying),this.props.listeners.add(h.default,"pttRecording",this.pause),this.updateVideoUserPrefs(),this.props.refVideo&&this.props.refVideo(this.refVideo)}},{key:"componentWillUnmount",value:function(){y.flush(),this.clearCheckForSuccess(),this.pause()}},{key:"componentDidUpdate",value:function(e){this.updateVideoUserPrefs(),e.startTime!==this.props.startTime&&this.setStartTime(),this.props.refVideo&&this.props.refVideo(this.refVideo)}},{key:"updateVideoUserPrefs",value:function(){var e=this.refVideo&&this.refVideo.current;if(e){var t=j.default.getVideoVolumeSettings();t&&("number"==typeof t.volume&&(e.volume=t.volume),"boolean"==typeof t.muted&&(e.muted=t.muted)),C()&&this.props.autoPlay&&this.startCheckForSuccess()}}},{key:"render",value:function(){var e,t=this.props,a=t.msg,n=t.mediaData,i=n.mediaBlob,r=n.streamable&&n.isStreamable();if(!this.mediaBlobWasDownloadedBeforeMount&&r||!i){if(!n.streamable||!n.isStreamable())return null;e="".concat(p.default.VIDEO_STREAM_URL,"?key=").concat(this.props.msg.id.toString())}else e=i.url();var o=!this.state.hasSentPlayed&&(0,m.canMarkPlayed)(a)?this.onTimeUpdate:void 0,s=C()&&!t.autoPlay?this.startCheckForSuccess:void 0;return f.createElement("video",{ref:this.refVideo,src:e,poster:t.poster,className:t.className,controls:t.controls,autoPlay:t.autoPlay,onClick:t.onClick,onDoubleClick:t.onDoubleClick,onVolumeChange:this.onVolumeChange,onLoadedMetadata:this.onLoadedMetadata,onPlay:s,onPlaying:this.onPlaying,onTimeUpdate:o,onError:this.clearCheckForSuccess},t.children)}}]),t}(f.PureComponent);_.CONCERNS={msg:["id","isSentByMe","ack","type","isGif"],mediaData:["mediaBlob","streamable"]};var S=(0,g.default)((0,b.default)(_,_.CONCERNS));function C(){return v.default.isGecko||v.default.isSafari}t.default=S},cbiibcfhjf:function(e,t,a){"use strict";var n=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=new Uint8Array(32);return window.crypto.getRandomValues(e),i.encode(e)};var i=n(a("hgjcbccfg"))},cbjacjjfgc:function(e,t,a){"use strict";var n=a("cfjecfhbfg"),i=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return r.createElement("div",{className:o.default.shade})};var r=i(a("ddhijeejag")),o=n(a("cdegajchcj"))},cbjedbdgjh:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=n(a("ddhijeejag")),u=i(a("bbchdeehff")),f=i(a("biddiiafgd")),h=i(a("bjigbaghc")),p=i(a("eceadcicaf")),g=i(a("bbajjgjhej")),m=i(a("bgeajihhc")),b=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).close=function(){h.default.smbTos||u.default.closeModal()},a.logout=function(){u.default.closeModal(),m.default.logout()},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){this.props.listeners.add(h.default,"change:smbTos",this.close)}},{key:"render",value:function(){var e=l10n.t(1399),t=l10n.t(718),a=this.logout;return l.createElement(f.default,{onOK:a,okText:t},e,"",l.createElement(g.default,null))}}]),t}(l.Component),v=(0,p.default)(b);t.default=v},ccafbdigcj:function(e,t,a){"use strict";var n=a("cfjecfhbfg"),i=n(a("dgdjiicfdg")),r=n(a("bjigbaghc")),o=n(a("bgeajihhc")),s={setGroupEphemeralDuration:function(e,t){var a=this;return new Promise(function(n,s){var d=o.default.tag(),c=a.wrap(n);c.tag=d;var l=[["ephemeral",{value:t.toString()},void 0]],u=["group",{id:d,jid:e,type:"prop",author:r.default.me},l],f=a.actionNode("set",[u]);a.binSend("send",f,s,{clientCacheable:!0,onSend:c,onDrop:a.wrap(s)},{debugString:"action,group,ephemeral,"+t,metricName:"GROUP",expires:(0,i.default)().unix()})})}};e.exports=s},ccagfiehde:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return!!e&&e.nodeType===Node.TEXT_NODE&&0===e.textContent.length}},ccajjgdjf:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e.metaKey||e.shiftKey||e.altKey||e.ctrlKey}},ccbagdhfbb:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.typeIsMMS=function(e,t){if((0,c.shouldEnableHsm)()&&"template"===e)return t!==s.default.TEMPLATE_SUBTYPE.TEXT&&t!==s.default.TEMPLATE_SUBTYPE.LOCATION;if("protocol"===e&&"history_sync_notification"===t)return!0;return b[e]||!1},t.msgMatchesType=function(e,t){switch(t){case"text":return e.type===s.default.MSG_TYPE.CHAT&&"url"!==e.subtype;case"image":return e.type===s.default.MSG_TYPE.IMAGE;case"video":return e.type===s.default.MSG_TYPE.VIDEO&&!e.isGif;case"gif":return e.type===s.default.MSG_TYPE.VIDEO&&e.isGif;case"audio":return e.type===s.default.MSG_TYPE.AUDIO;case"ptt":return e.type===s.default.MSG_TYPE.PTT;case"document":return e.type===s.default.MSG_TYPE.DOCUMENT;case"location":return e.type===s.default.MSG_TYPE.LOCATION;case"vcard":return e.type===s.default.MSG_TYPE.VCARD||e.type===s.default.MSG_TYPE.MULTI_VCARD;case"url":return e.type===s.default.MSG_TYPE.CHAT&&"url"===e.subtype;case"sticker":return e.type===s.default.MSG_TYPE.STICKER;case"template":return e.hsmEnabled;case void 0:default:return!1}},t.createQuotedMsg=function(e){if(!e)return null;var t=new h.default({from:e.from,to:e.to,id:e.id,participant:e.participant,selfDir:e.self});return e.id=t,new g.default.Msg.constructor.model(e)},t.getOriginalQuotedMsgIfPossible=function(e,t){if(!e)return e;var a=t.get(e.id);return a&&!a.isRevoked?a:e},t.getBroadcastFanoutKeys=v,t.broadcastFanout=function(e){var t;if(!e.invis){var a=v(e);a&&(t=a.map(function(e){return e.remote}),a.forEach(function(t){if(!g.default.Msg.some((0,r.default)({id:t}))){var a=_(e);a.to=t.remote,a.id=t,a.broadcast=!0;var n=g.default.Msg.add(a,{merge:!0});g.default.Chat.find(t.remote).then(function(e){p.default.ephemeralMessages&&n.forEach(function(t){e.isEphemeralSettingOn()&&(t.ephemeralDuration=e.getEphemeralSetting())}),j(n,e,!0)})}}))}return t},t.addRecordsToChat=j;var i=n(a("dfaadfeedd")),r=n(a("bhehgiigij")),o=n(a("dbafiicfja")),s=n(a("baagejbchg")),d=a("ddjgcfjicj"),c=a("beadfddidc"),l=n(a("eecdaegci")),u=a("cefjgcjhgf"),f=n(a("bdiiahhjbe")),h=n(a("cffajefeag")),p=n(a("bfgbdiffgd")),g=n(a("bhggeigghg")),m=n(a("jccfhaecf")),b={image:!0,video:!0,audio:!0,ptt:!0,sticker:!0,document:!0,product:!0,template:!1};function v(e){var t,a,n;if(e instanceof g.default.Msg.constructor.model)a=e,n=e.id;else{if(!(e instanceof h.default))return void f.default.error("model:msgs:broadcastFanout: unknown msgOrKey: "+String(e))(e);n=e}if(!m.default.isStatusV3(n.remote)){if(a&&a.recipients&&0!==a.recipients.length)t=a.recipients;else{var i=g.default.GroupMetadata.get(n.remote);i?t=(0,o.default)(_(i.participants),"id"):f.default.log("model:msgs:broadcastFanout no group_metadata rec for bclist, cant fanout: "+n.remote.toString())()}return t?t.map(function(e){return new h.default({fromMe:n.fromMe,remote:e,id:n.id})}):void 0}}function j(e,t,n,i,r,o){var s=i||t.msgs;if(0!==e.length){var d=s===t.msgs;if(o)if(d)f.default.info("models:msg:store:resetMostRecentMsgs .msgs === cmc !")(),E(t,s,e);else d=!0,E(t,s,e).then(function(){var e=new(0,a("dbfjecijha").default);if(e.replace(t.msgs),t.msgChunks.push(e),s.msgLoadState.noEarlierMsgs){var n=["chatMsgsCollection ".concat(t.id.toString()," replaced by a collection with noEarlierMsgs true"),(new Error).stack];f.default.logVerbose(n.join("\n"))()}t.replaceMsgsCollection(s),t.msgs.trigger("change:last",t.msgs.last())});else n?d?E(t,s,e):y(s,e):y(s,e,{at:0,silent:e.every(S)});if(n&&d||!g.default.Msg.lastReceivedReceipt[t.id])for(var c=e.length-1;c>=0;c--){var l=e[c],u=l.id;if(u.fromMe&&!l.isNotification){g.default.Msg.updateLastReceipt(u.remote,l.t);break}}if(n&&d||!g.default.Msg.lastReceivedPaymentTransaction[t.id])for(var h=e.length-1;h>=0;h--){var p=e[h],m=p.id;p.paymentTransactionTimestamp&&g.default.Msg.updateLastTransactionTime(m.remote,p.paymentTransactionTimestamp)}var b=r;b&&!t.unreadMsgAnchor&&(t.disableUnreadAnchor?t.disableUnreadAnchor=!1:t.unreadMsgAnchor=e.find(function(e){return e.id.toString()===b.toString()}))}}function E(e,t,a){var n=(0,i.default)(a,function(e){return!!e});return n?(0,u.setLastReceivedKey)(e.id,n.id).then(function(){e.lastReceivedKey=n.id,y(t,a)}):Promise.resolve()}function y(e,t,a){try{e.add(t,a)}catch(e){if(!(e instanceof d.LogoutDrop))throw e;f.default.error(e.toString())(e)}}function _(e){return null!=e&&"object"==typeof e?JSON.parse(JSON.stringify(e),l.default):e}function S(e){return"i"===e.eventType}},ccbhicejbe:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t="composeBox"===e.theme;return o.createElement("div",{className:(0,r.default)(c.default.quotedMsg,{[c.default.quotedMsgInComposeBox]:t})},o.createElement(s.default,{currency:e.currency,amount1000:e.amount1000,isQuoted:!0,isQuotedInComposeBox:t}),o.createElement("div",{className:c.default.quotedMsgAuthor},e.quotedMsgAuthor,o.createElement(d.default,{subtype:e.subtype,receiverJid:e.receiverJid,isQuoted:!0})))};var r=i(a("ceffhbhahb")),o=n(a("ddhijeejag")),s=i(a("hdgfdagbc")),d=i(a("cgjfaifddg")),c=i(a("bjjajbbcbi"))},ccbihadedf:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg"),r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=n(a("cgcgbfbffj")),u=i(a("cfadcbbiie")),f=n(a("dbbaabdabi")),h=a("cjbafegbjg"),p=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,(0,d.default)(t).apply(this,arguments))}return(0,c.default)(t,e),(0,o.default)(t,[{key:"initializeFromCache",value:function(e){if(e){var t=u.default.globalUnixTime()-f.ConversionTupleExpiry,a=e.filter(function(e){return e.timestamp-t>0}).map(function(e){var t=(0,h.parseConversionData)(e.conversionData);return t?e.conversionData=t:delete e.conversionData,e});this.add(a),this.saveToCache()}}}]),t}(l.default);p.model=f.default,p.cachePolicy={id:"conversion_tuple",policy:l.CACHE_POLICY.LOAD,delay:1e3},e.exports=new p},ccbjfaficd:function(e,t){e.exports={pane:"NuujD",footer:"_3EeLD",body:"_1_q7u",filler:"_3B8vA",footerMessage:"_26pkE",subheader:"_3SYkD"}},cccaiafbjc:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg"),r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=n(a("ddhijeejag")),u=i(a("bcbahjefec")),f=i(a("gcbiehega")),h=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).closeStatusViewer=function(){a.end()},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){this.push(l.createElement(f.default,{initialStatusV3:this.props.statusV3,quotedMsgKey:this.props.msgKey,closeStatusViewer:this.closeStatusViewer,onMsgNotFound:this.props.onMsgNotFound}),"none")}}]),t}(u.default);e.exports=h},cccfbheica:function(e,t,a){"use strict";var n=a("cfjecfhbfg"),i=n(a("ddfeabiaci")),r=n(a("eaiefjeabj")),o=n(a("bjbdcigbdi")),s=n(a("cebabjecdf")),d=n(a("cfejjfjhca")),c=n(a("ddcbacabaj")),l=a("bbcaggdbc"),u={version:"16",M:s.default,parseMsgStubProto:function(e,t){var a=l.WebMessageInfo.STUBTYPE;switch(e.messageStubType){case a.REVOKE:return t.type="revoked",t;case a.CIPHERTEXT:return t.type="ciphertext",t;case a.OVERSIZED:return t.type="oversized",t;case a.FUTUREPROOF:return t.subtype="phone",t;default:return this.parseMsgStubTemplate(e,t)}},parseMsgGp2:function(e){},parseMsgBroadcast:function(e){},parseMsgNotification:function(e){},parseMsgSecurity:function(e){},parseMsgCallLog:function(e){},parseMsgStubTemplate:function(e,t){var a=this,n=l.WebMessageInfo.STUBTYPE;switch(t.type="notification_template",t.templateParams=Array.isArray(e.messageStubParameters)?e.messageStubParameters.map(function(t){return e.messageStubType===n.GROUP_CREATE||e.messageStubType===n.GROUP_CHANGE_SUBJECT?t:a.decodeJid(t)}):void 0,e.messageStubType){case n.NON_VERIFIED_TRANSITION:t.subtype="non_verified_transition";break;case n.UNVERIFIED_TRANSITION:t.subtype="unverified_transition";break;case n.VERIFIED_TRANSITION:t.subtype="verified_transition";break;case n.VERIFIED_LOW_UNKNOWN:t.subtype="verified_low_unknown";break;case n.VERIFIED_HIGH:t.subtype="verified_high";break;case n.VERIFIED_INITIAL_UNKNOWN:t.subtype="verified_initial_unknown";break;case n.VERIFIED_INITIAL_LOW:t.subtype="verified_initial_low";break;case n.VERIFIED_INITIAL_HIGH:t.subtype="verified_initial_high";break;case n.VERIFIED_TRANSITION_ANY_TO_NONE:t.subtype="verified_transition_any_to_none";break;case n.VERIFIED_TRANSITION_ANY_TO_HIGH:t.subtype="verified_transition_any_to_high";break;case n.VERIFIED_TRANSITION_HIGH_TO_LOW:t.subtype="verified_transition_high_to_low";break;case n.VERIFIED_TRANSITION_HIGH_TO_UNKNOWN:t.subtype="verified_transition_high_to_unknown";break;case n.VERIFIED_TRANSITION_UNKNOWN_TO_LOW:t.subtype="verified_transition_unknown_to_low";break;case n.VERIFIED_TRANSITION_LOW_TO_UNKNOWN:t.subtype="verified_transition_low_to_unknown";break;case n.VERIFIED_TRANSITION_NONE_TO_LOW:t.subtype="verified_transition_none_to_low";break;case n.VERIFIED_TRANSITION_NONE_TO_UNKNOWN:t.subtype="verified_transition_none_to_unknown";break;case n.GROUP_CREATE:t.type="gp2",t.subtype="create",t.body=t.templateParams[0],t.recipients=[],t.templateParams=void 0;break;case n.GROUP_DELETE:t.type="gp2",t.subtype="delete",t.recipients=[],t.templateParams=void 0;break;case n.GROUP_CHANGE_SUBJECT:t.type="gp2",t.subtype="subject",t.body=t.templateParams[0],t.recipients=[],t.templateParams=void 0;break;case n.GROUP_CHANGE_ICON:t.type="gp2",t.subtype="picture",t.recipients=[],t.body=t.templateParams[0],t.templateParams=void 0;break;case n.GROUP_CHANGE_INVITE_LINK:t.type="gp2",t.subtype="revoke_invite",t.recipients=[];break;case n.GROUP_CHANGE_DESCRIPTION:t.type="gp2",t.subtype="description",t.recipients=[];break;case n.GROUP_CHANGE_RESTRICT:t.type="gp2",t.subtype="restrict",t.recipients=[],t.body=t.templateParams[0];break;case n.GROUP_CHANGE_ANNOUNCE:t.type="gp2",t.subtype="announce",t.recipients=[],t.body=t.templateParams[0];break;case n.GROUP_CHANGE_NO_FREQUENTLY_FORWARDED:t.type="gp2",t.subtype="no_frequently_forwarded",t.recipients=[],t.body=t.templateParams[0];break;case n.GROUP_ANNOUNCE_MODE_MESSAGE_BOUNCE:t.type="gp2",t.subtype="announce_msg_bounce",t.recipients=[],t.templateParams=void 0;break;case n.GROUP_PARTICIPANT_ADD:t.type="gp2",t.subtype="add",t.recipients=t.templateParams,t.templateParams=void 0;break;case n.GROUP_PARTICIPANT_REMOVE:t.type="gp2",t.subtype="remove",t.recipients=t.templateParams,t.templateParams=void 0;break;case n.GROUP_PARTICIPANT_PROMOTE:t.type="gp2",t.subtype="promote",t.recipients=t.templateParams,t.templateParams=void 0;break;case n.GROUP_PARTICIPANT_DEMOTE:t.type="gp2",t.subtype="demote",t.recipients=t.templateParams,t.templateParams=void 0;break;case n.GROUP_PARTICIPANT_INVITE:t.type="gp2",t.subtype="invite",t.recipients=t.templateParams,t.templateParams=void 0;break;case n.GROUP_PARTICIPANT_LEAVE:t.type="gp2",t.subtype="leave",t.recipients=t.templateParams,t.templateParams=void 0;break;case n.GROUP_PARTICIPANT_CHANGE_NUMBER:t.type="gp2",t.subtype="modify",t.recipients=t.templateParams,t.templateParams=void 0;break;case n.GROUP_V4_ADD_INVITE_SENT:t.type="gp2",t.subtype="v4_add_invite_sent",t.recipients=t.templateParams,t.templateParams=void 0;break;case n.GROUP_PARTICIPANT_ADD_REQUEST_JOIN:t.type="gp2",t.subtype="v4_add_invite_join",t.recipients=t.templateParams,t.templateParams=void 0;break;case n.BROADCAST_CREATE:t.type="broadcast_notification",t.subtype="create",t.body=t.templateParams[0]||"0",t.templateParams=void 0;break;case n.BROADCAST_ADD:t.type="broadcast_notification",t.subtype="add",t.recipients=t.templateParams,t.templateParams=void 0;break;case n.BROADCAST_REMOVE:t.type="broadcast_notification",t.subtype="remove",t.recipients=t.templateParams,t.templateParams=void 0;break;case n.GENERIC_NOTIFICATION:t.type="notification",t.body=t.templateParams[0],t.templateParams=void 0;break;case n.E2E_IDENTITY_CHANGED:t.type="e2e_notification",t.subtype="identity",t.body=t.templateParams[0],t.templateParams=void 0;break;case n.E2E_ENCRYPTED:t.type="e2e_notification",t.subtype="encrypt";break;case n.CALL_MISSED_VOICE:t.type="call_log",t.subtype="miss";break;case n.CALL_MISSED_VIDEO:t.type="call_log",t.subtype="miss_video";break;case n.CALL_MISSED_GROUP_VOICE:t.type="call_log",t.subtype="miss_group";break;case n.CALL_MISSED_GROUP_VIDEO:t.type="call_log",t.subtype="miss_group_video";break;case n.INDIVIDUAL_CHANGE_NUMBER:t.subtype="change_number";break;case n.CHANGE_EPHEMERAL_SETTING:t.subtype="change_ephemeral_setting";break;case n.PAYMENT_CIPHERTEXT:t.type="payment",t.subtype="ciphertext",this.callFeatureFlagFun(o.default.F.PAYMENTS,"parsePaymentInfo",t,e.paymentInfo);break;case n.PAYMENT_FUTUREPROOF:t.type="payment",t.subtype="futureproof",this.callFeatureFlagFun(o.default.F.PAYMENTS,"parsePaymentInfo",t,e.paymentInfo);break;case n.PAYMENT_ACTION_REQUEST_CANCELLED:t.subtype="payment_transaction_request_cancelled";break;case n.PAYMENT_TRANSACTION_STATUS_UPDATE_FAILED:t.subtype="payment_transaction_status_update_failed";break;case n.PAYMENT_TRANSACTION_STATUS_UPDATE_REFUNDED:t.subtype="payment_transaction_status_update_refunded";break;case n.PAYMENT_TRANSACTION_STATUS_UPDATE_REFUND_FAILED:t.subtype="payment_transaction_status_update_refund_failed";break;case n.PAYMENT_TRANSACTION_STATUS_RECEIVER_PENDING_SETUP:t.subtype="payment_transaction_status_receiver_pending_setup";break;case n.PAYMENT_TRANSACTION_STATUS_RECEIVER_SUCCESS_AFTER_HICCUP:t.subtype="payment_transaction_status_receiver_success_after_hiccup";break;case n.PAYMENT_ACTION_ACCOUNT_SETUP_REMINDER:t.subtype="payment_action_account_setup_reminder";break;case n.PAYMENT_ACTION_SEND_PAYMENT_REMINDER:t.subtype="payment_action_send_payment_reminder";break;case n.PAYMENT_ACTION_SEND_PAYMENT_INVITATION:t.subtype="payment_action_send_payment_invitation";break;case n.PAYMENT_ACTION_REQUEST_DECLINED:t.subtype="payment_action_request_declined";break;case n.PAYMENT_ACTION_REQUEST_EXPIRED:t.subtype="payment_action_request_expired";break;case n.BIZ_VERIFIED_TRANSITION_TOP_TO_BOTTOM:t.subtype="biz_verified_transition_top_to_bottom";break;case n.BIZ_VERIFIED_TRANSITION_BOTTOM_TO_TOP:t.subtype="biz_verified_transition_bottom_to_top";break;case n.BIZ_INTRO_TOP:t.subtype="biz_intro_top";break;case n.BIZ_INTRO_BOTTOM:t.subtype="biz_intro_bottom";break;case n.BIZ_NAME_CHANGE:t.subtype="biz_name_change";break;case n.BIZ_MOVE_TO_CONSUMER_APP:t.subtype="biz_move_to_consumer_app";break;case n.BIZ_TWO_TIER_MIGRATION_TOP:t.subtype="biz_two_tier_migration_top";break;case n.BIZ_TWO_TIER_MIGRATION_BOTTOM:t.subtype="biz_two_tier_migration_bottom";break;default:t.templateParams=void 0}return t},sendCallOffer:function(e){var t=this;return new Promise(function(a,n){var i=(0,d.default)(),r=c.default.formatCallOffer(t,i,e);t.binSend("send",r,n,{tag:i,onSend:t.wrap(function(e){a(e)},a),onDrop:t.wrap(n),retryOn5xx:!0,isCallOffer:!0},{debugString:["action","call","offer",e.common.peer_jid].join(),debugObj:{xml:r,struct:e},metricName:"CALL"})})}};e.exports=(0,i.default)(u,r.default)},cccgaejadd:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=n(a("ddhijeejag")),u=a("dfdebdgdei"),f=i(a("bbchdeehff")),h=i(a("baagejbchg")),p=a("bgiachiigg"),g=i(a("bcbahjefec")),m=i(a("dgjacfgggf")),b=i(a("fffdgbfji")),v=i(a("ifeefbdg")),j=i(a("cahfddcdga")),E=n(a("cjcffhicea")),y=a("dbbhhgjjbg"),_=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).handleForwardConfirmed=function(e){Promise.map(e,function(e){(e.isUser&&e.contact.isBlocked()?(0,u.unblockContact)(e.contact):Promise.resolve(!0)).then(function(t){(0,y.sendTextMsgToChat)(e,a.props.chat.groupMetadata.groupInviteLink,{linkPreview:a.linkPreview})})}),a.end(),f.default.openChatFromUnread(e[0])},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){var e=this;this.push(l.createElement(E.default,{onConfirm:this.handleForwardConfirmed,title:b.default.t(556),listType:E.ListType.CHAT_SELECT_MODAL,maxItems:5}));var t=this.props.chat,a=(0,j.default)(t.groupMetadata.groupInviteLink);this.linkPreview={canonicalUrl:h.default.GROUP_INVITE_LINK_URL,description:b.default.t(1467),matchedText:a,title:t.title(),richPreviewType:p.EXTENDED_TEXT_MESSAGE_PREVIEWTYPE.NONE,thumbnail:null,doNotPlayInline:!1};var n=t.contact.profilePicThumb;n&&n.imgFull?m.default.generateLinkPreview(n.imgFull).then(function(t){e.linkPreview.thumbnail=t}):(0,v.default)(a).then(function(t){t&&(e.linkPreview.thumbnail=t.data.thumbnail)}).catch(function(){})}}]),t}(g.default);t.default=_},ccchcigijb:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg"),r=i(a("eaidjcib")),o=i(a("ffceefejc")),s=i(a("cjedcdbdii")),d=i(a("dbjagcfebh")),c=i(a("digcccheca")),l=a("daffbcegjj"),u=i(a("bbiacghfif")),f=i(a("baagejbchg")),h=i(a("dhigahgdjb")),p=i(a("djegeegcbf")),g=i(a("djeajhjhb")),m=n(a("bjcgcdejaa")),b=i(a("bjbdcigbdi")),v=i(a("dbegdchadg")),j=i(a("debfbiicee")),E=i(a("cadjjhjjci")),y=i(a("jjaddhidj")),_=i(a("cjacjbhhib")),S=i(a("cijaehcdg")),C=i(a("baeacdffeb")),A=i(a("bfjchhccjd")),M=i(a("bgeafedbjd")),T=i(a("bhfcdbibdf")),P=i(a("bidcddiaag")),N=i(a("decdhbjfjc")),I=a("eagfdbhhhh"),k=a("bcjcbbafcj"),O=a("dcbdjheea"),R=2*f.default.MAX_PUSHNAME_LENGTH,w=/\u200B((\d+)@c\.us)\u200B/g,D={Enter:g.default.ENTER,Tab:g.default.TAB,ArrowUp:g.default.UP,ArrowDown:g.default.DOWN},L=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),d=0;d<n;d++)i[d]=arguments[d];return(a=(0,o.default)(this,(e=(0,s.default)(t)).call.apply(e,[this].concat(i)))).serializers=[["span[data-mention-jid]",function(e){return function(e){if(!e.hasChildNodes())return;for(;e.childNodes.length;)e.removeChild(e.childNodes[0])}(e),"".concat(e.getAttribute("data-mention-jid")||"","")}]],a.parsers=[function(e){return e.replace(w,function(e,t,a){var n=h.default.get(t);if(!n)return t;var i=!n.isMyContact&&n.notifyName?n.notifyName:n.formattedName,r=(0,I.createSelectableElement)("span");r.dataset.mentionJid=n.id.toString();var o=document.createElement("span");o.className="at-symbol",o.appendChild(document.createTextNode("@"));var s=document.createElement("span");return s.setAttribute("dir",(0,l.dir)(i)||"auto"),s.appendChild(document.createTextNode(i)),r.appendChild(o),r.appendChild(s),r.dataset.originalName=r.textContent||"",r.dataset.plainText=r.textContent||"",r.dataset.appTextTemplate="".concat(t,""),r.outerHTML})}],a.serialize=function(e,t){return t.mentionedJidList=[],[e.replace(w,function(e,a,n){return t.mentionedJidList.push((0,O.createWid)(a)),"@".concat(n)}),t]},a.handleSelect=function(e,t){var n=window.getSelection();if(function(e,t){var a=t.anchorNode,n=t.anchorOffset;a&&a===e.containerRef&&(a=a.childNodes[n],n=a.textContent.length);if(!a||a&&a.nodeType!==Node.TEXT_NODE)return!1;var i=a.textContent.slice(n),r=a;for(;0===i.length;){if(!(r=r.nextSibling)||r.nodeType!==Node.TEXT_NODE)return!1;i=r.textContent}return" "===i.charAt(0)}(a.ctx,n)&&n.modify("move","forward","character"),V(a.ctx,n,!0)){n=window.getSelection();var i=a.ctx.refInput,r=(i?U(i):{}).mentionAfterEnd;r&&B(r),a.ctx.replaceSelection("".concat(e.id.toString()," ")),a.handle(g.default.INACTIVE)}},a.hooks={[j.default.CHANGE](e,t){var a=t.refInput;if(k.isGecko)for(var n=a.querySelectorAll("[data-mention-jid]"),i=0;i<n.length;++i){var r=n[i].nextSibling;r&&(r instanceof Element&&"BR"===r.tagName&&"_moz"===r.getAttribute("type")&&r.remove())}},[j.default.INPUT](e){var t=e.refInput.querySelectorAll("[data-mention-jid]");if(t.length)for(var a=0;a<t.length;++a){var n=t[a];if(n.textContent!==n.getAttribute("data-original-name")){var i=n.querySelector(".at-symbol"),r=n.querySelector("span [dir]"),o=window.getSelection(),s=o.focusOffset,d=o.focusNode&&o.focusNode.parentNode&&o.focusNode.parentNode.className,c=n.parentNode,l=document.createDocumentFragment();i&&l.appendChild(document.createTextNode(i.textContent)),r&&l.appendChild(document.createTextNode(r.textContent));var u="at-symbol"===d?l.firstChild:l.lastChild;if(1===l.childNodes.length&&l.lastChild&&(s="@"===l.lastChild.textContent?1:0),c.replaceChild(l,n),o.rangeCount<=0)return;var f=o.getRangeAt(0);f.setEnd(u,s),f.collapse(!1),o.removeAllRanges(),o.addRange(f)}}}},a.handlers={onKeyDown(e,t){var a=e.key;if(!this.ctx.isComposing&&("Backspace"===a||"Delete"===a&&(0,S.default)(e))){var n=window.getSelection();if(n.isCollapsed){var i=e.key,r=U(this.ctx.refInput),o=r.mentionBeforeStart,s=r.mentionAfterEnd,d=null;if("Delete"===i&&s&&(d=s),"Backspace"===i&&o&&(d=o),d){n.removeAllRanges();var c=document.createRange();c.selectNode(d),n.addRange(c),G(this.ctx.refInput)}}else G(this.ctx.refInput)}var l=D[e.key];return!!l&&this.handle(l,[e,t])},onKeyPress(e,t){return this.ctx.isComposing||G(this.ctx.refInput),!1},onBlur(){return this.handle(g.default.INACTIVE),!1},onSelect(e,t){var a=b.default.supportsFeature(b.default.F.MENTIONS_OUT);if(k.isTrident||this.ctx.isComposing||!a)return!1;var n=window.getSelection();if(n.isCollapsed&&n.rangeCount>0&&n.anchorNode&&function(e,t){var a=t.anchorNode,n=t.anchorOffset;if(a&&a===e.refInput){if(0===n)return!0;a=a.childNodes[t.getRangeAt(0).startOffset],n=(0,M.default)(a)?a.textContent.length:0}if((0,_.default)(a,"br"))return!0;if(!a)return!1;if(!(0,M.default)(a))return!1;if("\n"===a.textContent)return!0;var i=a.textContent.slice(0,n);if(""===i){var r=(0,m.default)(a,m.DIR.PREV);if(!r)return!0;if(!(0,M.default)(r))return!1;i=r.textContent}return"\n"===i.charAt(i.length-1)}(t,n)){var i=n.getRangeAt(0);n.removeAllRanges(),n.addRange(i)}var r=V(this.ctx,n);if(!r||n.focusNode&&n.focusNode.parentElement&&(0,C.default)(n.focusNode.parentElement.parentElement))return this.handle(g.default.INACTIVE),!1;var o=r.slice(1);return this.handle(g.default.SEARCH,[o]),!1},onPaste(){return G(this.ctx.refInput),!1}},a}return(0,d.default)(t,e),t}(c.default);function U(e){var t=window.getSelection();if(0===t.rangeCount)return{};var a,n,i,r,o,s,d=t.getRangeAt(0),c=d.startContainer,l=d.startOffset,f=d.endContainer,h=d.endOffset,p=0===l,g=f instanceof HTMLElement?f.childNodes.length===h:f.textContent&&f.textContent.length===h;p&&(a=c===e?e.childNodes[l]:(0,u.default)(c,function(t){return t&&t!==e&&(t.parentElement===e||(0,A.default)(t,0))?[t.parentElement]:[]},function(t){return t&&t.parentElement===e})),g&&(n=f===e?e.childNodes[h]:(0,u.default)(f,function(t){return t&&t!==e&&(t.parentElement===e||(0,A.default)(t,-1))?[t.parentElement]:[]},function(t){return t&&t.parentElement===e}));var b=(0,m.default)(a,m.DIR.PREV);(0,C.default)(b)&&(i=b),(0,C.default)(a)&&(r=a),(0,C.default)(n)&&(o=n,d.collapsed&&(i=i||o));var v=(0,m.default)(n,m.DIR.NEXT);return(0,C.default)(v)&&(s=v,d.collapsed&&(r=r||s)),{mentionBeforeStart:i,mentionAfterStart:r,mentionBeforeEnd:o,mentionAfterEnd:s}}function G(e){var t=U(e),a=t.mentionBeforeStart,n=t.mentionAfterStart,i=t.mentionBeforeEnd,r=t.mentionAfterEnd;if(a||n||i||r){var o=window.getSelection(),s=o.getRangeAt(0),d=s.collapsed,c=!1;if(a){var l=F(a);c=!0,s.setStartAfter(l),s.collapsed&&s.setEndAfter(l)}if(n){var u=B(n);c=!0,s.setStartBefore(u),d&&s.setEndBefore(u)}if(!d){if(i){var f=F(i);c=!0,s.setEndAfter(f)}if(r){var h=B(r);c=!0,s.setEndBefore(h)}}c&&(o.removeAllRanges(),o.addRange(s))}}function x(){var e=document.createElement("span");return e.textContent="",e.contentEditable="false",setTimeout(function(){return(0,T.default)(e)},0),e}function F(e){var t=x();return(0,E.default)(t,e),t}function B(e){var t=x();return(0,y.default)(t,e),t}function V(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=(0,v.default)(e.refInput,"BACKWARD");if((0,C.default)(n))return"";var i=null,r="",o=0,s=null;return(0,P.default)(e,t,function(e,t,a){if("@"===i){if(p.default.isEmoji(e))return s=r,!0;if(/\W/.test(e))return s=a.slice(t+1)+r,!0}if(0===t&&(r=a+r),i=e,(o+=1)>=R)return!0}),!s&&o<R&&"@"===i&&(s=r),a&&s&&s.length&&(0,N.default)(t,s.length),s}e.exports=L},cccicaceef:function(e,t){e.exports={bubble:"_2qE0x",isPreview:"_18M7T",isGallery:"_1xfjD",quote:"_4iqBD",hasAuthor:"_3LoL9",vcard:"_2kIVZ",author:"_34Kkb",hasQuote:"_2rE0d",body:"nUQs8",avatar:"WKVRW",meta:"_10PqF",name:"_2LRBk"}},cccjfjdgcj:function(e,t){e.exports={chevronLeftBg:"_2AJhR",chevronRightBg:"_3bHbx",chevronLeft:"_3fJCe",chevronRight:"xLf9V",playerContainer:"_1f1Hl",mediaStateControls:"_2jtqw",viewer:"_1oEGl",v3X:"_2Bzjg",v3X_mac:"_3q8_P",v3XMac:"_3q8_P",backIcon:"_3ZC5d",backIcon_mac:"gaWWe",backIconMac:"gaWWe"}},ccdbdjihjh:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("ffceefejc")),s=i(a("cjedcdbdii")),d=i(a("dbjagcfebh")),c=n(a("dcaifjegcg")),l=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),d=0;d<n;d++)i[d]=arguments[d];return(a=(0,o.default)(this,(e=(0,s.default)(t)).call.apply(e,[this].concat(i)))).id=(0,c.prop)(),a.callId=(0,c.prop)(),a.isIncoming=(0,c.prop)(!1),a.isRinging=(0,c.prop)(!1),a.isInterrupted=(0,c.prop)(!1),a.isMuted=(0,c.prop)(!1),a.isTrafficStopped=(0,c.prop)(!1),a.isInvitingToGroupCall=(0,c.prop)(!1),a.isVideoStopped=(0,c.prop)(!1),a.isVideoPaused=(0,c.prop)(!1),a.isVideoDecodePaused=(0,c.prop)(!1),a.isVideoDecodeStarted=(0,c.prop)(!1),a.isOfferingVideoUpgrade=(0,c.prop)(!1),a}return(0,d.default)(t,e),t}(c.default);l.Proxy="callParticipant";var u=(0,c.defineModel)(l);t.default=u},ccdfjfdccf:function(e,t,a){"use strict";var n=a("cfjecfhbfg"),i=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("ddhijeejag")),o=n(a("effbcehec")),s=n(a("dhbceejbjg")),d=n(a("cfadcbbiie")),c=n(a("babadgcffh"));t.default=function(e){var t=e.title,a=e.icon,n=e.t,i=null!=n?d.default.relativeDateAndTimeStr(n):"-",l=r.createElement("div",{className:c.default.title,"data-a8n":o.default.key("msg-info-title")},a,t);return r.createElement(s.default,{primary:l,secondary:i,theme:"plain",idle:!0})}},ccdhdfebfj:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=n(a("ddhijeejag")),u=i(a("bbchdeehff")),f=i(a("biddiiafgd")),h=i(a("iaejfgacj")),p=i(a("fffdgbfji")),g=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).handleCancel=function(){u.default.closeModal()},a.handleOK=function(){a.props.onConfirm(),u.default.closeModal()},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){return l.createElement(f.default,{title:p.default.t(539),onOK:this.handleOK,okText:p.default.t(539),onCancel:this.handleCancel,cancelText:p.default.t(1197)},l.createElement("div",{className:h.default.confirmationText},p.default.t(553,{groupName:this.props.chat.contact.name})))}}]),t}(l.Component);t.default=g},ccebfaijda:function(e,t){e.exports={STREAM_END:2,LIST_EMPTY:0,DICTIONARY_0:236,DICTIONARY_1:237,DICTIONARY_2:238,DICTIONARY_3:239,LIST_8:248,LIST_16:249,JID_PAIR:250,HEX_8:251,BINARY_8:252,BINARY_20:253,BINARY_32:254,NIBBLE_8:255,SINGLE_BYTE_MAX:256,PACKED_MAX:254}},ccegihfjhe:function(e,t){e.exports={mediaViewerAnimate:"_3a12y","media-viewer-animate":"_3a12y",cursorZoomOut:"_Doi_",media:"_1YV64",mediaViewer:"_18IfL",mediaContent:"_3EJ7Q",btn:"QL-Ef",btnMediaNext:"_2wTLJ",btnMediaPrev:"LAhFg",mediaWithCaption:"C3wjY",mediaCaption:"aLdCc",captionHidden:"_2QQWZ",disabledBtn:"_2FR9h"}},ccehadbeci:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("bjehdcaaj")),l=i(a("dbjagcfebh")),u=i(a("ddgaeajhag")),f=i(a("cfadahgeie")),h=n(a("dcaifjegcg")),p=i(a("dbfjecijha")),g=i(a("bjigbaghc")),m=i(a("hciaejfjd")),b=i(a("bdiiahhjbe")),v=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).id=(0,h.prop)(),a.pendingMsgs=(0,h.prop)(),a.labels=(0,h.prop)(),a.msgChunks=(0,h.session)(function(){return[]}),a.lastReceivedKey=(0,h.session)(),a.unreadMsgAnchor=(0,h.session)(),a.disableUnreadAnchor=(0,h.session)(),a.msgsLength=(0,h.session)(),a.msgsChanged=(0,h.session)(0),a.msgs=(0,h.collection)(p.default),a}return(0,l.default)(t,e),(0,o.default)(t,[{key:"initialize",value:function(){var e=this;(0,c.default)((0,d.default)(t.prototype),"initialize",this).call(this),this.listenTo(this.msgs,"change:last",function(){e.msgsChanged++}),this.listenTo(this.msgs,"add remove bulk_add",function(){e.msgsChanged++,e.msgsLength=e.msgs.length}),g.default.isSMB&&(this.addLabelsToCollection(),this.listenTo(this,"change:labels",this.addLabelsToCollection))}},{key:"addLabelsToCollection",value:function(){(0,m.default)(this.id.toString(),this.labels,"Chat")}},{key:"onEmptyMRM",value:function(){throw new Error("onEmptyMRM not implemented")}},{key:"delete",value:function(){(0,c.default)((0,d.default)(t.prototype),"delete",this).call(this),this.getAllCMCs().forEach(function(e){e.forEach(function(e){e.delete()}),e.delete()})}},{key:"removeMsg",value:function(e){var t=e.msgChunk;t&&(t.indexOf(e)<0||(b.default.log("models:Chat:removeMsg "+e.get("id"))(),t.remove(e),0===t.length&&(t===this.msgs?this.onEmptyMRM():this.removeMsgsCollection(t))))}},{key:"getAllCMCs",value:function(){return this.msgChunks.concat([this.msgs])}},{key:"getAllMsgs",value:function(){return(0,f.default)(this.getAllCMCs().map(function(e){return e.getModelsArray()}))}},{key:"replaceMsgsCollection",value:function(e){b.default.info("model:Chat:replaceMsgsCollection:"+this.id.toString())();var t={msg:e.last()};this.msgs.replace(e),this.notifyMsgCollectionMerge(e,this.msgs,this.msgs,t),this.msgChunks=(0,u.default)(this.msgChunks,e),e.delete()}},{key:"removeMsgsCollection",value:function(e){this.msgChunks=(0,u.default)(this.msgChunks,e),e.delete()}},{key:"notifyMsgCollectionMerge",value:function(e,t,a,n){this.trigger("change:cmc:merge",e,t,a,n)}}]),t}(h.default);t.default=v},ccfcjccjbg:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("bjehdcaaj")),l=i(a("dbjagcfebh")),u=i(a("djjeigcdbe")),f=n(a("dcaifjegcg")),h=i(a("bgfcjjddjf")),p=a("dfbbghiidh"),g=i(a("bbchdeehff")),m=i(a("baagejbchg")),b=i(a("bjigbaghc")),v=a("ccicaaeiaa"),j=i(a("bjbdcigbdi")),E=i(a("fffdgbfji")),y=i(a("hciaejfjd")),_=i(a("bdiiahhjbe")),S=i(a("edjgaiicj")),C=i(a("dhefcajhhb")),A=i(a("gbbacfeci")),M=i(a("bhggeigghg")),T=i(a("jccfhaecf")),P=i(a("djbfhebjhe")),N=/^[^0-9]+$/,I=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).id=(0,f.prop)(),a.name=(0,f.prop)(),a.shortName=(0,f.prop)(),a.pushname=(0,f.prop)(),a.type=(0,f.prop)("in"),a.verifiedName=(0,f.prop)(),a.isBusiness=(0,f.prop)(),a.isEnterprise=(0,f.prop)(),a.verifiedLevel=(0,f.prop)(),a.statusMute=(0,f.prop)(),a.sectionHeader=(0,f.prop)(),a.labels=(0,f.prop)(),a.isContactBlocked=(0,f.session)(!1),a.verificationString=(0,f.session)(),a.verificationBinary=(0,f.session)(),a.pendingAction=(0,f.session)(),a._notifyName=(0,f.session)(null),a.promises=(0,f.session)(function(){return{}}),a.status=(0,f.session)(),a.profilePicThumb=(0,f.session)(),a.businessProfile=(0,f.session)(),a.commonGroups=(0,f.session)(),a.liveLocations=(0,f.session)(),a.businessCatalog=(0,f.session)(),a.locale=(0,f.session)(),a.notifyName=(0,f.derived)(a._notifyNameFunction,["_notifyName","pushname","isBusiness","verifiedLevel","verifiedName"]),a.mentionName=(0,f.derived)(a._mentionName,["isMyContact","isBusiness","verifiedLevel","name","notifyName"]),a.displayName=(0,f.derived)(a._displayName,["id","mentionName","isMe"]),a.userid=(0,f.derived)(a._userid),a.userhash=(0,f.derived)(a._userhash),a.searchName=(0,f.derived)(a._searchName,["name","id","locale"]),a.searchVerifiedName=(0,f.derived)(a._searchVerifiedName,["verifiedLevel","verifiedName"]),a.header=(0,f.derived)(a._header,["name"]),a.isMe=(0,f.derived)(a._isMe),a.isUser=(0,f.derived)(a._isUser),a.isGroup=(0,f.derived)(a._isGroup),a.isBroadcast=(0,f.derived)(a._isBroadcast),a.isPSA=(0,f.derived)(a._isPSA),a.formattedShortNameWithNonBreakingSpaces=(0,f.derived)(a._formattedShortNameWithNonBreakingSpaces,["shortName","formattedName","id","locale"]),a.formattedShortName=(0,f.derived)(a._formattedShortName,["shortName","formattedName","id","locale"]),a.formattedName=(0,f.derived)(a._formattedName,["name","id","locale"]),a.formattedUser=(0,f.derived)(a._formattedUser,["name","id","locale"]),a.isWAContact=(0,f.derived)(a._isWAContact,["type"]),a.isMyContact=(0,f.derived)(a._isMyContact,["name"]),a.showBusinessCheckmark=(0,f.derived)(a._showBusinessCheckmark,["isBusiness","verifiedLevel","name","verifiedName"]),a.showBusinessVname=(0,f.derived)(a._showBusinessVname,["isBusiness","verifiedLevel","name","verifiedName"]),a}return(0,l.default)(t,e),(0,o.default)(t,[{key:"_notifyNameFunction",value:function(){return this.isBusiness&&this.verifiedLevel!==m.default.VERIFIED_LEVEL.HIGH?this.verifiedName:j.default.supportsFeature(j.default.F.CONTACT_HAS_PUSHNAME)?this.pushname:this._notifyName?this._notifyName.name:void 0}},{key:"_mentionName",value:function(){return!this.isMyContact&&this.isBusiness&&this.verifiedLevel!==m.default.VERIFIED_LEVEL.HIGH?null:this.name||this.notifyName}},{key:"_displayName",value:function(){return this.isMe&&b.default.pushname?b.default.pushname:this.mentionName||(0,P.default)(this.id)}},{key:"_userid",value:function(){return this.isUser?T.default.user(this.id):null}},{key:"_userhash",value:function(){return this.isUser?(0,S.default)((this.id.user||"")+"WA_ADD_NOTIF"):null}},{key:"_searchName",value:function(){return T.default.isPSA(this.id)?E.default.accentFold(E.default.t(1468)):this.name?E.default.accentFold(this.name):null}},{key:"_searchVerifiedName",value:function(){return this.verifiedLevel!==m.default.VERIFIED_LEVEL.HIGH?null:this.verifiedName?E.default.accentFold(this.verifiedName):null}},{key:"_header",value:function(){if(this.name){var e=this.name.toLowerCase(),t=u.default.exec(e);if(t&&0===t.index||t&&N.test(e.slice(t.index))){var a=t[0],n=E.default.removeAccents(a);return(0,v.getCollator)().compare(n,a)?a:n}return"#"}}},{key:"_isMe",value:function(){return this.id.equals(b.default.me)}},{key:"_isUser",value:function(){return T.default.isUser(this.id)}},{key:"_isGroup",value:function(){return T.default.isGroup(this.id)}},{key:"_isBroadcast",value:function(){return T.default.isBroadcast(this.id)}},{key:"_isPSA",value:function(){return T.default.isPSA(this.id)}},{key:"_formattedShortNameWithNonBreakingSpaces",value:function(){return this.id?this.isMe?E.default.t(1459):this.shortName||this.formattedName&&this.formattedName.replace(/\s/g," "):""}},{key:"_formattedShortName",value:function(){return this.id?this.isMe?E.default.t(1459):this.shortName||this.formattedName:""}},{key:"_formattedName",value:function(){return this.id?this.isMe?E.default.t(1459):T.default.isPSA(this.id)?E.default.t(1468):this.name?this.name:this.isUser?(0,P.default)(this.id):"":""}},{key:"_formattedUser",value:function(){return this.getFormattedUser()}},{key:"_isWAContact",value:function(){return this.isUser&&"in"===this.type}},{key:"_isMyContact",value:function(){return!!(this.isUser&&this.name&&this.name.length)}},{key:"_showBusinessCheckmark",value:function(){return this.isBusiness&&this.verifiedLevel===m.default.VERIFIED_LEVEL.HIGH&&this.name===this.verifiedName}},{key:"_showBusinessVname",value:function(){return this.isBusiness&&this.verifiedLevel===m.default.VERIFIED_LEVEL.HIGH&&this.name!==this.verifiedName}},{key:"initialize",value:function(){var e=this;(0,c.default)((0,d.default)(t.prototype),"initialize",this).call(this),this.id&&(this.isMe&&this.addChild("status",A.default.gadd(this.id)),this.isMe&&this.addChild("profilePicThumb",C.default.gadd(this.id)),this.isBusiness&&this.addChild("businessProfile",M.default.BusinessProfile.gadd(this.id)),this.listenTo(this,"change:isBusiness",function(){return(0,p.onIsBusinessChange)(e)}),this.listenTo(g.default,"locale_change",function(){e.locale=E.default.getLocale()}),this.isContactBlocked=!!h.default.get(this.id),this.pendingAction=0,b.default.isSMB&&(this.addLabelsToCollection(),this.listenTo(this,"change:labels",this.addLabelsToCollection)))}},{key:"getStatus",value:function(){return T.default.user(this.id)||_.default.info("contact:getStatus for non-user ".concat(this.id.toString()))(),this.status=A.default.gadd(this.id)}},{key:"addLabelsToCollection",value:function(){(0,y.default)(this.id.toString(),this.labels,"Contact")}},{key:"getProfilePicThumb",value:function(){return this.profilePicThumb=C.default.gadd(this.id)}},{key:"addPendingAction",value:function(e){var t=this;if(e.isPending()){var a=function(){t.decPending()};e.then(a,a),this.pendingAction++}return e}},{key:"decPending",value:function(){this.pendingAction>0?this.pendingAction--:(_.default.log("contact:onPendingActionUpdate pendingAction value is invalid")(),this.pendingAction=0)}},{key:"isBlocked",value:function(){return!!h.default.get(this.id)}},{key:"searchMatch",value:function(e,t,a){return j.default.supportsFeature(j.default.F.LABELS_DISPLAY)&&a?!(e&&this.searchName&&!this.searchName.includes(e))&&(this.labels&&this.labels.includes(a)):!!e&&(!(!this.searchName||!this.searchName.includes(e))||(!(!this.userid||!this.userid.includes(e))||(!!(t&&this.userid&&this.userid.includes(t))||(!(!this.searchVerifiedName||!this.searchVerifiedName.includes(e))||!(!this.pushname||!E.default.accentFold(this.pushname).includes(e))))))}},{key:"getFormattedUser",value:function(){return this.id?T.default.isPSA(this.id)?E.default.t(1468):this.name?this.name:E.default.isRTL()?E.default.embedLTR((0,P.default)(this.id)):(0,P.default)(this.id):""}},{key:"updateNotifyName",value:function(e,t){(!this._notifyName||this._notifyName.t<t)&&(this._notifyName={name:e,t:t},this.trigger("change:_notifyName",e))}},{key:"set",value:function(e,a,n){var i=(0,c.default)((0,d.default)(t.prototype),"set",this).call(this,e,a,n);if("string"!=typeof e&&a&&a.merge&&i){if(i.isPSA)return i;!e.name&&i.name&&(i.unset("name"),i.unset("shortName")),!e.verifiedName&&i.verifiedName&&i.unset("verifiedName")}return i}},{key:"getCollection",value:function(){return a("dhigahgdjb").default}}]),t}(f.default);I.Proxy="contact",I.idClass=T.default;var k=(0,f.defineModel)(I);t.default=k},ccfdaijebj:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Component=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("djecdhecha")),l=i(a("dbjagcfebh")),u=i(a("ceffhbhahb")),f=n(a("ddhijeejag")),h=i(a("bbchdeehff")),p=i(a("eceadcicaf")),g=i(a("bdiiahhjbe")),m=i(a("dbhbjaeieh")),b=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i))))._videoRef=null,a._onPlayTriggered=!1,a.setRefVideo=function(e){a._videoRef&&a.props.listeners.remove(a._videoRef,"playing",a.onPlay),a._videoRef=e,e&&("srcObject"in e&&a.props.srcObject?e.srcObject=a.props.srcObject:a.props.src&&(e.src=a.props.src),a.props.listeners.add(e,"playing",a.onPlay),a.props.autoPlay&&e.play())},a.onPlay=function(e){var t=a._videoRef;t&&(t.videoHeight&&t.videoWidth||a._onPlayTriggered||(a._onPlayTriggered=!0,t.pause(),t.play(),g.default.assert(!1,"non-zero height and width","Neither the height nor the width of video should have zero value")()),t.videoHeight&&t.videoWidth&&a.props.onPlay&&(a.props.onPlay(t),a._onPlayTriggered=!1),h.default.mediaPlaying((0,c.default)(a)))},a.onOtherPlaying=function(e){e!==(0,c.default)(a)&&a._videoRef&&a._videoRef.pause()},a.onLoadedMetadata=function(e){a.props.onLoadedMetadata&&a.props.onLoadedMetadata(e)},a}return(0,l.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){this.props.controls&&this.props.listeners.add(h.default,"mediaPlaying",this.onOtherPlaying)}},{key:"underlyingVideo",value:function(){return this._videoRef}},{key:"play",value:function(){var e=this._videoRef;e&&e.paused&&e.play()}},{key:"pauseAndReset",value:function(){var e=this._videoRef;e&&(e.currentTime=0,e.paused||e.pause())}},{key:"getDuration",value:function(){return null==this._videoRef?null:this._videoRef.duration}},{key:"render",value:function(){var e=this.props;return f.createElement("video",{ref:this.setRefVideo,className:(0,u.default)(m.default.video,e.className),muted:e.muted,controls:e.controls,controlsList:e.controlsList,width:e.width,height:e.height,loop:e.loop,onClick:e.onClick,onEnded:e.onEnded,onLoadedMetadata:this.onLoadedMetadata,style:e.style},e.children)}}]),t}(f.PureComponent),v=b;t.Component=v;var j=(0,p.default)(b);t.default=j},ccffgjicjj:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return i.default.supportsFeature(i.default.F.MD_BACKEND)?Promise.resolve():r.default.sendMessagePlayed(e.id).then(function(e){})};var i=n(a("bjbdcigbdi")),r=n(a("bihdhbjih"))},ccfhgdcjch:function(e,t){e.exports={icon:"-bh0C"}},ccfjgbibc:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.startMemoryWamStat=function(){if(!h())return;setInterval(function(){var e=new s.default.WebcMemoryStat(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?u(Object(a),!0).forEach(function(t){(0,r.default)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):u(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},(0,c.default)(h()),{hasVerifiedNumber:l.default.mode===l.StreamMode.MAIN,numMessages:d.default.length}));e.commit()},o.default.MEMORY_METRIC_INTERVAL)},t.getMemoryTableRows=function(){var e=h();return e?Promise.resolve([{label:"Main Window",memory:e.usedJsHeapSize/1024,uptime:e.uptime}]):Promise.resolve()};var r=i(a("bhabhhjdch")),o=i(a("baagejbchg")),s=i(a("bfbggcdbfb")),d=i(a("biecbbiiee")),c=i(a("cahfddcdga")),l=n(a("dcdiaahjj"));function u(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}var f=Date.now();function h(){var e=performance&&performance.memory;if(e)return{uptime:(Date.now()-f)/1e3,jsHeapSizeLimit:e.jsHeapSizeLimit,totalJsHeapSize:e.totalJSHeapSize,usedJsHeapSize:e.usedJSHeapSize}}},ccfjghjbdi:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("eaidjcib")),r=n(a("ffceefejc")),o=n(a("cjedcdbdii")),s=n(a("dbjagcfebh")),d=function(e){function t(){return(0,i.default)(this,t),(0,r.default)(this,(0,o.default)(t).apply(this,arguments))}return(0,s.default)(t,e),t}(n(a("cbhbjajgac")).default);t.default=d,d.mutates=!0,d.mutate=function(e,t){return"@".concat(t.displayName)}},ccgchaejji:function(e,t){e.exports={subheader:"_3jzsh",main:"_2Fyg3",closeBtn:"_2Wd6Q"}},ccgdfaeibd:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.gifProvider=function(){switch(r.default.gifSearch){case"giphy":return o;case"tenor":default:return s}},t.GIPHY_LOCALES=t.BRAND_NAMES=t.GifInfo=t.TENOR=t.GIPHY=t.GAP_SIZE=t.TARGET_GIF_HEIGHT=void 0;var i=n(a("eaidjcib")),r=n(a("bfgbdiffgd"));t.TARGET_GIF_HEIGHT=130;t.GAP_SIZE=6;var o="giphy";t.GIPHY=o;var s="tenor";t.TENOR=s;var d=0;t.GifInfo=function e(t,a,n,r,o,s,c,l){(0,i.default)(this,e),this.rank=t,this.gifId=++d,this.url=a,this.size=n,this.previewUrl=r||a,this.nonVideoUrl=o,this.width=s,this.widthStr="".concat(s,"px"),this.ratioStr="".concat(Math.ceil(13e3/s),"%"),this.attribution=c,this.trending=l};t.BRAND_NAMES={giphy:"GIPHY",tenor:"Tenor"};t.GIPHY_LOCALES=["en","es","pt","id","fr","ar","tr","th","vi","de","it","ja","zh-CN","zh-TW","ru","ko","pl","nl","ro","hu","sv","cs","hi","bn","da","fa","tl","fi","iw","ms","no","uk"]},ccgdgjcjjh:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=n(a("ddhijeejag")),u=a("baagejbchg"),f=i(a("dhhfaeacef")),h=i(a("fifhbjiec")),p=i(a("fffdgbfji")),g=i(a("bbhdgdbggg")),m=i(a("becfabjeeg")),b=i(a("ihfccfgdf")),v=i(a("bfdcadbbif")),j=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,(0,d.default)(t).apply(this,arguments))}return(0,c.default)(t,e),(0,o.default)(t,[{key:"getAddressString",value:function(e){var t=e.streetAddress,a=e.localizedCityName,n=e.zipCode;return t&&a&&n?p.default.t(232,{streetAddress:t,city:a,zipCode:n}):t&&a?p.default.t(231,{streetAddress:t,city:a}):t}},{key:"render",value:function(){var e,t,a,n,i=this.props,r=i.businessProfile,o=i.contact,s=o.id,d=o.formattedName,c=o.verifiedLevel;if(r.stale)a=l.createElement("div",null,l.createElement(m.default,{size:20,stroke:5}));else{var p=r.structuredAddress&&this.getAddressString(r.structuredAddress);p&&(e=l.createElement("div",{className:g.default.address},l.createElement(h.default,{selectable:!0,direction:"auto",text:p}))),r.description&&(t=l.createElement("div",{className:g.default.description,title:r.description},l.createElement(h.default,{selectable:!0,direction:"auto",text:r.description})))}return c===u.VERIFIED_LEVEL.HIGH&&(n=l.createElement("div",{className:g.default.badge},l.createElement(v.default,{name:"psa-verified"}))),l.createElement("div",{className:g.default.container,onClick:this.props.onClick},l.createElement("div",{className:g.default.image},l.createElement(f.default,{id:s,size:55}),n),l.createElement("div",{className:g.default.body},l.createElement("div",{className:g.default.name},d),a,e,t))}}]),t}(l.PureComponent);j.CONCERNS={contact:["id","verifiedLevel","formattedName"],businessProfile:["stale","structuredAddress","description"]};var E=(0,b.default)(j,j.CONCERNS);t.default=E},cchefegdjj:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.OPEN_MENU_WIDTH=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=i(a("ceffhbhahb")),u=n(a("ddhijeejag")),f=i(a("effbcehec")),h=a("dghhefgjhc"),p=i(a("bjbdcigbdi")),g=a("dehacgjjde"),m=i(a("bidgicbbjf")),b=n(a("cdgdijchcg")),v=i(a("bfgbdiffgd")),j=i(a("egjjcjcg")),E=parseInt(m.default["-open-menu-width"].replace(/px$/,""),10);t.OPEN_MENU_WIDTH=E;var y=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i))))._handleOpenClick=function(){a.props.onChange(a._getLastSelectedPanel())},a._handleCloseClick=function(){a.props.onChange(null)},a._handleEmojiClick=function(){Boolean(a.props.selectedPanelId)?(j.default.setLastComposeBoxPanel(g.PANELS.EMOJI),a.props.onChange(g.PANELS.EMOJI)):a._handleOpenClick()},a._handleGifClick=function(){j.default.setLastComposeBoxPanel(g.PANELS.GIF),a.props.onChange(g.PANELS.GIF)},a._handleStickerClick=function(){j.default.setLastComposeBoxPanel(g.PANELS.STICKER),a.props.onChange(g.PANELS.STICKER)},a._setRefCloseButtonRef=function(e){a._refCloseButton=e},a._setRefEmojiButtonRef=function(e){a._refEmojiButton=e},a._setRefGifButtonRef=function(e){a._refGifButton=e},a._setRefStickerButtonRef=function(e){a._refStickerButton=e},a._setRefMenu=function(e){a._refMenu=e},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"_getLastSelectedPanel",value:function(){var e;"GIFS"===j.default.getLastEmojiTab()&&(e=g.PANELS.GIF,j.default.setLastEmojiTab(null)),e=e||j.default.getLastComposeBoxPanel()||g.PANELS.EMOJI;var t=v.default.stickers&&p.default.supportsFeature(p.default.F.STICKER_PACK_QUERY);return e!==g.PANELS.STICKER||t||(e=g.PANELS.EMOJI),e}},{key:"render",value:function(){var e=v.default.stickers&&p.default.supportsFeature(p.default.F.STICKER_PACK_QUERY),t=Boolean(this.props.selectedPanelId),a=e?u.createElement(b.default,{className:(0,l.default)(m.default.button,m.default.thirdButton),icon:"sticker",isActive:this.props.selectedPanelId===g.PANELS.STICKER,onClick:this._handleStickerClick,onRef:this._setRefStickerButtonRef,size:b.SIZES.SQUARE26}):null;return u.createElement("div",{"data-state":t?"open":"closed",ref:this._setRefMenu,className:(0,l.default)(m.default.menu,{[m.default.full]:e,[m.default.open]:t})},u.createElement(b.default,{className:(0,l.default)(m.default.button,m.default.closeButton),"data-tab":t?h.TAB_ORDERS.COMPOSE_BOX_MENU_BUTTON:null,icon:"x",onClick:this._handleCloseClick,onRef:this._setRefCloseButtonRef,size:b.SIZES.SQUARE24}),u.createElement(b.default,{"aria-label":l10n.t(1),className:(0,l.default)(m.default.button,m.default.firstButton),"data-a8n":f.default.key("compose-btn-emoji"),"data-tab":t?null:h.TAB_ORDERS.COMPOSE_BOX_MENU_BUTTON,icon:"smiley",isActive:this.props.selectedPanelId===g.PANELS.EMOJI,isMain:!0,onClick:this._handleEmojiClick,onRef:this._setRefEmojiButtonRef,size:b.SIZES.SQUARE26}),u.createElement(b.default,{className:(0,l.default)(m.default.button,m.default.secondButton),icon:"gif",isActive:this.props.selectedPanelId===g.PANELS.GIF,onClick:this._handleGifClick,onRef:this._setRefGifButtonRef,size:b.SIZES.SQUARE26}),a)}}]),t}(u.PureComponent);t.default=y},cchfggidbj:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,a){return(0,r.default)(e,function(n){if(n.signal.aborted)throw new i.default;var r=e(n);return t.get(r,n).then(function(e){if(n.signal.aborted)throw new i.default;return null!=e?e:a(n).then(function(e){if(n.signal.aborted)throw new i.default;return t.set(r,e,n).then(function(){return e})})})})};var i=n(a("cgijjjgici")),r=n(a("cjbdijighi"))},cchiafiebc:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=i(a("ceffhbhahb")),u=i(a("dgdjiicfdg")),f=n(a("ddhijeejag")),h=i(a("effbcehec")),p=i(a("bbchdeehff")),g=a("ddjgcfjicj"),m=n(a("cajijabhgb")),b=n(a("ffchhcfdj")),v=i(a("eceadcicaf")),j=i(a("bdiiahhjbe")),E=a("ddgbhifaji"),y=n(a("dcecgegjfc")),_=i(a("beeieigghj")),S=a("icbibjcg"),C=i(a("bjbedjfe")),A=n(a("ebggjhghhi")),M=i(a("ddafjfecha")),T=i(a("bhbihjaicd")),P=i(a("bfdcadbbif")),N=i(a("fbjjefaic")),I=i(a("caffijjhc")),k=i(a("didfdhbecg")),O=function(e){function t(e){var n;return(0,r.default)(this,t),(n=(0,s.default)(this,(0,d.default)(t).call(this,e))).cancelRecording=function(){"ready"!==n.state.state&&(n.recorder&&n.recorder.stop(),n.clearInterval(),(0,S.markPaused)(n.props.chat),n.setState({state:"ready",active:void 0,elapsed:0}),n.props.onRecState(!1))},n._incElapsed=function(){n.setState({elapsed:n.state.elapsed+1})},n.onPTTReady=function(){n.cancelPTTTimer(),"delay"===n.state.state&&n.setState({state:"recording"})},n.onMouseOverSend=function(){n.setState({active:"send"})},n.onMouseOutSend=function(){n.setState({active:void 0})},n.onMouseOverCancel=function(){n.setState({active:"cancel"})},n.onMouseOutCancel=function(){n.setState({active:void 0})},n.onMouseUpCancel=function(){n.state.elapsed<1||(n.cancelPTTTimer(),n.cancelRecording())},n.onMouseUpSend=function(){if(!(n.state.elapsed<1))if(n.cancelPTTTimer(),"recording"===n.state.state){var e=n.props.chat;n.setState({state:"processing"}),n.props.onRecState(!1);var t=e.regCancellablePromise(A.waitForEvent(n.recorder,"dataAvailable").then(function(e){return _.default.createFromData(e.detail,e.detail.type)}));(0,E.prepRawMedia)(t,{isPtt:!0,precomputedFields:{duration:~~n.recorder.duration}}).sendToChat(e,{quotedMsg:e.composeQuotedMsg||void 0,addEvenWhilePreparing:!0}),e.composeQuotedMsg=null,t.catch(Promise.CancellationError,function(){}).finally(function(){n.cancelRecording()}),n.recorder.stop()}else n.cancelRecording()},n.startRecord=function(){if("ready"===n.state.state){var e=y.start("microphone");Promise.race([e,n.props.rejectOnUnmount()]).checkpoint(n.props.rejectOnUnmount()).then(function(e){p.default.pttRecording(),n.recorder=new T.default({bitRate:16e3,encoderSampleRate:16e3,encoderApplication:2048}),n.recorder.initStream(e),n.recorder.start(),a("ebbjbbjjg").default.update(n.props.chat.presence.id).catch(g.WapDrop,function(){}),(0,S.markRecording)(n.props.chat),n.setState({state:"delay"}),n.props.onRecState(!0),n.pttTimer=n.props.setTimeout(n.onPTTReady,1500),n.startInterval()}).catch(m.Unmount,function(){e.then(function(e){return y.stop(e)}).catch(function(){})}).catch(m.GUM.NotAllowedError,function(){p.default.openModal(f.createElement(b.default,{messaging:b.Messaging.MIC_FAIL,type:b.default.TYPE.GUIDE_UNBLOCK}))}).catch(m.GUM.GUMError,function(){p.default.openModal(f.createElement(b.default,{messaging:b.Messaging.MIC_MISSING,type:b.default.TYPE.GUIDE_NONE}))}).catch(function(e){n.recorder&&n.recorder.stop(),j.default.error("PTT Recording Error")(e)})}},n.state={state:"ready",active:null,elapsed:0},n}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){this.props.listeners.add(window,"blur",this.cancelRecording)}},{key:"componentWillUnmount",value:function(){}},{key:"startInterval",value:function(){this.clearInterval(),this.elapsedInterval=this.props.setInterval(this._incElapsed,1e3)}},{key:"clearInterval",value:function(){null!=this.elapsedInterval&&(this.props.clearInterval(this.elapsedInterval),this.elapsedInterval=null),this.setState({elapsed:0})}},{key:"cancelPTTTimer",value:function(){null!=this.pttTimer&&(this.props.clearTimeout(this.pttTimer),this.pttTimer=null)}},{key:"render",value:function(){var e=this,t=this.state.state,a=(0,l.default)(M.default.btnBorder,{[M.default.isHover]:"cancel"===this.state.active}),n=(0,l.default)(M.default.btnBorder,{[M.default.isHover]:"send"===this.state.active}),i="delay"===t||"recording"===t?f.createElement(I.default,{displayName:"PTT",popable:!0,escapable:!0},f.createElement("div",{className:M.default.recording,key:"recording"},f.createElement("button",{"data-a8n":h.default.key("ptt-cancel-btn"),className:a,onMouseOver:this.onMouseOverCancel,onMouseOut:this.onMouseOutCancel,onMouseUp:this.onMouseUpCancel,"data-animate-btn-border":!0},f.createElement("div",{className:(0,l.default)(M.default.btnBorderIcon,M.default.btnStateDefault)},f.createElement(P.default,{name:"round-x"})),f.createElement("div",{className:(0,l.default)(M.default.btnBorderIcon,M.default.btnStateHover)},f.createElement(P.default,{name:"round-x-inv"}))),f.createElement("div",{className:M.default.pttCounter,"data-animate-ptt-counter":!0},u.default.unix(this.state.elapsed).format("m:ss")),f.createElement("button",{"data-a8n":h.default.key("ptt-send-btn"),className:n,onMouseOver:this.onMouseOverSend,onMouseOut:this.onMouseOutSend,onMouseUp:this.onMouseUpSend,"data-animate-btn-border":!0},f.createElement("div",{className:(0,l.default)(M.default.btnBorderIcon,M.default.btnStateDefault)},f.createElement(P.default,{name:"round-send"})),f.createElement("div",{className:(0,l.default)(M.default.btnBorderIcon,M.default.btnStateHover)},f.createElement(P.default,{name:"round-send-inv"}))))):null,r=this.startRecord,o=this.props.checkForMicrophoneAccess;o&&(r=function(){o&&o().then(function(t){t&&e.startRecord()})});var s="ready"===t||"processing"===t?f.createElement("button",{"data-a8n":h.default.key("ptt-ready-btn"),className:M.default.btnPtt,onMouseDown:r,disabled:"processing"===t,key:"button"},f.createElement(P.default,{name:"ptt"})):null,d=(0,l.default)(M.default.container,{[M.default.active]:!!i});return f.createElement("div",{className:d},f.createElement(k.default,{transitionName:"ptt"},i||s))}}]),t}(f.PureComponent),R=(0,C.default)((0,N.default)((0,v.default)(O)));t.default=R},ccicaaeiaa:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.getCollator=function(){return i},t.default=void 0;var i,r=n(a("bbchdeehff")),o=n(a("baagejbchg")),s=n(a("bjigbaghc"));d(),r.default.on("set_locale",d);function d(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.default.L10N.DEFAULT;if(window.Intl&&window.Intl.Collator){var t=window.Intl.Collator([e],{sensitivity:"base"});i={compare(e,a){try{return t.compare(e,a)}catch(e){return 0}}}}else i={compare:(e,t)=>e.localeCompare(t)}}var c=function(e,t){var a=e.id.toString(),n=t.id.toString();if(a===s.default.me.toString())return 1;if(n===s.default.me.toString())return-1;var r=e.name,o=t.name;if(!r&&o)return 1;if(r&&!o)return-1;if(r&&o&&e.header&&t.header){var d=i.compare(e.header,t.header);return 0===d?i.compare(r,o):d}return a&&n?a.localeCompare(n):-1};t.default=c},cciecbcgbi:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.onFrameChange,a=e.animationFrames,n=e.maxLoops,r=e.maxDuration,o=e.signal;if(o.aborted)return Promise.reject(new i.default);if(0===a.length)return Promise.resolve();var s=a.reduce(function(e,t){var a=t.duration;return e+a},0),d=(new Date).getTime(),c=0,l=0,u=0,f=d,h=function(){};return new Promise(function(e,d){var p=function(){0!==c&&window.cancelAnimationFrame(c),d(new i.default)};o.addEventListener("abort",p),h=function(){o.removeEventListener("abort",p)};c=window.requestAnimationFrame(function i(){var o=(new Date).getTime();if(o<f)return void(c=window.requestAnimationFrame(i));var d=a[u],h=d.duration,p=d.rgbaBuffer;if(t(p),u=(u+1)%a.length,f=o+h,1===u){if((l+1)*s>r)return void e();if(l>=n)return void e();l++}c=window.requestAnimationFrame(i)})}).finally(function(){h()})};var i=n(a("cgijjjgici"))},ccihhdchab:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.genId=function(e){return(0,u.default)(e||"action_toast")},t.ActionToast=t.ActionType=t.ToastPosition=void 0;var r=i(a("dgcdacjddi")),o=i(a("ffceefejc")),s=i(a("cjedcdbdii")),d=i(a("djecdhecha")),c=i(a("dbjagcfebh")),l=i(a("eaidjcib")),u=i(a("cifjgjcead")),f=n(a("ddhijeejag")),h=i(a("bbchdeehff")),p=i(a("fbjjefaic")),g=a("bfjajhbdf"),m={LEFT:"LEFT",RIGHT:"RIGHT"};t.ToastPosition=m;t.ActionType=function e(t,a,n){if((0,l.default)(this,e),!t)throw new Error("ActionType must have text!");if(a&&!n||n&&!a)throw new Error("ActionType must have an action and a handler or have neither.");this.text=t,this.action=a,this.handler=n};var b=function(e){function t(){var e,a;(0,l.default)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=(0,o.default)(this,(e=(0,s.default)(t)).call.apply(e,[this].concat(i)))).state={currentInitialAction:a.props.initialAction,actionType:a.props.initialAction,pending:!0},a.actionPromise=null,a.onAction=function(){a.state.actionType&&a.state.actionType.handler&&a.state.actionType.handler().catch(function(){})},a.onDismiss=function(){h.default.closeToast((0,d.default)(a))},a}return(0,c.default)(t,e),(0,r.default)(t,[{key:"componentDidMount",value:function(){this.runAction(this.props.pendingAction)}},{key:"componentDidUpdate",value:function(e){e.pendingAction!==this.props.pendingAction&&this.runAction(this.props.pendingAction)}},{key:"runAction",value:function(e){var t=this,a={};this.actionPromise&&this.actionPromise.control.cancel(),this.actionPromise=e.addRejectControl("cancel",function(){return a}).then(function(e){t.setState({actionType:e,pending:!1})}).catch(function(e){return e!==a},function(e){t.setState({actionType:e,pending:!1})}).delay(this.props.settleDuration).addRejectControl("cancel",function(){return a}).then(function(){h.default.closeToast(t)}).catch(function(e){return e===a},function(){}).endWithControls("cancel")}},{key:"render",value:function(){var e,t,a=this.state.actionType;return a?(a.action&&a.handler&&(t=f.createElement(g.ToastActionBtn,{buttonText:a.action,onClick:this.onAction})),this.state.pending||(e=f.createElement(g.ToastDismissBtn,{onClick:this.onDismiss})),f.createElement(g.ToastBody,{toastPosition:this.props.toastPosition,actionText:a.text,actionBtn:t,dismissBtn:e})):null}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a=e.initialAction;return a!==t.currentInitialAction?{currentInitialAction:a,actionType:a,pending:!0}:null}}]),t}(f.Component);b.defaultProps={settleDuration:5e3,toastPosition:m.LEFT};var v=(0,p.default)(b);t.ActionToast=v},ccijeahddj:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.loadCollections=function(e){Object.assign(i.default,e)};var i=n(a("bhggeigghg"))},ccijgeidci:function(e,t){e.exports={shadow:"_37gp4"}},ccjabfdeje:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=i(a("fhfbcdaib")),u=n(a("ddhijeejag")),f=i(a("effbcehec")),h=a("dffedeegcb"),p=i(a("djcchigfih")),g=i(a("djbhiedbef")),m=n(a("dajffajabh")),b=i(a("dgjddffcfg")),v=i(a("fffdgbfji")),j=i(a("ceghjibjjg")),E=i(a("gdfgjiffc")),y=i(a("cdcaigjjii")),_=i(a("cdjhjdcbeg")),S=i(a("bfdcadbbif")),C=i(a("hfhhcchgj")),A=i(a("didfdhbecg")),M=function(e){function t(e){var a;return(0,r.default)(this,t),(a=(0,s.default)(this,(0,d.default)(t).call(this,e))).onImageSet=function(e,t){a.setState({thumb:e,full:t})},a.onContinue=function(){var e=b.default.emojify(a.state.text.trim());(0,h.createGroup)(e,a.state.thumb,a.state.full,a.props.participants),a.props.onContinue()},a.onSubjectChange=function(e){a.setState({text:e})},a.setRefEmojiInput=function(e){a.refEmojiInput=e},a.state={text:e.subject||"",thumb:e.thumb,full:e.full},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){this.refEmojiInput&&this.refEmojiInput.restoreFocus()}},{key:"render",value:function(){var e=this.state.text.trim().length>0,t=e?u.createElement("div",{className:j.default.nextButton},u.createElement(_.default,{a8nText:"create-group-btn",onClick:(0,l.default)(this.onContinue)},u.createElement(S.default,{name:"checkmark-light"}))):null;return u.createElement(p.default,null,u.createElement(m.default,{title:v.default.t(865),type:m.DRAWER_HEADER_TYPE.LARGE,onBack:this.props.onBack}),u.createElement(g.default,null,u.createElement("div",{className:j.default.section},u.createElement(E.default,{type:y.default.GROUP,attachToChat:!1,startImage:this.state.full,onImageSet:this.onImageSet})),u.createElement("div",{"data-a8n":f.default.key("group-subject"),className:j.default.section},u.createElement(C.default,{ref:this.setRefEmojiInput,value:this.state.text,maxLength:25,showRemaining:!0,onChange:this.onSubjectChange,placeholder:v.default.t(572),onEnter:e?(0,l.default)(this.onContinue):function(){},supportsEmoji:!0})),u.createElement(A.default,{transitionName:"btn"},t)))}}]),t}(u.Component);t.default=M},ccjagcdajg:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=n(a("ddhijeejag")),u=i(a("baagejbchg")),f=a("cgbdcdhgig"),h=i(a("ihfccfgdf")),p=i(a("bdacfjbfhj")),g=i(a("egjjcjcg")),m=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).state={hasSentPlayed:!1},a.mediaBlobWasDownloadedBeforeMount=Boolean(a.props.mediaData.mediaBlob),a.videoRef=null,a.setRefVideo=function(e){if(a.videoRef!==e&&(a.videoRef=e,e)){var t=g.default.getVideoVolumeSettings();t&&("number"==typeof t.volume&&e.setVolume(t.volume),"boolean"==typeof t.muted&&e.setMuted(t.muted))}},a.onSendPlayed=function(){var e=a.videoRef;e&&(e.getCurrentTime()/e.getDuration()>.5||e.getCurrentTime()>10)&&((0,f.markPlayed)(a.props.msg),a.setState({hasSentPlayed:!0}))},a.onLoadedMetadata=function(e,t){var n=a.props.mediaData.aspectRatio,i=0!==e.videoWidth&&0!==e.videoHeight?e.videoWidth/e.videoHeight:void 0;(!n&&null!=i&&0!==i||n&&null!=i&&0!==i&&Math.abs(i-n)>.01)&&a.props.mediaData.set({aspectRatio:i}),a.props.onLoadedMetadata(e,t)},a.play=function(){var e=a.videoRef;e&&e.getPaused()&&e.play()},a.pause=function(){var e=a.videoRef;e&&(e.getPaused()||e.pause())},a.getPaused=function(){return!a.videoRef||a.videoRef.getPaused()},a.getCurrentTime=function(){return a.videoRef?a.videoRef.getCurrentTime():0},a.setCurrentTime=function(e){a.videoRef&&a.videoRef.setCurrentTime(e)},a.getDuration=function(){return a.videoRef?a.videoRef.getDuration():0},a.getVolume=function(){return a.videoRef?a.videoRef.getVolume():0},a.setVolume=function(e){a.videoRef&&a.videoRef.setVolume(e)},a.getMuted=function(){return!!a.videoRef&&a.videoRef.getMuted()},a.setMuted=function(e){a.videoRef&&a.videoRef.setMuted(e)},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e,t=this,a=this.props,n=a.msg,i=a.mediaData,r=i.mediaBlob,o=i.streamable&&i.isStreamable();e=!this.mediaBlobWasDownloadedBeforeMount&&o||!r?i.streamable&&i.isStreamable()?"".concat(u.default.VIDEO_STREAM_URL,"?key=").concat(this.props.msg.id.toString()):void 0:r.url();var s=!this.state.hasSentPlayed&&(0,f.canMarkPlayed)(n)?this.onSendPlayed:void 0;return l.createElement(p.default,{ref:this.setRefVideo,url:e,startTime:this.props.startTime,poster:this.props.poster,className:this.props.className,onVolumeChange:this.props.onVolumeChange,onEnded:this.props.onEnded,onError:this.props.onError,onPause:this.props.onPause,onPlaying:this.props.onPlaying,onProgress:this.props.onProgress,onTimeUpdate:function(e){s&&s(),t.props.onTimeUpdate(e)},onLoadedMetadata:this.onLoadedMetadata,autoPlay:this.props.autoPlay},a.children)}}]),t}(l.PureComponent);m.CONCERNS={msg:["id","isSentByMe","ack","type","isGif"],mediaData:["mediaBlob","streamable","aspectRatio"]};var b=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).play=function(){a.getComponent().play()},a.pause=function(){a.getComponent().pause()},a.getPaused=function(){return a.getComponent().getPaused()},a.getCurrentTime=function(){return a.getComponent().getCurrentTime()},a.setCurrentTime=function(e){a.getComponent().setCurrentTime(e)},a.getDuration=function(){return a.getComponent().getDuration()},a.getVolume=function(){return a.getComponent().getVolume()},a.setVolume=function(e){a.getComponent().setVolume(e)},a.getMuted=function(){return a.getComponent().getMuted()},a.setMuted=function(e){a.getComponent().setMuted(e)},a}return(0,c.default)(t,e),t}((0,h.default)(m,m.CONCERNS));t.default=b},ccjgccbced:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=i(a("dcdbaegdhb")),u=i(a("ceffhbhahb")),f=n(a("ddhijeejag")),h=i(a("dhjeadeagb")),p=i(a("cehjjfagii")),g=i(a("cadbaeefbb")),m=i(a("jhcabjcaf")),b=i(a("dbdfbgehgj")),v=i(a("bbchdeehff")),j=i(a("baagejbchg")),E=i(a("biddiiafgd")),y=i(a("dhigahgdjb")),_=i(a("ddihbaicfd")),S=i(a("fifhbjiec")),C=a("ddjgcfjicj"),A=i(a("eiighchhi")),M=i(a("bjbdcigbdi")),T=a("gaifbabbj"),P=i(a("cieaeggjg")),N=i(a("bahgfcjcda")),I=i(a("ihfccfgdf")),k=a("bheafeifce"),O=i(a("bfdcadbbif")),R=i(a("cgfjebhhej")),w=i(a("cccicaceef")),D=i(a("ciddcjeaij")),L=i(a("bihdhbjih")),U=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).onMessageClick=function(){var e=a.props.msg.getWAids();e&&(e.length>1&&a.props.msg.vcard?v.default.openModal(f.createElement(D.default,{icon:f.createElement(O.default,{name:"chat",directional:!0}),vCard:a.props.msg.vcard,onCancel:function(){return v.default.closeModal()},onSelect:a.openContactChat})):e.length>0&&a.openContactChat(e[0]))},a.onViewContact=function(){a.props.msg.vcard?v.default.openModal(f.createElement(_.default,{vcard:a.props.msg.body})):v.default.openModal(f.createElement(E.default,{onCancel:function(){return v.default.closeModal()},onOK:function(){v.default.closeModal(),A.default.initDownload((0,k.unproxy)(a.props.msg))},okText:l10n.t(1193),cancelText:l10n.t(1197),title:l10n.t(402)},l10n.t(401)))},a.onAddToGroupClick=function(){var e=a.props.msg.getWAids();e&&(e.length>1&&a.props.msg.vcard?v.default.openModal(f.createElement(D.default,{icon:f.createElement(O.default,{name:"add-user",directional:!0}),vCard:a.props.msg.vcard,onCancel:function(){return v.default.closeModal()},onSelect:a.addContactToGroup})):e.length>0&&a.addContactToGroup(e[0]))},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"openContactChat",value:function(e){var t=M.default.supportsFeature(M.default.F.QUERY_VNAME)&&!y.default.get(e);b.default.find(e).then(function(a){v.default.closeModal(),v.default.openChatFromUnread(a).then(function(e){e&&v.default.focusChatTextInput(a)}),t&&L.default.queryExist(e).then(function(t){200===t.status&&t.biz&&L.default.queryVname(e).catch(C.WapDrop,function(){})})})}},{key:"addContactToGroup",value:function(e){y.default.find(e).then(function(e){v.default.openModal(f.createElement(h.default,{contact:e,pushTransition:"none",popTransition:"none"}),{transition:"modal-flow"})})}},{key:"render",value:function(){var e,t=this.props.msg,a=t.getWAids(),n=(0,l.default)(t.subtype||l10n.t(193),{length:120,omission:l10n.t(945)});a&&a.length>0&&(e=f.createElement(g.default,{items:[{label:l10n.t(730),onClick:this.onMessageClick,title:l10n.t(733,{author:n})},{label:l10n.t(166),onClick:this.onAddToGroupClick}]}));var i=this.props.displayAuthor&&!t.isSentByMe&&t.isGroupMsg?f.createElement("div",{className:w.default.author},f.createElement(p.default,{msg:t,contact:t.senderObj})):null,r=this.props.quotedMsg?f.createElement("div",{className:w.default.quote},this.props.quotedMsg):null,o=(0,u.default)(w.default.bubble,{[w.default.hasAuthor]:i,[w.default.hasQuote]:r,[w.default.isPreview]:this.props.displayType===j.default.DISP_TYPE.MSG_INFO,[w.default.isGallery]:this.props.displayType===j.default.DISP_TYPE.STARRED_MSGS||this.props.displayType===j.default.DISP_TYPE.GALLERY}),s=this.props.msg.vcard||this.props.msg.chat.isTrusted(),d=s?this.onViewContact:function(){},c=T.Configuration.Compatibility({selectable:!0});return f.createElement(m.default,{className:o,contact:t.senderObj,msg:t},i,r,f.createElement("div",{className:w.default.vcard,role:s?"button":null,onClick:d},f.createElement("div",{className:w.default.avatar},f.createElement(N.default,{size:49,thumb:R.default.thumbnail(t.body),waid:t.getVCardThumbnailWAid()})),f.createElement("div",{className:w.default.body},f.createElement(S.default,{text:n,element:"div",className:w.default.name,selectable:!0,dirMismatch:t.rtl!==l10n.isRTL(),direction:t.dir,formatters:c})),f.createElement("div",{className:w.default.meta},f.createElement(P.default,{msg:t}))),e)}}]),t}(f.Component);U.CONCERNS={msg:["vcard","isQuoted","body","subtype","rtl","dir","isSentByMe","isGroupMsg","senderObj","chat"]};var G=(0,I.default)(U,U.CONCERNS);t.default=G},cdaacjiegb:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.formatOversizedMsgText=function(e){return i.default.isElectron?l10n.t(902):l10n.t(903)},t.formatOversizedMsgNotification=function(e){return l10n.t(903)};var i=n(a("bcjcbbafcj"))},cdaaeifjfh:function(e,t){e.exports={buttons:"_3cBNw",button:"_3kZj4"}},cdaddeffii:function(e,t){e.exports={context:"_15CAo",contextIn:"_2Nkc4",contextOut:"_3EQsG",contextIcon:"_2-qoA",contextSpecial:"_3WZEQ",contextInverse:"_38wik",contextMedia:"_1eJVc",contextMediaLtr:"_20WGU",contextMediaRtl:"_2IaZT",contextMediaDocument:"gTQOV",contextIconMedia:"_3MU5v",contextDoc:"_3ZNgA",contextPtt:"_1TDSM",contextPttFix:"_3Bm9i",contextMultiVcard:"_2rg5w",contextStickerAuthor:"_3kHVU",contextStickerTransparent:"_2PpWQ",badge:"_1j7jW",contextStickerInverse:"I3gU2"}},cdadhagibj:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("eaidjcib")),r=n(a("ffceefejc")),o=n(a("cjedcdbdii")),s=n(a("dbjagcfebh")),d=function(e){function t(e,a){(0,i.default)(this,t);var n=null!=a&&null!=a.url?"".concat(e,": ").concat(a.url):e;return(0,r.default)(this,(0,o.default)(t).call(this,n))}return(0,s.default)(t,e),t}((0,n(a("iffjgahba")).default)("HttpInvalidResponseError"));t.default=d},cdaedfafjc:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.StickerPack=t.PRE_PLACEHOLDER_ID=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("bjehdcaaj")),l=i(a("dbjagcfebh")),u=n(a("dcaifjegcg")),f=i(a("bffjfbgbg")),h=a("daichdjff"),p=i(a("cgejbjhjej"));t.PRE_PLACEHOLDER_ID="placeholder:";var g="image/png",m=function(e){var t=e.index,a=e.page;return new v({id:"".concat("placeholder:").concat(t),index:t,page:a})},b=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).id=(0,u.prop)(),a.index=(0,u.prop)(),a.name=(0,u.prop)(),a.page=(0,u.prop)(),a.url=(0,u.prop)(),a.mimetype=(0,u.prop)(g),a.mediaData=(0,u.session)(),a.mediaObject=(0,u.prop)(),a.directPath=(0,u.prop)(),a.filehash=(0,u.prop)(),a.mediaKey=(0,u.prop)(),a.mediaKeyTimestamp=(0,u.prop)(),a.size=(0,u.prop)(),a.type=(0,u.prop)(h.OUTWARD_TYPES.IMAGE),a.uploadhash=(0,u.prop)(),a.clientUrl=(0,u.derived)(a._clientUrl,["url","isFirstParty"]),a.stickers=(0,u.derived)(a._getStickersCollection,["id"]),a.isPlaceholder=(0,u.derived)(a._isPlaceholder,["id"]),a.isFirstParty=(0,u.derived)(a._isFirstParty,["url","mediaKey"]),a}return(0,l.default)(t,e),(0,o.default)(t,[{key:"_clientUrl",value:function(){return this.isFirstParty?"":this.url}},{key:"_isPlaceholder",value:function(){return t.isPlaceholderId(this.id)}},{key:"_isFirstParty",value:function(){return Boolean(this.url)&&!this.mediaKey}},{key:"_getStickersCollection",value:function(){return this._stickers=this._stickers||new p.default(this.id.split("#")[0]),this._stickers}},{key:"initialize",value:function(){(0,c.default)((0,d.default)(t.prototype),"initialize",this).call(this),this.isPlaceholder||this.isFirstParty||(this.addChild("mediaData",new f.default({renderableUrl:""})),a("ddgbhifaji").registerStickerPackIcon(this))}},{key:"downloadMedia",value:function(){this.isPlaceholder||this.isFirstParty||a("ddgbhifaji").downloadStickerOrStickerPackIcon(this,"STICKER_PACK")}}]),t}(u.default);t.StickerPack=b,b.Proxy="stickerPack",b.createPlaceholder=m,b.isPlaceholderId=function(e){return new RegExp("^".concat("placeholder:")).test(e)};var v=(0,u.defineModel)(b),j=v;t.default=j,v.createPlaceholder=m,v.isPlaceholderId=b.isPlaceholderId},cdagfedaaf:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.startOfDaySkew;if(void 0!==t&&t>r.default.skew-30&&t<r.default.skew+30)return e.startOfDay;return e.startOfDaySkew=r.default.skew,e.startOfDay=i.default.unix(e.t+r.default.skew).startOf("day").unix()};var i=n(a("dgdjiicfdg")),r=n(a("cfadcbbiie"))},cdbcigcahd:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("ceffhbhahb")),o=n(a("ddhijeejag")),s=i(a("dgefajbgai")),d=a("eagfdbhhhh"),c=function(e){var t=e.title,a=e.icon,n=e.onClick,i=e.children,c=(0,r.default)(s.default.itemBody,{[s.default.row]:a}),l=(0,r.default)({[s.default.main]:a}),u=(0,r.default)({[s.default.side]:a});return o.createElement("div",{className:s.default.item,onClick:n,role:n?"button":""},o.createElement("div",{className:c},o.createElement("div",{className:l,dir:"auto"},o.createElement(d.SelectableDiv,{className:s.default.primary,selectable:!0},t),o.createElement("div",{className:s.default.secondary},i)),o.createElement("div",{className:u},a)))};t.default=c},cdbfiiicdg:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("ffceefejc")),s=i(a("cjedcdbdii")),d=i(a("dbjagcfebh")),c=n(a("bdfbccfifg")),l=function(e){function t(e,a){return(0,r.default)(this,t),(0,o.default)(this,(0,s.default)(t).call(this,e,a.id))}return(0,d.default)(t,e),t}(c.default);t.default=l,l.policy=c.CACHE_POLICY_TYPE.NONE},cdbgdedbdh:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.aspectRatioScaled=function(e,t){return"number"!=typeof e||e<0||e!=e?{width:t,height:t}:e>1?{width:t,height:Math.max(t/e,1)}:{width:Math.max(t*e,1),height:t}},t.containModeSize=function(e,t){var a;a=e>t.width/t.height?t.width:t.height*e;return{width:a,height:a/e}},t.boundHeightWidth=function(e,t,a){var n=null!=t?t:a,i=null!=e?e:a;n>i?n>a&&(i*=a/n,n=a):i>a&&(n*=a/i,i=a);return{width:Math.max(n,1),height:Math.max(i,1)}},t.determineHeightFromAspect=function(e,t){if(!e)return t;var a;a=e<=1?t:e<=2.4?t/e:t/2.4;return Math.round(a)},t.rotatePoint=function(e,t,a){var n=a*Math.PI/180;return{x:Math.cos(n)*e+Math.sin(n)*t,y:-Math.sin(n)*e+Math.cos(n)*t}}},cdcaigjjii:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={GROUP:"GROUP",PROFILE:"PROFILE"};t.default=n},cdcbgdeab:function(e,t){e.exports={pager:"_3j_mW",pagerLeft:"Hh963",pagerRight:"_3WJ6c",pagerDisabled:"_3tHA6",body:"_3MoCW",section:"_J-Y0",searchRow:"_2NkaG"}},cdcfgefbba:function(e,t){e.exports={container:"_11FF7",body:"_3bY6N",footer:"_2HyTU",retakeBtn:"_3C0e6",retakeIcon:"_37zqu",caption:"_3iVC4",videoContainer:"_2On8w",video:"_1A1HX",videoInactive:"_2bPbZ",btn:"_1cZ2V",btnSend:"_3Mn8m",image:"_2pRfq",snapshot:"_30MUA"}},cdcijfdgje:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.LiveLocationCollection=void 0;var i=n(a("bhabhhjdch")),r=n(a("eaidjcib")),o=n(a("dgcdacjddi")),s=n(a("ffceefejc")),d=n(a("cjedcdbdii")),c=n(a("dbjagcfebh")),l=n(a("cgcgbfbffj")),u=n(a("cfadcbbiie")),f=n(a("baagejbchg")),h=n(a("dhigahgdjb")),p=a("ddjgcfjicj"),g=n(a("bieicghjif")),m=n(a("bdiiahhjbe")),b=a("hjbbdjjdf"),v=n(a("bihdhbjih")),j=n(a("jccfhaecf"));function E(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}var y=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,(0,d.default)(t).apply(this,arguments))}return(0,c.default)(t,e),(0,o.default)(t,[{key:"_find",value:function(e){var t=this;return j.default.isUser(e)||j.default.isGroup(e)?v.default.subscribeLiveLocation(e,!0).then(function(a){if(a.status&&a.status>=400)return 499===a.status?m.default.log("liveLocation:subscribe query not implemented on the phone")():m.default.error("model:LiveLocation:_find error "+a.status)(),Promise.reject(a.status);var n=(0,b.isNumber)(a.duration)?a.duration:void 0,r=a.participants?a.participants.map(function(e){return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?E(Object(a),!0).forEach(function(t){(0,i.default)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):E(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},t._extractLocationFields(e),{id:e.id,expiration:0===e.expiration?1/0:e.expiration})}):[];return{id:e,duration:n,participants:r}}):Promise.reject(new Error("invalid wid for live location: "+e))}},{key:"getActive",value:function(e){var t=this;return j.default.isUser(e)||j.default.isGroup(e)?v.default.queryActiveLiveLocation(e).then(function(a){if(a.status&&a.status>=400)return 499===a.status?m.default.log("liveLocation:participant query not implemented on the phone")():m.default.error("model:LiveLocation:getActive error "+a.status)(),Promise.reject(a.status);if(a.participants&&a.participants.length){var n=a.participants.map(function(e){return{id:e.id,expiration:0===e.expiration?1/0:e.expiration}});t.add({id:e,participants:n},{merge:!0})}}).catch(p.WapDrop,function(){}):Promise.reject(new Error("invalid wid for live location: "+e))}},{key:"onResume",value:function(){var e=this;this.filter(function(e){return e.active&&e.hasParticipants()}).forEach(function(t){e.update(t.id)})}},{key:"handle",value:function(e){var t=this;Array.isArray(e)?e.forEach(function(e){switch(e.type){case"update":var a=t._extractLocationFields(e),n=h.default.get(e.jid);n&&n.liveLocations&&n.liveLocations.forEach(function(e){return e.set(a)});break;case"disable":var i=t.get(e.chat);if(i){var r=i.participants.get(e.jid);r&&(e.seq>r.sequence||-1===e.seq)&&r.disable()}break;default:m.default.error("models:liveLocation:handle unknown type: "+e.type)(e)}}):m.default.error("models:liveLocation:handle unrecognized payload")(e)}},{key:"processMsg",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];m.default.assert(e.type===f.default.MSG_TYPE.LOCATION&&e.isLive,"collection:liveLocation trying to process non live-location msg")();var a=e.id.remote,n=e.lat,i=e.lng,r=e.accuracy,o=e.speed,s=e.degrees,d=e.sequence,c=e.comment,l=e.shareDuration,h=e.t;if(h&&l){var p=h+l;if(!(p<=u.default.globalUnixTime())){var g={id:e.sender,lat:n,lng:i,accuracy:r,speed:o,degrees:s,sequence:d,comment:c,expiration:p,lastUpdated:h,msg:e};-1===d&&delete g.sequence;var b=this.get(a);if(b){var v=b.participants.get(g.id);if(t)return void(v&&v.lastUpdated<=g.lastUpdated&&v.set(g));if(v&&b.participants.removeParticipant(v),b.hasParticipants())return void b.participants.add(g)}this.add({id:a,participants:[g]})}}}},{key:"removeMsg",value:function(e){m.default.assert(e.type===f.default.MSG_TYPE.LOCATION&&e.isLive,"collection:liveLocation trying to remove non live-location msg")();var t=e.id.remote,a=e.sender,n=this.get(t);n&&n.participants.remove(a)}},{key:"_extractLocationFields",value:function(e){return void 0===e.lat||void 0===e.lng?{}:{lastUpdated:u.default.globalUnixTime()-e.elapsed,lat:e.lat,lng:e.lng,accuracy:e.accuracy,speed:e.speed,degrees:e.degrees,comment:e.comment}}}]),t}(l.default);t.LiveLocationCollection=y,y.model=g.default,y.staleCollection=!0,y.resumeOnAvailable=!0;var _=new y;t.default=_},cddgaecgia:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("eaidjcib")),r=n(a("ffceefejc")),o=n(a("cjedcdbdii")),s=n(a("dbjagcfebh")),d=function(e){function t(e,a){(0,i.default)(this,t);var n=null!=a&&null!=a.url?"".concat(e,": ").concat(a.url):e;return(0,r.default)(this,(0,o.default)(t).call(this,n))}return(0,s.default)(t,e),t}((0,n(a("iffjgahba")).default)("HttpNetworkError"));t.default=d},cddgbhafgj:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSDPAnswer=function(e,t,a){var n="v=0\no=- 7173087711463101159 2 IN IP4 127.0.0.1\ns=-\nt=0 0\na=group:BUNDLE 0".concat(a?" 1":"","\na=msid-semantic: WMS g1noOjzcjYNgtJfnKdCzBmyvTozKsCGWCleP\nm=audio ").concat(t," RTP/SAVP 111\nc=IN IP4 ").concat(e,"\na=rtcp:9 IN IP4 0.0.0.0\na=candidate:1152096416 1 udp 2113937151 ").concat(e," ").concat(t," typ host generation 0 network-cost 999\na=ice-ufrag:TrwD\na=ice-pwd:NbygVa9sevLY/DCcLXRqzqMZ\na=ice-options:trickle\na=setup:active\na=mid:0\na=sendrecv\na=msid:g1noOjzcjYNgtJfnKdCzBmyvTozKsCGWCleP df375ff4-7ed5-459d-b991-76c8e47ffc52\na=rtcp-mux\na=crypto:0 AES_CM_128_HMAC_SHA1_32 inline:yxbmKU33QOpzK9mh2c5O2S/kPqWqrEdu08+tQFhp\na=rtpmap:111 opus/48000/2\na=ssrc:4084429388 cname:noAs9WOptAnM/+QP\n");a&&(n+="m=video ".concat(t," RTP/SAVP 96\nc=IN IP4 ").concat(e,"\na=rtcp:9 IN IP4 0.0.0.0\na=candidate:1152096416 1 udp 2113937151 ").concat(e," ").concat(t," typ host generation 0 network-cost 999\na=ice-ufrag:TrwD\na=ice-pwd:NbygVa9sevLY/DCcLXRqzqMZ\na=ice-options:trickle\na=mid:1\na=extmap:12 urn:3gpp:video-orientation\na=sendrecv\na=msid:ZhweKKCOEinfZyYuSPSvnC7upm9Zs0IIaRYb 629eaf55-18ca-47ed-8bfe-98dfd17c0bc9\na=rtcp-mux\na=crypto:0 AES_CM_128_HMAC_SHA1_32 inline:yxbmKU33QOpzK9mh2c5O2S/kPqWqrEdu08+tQFhp\na=rtpmap:96 VP8/90000\na=ssrc:3309512937 cname:rcpcNyS/Kejuq2+Y\n"));return{type:"answer",sdp:n}}},cdeaahaeee:function(e,t){e.exports={updateWrapper:"_3eMSw",updateTitle:"W5vNF",uploadButtons:"_1my7I",buttonContainer:"_385o1",outStatusPanel:"_3MBzN",outDetail:"_2jgce",seen:"_1Yxff",timestamp:"_1Wv89",placeholderIcon:"AOhCd",placeholderText:"ojaNO",viewWrapper:"_2Erv5",viewTitle:"_3PAk1",viewUpdates:"_13BGY",statusImage:"_3Karf",seenCount:"_1yzfb"}},cdebbfjhbf:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=n(a("ddhijeejag")),u=i(a("bbchdeehff")),f=i(a("bcbahjefec")),h=i(a("eceadcicaf")),p=i(a("iibiehcaf")),g=i(a("gcbiehega")),m=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).sessionId=Math.round(1e9*Math.random()),a.openStatusViewer=function(e,t,n){a.push(l.createElement(g.default,{initialStatusV3:e,initialStatusMsg:t,closeStatusViewer:a.closeStatusViewer,sessionId:a.sessionId,rowIdx:n}),"none")},a.closeStatusViewer=function(e){e?a.end():a.pop("none")},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){var e=this;this.push(l.createElement(p.default,{onOpenStatus:this.openStatusViewer,closeStatusViewer:this.closeStatusViewer,sessionId:this.sessionId}),"status-v3-modal"),this.props.listeners.add(u.default,"close_status_viewer",function(){e.closeStatusViewer(!0)})}},{key:"componentWillUnmount",value:function(){this.props.onFlowEnd()}}]),t}(f.default),b=(0,h.default)(m);t.default=b},cdebehabcj:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.cleanJPEG=function(e){var t,a=new i.default(e),n=new i.default(e),d=new i.default,c=!1,l=!1,u=!1,f=!1,h={version:257,densityUnits:0,xDensity:1,yDensity:1};if(a.readUint8()!==r||a.readUint8()!==o.SOI)throw new Error("SOI marker not at the start of the file.");n.advance(2);var p=void 0;for(;null!=p||a.size();){if(void 0===p){var g=a.readUint8();if(g!==r)throw new Error("0x".concat(g.toString(16)," is not a marker prefix."));p=a.readUint8()}switch(p){case o.APP0:if(l)t=a.readUint16(),n.advance(t+2),a.advance(a.size()-n.size());else{if(t=a.readUint16(),"JFIF\0"!==a.readString(5))throw new Error("APP0 marker missing 'JFIF' magic bytes.");f=!0,h.version=a.readUint16(),h.densityUnits=a.readUint8(),h.xDensity=a.readUint16(),h.yDensity=a.readUint16(),n.advance(t+2),a.advance(a.size()-n.size()),l=!0}break;case o.SOS:if(!u&&!f)throw new Error("Missing magic bytes marker.");a.advance(a.readUint16()-2);for(var m=void 0,b=a.readUint8();a.size();){if(m=a.readUint8(),b===r&&!s.includes(m)){p=m;break}b=m}d.writeByteArray(n.readByteArray(n.size()-a.size()-2));continue;case o.APP1:if(t=a.readUint16(),!u&&"Exif\0\0"!==a.readString(6))throw new Error("APP1 marker missing 'EXIF' magic bytes.");u=!0,n.advance(t+2),a.advance(a.size()-n.size());break;case o.APP13:case o.COM:if(!u&&!f)throw new Error("Missing magic bytes marker.");t=a.readUint16(),n.advance(t+2),a.advance(a.size()-n.size());break;case o.EOI:if(!u&&!f)throw new Error("Missing magic bytes marker.");c=!0,d.writeByteArray(n.readByteArray(2));break;case o.SOF0:case o.SOF1:case o.SOF2:case o.SOF3:case o.SOF5:case o.SOF6:case o.SOF7:case o.SOF9:case o.SOF10:case o.SOF11:case o.SOF13:case o.SOF14:case o.SOF15:case o.DQT:case o.DHT:case o.DRI:if(!u&&!f)throw new Error("Missing magic bytes marker.");t=a.readUint16(),d.writeByteArray(n.readByteArray(2+t)),a.advance(a.size()-n.size());break;case o.APP2:case o.APP3:case o.APP4:case o.APP5:case o.APP6:case o.APP7:case o.APP8:case o.APP9:case o.APP10:case o.APP11:case o.APP12:case o.APP14:case o.APP15:throw new Error("Received unexpected APP marker 0x".concat(p.toString(16)));default:throw new Error("Did not understand marker: 0x".concat(p.toString(16)))}if(p=void 0,c)break}if(!c)throw new Error("No EOI tag found.");var v=function(e){var t=new i.default;return t.writeBytes(255,216,255,224,0,16,74,70,73,70,0),t.writeUint16(e.version),t.writeUint8(e.densityUnits),t.writeUint16(e.xDensity),t.writeUint16(e.yDensity),t.writeBytes(0,0),t.readByteArray()}(h);return new Blob([v,d.readByteArray()],{type:"image/jpeg"})};var i=n(a("dbajccegac")),r=255,o={SOF0:192,SOF1:193,SOF2:194,SOF3:195,DHT:196,SOF5:197,SOF6:198,SOF7:199,SOF9:201,SOF10:202,SOF11:203,SOF13:205,SOF14:206,SOF15:207,RST0:208,RST1:209,RST2:210,RST3:211,RST4:212,RST5:213,RST6:214,RST7:215,SOI:216,EOI:217,SOS:218,DQT:219,DRI:221,APP0:224,APP1:225,APP2:226,APP3:227,APP4:228,APP5:229,APP6:230,APP7:231,APP8:232,APP9:233,APP10:234,APP11:235,APP12:236,APP13:237,APP14:238,APP15:239,COM:254},s=[0,o.RST0,o.RST1,o.RST2,o.RST3,o.RST4,o.RST5,o.RST6,o.RST7]},cdeciahhed:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("bacehaajgh")),o=i(a("eaidjcib")),s=i(a("dgcdacjddi")),d=i(a("ffceefejc")),c=i(a("cjedcdbdii")),l=i(a("dbjagcfebh")),u=n(a("ddhijeejag")),f=a("dfdebdgdei"),h=i(a("bbchdeehff")),p=i(a("bcbahjefec")),g=n(a("cjcffhicea")),m=a("dbbhhgjjbg"),b=i(a("bfgbdiffgd")),v=function(e){function t(){var e,a;(0,o.default)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=(0,d.default)(this,(e=(0,c.default)(t)).call.apply(e,[this].concat(i)))).onForwardConfirmed=function(e){var t=a.props.msgText;if(1===e.length){var n=e[0];(n.isUser&&n.contact.isBlocked()?(0,f.unblockContact)(n.contact):Promise.resolve(!0)).then(function(e){if(t){if(n.urlText=a.props.urlText,n.active)return void h.default.pasteChatTextInput(n,t);n.setComposeContents({text:t})}return h.default.openChatFromUnread(n).then(function(e){e&&h.default.focusChatTextInput(n)})})}else Promise.map(e,function(e){(e.isUser&&e.contact.isBlocked()?(0,f.unblockContact)(e.contact):Promise.resolve(!0)).then(function(n){e.urlText=a.props.urlText,(0,m.sendTextMsgToChat)(e,t)})}),h.default.openChatFromUnread(e[0]);a.end()},a}return(0,l.default)(t,e),(0,s.default)(t,[{key:"componentDidMount",value:function(){this.push(u.createElement(g.default,{onConfirm:this.onForwardConfirmed,maxItems:this.props.serverProps.multicastLimitGlobal,title:l10n.t(774),listType:g.ListType.CHAT_SELECT_MODAL}))}}]),t}(p.default);t.default=function(e){return u.createElement(v,(0,r.default)({},e,{serverProps:b.default}))}},cdegajchcj:function(e,t){e.exports={shade:"_3TrQs"}},cdegfghcid:function(e,t,a){"use strict";var n=a("cfjecfhbfg"),i=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.count;return r.createElement("span",{className:s.default.count},t>0?o.default.n(t):null)};var r=i(a("ddhijeejag")),o=n(a("fffdgbfji")),s=n(a("bijdjchach"))},cdejbeiiha:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"JSXSerializer",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"TextSerializer",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"UnformatSerializer",{enumerable:!0,get:function(){return o.default}});var i=n(a("ecbafeecfe")),r=n(a("gbfcbchfd")),o=n(a("daejhbgabi"))},cdfccifhg:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];var n=t.reduce(function(e,t){return e+t.byteLength},0),i=new Uint8Array(n),r=0;return t.forEach(function(e){i.set(new Uint8Array(e),r),r+=e.byteLength}),i.buffer}},cdffadcgjg:function(e,t,a){"use strict";var n=a("cfjecfhbfg")(a("dghfjbgibd")),i={queryRecentStickers:function(){var e=this;return new Promise(function(t,a){var i=e.queryNode({type:"recent_stickers"},void 0);e.binSend("sendEphemeral",i,a,{onSend:e.binWrap(function(i){e.BinaryProtocol.read(i).then(function(t){return(0,n.default)(t,e.N,"recent_stickers")}).then(t,a)},t),onDrop:e.wrap(a)},{debugString:"query,recent_stickers",metricName:"QUERY_RECENT_STICKERS"})})}};e.exports=i},cdfiibedj:function(e,t){e.exports={container:"ekffg",icon:"_2ZVha",text:"_2UyQS",containerSmallIcon:"_3KaFM"}},cdgdijchcg:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.SIZES=t.ITEM_SPACING=t.ITEM_WIDTH=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=n(a("ddhijeejag")),u=i(a("ceffhbhahb")),f=i(a("dhfbfehaef")),h=i(a("bjcfdghhfc")),p=i(a("bfdcadbbif")),g=parseInt(h.default["-item-width"].replace(/px$/,""),10);t.ITEM_WIDTH=g;var m=parseInt(h.default["-item-spacing"].replace(/px$/,""),10);t.ITEM_SPACING=m;var b={SQUARE24:"SQUARE24",SQUARE26:"SQUARE26"};t.SIZES=b;var v=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i))))._handleEnterKey=function(e){e.stopPropagation(),e.preventDefault(),a.props.onClick()},a._handleClick=function(){a.props.onClick()},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){return l.createElement(f.default,{component:"button",className:(0,u.default)(h.default.container,this.props.className,{[h.default.active]:this.props.isActive,[h.default.top]:this.props.isMain||this.props.singleButton,[h.default.padding]:this.props.singleButton,[h.default.square24]:this.props.size===b.SQUARE24,[h.default.square26]:this.props.size===b.SQUARE26}),"aria-label":this.props["aria-label"],"data-tab":this.props["data-tab"],"data-a8n":this.props["data-a8n"],onClick:this._handleClick,onRef:this.props.onRef,handlers:{enter:this._handleEnterKey}},l.createElement(p.default,{name:this.props.icon}))}}]),t}(l.PureComponent);t.default=v},cdgebfdaif:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=n(a("ddhijeejag")),u=i(a("dbdfbgehgj")),f=i(a("bbchdeehff")),h=i(a("biddiiafgd")),p=i(a("bcbahjefec")),g=i(a("djaadchjch")),m=i(a("cihcggiidc")),b=i(a("dabieifebj")),v=i(a("bhheahajjg")),j=n(a("bfjajhbdf")),E=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).onSendInvite=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;f.default.closeModal(),Promise.all(a.props.participantNeedInvite.map(function(n){var i=n.contact,r=n.invite_code,o=n.invite_code_exp;return u.default.find(i.id).then(function(n){var s=a.props.groupGid.toString(),d=g.default.assertGet(s);return n.sendGroupInviteMessage(s,a.props.subject,r||"",o,e,t).then(function(e){return"success"===e&&(d.pendingParticipants.add({id:i.id}),!0)})})})).then(function(e){var t=e.filter(Boolean).length;f.default.openToast(l.createElement(j.default,{msg:l10n.t(1297,{num:t,_plural:t}),id:(0,j.genId)()}))})},a.addInviteCommment=function(e){a.push(l.createElement(m.default,{participants:e,gid:a.props.groupGid,subject:a.props.subject,groupDesc:a.props.groupDesc,onClose:a._pop,onSend:a.onSendInvite}))},a._pop=function(){a.pop()},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){var e=this.props.participantNeedInvite,t=this.getFormattedNames(e.map(function(e){return e.contact}),!0),a=l10n.t(577,{participant:t,_plural:e.length});this.push(l.createElement(h.default,{onOK:this.addInviteCommment.bind(this,e),okText:l10n.t(1296),onCancel:this._pop,cancelText:l10n.t(1197)},a))}},{key:"getFormattedName",value:function(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]?e.formattedUser:l.createElement(v.default,{contact:e})}},{key:"getFormattedNames",value:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!Array.isArray(e))return this.getFormattedName(e,a);var n=e.map(function(e){return t.getFormattedName(e,a)});return(0,b.default)(n,a)}}]),t}(p.default);t.default=E,E.defaultProps={removeTopDrawer:!0,pushTransition:"none",popTransition:"none"}},cdgeeegaih:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getResults=function(e,t){var a=t.map(function(e){var t=e.contact;return t}),n=(e||"").toLowerCase();return a.filter(function(e){return function(e,t){if(t.isMe)return!1;var a=[t.searchName||t.formattedName];!t.isMyContact&&t.notifyName&&a.push(t.notifyName.toLowerCase());return a.some(function(t){return function(e,t){var a=-1;do{if(t.indexOf(e,a+1)===a+1)return!0}while(-1!==(a=t.indexOf(" ",a+1)));return!1}(e,t)})}(n,e)})}},cdghjejjij:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.changeProfilePicThumb=function(e,t){return i.default.imageChanged(e,t),Promise.resolve()};var i=n(a("dhefcajhhb"))},cdhdchfidf:function(e,t,a){"use strict";var n=a("cfjecfhbfg"),i=n(a("dgdjiicfdg")),r=n(a("bjigbaghc")),o=n(a("bdiiahhjbe")),s=a("hjbbdjjdf"),d=n(a("bgeajihhc")),c={createGroup:function(e,t,a,n,c,l,u){var f=this;return new Promise(function(h,p){var g=d.default.tag(),m=f.wrap(h);m.tag=g;var b=t.map(function(e){return["participant",{jid:e},void 0]});(0,s.isString)(a)&&(0,s.isString)(n)&&b.unshift(["description",{id:n},a]),c&&b.unshift(["locked",void 0,void 0]),l&&b.unshift(["announcement",void 0,void 0]),null!=u&&0!==u&&b.unshift(["ephemeral",{value:u.toString()},void 0]),o.default.log("create group tag",g)();var v=["group",{id:g,type:"create",author:r.default.me,subject:e},b],j=f.actionNode("set",[v]);f.binSend("send",j,p,{clientCacheable:!0,onSend:m,onDrop:f.wrap(p)},{debugString:"action,group,create",metricName:"GROUP",expires:(0,i.default)().unix()})})}};e.exports=c},cdheafhdbh:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Component=t.ThemeOptions=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=i(a("ceffhbhahb")),u=n(a("ddhijeejag")),f=i(a("bbchdeehff")),h=i(a("dicggaeied")),p=i(a("eaijjhejbf")),g=i(a("cicabfhdbb")),m=i(a("bjgibbgbai")),b=a("ejbdjaifi"),v=i(a("ccajjgdjf")),j=i(a("chgaccicf")),E=i(a("bjfecgfdgj")),y=i(a("fbjjefaic")),_=i(a("caffijjhc")),S=i(a("didfdhbecg")),C=(0,j.default)({MEDIA_CAPTION:null,EMOJI_INPUT:null});t.ThemeOptions=C;var A={omitted:"",query:"",emojiList:null},M=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).state=A,a.onEmoji=function(e){E.default.increment(e),a.props.plugin.handleSelect(e)},a.onSearch=function(e){var t=e?e.trim():e,n=a.state.omitted,i=a.props.chat;if(i&&i.isGroup&&t&&t.includes("@"))a.setState({emojiList:null,query:""});else if(!n||!t.startsWith(n))if(t.length<2){if(!a.state.emojiList)return;a.setState({emojiList:""===t?null:(0,h.default)(t),query:t})}else{var r=(0,h.default)(t);r.length?a.setState({omitted:null,emojiList:r,query:t}):a.setState({emojiList:null,query:t})}},a.onInactive=function(){a.setState(A)},a.onEscape=function(){a.setState({emojiList:null,query:"",omitted:a.state.query})},a.onKeyPress=function(e){e.preventDefault();var t=a.props.chat;t&&f.default.pasteChatTextInput(t,String.fromCharCode(e.charCode))},a.onKeyDown=function(e){return"Backspace"===e.key&&(e.preventDefault(),document.execCommand("delete"),a.props.plugin.ctx.focus()),!1},a.onEnter=function(e){if(!(0,v.default)(e)){var t=a.emojiSuggestionsPanel;return t?(e.preventDefault(),e.stopPropagation(),t.pickSelectedEmoji(),!1):void 0}},a.onLeft=function(e){if(!(0,v.default)(e)){var t=a.emojiSuggestionsPanel;t&&(e.preventDefault(),e.stopPropagation(),t.moveSelectionLeft())}},a.onRight=function(e){if(!(0,v.default)(e)){var t=a.emojiSuggestionsPanel;t&&(e.preventDefault(),e.stopPropagation(),t.moveSelectionRight())}},a.releaseFocus=function(){a.props.plugin.ctx.focus()},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){var e=this.props.plugin;e.registerHandler(this,m.default.EMOJI_SEARCH,this.onSearch),e.registerHandler(this,m.default.EMOJI_INACTIVE,this.onInactive),e.registerHandler(this,m.default.EMOJI_ENTER,this.onEnter),e.registerHandler(this,m.default.EMOJI_LEFT,this.onLeft),e.registerHandler(this,m.default.EMOJI_RIGHT,this.onRight),e.registerHandler(this,m.default.EMOJI_TAB,this.onEnter)}},{key:"componentWillUnmount",value:function(){var e=this.props.plugin;e.unregisterHandler(this,m.default.EMOJI_SEARCH),e.unregisterHandler(this,m.default.EMOJI_INACTIVE),e.unregisterHandler(this,m.default.EMOJI_ENTER),e.unregisterHandler(this,m.default.EMOJI_LEFT),e.unregisterHandler(this,m.default.EMOJI_RIGHT),e.unregisterHandler(this,m.default.EMOJI_TAB)}},{key:"renderTab",value:function(e){return u.createElement("div",{className:p.default.searchBody,key:"RECENT"},u.createElement(g.default,{ref:(0,b.GetRef)("emojiSuggestionsPanel",this),key:this.state.query,onEmoji:this.onEmoji,onFocusRelease:this.onInactive,onSkinTonePicker:this.props.onSkinTonePicker,emojiList:e}))}},{key:"render",value:function(){var e=this.state.emojiList,t=e?u.createElement(_.default,{displayName:"EmojiSuggestions",escapable:!0,requestDismiss:this.onEscape,requestFocus:this.releaseFocus},u.createElement("div",{className:(0,l.default)(p.default.overlayContainer,{[p.default.mediaCaption]:this.props.theme===C.MEDIA_CAPTION,[p.default.emojiInput]:this.props.theme===C.EMOJI_INPUT})},u.createElement("div",{className:p.default.resultsContainer,"data-list-scroll-container":"false"},u.createElement("div",{className:p.default.emojiSearch,onKeyPress:this.onKeyPress,onKeyDown:this.onKeyDown},this.renderTab(e))))):null;return u.createElement(S.default,{component:"div",className:p.default.positioningContainer,transitionName:"emoji-search-panel-slide-up"},t)}}]),t}(u.Component),T=M;t.Component=T;var P=(0,y.default)(M);t.default=P},cdhedbceeh:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("bhabhhjdch")),r=n(a("eaidjcib")),o=n(a("dgcdacjddi")),s=a("fgeddfbg"),d=n(a("gaffaajde")),c=n(a("bdiiahhjbe")),l=n(a("ecdjdjeihf")),u=n(a("dejeiggfhi")),f=n(a("dbdagcfdjh")),h=n(a("bjjhgbbeja")),p=n(a("bbgcdfeifh")),g=n(a("cadedacjj"));function m(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function b(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?m(Object(a),!0).forEach(function(t){(0,i.default)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):m(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var v={minTimeout:1e3,retries:3};function j(e){return!(e instanceof s.MMSThrottleError)&&(e instanceof s.NoMediaHostsError||e instanceof s.HttpNetworkError||e instanceof s.MMSUnauthorizedError||e instanceof s.HttpStatusCodeError&&e.status>=500)}var E=new(function(){function e(){(0,r.default)(this,e)}return(0,o.default)(e,[{key:"checkIfUploadExists",value:function(e){var t=e.encFilehash,a=e.signal,n=e.type,i=!0,r={encFilehash:e.encFilehash,type:e.type};return c.default.log("mmsClient.checkIfUploadExists: start",r)(),(0,d.default)(b({},v,{signal:a}),function(e,o){return c.default.log("mmsClient.checkIfUploadExists: attempt #".concat(o+1),r)(),p.default.waitIfOffline({signal:a}).then(function(){return l.default.getHostsInfo({operation:g.default.UPLOAD,encFilehash:t,type:n,signal:a}).then(function(e){var r=e.auth,s=e.selectedHost,d=e.fallbackHost,c=o>=2&&!i&&d?d:s;return(0,u.default)({auth:r,encFilehash:t,hostname:c.hostname,type:n,signal:a,onProgress:function(){i=!0}})}).catch(function(t){if(j(t))return e(t);throw t})})}).then(function(e){return c.default.log("mmsClient.checkIfUploadExists: success",r)(),e}).catch(function(e){throw e instanceof s.MediaNotFoundError?c.default.log("mmsClient.checkIfUploadExists: error",r,e)():c.default.error("mmsClient.checkIfUploadExists: error",r,e)(),e})}},{key:"upload",value:function(e){var t=e.ciphertextHmac,a=e.encFilehash,n=e.type,i=e.signal,r=e.onUploadHostFound,o=e.onUploadAttemptSuccess,s=e.onUploadAttemptError,u=!0,f={encFilehash:a,type:n};c.default.log("mmsClient.upload: start",f)();var m=Date.now();return(0,d.default)(b({},v,{signal:i}),function(e,o){return m=Date.now(),c.default.log("mmsClient.upload: attempt #".concat(o+1),f)(),p.default.waitIfOffline({signal:i}).then(function(){return l.default.getHostsInfo({operation:g.default.UPLOAD,encFilehash:a,type:n,signal:i}).then(function(e){var s=e.auth,d=e.selectedHost,c=e.fallbackHost,l=o>=2&&!u&&c?c:d;return r&&r({hostName:l.hostname,hostClass:l.class,failCount:o}),(0,h.default)({auth:s,ciphertextHmac:t,hostname:l.hostname,encFilehash:a,type:n,signal:i,onProgress:function(){u=!0}})}).catch(function(t){var a=j(t);if(!a||o===v.retries||s&&s(t,Date.now()-m),a)return e(t);throw t})})}).then(function(e){return o&&o(Date.now()-m),c.default.log("mmsClient.upload: success",f)(),e}).catch(function(e){throw c.default.error("mmsClient.upload: error",f,e)(),e})}},{key:"download",value:function(e){var t=e.directPath,a=e.encFilehash,n=e.type,i=e.signal,r=!0,o={directPath:t,encFilehash:a,type:n};return c.default.log("mmsClient.download: start",o)(),(0,d.default)(b({},v,{signal:i}),function(e,s){return c.default.log("mmsClient.download: attempt #".concat(s+1),o)(),l.default.getHostsInfo({operation:g.default.DOWNLOAD,directPath:t,encFilehash:a,type:n,signal:i}).then(function(e){var o=e.auth,d=e.selectedHost,c=e.fallbackHost,l=s>=2&&!r&&c?c:d;return(0,f.default)({auth:o,directPath:t,encFilehash:a,hostname:l.hostname,type:n,signal:i,onProgress:function(){r=!0}})}).catch(function(t){if(j(t))return e(t);throw t})}).then(function(e){return c.default.log("mmsClient.download: success",o)(),e}).catch(function(e){throw e instanceof s.MediaNotFoundError?c.default.log("mmsClient.download: expected error",o,e)():c.default.error("mmsClient.download: error",o,e)(),e})}}]),e}());t.default=E},cdhichafeb:function(e,t){e.exports={"-thumb-radius-window":"4.5px",thumbRadiusWindow:"4.5px","-thumb-radius-fullscreen":"5px",thumbRadiusFullscreen:"5px",controls:"_1ZSng",playpauseBtnContainer:"_2sQuC",fullscreen:"_1LLDD",currentTime:"_2tjFy",duration:"_1ahx-",timeText:"_2sWbB",progressBarContainer:"OZVc4",hiddenProgressBar:"_3N5w5",displayedProgressBar:"_2bTRm",displayedProgress:"_2ZXtj",displayedBuffer:"_29NP7",displayedTrack:"BlZHO",thumb:"_12kgx",hideThumb:"_3P5mI",volumeContainer:"_130CI",volumeBarContainer:"AD15h",volumeLowerTrack:"_3Nf6W",firefoxFix:"_31xd3",lowerTrackLongest:"_3H-Mh",volumeBar:"scAIX",volumePadding:"_28kjQ",tooltipWrapper:"_3T5kf",tooltipTextBoxPosAndSize:"_2nN7G",tooltipTextBoxGeneral:"_2vqPI",tooltipTailGeneral:"_23EAc",tooltipTailPosAndSize:"_4MCrh"}},cdjajhiedh:function(e,t){e.exports={container:"_2XJM3"}},cdjdachjig:function(e,t,a){"use strict";var n=a("cfjecfhbfg"),i=n(a("dicfecifhd")),r=n(a("bdiiahhjbe")),o=n(a("jccfhaecf")),s=a("dcbdjheea");function d(e){try{return(0,s.createWid)(e)}catch(t){return e}}e.exports=function(e){var t="",a="",n=e.singleByte,s=e.doubleByte,c=e.nibbleDecode;this.readNode=function(e){var a=e.readByte(),n=this.readListSize(e,a);if((a=e.readByte())===i.default.STREAM_END)throw new Error("unexpected stream end "+e.debugInfo());var r=this.readString(e,a);if(t=r,0===n||!r)throw new Error("invalid node. 0 list or empty tag"+e.debugInfo());var o,s=n-2+n%2>>1,d=this.readAttributes(e,s);if(n%2==1)return[r,d,void 0];if(a=e.readByte(),this.isListTag(a))o=this.readList(e,a);else if(a===i.default.BINARY_8){var c=e.readByte();o=e.readBytes(c)}else if(a===i.default.BINARY_20){var l=e.readInt20();o=e.readBytes(l)}else if(a===i.default.BINARY_32){var u=e.readInt32();o=e.readBytes(u)}else o=this.readString(e,a);return[r,d,o]},this.isListTag=function(e){return e===i.default.LIST_EMPTY||e===i.default.LIST_8||e===i.default.LIST_16},this.readListSize=function(e,t){if(t===i.default.LIST_EMPTY)return 0;if(t===i.default.LIST_8)return e.readByte();if(t===i.default.LIST_16)return e.readInt16();throw new Error("invalid list size "+e.debugInfo())},this.readString=function(e,n){var s,c=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(-1===n)throw new Error("invalid start token readString"+e.debugInfo());if(n>2&&n<236){var l=this.getToken(n);return"s.whatsapp.net"===l&&(l="c.us"),l}switch(n){case i.default.DICTIONARY_0:case i.default.DICTIONARY_1:case i.default.DICTIONARY_2:case i.default.DICTIONARY_3:var u=e.readByte();return this.getTokenDouble(n-i.default.DICTIONARY_0,u);case i.default.LIST_EMPTY:return;case i.default.BINARY_8:return s=e.readString(e.readByte()),this.isAttr&&c&&o.default.isWid(s)?d(s):s;case i.default.BINARY_20:return s=e.readString(e.readInt20()),this.isAttr&&c&&o.default.isWid(s)?d(s):s;case i.default.BINARY_32:return s=e.readString(e.readInt32()),this.isAttr&&c&&o.default.isWid(s)?d(s):s;case i.default.JID_PAIR:var f=this.readString(e,e.readByte()),h=this.readString(e,e.readByte());if(void 0!==f&&void 0!==h){var p=f+"@"+h;return c&&o.default.isWid(p)?d(p):p}if(void 0!==h)return h;throw new Error("invalid jid "+f+","+h+" "+e.debugInfo());case i.default.JID_AD:var g=e.readByte(),m=e.readByte(),b=this.readString(e,e.readByte());if(void 0!==b)return d(g&&m?b+"."+g+":"+m+"@c.us":g?b+"."+g+"@c.us":m?b+":"+m+"@c.us":b+"@c.us");throw new Error("invalid JID_AD agent:".concat(g," device:").concat(m," user:").concat(b));case i.default.NIBBLE_8:case i.default.HEX_8:return this.readPacked8(n,e);default:throw r.default.infoVerbose("\n                Unexpected token in binary protocol read. Token : ".concat(n,"\n                lastTag: ").concat(t,"\n                lastAttributeKey: ").concat(a,"\n                ").concat(e.debugInfoWithPadding(),"\n              "))(),new Error("invalid string "+n)}},this.getToken=function(e){var t;if(e>=0&&e<n.length&&(t=n[e]),void 0===t)throw new Error("invalid token "+e);return t},this.getTokenDouble=function(e,t){var a,n=256*e+t;if(n>=0&&n<s.length&&(a=s[n]),void 0===a)throw new Error("invalid double byte token "+e+" "+t);return a},this.readAttributes=function(e,t){var n,i;this.isAttr=!0;for(var r=t?{}:void 0,s=0;s<t;s++)n=this.readString(e,e.readByte()),a=n,i=this.readString(e,e.readByte(),o.default.canBeWid(n)),r[n]=i;return this.isAttr=!1,r},this.readList=function(e,t){for(var a=[],n=this.readListSize(e,t),i=0;i<n;i++)a.push(this.readNode(e));return a},this.readPacked8=function(e,t){for(var a=t.readByte(),n=a>>7,i=127&a,r="",o=0;o<i;o++){var s=t.readByte();r+=this.unpackByte(e,(240&s)>>4),r+=this.unpackByte(e,15&s)}return n&&(r=r.substring(0,r.length-1)),r},this.unpackByte=function(e,t){switch(e){case i.default.NIBBLE_8:return this.unpackNibble(t);case i.default.HEX_8:return this.unpackHex(t);default:throw new Error("unpack non-nibble/hex type: "+e)}},this.unpackNibble=function(e){if(!c.hasOwnProperty(e))throw new Error("invalid nibble to unpack: "+e);return c[e]},this.unpackHex=function(e){if(e>=0&&e<=15)return e.toString(16).toUpperCase();throw new Error("invalid hex to unpack: "+e)}}},cdjfcjheca:function(e,t,a){"use strict";var n=a("cfjecfhbfg")(a("bdiiahhjbe")),i=a("hjbbdjjdf"),r={queryQuickReplies:function(e){return this.sendQuickRepliesQuery(e,!1)},flushQuickReplyCounts:function(e){return this.sendQuickRepliesQuery(e,!0)},sendQuickRepliesQuery:function(e,t){var a=this;return new Promise(function(i,r){var o=e?Object.keys(e).map(function(t){return["quick_reply",{id:t,count:e[t].toString()},void 0]}):void 0,s={type:"quick_reply"};t&&(s.kind="count");var d=a.queryNode(s,o);a.binSend("sendEphemeral",d,r,{onSend:a.binWrap(function(e){a.BinaryProtocol.read(e).then(function(e){var r={data:[]};if(n.default.logColor("green","bin-recv: response,quick_reply",e)(),"response"===a.N.tag(e)&&"quick_reply"===a.N.attr("type",e)){r.checksum=a.N.attr("checksum",e);var o=a.N.children(e);if(Array.isArray(o))for(var s=0;s<o.length;s++){var d=(t?a.parseQuickReplyCount.bind(a):a.parseQuickReply.bind(a))(o[s]);d&&r.data.push(d)}}i(r)}).catch(r)},i),onDrop:a.wrap(r)},{debugString:"query,quick_replies",metricName:"QUERY_QUICK_REPLIES"})})},parseQuickReply:function(e){if("quick_reply"===this.N.tag(e)){var t=this.N.attr("id",e),a=this.N.attr("short",e),n=this.N.attr("message",e),r=parseInt(this.N.attr("count",e),10)||0,o=this.N.attr("type",e),s=[];if("delete"!==o){var d=this.N.children(e);if(Array.isArray(d))for(var c=0;c<d.length;c++){var l=d[c];"matched-text"===this.N.tag(l)&&s.push(this.N.dataStr(l))}}var u={id:t,shortcut:a,message:n,count:r,keywords:s,type:o},f=[!(o||t&&a&&n&&(0,i.isNumber)(r)),o&&"delete"!==o,"delete"===o&&!t];return this.dropIfConditionMet(f,u)}},parseQuickReplyCount:function(e){if("quick_reply"===this.N.tag(e)){var t=this.N.attr("id",e),a=parseInt(this.N.attr("count",e),10)||0,n={id:t,count:a},r=[!t||!(0,i.isNumber)(a)];return this.dropIfConditionMet(r,n)}}};e.exports=r},cdjhjdcbeg:function(e,t,a){"use strict";var n=a("cfjecfhbfg"),i=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("ddhijeejag")),o=n(a("ceffhbhahb")),s=n(a("effbcehec")),d=n(a("cjgadgafji")),c=function(e){var t=e.large,a=e.a8nText,n=e.onClick,i=e.children,c=(0,o.default)(d.default.btn,{[d.default.large]:t});return r.createElement("div",{"data-a8n":s.default.key(a),role:"button",className:c,onClick:n},i)};t.default=c},ceaabfjiba:function(e,t){e.exports={messageList:"_1ays2",messageListSelectable:"_2A6NB"}},cebabjecdf:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={DEBUG_LOG:1,QUERY_RESUME:2,QUERY_RECEIPT:3,QUERY_MEDIA:4,QUERY_CHAT:5,QUERY_CONTACTS:6,QUERY_MESSAGES:7,PRESENCE:8,PRESENCE_SUBSCRIBE:9,GROUP:10,READ:11,CHAT:12,RECEIVED:13,PIC:14,STATUS:15,MESSAGE:16,QUERY_ACTIONS:17,BLOCK:18,QUERY_GROUP:19,QUERY_PREVIEW:20,QUERY_EMOJI:21,QUERY_MESSAGE_INFO:22,SPAM:23,QUERY_SEARCH:24,QUERY_IDENTITY:25,QUERY_URL:26,PROFILE:27,CONTACT:28,QUERY_VCARD:29,QUERY_STATUS:30,QUERY_STATUS_UPDATE:31,PRIVACY_STATUS:32,QUERY_LIVE_LOCATIONS:33,LIVE_LOCATION:34,QUERY_VNAME:35,QUERY_LABELS:36,CALL:37,QUERY_CALL:38,QUERY_QUICK_REPLIES:39,QUERY_CALL_OFFER:40,QUERY_RESPONSE:41,QUERY_STICKER_PACKS:42,QUERY_STICKERS:43,ADD_OR_REMOVE_LABELS:44,QUERY_NEXT_LABEL_COLOR:45,QUERY_LABEL_PALETTE:46,CREATE_OR_DELETE_LABELS:47,EDIT_LABELS:48,QUERY_RECENT_STICKERS:49};t.default=n},cebdifcdab:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=n(a("ddhijeejag")),u=i(a("ebcagbhefg")),f=i(a("bbchdeehff")),h=i(a("baagejbchg")),p=i(a("ccdfjfdccf")),g=i(a("ddjbidjfjh")),m=i(a("djcchigfih")),b=i(a("djbhiedbef")),v=n(a("dajffajabh")),j=i(a("fijafegab")),E=n(a("cajijabhgb")),y=i(a("bjbdcigbdi")),_=i(a("jheedhagg")),S=a("ejbdjaifi"),C=i(a("cigbgdjabj")),A=i(a("eceadcicaf")),M=a("ddbddjjgia"),T=i(a("biecbbiiee")),P=i(a("eigdejjai")),N=i(a("eafabiffad")),I=i(a("bibjgdifc")),k=i(a("bjbedjfe")),O=i(a("bfgbdiffgd")),R=i(a("becfabjeeg")),w=i(a("ihfccfgdf")),D=i(a("bfdcadbbif")),L=n(a("bfjajhbdf")),U=i(a("caceaafdic")),G=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).setRefScrollable=function(e){a.refScrollable=e},a.state={msgInfo:void 0,unimplemented:!1},a.wrapper=null,a.isMsgVisible=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e===a.props.msg.id&&(!!t||a.getMsgComponent())},a.onClose=function(){a.props.uim.uie.requestDismiss()},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){var e,t=this;P.default.find(this.props.msg.id).checkpoint(this.props.rejectOnUnmount()).then(function(e){t.setState({msgInfo:e}),t.props.listeners.add(e,"change:playedRemaining change:readRemaining change:deliveryRemaining",function(){t.forceUpdate()})}).catch(E.Unmount,function(){}).catch(function(){t.setState({unimplemented:!0}),f.default.openToast(l.createElement(L.default,{msg:l10n.t(772),id:(0,L.genId)("msg_info_failed")}))});var a=null===(e=this.refScrollable)||void 0===e?void 0:e.container;this.props.msg.type===h.default.MSG_TYPE.IMAGE&&a&&(a.scrollTop=a.scrollHeight),this.props.listeners.add(this.props.msg,"remove",function(e,a){a===T.default&&t.props.uim.uie.requestDismiss()})}},{key:"getMsgComponent",value:function(){var e=this.wrapper;if(e)return e.getMsgComponentRef()}},{key:"render",value:function(){var e,t,a,n=this.props.msg,i=this.state,r=i.msgInfo,o=i.unimplemented;if(r){var s,d,c,f=[];r.isPTT&&(t=l10n.t(745),d=(s=r.played.head())&&s.t,c=l.createElement("span",{className:g.default.icon},l.createElement(D.default,{name:"status-ptt-blue"})),f.push(l.createElement(p.default,{title:l10n.t(740),t:d,icon:c,key:"played"}))),d=(s=r.read.head())&&s.t,c=l.createElement("span",{className:g.default.icon},l.createElement(D.default,{name:"status-dblcheck",className:g.default.ack})),t=t||l10n.t(742),f.push(l.createElement(p.default,{title:t,t:d,icon:c,key:"read"})),d=(s=r.delivery.head())&&s.t,c=l.createElement("span",{className:g.default.icon},l.createElement(D.default,{name:"status-dblcheck"})),f.push(l.createElement(p.default,{title:l10n.t(738),t:d,icon:c,key:"delivery"})),O.default.frequentlyForwardedMessages&&n.numTimesForwarded>0&&!n.isFrequentlyForwarded&&f.push(l.createElement(N.default,{key:"forward",msg:n})),e=l.createElement(j.default,{theme:"padding"},f)}r||o||(a=l.createElement("div",{className:g.default.spinner,key:"spinner"},l.createElement(R.default,{size:50,stroke:4})));var E=null;return n.labels&&n.labels.length&&y.default.supportsFeature(y.default.F.LABELS_DISPLAY)&&(E=l.createElement(j.default,{theme:"padding"},l.createElement(C.default,{labels:n.labels}))),l.createElement(m.default,{key:"message-info-modal"},l.createElement(v.default,{title:l10n.t(737),type:v.DRAWER_HEADER_TYPE.SMALL,onCancel:this.onClose}),l.createElement(I.default,{ref:this.setRefScrollable,chatPreference:u.default.assertGet("defaultPreference")},l.createElement(U.default,{msg:n,ref:(0,S.GetRef)("wrapper",this),displayType:h.default.DISP_TYPE.MSG_INFO,isMsgVisible:this.isMsgVisible,position:M.MsgPosition.END,onProductClick:this.props.onProductClick})),l.createElement(b.default,null,E,l.createElement("div",{className:g.default.body},a,e)))}}]),t}(l.Component);G.CONCERNS={msg:["id","star","type","isGif","labels","numTimesForwarded","isFrequentlyForwarded"]};var x=(0,_.default)((0,k.default)((0,A.default)((0,w.default)(G,G.CONCERNS))));t.default=x},cebiefdbig:function(e,t){e.exports={loadingSpinner:"_3dK8v"}},cecfgggbdj:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.mediaKey,a=e.ciphertextHmac,n=e.expectedPlaintextHash,g=e.type;return new Promise(function(e,m){var b={mediaKey:t.slice(0,10),type:g};if(f.default.log("decryptMedia: start",b)(),a.byteLength<p)throw new l.MediaDecryptionError("ciphertext too short: ".concat(a.byteLength));var v=new h.default.WebcCryptoMedia({webcCryptoType:h.default.WEBC_CRYPTO_TYPE_CODE.DECRYPT,webcCryptoLibrary:h.default.WEBC_CRYPTO_LIBRARY_CODE.WEBCRYPTO,webcCryptoFileSize:a.byteLength});(0,d.default)(g,t).then(function(e){var t=e.iv,n=e.encKey,r=e.macKey,d=(0,o.default)(Uint8Array,a),f=(0,s.default)(Uint8Array,[new Uint8Array(t),d.slice(0,0-p)]);return new u.default(r).sign(f,p).then(function(e){var t=d.buffer.slice(0-p);if(!(0,c.default)(e,t))throw new l.MediaDecryptionError("decryptMedia: hmac mismatch");return(0,i.aesCbcDecrypt)(n,f)})}).then(function(e){return null==n?e:(0,r.default)(e).then(function(t){if(t!==n)throw new l.MediaDecryptionError("decryptMedia: plaintext hash mismatch");return e})}).then(function(t){f.default.log("decryptMedia: success",b)(),v.markWebcCryptoElapsedT(),v.commit(),e(t)}).catch(function(e){if(f.default.error("decryptMedia: error",b,e)(),e instanceof l.MediaDecryptionError)throw e;throw new l.MediaDecryptionError("decryption error: ".concat(String(e),"; stack: ").concat(e.stack))}).catch(m)})};var i=a("eaiigfgagg"),r=n(a("baeghbhigj")),o=n(a("bcjbjghiih")),s=n(a("djhfjffeaj")),d=n(a("feacbgeaf")),c=n(a("gchhabjba")),l=a("cajijabhgb"),u=n(a("bbejegbieb")),f=n(a("bdiiahhjbe")),h=n(a("bfbggcdbfb")),p=10},cedaiijige:function(e,t){e.exports={markerAdmin:"FPZFa",markerInvited:"_3ywxI",chatControls:"_1Dfrr",screenName:"_3VvbK",contactSmall:"_2ILbv"}},ceddibihdf:function(e,t){e.exports={image:"_1yrMk",default:"_3gatw",container:"_1wybK",hasBorder:"_1d0W1",square:"_3KG1x"}},cedifchehj:function(e,t){e.exports={meta:"_3MYI2",chromeFix:"wPLkG",metaLight:"_3UgZX",timestamp:"_3fnHB",icon:"_3Ux6T",status:"_370iZ",labels:"_2HsLW"}},ceegagjdfb:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.shift(),a=t.from,n=t.to,r=t.ack,o=t.participant,s=t.t;switch(t.cmd){case"ack":i.default.MsgInfo.updateInfo(t.id,a,n,r,o,s);break;case"acks":t.id.forEach(function(e){i.default.MsgInfo.updateInfo(e,a,n,r,o,s)})}};var i=n(a("bhggeigghg"))},ceeggdegaf:function(e,t,a){"use strict";var n=a("cfjecfhbfg")(a("ebjfcagbfd"));e.exports=function(e,t){return t.reduce(function(e,t){var a=t.parsers;return a?a.reduce(function(e,t){return t(e)},e):e},(0,n.default)(e))}},cefaeicfec:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("eaidjcib")),r=n(a("dgcdacjddi")),o=n(a("cgeeeeddea")),s=a("ebffadhefa"),d=a("dbcbifhbge"),c=n(a("cahfddcdga")),l=a("fgiejiccg"),u=new(function(){function e(){var t=this;(0,i.default)(this,e),this._pending=new Map,this._onResponseReceipt=function(e){var a=(0,l.unwrapResponsePayload)(e.data);if(null!=a){var n=a.invocationId,i=a.result;if(t._pending.has(n))(0,(0,c.default)(t._pending.get(n)).resolve)(i),t._pending.delete(n)}}}return(0,r.default)(e,[{key:"setConnectionManager",value:function(e){var t=this;this._conn=e,e.waitForConnection().then(function(){var a=(0,c.default)(e.getPort(),"Port obtained from ConnectionManager after connection");a.addEventListener("message",t._onResponseReceipt),a.start()})}},{key:"invoke",value:function(e,t){var a=this;return(0,o.default)(this._conn,"Connection has not been inited"),this._conn.waitForConnection().then(function(){(0,o.default)(a._conn,"Connection has not been inited");var n=(0,c.default)(a._conn.getPort(),"Port obtained from ConnectionManager after connection"),i=(0,d.genInvocationId)();return n.postMessage((0,s.buildInvocationPayload)({invocationId:i,method:e,args:t})),new Promise(function(e,t){a._pending.set(i,{resolve:e,reject:t})})})}}]),e}());t.default=u},cefdjbhgjf:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=n(a("ddhijeejag")),u=i(a("djcchigfih")),f=i(a("djbhiedbef")),h=n(a("dajffajabh")),p=a("cicgeajfge"),g=i(a("jheedhagg")),m=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).onCancel=function(){a.props.uim.uie.requestDismiss()},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){return l.createElement(u.default,null,l.createElement(h.default,{title:this.props.title,type:h.DRAWER_HEADER_TYPE.SMALL,onCancel:this.onCancel}),l.createElement(f.default,null,this.props.error?l.createElement(p.LazyLoadRetry,{onClick:this.props.retry}):l.createElement(p.Loading,null)))}}]),t}(l.PureComponent),b=(0,g.default)(m);t.default=b},cefeghcbch:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Component=void 0;var r=i(a("bhfcfhafdj")),o=i(a("eaidjcib")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("djecdhecha")),l=i(a("dgcdacjddi")),u=i(a("dbjagcfebh")),f=i(a("bgjcbiaddd")),h=i(a("bhdddbafig")),p=n(a("ddhijeejag")),g=i(a("ebjaejiaba")),m=n(a("iaibjaeb")),b=i(a("dbdfbgehgj")),v=i(a("bcajjbibcd")),j=i(a("bbchdeehff")),E=i(a("baagejbchg")),y=a("dghhefgjhc"),_=(i(a("ccfcjccjbg")),i(a("hdccjfbbg"))),S=i(a("cbedjffdai")),C=i(a("fifhbjiec")),A=n(a("bbhhbdicgc")),M=i(a("ddajbaceej")),T=i(a("dhfbfehaef")),P=a("gaifbabbj"),N=i(a("eceadcicaf")),I=i(a("ceigficjgj")),k=(i(a("cbcbdjdah")),i(a("cbgeijgefb"))),O=i(a("fbjjefaic")),R=i(a("caffijjhc")),w={SEC_CHATS:"SEC_CHATS",SEC_CONTACTS:"SEC_CONTACTS",SEC_GROUPCHATS:"SEC_GROUPCHATS",SEC_STARRED:"SEC_STARRED",SEC_MSG:"SEC_MSG",SEC_MUTED_CHATS:"SEC_MUTED_CHATS"},D={ROW_CHATS:"ROW_CHATS",ROW_CONTACTS:"ROW_CONTACTS",ROW_GROUPCHATS:"ROW_GROUPCHATS",ROW_STARRED:"ROW_STARRED",ROW_MSG:"ROW_MSG"},L=function(e){function t(e){var a;return(0,o.default)(this,t),(a=(0,s.default)(this,(0,d.default)(t).call(this,e))).onListPointerEventsOff=function(){a._listPointerEvents=!1},a.onListPointerEventsOn=function(){a._listPointerEvents=!0},a.updateSelected=function(e){a.debouncedOpenSelected.cancel(),a.props.selection.setVal(e,!1),a.oldSelection=e},a.onContactClick=function(e,t){a.onClick(e,t.id)},a.onChatClick=function(e,t){a.onClick(e,t.id)},a.onMessageClick=function(e,t,n){a.onClick(e,t.id,n)},a.onClick=function(e,t,n){e.preventDefault(),e.stopPropagation(),b.default.find(t).then(function(e){n?j.default.openChatAt(e,n).then(function(t){t&&j.default.focusChatTextInput(e)}):e!==a.getActiveChat()?j.default.openChatFromUnread(e).then(function(t){t&&j.default.focusChatTextInput(e)}):j.default.focusChatTextInput(e)})},a.restoreFocus=function(){a.props.selection.reset(!0)},a.onFocusGain=function(e){if(e.target===a.refHotKeys&&a._listPointerEvents)if(a.props.selection.index<0)a.focusFirst();else{var t=(0,c.default)(a).uie;t&&t.activate(),a.props.selection.reset(!0)}},a.onFocusSearch=function(e){e.stopPropagation(),e.preventDefault(),a.props.onFocusSearch()},a.setRefUIE=function(e){a.uie=e},a.setRefHotKeys=function(e){a.refHotKeys=e},a.onFocusList=function(){var e=(0,c.default)(a),t=e.refList,n=e.refHotKeys;t&&n&&M.default.focus(n)},a.requestFocus=function(){a.props.selection.reset(!1),a.props.selection.index>-1&&document.activeElement===document.body&&a.onFocusList()},a.setRefList=function(e){a.refList=e},a.onMultiSelect=function(e,t,n){var i=a.props.multiSelection;i&&i.setVal(e,t,n)},a.renderWrappedItem=function(e,t){var n=a.props,i=n.multiSelection,r=n.selectableState;return i&&r?p.createElement(v.default,{model:t,theme:"chat-checkbox",selectableState:r,multiSelection:i,onSelect:a.onMultiSelect},e):e},a.renderItem=function(e){var t=a.props,n=t.searchQuery,i=t.filterPreset;switch(e.type){case w.SEC_CHATS:return p.createElement(k.default,{header:l10n.t(1201)});case w.SEC_CONTACTS:return p.createElement(k.default,{header:l10n.t(1208)});case w.SEC_GROUPCHATS:return p.createElement(k.default,{header:l10n.t(1299)});case w.SEC_STARRED:return p.createElement(k.default,{header:l10n.t(1401)});case w.SEC_MSG:return p.createElement(k.default,{header:l10n.t(1312)});case D.ROW_CHATS:var r=e.data;return a.renderWrappedItem(p.createElement(m.default,{chat:r,contact:r.contact,mode:m.Mode.LAST,searchQuery:n,filterPreset:i,onClick:a.onChatClick,mouseDownAsClick:!0,selectableState:a.props.selectableState,multiSelection:a.props.multiSelection,active:a.props.selection}),r);case D.ROW_CONTACTS:var o=e.data;return a.renderWrappedItem(p.createElement(_.default,{contact:o,active:a.props.selection,searchQuery:n,onClick:a.onContactClick,mouseDownAsClick:!0,waitIdle:!0}),o);case D.ROW_GROUPCHATS:var s=e.data,d=s[0],c=a.getGroupChatSubtitle(s);return a.renderWrappedItem(p.createElement(m.default,{chat:d,contact:d.contact,secondary:c,mode:m.Mode.LAST,searchQuery:n,filterPreset:i,onClick:a.onChatClick,mouseDownAsClick:!0,selectableState:a.props.selectableState,multiSelection:a.props.multiSelection,active:a.props.selection}),d);case D.ROW_STARRED:var l=e.data;return a.renderWrappedItem(p.createElement(I.default,{msg:l,chat:l.chat,searchQuery:n,filterPreset:i,onClick:a.onMessageClick,active:a.props.selection}),l);case D.ROW_MSG:var u=e.data;return a.renderWrappedItem(p.createElement(I.default,{msg:u,chat:u.chat,searchQuery:n,filterPreset:i,onClick:a.onMessageClick,active:a.props.selection}),u);default:throw new A.UnknownDataError(e)}},a._listPointerEvents=!0,a.oldSelection=null,a.debouncedOpenSelected=a.props.debounce(function(){a.openSelected(a.focusComposer),a.focusComposer=!1},200),a.state={textsize:S.default.get().textsize,ftsStarred:[],ftsMessages:[],mutedChats:[],collapseMutedChatsEnabled:!1,mutedChatsCollapsed:!0},a}return(0,u.default)(t,e),(0,l.default)(t,null,[{key:"getDerivedStateFromProps",value:function(e){return{ftsStarred:e.ftsResult.filter(function(e){return e.star}),ftsMessages:e.ftsResult.filter(function(e){return!e.star})}}}]),(0,l.default)(t,[{key:"componentWillUnmount",value:function(){var e=this.getSelection(),t=this.props.selection.getVal();t&&t.isState&&!this.props.isSearching&&!e.length&&j.default.clearChat(t)}},{key:"componentDidMount",value:function(){var e=this;this.props.selection.init(this.getSelection()),this.props.listeners.add(j.default,"focus_chat_list",this.restoreFocus),this.props.listeners.add(j.default,"focus_next_chat",function(t){e.onNextChat(null,!0,t)}),this.props.listeners.add(j.default,"focus_prev_chat",function(t){e.onPrevChat(null,!0,t)}),this.props.listeners.add(j.default,"update_chatlist_selection",this.updateSelected),this.props.listeners.add(j.default,"textsize_change",function(t){e.setState({textsize:t})})}},{key:"componentDidUpdate",value:function(e,t){var a=e.selection.getVal();this.props.selection.init(this.getSelection(),!e.isSearching&&!this.props.isSearching);var n=this.props.selection.getVal();e.isSearching&&!this.props.isSearching&&!n&&this.oldSelection&&this.props.selection.setVal(this.oldSelection),n&&n!==a&&(this.focusComposer=!0,this.debouncedOpenSelected())}},{key:"openSelected",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.props.selection.getVal();t&&(t instanceof g.default&&t!==this.getActiveChat()?j.default.openChatFromUnread(t).then(function(a){a&&e&&j.default.focusChatTextInput(t)}):e&&j.default.focusChatTextInput(t))}},{key:"getSelection",value:function(){return[].concat((0,r.default)(this.props.chats),(0,r.default)(this.props.contacts),(0,r.default)(this.props.groupChats.map(function(e){return e[0]})),(0,r.default)(this.state.ftsStarred),(0,r.default)(this.state.ftsMessages))}},{key:"scrollListIntoFocusedItem",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100;this.refList&&this.refList.scrollIntoViewIfNeeded(this.props.selection.index,e)}},{key:"focusFirst",value:function(){var e=this.uie;e&&e.activate(),this.props.selection.setFirst(),this.scrollListIntoFocusedItem(0),this.debouncedOpenSelected()}},{key:"onNextChat",value:function(e,t,a){e&&(e.preventDefault(),e.stopPropagation());var n=this.props.selection.next();this.props.selection.index!==n&&(this.props.selection.setNext(!0),this.focusComposer=a,this.scrollListIntoFocusedItem(),this.debouncedOpenSelected())}},{key:"onPrevChat",value:function(e,t,a){e&&(e.stopPropagation(),e.preventDefault()),this.props.selection.prev()>-1?(this.props.selection.setPrev(!0),this.focusComposer=a,this.scrollListIntoFocusedItem(),this.debouncedOpenSelected()):t||(this.debouncedOpenSelected.cancel(),this.openSelected(),this.props.onFocusSearch())}},{key:"getHeight",value:function(){var e=this.state.textsize,t=E.default.LIST_HEIGHT_TEXTSIZE_MAP.find(function(t){return t.scale===e});return t?t.height:72}},{key:"getData",value:function(){var e=this.props,t=e.chats,a=e.contacts,n=e.groupChats,i=e.isSearching,o=this.state,s=o.ftsStarred,d=o.ftsMessages,c=o.mutedChats,l=o.mutedChatsCollapsed,u=o.collapseMutedChatsEnabled,f=[];return i&&t.length>0&&f.push({itemKey:"section-chats",type:w.SEC_CHATS}),!i&&u?(c.length>0&&f.push({itemKey:"section-collapse-muted",contentKey:"".concat(String(l),"-").concat(c.length),type:w.SEC_MUTED_CHATS,height:30}),l||f.push.apply(f,(0,r.default)(c.map(function(e){return{itemKey:"chat-".concat(e.id.toString()),data:e,expanded:!l,type:D.ROW_CHATS}}))),f.push.apply(f,(0,r.default)(t.filter(function(e){return!e.mute.isMuted}).map(function(e){return{itemKey:"chat-".concat(e.id.toString()),data:e,type:D.ROW_CHATS}})))):f.push.apply(f,(0,r.default)(t.map(function(e){return{itemKey:"chat-".concat(e.id.toString()),data:e,type:D.ROW_CHATS}}))),i&&a.length>0&&f.push({itemKey:"section-contacts",type:w.SEC_CONTACTS}),f.push.apply(f,(0,r.default)(a.map(function(e){return{itemKey:"contact-".concat(e.id.toString()),data:e,type:D.ROW_CONTACTS}}))),i&&n.length>0&&f.push({itemKey:"section-groupchats",type:w.SEC_GROUPCHATS}),f.push.apply(f,(0,r.default)(n.map(function(e){return{itemKey:"groupchat-".concat(e[0].id.toString(),"-").concat(e[1].map(function(e){return e.id.toString()}).join("-")),data:e,type:D.ROW_GROUPCHATS}}))),i&&s.length>0&&f.push({itemKey:"section-starred",type:w.SEC_STARRED}),f.push.apply(f,(0,r.default)(s.map(function(e){return{itemKey:"starred-".concat(e.id.toString()),data:e,type:D.ROW_STARRED}}))),i&&d.length>0&&f.push({itemKey:"section-msg",type:w.SEC_MSG}),f.push.apply(f,(0,r.default)(d.map(function(e){return{itemKey:"msg-".concat(e.id.toString()),data:e,type:D.ROW_MSG}}))),f}},{key:"render",value:function(){var e=this,t={down:function(t){return e.onNextChat(t,!0)},j:function(t){return e.onNextChat(t,!0)},up:function(t){return e.onPrevChat(t,!0)},k:function(t){return e.onPrevChat(t,!0)},"/":function(t){return e.onFocusSearch(t)}};return p.createElement(R.default,{displayName:"Chatlist",ref:this.setRefUIE,state:R.default.State.PASSIVE,requestFocus:this.requestFocus},p.createElement(T.default,{handlers:t,onFocus:this.onFocusGain,onRef:this.setRefHotKeys,"data-tab":y.TAB_ORDERS.CHAT_LIST},p.createElement(A.default,{data:this.getData(),renderItem:this.renderItem,flatListController:this.props.flatListController,direction:"vertical",defaultItemHeight:this.getHeight(),onPointerEventsOff:this.onListPointerEventsOff,onPointerEventsOn:this.onListPointerEventsOn,ref:this.setRefList})))}},{key:"getActiveChat",value:function(){return b.default.toArray().find(function(e){return e.active})}},{key:"getGroupChatSubtitle",value:function(e){var t=e[1],a=e[0].groupMetadata.participants.map(function(e){return e.contact}),n=(0,h.default)(a,t),i=(0,f.default)(t,n).map(function(e){return e.formattedShortNameWithNonBreakingSpaces}).join(l10n.t(426)),r=P.Configuration.Search({terms:[this.props.searchQuery.trimmed]});return p.createElement(C.default,{text:i,formatters:r,titlify:!0,direction:"auto"})}}]),t}(p.Component);L.defaultProps={chats:[],groupChats:[]};var U=L;t.Component=U;var G=(0,N.default)((0,O.default)(L));t.default=G},cefgfgdhj:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var a,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3?arguments[3]:void 0,o=[];t.lastIndex=0;for(;(a=t.exec(e))&&t.lastIndex>0;)r&&(a=r(a,t)),a&&o.push((0,i.default)(a,n));return o};var i=n(a("cfjfcfhchg"))},cefjbaedhh:function(e,t){e.exports={footer:"_2s9K8",isMedia:"_1omJG",dirMismatch:"_1XawA"}},cefjgcjhgf:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.setLastReceivedKey=function(e,t){if(r.default.supportsFeature(r.default.F.MD_BACKEND))return i.default.merge(e.toString(),{lastReceivedKey:t});return Promise.resolve()};var i=n(a("begbbgieee")),r=n(a("bjbdcigbdi"))},cegfacfjjj:function(e,t){e.exports={container:"_1w7r7",centerChild:"_1V7b0",show:"_14WjA",image:"_1Wf2y"}},cegfhjajbg:function(e,t,a){"use strict";var n=a("cfjecfhbfg"),i=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return r.createElement("div",{className:o.default.border})};var r=i(a("ddhijeejag")),o=n(a("bgaeiiadg"))},ceggedffg:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2?arguments[2]:void 0;return function(n){function l(){return(0,i.default)(this,l),(0,o.default)(this,(0,s.default)(l).apply(this,arguments))}return(0,d.default)(l,n),(0,r.default)(l,null,[{key:"match",value:function(n){return(0,c.default)(n,e,t,a)}}]),l}(l.default)};var i=n(a("eaidjcib")),r=n(a("dgcdacjddi")),o=n(a("ffceefejc")),s=n(a("cjedcdbdii")),d=n(a("dbjagcfebh")),c=n(a("cefgfgdhj")),l=n(a("gjhhbhigc"))},ceghehfgdc:function(e,t){e.exports={screenshots:"_1tV1q",action:"_1T8rb",disabled:"_3yioW",screenshotPreview:"_2VDPW",screenshotsImg:"opM6t",btnDelete:"_3H9fr"}},ceghjibjjg:function(e,t){e.exports={nextButton:"x9mId",section:"_1eFDy"}},cehaihfgda:function(e,t){e.exports={newGroupButton:"_11p3Q"}},cehdgbej:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BoldedContactName=t.UntrustedGroupDesc=t.TrustedGroupDesc=t.FormattedNotification=t.RawNotification=t.ComposeBox=t.QuotedMention=t.Format=t.QuickReply=t.FTSMessage=t.LastMessage=t.Search=t.UntrustedConversation=t.TrustedConversation=t.Compatibility=t.StatusV3Caption=t.StatusV3Text=t.LargeEmojiOnly=t.EmojiOnly=void 0;var n=a("eehjjeabe");t.EmojiOnly=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).selectable;return[[[n.Emoji,{selectable:e}]]]};t.LargeEmojiOnly=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).selectable;return[[[n.Emoji,{selectable:e,size:"large"}]]]};t.StatusV3Text=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.links,a=e.selectable;return[[[n.Code,{selectable:a}]],[[n.Link,{links:t,selectable:a}]],[[n.Bold,{selectable:a}],[n.Italic,{selectable:a}],[n.Strikethrough,{selectable:a}]],[[n.Emoji,{selectable:a,size:"xlarge"}]]]};t.StatusV3Caption=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).selectable;return[[[n.Code,{selectable:e}]],[[n.Bold,{selectable:e}],[n.Italic,{selectable:e}],[n.Strikethrough,{selectable:e}]],[[n.Emoji,{selectable:e}]]]};t.Compatibility=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).selectable;return[[[n.Emoji,{selectable:e}]]]};t.TrustedConversation=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.mentions,a=e.links,i=e.selectable;return t?[[[n.Code,{selectable:i}]],[[n.Link,{links:a,selectable:i}]],[[n.Mention,{mentions:t,selectable:i}]],[[n.Bold,{selectable:i}],[n.Italic,{selectable:i}],[n.Strikethrough,{selectable:i}]],[[n.Emoji,{selectable:i}]]]:[[[n.Code,{selectable:i}]],[[n.Link,{links:a,selectable:i}]],[[n.Bold,{selectable:i}],[n.Italic,{selectable:i}],[n.Strikethrough,{selectable:i}]],[[n.Emoji,{selectable:i}]]]};t.UntrustedConversation=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.mentions,a=e.selectable;return t?[[[n.Code,{selectable:a}]],[[n.Mention,{mentions:t,selectable:a}]],[[n.Bold,{selectable:a}],[n.Italic,{selectable:a}],[n.Strikethrough,{selectable:a}]],[[n.Emoji,{selectable:a}]]]:[[[n.Code,{selectable:a}]],[[n.Bold,{selectable:a}],[n.Italic,{selectable:a}],[n.Strikethrough,{selectable:a}]],[[n.Emoji,{selectable:a}]]]};t.Search=function(e){var t=e.boundary,a=e.terms,i=e.selectable,r=e.mentions;return[[[n.TextMention,{mentions:r,selectable:i}]],[[n.Bold,{selectable:i}],[n.Italic,{selectable:i}],[n.Strikethrough,{selectable:i}]],[[n.Highlight,{terms:a,boundary:t,selectable:i,ignoreDiacritics:!0}]],[[n.Emoji,{selectable:i}]]]};t.LastMessage=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.mentions,a=e.selectable;return t?[[[n.Code,{selectable:a}]],[[n.TextMention,{mentions:t,selectable:a}]],[[n.Bold,{selectable:a}],[n.Italic,{selectable:a}],[n.Strikethrough,{selectable:a}]],[[n.Emoji,{selectable:a}]]]:[[[n.Code,{selectable:a}]],[[n.Bold,{selectable:a}],[n.Italic,{selectable:a}],[n.Strikethrough,{selectable:a}]],[[n.Emoji,{selectable:a}]]]};t.FTSMessage=function(e){var t=e.boundary,a=e.mentions,i=e.terms,r=e.selectable;return[[[n.Code,{selectable:r}]],[[n.TextMention,{mentions:a,selectable:r}]],[[n.Bold,{selectable:r}],[n.Italic,{selectable:r}],[n.Strikethrough,{selectable:r}]],[[n.Highlight,{terms:i,boundary:t,selectable:r}]],[[n.Emoji,{selectable:r}]]]};t.QuickReply=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).selectable;return[[[n.Code,{selectable:e}]],[[n.Bold,{selectable:e}],[n.Italic,{selectable:e}],[n.Strikethrough,{selectable:e}]],[[n.Emoji,{selectable:e}]]]};t.Format=function(e){var t=e.mentions,a=e.selectable;return[[[n.Code,{selectable:a}]],[[n.TextMention,{mentions:t,selectable:a}]],[[n.Bold,{selectable:a}],[n.Italic,{selectable:a}],[n.Strikethrough,{selectable:a}]],[[n.Emoji,{selectable:a}]]]};t.QuotedMention=function(e){var t=e.mentions,a=e.selectable;return[[[n.Code,{selectable:a}]],[[n.TextMention,{mentions:t,selectable:a,theme:{quoted:!0}}]],[[n.Bold,{selectable:a}],[n.Italic,{selectable:a}],[n.Strikethrough,{selectable:a}]],[[n.Emoji,{selectable:a}]]]};t.ComposeBox=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).selectable;return[[[n.Code,{selectable:e}]],[[n.Link,{selectable:e}]],[[n.Bold,{selectable:e}],[n.Italic,{selectable:e}],[n.Strikethrough,{selectable:e}]],[[n.Emoticon,{selectable:e}]]]};t.RawNotification=function(e){var t=e.mentions,a=e.selectable;return[[[n.RawMention,{mentions:t,selectable:a}]]]};t.FormattedNotification=function(e){var t=e.mentions,a=e.selectable;return[[[n.Code,{selectable:a}]],[[n.RawMention,{mentions:t,selectable:a}]],[[n.Bold,{selectable:a}],[n.Italic,{selectable:a}],[n.Strikethrough,{selectable:a}]]]};t.TrustedGroupDesc=function(e){var t=e.links;return[[[n.Code,{selectable:!0}]],[[n.Link,{links:t,selectable:!0}]],[[n.Bold,{selectable:!0}],[n.Italic,{selectable:!0}],[n.Strikethrough,{selectable:!0}]],[[n.Emoji,{selectable:!0}]]]};t.UntrustedGroupDesc=function(){return[[[n.Code,{selectable:!0}]],[[n.Bold,{selectable:!0}],[n.Italic,{selectable:!0}],[n.Strikethrough,{selectable:!0}]],[[n.Emoji,{selectable:!0}]]]};t.BoldedContactName=function(e){var t=e.selectable;return[[[n.BoldFirstWord,{selectable:t}]],[[n.Emoji,{selectable:t}]]]}},cehhcbdgih:function(e,t){e.exports={linkContainer:"_1Td9v",descContainer:"_1ODlg",icon:"_3M3Wb"}},cehjcbedfe:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=i(a("dfacahcafg")),u=n(a("ddhijeejag")),f=i(a("eceadcicaf")),h=i(a("cgfidiajgj")),p=a("dhjffabgfb"),g=i(a("bdjihaecid")),m=i(a("faeabghda")),b=i(a("dfcihdhibf")),v=function(e){function t(e){var a;return(0,r.default)(this,t),(a=(0,s.default)(this,(0,d.default)(t).call(this,e)))._handleFetchState=function(){a.forceUpdate()},a._handleRetryClick=function(){a.props.stickers.fetch(!0)},a._setRefScrollGrid=function(e){a._refScrollGrid=e},a._fetchStickers(a.props.stickers),a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentDidUpdate",value:function(e){var t=e.stickers,a=this.props.stickers;this._handleStickersChange(t,a)}},{key:"focus",value:function(e){this._refScrollGrid&&this._refScrollGrid.focus(e)}},{key:"_fetchStickers",value:function(e,t){this.props.listeners.add(e,"change:fetchState",this._handleFetchState),e.fetch(t)}},{key:"_handleStickersChange",value:function(e,t){if(e!==t){e&&this.props.listeners.remove(e,"change:fetchState",this._handleFetchState);var a=t.fetchState===p.FETCH_STATE.ERROR;this._fetchStickers(t,a),this._refScrollGrid&&this._refScrollGrid.scrollToTop()}}},{key:"render",value:function(){var e=this.props.stickers;if(e.fetchState===p.FETCH_STATE.ERROR)return this.props.renderError(this._handleRetryClick);if(!e.fetchState||e.fetchState===p.FETCH_STATE.PENDING){var t=h.default.getPlaceholder();return u.createElement("div",{className:m.default.container},(0,l.default)(24,function(e){return u.createElement(g.default,{key:e,sticker:t})}))}return u.createElement(b.default,{ref:this._setRefScrollGrid,onFocusPrev:this.props.onFocusPrev,onScroll:this.props.onScroll,onStickerClick:this.props.onStickerClick,onStickerEnter:this.props.onStickerEnter,stickers:this.props.stickers.toArray()})}}]),t}(u.PureComponent),j=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,(0,d.default)(t).apply(this,arguments))}return(0,c.default)(t,e),(0,o.default)(t,[{key:"focus",value:function(e){this.getComponent().focus(e)}}]),t}((0,f.default)(v));t.default=j},cehjjfagii:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=i(a("ceffhbhahb")),u=n(a("ddhijeejag")),f=i(a("cjaagagigi")),h=i(a("dbdfbgehgj")),p=i(a("bbchdeehff")),g=i(a("fifhbjiec")),m=i(a("bjbdcigbdi")),b=i(a("bdiiahhjbe")),v=i(a("ihfccfgdf")),j=i(a("djbfhebjhe"));function E(e,t,a){var n;if(a){var i=h.default.get(a);n=i?i.formattedTitle:l10n.t(524)}return t?"".concat(e,"  ").concat(l10n.t(1065)):n?"".concat(e,"  ").concat(n):e}var y=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).onClick=function(){h.default.find(a.props.msg.sender).then(function(e){p.default.openChatFromUnread(e).then(function(t){t&&p.default.focusChatTextInput(e)})})},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=this.props,t=e.msg,a=e.chat,n=e.contact,i=e.disableClick,r=e.displaySelf,o=e.quotedRemoteJid,s=e.albumId,d=a||t.chat;b.default.assert(d,"author-with-no-chat")();var c,h=d?d.assignedColor(t.sender):1,p=i?null:this.onClick,v=(0,l.default)(f.default.author,"color-".concat(h),{[f.default.hoverable]:p});if(r)c=u.createElement(g.default,{text:E(l10n.t(1459),t.isStatusV3,o)});else if(n.name)c=[u.createElement(g.default,{text:E(n.name,t.isStatusV3,o),className:f.default.name,key:"author",onClick:p})];else if(c=[u.createElement("span",{className:f.default.number,role:p?"button":null,key:"".concat(t.id.toString(),"-number"),onClick:p},E((0,j.default)(n.id),t.isStatusV3,o))],!t.isStatusV3){var y,_="".concat(s||t.id.toString(),"-push-name");n.notifyName?y=n.notifyName:m.default.supportsFeature(m.default.F.CONTACT_HAS_PUSHNAME)&&(y=n.pushname),c.push(u.createElement(g.default,{className:f.default.screenName,key:_,onClick:p,direction:"auto",ellipsify:!0,text:y}))}return u.createElement("div",{className:v,role:this.props.role||""},c)}}]),t}(u.PureComponent);y.CONCERNS={msg:["sender","chat","type","isLive","isStatusV3","id","quotedMsg"],contact:["id","name","notifyName","pushname"]};var _=(0,v.default)(y,y.CONCERNS);t.default=_},ceibefacih:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=i(a("hhegggegb")),u=n(a("ddhijeejag")),f=i(a("bbchdeehff")),h=i(a("baagejbchg")),p=a("dghhefgjhc"),g=i(a("djcchigfih")),m=i(a("djbhiedbef")),b=n(a("dajffajabh")),v=i(a("dbgdaechch")),j=i(a("bhhdeihhhf")),E=a("cicgeajfge"),y=n(a("cajijabhgb")),_=a("bgddggdhc"),S=i(a("ddajbaceej")),C=i(a("jheedhagg")),A=a("ejbdjaifi"),M=i(a("dhfbfehaef")),T=i(a("fffdgbfji")),P=i(a("eceadcicaf")),N=i(a("bdiiahhjbe")),I=a("bhfdfhefca"),k=i(a("bjbedjfe")),O=i(a("jcfhjhibi")),R=i(a("dcaibchbg")),w=i(a("becfabjeeg")),D=i(a("ddifaecacd")),L=i(a("iibcehaia")),U=i(a("bfdcadbbif")),G=i(a("djbecaeiae")),x=i(a("didfdhbecg"));var F=function(e){function t(e){var a;return(0,r.default)(this,t),(a=(0,s.default)(this,(0,d.default)(t).call(this,e))).msgRefs={},a.getInitialState=function(){var e=a.props.starredMsgs;return{cursor:O.default.create({msgCollection:e,type:h.default.RENDER_CURSOR.STARRED_DRAWER}).loadAfter(e,{count:h.default.MSG_PRELOAD_THRESHOLD})}},a.handleStarChange=function(e){a.initSelectionObjects(),a.forceUpdate()},a.initSelectionObjects=function(){var e=a.props.starredMsgs.toArray();a.currSelection.init(e,!0),a.activeSelection.init(e)},a.setRefMsgComponent=function(e,t){t?a.msgRefs[e.id.toString()]=t:delete a.msgRefs[e.id.toString()]},a.loadEarlierMsgs=function(){var e=a.state.cursor,t=a.props.chat&&a.props.chat.id,n=a.props.starredMsgs,i=n.models;if(e.getEnd(n)<i.length)a.setState({cursor:e.loadAfter(n)});else{if(n.isSynced)return;a.props.starredMsgs.sync(t).checkpoint(a.props.rejectOnUnmount()).then(function(){e.hasAfter(n)&&a.setState({cursor:e.loadAfter(n)})}).catch(y.Unmount,function(){}).catch(function(e){N.default.log("StarredDrawer:loadEarlierMsgs failed")(),N.default.log(e)()})}},a.onClose=function(){a.props.onClose?a.props.onClose():a.props.uim.uie.requestDismiss()},a.focus=function(){a.body&&S.default.focus((0,_.forbiddenAssertDOMNode)(a.body))},a.onFocusGain=function(e){a.body&&((e?e.target:document.activeElement)===(0,_.forbiddenAssertDOMNode)(a.body)&&(a.currSelection.index<0?a.currSelection.setFirst(!0):a.currSelection.reset(!1)))},a.onNextMsg=function(e){e&&(e.preventDefault(),e.stopPropagation());var t=a.currSelection.next();a.currSelection.index!==t&&a.currSelection.setNext(!0)},a.onPrevMsg=function(e){e&&(e.stopPropagation(),e.preventDefault()),a.currSelection.prev()>-1&&a.currSelection.setPrev(!0)},a.onScroll=function(e){a.handleScroll(e.currentTarget)},a._handleScroll=function(e){a.updateMsgListInfo(),function(e){return e.scrollTop+h.default.SCROLL_FUDGE>e.scrollHeight-e.clientHeight}(e)&&a.loadEarlierMsgs()},a.selectMsg=function(e){a.currSelection.setVal(e),a.activeSelection.setVal(e),f.default.openChatAt(e.chat,e.chat.getSearchContext(e)),f.default.focusShowMsg(e.id)},a.getMsgList=function(){var e=a.state.cursor,t=a.props.starredMsgs,n=t.toArray(),i=t.isSynced?e.getEnd(t):Math.min(e.getEnd(t),n.length);return n=n.slice(e.getStart(t),i),a.length=n.length,n},a.getMsgVisibility=function(e){if(!e)return h.default.VISIBILITY.BELOW;if(a.scrollContainer){var t=(0,_.forbiddenAssertDOMNode)(a.scrollContainer),n=t.previousSibling.clientHeight,i=t.scrollTop+n,r=i+t.clientHeight,o=(0,_.forbiddenAssertDOMNode)(e);return o?o.offsetTop+o.clientHeight<=i?h.default.VISIBILITY.ABOVE:o.offsetTop>=r?h.default.VISIBILITY.BELOW:h.default.VISIBILITY.VISIBLE:h.default.VISIBILITY.BELOW}},a.isMsgVisible=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return!!a.msgListInfo.visibleMsgs[e.toString()]&&(!!t||a.getMsgComponent(e))},a.getMsgComponent=function(e){var t=a.msgRefs[e.toString()];if(t){var n=t.getWrapperRef();return n&&"function"==typeof n.getMsgComponentRef?n.getMsgComponentRef():void 0}},a._updateMsgListInfo=function(){for(var e=a.getMsgList(),t={},n=0,i=a.length-1;n<i;){var r=Math.floor((n+i)/2),o=a.msgRefs[e[r].id.toString()];a.getMsgVisibility(o)===h.default.VISIBILITY.ABOVE?n=r+1:i=r}for(var s=n;s<e.length;s++){var d=a.msgRefs[e[s].id.toString()];if(a.getMsgVisibility(d)!==h.default.VISIBILITY.VISIBLE)break;t[e[s].id.toString()]=!0}a.pauseHiddenGifs(a.msgListInfo.visibleMsgs,t),a.msgListInfo.visibleMsgs=t},a.pauseHiddenGifs=function(e,t){for(var n in e)if(!t[n]){var i=a.props.starredMsgs.get(n);if(i&&i.isGif){var r=a.getMsgComponent(n);r&&r.playCount&&r.pause()}}},a.handleScroll=(0,l.default)(a._handleScroll,100),a.updateMsgListInfo=(0,l.default)(a._updateMsgListInfo,100),a.msgListInfo={visibleMsgs:{}},a.state=a.getInitialState(),a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"UNSAFE_componentWillMount",value:function(){this.currSelection=new R.default([],function(e){return e.id.toString()}),this.activeSelection=new R.default([],function(e){return e.id.toString()})}},{key:"componentDidMount",value:function(){var e=this;this.focus(),this.props.listeners.add(window,"resize",this.updateMsgListInfo),!this.props.starredMsgs.isSynced&&this.props.starredMsgs.length<h.default.PAGE_SIZE&&this.props.listeners.uiIdle(this.loadEarlierMsgs),this.props.listeners.add(this.props.starredMsgs,"reset sync",function(){e.initSelectionObjects(),e.forceUpdate()}),this.initSelectionObjects(),this.forceUpdate(),this.props.listeners.add(this.props.starredMsgs,"add remove",this.handleStarChange),this.onFocusGain(),this.props.listeners.add(this.props.starredMsgs,"reset",function(){e.msgListInfo={visibleMsgs:{}},e.setState(e.getInitialState()),e.loadEarlierMsgs()})}},{key:"componentWillUnmount",value:function(){this.handleScroll.cancel(),this.updateMsgListInfo.cancel()}},{key:"componentDidUpdate",value:function(){this.updateMsgListInfo()}},{key:"render",value:function(){var e,t,a=this,n=this.getMsgList(),i=this.state.cursor,r=this.props.starredMsgs,o=this.props.chat||null;if(t=r.isSynced&&i.getEnd(r)>=n.length?null:this.props.starredMsgs.syncPromise?u.createElement("div",{className:D.default.more,title:T.default.t(686)},u.createElement(w.default,{stroke:6,size:24})):u.createElement("div",{className:D.default.more},u.createElement("div",{title:T.default.t(683),onClick:this.loadEarlierMsgs},u.createElement(U.default,{name:"refresh"}))),n.length>0){var s=n.map(function(e){var t=e.type===h.default.MSG_TYPE.IMAGE||e.type===h.default.MSG_TYPE.VIDEO||e.type===h.default.MSG_TYPE.AUDIO;return u.createElement(L.default,{key:e.id.toString(),ref:function(t){a.setRefMsgComponent(e,t)},msg:e,isMsgVisible:t?a.isMsgVisible:function(){},currSelection:a.currSelection,activeSelection:a.activeSelection,onClickMsg:a.selectMsg})});e=u.createElement(x.default,{transitionName:"slide"},s)}else this.props.starredMsgs.isSynced?e=u.createElement(E.StarredMsgs,null):(e=u.createElement(E.Loading,null),t=null);var d={down:this.onNextMsg,up:this.onPrevMsg},c=n.length>0?u.createElement(I.MenuBarItem,{a8nText:"starred-menu",icon:u.createElement(U.default,{name:"menu-white"}),title:T.default.t(729)},u.createElement(B,{chat:o,msgs:n})):null;return u.createElement(g.default,{theme:"gallery"},u.createElement(M.default,{className:D.default.hotKeyWraper,handlers:d,onFocus:this.onFocusGain,"data-tab":p.TAB_ORDERS.CHAT_STARRED_DRAWER,ref:(0,A.GetRef)("body",this)},u.createElement(b.default,{title:T.default.t(1062),onBack:this.onClose,type:b.DRAWER_HEADER_TYPE.LARGE,menu:c}),u.createElement(m.default,{onScroll:this.onScroll,ref:(0,A.GetRef)("scrollContainer",this)},e,t)))}}]),t}(u.Component),B=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).sendUnstarAll=function(){f.default.openModal(u.createElement(G.default,{msgs:a.props.msgs,chat:a.props.chat}))},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=this.props.msgs;return u.createElement(v.default,{type:"dropdown_menu",flipOnRTL:!0,key:"StarredDrawerHeader",dirX:"LEFT"},u.createElement(j.default,{a8n:"mi-unstar-all menu-item",action:this.sendUnstarAll,disabled:0===e.length},T.default.t(1108)))}}]),t}(u.Component),V=(0,C.default)((0,k.default)((0,P.default)(F)));t.default=V},ceidifgdbd:function(e,t){e.exports={linkContainer:"_34HIO",activeLink:"_2JloB"}},ceigficjgj:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("djecdhecha")),l=i(a("dbjagcfebh")),u=n(a("ddhijeejag")),f=i(a("dgibicjjj")),h=a("cgejchjdhj"),p=a("bgddggdhc"),g=i(a("ddajbaceej")),m=a("ejbdjaifi"),b=n(a("dhfbfehaef")),v=i(a("dgiechcbec")),j=i(a("eceadcicaf")),E=i(a("degifadiej")),y=i(a("cbcbdjdah")),_=i(a("biecbbiiee")),S=i(a("bhheahajjg")),C=a("caijdggfg"),A=i(a("ihfccfgdf")),M=a("bheafeifce"),T=i(a("cbeecgcage")),P=a("hjbbdjjdf"),N=i(a("bcifhbgija")),I=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).onSearch=function(){a.setState({searchText:a.props.searchQuery.trimmed})},a.onActiveChange=function(e,t){if("focus"===e){var n=(0,p.forbiddenAssertDOMNode)((0,c.default)(a));g.default.focus(n),(0,h.scrollIntoViewIfNeeded)(n)}a.setState({active:!!e})},a.onClick=function(e){var t=a.props.onClick;if((0,P.isFunction)(t)){var n=a.props,i=n.msg,r=n.chat,o=_.default.assertGet(i.id),s=r.getSearchContext(o);s.msg=o,t(e,(0,M.unproxy)(r),s)}},a.onMouseDown=function(e){0===e.button&&a.onClick(e)},a.onEnter=function(e){e.preventDefault(),e.stopPropagation(),(0,b.shouldIndicateFocus)(),a.onClick(e)},a.indicateFocus=function(e){var t;e.stopPropagation(),e.preventDefault(),null===(t=a.cell)||void 0===t||t.indicateFocus(a.onBlur)},a.onBlur=function(e){var t=(0,p.forbiddenFindDOMNode)(a.cell);t&&((0,N.default)(t,"stop"),t.style.backgroundColor="")},a}return(0,l.default)(t,e),(0,o.default)(t,[{key:"UNSAFE_componentWillMount",value:function(){this.initListeners(this.props)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.initListeners(e,this.props)}},{key:"initListeners",value:function(e,t){var a=e.listeners,n=e.active,i=e.msg,r=e.searchQuery;t&&t.searchQuery&&t.searchQuery!==r&&a.remove(r,C.SEARCH_EVENT,this.onSearch),!r||t&&r===t.searchQuery||a.add(r,C.SEARCH_EVENT,this.onSearch);var o=t?t.msg.id:null;o&&!i.id.equals(o)&&(t&&t.active&&a.remove(t.active,t.msg.id.toString(),this.onActiveChange),n&&a.add(n,i.id.toString(),this.onActiveChange));var s=n&&n.value instanceof y.default&&n.value.id.equals(i.id);this.setState({searchText:r.trimmed,active:s})}},{key:"render",value:function(){var e=this.props,t=e.msg,a=e.chat,n=e.searchQuery,i=e.mouseDownAsClick,r=e.filterPreset,o=this.state.active,s=u.createElement(T.default,{msg:t}),d=u.createElement(v.default,{msg:t,msgType:"FTSMessage",searchQuery:n.highlighted}),c={enter:this.onEnter},l=t.labels;return(null==r?void 0:r.label)&&(0,E.default)(l,r.label),u.createElement(b.default,{handlers:c,onFocus:this.indicateFocus,onBlur:this.onBlur},u.createElement(f.default,{ref:(0,m.GetRef)("cell",this),contextEnabled:function(){return!1},theme:"chat-checkbox"===this.props.theme?"cell-message-checkbox":"cell-message",active:!!o,primary:u.createElement(S.default,{chat:a,labels:l,showLabel:!0,titlify:!0,ellipsify:!0}),primaryDetail:s,secondary:d,onClick:i?null:this.onClick,onMouseDown:i?this.onMouseDown:null}))}}]),t}(u.PureComponent);I.CONCERNS={msg:["id","isSentByMe","isGroupMsg","isNotification","senderObj","dir","rtl","type","labels"],chat:["id","isUser","contact","formattedTitle"]};var k=(0,j.default)((0,A.default)(I,I.CONCERNS));t.default=k},ceihfbbggi:function(e,t){e.exports={singleByte:["location","document","elapsed","revoke_invite","expiration","unsubscribe","disable"]}},ceijcbgdah:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){for(var t=[],a=0;a<e.length;++a)for(var n=0;n<e[a].length;++n){var r=(0,i.default)(e[a][n],2),o=r[0],s=r[1];t.push([o,s,a])}return t};var i=n(a("hbddjfeei"))},cejbjjbged:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RESPONSE_COMMAND=t.INVOCATION_COMMAND=t.HANDSHAKE_COMMAND=void 0;t.HANDSHAKE_COMMAND="@@handshake";t.INVOCATION_COMMAND="@@invoke";t.RESPONSE_COMMAND="@@response"},cejfhccbi:function(e,t,a){e.exports=function(){return new Worker(a.p+"91068d1a35f72d2a4a0d.js")}},cejheebceh:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=i(a("dddgijibah")),u=n(a("ddhijeejag")),f=i(a("bbchdeehff")),h=(i(a("baagejbchg")),a("bidfjbaebi")),p=i(a("cfhehaefih")),g=i(a("ihfccfgdf")),m=i(a("ciheehhei")),b=i(a("edbaidcaf")),v=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).onLinkClick=function(){var e=a.props.msg.matchedText;(0,h.openExternalLink)(e)},a.onSuspiciousLinkClick=function(e){f.default.openModal(u.createElement(m.default,{link:e}))},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.msg,n=t.displayType,i=t.invite,r=null;if(!i){r=b.default.hostname(a.canonicalUrl||a.matchedText);try{r=l.default.toUnicode(r)}catch(e){}}var o,s,d,c=a.getSuspiciousLinks().filter(function(e){var t=e.url;return a.matchedText===t});return c.length?d=function(){return e.onSuspiciousLinkClick(c[0])}:(o=a.description,s=a.thumbnail,d=this.onLinkClick),u.createElement(p.default,{canonicalUrl:r,description:o,displayType:n,invite:i,onClick:d,isSentByMe:a.isSentByMe,thumbnailJpeg:s,title:a.title,star:a.star})}}]),t}(u.PureComponent);v.CONCERNS={msg:["thumbnail","title","description","canonicalUrl","matchedText","isSentByMe","star"]};var j=(0,g.default)(v,v.CONCERNS);t.default=j},cfafieaaec:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=i(a("jcfacighg")),u=n(a("ddhijeejag")),f=i(a("cegfhjajbg")),h=i(a("dhbceejbjg")),p=i(a("dhigahgdjb")),g=i(a("cehaihfgda")),m=i(a("chdfbgffgh")),b=i(a("djcchigfih")),v=i(a("djbhiedbef")),j=n(a("dajffajabh")),E=a("cicgeajfge"),y=i(a("bggeiidigb")),_=i(a("ddajbaceej")),S=i(a("dgjddffcfg")),C=i(a("bjbdcigbdi")),A=n(a("dhfbfehaef")),M=i(a("dbciicjiad")),T=i(a("fdcfhecbj")),P=i(a("bfdcadbbif")),N=i(a("fbjjefaic")),I=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).state={searchText:""},a.setSearch=function(e){a.search=e},a.setRefList=function(e){a.refList=e},a.flatListController=new y.default,a.onSearch=function(e){a.searchText=e,a._onSearch(e)},a._onSearch=a.props.debounce(function(e){a.setState({searchText:e})},100),a.onFocusList=function(e){a.refList&&(e.preventDefault(),e.stopPropagation(),(0,A.shouldIndicateFocus)(),a.refList&&a.refList.focusFirst())},a.onSelectFirst=function(e){e.preventDefault(),e.stopPropagation();var t=a.frequentContacts[0];if(t)return(0,A.shouldIndicateFocus)(),void a.props.onClick(e,t);var n=a.getFilteredContacts(a.searchText)[0];n&&((0,A.shouldIndicateFocus)(),a.props.onClick(e,n))},a.onFocusSearch=function(){(0,A.shouldIndicateFocus)(),_.default.focus(a.search)},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){_.default.focus(this.search)}},{key:"getFilteredContacts",value:function(e){var t=e;if(p.default.ensureSorted(),!(t="string"==typeof t?t:this.state.searchText))return p.default.getFilteredContacts();var a=p.default.getFilteredContacts().concat(p.default.filter(function(e){return e.name&&!e.isMe&&!e.isPSA&&!e.isWAContact}));t=l10n.accentFold(t);var n=S.default.numberSearch(t);return a.filter(function(e){return e.searchMatch(t,n)})}},{key:"calculateFrequentContacts",value:function(){if(this.state.searchText||!C.default.supportsFeature(C.default.F.FREQUENT_CONTACTS))return[];var e=p.default.frequentContacts("message");return(0,l.default)(e)}},{key:"render",value:function(){var e,t=null,a=this.getFilteredContacts();if(this.frequentContacts=this.calculateFrequentContacts(),e=0===a.length?this.state.searchText?(0,E.SearchWithKeyword)(this.state.searchText):(0,E.SearchWithoutKeyword)():u.createElement(m.default,{ref:this.setRefList,contacts:a,flatListController:this.flatListController,frequentContacts:this.frequentContacts,onClick:this.props.onClick,onFocusSearch:this.onFocusSearch,showPersonGroupDivisionHeader:!!this.state.searchText}),!this.state.searchText){var n=u.createElement(T.default,null,u.createElement(P.default,{name:"new-group",directional:!0}));t=u.createElement("div",{"data-list-scroll-offset":!0},u.createElement("div",{className:g.default.newGroupButton},u.createElement(h.default,{image:n,primary:l10n.t(1306),onClick:this.props.onNewGroup}),u.createElement(f.default,null)))}var i={down:this.onFocusList};return u.createElement(b.default,{key:"contact-modal"},u.createElement(j.default,{title:this.props.title,type:j.DRAWER_HEADER_TYPE.LARGE,onBack:this.props.onBack}),u.createElement(A.default,{handlers:i},u.createElement(M.default,{ref:this.setSearch,onSearch:this.onSearch,onEnter:this.onSelectFirst,placeholder:l10n.t(1006)})),u.createElement(v.default,{flatListControllers:[this.flatListController]},t,e))}}]),t}(u.Component),k=(0,N.default)(I);t.default=k},cfbeeihgea:function(e,t,a){"use strict";var n=a("cfjecfhbfg"),i=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.msg,a=e.displayAuthor;return r.createElement(l.default,{msg:t,displayAuthor:a},r.createElement("div",{className:d.default.icon},r.createElement(c.default,{name:"unknown"})),r.createElement("div",{className:d.default.text},r.createElement(s.default,{msg:t,theme:"placeholder"},o.default.msgText(t))))};var r=i(a("ddhijeejag")),o=n(a("dgjddffcfg")),s=n(a("dbbbgjbbgf")),d=n(a("ijbagjdgc")),c=n(a("bfdcadbbif")),l=n(a("dbabefhajh"))},cfcdedaej:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=n(a("ddhijeejag")),u=i(a("bbchdeehff")),f=i(a("biddiiafgd")),h=i(a("bjigbaghc")),p=i(a("eceadcicaf")),g=i(a("bgeajihhc")),m=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).close=function(){0===h.default.tos&&u.default.closeModal()},a.logout=function(){u.default.closeModal(),g.default.logout()},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){this.props.listeners.add(h.default,"change:tos",this.close)}},{key:"render",value:function(){var e,t,a;switch(h.default.tos){default:case 1:e=l10n.t(1425),t=l10n.t(890),a=function(){return u.default.closeModal()};break;case 2:e=l10n.t(1426),t=l10n.t(718),a=this.logout}return l.createElement(f.default,{onOK:a,okText:t},e)}}]),t}(l.Component),b=(0,p.default)(m);t.default=b},cfchhaeaaf:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=n(a("ddhijeejag")),u=i(a("bhhdeihhhf")),f=i(a("ihfccfgdf")),h=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).pin=function(){var e=a.props,t=e.chat;(0,e.onPinOrUnpin)(!t.pin)},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=this.props,t=e.chat,a=e.disabled;return l.createElement(u.default,{a8n:"mi-pin",action:this.pin,key:"PinChat",disabled:a},null!=t.pin&&0!==t.pin?l10n.t(1104):l10n.t(914))}}]),t}(l.PureComponent);h.CONCERNS={chat:["pin"]};var p=(0,f.default)(h,h.CONCERNS);t.default=p},cfdejhjab:function(e,t){e.exports={"-overlay-border-right":"1px",overlayBorderRight:"1px","-overlay-border-left":"1px",overlayBorderLeft:"1px",footer:"_1N6pS",positioningContainer:"_3LVW7",overlayContainer:"_30sf0",blockCompose:"_2i7Ej",inputContainer:"_13mgZ",childPadding:"hnQHL",disabled:"_15S_w",btnSend:"_3M-N-"}},cfdfdbefea:function(e,t){e.exports={button:"_26IFT",buttonIcon:"k5AVL",nextButton:"_3qJWs",prevButton:"wF7YD",resizeContainer:"_2iLBO"}},cfedfiga:function(e,t){e.exports={imageWrapper:"_12ikd",msgImage:"_3j0rH",composeBox:"_2B8Xd",statusV3:"_3rn4N",image:"_2gKWQ"}},cfegbbcefd:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=n(a("ddhijeejag")),u=i(a("dbdfbgehgj")),f=i(a("bbchdeehff")),h=i(a("ihfccfgdf")),p=i(a("dahbdjdajd")),g=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).onClick=function(){var e=a.props.contact;u.default.find(e.id).then(function(e){return f.default.openChatBottom(e)})},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=this.props,t=e.contact,a=e.theme,n=e.selectable,i=t.isMe?void 0:this.onClick;return l.createElement(p.default,{contact:t,theme:a,selectable:n,onClick:i})}}]),t}(l.Component);g.CONCERNS={contact:["id","isMe"]};var m=(0,h.default)(g,g.CONCERNS);t.default=m},cfegjiegcd:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=n(a("ddhijeejag")),u=i(a("ejiicdbii")),f=i(a("cagcbeeaab")),h=i(a("dhigahgdjb")),p=i(a("bcbahjefec")),g=a("bgjddhffji"),m=i(a("gbbfhbhhc")),b=i(a("jheeiegi")),v=i(a("cadfgfddig")),j=i(a("djicifaabb")),E=a("dcbdjheea"),y=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).scrollOffset=0,a.setScrollOffset=function(e){a.scrollOffset=e},a.pushProductDetails=function(e,t){var n=a.props,i=n.chat,r=n.refreshCarousel,o=l.createElement(m.default,{chat:i,product:e,onEnd:a._end,onBack:a._popAndUpdate,onProductDetail:a.onProductDetail,onProductCatalog:a.onProductCatalogHeaderClick,onProductLinkClick:a._onProductLinkClick,refreshCarousel:r,sessionId:t});a.push(o)},a.pushProductDetailsWithDeepLink=function(e,t){var n=l.createElement(b.default,{chat:a.props.chat,productInfo:e,onEnd:a._end,onBack:a._pop,onProductDetail:a.onProductDetail,onProductCatalog:a.onProductCatalogHeaderClick,sessionId:t,onProductLinkClick:a._onProductLinkClick});a.push(n)},a.onProductDetail=function(e,t){a.pushProductDetails(e,t)},a.onProductCatalogHeaderClick=function(e,t){(0,g.logCarouselViewMoreClick)(e.toString(),t),a.pushProductCatalog(e,t)},a._onProductLinkClick=function(e){a.push(l.createElement(v.default,{product:e,onBack:a._pop}))},a._onCatalogLinkClick=function(e,t){a.push(l.createElement(f.default,{catalog:e,contact:t,onBack:a._pop}))},a._pop=function(){a.pop()},a._end=function(){a.end(!0)},a._popAndUpdate=function(){a.popAndUpdate({scrollOffset:a.scrollOffset})},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.catalogOwnerJid,a=e.product,n=e.productInfo,i=e.sessionId;if(t)this.pushProductCatalog((0,E.createWid)(t),i);else if(a)this.pushProductDetails(a,i);else{if(!n)throw new Error("ProductDetailsFlow:no-product");this.pushProductDetailsWithDeepLink(n,i)}}},{key:"pushProductCatalog",value:function(e,t){var a=this,n=h.default.gadd(e);u.default.find(e).then(function(i){var r=l.createElement(j.default,{contact:n,onProductDetail:a.onProductDetail,catalogId:e,onBack:a._pop,sessionId:t,businessProfile:i,setScrollOffset:a.setScrollOffset,onCatalogLinkClick:a._onCatalogLinkClick});a.push(r)})}}]),t}(p.default);t.default=y},cffajefeag:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("eaidjcib")),r=n(a("dgcdacjddi")),o=n(a("bjigbaghc")),s=n(a("bdiiahhjbe")),d=n(a("djfhifiigg")),c=n(a("jccfhaecf")),l=a("dcbdjheea"),u=a("bjbdcigbdi"),f=function(){function e(t){(0,i.default)(this,e);var a=t;if(!a)throw new Error("MsgKey error: obj is null/undefined");a.id instanceof e&&(a=a.id,s.default.error("MsgKey error: id is already a MsgKey")());var n,r,d,l,f,h,p,g=a.from&&a.to&&a.id,m=void 0!==a.fromMe&&a.remote&&a.id;if(!o.default.me)throw new Error("MsgKey error: Conn.me is undefined");if(g&&m)throw new Error("MsgKey error: unclear which constructor to use: "+JSON.stringify(a));if(!g&&!m)throw new Error("MsgKey error: don't have a matching constructor "+JSON.stringify(a));if(g){var b=a;if(n=b.from,r=b.to,d=b.id,l=b.participant,f=b.selfDir,!(n instanceof c.default)||!(r instanceof c.default)||l&&!(l instanceof c.default))throw new Error("MsgKey error: something's not a wid: from:".concat(String(n)," to:").concat(String(r)," p:").concat(String(l)));f=c.default.equals(n,r)?f:void 0,c.default.equals(n,r)&&c.default.equals(n,o.default.me)?(h="out"===f,p=o.default.me):c.default.equals(n,o.default.me)?(h=!0,p=r):c.default.equals(r,o.default.me)?(h=!1,p=n):c.default.equals(n,r)&&(c.default.isGroup(n)||c.default.isBroadcast(n))?(h=!0,p=n):s.default.error("MsgKey case error: "+[n,r,d,o.default.me].join())(),void 0!==h&&(this.fromMe=h),p&&(this.remote=p),d&&(this.id=d)}else if(m){var v=a;if(h=v.fromMe,p=v.remote,d=v.id,l=v.participant,!(p instanceof c.default)||l&&!(l instanceof c.default))throw new Error("MsgKey error: something's not a wid: remote:".concat(String(p)," p:").concat(String(l)));c.default.equals(o.default.me,p)&&(f=h?"out":"in"),void 0!==h&&(this.fromMe=h),p&&(this.remote=p),d&&(this.id=d)}var j=[this.fromMe,this.remote,this.id];void 0!==f&&(this.self=f,j.push(this.self)),(u.supportsFeature(u.F.KEY_PARTICIPANT)||u.supportsFeature(u.F.MD_BACKEND))&&void 0!==l&&(this.participant=l,j.push(this.participant)),this._serialized=j.join("_")}return(0,r.default)(e,[{key:"toString",value:function(){return this._serialized}},{key:"clone",value:function(){return new e({fromMe:this.fromMe,remote:this.remote,id:this.id,participant:this.participant})}},{key:"equals",value:function(t){return t instanceof e&&this.toString()===t.toString()}}],[{key:"fromString",value:function(t){var a=(0,d.default)(t),n=a.fromMe,i=a.remote,r=a.id,o=a.participant;return new e({fromMe:n,remote:(0,l.createWid)(i),id:r,participant:o?(0,l.createWid)(o):void 0})}}]),e}();t.default=f},cfffidafid:function(e,t,a){"use strict";var n=a("cfjecfhbfg"),i=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.getFiles=function(e,t){var a=e.target.files||e.dataTransfer&&e.dataTransfer.files,n=a?Array.from(a):[];if(t){var i="string"==typeof t?[t]:t,d=i.map(function(e){return new RegExp(e)});n=n.filter(function(e){return d.some(function(t){return e.type.match(t)})})}if(n.length)return Promise.resolve(n);var c=e.dataTransfer;if(c&&c.getData("text/uri-list"))return s.default.urlToFile(c.getData("text/uri-list")).then(function(e){return[(0,o.createFile)([e],"",{type:e.type})]});if(c&&c.getData("text/html")){var l=new DOMParser,u=l.parseFromString(c.getData("text/html"),"text/html");if(u.createNodeIterator(u.childNodes[0],NodeFilter.SHOW_TEXT).nextNode()){if(c.getData("text/plain")){var f=new r.MediaDragDropError("dropped html has text nodes: ".concat(c.getData("text/plain")));return Promise.reject(f)}}else{var h=u.getElementsByTagName("img");if(h.length)return s.default.urlToFile(h[0].src).then(function(e){return[(0,o.createFile)([e],"",{type:e.type})]})}}return Promise.resolve([])};var r=i(a("cajijabhgb")),o=a("cgffhfegce"),s=n(a("dgjacfgggf"))},cffhcdjiff:function(e,t){e.exports={notification:"_1_8_q",icon:"_3egzF"}},cffibfiejh:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=i(a("ceffhbhahb")),u=n(a("ddhijeejag")),f=i(a("djijjheei")),h=i(a("becfabjeeg")),p=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,(0,d.default)(t).apply(this,arguments))}return(0,c.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=this.props.className;return u.createElement("div",{className:(0,l.default)(f.default.container,e)},u.createElement(h.default,{size:50,stroke:3,color:"solidwhite"}))}}]),t}(u.Component);t.default=p},cfficaagef:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.BUBBLE_PADDING=t.MAX_DIM=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=i(a("ceffhbhahb")),u=n(a("ddhijeejag")),f=i(a("effbcehec")),h=i(a("cehjjfagii")),p=i(a("jhcabjcaf")),g=i(a("bfjbdahdag")),m=i(a("bbchdeehff")),b=i(a("baagejbchg")),v=a("bgiachiigg"),j=i(a("dfeecdfijg")),E=i(a("ecfbhafded")),y=a("ejbdjaifi"),_=i(a("bffjfbgbg")),S=i(a("eiiicijcj")),C=n(a("ecibddhig")),A=i(a("cieaeggjg")),M=i(a("bfbggcdbfb")),T=i(a("ihfccfgdf")),P=a("bheafeifce"),N=i(a("bfdcadbbif")),I=i(a("cbjacjjfgc")),k=i(a("ccfdaijebj")),O=parseInt(E.default["-width-picture-bubble-inner"].replace(/px$/,""),10);t.MAX_DIM=O;var R=parseInt(E.default["-padding-picture-bubble"].replace(/px$/,""),10);t.BUBBLE_PADDING=R;var w=O/5.4,D=3,L=6,U=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).state={playing:!1},a.playCount=0,a.pause=function(){a.playCount=0,a._pause()},a.play=function(e){var t=a.props.mediaData,n=a.playerRef;if(t.mediaStage===_.default.STAGE.RESOLVED&&n){e&&e.stopPropagation();var i=a.duration;if(null==i||0===i){var r=n.getDuration();null!=r?i=r:t.duration&&"0"!==t.duration&&(i=parseInt(t.duration,10))}if(null!=i&&0!==i){var o=Math.ceil(L/i);a.playCount=Math.max(o,D)}else a.playCount=D;a._play()}},a._pause=function(){a.setState({playing:!1}),a.playerRef&&a.playerRef.pauseAndReset()},a._play=function(){a.playerRef&&(a.playCount<=0?a.pause():(a.playCount-=1,a.state.playing||a.setState({playing:!0}),a.playerRef.play()))},a.showMediaMissing=function(){m.default.openModal(u.createElement(S.default,{msg:a.props.msg}))},a.getZoomNode=function(e){var t=a.props.isMsgVisible;if(!t)return null;var n=t(e);return n?n.getImgNode&&n.getImgNode():null},a.launchMediaViewer=function(e){e&&e.stopPropagation(),m.default.mediaViewerModal({msg:(0,P.unproxy)(a.props.msg),getZoomNode:a.getZoomNode})},a.downloadMedia=function(){a.props.msg.downloadMedia(!0,M.default.WEBC_RMR_REASON_CODE.MSG_CLICK)},a.cancelDownload=function(){a.props.msg.cancelDownload()},a.cancelUpload=function(){a.props.msg.cancelUpload()},a.resumeUpload=function(){a.props.msg.resumeUpload()},a.resumeRemoteUpload=function(){a.props.msg.resumeRemoteUpload()},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){this.props.msg.downloadMedia(!1,M.default.WEBC_RMR_REASON_CODE.MSG_RENDER)}},{key:"getStyle",value:function(){var e,t,a=this.props.mediaData,n=a.aspectRatio;if(!n)return{bubbleWidth:O,bubbleHeight:"100%",contentWidth:O,contentHeight:"100%"};n<1/5.4?(t=O,e=2.5*w):n<1?(t=O,e=O*n):n<5.4?(e=O,t=O/n):(e=O,t=w);var i=a.renderableUrl&&a.fullWidth||e,r=a.renderableUrl&&a.fullHeight||t;return i/r>e/t?(i=i*t/r,r=t):(r=r*e/i,i=e),r>O&&(r=O),{bubbleWidth:e,bubbleHeight:t,contentWidth:i,contentHeight:r}}},{key:"getFlexSize",value:function(e){var t,a,n=this.props.mediaData.aspectRatio,i=2.5*w;n>=1?e<O?(a=(t=e)/n)<w&&(a=w):(a=(t=O)/n)<w&&(a=w):((t=(a=O)*n)<i&&(t=i),e<O&&t>e&&(t=e));var r=t,o=a;return r/o>t/a?(r=r*a/o,o=a):(o=o*t/r,r=t),{bubbleWidth:t,bubbleHeight:a,contentWidth:r,contentHeight:o}}},{key:"getImgNode",value:function(){if(this.playerRef)return this.playerRef.underlyingVideo()}},{key:"render",value:function(){var e=this.props.msg,t=this.props.mediaData,a=t.preview?t.preview.url():void 0,n=null,i=null,r=null,o=this.getStyle();null!=this.props.maxWidth&&this.props.maxWidth<o.bubbleWidth&&(o=this.getFlexSize(this.props.maxWidth));var s=o,d=s.bubbleWidth,c=s.contentWidth,m=s.contentHeight;switch(t.mediaStage){case _.default.STAGE.RESOLVED:this.state.playing||this.playCount!==1/0&&(n=u.createElement(C.GifIcon,{onClick:this.play}));var S=t.aspectRatio>=1?{width:"auto",height:m}:{width:c,height:"auto"};r=u.createElement("div",{className:E.default.thumbVideo},u.createElement(k.default,{ref:(0,y.GetRef)("playerRef",this),src:t.renderableUrl,style:S,onEnded:this._play,muted:!0},l10n.t(1151))),i=this.launchMediaViewer;break;case _.default.STAGE.INIT:i=this.launchMediaViewer;break;case _.default.STAGE.FETCHING:n=u.createElement(C.PendingCancel,null),i=this.cancelDownload;break;case _.default.STAGE.NEED_POKE:n=u.createElement(C.Download,{filesize:t.size}),i=this.downloadMedia;break;case _.default.STAGE.UPLOADING:n=u.createElement(C.PendingCancel,null),i=this.cancelUpload;break;case _.default.STAGE.NEED_UPLOAD:n=u.createElement(C.Upload,{filesize:t.size}),i=this.resumeUpload;break;case _.default.STAGE.REMOTE_NEED_UPLOAD:n=u.createElement(C.Upload,{filesize:t.size}),i=this.resumeRemoteUpload;break;case _.default.STAGE.ERROR_MISSING:i=this.showMediaMissing;break;case _.default.STAGE.SENDING:n=e.isFailed?null:u.createElement(C.Pending,null);break;default:n=u.createElement(C.Pending,null)}var M,T=a?u.createElement("div",{className:E.default.thumbImage,style:{backgroundImage:"url(".concat(a,")")}}):null,P=e.caption?u.createElement("div",{className:E.default.caption,style:{maxWidth:d}},u.createElement(g.default,{msg:e,trusted:this.props.trusted})):null,O=P?null:u.createElement(I.default,null),w=this.props.displayAuthor&&!e.isSentByMe&&e.isGroupMsg,D=e.showForwarded(),L=(0,l.default)(E.default.bubble,{[E.default.hasCaption]:e.caption,[E.default.hasAuthor]:w,[E.default.forwarded]:D,[E.default.isPSA]:e.isPSA,[E.default.isGallery]:this.props.displayType===b.default.DISP_TYPE.STARRED_MSGS||this.props.displayType===b.default.DISP_TYPE.GALLERY,[E.default.isInfo]:this.props.displayType===b.default.DISP_TYPE.MSG_INFO}),U=w?u.createElement("div",{className:E.default.author},u.createElement(h.default,{msg:e,contact:e.senderObj})):null,x=D?u.createElement(j.default,{msg:e,className:E.default.forwardedIndicator}):null;switch(e.gifAttribution){case v.VIDEO_MESSAGE_ATTRIBUTION.GIPHY:M=u.createElement("div",{className:E.default.vendor},u.createElement(N.default,{name:"giphy"}));break;case v.VIDEO_MESSAGE_ATTRIBUTION.TENOR:M=u.createElement("div",{className:E.default.vendor},u.createElement(N.default,{name:"tenor"}));break;default:M=null}var F=this.props.quotedMsg?u.createElement("div",{className:E.default.quote},this.props.quotedMsg):null,B=u.createElement(u.Fragment,null,U,x,F,u.createElement("div",{"data-a8n":f.default.key("image-thumb-gif"),className:E.default.thumb,onClick:i,style:{width:c,height:m}},n,T,r,O,M),P,u.createElement("div",{className:E.default.meta},u.createElement(A.default,{msg:this.props.msg})));if(P)return u.createElement(p.default,{contact:e.senderObj,msg:e,className:L,onClick:G,style:{width:d}},B);var V=d+2*R;return u.createElement("div",{className:L,onClick:G,style:{width:V}},B)}}]),t}(u.PureComponent);function G(e){e.stopPropagation()}U.CONCERNS={msg:["id","ack","caption","isFailed","isPSA","isSentByMe","isGroupMsg","gifAttribution","senderObj"],mediaData:["aspectRatio","preview","duration","type","mediaStage","renderableUrl","fullWidth","fullHeight","size"]};var x=(0,T.default)(U,U.CONCERNS);t.default=x},cfgbadhada:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.auth,a=e.encFilehash,n=e.hostname,d=e.query,c=e.type,l=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?s(Object(a),!0).forEach(function(t){(0,i.default)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):s(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({auth:t,token:(0,o.default)(a)},d);return(0,r.default)({encFilehash:a,hostname:n,type:c,query:l})};var i=n(a("bhabhhjdch")),r=n(a("hefjgabce")),o=n(a("ebfbbaecji"));function s(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}},cfghbhcedd:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=n(a("ddhijeejag")),u=i(a("bhaigiibeh")),f=i(a("bcbahjefec")),h=a("ddgbhifaji"),p=a("dgfecega"),g=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).sendMedia=function(e){var t=e.getImg,n=e.caption,i=e.mentionedJidList,r=a.props.chat,o=r.composeQuotedMsg;r.composeQuotedMsg=null,(0,h.prepRawMedia)(t,{}).sendToChat(r,{caption:n,mentionedJidList:i,quotedMsg:o}),a.end()},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){var e=this;this.push(l.createElement(u.default,{onBack:function(){e.end()},chat:this.props.chat,caption:!0,layoutType:p.FIT_TYPE.CONTAIN,onSend:this.sendMedia,stream:this.props.stream}))}}]),t}(f.default);t.default=g},cfhcfebgda:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=n(a("ddhijeejag")),u=i(a("bbchdeehff")),f=i(a("biddiiafgd")),h=i(a("fifhbjiec")),p=i(a("ihfccfgdf")),g=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).onStop=function(){var e=a.props.chat.liveLocation;e&&e.stopMyLiveLocation(),u.default.closeModal()},a.onCancel=function(){u.default.closeModal()},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=this.props.chat,t=e.name,a=e.isGroup?l10n.t(93,{name:t}):l10n.t(94,{name:t});return l.createElement(f.default,{onOK:this.onStop,okText:l10n.t(675),onCancel:this.onCancel},l.createElement(h.default,{text:a}))}}]),t}(l.PureComponent);g.CONCERNS={chat:["name","isGroup","liveLocation"]};var m=(0,p.default)(g,g.CONCERNS);t.default=m},cfhehaefih:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t,a,n=e.canonicalUrl,i=e.compose,u=e.description,f=e.displayType,h=e.invite,p=e.onClick,g=e.isSentByMe,m=e.star,b=e.thumbnail,v=e.thumbnailJpeg,j=e.title,E=e.theme;null!=b?a=o.createElement("div",{className:c.default.media},b):v?a=o.createElement("img",{className:c.default.media,src:"data:image/jpeg;base64,"+v}):f===s.default.DISP_TYPE.GALLERY&&(a=o.createElement("div",{className:c.default.noThumbContainer},o.createElement(l.default,{className:c.default.noThumbIcon,name:"link"})));if(f===s.default.DISP_TYPE.GALLERY){var y=m?o.createElement(l.default,{className:c.default.iconStar,name:"star-light"}):null;t=o.createElement("div",{className:c.default.noThumbContainer},a,y)}else t=a;var _=null!=u?o.createElement("div",{className:c.default.description},"string"==typeof u?o.createElement(d.default,{text:u,titlify:!0}):u):null,S=n?o.createElement("div",{className:c.default.source},o.createElement(d.default,{text:n})):null,C=(0,r.default)(c.default.preview,{[c.default.isInvite]:f!==s.default.DISP_TYPE.GALLERY&&h,[c.default.isCompose]:i,[c.default.bubbleIn]:!g,[c.default.bubbleOut]:g,[c.default.extended]:"extended"===E});return o.createElement("div",{className:C,onClick:p},t,o.createElement("div",{className:c.default.body},o.createElement("div",{className:c.default.title,title:j},o.createElement(d.default,{text:j})),_,S))};var r=i(a("ceffhbhahb")),o=n(a("ddhijeejag")),s=i(a("baagejbchg")),d=i(a("fifhbjiec")),c=i(a("dajegcbgdi")),l=i(a("bfdcadbbif"))},cfhgffgbcb:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=n(a("ddhijeejag")),u=i(a("fidbefhib")),f=i(a("ebjaejiaba")),h=i(a("bbchdeehff")),p=i(a("baagejbchg")),g=i(a("biddiiafgd")),m=i(a("bcbahjefec")),b=i(a("bijffg")),v=a("bddhdheedf"),j=i(a("bdbcafgecc")),E=i(a("bfbggcdbfb")),y=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).newlyAddedLabels=new Set,a.logWamEvent=function(){var e=a.props.modelsToUpdate.length;a.labelViewType=1===e?a.props.modelsToUpdate[0]instanceof f.default?E.default.LABEL_TARGETS.LABEL_CHAT_DIALOG:E.default.LABEL_TARGETS.LABEL_MESSAGE_DIALOG:E.default.LABEL_TARGETS.LABEL_COMBINED_DIALOG,(0,v.logLabelOperationEvent)(E.default.LABEL_OPERATIONS.VIEW,e,a.labelViewType)},a.onLabelUpdateComplete=function(){a.props.onLabelUpdateComplete&&a.props.onLabelUpdateComplete(),a._pop()},a.onAddLabel=function(e,t){b.default.addNewLabel(e,t).then(function(){a.newlyAddedLabels.add(e)})},a.shouldScrollIntoViewAndSelect=function(e){return a.newlyAddedLabels.has(e)?(a.newlyAddedLabels.delete(e),{shouldScrollIntoView:!0,shouldSelect:!0}):{shouldScrollIntoView:!1,shouldSelect:!1}},a.onAddNewLabel=function(){b.default.toArray().length>=p.default.MAX_SMB_LABEL_COUNT?h.default.openModal(l.createElement(g.default,{okText:l10n.t(890),onOK:function(){return h.default.closeModal()}},l10n.t(1479,{count:p.default.MAX_SMB_LABEL_COUNT}))):a.push(l.createElement(u.default,{onAddLabel:a.onAddLabel,onCancel:a._pop}))},a.popAndLogEvent=function(){a.labelViewType&&(0,v.logLabelOperationEvent)(E.default.LABEL_OPERATIONS.CLICK_NEGATIVE,a.props.modelsToUpdate.length,a.labelViewType),a.pop()},a._pop=function(){a.pop()},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){this.logWamEvent(),this.push(l.createElement(j.default,{shouldScrollIntoViewAndSelect:this.shouldScrollIntoViewAndSelect,onAddNewLabel:this.onAddNewLabel,onLabelUpdateComplete:this.onLabelUpdateComplete,onCancel:this.popAndLogEvent,modelsToUpdate:this.props.modelsToUpdate}))}}]),t}(m.default);t.default=y,y.defaultProps={removeTopDrawer:!0,pushTransition:"none",popTransition:"none"}},cfifaahgae:function(e,t,a){"use strict";var n=a("cfjecfhbfg"),i=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.elementId;return document.queryCommandSupported("copy")?r.createElement(c.default,{a8nText:"li-copy-link",icon:r.createElement(l.default,{name:"copy",className:s.default.icon}),onClick:function(){return function(e){(0,d.default)(e)?o.default.openToast(r.createElement(u.default,{msg:l10n.t(647),id:(0,u.genId)()})):o.default.openToast(r.createElement(u.default,{msg:l10n.t(646),id:(0,u.genId)()}))}(t)}},l10n.t(365)):null};var r=i(a("ddhijeejag")),o=n(a("bbchdeehff")),s=n(a("dhdchbicac")),d=n(a("idecbbghf")),c=n(a("cabhjigfgc")),l=n(a("bfdcadbbif")),u=i(a("bfjajhbdf"))},cfigdibdj:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("bacehaajgh")),o=i(a("eaidjcib")),s=i(a("dgcdacjddi")),d=i(a("ffceefejc")),c=i(a("cjedcdbdii")),l=i(a("dbjagcfebh")),u=n(a("ddhijeejag")),f=i(a("bcbahjefec")),h=n(a("cjcffhicea")),p=i(a("bfgbdiffgd")),g=i(a("ebbghebbdh")),m=function(e){function t(){var e,a;(0,o.default)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=(0,d.default)(this,(e=(0,c.default)(t)).call.apply(e,[this].concat(i)))).confirmSendContacts=function(e){a.push(u.createElement(g.default,{contactList:e,onSend:function(){return a.sendContacts(e)},onBack:a._popNone,chat:a.props.chat}),"none"),a.contacts=e},a.sendContacts=function(e){var t=a.props.chat,n=t.composeQuotedMsg;1===e.length?t.sendContact(e[0],n):t.sendContactList(e,n),t.composeQuotedMsg=null,a.end()},a._getContacts=function(){return a.contacts},a._pop=function(){a.pop()},a._popNone=function(){a.pop("none")},a}return(0,l.default)(t,e),(0,s.default)(t,[{key:"componentDidMount",value:function(){var e=this.props.serverProps.maxParticipants;this.contacts=[],this.push(u.createElement(h.default,{title:l10n.t(1026),onCancel:this._pop,onConfirm:this.confirmSendContacts,getInitialItems:this._getContacts,listType:h.ListType.CONTACT_SELECT_MODAL,maxItems:e,allowBlockedContacts:!0}))}}]),t}(f.default);t.default=function(e){return u.createElement(m,(0,r.default)({},e,{serverProps:p.default}))}},cfiighfhhg:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("ceffhbhahb")),o=n(a("ddhijeejag")),s=i(a("dbbbgjbbgf")),d=i(a("cdfiibedj")),c=i(a("bfdcadbbif")),l=function(e){var t=e.hasCaption?e.children:o.createElement("div",{className:d.default.text},o.createElement(s.default,{msg:e.msg,theme:"placeholder"},e.children)),a=e.iconName?o.createElement("div",{className:d.default.icon},o.createElement(c.default,{name:e.iconName})):null;return o.createElement("div",{className:(0,r.default)(d.default.container,{[d.default.containerSmallIcon]:"small-icon"===e.theme})},a,t)};t.default=l},cfjfcfhchg:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=e.index,n=(0,i.default)(e,1)[0],r=a+n.length-1,o=[a,a,r,r,e];if(t){var s=e[t];o[1]=a+n.indexOf(s),o[2]=o[1]+s.length-1}return o};var i=n(a("hbddjfeei"))},cgabfhdfbj:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return t[e]()}},cgajhcgiji:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=i(a("ceffhbhahb")),u=n(a("ddhijeejag")),f=i(a("ecbgeejjjh")),h=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,(0,d.default)(t).apply(this,arguments))}return(0,c.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=null;switch(this.props.theme){case"upper":e=u.createElement("div",{key:"upper-shade",className:(0,l.default)(f.default.fullWidthShade,f.default.stripHeightShade,f.default.upperShade)});break;case"lower":e=u.createElement("div",{key:"lower-shade",className:(0,l.default)(f.default.fullWidthShade,f.default.stripHeightShade,f.default.lowerShade)});break;case"full-rounded":e=u.createElement("div",{key:"full-rounded-shade",className:(0,l.default)(f.default.fullWidthShade,f.default.fullHeightShade,f.default.roundedCorners)});break;case"full-sharp":e=u.createElement("div",{key:"full-sharp-shade",className:(0,l.default)(f.default.fullWidthShade,f.default.fullHeightShade)})}return e}}]),t}(u.PureComponent);t.default=h},cgbbacefei:function(e,t,a){"use strict";var n=a("cfjecfhbfg"),i=n(a("dgdjiicfdg")),r=n(a("bdiiahhjbe")),o=n(a("bhggeigghg")),s={queryNextLabelColor(){return this._queryLabelColor(!0)},queryLabelPalette(){return this._queryLabelColor()},createLabel(e,t){return this._createOrDeleteLabels("create",e,t)},deleteLabel(e){return this._createOrDeleteLabels("delete",void 0,void 0,e)},_queryLabelColor:function(e){var t=this,a=e?"next label color":"all label color palette";return new Promise(function(n,i){var o=t.queryNode({type:"label",kind:"color",create:e?"true":void 0});t.binSend("sendEphemeral",o,i,{onSend:t.binWrap(function(e){t.BinaryProtocol.read(e).then(function(e){var i={};if(r.default.logColor("green","bin-recv: response,".concat(a),e)(),"response"===t.N.tag(e)&&"label"===t.N.attr("type",e)){i.labelColors=[];var o=t.N.children(e);if(Array.isArray(o))for(var s=0;s<o.length;s++){var d=t.parseLabelColor(o[s]);d&&i.labelColors.push(d)}}n(i)}).catch(i)},n),onDrop:t.wrap(i)},{debugString:"query,".concat(a),metricName:e?"QUERY_NEXT_LABEL_COLOR":"QUERY_LABEL_PALETTE"})})},addOrRemoveLabels:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return new Promise(function(n,r){var s=t.wrap(n),d=e.map(function(e){return["label",{id:e.id,type:e.type},void 0]}),c=a.map(function(e){return e instanceof o.default.Chat.modelClass?["chat",{jid:e.id},void 0]:e instanceof o.default.Contact.modelClass?["contact",{jid:e.id},void 0]:e instanceof o.default.Msg.modelClass?["message",{index:e.id.id,owner:void 0===e.id.fromMe?void 0:e.id.fromMe.toString(),jid:e.id.remote},void 0]:void 0}),l=t.actionNode("set",[["label",{type:"update"},c.concat(d)]]);t.binSend("send",l,r,{onSend:s,onDrop:t.wrap(r)},{debugString:"action,label,remove or add",metricName:"ADD_OR_REMOVE_LABELS",expires:(0,i.default)().unix()})})},_createOrDeleteLabels:function(e,t,a,n){var r=this;if("delete"!==e&&"create"!==e)throw new Error("_createOrDeleteLabels must be called with type of delete or create");return new Promise(function(o,s){var d=r.wrap(o),c={type:e,name:t,color:a,id:n||void 0},l=r.actionNode("set",[["label",c,void 0]]);r.binSend("send",l,s,{onSend:d,onDrop:r.wrap(s)},{debugString:"action,label,create or delete",metricName:"CREATE_OR_DELETE_LABELS",expires:(0,i.default)().unix()})})},editLabel:function(e,t,a){var n=this;return new Promise(function(r,o){var s=n.wrap(r),d={id:e,name:t||void 0,color:a||void 0,type:"update"},c=n.actionNode("set",[["label",d,void 0]]);n.binSend("send",c,o,{onSend:s,onDrop:n.wrap(o)},{debugString:"action,label,edit",metricName:"EDIT_LABELS",expires:(0,i.default)().unix()})})},parseLabelColor:function(e){if("label"===this.N.tag(e)){var t=this.N.attr("color",e),a={color:t},n=[!t];return this.dropIfConditionMet(n,a)}}};e.exports=s},cgbdcdhgig:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.markPlayed=function(e){return function(e){l(e)?(0,d.default)(e).then(function(){e.ack=i.default.ACK_PLAYED}).catch(r.WapDrop,function(){}):s.default.log("Msg:msg should not call sendPlayed")()}((0,c.unproxy)(e))},t.canMarkPlayed=function(e){return l((0,c.unproxy)(e))};var i=n(a("baagejbchg")),r=a("ddjgcfjicj"),o=n(a("bjbdcigbdi")),s=n(a("bdiiahhjbe")),d=n(a("ccffgjicjj")),c=a("bheafeifce");function l(e){return!e.isSentByMe&&(!(e.ack>=i.default.ACK_PLAYED)&&("ptt"===e.type||"video"===e.type&&!e.isGif&&o.default.supportsFeature(o.default.F.VIDEO_PLAYED_STATUS)))}},cgbdhdjdcf:function(e,t,a){e.exports=a.p+"bryndan_write_20e48b2ec8c64b2a1ceb5b28d9bcc9d0.ttf"},cgbdjhghfb:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg"),r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=n(a("ddhijeejag")),u=i(a("cajbicccif")),f=i(a("dabbhadeic")),h=i(a("bbchdeehff")),p=i(a("biddiiafgd")),g=i(a("bjigbaghc")),m=i(a("dhhfaeacef")),b=n(a("dbgdaechch")),v=i(a("bhhdeihhhf")),j=i(a("bjbdcigbdi")),E=i(a("chcdheijc")),y=i(a("eceadcicaf")),_=a("bhfdfhefca"),S=i(a("biecbbiiee")),C=i(a("dagdiahdfi")),A=i(a("icadbbfej")),M=i(a("daijadgha")),T=i(a("bajidgjehj")),P=i(a("dhefcajhhb")),N=i(a("icaahcghc")),I=i(a("ceibefacih")),k=i(a("djfhiceeje")),O=i(a("ihfccfgdf")),R=i(a("gbbacfeci")),w=i(a("egfffcbhi")),D=i(a("bfdcadbbif")),L=i(a("fbjjefaic")),U=n(a("bfjajhbdf")),G=i(a("egjjcjcg")),x=i(a("didfdhbecg")),F=i(a("bgeajihhc")),B=function(e){function t(){var e;return(0,r.default)(this,t),(e=(0,s.default)(this,(0,d.default)(t).apply(this,arguments))).onWindowFocus=function(){},e.onMouseDown=function(){},e.onDrag=function(t){e.didDrag=!0},e.onClickCapture=function(e){},e.onNewChat=function(e){e.preventDefault(),h.default.openDrawerLeft(l.createElement(A.default,null))},e.onProfile=function(){var e=R.default.assertGet(g.default.me),t=P.default.assertGet(g.default.me);h.default.openDrawerLeft(l.createElement(T.default,{status:e,profilePicThumb:t,conn:g.default}))},e.onUnmute=function(){C.default.globalMute().unmute(),h.default.openToast(l.createElement(U.default,{msg:l10n.t(521),id:(0,U.genId)()}))},e.state={},e}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=null;this.props.mute.isMuted&&(e=l.createElement(_.MenuBarItem,{a8nText:"menu-bar-unmute",icon:l.createElement(D.default,{name:"dnd"}),title:l10n.t(520),onClick:this.onUnmute,key:"btn-dnd"}));var t=null;return j.default.supportsFeature(j.default.F.STATUS_V3_UI_VIEWING)&&(t=l.createElement(w.default,null)),l.createElement("header",{className:f.default.header,onMouseDown:this.onMouseDown,onClickCapture:this.onClickCapture},l.createElement("div",{className:f.default.listUser},l.createElement(m.default,{id:g.default.me,size:40,onClick:this.onProfile})),l.createElement("div",{className:f.default.listControls},l.createElement(_.MenuBar,{key:"chatlist-header"},l.createElement(x.default,{transitionName:"btn"},e,t,l.createElement(_.MenuBarItem,{a8nText:"menu-bar-chat",icon:l.createElement(D.default,{name:"chat",directional:!0}),title:l10n.t(1309),onClick:this.onNewChat}),l.createElement(_.MenuBarItem,{a8nText:"menu-bar-menu",icon:l.createElement(D.default,{name:"menu"}),title:l10n.t(729)},l.createElement(V,null))))))}}]),t}(l.Component);B.CONCERNS={mute:["isMuted"]},e.exports=(0,L.default)((0,y.default)((0,O.default)(B,B.CONCERNS)));var V=function(e){function t(){var e;return(0,r.default)(this,t),(e=(0,s.default)(this,(0,d.default)(t).apply(this,arguments))).onCreateGroup=function(){h.default.openDrawerLeft(l.createElement(M.default,null))},e.onProfile=function(){var e=R.default.assertGet(g.default.me),t=P.default.assertGet(g.default.me);h.default.openDrawerLeft(l.createElement(T.default,{status:e,profilePicThumb:t,conn:g.default}))},e.onDisconnect=function(){if(!S.default.some(function(e){return 0===e.ack&&e.local&&e.isSentByMe}))return F.default.logout();h.default.openModal(l.createElement(p.default,{title:l10n.t(336),onOK:function(){return F.default.logout()},okText:l10n.t(718),onCancel:function(){return h.default.closeModal()},cancelText:l10n.t(1197)},l10n.t(1059)))},e.onArchived=function(){h.default.openDrawerLeft(l.createElement(u.default,null))},e.onSettings=function(){h.default.openDrawerLeft(l.createElement(N.default,null))},e.onStarred=function(){h.default.openDrawerLeft(l.createElement(I.default,{starredMsgs:k.default}))},e.onLabel=function(){h.default.openDrawerLeft(l.createElement(E.default,null))},e.state={rememberMe:G.default.getRememberMe()},e}return(0,c.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=l.createElement(v.default,{a8n:"mi-new-group menu-item",action:this.onCreateGroup},l10n.t(1306)),t=l.createElement(v.default,{a8n:"mi-starred menu-item",action:this.onStarred},l10n.t(726)),a=null;j.default.supportsFeature(j.default.F.LABELS_EDIT)&&(a=l.createElement(v.default,{a8n:"mi-setting menu-item",action:this.onLabel},l10n.t(643)));var n=l10n.t(723);return l.createElement(b.default,{type:"dropdown_menu",flipOnRTL:!0,key:"ChatlistHeader",dirX:b.DirX.LEFT},e,l.createElement(v.default,{a8n:"mi-profile-status menu-item",action:this.onProfile},n),l.createElement(v.default,{a8n:"mi-archived menu-item",action:this.onArchived},l10n.t(713)),t,a,l.createElement(v.default,{a8n:"mi-setting menu-item",action:this.onSettings},l10n.t(725)),l.createElement(v.default,{a8n:"mi-logout menu-item",action:this.onDisconnect},l10n.t(718)))}}]),t}(l.Component)},cgbfcjgjcf:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.ProductThumbPlaceholder=b,t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=i(a("ceffhbhahb")),u=n(a("ddhijeejag")),f=a("ejbdjaifi"),h=i(a("bffjfbgbg")),p=i(a("dhgfhcggji")),g=i(a("ihfccfgdf")),m=i(a("bfdcadbbif"));function b(e){var t=e.onClick,a=e.className;return u.createElement("div",{className:(0,l.default)(a,p.default.mediaCanvas,p.default.placeholder),onClick:t},u.createElement(m.default,{name:"business-description"}))}var v=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,(0,d.default)(t).apply(this,arguments))}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){this.props.imgRef&&this.props.imgRef(this.img)}},{key:"componentWillUnmount",value:function(){this.props.imgRef&&this.props.imgRef(null)}},{key:"render",value:function(){var e,t=this.props,a=t.mediaData,n=t.theme,i=t.active,r=t.onClick;e=a.mediaStage===h.default.STAGE.RESOLVED?u.createElement("div",{className:p.default.mediaCanvas,style:{backgroundImage:"url(".concat(a.renderableUrl,")")},onClick:r,ref:(0,f.GetRef)("img",this)}):a.mediaStage===h.default.STAGE.PREPARING?u.createElement(b,{className:this.props.className,onClick:this.props.onClick}):a.mediaStage===h.default.STAGE.ERROR_MISSING?null:u.createElement("div",{className:p.default.mediaCanvas});var o=(0,l.default)(this.props.className,{[p.default.canvasSecondRow]:"hideableSecondRow"===n,[p.default.canvasComponent]:"list"!==n,[p.default.list]:"list"===n,[p.default.viewerFlow]:"viewerFlow"===n,[p.default.active]:!0===i});if(this.props.large)return u.createElement("div",{className:p.default.canvasComponentLarge},e);var s=u.createElement("div",{className:o},u.createElement("div",{className:p.default.canvasBody}),e);return"list"===n?u.createElement("div",{className:p.default.listWrapper},s):s}}]),t}(u.Component);v.CONCERNS={mediaData:["mediaStage","mediaBlob","renderableUrl","preview"]};var j=(0,g.default)(v,v.CONCERNS);t.default=j},cgbgedjgag:function(e,t){e.exports={actionBtns:"pTuis",newLabelBtn:"_1Lre5",plus:"R8Aiw"}},cgcgbfbffj:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"CACHE_POLICY",{enumerable:!0,get:function(){return m.CACHE_POLICY_TYPE}}),t.default=void 0;var r=i(a("bhabhhjdch")),o=i(a("eaidjcib")),s=i(a("dgcdacjddi")),d=i(a("ffceefejc")),c=i(a("djecdhecha")),l=i(a("cjedcdbdii")),u=i(a("bjehdcaaj")),f=i(a("dbjagcfebh")),h=i(a("cifjgjcead")),p=i(a("jcfacighg")),g=i(a("cbjgdhddc")),m=a("dbjfahieed"),b=n(a("dfhjacfbjg")),v=i(a("fcedgihic")),j=i(a("bjigbaghc")),E=a("ddjgcfjicj"),y=n(a("cajijabhgb")),_=i(a("bdiiahhjbe")),S=i(a("dcdiaahjj")),C=a("hjbbdjjdf"),A=i(a("egjjcjcg")),M=n(a("bgeajihhc"));function T(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}var P="QUERY",N="FIND",I="UPDATE",k=(new Object).toString(),O={id:"none",policy:m.CACHE_POLICY_TYPE.NONE},R=function(e){function t(){var e;return(0,o.default)(this,t),(e=(0,d.default)(this,(0,l.default)(t).call(this)))._inflight={},e._cachePolicy=(0,m.createCachePolicy)((0,c.default)(e),e.constructor.cachePolicy||O),e._staleCollection=e.constructor.staleCollection||!1,e._resumeOnAvailable=e.constructor.resumeOnAvailable||!1,(!0===e._staleCollection||(0,C.isFunction)(e.onResume))&&(e.listenTo(M.default,"change:stream",e._handleStreamChange),e.listenTo(M.default,"didResume",e._onResume),e._resumeOnAvailable&&e.listenTo(S.default,"change:available",function(){S.default.available&&e._needsUpdate&&e._onResume()})),e._cachePolicy.enableCaching(),e._cachePolicy.constructor.policy===m.CACHE_POLICY_TYPE.LOAD&&e.listenTo(j.default,"change:me",e._updateFromCache),e}return(0,f.default)(t,e),(0,s.default)(t,[{key:"initializeFromCache",value:function(e){this.add(e)}},{key:"saveToCache",value:function(){if(j.default.me){var e=this._cachePolicy.id;_.default.log("baseCollection:saveToCache save: ".concat(String(e)))(),A.default.setCollection(e,this.toJSON(),this._cachePolicy.constructor.policy===m.CACHE_POLICY_TYPE.IMMEDIATE)}}},{key:"add",value:function(e,a){var n=this;if(e){if(j.default.blockStoreAdds)throw new E.LogoutDrop("adding to store when blocking store adds");var i=Array.isArray(e)?e:[e];if(i.every(function(e){return e&&e.isState})){var r=(0,g.default)(i,function(e){return n.get(e.id)});return r.length&&(0,u.default)((0,l.default)(t.prototype),"add",this).call(this,r,a),i}}return(0,u.default)((0,l.default)(t.prototype),"add",this).call(this,e,a)}},{key:"findQuery",value:function(e,t){return this._query(P,e,t)}},{key:"find",value:function(e,t){return e?this._query(N,e,t):(b.upload(_.default.trace("Called find without an id")),Promise.reject("called find without an id"))}},{key:"update",value:function(e,t){return e?this._query(I,e,t):(b.upload(_.default.trace("Called update without an id")),Promise.reject("called update without an id"))}},{key:"handle",value:function(e){var t=this._handle(e.shift());if(this._staleCollection){var a=Array.isArray(t)?t:[t];(0,p.default)(a).forEach(function(e){e.stale=!1})}this.add(t,{merge:!0})}},{key:"gadd",value:function(e,t){if(this.modelClass.prototype.isIdType(e)){var a=this.get(e);if(a)return a;var n={id:e};return this.add(n,t)[0]}if(e&&e.id){var i=t||{};return i.merge=!0,this.add(e,i)[0]}throw new Error("gadd called without an id attr (id)")}},{key:"gaddUp",value:function(e){var t,a=this._staleCollection;if(this.modelClass.prototype.isIdType(e)){var n={stale:a,id:e};t=this.get(e)||this.add(n,{merge:!0})[0]}else e&&e.id&&(this.get(e.id)&&(a=!1),e=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?T(Object(a),!0).forEach(function(t){(0,r.default)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):T(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({stale:a},e),t=this.add(e,{merge:!0})[0]);if(t)return t.stale&&this.find(t.id).catch(E.WapDrop,function(){}),t;throw new Error(".gaddUp called without an id attr (id)")}},{key:"delete",value:function(){this._inflight={},this.reset()}},{key:"isStateStale",value:function(e){var t=this.get(e);return!!t&&t.stale}},{key:"_handleResume",value:function(){switch(M.default.stream){case M.STREAM.DISCONNECTED:if(!this._staleCollection)return;this.forEach(function(e){e&&(e.stale=!0)});break;case M.STREAM.RESUMING:case M.STREAM.SYNCING:case M.STREAM.CONNECTED:}}},{key:"_onResume",value:function(){(0,C.isFunction)(this.onResume)&&(this._resumeOnAvailable&&!S.default.available?this._needsUpdate=!0:(this.onResume(),this._needsUpdate=!1))}},{key:"_query",value:function(e,t,a){var n=this,i=(0,C.isString)(t)?t:t.toString();i===k&&(i=(0,h.default)("collection_query_"));var r=e===P?void 0:this.get(t),o="force-"+i;return(this._inflight[o]&&e===N||e===I)&&(i=o),this._inflight[i]?e===N&&r&&!r.stale?Promise.resolve(r):this._inflight[i]:!r||r&&r.stale||e===I?this._inflight[i]=this._serverQuery(e,t,a).finally(function(){delete n._inflight[i]}).catch(E.LogoutDrop,function(e){_.default.error(e.toString())(e)}).catch(C.isString,function(e){_.default.log("baseCollection:query query promise rejected: "+String(e))()}).catch(E.WapDrop,function(e){throw _.default.warn(e.toString())(),e}):Promise.resolve(r)}},{key:"_serverQuery",value:function(e,t,a){var n,i=this;if(e===I)n=this._update(t);else if(e===N)n=this._find(t);else{var r=a&&a.logOnSend;n=this._findQuery(t,r)}return n.then(function(e){if(i._staleCollection){var t=Array.isArray(e)?e:[e];(0,p.default)(t).forEach(function(e){void 0===e.stale&&(e.stale=!1)})}var n;if(n=a&&a.set?i.set(e):i.add(e,{merge:!0}),Array.isArray(e))return n;if(n[0])return n[0];throw new y.ModelCreateError("Unknown",e)})}},{key:"_update",value:function(e){return this._find(e)}},{key:"_handleStreamChange",value:function(){this._handleResume(),this._cachePolicy.constructor.policy===m.CACHE_POLICY_TYPE.LOAD&&this._updateFromCache()}},{key:"_updateFromCache",value:function(){var e=this._cachePolicy.id;this._cachePolicy.disableCaching(),j.default.me&&(_.default.log("baseCollection:initFromCache load: ".concat(String(e)))(),this.initializeFromCache(A.default.getCollection(e)),this._cachePolicy.enableCaching())}}]),t}(v.default);t.default=R},cgcgefjeah:function(e,t){e.exports={dimmed:"W1iiE"}},cgchdicacf:function(e,t){e.exports={conversation:"lp3Gs",placeholder:"_1g3ta",composeBoxQuoted:"_3a9fe",quoted:"_1G7oM",stickerPanel:"n9kOx",clickable:"_1VqBB",hide:"_1PrrL"}},cgddafdgie:function(e,t,a){"use strict";var n=a("cfjecfhbfg"),i=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.addAndSendMsgToChat=function(e,t,a){return function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,n=Promise.resolve(t).then(function(t){return(0,o.appendMessage)(e.id,t).then(function(){var e=c.default.Msg.add(t)[0];if(e)return e.waitForPrep().then(function(){return e});throw new r.ModelCreateError("Msg",t)})}),i=e.addQueue.enqueue(n).then(function(t){return e.msgs.add(t)[0]}),s=a?i.then(a).then(function(){return i}):i,d=l(e,s);return[i,d]}((0,d.unproxy)(e),t,a)},t.sendMsgToChat=function(e,t){return l((0,d.unproxy)(e),t)};var r=i(a("cajijabhgb")),o=a("ecdfgaagba"),s=a("bdgehigfig"),d=a("bheafeifce"),c=n(a("bhggeigghg"));function l(e,t){return e.sendQueue.enqueue(t).then(function(e){return(0,s.sendMsgRecord)(e)})}},cgdfjifbb:function(e,t,a){"use strict";var n=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0});var i={};Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r.default}});var r=n(a("cdhedbceeh"));Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(i,e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}}))})},cgebaggcga:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=i(a("ceffhbhahb")),u=n(a("ddhijeejag")),f=i(a("dgibicjjj")),h=i(a("cfadcbbiie")),p=i(a("bjbdcigbdi")),g=i(a("bfgbdiffgd")),m=i(a("ihfccfgdf")),b=i(a("cgcgefjeah")),v=i(a("gdhdegbhg")),j=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,(0,d.default)(t).apply(this,arguments))}return(0,c.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e,t=this.props,a=t.statusV3,n=t.contact,i=(0,l.default)({[b.default.dimmed]:n.statusMute});return e=g.default.statusRanking&&p.default.supportsFeature(p.default.F.STATUS_RANKING)?a.hasUnread?l10n.t(1074,{count:a.unreadCount,_plural:a.unreadCount}):l10n.t(1073,{count:a.totalCount,_plural:a.totalCount}):h.default.relativeDateAndTimeStr(a.t),u.createElement(f.default,{className:i,key:a.id.toString(),customImage:!0,theme:"status-list",image:u.createElement(v.default,{statusV3:a,contact:n,onClick:this.props.onClick}),primary:n.formattedName,secondary:e,onClick:this.props.onClick,contextEnabled:function(){return!1}})}}]),t}(u.PureComponent);j.CONCERNS={statusV3:["id","t","hasUnread","unreadCount","totalCount","contact"],contact:["formattedName","statusMute"]};var E=(0,m.default)(j,j.CONCERNS);t.default=E},cgecdbiihg:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.YOUTUBE_URL_TIME_PARAM_PATTERN=t.YOUTUBE_URL_TIME_PARAM_NAME=t.URL_PATTERNS=t.YOUTUBE_VIDEO_DEFAULT_ASPECT_RATIO=t.PLAYER_TYPE=void 0;t.PLAYER_TYPE={FLOATER:"FLOATER",OG_FLOATER:"OG_FLOATER",MEDIA_VIEWER:"MEDIA_VIEWER"};t.YOUTUBE_VIDEO_DEFAULT_ASPECT_RATIO=16/9;t.URL_PATTERNS={ONLINE_VIDEO_URL:{YOUTUBE:[/^https?:\/\/youtu\.be\/(.{11})/,/^https?:\/\/www\.youtube\.com\/watch\?v=(.{11})/,/^https?:\/\/m\.youtube\.com\/watch\?v=(.{11})/]}};t.YOUTUBE_URL_TIME_PARAM_NAME="t";t.YOUTUBE_URL_TIME_PARAM_PATTERN=/^(\d+h)?(\d+m)?(\d+s)?(\d+)?$/},cgejbjhjej:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"FETCH_STATE",{enumerable:!0,get:function(){return p.FETCH_STATE}}),t.default=void 0;var i=n(a("bhabhhjdch")),r=n(a("eaidjcib")),o=n(a("dgcdacjddi")),s=n(a("ffceefejc")),d=n(a("cjedcdbdii")),c=n(a("djecdhecha")),l=n(a("dbjagcfebh")),u=n(a("ccjgiajgj")),f=a("dhjffabgfb"),h=n(a("bihdhbjih")),p=a("dhjffabgfb");function g(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}var m=function(e){function t(e){var a;(0,r.default)(this,t),(a=(0,s.default)(this,(0,d.default)(t).call(this)))._parseStickersRes=function(e){if(200!==e.status||!e.data)throw new Error("sticker pack stickers query error");return e.data.map(function(e,t){return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?g(Object(a),!0).forEach(function(t){(0,i.default)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):g(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},(0,u.default)(e,["directPath","mimetype","mediaKey","filehash","width","height"]),{index:t,id:e.filehash,clientUrl:e.url,uploadhash:e.encFilehash,mediaKeyTimestamp:0})})},a.stickerPackId=e;var n,o=t._cache[a.stickerPackId];if(o)return(0,s.default)(a,o);var l=(0,c.default)(a);return Object.defineProperty((0,c.default)(a),"fetchState",{get:()=>n,set(e){n!==e&&(n=e,l.trigger("change:fetchState",e))}}),a}return(0,l.default)(t,e),(0,o.default)(t,[{key:"fetch",value:function(e){var t=this;return e&&this.fetchState!==f.FETCH_STATE.PENDING&&delete this._fetchPromise,this._fetchPromise?this._fetchPromise:(this.fetchState=f.FETCH_STATE.PENDING,a("cdaedfafjc").default.isPlaceholderId(this.stickerPackId)?(this._fetchPromise=new Promise(function(){}),this._fetchPromise):(this._fetchPromise=h.default.queryStickersInStickerPack(this.stickerPackId).then(this._parseStickersRes).then(function(e){var a=Math.max(t.length||e.length);t._resetRange(0,a,e),t.fetchState=f.FETCH_STATE.SUCCESS}).catch(function(e){t.fetchState=f.FETCH_STATE.ERROR}),this._fetchPromise))}},{key:"_resetRange",value:function(e,t,a){var n=this;this._forEachInRange(e,t,function(t,i){var r=a[i-e];t?r?t.id===r.id?t.set(r):(n.remove(t),n.add(r)):n.remove(t):r&&n.add(r)})}},{key:"_forEachInRange",value:function(e,t,a){for(var n=e;n<t;n++){a(this.at(n),n)}}}]),t}(f.StickerCollection);t.default=m,m._cache={},m.comparator=function(e,t){return e.index<t.index?-1:e.index>t.index?1:0}},cgejchjdhj:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.scrollIntoViewIfNeeded=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=arguments.length>2?arguments[2]:void 0;if(e.scrollIntoViewIfNeeded&&(0,i.isFunction)(e.scrollIntoViewIfNeeded))return e.scrollIntoViewIfNeeded(t);var n=o(a||e.parentNode),r=window.getComputedStyle(n,null),s=parseInt(r.getPropertyValue("border-top-width")),d=e.offsetTop-n.offsetTop<n.scrollTop,c=e.offsetTop-n.offsetTop+e.clientHeight-s>n.scrollTop+n.clientHeight,l=d&&!c;(d||c)&&t&&(n.scrollTop=e.offsetTop-n.offsetTop-n.clientHeight/2-s+e.clientHeight/2);!d&&!c||t||e.scrollIntoView(l);return!(d||c)},t.scrollIntoView=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=o((arguments.length>2?arguments[2]:void 0)||e.parentNode),n=window.getComputedStyle(a,null),i=parseInt(n.getPropertyValue("border-top-width")),r=e.offsetTop-a.offsetTop<a.scrollTop,s=e.offsetTop-a.offsetTop+e.clientHeight-i>a.scrollTop+a.clientHeight,d=r&&!s;t?a.scrollTop=e.offsetTop-a.offsetTop-a.clientHeight/2-i+e.clientHeight/2:e.scrollIntoView(d);return!(r||s)},t.scrollAt=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=o(t||e.offsetParent),i=a.pos||"center",s=null!=a.duration&&0!==a.duration?a.duration:1e3,d=a.offset||0;switch(i){case"top":return n.scrollTop=e.offsetTop+d,Promise.resolve();case"bottom":return n.scrollTop=e.offsetTop+e.clientHeight-n.clientHeight,Promise.resolve();case"center":return a.animate?((0,r.default)(e,"stop"),(0,r.default)(n,"stop"),(0,r.default)(e,"scroll",{duration:s,container:n,offset:(e.clientHeight-n.clientHeight)/2,easing:a.easing})):(n.scrollTop=e.offsetTop+e.clientHeight/2-n.clientHeight/2,Promise.resolve());case"offset":return a.animate?((0,r.default)(e,"stop"),(0,r.default)(n,"stop"),(0,r.default)(e,"scroll",{duration:s,container:n,offset:-d,easing:a.easing})):(n.scrollTop=e.offsetTop-d,Promise.resolve())}return Promise.resolve()};var i=a("hjbbdjjdf"),r=n(a("bcifhbgija"));function o(e){if(e&&e instanceof HTMLElement)return e;throw new Error("utils:DOM parent not defined or is not a valid HTMLElement")}},cgfdiahhcd:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=i(a("eaaagccfda")),u=n(a("bdfbccfifg")),f=function(e){function t(e,a){var n;return(0,r.default)(this,t),(n=(0,s.default)(this,(0,d.default)(t).call(this,e,a.id)))._trigger=a.trigger||"all",n._delay=a.delay,n._saveToCache=(0,l.default)(n.saveToCache,n._delay),n}return(0,c.default)(t,e),(0,o.default)(t,[{key:"saveToCache",value:function(){this.collection.saveToCache()}},{key:"enableCaching",value:function(){this.listenTo(this.collection,this._trigger,this._saveToCache)}},{key:"disableCaching",value:function(){this.stopListening(this.collection,this._trigger,this._saveToCache)}}]),t}(u.default);t.default=f,f.policy=u.CACHE_POLICY_TYPE.LOAD},cgfdjcbhag:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=i(a("ceffhbhahb")),u=n(a("ddhijeejag")),f=i(a("bdghdbcbdc")),h=i(a("cfdfdbefea")),p=i(a("dgfhiaehb")),g=i(a("bifbhbbiie")),m=i(a("fffdgbfji")),b=i(a("bdiiahhjbe")),v=i(a("bfifafibjc")),j=i(a("bfdcadbbif")),E=i(a("ciaidfgabf")),y=i(a("didfdhbecg")),_=function(e){function t(e){var a;return(0,r.default)(this,t),(a=(0,s.default)(this,(0,d.default)(t).call(this,e))).state={menuWidth:null,offset:0},a._handleItemClick=function(e,t){a.props.onItemClick&&a.props.onItemClick(e,t)},a._handleNextClick=function(){var e=a.props.numItems,t=a.state.offset+a.props.numColumns;"number"!=typeof e||t>e||a.setState({offset:a.state.offset+1})},a._handlePrevClick=function(){0!==a.state.offset&&a.setState({offset:a.state.offset-1})},a._handleResize=function(e){var t=e.width;a.setState({menuWidth:t})},a._renderItem=function(e,t,n){var i=a.props.numItems;if("number"==typeof i&&e>=i)return null;var r=e-a.state.offset;return u.createElement(p.default,{column:r,carouselNumColumns:a.props.numColumns,key:e,menuWidth:n,onClick:a._handleItemClick,index:e,selected:t},a.props.renderItem(e))},a._checkSelectedIndex(e),a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentDidUpdate",value:function(){this._checkSelectedIndex(this.props)}},{key:"_checkSelectedIndex",value:function(e){var t=e.onItemClick,a=e.numItems,n=e.selectedIndex;if(t&&0!==a){b.default.assert(n>=0,"carousel_menu: selectedIndex is smaller than 0")();var i=a-1;n>i&&t(i)}}},{key:"_renderPrevButton",value:function(){if(0===this.state.offset)return null;var e=m.default.isRTL()?"chevron-right":"chevron-left";return this._renderButton({className:h.default.prevButton,icon:e,onClick:this._handlePrevClick})}},{key:"_renderNextButton",value:function(){var e=this.props,t=e.numColumns,a=e.numItems;if("number"!=typeof a)return null;if(this.state.offset+t>=a)return null;var n=m.default.isRTL()?"chevron-left":"chevron-right";return this._renderButton({className:h.default.nextButton,icon:n,onClick:this._handleNextClick})}},{key:"_renderButton",value:function(e){var t,a=e.className,n=e.icon,i=e.onClick,r=this.props.numColumns;return t=null!=this.state.menuWidth&&0!==this.state.menuWidth?"".concat(Math.round(this.state.menuWidth/r),"px"):"".concat(100/r,"%"),u.createElement("div",{className:(0,l.default)(h.default.button,a),style:{width:t},onClick:i,role:"button"},u.createElement(j.default,{className:h.default.buttonIcon,name:n}))}},{key:"render",value:function(){var e,t=this.props,a=t.numColumns,n=t.numItems,i=t.selectedIndex,r=this.state,o=r.menuWidth,s=r.offset;if(i<s)e=-1;else if(i>=s+a){e=a-1+1}else e=(i-s)%a;return u.createElement(f.default,{className:this.props.className},u.createElement(v.default,{className:h.default.resizeContainer,onResize:this._handleResize},u.createElement(y.default,null,this._renderPrevButton()),u.createElement(g.default,{menuWidth:o,numColumns:a,numItems:n,offset:s,renderItem:this._renderItem,selectedIndex:i}),u.createElement(y.default,null,this._renderNextButton()),u.createElement(E.default,{numTabs:a,selectedTabIndex:e,hide:-1===e||0===e&&s>0||e===a})))}}]),t}(u.PureComponent);t.default=_},cgffcjcehg:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=i(a("ceffhbhahb")),u=n(a("ddhijeejag")),f=i(a("baagejbchg")),h=i(a("ihfccfgdf")),p=i(a("chicdhgich")),g=i(a("bfdcadbbif")),m=f.default.MSG_TYPE,b=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,(0,d.default)(t).apply(this,arguments))}return(0,c.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e,t,a=this.props.msg,n=a.ack,i=a.isMedia&&!a.caption&&a.type!==m.AUDIO||a.type===m.LOCATION&&!a.loc&&!a.isLive;return n<1?e="msg-time":1===n?e="msg-check":2===n?e="msg-dblcheck":(e="msg-dblcheck",t=p.default.ackBlue),u.createElement(g.default,{name:e,className:(0,l.default)(p.default.ack,t,{[p.default.light]:i})})}}]),t}(u.PureComponent);b.CONCERNS={msg:["ack","isMedia","caption","type","loc","isLive"]};var v=(0,h.default)(b,b.CONCERNS);t.default=v},cgfidiajgj:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Sticker=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("bjehdcaaj")),l=i(a("dbjagcfebh")),u=i(a("fhfbcdaib")),f=n(a("dcaifjegcg")),h=n(a("ddgbhifaji")),p=i(a("bffjfbgbg")),g=a("daichdjff"),m=(0,u.default)(function(){return new v({id:"placeholder",isPlaceholder:!0})}),b=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).id=(0,f.prop)(),a.mediaData=(0,f.session)(),a.mediaObject=(0,f.prop)(),a.clientUrl=(0,f.prop)(),a.directPath=(0,f.prop)(),a.filehash=(0,f.prop)(),a.height=(0,f.prop)(),a.index=(0,f.prop)(),a.mediaKey=(0,f.prop)(),a.mediaKeyTimestamp=(0,f.prop)(),a.mimetype=(0,f.prop)(),a.size=(0,f.prop)(),a.type=(0,f.prop)(g.OUTWARD_TYPES.STICKER),a.uploadhash=(0,f.prop)(),a.width=(0,f.prop)(),a.isPlaceholder=(0,f.prop)(),a}return(0,l.default)(t,e),(0,o.default)(t,[{key:"initialize",value:function(){(0,c.default)((0,d.default)(t.prototype),"initialize",this).call(this),this.addChild("mediaData",new p.default),this.isPlaceholder||h.registerSticker(this)}},{key:"downloadMedia",value:function(){return h.downloadStickerOrStickerPackIcon(this,"STICKER")}},{key:"sendToChat",value:function(e){a("jdigiabic").default.enqueue([this]),this.mediaData&&this.mediaData.mediaBlob&&this.mediaData.mediaBlob.retain();var t={quotedMsg:e.composeQuotedMsg};return e.composeQuotedMsg=null,(0,h.prepSticker)(this).sendToChat(e,t)}}]),t}(f.default);t.Sticker=b,b.Proxy="sticker",b.getPlaceholder=m;var v=(0,f.defineModel)(b);v.getPlaceholder=m;var j=v;t.default=j},cgfjebhhej:function(e,t,a){"use strict";var n=a("cfjecfhbfg"),i=n(a("dfjcddaaib")),r=n(a("hbddjfeei")),o=n(a("eaidjcib")),s=n(a("iidhbgeed")),d=n(a("dbafiicfja")),c=n(a("bhdddbafig")),l=n(a("bebifggehf")),u=n(a("ddbbigfbec")),f=n(a("eicihhaba")),h=n(a("bdiiahhjbe")),p=n(a("cahfddcdga")),g=n(a("dhefcajhhb")),m=a("hjbbdjjdf"),b=n(a("djbfhebjhe")),v=a("dcbdjheea"),j=a("dgdjiicfdg"),E=/X-([^;:]+)(?:;[^:]+)*:(.+)/,y={"X-ABLabel":[/X-ABLabel(?:;([^:]+))*:(.+)/,1],ADR:[/ADR(?:;([^:]+))*:;;(.*);(.*);(.*);(.*);(.*)/,5],"X-ABADR":[/X-ABADR(?:;([^:]+))*:(.*)/,1],URL:[/URL(?:;([^:]+))*:(.*)/,1],EMAIL:[/EMAIL(?:;([^:]+))*:(.+)/,1],TEL:[/TEL(?:;([^:]+))*:(.+)/,1]},_={N:[/N(?:;([^:]+))*:([^;]*);([^;]*);([^;]*);([^;]*);(.*)/,5],FN:[/FN(?:;([^:]+))*:(.*)/,1],NICKNAME:[/NICKNAME(?:;([^:]+))*:(.*)/,1],"X-PHONETIC-FIRST-NAME":[/X-PHONETIC-FIRST-NAME(?:;([^:]+))*:(.*)/,1],"X-PHONETIC-LAST-NAME":[/X-PHONETIC-LAST-NAME(?:;([^:]+))*:(.*)/,1],ORG:[/ORG(?:;([^:]+))*:([^;]*)(?:;(.*))*/,2],TITLE:[/TITLE(?:;([^:]+))*:(.*)/,1],TEL:[/TEL(?:;([^:]+))*:(.*)/,1],PHOTO:[/PHOTO(?:;([^:]+))*:(.*)/,1],BDAY:[/BDAY(?:;([^:]+))*:(.*)/,1],URL:[/URL(?:;([^:]+))*:(.+)/,1],EMAIL:[/EMAIL(?:;([^:]+))*:(.+)/,1]},S=function e(t,a,n,i){(0,o.default)(this,e),this.type=t,this.index=a,this.properties=n||{},this.value=i};function C(e,t,a){e[t]||(e[t]=[]),e[t].push(a)}function A(e){var t={};return e?(e.split(";").forEach(function(e){var a=e.split(/=/);if(1===a.length){var n=a[0];C(t,n.toLowerCase(),!0)}else if(2===a.length){var i=(0,r.default)(a,2),o=i[0],s=i[1];C(t,o.toLowerCase(),s.toLowerCase())}}),t):t}function M(e){return e?e.replace(/\\/g,"\\\\").replace(/;/g,"\\;").replace(/,/g,"\\,"):""}var T={getDate(e){var t=e;return(0,l.default)([/-([^-]*)-([^-]*)-([^-]*)/,/([^-]*)-([^-]*)-([^-]*)/],function(a){var n=e.match(a);if(n){var i=!n[1].length||"1604"===n[1],r=i?"0000":n[1];return t=j("".concat(r,"-").concat(n[2],"-").concat(n[3])).format("l"),i&&(t=t.replace(/[.,-\/\s]*0000[.,-\/\s]*/,"")),!1}}),t},getOrganizationString(e){var t=e.ORG&&e.ORG[0],a=e.TITLE&&e.TITLE[0];if(t&&Array.isArray(t.value)&&t.value.length>0){var n=null;a&&a.value&&(n="".concat(a.value).trim());var r=(0,i.default)(t.value),o=r[0],s=r.slice(1);s.push(o);var d=s.map(function(e){return(0,m.isString)(e)?e.trim():""}).filter(function(e){return e.length}).join(l10n.t(426));return(n||"")+(n&&n.length&&d.length?" - ":"")+d}return""},getType:function(e){var t={jabber:l10n.t(1139),"skype-username":l10n.t(1144),skype:l10n.t(1144),msn:l10n.t(1141),aim:l10n.t(1129),yahoo:l10n.t(1147),icq:l10n.t(1137),"wa-biz-description":l10n.t(1131),"wa-biz-name":l10n.t(1132)},a=e.properties["X-ABLabel"]||t[e.type.toLowerCase()];if(a)return function(e){if(e)return e.replace(/^_\$!<([^>]*)>!\$_$/,"$1").replace(/\\,/,",").replace(/\\;/,";").replace(/\\\\/,"\\")}(a);var n={TEL:[[["cell"],l10n.t(1133)],[["iphone"],l10n.t(1138)],[["main"],l10n.t(1140)],[["home","fax"],l10n.t(1136)],[["work","fax"],l10n.t(1146)],[["home"],l10n.t(1135)],[["work"],l10n.t(1145)],[["pager"],l10n.t(1143)],[[],l10n.t(1135)]],EMAIL:[[["home"],l10n.t(1135)],[["work"],l10n.t(1145)],[["internet"],l10n.t(1134)]],URL:[[["home"],l10n.t(1135)],[["work"],l10n.t(1145)]],ADR:[[["home"],l10n.t(1135)],[["work"],l10n.t(1145)]]};return a=e.type,(0,f.default)(n,function(t){if(t){var n=(0,r.default)(t,2),i=n[0],o=n[1];if(0===(0,c.default)(i,(0,d.default)(e.properties.type,function(e){return e.toLowerCase()})).length)return a=o,!1}}),a},vcardWAids:function(e){var t=[];return e&&e.TEL&&e.TEL.forEach(function(e){e.properties&&e.properties.waid&&e.properties.waid.length>0&&(t=t.concat((0,d.default)(e.properties.waid,v.numberToWid)))}),t},thumbnailWAid:e=>e.find(function(e){var t=g.default.get(e);return t&&t.img}),parse(e){var t=e.replace(/\r?\n|\r/g,"\n").replace(/\n^[ \t]/gm,"").split("\n").filter(function(e){return 0!==e.trim().length}),a={},n={};if(!(t.length<3)){var i=t[0].trim().toUpperCase(),o=t[1].trim().toUpperCase(),s=t[t.length-1].trim().toUpperCase(),d="VERSION:2.1"===o||"VERSION:3.0"===o||"VERSION:4.0"===o;if("BEGIN:VCARD"===i&&d&&"END:VCARD"===s){for(var c=2;c<t.length-1;c++){var l=t[c],g=l.match(/item(\d+)\.(.*)/),b=g?g[2]:l,v=(0,p.default)(b.match(/([^:;]*)[:;].*/))[1],j=g?y:_,M=v,T=v,P=void 0,N=void 0;if(j[M]){var I=(0,r.default)(j[M],2),k=I[0],O=I[1],R=b.match(k);R&&(P=A(R[1]),N=1===O?N=R[2]:R.slice(2,2+O))}else{var w=b.match(E);w&&(T="SERVICE",M=w[1],N=w[2],P={})}if((Array.isArray(N)?N:[N]).some(function(e){return e&&(0,m.isString)(e)&&e.trim()}))if(g){var D=g[1];n[D]?n[D].fields.push(new S(M,null,P,N)):n[D]={type:M,index:c,key:T,properties:P,value:N,fields:[]}}else C(a,T,new S(M,c,P,N))}return Object.keys(n).forEach(function(e){var t=n[e],i=t.key,r=t.index,o=t.type,s=t.value,d=t.properties;t.fields.forEach(function(e){d[e.type]=e.value}),C(a,i,new S(o,r,d,s))}),function(e){var t={};return(0,f.default)(e,function(e,a){t[a]=(0,u.default)(e,function(e){return e.index})}),t}(a)}h.default.assert(!1,"vcard-fault","vcard:parse failed because the vCard is not formatted as expected:\n                Header as expected? ".concat(String("BEGIN:VCARD"===i),"\n                Version as expected? ").concat(String(d),"\n                Footer as expected? ").concat(String("END:VCARD"===s),"\n                Lines: ").concat(t.length))()}},vCardSerialize:e=>e.map(function(e){return e.line.replace(/(.{75,75})/g,"$1\n ").replace(/\n^-$/gm,"")}).join("\n"),thumbnail(e){if(e){var t=e.replace(/\n^ /gm,"").match(/^PHOTO;(BASE64|ENCODING=b;TYPE=image\/jpeg):(.*)$/m);return t?t[2]:void 0}},getName(e){var t=(0,s.default)(e.formattedName.split(e.formattedShortName)),a=t.length?t[0].trim():void 0,n=a?e.formattedShortName:e.formattedName;return"".concat(M(a),";").concat(M(n),";;;")},getNameFromParsedVCard(e){var t=null,a=e.FN,n=e.NICKNAME,i=e.TEL;if(a&&a[0])t=a[0].value;else if(n&&n[0])t=n[0].value;else if(i&&i[0]){var r=i[0],o=r.properties.waid[0];t=o?(0,b.default)(o):r.value}return t},fromContactModel(e){var t=M(e.formattedName);return{displayName:t,vcard:"BEGIN:VCARD\nVERSION:3.0\nN:".concat(this.getName(e),"\nFN:").concat(t,"\nTEL;type=CELL;waid=").concat(String(e.userid),":").concat((0,b.default)(e.userid),"\nEND:VCARD")}}};e.exports=T},cgfjiaegih:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=i(a("ceffhbhahb")),u=i(a("dgdjiicfdg")),f=n(a("ddhijeejag")),h=i(a("djibdcebeh")),p=i(a("bbchdeehff")),g=i(a("baagejbchg")),m=i(a("bjigbaghc")),b=a("bidfjbaebi"),v=a("facgccaif"),j=n(a("ffchhcfdj")),E=i(a("eceadcicaf")),y=i(a("bfbggcdbfb")),_=n(a("ebggjhghhi")),S=i(a("ceddibdhdb")),C=i(a("ihfccfgdf")),A=n(a("dcdiaahjj")),M=i(a("bfdcadbbif")),T=i(a("bcjcbbafcj")),P=i(a("cbbhbjebii")),N=i(a("didfdhbecg")),I=i(a("cfgcdfcfee")),k=i(a("bgeajihhc")),O=3e3,R=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).state={allowReconnect:!0},a.reconnect=function(){var e=I.default.numSocketsAttempted+1;k.default.poke(),_.waitForBBEvent(A.default,"change:displayInfo",function(){return A.default.displayInfo===A.StreamInfo.NORMAL}).then(function(){new y.default.WebcManualWebsocketAttempt({webcManualWebsocketAttemptSuccessful:I.default.numSocketsAttempted===e}).commit()}),a.setState({allowReconnect:!1}),a._reconnectTimeoutTimer.onOrAfter(O)},a._reconnectTimeoutTimer=new S.default(function(){a.setState({allowReconnect:!0})}),a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentWillUnmount",value:function(){this._reconnectTimeoutTimer.cancel()}},{key:"render",value:function(){var e,t;return this.state.allowReconnect?(e=f.createElement(f.Fragment,null,"".concat(l10n.t(700)," "),f.createElement(V,{action:this.reconnect},l10n.t(950))),t=l10n.t(324)):(e=null,t=l10n.t(351)),f.createElement(G,{type:"computer",title:t,text:e})}}]),t}(f.PureComponent),w=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).state={takingTooLong:!1,didShowSubtitle:!1},a._timeoutTimer=new S.default(function(){a.setState({takingTooLong:!0,didShowSubtitle:!0})}),a.onProgress=function(){a._rerenderTimer.cancel(),a._timeoutTimer.onOrBefore(3e3),a.setState({takingTooLong:!1})},a._rerenderTimer=new S.default(function(){a.forceUpdate()}),a.retry=function(){k.default.poke(),a.onProgress()},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){this.props.listeners.add(k.default,"change:state",this.onProgress),this.props.listeners.add(k.default,"change:retryTimestamp",this.onProgress),this._timeoutTimer.onOrBefore(3e3)}},{key:"componentWillUnmount",value:function(){this._timeoutTimer.cancel(),this._rerenderTimer.cancel()}},{key:"render",value:function(){var e,t;if(A.default.displayInfo===A.StreamInfo.OPENING)e=l10n.t(350);else{if(A.default.displayInfo!==A.StreamInfo.CONNECTING)return null;e=l10n.t(351)}if(this.state.takingTooLong){this._rerenderTimer.onOrAfter(1e3);var a=k.default.retryTimestamp-Date.now();if(a<1)a=l10n.t(994),setTimeout(function(){k.default.poke()},0);else if(a<6e4){var n=Math.ceil(a/1e3);a=l10n.t(996,{number:n,_plural:n})}else a=l10n.t(995,{duration:u.default.duration(a).humanize()});t=f.createElement(f.Fragment,null,a," ",f.createElement(V,{action:this.retry},l10n.t(982)))}else t=this.state.didShowSubtitle?f.createElement("span",null,l10n.t(994)):null;return f.createElement(G,{type:"computer",title:e,text:t})}}]),t}(f.Component),D=(0,E.default)(w),L=function(e){function t(e){var a;(0,r.default)(this,t),(a=(0,s.default)(this,(0,d.default)(t).call(this,e))).onReload=function(){P.default.restart()},a.onClickManualDownload=function(){},a._showBatteryTimer=new S.default(function(){return a.batteryUpdate(!1)}),a.dismissLowBatteryWarning=function(){var e=a.state.lowBatteryWarning;e>0&&a.setState({lowBatteryWarning:-e})},a._showNotifyTimer=new S.default(function(e){a.setState({showNotify:e})}),a.requestPermissions=function(){p.default.openModal(f.createElement(j.default,{messaging:j.Messaging.NOTIFICATIONS,onConfirm:x,onCancel:F,type:j.default.TYPE.GUIDE_ALLOW})),window.Notification.requestPermission(function(e){p.default.closeModal(),a.setState({notifyPermission:e})})};var n=m.default.battery<g.default.BATTERY_LOW_THRESHOLD_1?m.default.battery<g.default.BATTERY_LOW_THRESHOLD_2?2:1:0;a.state={lowBatteryWarning:m.default.plugged?0:n,notifyPermission:window.Notification&&window.Notification.permission,showNotify:!1};var i=function(){a.batteryUpdate(!0)};return e.listeners.add(m.default,"change:plugged",i),e.listeners.add(m.default,"change:battery",i),a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentWillUnmount",value:function(){this._showNotifyTimer.cancel(),this._showBatteryTimer.cancel()}},{key:"batteryUpdate",value:function(e){var t=this.state.lowBatteryWarning;m.default.plugged||m.default.battery>g.default.BATTERY_LOW_THRESHOLD_1?0!==t&&this.setState({lowBatteryWarning:0}):m.default.battery<=g.default.BATTERY_LOW_THRESHOLD_2?-2!==t&&(e?this._showBatteryTimer.onOrBefore(g.default.BATTERY_DELAY):2!==t&&this.setState({lowBatteryWarning:2})):t>-1&&m.default.battery<=g.default.BATTERY_LOW_THRESHOLD_1&&(e?this._showBatteryTimer.onOrBefore(g.default.BATTERY_DELAY):1!==t&&this.setState({lowBatteryWarning:1}))}},{key:"render",value:function(){var e=null;switch(A.default.displayInfo){case A.StreamInfo.OFFLINE:e=f.createElement(R,{key:"bbar"});break;case A.StreamInfo.OPENING:case A.StreamInfo.CONNECTING:e=f.createElement(D,{key:"bbar"});break;case A.StreamInfo.NORMAL:break;case A.StreamInfo.RESUMING:case A.StreamInfo.TIMEOUT:var t=f.createElement(f.Fragment,null,l10n.t(701)," ",f.createElement(V,{action:B},l10n.t(644)));e=f.createElement(G,{type:"phone",key:"bbar",title:l10n.t(908),text:t})}if(!e&&this.state.lowBatteryWarning>0&&(e=f.createElement(G,{type:"battery",key:"bbar",title:l10n.t(906),text:l10n.t(298),dismissable:!0,onDismiss:this.dismissLowBatteryWarning})),!e&&A.default.needsUpdate){var a=f.createElement(V,null,l10n.t(320));e=f.createElement(G,{type:"update",key:"bbar",title:l10n.t(1118),text:a,action:this.onReload})}if(e)this.state.showNotify&&this._showNotifyTimer.onOrBefore(0,!1);else if(this.state.showNotify){if(window.Notification&&this.state.notifyPermission===g.default.PERMISSION_DEFAULT){var n=f.createElement(V,null,l10n.t(425));e=f.createElement(G,{type:"notification",key:"bbar",title:l10n.t(500),text:n,action:this.requestPermissions})}}else this._showNotifyTimer.onOrBefore(g.default.NOTIFICATION_PROMPT_DELAY,!0);return f.createElement(N.default,{transitionName:"butterbar",className:h.default.container},e)}}]),t}(f.PureComponent);L.CONCERNS={stream:["displayInfo","needsUpdate"]};var U=(0,E.default)((0,C.default)(L,L.CONCERNS));function G(e){var t=e.action||null,a=(0,l.default)(h.default.butterbar,{[h.default.action]:t,[h.default.computer]:"computer"===e.type,[h.default.phone]:"phone"===e.type,[h.default.notification]:"notification"===e.type,[h.default.battery]:"battery"===e.type,[h.default.update]:"update"===e.type}),n=e.onDismiss?f.createElement("div",{className:h.default.controls},f.createElement(M.default,{name:"x-light",onClick:e.onDismiss})):null,i=e.text?f.createElement("div",{className:h.default.text},e.text):null;return f.createElement("div",{className:h.default.wrapper},f.createElement("div",{className:a,onClick:t},f.createElement("div",{className:h.default.icon},f.createElement(M.default,{name:{computer:"alert-computer",phone:"alert-phone",notification:"alert-notification",battery:"alert-battery",update:"alert-update"}[e.type]})),f.createElement("div",{className:h.default.body},f.createElement("div",{className:h.default.title},e.title),i),n))}function x(){p.default.closeModal()}function F(){switch(T.default.browser){case g.default.BROWSER_TYPE.CHROME:return(0,b.openExternalLink)((0,v.getNotificationChromeFaqUrl)());case g.default.BROWSER_TYPE.FIREFOX:return(0,b.openExternalLink)((0,v.getNotificationFirefoxFaqUrl)());case g.default.BROWSER_TYPE.SAFARI:return(0,b.openExternalLink)((0,v.getNotificationSafariFaqUrl)());case g.default.BROWSER_TYPE.OPERA:return(0,b.openExternalLink)((0,v.getNotificationOperaFaqUrl)());case g.default.BROWSER_TYPE.EDGE:return(0,b.openExternalLink)((0,v.getNotificationEdgeFaqUrl)());default:return(0,b.openExternalLink)((0,v.getNotificationChromeFaqUrl)())}}function B(){(0,b.openExternalLink)((0,v.getCannotConnectFaqUrl)())}function V(e){return f.createElement("span",{className:h.default.actionLink},f.createElement("span",{className:h.default.actionText,onClick:e.action},e.children),f.createElement(M.default,{className:h.default.chevron,directional:!0,name:"chevron-right-text"}))}t.default=function(){return f.createElement(U,{stream:A.default})}},cggajedfhg:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=n(a("ddhijeejag")),u=i(a("cehjjfagii")),f=i(a("ejegihaeh")),h=i(a("bbchdeehff")),p=i(a("baagejbchg")),g=i(a("bjgiedaj")),m=i(a("fifhbjiec")),b=i(a("jfgccegaj")),v=i(a("jheedhagg")),j=a("gaifbabbj"),E=a("bgjddhffji"),y=i(a("dhccihecch")),_=i(a("eeghcebdh")),S=i(a("deabffecii")),C=i(a("cfegjiegcd")),A=i(a("iiaihjfbi")),M=i(a("ihfccfgdf")),T=a("bheafeifce"),P=a("dcbdjheea"),N=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).ProductCatalogSession=new S.default,a.launchProductView=function(e){e&&e.stopPropagation();var t=a.props,n=t.msg,i=t.onProductClick;if(n){var r=n.productId,o=n.businessOwnerJid;if(r&&o){var s=(0,b.default)({productId:r,businessOwnerJid:o,msgT:n.t});if(s){(0,E.logProductMsgClick)((0,T.unproxy)(s),a.ProductCatalogSession.toString());var d=a.ProductCatalogSession.toString();i?i(s,d):h.default.openDrawerRight(l.createElement(C.default,{refreshCarousel:!0,chat:n.chat,product:s,sessionId:d}),"slide-left",a.props.uim)}}}},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){var e=this.props.msg;e.businessOwnerJid&&(0,P.createWid)(e.businessOwnerJid)&&f.default.addMsgAsproduct((0,T.unproxy)(e))}},{key:"renderProductInfo",value:function(){var e=this.props,t=e.msg,a=e.trusted,n=t.title,i=t.description,r=t.priceAmount1000,o=t.currencyCode,s=(a?j.Configuration.TrustedConversation:j.Configuration.UntrustedConversation)({mentions:t.mentionMap(),links:t.getLinks(),selectable:!0}),d=null!=r&&o?g.default.format(o,r):i,c=l.createElement(m.default,{direction:"inherit",selectable:!0,text:n,formatters:s,ellipsify:!0,className:_.default.title}),u=d?l.createElement(A.default,{msg:t,className:_.default.subtitle},l.createElement(m.default,{direction:"inherit",selectable:!0,text:d,formatters:s,textLimit:p.default.MAX_PRODUCT_SUBTITLE_LENGTH})):null;return l.createElement("div",{className:_.default.productInfo,onClick:this.launchProductView},c,u)}},{key:"render",value:function(){var e=this.props,t=e.displayAuthor,a=e.msg,n=e.mediaData,i=e.trusted,r=e.quotedMsg,o=(!1!==t?!a.isSentByMe&&a.isGroupMsg:null)?l.createElement("div",{className:_.default.author},l.createElement(u.default,{msg:a,contact:a.senderObj})):null,s=l.createElement(y.default,{msg:a,mediaData:n,trusted:i,displayAuthor:!1,contentContainerClassName:_.default.productContainer,captionComponent:this.renderProductInfo(),thumbClassName:_.default.thumb,onThumbClick:this.launchProductView,quotedMsg:r}),d=l.createElement(m.default,{className:_.default.productCta,onClick:this.launchProductView,text:l10n.t(926)});return l.createElement("div",{className:_.default.bubble},o,s,d)}}]),t}(l.Component);N.CONCERNS={msg:["businessOwnerJid","chat","chat","currencyCode","description","dir","id","isGroupMsg","isProductInquiry","isSentByMe","mediaData","priceAmount1000","productId","productImageCount","retailerId","rtl","senderObj","t","title","url"]};var I=(0,v.default)((0,M.default)(N,N.CONCERNS));t.default=I},cggchheahd:function(e,t){e.exports={container:"_38w5G",fullscreen:"blq_W",youtubeContainer:"_7KBPw",blockYoutube:"_25JqX",videoControlsWrapper:"_3Tkpy",strippedVideoControls:"_2wzgf",opacityTransition:"_1Cx2d",widgetsWrapper:"Xv_gE",dimmed:"_2oMEO"}},cghfaedged:function(e,t){e.exports={highRes:"_298rb",wrapper:"_2ZDCk",medium:"_2a0VK",lowRes:"_23bAn",large:"_3CMkL",xlarge:"_2FANH",animation:"_1EdGp",invisible:"_1nia9",heart:"_1Kzee"}},cgidhbdcgc:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.associateMediaWithMsg=function(e,t){e.addMsg(t)},t.disassociateMediaFromMsg=function(e,t){if(t.mediaObject=null,e.removeMsg(t),e.hasAssociatedMsgsOrStickers())return;e.filehash&&delete r[e.filehash];e.delete()},t.delistAndDeleteAllMedia=function(){var e=r;for(var t in r={},e)e[t].delete()},t.getOrCreateMediaObject=function(e){return r.hasOwnProperty(e)?r[e]:r[e]=new i.default},t.clearMediaForChat=function(e){},t.associateMediaWithStickerPack=function(e,t){e.addStickerPack(t)},t.disassociateMediaFromStickerPack=function(e,t){if(t.mediaObject=null,e.removeStickerPack(t),e.hasAssociatedMsgsOrStickers())return;e.filehash&&delete r[e.filehash];e.delete()},t.associateMediaWithSticker=function(e,t){e.addSticker(t)},t.disassociateMediaFromSticker=function(e,t){if(t.mediaObject=null,e.removeSticker(t),e.hasAssociatedMsgsOrStickers())return;e.filehash&&delete r[e.filehash];e.delete()};var i=n(a("chfghiiefb")),r={}},cgjafchgje:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.StickerPanelEmpty=function(e){var t=e.containerClassName,a=e.onClick,n=e.onFocusPrev,i=e.onFocusNext,r=e.onRef;return u.createElement("div",{className:(0,l.default)(t,p.default.emptyContainer),onClick:a},u.createElement("div",{className:p.default.emptySticker,style:{backgroundImage:"url(".concat(g.default,")")}}),u.createElement(h.default,{handlers:{"shift+tab":n,tab:i},onRef:r},u.createElement("p",{className:p.default.emptyText},l10n.t(1083))))},t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=i(a("ceffhbhahb")),u=n(a("ddhijeejag")),f=i(a("ecjegjabde")),h=i(a("dhfbfehaef")),p=i(a("dfhebgbhja")),g=i(a("cjfhhbcfdh")),m=i(a("iagahbjff")),b=i(a("dbhijaface")),v=i(a("baabffjhbe")),j=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i))))._handleGridFocusPrev=function(){a.props.onFocusPrev&&a.props.onFocusPrev()},a._setRefScrollGrid=function(e){a._refScrollGrid=e},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"focus",value:function(){this._refScrollGrid&&this._refScrollGrid.focus()}},{key:"_getContent",value:function(){return this.props.recentStickersEnabled&&0===this.props.selectedStickerPackIndex?u.createElement(m.default,{ref:this._setRefScrollGrid,onFocusPrev:this._handleGridFocusPrev,onScroll:this.props.onScroll,onStickerClick:this.props.onSticker,onStickerEnter:this.props.onSticker}):this.props.starredStickersEnabled&&1===this.props.selectedStickerPackIndex?u.createElement(v.default,{ref:this._setRefScrollGrid,onFocusPrev:this._handleGridFocusPrev,onScroll:this.props.onScroll,onStickerClick:this.props.onSticker,onStickerEnter:this.props.onSticker}):u.createElement(b.default,{ref:this._setRefScrollGrid,onFocusPrev:this._handleGridFocusPrev,onScroll:this.props.onScroll,onStickerClick:this.props.onSticker,onStickerEnter:this.props.onSticker,selectedStickerPackIndex:this.props.selectedStickerPackIndex-this.props.specialItemsCount})}},{key:"render",value:function(){return u.createElement(h.default,{className:p.default.container,handlers:(0,f.default)({"shift+tab":this.props.onFocusPrev,tab:this.props.onFocusNext})},this._getContent())}}]),t}(u.PureComponent);t.default=j},cgjcdbggeb:function(e,t,a){"use strict";var n=a("cfjecfhbfg"),i=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.addParticipants=function(e,t){return function e(t,a){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:(0,o.genId)();var i=t.groupMetadata.participants;if(a.some(function(e){return i.get(e.id)}))return l.default.error("models:groupMetadata:participantCollection:addParticipants already a group member")(),Promise.reject(new d.ActionError);if(!i.canAdd())return Promise.reject(new d.ActionError);var f=(0,u.sendAddParticipants)(t.id,a.map(function(e){return e.id}));var h=a.map(function(e){return e.formattedShortName}).join(l10n.t(426));var p=new o.ActionType(l10n.t(117,{participantNames:h,_plural:a.length}));var g=f.then(function(e){i.sendForNeededAddRequest(e);var t=c.formatResult(e,c.addSuccessString,c.addFailedString,c.addPartialFailedString,a);return new o.ActionType(t)}).catch(function(i){return l.default.error("models:groupMetadata:participantCollection:addParticipants dropped")(i),new o.ActionType(l10n.t(114,{participantNames:h,_plural:a.length}),l10n.t(155),function(){return e(t,a,n)})});s.default.openToast(r.createElement(o.ActionToast,{id:n,initialAction:p,pendingAction:g}));return f.then(function(){})}((0,f.unproxy)(e),t)},t.removeParticipants=function(e,t){return function e(t,a){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:(0,o.genId)();var i=t.groupMetadata.participants;if(a.some(function(e){return!i.canRemove(e)}))return Promise.reject(new d.ActionError);var f=(0,u.sendRemoveParticipants)(t.id,a.map(function(e){return e.id}));var h=a.map(function(e){return e.contact.formattedShortName}).join(l10n.t(426));var p=new o.ActionType(l10n.t(136,{participantNames:h,_plural:a.length}));var g=f.then(function(e){var t=c.formatRemoveResult(e,a.map(function(e){return e.contact}));return new o.ActionType(t)}).catch(function(i){return l.default.error("models:groupMetadata:participantCollection:removeParticipants dropped")(i),new o.ActionType(l10n.t(132,{participantNames:h,_plural:a.length}),l10n.t(155),function(){return e(t,a,n)})});s.default.openToast(r.createElement(o.ActionToast,{id:n,initialAction:p,pendingAction:g}));return f.then(function(){})}((0,f.unproxy)(e),t)},t.promoteParticipants=function(e,t){return function e(t,a){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:(0,o.genId)();var i=t.groupMetadata.participants;if(a.some(function(e){return!i.canPromote(e)}))return Promise.reject(new d.ActionError);var f=(0,u.sendPromoteParticipants)(t.id,a.map(function(e){return e.id}));var h=a.map(function(e){return e.contact.formattedShortName}).join(l10n.t(426));var p=new o.ActionType(l10n.t(131,{participantNames:h,_plural:a.length}));var g=f.then(function(e){var t=c.formatResult(e,c.promoteSuccessString,c.promoteFailedString,c.promotePartialFailedString,a.map(function(e){return e.contact}));return new o.ActionType(t)}).catch(function(i){return l.default.error("models:groupMetadata:participantCollection:removeParticipants dropped")(i),new o.ActionType(l10n.t(128,{participantNames:h,_plural:a.length}),l10n.t(155),function(){return e(t,a,n)})});s.default.openToast(r.createElement(o.ActionToast,{id:n,initialAction:p,pendingAction:g}));return f.then(function(){})}((0,f.unproxy)(e),t)},t.demoteParticipants=function(e,t){return function e(t,a){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:(0,o.genId)();var i=t.groupMetadata.participants;if(a.some(function(e){return!i.canDemote(e)}))return Promise.reject(new d.ActionError);var f=(0,u.sendDemoteParticipants)(t.id,a.map(function(e){return e.id}));var h=a.map(function(e){return e.contact.formattedShortName}).join(l10n.t(426));var p=new o.ActionType(l10n.t(122,{participantNames:h,_plural:a.length}));var g=f.then(function(e){var t=c.formatResult(e,c.demoteSuccessString,c.demoteFailedString,c.demotePartialFailedString,a.map(function(e){return e.contact}));return new o.ActionType(t)}).catch(function(i){return l.default.error("models:groupMetadata:participantCollection:demoteParticipants dropped")(i),new o.ActionType(l10n.t(118,{participantNames:h,_plural:a.length}),l10n.t(155),function(){return e(t,a,n)})});s.default.openToast(r.createElement(o.ActionToast,{id:n,initialAction:p,pendingAction:g}));return f.then(function(){})}((0,f.unproxy)(e),t)};var r=i(a("ddhijeejag")),o=a("ccihhdchab"),s=n(a("bbchdeehff")),d=i(a("cajijabhgb")),c=i(a("gcehifbbc")),l=n(a("bdiiahhjbe")),u=a("bceahhbbcj"),f=a("bheafeifce")},cgjfaifddg:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(!e.receiverJid)return null;var t,a=s.default.get(e.receiverJid),n=a?a.notifyName?"~".concat(a.notifyName):a.formattedName:(0,l.default)(e.receiverJid);switch(e.subtype){case"send":t=a&&a.isMe?d.default.t(1356):d.default.t(1355,{receiverName:n});break;case"request":t=a&&a.isMe?d.default.t(1348):d.default.t(1347,{receiverName:n})}return o.createElement("span",{className:(0,r.default)(c.default.container,{[c.default.isQuoted]:e.isQuoted})},t)};var r=i(a("ceffhbhahb")),o=n(a("ddhijeejag")),s=i(a("dhigahgdjb")),d=i(a("fffdgbfji")),c=i(a("bhfajidgce")),l=i(a("djbfhebjhe"))},cgjijjgidi:function(e,t){e.exports={hidden:"_3hTQn",container:"_34tCm"}},chabbgefdj:function(e,t,a){"use strict";var n=a("cfjecfhbfg"),i=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return r.createElement("div",{className:o.default.loadingSpinner},r.createElement(s.default,{color:"default",size:24,stroke:6}))};var r=i(a("ddhijeejag")),o=n(a("cebiefdbig")),s=n(a("becfabjeeg"))},chaebfegeh:function(e,t,a){"use strict";var n=a("cfjecfhbfg"),i=n(a("ccebfaijda")),r=n(a("bdiiahhjbe")),o=n(a("jccfhaecf")),s=a("dcbdjheea");function d(e){try{return(0,s.createWid)(e)}catch(t){return e}}e.exports=function(e){var t="",a="",n=e.singleByte,s=e.doubleByte,c=e.nibbleDecode;this.readNode=function(e){var a=e.readByte(),n=this.readListSize(e,a);if((a=e.readByte())===i.default.STREAM_END)throw new Error("unexpected stream end "+e.debugInfo());var r=this.readString(e,a);if(0===n||!r)throw new Error("invalid node. 0 list or empty tag"+e.debugInfo());var o=n-2+n%2>>1;t=r;var s,d=this.readAttributes(e,o);if(n%2==1)return[r,d,void 0];if(a=e.readByte(),this.isListTag(a))s=this.readList(e,a);else if(a===i.default.BINARY_8){var c=e.readByte();s=e.readBytes(c)}else if(a===i.default.BINARY_20){var l=e.readInt20();s=e.readBytes(l)}else if(a===i.default.BINARY_32){var u=e.readInt32();s=e.readBytes(u)}else s=this.readString(e,a);return[r,d,s]},this.isListTag=function(e){return e===i.default.LIST_EMPTY||e===i.default.LIST_8||e===i.default.LIST_16},this.readListSize=function(e,t){if(t===i.default.LIST_EMPTY)return 0;if(t===i.default.LIST_8)return e.readByte();if(t===i.default.LIST_16)return e.readInt16();throw new Error("invalid list size "+e.debugInfo())},this.readString=function(e,n){var s,c=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(-1===n)throw new Error("invalid start token readString"+e.debugInfo());if(n>2&&n<236){var l=this.getToken(n);return"s.whatsapp.net"===l&&(l="c.us"),l}switch(n){case i.default.DICTIONARY_0:case i.default.DICTIONARY_1:case i.default.DICTIONARY_2:case i.default.DICTIONARY_3:var u=e.readByte();return this.getTokenDouble(n-i.default.DICTIONARY_0,u);case i.default.LIST_EMPTY:return;case i.default.BINARY_8:return s=e.readString(e.readByte()),this.isAttr&&c&&o.default.isWid(s)?d(s):s;case i.default.BINARY_20:return s=e.readString(e.readInt20()),this.isAttr&&c&&o.default.isWid(s)?d(s):s;case i.default.BINARY_32:return s=e.readString(e.readInt32()),this.isAttr&&c&&o.default.isWid(s)?d(s):s;case i.default.JID_PAIR:var f=this.readString(e,e.readByte()),h=this.readString(e,e.readByte());if(void 0!==f&&void 0!==h){var p=f+"@"+h;return c&&o.default.isWid(p)?d(p):p}if(void 0!==h)return h;throw new Error("invalid jid "+f+","+h+" "+e.debugInfo());case i.default.NIBBLE_8:case i.default.HEX_8:return this.readPacked8(n,e);default:throw r.default.infoVerbose("\n                Unexpected token in binary protocol read. Token : ".concat(n,"\n                lastTag: ").concat(t,"\n                lastAttributeKey: ").concat(a,"\n                ").concat(e.debugInfoWithPadding(),"\n              "))(),new Error("invalid string "+n)}},this.getToken=function(e){var t;if(e>=0&&e<n.length&&(t=n[e]),void 0===t)throw new Error("invalid token "+e);return t},this.getTokenDouble=function(e,t){var a,n=256*e+t;if(n>=0&&n<s.length&&(a=s[n]),void 0===a)throw new Error("invalid double byte token "+e+" "+t);return a},this.readAttributes=function(e,t){var n,i;this.isAttr=!0;for(var r=t?{}:void 0,s=0;s<t;s++)n=this.readString(e,e.readByte()),a=n,i=this.readString(e,e.readByte(),o.default.canBeWid(n)),r[n]=i;return this.isAttr=!1,r},this.readList=function(e,t){for(var a=[],n=this.readListSize(e,t),i=0;i<n;i++)a.push(this.readNode(e));return a},this.readPacked8=function(e,t){for(var a=t.readByte(),n=a>>7,i=127&a,r="",o=0;o<i;o++){var s=t.readByte();r+=this.unpackByte(e,(240&s)>>4),r+=this.unpackByte(e,15&s)}return n&&(r=r.substring(0,r.length-1)),r},this.unpackByte=function(e,t){switch(e){case i.default.NIBBLE_8:return this.unpackNibble(t);case i.default.HEX_8:return this.unpackHex(t);default:throw new Error("unpack non-nibble/hex type: "+e)}},this.unpackNibble=function(e){if(!c.hasOwnProperty(e))throw new Error("invalid nibble to unpack: "+e);return c[e]},this.unpackHex=function(e){if(e>=0&&e<=15)return e.toString(16).toUpperCase();throw new Error("invalid hex to unpack: "+e)}}},chbcihghjd:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Component=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=i(a("dbahhcabjf")),u=i(a("dbafiicfja")),f=i(a("dadhheahfi")),h=n(a("ddhijeejag")),p=n(a("dhajefgece")),g=i(a("bbchdeehff")),m=i(a("baagejbchg")),b=i(a("djcchigfih")),v=i(a("djbhiedbef")),j=n(a("dajffajabh")),E=a("cicgeajfge"),y=n(a("cajijabhgb")),_=i(a("ddajbaceej")),S=n(a("dhfbfehaef")),C=i(a("dacbgadjcd")),A=i(a("dbciicjiad")),M=i(a("bdiiahhjbe")),T=i(a("bjbedjfe")),P=i(a("fbjjefaic")),N=n(a("bfjajhbdf")),I=n(a("bcjcbbafcj")),k=a("chhhffajfi"),O=i(a("bihdhbjih")),R=i(a("bjieiiccce")),w=i(a("dfjfejdjjh")),D=function(e){function t(e){var a;return(0,r.default)(this,t),(a=(0,s.default)(this,(0,d.default)(t).call(this,e))).setRefSearch=function(e){a.refSearch=e},a.setRefSearchHotkeys=function(e){a.refSearchHotkeys=e},a.setRefGallery=function(e){a.refGallery=e},a._search=function(e,t){a._hasPendingSearch=!1;var n=p.search(e,t).cancellable().then(function(t){n===a._searchPromise&&(a._addSearchResults(e,t),a.setState({isSearching:!1}))}).catch(Promise.CancellationError,function(){}).catch(function(e){M.default.errorVerbose("Image search failed")(e),g.default.openToast(h.createElement(N.default,{msg:l10n.t(618),id:(0,N.genId)()})),n===a._searchPromise&&a.setState({isSearching:!1})}).finally(function(){n===a._searchPromise&&(a._searchPromise=null)});a._searchPromise=n,a.setState({isSearching:!0})},a.handleUserInput=function(e){var t=(e||"").trim();if(!t)return a._cancelSearch(),void a._resetState();(0,k.numCodepoints)(t)<m.default.FTS_MIN_CHARS||t!==a.state.query&&(a._cancelSearch(),a._resetState(),a._requestSearch(t))},a.handleRequestMoreImages=function(){a._hasPendingSearch||a._searchPromise||!a.state.totalEstimatedMatches||a.state.nextOffset>=a.state.totalEstimatedMatches||a._requestSearch(a.state.query,a.state.nextOffset)},a.handleImageClick=function(e){var t=a.state.imageData[e];if(t){var n=t.contentUrl;(I.isElectron?w.default.getRetry(n,R.default.RESP_TYPE.BLOB).then(function(e){if(200!==e.status)throw new y.ServerStatusError(null,n,e.status);return e.response}):O.default.downloadImage(n)).checkpoint(a.props.rejectOnUnmount()).then(function(e){if(!(e instanceof Blob))throw new y.ImageError("Server did not respond with image bytes",n);a.props.onImageSelected(e,t.hostPageUrl)}).catch(y.Unmount,function(){}).catch(function(e){M.default.errorVerbose("Image search failed")(e),g.default.openToast(h.createElement(N.default,{msg:l10n.t(615),id:(0,N.genId)()}))})}},a.focusSearch=function(){(0,S.shouldIndicateFocus)(),_.default.focus(a.refSearch)},a.focusGallery=function(e){e.repeat||a.refGallery&&a.refSearch&&a.refSearch.cursorIsAtEnd()&&(e.preventDefault(),e.stopPropagation(),(0,S.shouldIndicateFocus)(),null!=a.refGallery&&_.default.focus(a.refGallery))},a.handleSearchFocus=function(e){(0,S.indicateFocus)(a.refSearchHotkeys,["#fbfbfb","#D9F3FF"])},a.state={imageData:{},isSearching:!1,nextOffset:0,query:"",thumbnails:[],totalEstimatedMatches:0},a._hasPendingSearch=!1,a._searchPromise=null,a._debouncedSearch=a.props.debounce(a._search,750),a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentWillUnmount",value:function(){this._cancelSearch()}},{key:"_requestSearch",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this._hasPendingSearch=!0,this._debouncedSearch(e,t)}},{key:"_cancelSearch",value:function(){this._hasPendingSearch&&(this._debouncedSearch.cancel(),this._hasPendingSearch=!1),this._searchPromise&&this._searchPromise.cancel()}},{key:"_resetState",value:function(){this.setState({imageData:{},isSearching:!1,nextOffset:0,query:"",thumbnails:[],totalEstimatedMatches:0})}},{key:"_addSearchResults",value:function(e,t){this.setState(function(a,n){var i=(0,f.default)(t.value,function(e){return e.thumbnailUrl}),r=(0,u.default)(t.value,function(e){return{id:e.imageId,thumbUrl:e.thumbnailUrl}}),o=t.value.length,s={};return a.query===e?(s.nextOffset=t.nextOffset?t.nextOffset:a.nextOffset+o,s.thumbnails=(0,l.default)(a.thumbnails,r),s.totalEstimatedMatches=t.totalEstimatedMatches,s.imageData=Object.assign(i,a.imageData)):(s.imageData=i,s.nextOffset=t.nextOffset?t.nextOffset:o,s.query=e,s.thumbnails=r,s.totalEstimatedMatches=t.totalEstimatedMatches),s})}},{key:"render",value:function(){var e,t=j.DRAWER_HEADER_TYPE.POPUP,a={down:this.focusGallery};return e=0===this.state.thumbnails.length?this.state.isSearching?h.createElement(E.SearchingImages,null):this.state.query?h.createElement(E.ImageSearchEmpty,null):h.createElement(E.BeforeImageSearch,null):h.createElement(C.default,{ref:this.setRefGallery,canLoadMore:this.state.nextOffset<this.state.totalEstimatedMatches,isLoadingMore:this.state.isSearching,thumbnails:this.state.thumbnails,onFocusPrev:this.focusSearch,onImageClick:this.handleImageClick,onRequestMoreImages:this.handleRequestMoreImages}),h.createElement(b.default,null,h.createElement(j.default,{title:l10n.t(622),type:t,onBack:this.props.onBack,onCancel:this.props.onCancel}),h.createElement(v.default,null,h.createElement(S.default,{onRef:this.setRefSearchHotkeys,handlers:a,onFocus:this.handleSearchFocus},h.createElement(A.default,{ref:this.setRefSearch,placeholder:l10n.t(619),onSearch:this.handleUserInput,loading:this.state.isSearching})),e))}}]),t}(h.Component),L=D;t.Component=L;var U=(0,P.default)((0,T.default)(D));t.default=U},chbfbiahhb:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=i(a("ceffhbhahb")),u=n(a("ddhijeejag")),f=i(a("dfbccdiiii")),h=i(a("bfdcadbbif")),p=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,(0,d.default)(t).apply(this,arguments))}return(0,c.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){return u.createElement("div",{className:(0,l.default)(f.default.button,{[f.default.fullscreen]:this.props.isFullscreenMode}),onClick:this.props.onClick},this.props.isFullscreenMode?u.createElement(h.default,{name:"video-exit-fullscreen"}):u.createElement(h.default,{name:"video-fullscreen"}))}}]),t}(u.PureComponent);t.default=p},chbgjdggfh:function(e,t){e.exports={chat:"_2UaNq",chatAvatar:"_3vpWv",chatBody:"_2WP9Q",chatDetails:"_2-LYg",chatMain:"KgevS",noDelete:"_221a1",chatSecondary:"xD91K",chatTitle:"_3H4MS",chatStatus:"_2Bw3Q",chatMeta:"_0LqQ",unread:"_2ko65",active:"_3mMX1",chatDrag:"_3w49t",idle:"_1k-OW",isMuted:"_3vQQf",themeMessage:"_2J5yE",themeSearch:"_3sA1g",themeDrawerList:"_2nQ7u",themeStatus:"_2t0gn",themeCheckbox:"_3UYKy",themeIdentity:"_3fAgu",themePlain:"_3Ff9z",themeListNames:"_27Ppf",member:"_30Q1W",themeLabel:"_2ZcHO",groupV4Invite:"_1tsvT",product:"_2f0ay",media:"ROigK"}},chbjajaddg:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("eaidjcib")),r=n(a("dgcdacjddi")),o=n(a("ffceefejc")),s=n(a("cjedcdbdii")),d=n(a("dbjagcfebh")),c=n(a("cgcgbfbffj")),l=a("ddjgcfjicj"),u=n(a("bjbdcigbdi")),f=n(a("cbcbdjdah")),h=n(a("biecbbiiee")),p=function(e){function t(){var e,a;(0,i.default)(this,t);for(var n=arguments.length,r=new Array(n),d=0;d<n;d++)r[d]=arguments[d];return(a=(0,o.default)(this,(e=(0,s.default)(t)).call.apply(e,[this].concat(r)))).syncPromise=null,a.isSynced=!1,a}return(0,d.default)(t,e),(0,r.default)(t,[{key:"onResume",value:function(){this.isSynced=!1,this.sync(this.parent)}},{key:"sync",value:function(e){var t=this;return u.default.supportsFeature(u.default.F.INDEX_RECEIVED_VCARD)?this.isSynced?Promise.resolve():this.syncPromise?this.syncPromise:(this.syncPromise=h.default.queryVCard(e.id).then(function(e){return t.add(e)}).catch(l.E499,function(){}).catch(function(){}).finally(function(){t.isSynced=!0,t.syncPromise=null}),this.syncPromise):(this.isSynced=!0,Promise.resolve())}}]),t}(c.default);t.default=p,p.model=f.default,p.resumeOnAvailable=!0},chccggajbc:function(e,t){e.exports={statusLoading:"_2kE6F"}},chcdheijc:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=n(a("ddhijeejag")),u=i(a("fidbefhib")),f=i(a("bbchdeehff")),h=i(a("baagejbchg")),p=i(a("biddiiafgd")),g=i(a("bcbahjefec")),m=i(a("bijffg")),b=i(a("cahigbeecb")),v=i(a("hbciiabei")),j=i(a("dggfjficbb")),E=i(a("cfhgffgbcb")),y=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).onDeleteLabel=function(e){e.forEach(function(e){var t=e.id;m.default.deleteLabel(t)})},a.onManageLabels=function(e){f.default.openModal(l.createElement(E.default,{modelsToUpdate:e}))},a.onEditLabel=function(e){f.default.openModal(l.createElement(u.default,{labelId:e,onUpdateLabel:a.onUpdateLabel,onCancel:f.default.closeModal()}))},a.onLabelClick=function(e){a.push(l.createElement(j.default,{openLabelColorDrawer:a.openLabelColorDrawer,labelId:e,onManageLabels:a.onManageLabels,onClose:a._pop,onRemoveLabel:a.onRemoveLabel,onEditLabel:a.onEditLabel}))},a.openAddLabel=function(){m.default.toArray().length>=h.default.MAX_SMB_LABEL_COUNT?f.default.openModal(l.createElement(p.default,{okText:l10n.t(890),onOK:function(){return f.default.closeModal()}},l10n.t(1479,{count:h.default.MAX_SMB_LABEL_COUNT}))):f.default.openModal(l.createElement(u.default,{onAddLabel:a.onAddLabel,onCancel:f.default.closeModal()}))},a.onUpdateLabel=function(e,t){m.default.updateLabel(e,t)},a.openLabelColorDrawer=function(e,t){a.push(l.createElement(b.default,{labelId:e,onClose:a._pop,onUpdateColor:a.onUpdateLabel,currentColor:t}))},a._pop=function(){a.pop()},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){this.push(l.createElement(v.default,{onDeleteLabel:this.onDeleteLabel,onLabelClick:this.onLabelClick,onClose:this._pop,openAddLabel:this.openAddLabel}))}},{key:"onAddLabel",value:function(e,t){m.default.addNewLabel(e,t)}},{key:"onRemoveLabel",value:function(e,t){var a=[{id:e,type:"remove"}];m.default.addOrRemoveLabels(a,t)}}]),t}(g.default);t.default=y},chdbbjcefd:function(e,t){e.exports={intro:"_1qNwV",body:"_18W8t",title:"Qk8nZ",text:"tzihe",textContainer:"mOuAM",image:"HGVhc",secondary:"IMBOA",divider:"_2a2hS",secondaryText:"Jeekp",secondaryTextBody:"_2nIcO",secondaryIcon:"_2kj3R"}},chdbdhafaj:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("eaidjcib")),r=n(a("dgcdacjddi")),o=n(a("cfadcbbiie")),s=n(a("ichdigdd")),d=a("fgeddfbg"),c=a("cgffhfegce"),l=n(a("bdiiahhjbe")),u=n(a("cjbdijighi")),f=n(a("cgdfjifbb")),h=n(a("cbiibcfhjf")),p=new(function(){function e(){var t=this;(0,i.default)(this,e),this.checkIfAlreadyUploaded=(0,u.default)(function(e){return e.encFilehash},function(e){var t={encFilehash:e.encFilehash,type:e.type};return l.default.log("uploadManager.checkIfAlreadyUploaded: start",t)(),f.default.checkIfUploadExists(e).catch(d.MediaNotFoundError,function(e){return null}).then(function(e){return l.default.log("uploadManager.checkIfAlreadyUploaded: success",t)(),e}).catch(function(e){throw l.default.error("uploadManager.checkIfAlreadyUploaded: error",t,e)(),e})}),this._memoizedUpload=(0,u.default)(function(e){return e.encFilehash},function(e){var t=e.ciphertextHmac,a=e.encFilehash,n=e.type,i=e.signal,r=e.onUploadHostFound,o=e.onUploadAttemptSuccess,s=e.onUploadAttemptError,d=e.onUploadSuccess;return f.default.upload({ciphertextHmac:t,encFilehash:a,type:n,signal:i,onUploadHostFound:r,onUploadAttemptSuccess:o,onUploadAttemptError:s}).then(function(e){return d&&d(),e})}),this._getExistingOrUpload=(0,u.default)(function(e){return e.encFilehash},function(e){var a=e.ciphertextHmac,n=e.encFilehash,i=e.signal,r=e.type,o=e.onCheckExistingSuccess,s=e.onCheckExistingError,d=e.onUploadHostFound,c=e.onUploadAttemptSuccess,u=e.onUploadAttemptError,f=e.onUploadSuccess,h={encFilehash:n,type:r};return l.default.log("uploadManager._getExistingOrUpload: start",h)(),t.checkIfAlreadyUploaded({encFilehash:n,type:r,signal:i}).catch(function(e){throw s&&s(e),e}).then(function(e){return e?(o&&o(),e):t._memoizedUpload({ciphertextHmac:a,encFilehash:n,type:r,signal:i,onUploadHostFound:d,onUploadAttemptSuccess:c,onUploadAttemptError:u,onUploadSuccess:f})}).then(function(e){return l.default.log("uploadManager._getExistingOrUpload: success",h,e)(),e}).catch(function(e){throw l.default.error("uploadManager._getExistingOrUpload: error",h,e)(),e})})}return(0,r.default)(e,[{key:"encryptAndUpload",value:function(e){var t=this,a=e.blob,n=e.signal,i=e.type,r=e.onArrayBufferCreated,d=e.onCheckExistingSuccess,u=e.onCheckExistingError,f=e.onUploadHostFound,p=e.onUploadAttemptSuccess,g=e.onUploadAttemptError,m=e.onUploadSuccess,b=e.onUploadError,v={type:i};return l.default.log("uploadManager.encryptAndUpload: start",v)(),(0,c.blobToArrayBuffer)(a).then(function(a){r&&r(a);var c=null==e.mediaKey?(0,h.default)():e.mediaKey,l=null==e.mediaKeyTimestamp?o.default.globalUnixTime():e.mediaKeyTimestamp;return(0,s.default)({type:i,plaintext:a,mediaKey:c}).then(function(a){var r=a.ciphertextHmac,o=a.hash,s=a.sidecar,h=a.firstFrameSidecar;return(e.mediaKey?t._getExistingOrUpload({ciphertextHmac:r,encFilehash:o,type:i,signal:n,onCheckExistingSuccess:d,onCheckExistingError:u,onUploadHostFound:f,onUploadAttemptSuccess:p,onUploadAttemptError:g,onUploadSuccess:m}):t._memoizedUpload({ciphertextHmac:r,encFilehash:o,type:i,signal:n,onUploadHostFound:f,onUploadAttemptSuccess:p,onUploadAttemptError:g,onUploadSuccess:m})).then(function(e){return{directPath:e.directPath,encFilehash:o,mediaKey:c,mediaKeyTimestamp:l,sidecar:s,firstFrameSidecar:h,url:e.url}})})}).then(function(e){return l.default.log("uploadManager.encryptAndUpload: success",v)(),e}).catch(function(e){throw l.default.error("uploadManager.encryptAndUpload: error",v,e)(),b&&b(e),e})}}]),e}());t.default=p},chdcdgjaad:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var a,n="INIT",r=0;return function(){switch(n){case"INIT":case"FAILURE":return n="INFLIGHT",a=e().then(function(e){return n="SUCCESS",e}).catch(function(e){throw n="FAILURE",r++,t&&t(r),e});case"INFLIGHT":case"SUCCESS":return(0,i.default)(a);default:throw new Error("retriable_promise_hoc:promiseStatus is invalid")}}};var i=n(a("cahfddcdga"))},chdfbgffgh:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("bhfcfhafdj")),o=i(a("eaidjcib")),s=i(a("dgcdacjddi")),d=i(a("ffceefejc")),c=i(a("cjedcdbdii")),l=i(a("dbjagcfebh")),u=n(a("ddhijeejag")),f=i(a("cegfhjajbg")),h=n(a("iaibjaeb")),p=i(a("dbdfbgehgj")),g=a("dghhefgjhc"),m=n(a("hdccjfbbg")),b=i(a("bcfjfagjhe")),v=n(a("bbhhbdicgc")),j=i(a("dhfbfehaef")),E=i(a("cbgeijgefb")),y=i(a("dcaibchbg")),_=0,S=1,C=2,A=3,M=function(e){function t(){var e,a;(0,o.default)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=(0,d.default)(this,(e=(0,c.default)(t)).call.apply(e,[this].concat(i)))).selection=new y.default([],function(e){return e.id.toString()}),a.getSelectionList=function(){var e=a.props,t=e.contacts,n=e.frequentContacts||[],i=[],r=[];return t.forEach(function(e){if(e.isGroup){var t=p.default.get(e.id);t&&r.push(t)}else i.push(e)}),n.concat(i).concat(r)},a.onFocusGain=function(e){e.target===a.refList&&(a.selection.index<0?a.focusFirst():a.selection.reset(!0))},a.focusFirst=function(){a.selection.setFirst(!0)},a.onNextContact=function(e){e.preventDefault(),e.stopPropagation(),a.selection.setNext(!0)},a.onPrevContact=function(e){e.preventDefault(),e.stopPropagation(),a.selection.prev()>-1?a.selection.setPrev(!0):(a.selection.unset(),a.props.onFocusSearch(e))},a.setRefHotKeys=function(e){a.refList=e},a.renderContact=function(e,t){var n;return e.isBlocked()&&(n=l10n.t(355)),u.createElement(m.default,{active:a.selection,contact:e,onClick:a.props.onClick,secondary:n,frequent:t,waitIdle:!0})},a.renderItem=function(e){switch(e.type){case _:return u.createElement(E.default,{key:"frequent-contacts-header",header:l10n.t(1240)});case A:var t=e.data,n=e.frequent;return a.renderChat(t,n);case C:var i=e.data,r=e.frequent;return a.renderContact(i,r);case S:var o=e.data,s=e.separator;return u.createElement("div",{className:b.default.header},s?u.createElement(f.default,{key:"separator-".concat(o)}):null,u.createElement(E.default,{header:o}));default:throw new v.UnknownDataError(e)}},a}return(0,l.default)(t,e),(0,s.default)(t,[{key:"renderChat",value:function(e,t){return u.createElement(h.default,{active:this.selection,chat:e,mode:h.Mode.INFO,noContext:!0,onClick:this.props.onClick,frequent:t})}},{key:"getFrequentContactsData",value:function(e){var t=this,a=[];return e.forEach(function(e){var n=t.getContactDataItem(e,!0);n&&a.push(n)}),a}},{key:"getContactDataItem",value:function(e,t){var a=(t?m.FREQUENT_PREFIX:"")+e.id.toString();if(e.isGroup){var n=p.default.get(e.id);return n?{itemKey:a,data:n,type:A,frequent:t}:null}return{itemKey:a,data:e,type:C,frequent:t}}},{key:"getData",value:function(){var e=this.props.frequentContacts,t=[],a=[],n=[];e&&e.length&&(t.push({itemKey:"frequent-contacts-header",type:_}),t.push.apply(t,(0,r.default)(this.getFrequentContactsData(e)))),this.props.contacts.forEach(function(e){e.isGroup?n.push(e):a.push(e)});var i=this.getDataFromContacts(a),o=this.getDataFromContacts(n);if(this.props.showPersonGroupDivisionHeader&&i.length>0){var s=l10n.t(1208);t.push({itemKey:"header-".concat(s),data:s,separator:!0,type:S})}if(t.push.apply(t,(0,r.default)(i)),this.props.showPersonGroupDivisionHeader&&o.length>0){var d=l10n.t(1299);t.push({itemKey:"header-".concat(d),data:d,separator:!0,type:S})}return t.push.apply(t,(0,r.default)(o)),t}},{key:"getDataFromContacts",value:function(e){if(0===e.length)return[];for(var t=e[0].isGroup?"group":"contact",a=[],n=e.length>10,i="XXX",r=0;r<e.length;r++){var o=e[r];if(n&&o.header){var s=o.header;if(s!==i){var d=r<e.length-1&&s!==e[r+1].header;a.push({itemKey:"header-".concat(t,"-").concat(s),data:s,separator:d,type:S}),i=s}}var c=this.getContactDataItem(o);c&&a.push(c)}return a}},{key:"render",value:function(){this.selection.init(this.getSelectionList());var e={down:this.onNextContact,up:this.onPrevContact};return u.createElement(j.default,{onRef:this.setRefHotKeys,handlers:e,onFocus:this.onFocusGain,"data-tab":g.TAB_ORDERS.CHAT_CONTACT_LIST},u.createElement(v.default,{data:this.getData(),renderItem:this.renderItem,flatListController:this.props.flatListController,direction:"vertical"}))}}]),t}(u.PureComponent);t.default=M},chdggedfah:function(e,t,a){"use strict";var n=a("cfjecfhbfg"),i=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.msg,a=e.displayAuthor;e.displayType;return r.createElement(d.default,{msg:t,displayAuthor:a},r.createElement(s.default,{iconName:"unknown",msg:t},o.default.msgText(t)))};var r=i(a("ddhijeejag")),o=(n(a("baagejbchg")),n(a("dgjddffcfg"))),s=n(a("cfiighfhhg")),d=n(a("dbabefhajh"))},chdhhgfaj:function(e,t){e.exports={container:"_15Ywg",wrapper:"fsf95",innerWrapper:"_1Awt5",starIcon:"_11MuB",thumb:"K-kNO",blur:"_2sb6A"}},chegeejfcg:function(e,t){e.exports={"-emoji-width":"44px",emojiWidth:"44px",panel:"_2JiCb"}},chfehjfdj:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if("sticker"!==t.tag(e))return;var a=t.attr("filehash",e);if(!a)return void i.default.error("sticker:parse missing filehash field")();var n={id:a,clientUrl:t.attr("url",e),directPath:t.attr("direct_path",e),mediaKey:t.attr("media_key",e),filehash:a,uploadhash:t.attr("enc_filehash",e),mimetype:t.attr("mimetype",e),width:parseInt(t.attr("width",e),10),height:parseInt(t.attr("height",e),10),size:parseInt(t.attr("size",e),10)};(!n.mimetype||Number.isNaN(n.width)||Number.isNaN(n.height)||Number.isNaN(n.size))&&i.default.error("sticker:parse missing preferred fields: ")(n);return n};var i=n(a("bdiiahhjbe"))},chfghiiefb:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.webMediaTypeToWamMediaType=function(e){switch(e){case"VIDEO":return 3;case"IMAGE":return 2;case"AUDIO":return 4;case"STICKER":return 16;case"DOCUMENT":return 8;case"PRODUCT":return 18;default:throw new Error("web media type is invalid: ".concat(e))}},t.default=void 0;var i=n(a("bhabhhjdch")),r=n(a("hbddjfeei")),o=n(a("eaidjcib")),s=n(a("dgcdacjddi")),d=n(a("baagejbchg")),c=n(a("feacbgeaf")),l=a("beadfddidc"),u=n(a("bdiiahhjbe")),f=a("eifaagjjg"),h=a("daichdjff"),p=n(a("gbjefdbgb")),g=a("fabajdgab"),m=n(a("beeieigghj")),b=n(a("ceddibdhdb")),v=a("becjcdaafd"),j=n(a("bihdhbjih"));function E(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function y(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?E(Object(a),!0).forEach(function(t){(0,i.default)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):E(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var _=function(){function e(){var t=this;(0,o.default)(this,e),this._msgs=[],this._notifyTimer=new b.default(function(){!function(e){var t={};S(t,e,h.FIELDS.RAW),S(t,e.contentInfo,e.contentFields()),e.mediaBlob&&(t.renderableUrl=e.mediaBlob.url());for(var a=e._msgs,n=a.length,i=0;i<n;i++){var o=(0,r.default)(a[i],2),s=o[0],c=o[1];if(!c){if(s.type!==d.default.MSG_TYPE.CIPHERTEXT){t.mediaStage=C(s,e);for(var l=0;l<h.MSG_SPECIFIC_FIELDS.length;l++){var u=h.MSG_SPECIFIC_FIELDS[l];t[u]=s[h.MEDIA_TO_MSG[u]]}}else{delete t.mediaStage;for(var f=0;f<h.MSG_SPECIFIC_FIELDS.length;f++)delete t[h.MSG_SPECIFIC_FIELDS[f]]}s.mediaData.set(t)}}for(var p=a.length-1;p>=0;p--)a[p][1]&&a.splice(p,1);var g=e._callOnConsolidate;!e._pendingChanges&&g&&(e._callOnConsolidate=null,g.forEach(function(e){e()}));e._saveMedia&&e._saveMedia(e)}(t),function(e){var t={};S(t,e,h.FIELDS.RAW),S(t,e.contentInfo,e.contentFields()),e.mediaBlob&&(t.renderableUrl=e.mediaBlob.url());var a=A(e);e._stickers=e._stickers.filter(function(e){var t=(0,r.default)(e,2);return t[0],!t[1]}),e._stickers.forEach(function(e){var n=(0,r.default)(e,2),i=n[0];n[1],i.mediaData.set(y({},t,{mediaStage:a}))}),e._stickerPacks=e._stickerPacks.filter(function(e){var t=(0,r.default)(e,2);return t[0],!t[1]}),e._stickerPacks.forEach(function(e){var n=(0,r.default)(e,2),i=n[0];n[1],i.mediaData.set(y({},t,{mediaStage:a}))}),!e._pendingChanges&&e._callOnConsolidate&&(e._callOnConsolidate.forEach(function(e){e()}),e._callOnConsolidate=null);e._saveMedia&&e._saveMedia(e)}(t)}),this._uploadAsGif=!1,this._callOnConsolidate=null,this._keyedProcesses=null,this._pendingChangesCount=0,this._saveMedia=null,this._stickers=[],this._stickerPacks=[],this.entries=new f.MediaEntryList,this.downloadStage=h.DOWNLOAD_STAGE.INIT,this.uploadStage=h.UPLOAD_STAGE.INIT,this.userAttemptCount=0,this.downloadPromise=null,this.uploadPromise=null,this.mediaBlob=null,this.size=void 0,this.filehash=void 0,this.contentInfo={}}return(0,s.default)(e,[{key:"consolidate",value:function(e){return!!function(e,t){var a=e.contentInfo,n=!1,i=function(e,t){switch(e){case h.OUTWARD_TYPES.TEMPLATE:if((0,l.shouldEnableHsm)()){if(t===d.default.TEMPLATE_SUBTYPE.IMAGE)return h.TYPE.IMAGE;if(t===d.default.TEMPLATE_SUBTYPE.VIDEO)return h.TYPE.VIDEO;if(t===d.default.TEMPLATE_SUBTYPE.DOCUMENT)return h.TYPE.DOCUMENT}case h.OUTWARD_TYPES.IMAGE:case h.OUTWARD_TYPES.PRODUCT:return h.TYPE.IMAGE;case h.OUTWARD_TYPES.VIDEO:return h.TYPE.VIDEO;case h.OUTWARD_TYPES.STICKER:return h.TYPE.STICKER;case h.OUTWARD_TYPES.AUDIO:case h.OUTWARD_TYPES.PTT:return h.TYPE.AUDIO;case h.OUTWARD_TYPES.DOCUMENT:default:return}}(t.type,t.subtype);i&&!e.type&&(e.type=i,n=!0);var r=t.downloadStage,o=t.uploadStage;r&&r!==e.downloadStage&&(e.downloadStage=r,n=!0);o&&o!==e.uploadStage&&(e.uploadStage=o,n=!0);t.resolvedPreview&&!a.preview&&(t.resolvedPreview.retain(),a.preview=t.resolvedPreview,n=!0);var s=t.mediaBlob;s&&!s.isBlobEqual(e.mediaBlob)&&(e.mediaBlob&&e.clearBlob(),s.retain(),e.mediaBlob=s,e.size=s.size(),n=!0);null!=t.size&&(null==e.size||t.size<e.size)&&(e.size=t.size,n=!0);t.filehash&&!e.filehash&&(e.filehash=t.filehash,n=!0);for(var c=e.contentFields(),u=0;u<c.length;u++){var f=c[u];switch(f){case"preview":t.preview&&!a._preview&&(e.runProcessIfNotRunBefore("preview",M,t.preview),a._preview=t.preview,n=!0);break;case"fullWidth":case"fullHeight":case"aspectRatio":var p=t[f];null!=p&&0!==p&&a[f]!==p&&(a[f]=p,n=!0);break;case"animationDuration":var g=t[f];null!=g&&g!==a[f]&&(a[f]=g,n=!0);break;default:var m=t[f];void 0!==m&&void 0===a[f]&&(a[f]=m,n=!0)}}null!=a.aspectRatio&&0!==a.aspectRatio||(null!=a.fullWidth&&0!==a.fullWidth&&null!=a.fullHeight&&0!==a.fullHeight?(a.aspectRatio=a.fullWidth/a.fullHeight,n=!0):a.preview&&e.runProcessIfNotRunBefore("aspectRatio",T,a.preview));return n}(this,e)&&(this.notifyMsgsAsync(),!0)}},{key:"clearBlob",value:function(){var e=this.mediaBlob;e&&(this.mediaBlob=null,e.autorelease())}},{key:"contentFields",value:function(){var e=this.type||h.TYPE.DOCUMENT;return h.FIELDS[e]}},{key:"resolveWhenConsolidated",value:function(){var e=this;return this._notifyTimer.ts||this._pendingChanges?new Promise(function(t){e._callOnConsolidate?e._callOnConsolidate.push(t):e._callOnConsolidate=[t]}):Promise.resolve()}},{key:"notifyMsgsAsync",value:function(){this._notifyTimer.debounce(0)}},{key:"addMsg",value:function(e){for(var t=this._msgs,a=0;a<t.length;a++){var n=(0,r.default)(t[a],2),i=n[0],o=n[1];u.default.assert(i!==e||o,"redundant-media-msg")()}t.push([e,!1]),this.notifyMsgsAsync()}},{key:"removeMsg",value:function(e){for(var t=this._msgs,a=!1,n=0;!a&&n<t.length;n++){var i=(0,r.default)(t[n],2),o=i[0],s=i[1];o!==e||s||(t[n][1]=!0,a=!0)}}},{key:"hasAssociatedMsgsOrStickers",value:function(){for(var e=this._msgs,t=0;t<e.length;t++)if(!e[t][1])return!0;return this.hasAssociatedStickers()||this.hasAssociatedStickerPacks()}},{key:"associatedMsgs",value:function(){for(var e=this._msgs,t=[],a=0;a<e.length;a++){var n=(0,r.default)(e[a],2),i=n[0];n[1]||t.push(i)}return t}},{key:"rmr",value:function(e){var t=this,a=this.associatedStickers();if(a.length>0)return(0,v.rmrSticker)(this.entries,this._stickers,a[0]).then(function(e){return e.sticker?{status:e.status,url:e.sticker.url,mediaKey:e.sticker.mediaKey}:{status:e.status}});var n,i=this.associatedStickerPacks();if(i.length>0)return(0,v.rmrStickerPack)(this.entries,this._stickerPacks,i[0]).then(function(e){return e.stickerPack?{status:e.status,url:e.stickerPack.url,mediaKey:e.stickerPack.mediaKey}:{status:e.status}});for(var o=this._msgs,s=0;!n&&s<o.length;s++){var d=(0,r.default)(o[s],2),c=d[0];d[1]||c.isUnsentPhoneMsg()||(n=c)}return u.default.assert(n,"media-fault: rmr called on MediaObject with no msg")(),n?(e.onMsgSelect(n),j.default.requestMediaReupload(n).tap(function(e){if(200===e.status&&n){var a=t.entries.addEntry(e.url,e.mediaKey||n.mediaKey,e.mediaKeyTimestamp,e.encFilehash,n.mediaData.type,null,e.directPath);a&&a.markWhetherOnServer(!0)}})):Promise.reject(new Error("rmr called on MediaObject with no msg"))}},{key:"msgProps",value:function(e){var t={};S(t,this,h.FIELDS.RAW),S(t,this.contentInfo,this.contentFields()),S(t,e,h.MSG_SPECIFIC_FIELDS),t.preview=this.contentInfo._preview;var a={};for(var n in t){var i=h.MEDIA_TO_MSG[n];i&&(a[i]=t[n])}return a}},{key:"uploadType",value:function(){switch(this.type){case h.TYPE.VIDEO:return this._uploadAsGif?h.UPLOAD_TYPE.GIF:h.UPLOAD_TYPE.VIDEO;case h.TYPE.IMAGE:case h.TYPE.PRODUCT:return h.UPLOAD_TYPE.IMAGE;case h.TYPE.AUDIO:return h.UPLOAD_TYPE.AUDIO;default:return h.UPLOAD_TYPE.DOCUMENT}}},{key:"delete",value:function(){this._saveMedia=null,this.downloadPromise&&this.downloadPromise.cancel(),this.uploadPromise&&this.uploadPromise.control.cancel(),this.clearBlob()}},{key:"runProcessIfNotRunBefore",value:function(e,t,a){var n=this,i=this._keyedProcesses;i||(i=this._keyedProcesses={}),i.hasOwnProperty(e)||(this._pendingChangesCount++,i[e]=Promise.resolve(a).then(t).then(function(e){n.consolidate(e)}).finally(function(){n._pendingChangesCount--,0===n._pendingChangesCount&&n.notifyMsgsAsync()}))}},{key:"getPendingProcess",value:function(e){return 0!==this._pendingChangesCount&&this._keyedProcesses&&this._keyedProcesses.hasOwnProperty(e)?this._keyedProcesses[e]:Promise.resolve()}},{key:"videoStreamingInfo",value:function(e){var t=this;if(this.type!==h.TYPE.VIDEO)return u.default.assert(!1,"media-fault: media streaming info request for non-video type","type: ".concat(String(this.type)))(),null;var a=this.entries.getDownloadEntry();return a&&a.sidecar?Promise.all([(0,c.default)(p.default.VIDEO,a.mediaKey),a.url()]).then(function(n){var i=(0,r.default)(n,2),o=i[0],s=i[1];return{cryptoKeys:y({},o,{cipherKey:o.encKey,sidecar:a.sidecar}),streamData:{clientUrl:s,size:t.size,msgKey:e}}}):null}},{key:"addStickerPack",value:function(e){for(var t=this._stickerPacks,a=0;a<t.length;a++){var n=(0,r.default)(t[a],2),i=n[0],o=n[1];u.default.assert(i!==e||o,"redundant-sticker-pack-add")()}t.push([e,!1]),this.notifyMsgsAsync()}},{key:"addSticker",value:function(e){for(var t=this._stickers,a=0;a<t.length;a++){var n=(0,r.default)(t[a],2),i=n[0],o=n[1];u.default.assert(i!==e||o,"redundant-sticker-add")()}t.push([e,!1]),this.notifyMsgsAsync()}},{key:"removeSticker",value:function(e){for(var t=this._stickers,a=!1,n=0;!a&&n<t.length;n++){var i=(0,r.default)(t[n],2),o=i[0],s=i[1];o!==e||s||(t[n][1]=!0,a=!0)}}},{key:"removeStickerPack",value:function(e){for(var t=this._stickerPacks,a=!1,n=0;!a&&n<t.length;n++){var i=(0,r.default)(t[n],2),o=i[0],s=i[1];o!==e||s||(t[n][1]=!0,a=!0)}}},{key:"hasAssociatedStickers",value:function(){return this._stickers.some(function(e){var t=(0,r.default)(e,2);t[0];return!t[1]})}},{key:"hasAssociatedStickerPacks",value:function(){return this._stickerPacks.some(function(e){var t=(0,r.default)(e,2);t[0];return!t[1]})}},{key:"associatedStickers",value:function(){return this._stickers.reduce(function(e,t){var a=(0,r.default)(t,2),n=a[0];return a[1]?e:e.concat(n)},[])}},{key:"associatedStickerPacks",value:function(){return this._stickerPacks.reduce(function(e,t){var a=(0,r.default)(t,2),n=a[0];return a[1]?e:e.concat(n)},[])}},{key:"toJSON",value:function(){return{mediaBlob:this.mediaBlob,size:this.size,filehash:this.filehash,type:this.type,contentInfo:this.contentInfo,downloadStage:this.downloadStage,uploadStage:this.uploadStage}}}]),e}();function S(e,t,a){for(var n=0;n<a.length;n++){var i=a[n];e[i]=t[i]}}function C(e,t){return t.filehash?e.id.fromMe&&e.ack<1?(u.default.assert(e.local,"media-fault: unsent media system message not local")(),function(e){switch(e.uploadStage){case h.UPLOAD_STAGE.INIT:case h.UPLOAD_STAGE.PREPARING:return h.STAGE.PREPARING;case h.UPLOAD_STAGE.UPLOADING:return h.STAGE.UPLOADING;case h.UPLOAD_STAGE.NEED_UPLOAD:return h.STAGE.NEED_UPLOAD;case h.UPLOAD_STAGE.ERROR_MISSING:return h.STAGE.ERROR_MISSING;case h.UPLOAD_STAGE.ERROR_TOO_LARGE:return h.STAGE.ERROR_TOO_LARGE;case h.UPLOAD_STAGE.UPLOADED:return h.STAGE.SENDING}}(t)):A(t):h.STAGE.PREPARING}function A(e){switch(e.downloadStage){case h.DOWNLOAD_STAGE.INIT:return h.STAGE.INIT;case h.DOWNLOAD_STAGE.PREPARING:return h.STAGE.PREPARING;case h.DOWNLOAD_STAGE.REUPLOADING:return h.STAGE.REUPLOADING;case h.DOWNLOAD_STAGE.FETCHING:return h.STAGE.FETCHING;case h.DOWNLOAD_STAGE.PROCESSING:return h.STAGE.DECRYPTING;case h.DOWNLOAD_STAGE.NEED_POKE:return h.STAGE.NEED_POKE;case h.DOWNLOAD_STAGE.ERROR_MISSING:return h.STAGE.ERROR_MISSING;case h.DOWNLOAD_STAGE.ERROR_UNSUPPORTED:return h.STAGE.ERROR_UNSUPPORTED;case h.DOWNLOAD_STAGE.RESOLVED:return h.STAGE.RESOLVED}}function M(e){return m.default.createFromBase64Jpeg(e).then(function(e){return e.autorelease(),{resolvedPreview:e}})}function T(e){return(0,g.getImageWidthHeight)(e).then(function(e){return{aspectRatio:e.width/e.height}})}t.default=_},chgafjbahd:function(e,t){e.exports={container:"Drque",quotedMsg:"_2HTIU",statusV3QuotedMsg:"_7Q1c5",composeBoxQuotedMsg:"_2I-yY",hover:"_1W7nH",colorBar:"_1dvF4",msgBody:"_3LVMN",msgText:"SdGy6",quotedPaymentMsg:"zPdFn"}},chgeeccada:function(e,t){e.exports={checkboxSelectableWrapper:"_1M4WD",checkboxSelectableControl:"_37goh"}},chgfegiddc:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.hasPending=function(){if(!C.default.connected)return!1;var e=a("ecfbchagde").hasText,t=G.default.some(function(e){return 0===e.ack&&e.local&&e.isSentByMe}),n=j.default.some(function(e){return!!e.composeContents.text});return t||n||e()},t.default=void 0;var r=i(a("hbddjfeei")),o=i(a("eaidjcib")),s=i(a("dgcdacjddi")),d=i(a("ffceefejc")),c=i(a("cjedcdbdii")),l=i(a("dbjagcfebh")),u=i(a("ddbbigfbec")),f=i(a("echehdcaii")),h=i(a("ceffhbhahb")),p=i(a("dgdjiicfdg")),g=n(a("ddhijeejag")),m=i(a("cjihfbehgb")),b=i(a("djheacfeif")),v=i(a("jaigjeiig")),j=i(a("dbdfbgehgj")),E=i(a("hhbhaabfi")),y=i(a("bbchdeehff")),_=i(a("baagejbchg")),S=i(a("biddiiafgd")),C=i(a("bjigbaghc")),A=i(a("fjeagagdf")),M=n(a("bicbaggehc")),T=a("bbicdddbdj"),P=i(a("ddajbaceej")),N=i(a("ihgefacbb")),I=n(a("dhfbfehaef")),k=i(a("bdgeaggfea")),O=i(a("ebidfedahj")),R=i(a("bhhgagadei")),w=i(a("eceadcicaf")),D=i(a("bdiiahhjbe")),L=i(a("cbgedejjgb")),U=i(a("bfbggcdbfb")),G=i(a("biecbbiiee")),x=i(a("dhgfgiaedi")),F=i(a("dhabbfcefj")),B=i(a("bjbedjfe")),V=a("hfifjaejc"),H=i(a("bgidiahdfc")),W=i(a("ceddibdhdb")),Y=i(a("cbjedbdgjh")),$=i(a("dcdiaahjj")),K=i(a("dedjffeefj")),q=i(a("cfcdedaej")),z=i(a("bcjcbbafcj")),Q=i(a("caffijjhc")),J=i(a("cdeahgaaii")),Z=i(a("edbaidcaf")),X=i(a("egjjcjcg")),ee=i(a("bfdijdeegj")),te=i(a("bgeajihhc")),ae=i(a("ecbjchafdg")),ne=i(a("gcbhjhjhg")),ie=a("bbaibbdgdj"),re=a("chiaeadhif"),oe=[[document,"mousemove"],[document,"scroll"],[document,"keydown"],[window,"focus"],[window,"resize"]];function se(e){window.history.pushState({},"",window.location.href)}var de=function(e){function t(e){var a;(0,o.default)(this,t),(a=(0,d.default)(this,(0,c.default)(t).call(this,e))).state={drawerActive:!1,drawerAnimating:!1},a.idleMonitor=null,a.serverPropsQueryLoop=null,a.rightDrawerOut=!1,a._setRefContainer=function(e){a._refContainer=e},a._refChatlistPanel=g.createRef(),a._refConversation=g.createRef(),a.onBlurTimer=new W.default(function(){if(document.activeElement===document.body){var e=J.default.Manager.top;e&&e.uie.requestFocus()}}),a.onBlur=function(){a.onBlurTimer.debounce(10)},a.onRightDrawerIn=function(){a.rightDrawerOut=!1,y.default.onPanesWillChange(3),a.setState({drawerActive:!0,drawerAnimating:!0},function(){y.default.onPanesDidChange(3)}),a.animateConversationPanel()},a.onRightDrawerOut=function(){a.rightDrawerOut=!0;var e={drawerActive:a.state.drawerActive,drawerAnimating:!0};a.animateConversationPanel()?(y.default.onPanesWillChange(2),e.drawerActive=!1,a.setState(e,y.default.onPanesDidChange.bind(y.default,2))):a.setState(e)},a.onRightDrawerAnimationComplete=function(){var e={drawerActive:a.state.drawerActive,drawerAnimating:!1};a.state.drawerActive&&a.rightDrawerOut&&(e.drawerActive=!1),a.setState(e)},a.onRotateFocus=function(e){if(a._refContainer){var t=1;e&&(e.stopPropagation(),e.preventDefault(),t=e.shiftKey?-1:1,(0,I.shouldIndicateFocus)());var n=[];if(Array.from(a._refContainer.querySelectorAll("[data-tab]")).forEach(function(e){n.push(e)}),y.default.existsDrawerLeft(function(e){var t,i=null===(t=a._refChatlistPanel)||void 0===t?void 0:t.current;e&&i&&(n=n.filter(function(e){return!i.containsDOMNode(e)}))}),y.default.existsDrawerMid(function(e){var t,i=null===(t=a._refConversation)||void 0===t?void 0:t.current;e&&i&&(n=n.filter(function(e){return!i.containsDOMNode(e)}))}),n.length){n=(0,u.default)(n,function(e){return parseInt(e.getAttribute("data-tab"),10)||0});var i=0,r=document.activeElement;r&&(i=k.default.ring(n.findIndex(function(e){return e.contains(r)})+t,n));var o=n[i];(0,I.shouldIndicateFocus)(),o.restoreFocus?o.restoreFocus():P.default.focus(o)}}},a.showTOS=function(){switch(C.default.tos){case 1:case 2:y.default.openModal(g.createElement(q.default,null),{blockClose:!0});break;case 3:te.default.logout()}},a.showSmbTos=function(){C.default.smbTos&&y.default.openModal(g.createElement(Y.default,null),{blockClose:!0})},a.showKeyboardShortcuts=function(e){for(var t,a=e.target,n=0;n<5;n++){if((t=a)&&t.getAttribute("contentEditable")||t instanceof HTMLInputElement)return;a=a.parentNode}y.default.openModal(g.createElement(ae.default,null)),e.preventDefault()},$.default.uiActive=!0,$.default.markAvailable();var n=C.default.platform;return(0,H.default)("iphone"===n?T.EMOJI_TYPE.APPLE:T.EMOJI_TYPE.WHATSAPP),v.default.setPlatform(n),a}return(0,l.default)(t,e),(0,s.default)(t,[{key:"componentWillUnmount",value:function(){this.onBlurTimer.cancel(),R.default.menuBatchRenderWith(function(){R.default.trigger("".concat(O.default.Event,":").concat(O.default.Events.LOGGED_OUT))}),Z.default.canMuckHistory()&&window.history.back(),$.default.uiActive=!1,this.clearIdleMonitor(),this.clearServerPropsQueryLoop(),this.stopTrackingFPS&&this.stopTrackingFPS()}},{key:"componentDidMount",value:function(){var e=this.props.listeners;if(R.default.menuBatchRenderWith(function(){R.default.trigger("".concat(O.default.Event,":").concat(O.default.Events.LOGGED_IN))}),Z.default.canMuckHistory()&&(window.history.pushState({},"",window.location.href),e.add(window,"popstate",se)),this.beginIdleMonitor(!0),this.beginServerPropsQueryLoop(),e.add(C.default,"change:tos",this.showTOS),this.showTOS(),C.default.isSMB&&(e.add(C.default,"change:smbTos",this.showSmbTos),this.showSmbTos()),P.default.focus(this._refContainer),z.default.isSafari&&(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)){var t=X.default.getNUX(_.default.NUX.SAFARI_LIMITED_SUPPORT);(!t||t<t.maxViews)&&(setTimeout(function(){var e=l10n.t(1470,{chrome_homepage:_.default.BROWSER_LINK.CHROME,firefox_homepage:_.default.BROWSER_LINK.FIREFOX,opera_homepage:_.default.BROWSER_LINK.OPERA});y.default.openModal(g.createElement(S.default,{onOK:function(){return y.default.closeModal()},okText:l10n.t(890)},g.createElement("div",{dangerouslySetInnerHTML:{__html:e}})))},250),X.default.setNUX(_.default.NUX.SAFARI_LIMITED_SUPPORT,{views:1,maxViews:1}))}if(this.stopTrackingFPS=N.default.whenLessThan(1,function(e,t){new U.default.WebcUiFreeze({webcUiFreezeFps:e,webcUiFreezeT:(0,f.default)(t,0)}).commit(),D.default.log("Low FPS Tracker: ".concat((0,f.default)(e,2),"fps, ").concat((0,f.default)(t,3)/1e3,"s since page open."))()}),ne.default.supported){var a=navigator.serviceWorker;a&&a.controller&&re.request(a.controller,ie.PRELOAD_LAZY_LOADED_BUNDLES).catch(function(){})}}},{key:"beginIdleMonitor",value:function(e){var t=this,a=e?_.default.IDLE_TIMEOUT:0;this.idleMonitor=Promise.loop(function(){return Promise.delay(a).addCancelControl().then(function(){var e;$.default.markUnavailable(3e4);var n=new Promise(function(t){e=t});return oe.forEach(function(a){var n=(0,r.default)(a,2),i=n[0],o=n[1];t.props.listeners.add(i,o,e)}),n.addCancelControl().finally(function(){oe.forEach(function(a){var n=(0,r.default)(a,2),i=n[0],o=n[1];t.props.listeners.remove(i,o,e)})}).then(function(){document.hasFocus()&&$.default.markAvailable(),a=_.default.IDLE_TIMEOUT})})}).finally(function(){t.idleMonitor=null}).catch(Promise.CancellationError,function(){}).endWithControls("cancel")}},{key:"clearIdleMonitor",value:function(){this.idleMonitor&&this.idleMonitor.control.cancel()}},{key:"beginServerPropsQueryLoop",value:function(){var e=this;this.serverPropsQueryLoop=b.default.setLocalTimeout(function(){(0,V.queryServerProps)(),e.beginServerPropsQueryLoop()},(0,p.default)().add(1,"days").valueOf())}},{key:"clearServerPropsQueryLoop",value:function(){b.default.clearTimeout(this.serverPropsQueryLoop)}},{key:"animateConversationPanel",value:function(){var e,t,a,n,i=null===(e=this._refChatlistPanel)||void 0===e?void 0:null===(t=e.current)||void 0===t?void 0:t.getClientWidth();if(null==i)return!1;var r=null===(a=this._refContainer)||void 0===a?void 0:a.clientWidth;return null!=r&&(!(null===(n=this._refConversation)||void 0===n||!n.current)&&this._refConversation.current.animatePanel(r,i))}},{key:"render",value:function(){var e=(0,h.default)("app",L.default.app,{three:this.state.drawerActive,two:!this.state.drawerActive,"app-animating":this.state.drawerAnimating,[L.default.noAnimation]:!this.props.animate}),t={tab:this.onRotateFocus,"shift+tab":this.onRotateFocus,"shift+?":this.showKeyboardShortcuts};return g.createElement(Q.default,{state:Q.default.State.INACTIVE,displayName:"Main"},g.createElement(I.default,{handlers:t,className:e,onBlur:this.onBlur,onRef:this._setRefContainer},g.createElement(x.default,null),g.createElement(m.default,null),g.createElement(F.default,null),g.createElement(ee.default,null),g.createElement(K.default,null),void 0,g.createElement("div",{className:L.default.drawerManager},g.createElement("div",{className:(0,h.default)(L.default.pane,L.default.paneOne)},g.createElement(M.default,{direction:M.Dir.LEFT})),g.createElement("div",{className:(0,h.default)(L.default.pane,L.default.paneTwo)},g.createElement(M.default,{direction:M.Dir.MID})),g.createElement("div",{className:(0,h.default)(L.default.pane,L.default.paneThree)},g.createElement(M.default,{direction:M.Dir.RIGHT,onDrawerIn:this.onRightDrawerIn,onDrawerOut:this.onRightDrawerOut,onDrawerAnimationComplete:this.onRightDrawerAnimationComplete}))),g.createElement("div",{className:(0,h.default)(L.default.pane,L.default.paneOne)},g.createElement(E.default,{ref:this._refChatlistPanel})),g.createElement("div",{className:(0,h.default)(L.default.pane,L.default.paneTwo)},g.createElement(A.default,{animate:this.props.animate,ref:this._refConversation}))))}}]),t}(g.PureComponent),ce=(0,w.default)((0,B.default)(de));t.default=ce},chghgadcbg:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=n(a("dcaifjegcg")),u=i(a("bhggeigghg")),f=i(a("jccfhaecf")),h=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).id=(0,l.prop)(),a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"contact",value:function(){return u.default.Contact.gadd(this.id)}},{key:"getCollection",value:function(){return a("bgfcjjddjf").default}}]),t}(l.default);h.Proxy="blocklist",h.idClass=f.default;var p=(0,l.defineModel)(h);t.default=p},chhcagejdh:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=i(a("bhaghghai")),u=i(a("ceffhbhahb")),f=n(a("ddhijeejag")),h=a("bgddggdhc"),p=a("ddajbaceej"),g=a("ccgdfaeibd"),m=i(a("dhfbfehaef")),b=i(a("eceadcicaf")),v=i(a("dfgeejdaib")),j=i(a("cjiiehdbge")),E=i(a("cdcbgdeab")),y=i(a("bfdcadbbif")),_={RIGHT:"RIGHT",LEFT:"LEFT"},S=4,C=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).state={curIndex:0,direction:_.RIGHT},a.msgLength=0,a.starredPreviewRef={},a.selectionIndex=0,a.onSlideLeft=function(){return a.hasLeft()?new Promise(function(e){a.setState({curIndex:a.state.curIndex-1,direction:_.LEFT},function(){e(!0)})}):Promise.resolve(!1)},a.onSlideRight=function(){return a.hasRight()?new Promise(function(e){a.setState({curIndex:a.state.curIndex+1,direction:_.RIGHT},function(){e(!0)})}):Promise.resolve(!1)},a.setRef=function(e){a._ref=e},a.hasRight=function(){return a.state.curIndex+S<a.msgLength},a.hasLeft=function(){return a.state.curIndex>0},a.handleLeftArrow=function(e){a.onSlideLeft().then(function(t){a.selectionIndex=t?a.selectionIndex:a.selectionIndex-1,a.selectionIndex<0?a.stopEvent(e):(a.stopEvent(e),a.focusStarredGif())})},a.handleRightArrow=function(e){a.onSlideRight().then(function(t){a.selectionIndex=t?a.selectionIndex-1:a.selectionIndex;var n=Object.keys(a.starredPreviewRef).length;if(a.selectionIndex<3&&a.selectionIndex<n-1)a.selectionIndex=a.selectionIndex+1;else{if(!a.hasRight())return void a.stopEvent(e);a.selectionIndex=3}a.stopEvent(e),a.focusStarredGif()})},a.stopEvent=function(e){e&&(e.preventDefault(),e.stopPropagation())},a.handleEnter=function(e){a.stopEvent(e),a.starredPreviewRef[a.selectionIndex].component._gifRef.handleClick()},a.focusStarredGif=function(){var e=(0,h.forbiddenAssertDOMNode)(a.starredPreviewRef[a.selectionIndex]);e&&(0,p.focus)(e)},a.initSelection=function(){a.selectionIndex=0,a.focusStarredGif()},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"UNSAFE_componentWillMount",value:function(){var e=this,t=v.default;this.props.listeners.add(t,"add remove reset",function(){e.forceUpdate()}),t.isSynced||t.sync()}},{key:"getClientHeight",value:function(){return this._ref&&this._ref.clientHeight}},{key:"hasGifs",value:function(){return Boolean(this._ref&&this._ref.childNodes.length)}},{key:"isStarredGif",value:function(e){return!!e&&(!!this._ref&&this._ref.contains(e))}},{key:"render",value:function(){var e=this,t={left:this.handleLeftArrow,right:this.handleRightArrow,enter:this.handleEnter},a=(0,l.default)(v.default.toArray(),"filehash");if(this.msgLength=a.length,0===a.length)return f.createElement("div",null);if(a.length<=S){var n=0,i=a.map(function(t,a){return n+=Math.round(t.mediaData.aspectRatio*g.TARGET_GIF_HEIGHT),f.createElement(j.default,{key:t.filehash,ref:function(t){return e.starredPreviewRef[a]=t},msg:t,onSend:e.props.onSend})});return n+=(i.length-1)*g.GAP_SIZE,f.createElement(m.default,{className:E.default.section,handlers:t},f.createElement("div",{ref:this.setRef,className:E.default.searchRow,style:{maxWidth:"".concat(n,"px")}},i))}var r=this.hasLeft(),o=this.hasRight(),s=r?this.onSlideLeft:null,d=o?this.onSlideRight:null,c=(0,u.default)(E.default.pager,E.default.pagerLeft,{[E.default.pagerDisabled]:!r}),h=(0,u.default)(E.default.pager,E.default.pagerRight,{[E.default.pagerDisabled]:!o}),p=f.createElement("div",{className:c,onClick:s},f.createElement(y.default,{name:"chevron-left-alt"})),b=f.createElement("div",{className:h,onClick:d},f.createElement(y.default,{name:"chevron-right-alt"})),_=a.slice(this.state.curIndex,this.state.curIndex+S).map(function(t,a){return f.createElement(j.default,{key:t.filehash,ref:function(t){return e.starredPreviewRef[a]=t},msg:t,onSend:e.props.onSend})});return f.createElement("div",{className:E.default.section},f.createElement(m.default,{onRef:this.setRef,className:E.default.searchRow,handlers:t},p,f.createElement("div",{className:E.default.body},_),b))}}]),t}(f.Component),A=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,(0,d.default)(t).apply(this,arguments))}return(0,c.default)(t,e),(0,o.default)(t,[{key:"getClientHeight",value:function(){return this.getComponent().getClientHeight()}},{key:"hasGifs",value:function(){return this.getComponent().hasGifs()}},{key:"isStarredGif",value:function(e){return this.getComponent().isStarredGif(e)}}]),t}((0,b.default)(C));t.default=A},chhjhdffbh:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.linkOrphanAck=function(e){var t;if(i.default.supportsFeature(i.default.F.MD_BACKEND))return Promise.reject(new Error("linkOrphanReceipt: not supported for non MD"));t=Promise.reject("linkOrphanReceipt: not supported without model storage and md backend");return t};var i=n(a("bjbdcigbdi"))},chicdhgich:function(e,t){e.exports={ack:"ZCg9j",light:"_1DeBR",ackBlue:"Ryz_m"}},chihfebbce:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.initialize=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=i(a("dbdfbgehgj")),u=i(a("bbchdeehff")),f=i(a("baagejbchg")),h=i(a("dhigahgdjb")),p=i(a("cijheiibhg")),g=i(a("cccehdaiaf")),m=i(a("bdiiahhjbe")),b=i(a("bfbggcdbfb")),v=i(a("biecbbiiee")),j=a("bcjidabgad"),E=i(a("bjdjjaiejj")),y=n(a("dcdiaahjj")),_=i(a("egjjcjcg"));function S(){return Math.floor(window.performance.now())}var C=function(e){function t(){var e;return(0,r.default)(this,t),(e=(0,s.default)(this,(0,d.default)(t).call(this))).timings={chatSync:0,contactSync:0,endSync:0,msgSync:0,startSync:0},e.data={webcPersistentLoginEnabled:!1,webcQrCodes:0,webcSyncMessageCount:0,webcSyncMessageSize:0},window.performance&&window.performance.now?_.default.knowsPhone()?(e.listenToOnce(u.default,"logout",e.init),(0,s.default)(e)):(e.init(),e):(0,s.default)(e)}return(0,c.default)(t,e),(0,o.default)(t,[{key:"init",value:function(){this.timings.startSync=y.default.lastSyncStart,this.listenTo(y.default,"change:mode",this.changeStreamMode),this.listenTo(l.default,f.default.COLLECTION_HAS_SYNCED,this.onChatSync),this.listenTo(h.default,f.default.COLLECTION_HAS_SYNCED,this.onContactSync),this.listenTo(v.default,f.default.COLLECTION_HAS_SYNCED,this.onMsgSync),this.listenTo(v.default,"handle:msg_history",this.onMsgHistory)}},{key:"changeStreamMode",value:function(){y.default.mode===y.StreamMode.SYNCING&&(this.timings.startSync=S(),this.data.webcPersistentLoginEnabled=_.default.getRememberMe()),y.default.mode===y.StreamMode.MAIN&&(this.timings.endSync=S(),this.maybeLogToWam())}},{key:"onChatSync",value:function(e){null!=e.timing?this.data.webcSyncChatT=e.timing:this.timings.chatSync=S(),this.data.webcSyncChatCount=e.count,this.data.webcSyncChatSize=e.binarySize,this.maybeLogToWam()}},{key:"onMsgSync",value:function(e){e&&(this.timings.msgSync=S(),this.data.webcSyncMessageCount+=e.count,this.data.webcSyncMessageSize+=e.binarySize),this.maybeLogToWam()}},{key:"onContactSync",value:function(e){null!=e.timing?this.data.webcSyncContactT=e.timing:this.timings.contactSync=S(),this.data.webcSyncContactCount=e.count,this.data.webcSyncContactSize=e.binarySize,this.maybeLogToWam()}},{key:"onMsgHistory",value:function(e){this.data.webcSyncMessageSize+=e.binarySize,this.data.webcSyncMessageCount+=e.count,this.timings.msgSync&&(this.timings.msgSync=S())}},{key:"maybeLogToWam",value:function(){var e=this,t=this.timings,a=t.contactSync,n=t.msgSync,i=t.chatSync,r=Number.isFinite(i||this.data.webcSyncChatT),o=Number.isFinite(a||this.data.webcSyncContactT),s=Number.isFinite(n);r&&o&&s&&(this._commitPromise||(this._commitPromise=(0,p.default)().then(function(t){return e._commitEvent(t)}).catch(function(t){m.default.error("wam:Error comitting login event")(t,e.data)}).finally(function(){return e.reset()})))}},{key:"_commitEvent",value:function(e){var t=this.timings,a=t.startSync,n=t.endSync,i=t.contactSync,r=t.msgSync,o=t.chatSync,s=E.default.initialDisplayDate;null!=s&&0!==s&&Number.isFinite(s)&&Number.isFinite(a)&&Number.isFinite(n)?(this.data.webcQrLoadT=s,this.data.webcQrCodes=E.default.get(),this.data.webcLoginT=a-s,this.data.webcSyncT=n-a,this.data.webcSyncMessageT=r-a,this.data.webcSyncChatT||(this.data.webcSyncChatT=o-a),this.data.webcSyncContactT||(this.data.webcSyncContactT=i-a),this.data.webcBrowserNetworkType=(0,j.getEffectiveNetworkType)(),e&&(this.data.webcBrowserStorageQuotaBytes=e.quota,this.data.webcBrowserStorageQuotaUsedBytes=e.usage),new b.default.WebcLogin(this.data).commit()):m.default.error("One or more of the login timings was not logged: ")(this.timings)}},{key:"reset",value:function(){this.stopListening(),this.data={webcPersistentLoginEnabled:!1,webcQrCodes:0,webcSyncMessageCount:0,webcSyncMessageSize:0},this.timings={chatSync:0,contactSync:0,endSync:0,msgSync:0,startSync:0},this._commitPromise=void 0,this.listenToOnce(u.default,"logout",this.init)}}]),t}(g.default);t.initialize=function(){return new C}},chjchbjied:function(e,t){e.exports={quote:"_2FaAB",hasAuthor:"woe4f",forwarded:"_3mOLI",hasSuspiciousLinks:"_2UjxI",linkPreview:"NB3Gq",meta:"_1sfgn",title:"KfTPt"}},chjdbchg:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=n(a("ddhijeejag")),u=i(a("dhbceejbjg")),f=i(a("bbchdeehff")),h=i(a("idecbbghf")),p=i(a("dhhfaeacef")),g=i(a("djcchigfih")),m=i(a("djbhiedbef")),b=i(a("cabhjigfgc")),v=n(a("dajffajabh")),j=i(a("fifhbjiec")),E=a("cicgeajfge"),y=a("ddjgcfjicj"),_=n(a("cajijabhgb")),S=a("bejbgaghc"),C=i(a("cehhcbdgih")),A=i(a("bhedcifgbg")),M=i(a("fffdgbfji")),T=i(a("bjbedjfe")),P=a("eagfdbhhhh"),N=i(a("cccgaejadd")),I=i(a("ihfccfgdf")),k=i(a("bfdcadbbif")),O=n(a("bfjajhbdf")),R={LOADING:0,REVOKING:1,SUCCESS:2},w=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).state={state:R.LOADING},a.getErrorMessageFromStatusCode=function(e){switch(e){case 401:return M.default.t(547);case 403:return M.default.t(548);case 404:return M.default.t(549);default:return M.default.t(550)}},a.handleLoadingErrorStatusCode=function(e){var t=a.getErrorMessageFromStatusCode(e);a.props.onBack(),f.default.openToast(l.createElement(O.default,{msg:t,id:(0,O.genId)()}))},a.handleRevokeGroupInvite=function(){f.default.openModal(l.createElement(A.default,{pushTransition:"none",popTransition:"none",chat:a.props.chat,onConfirm:a.handleConfirmRevokeGroupInvite}),{transition:"modal-flow"})},a.handleRevokingErrorStatusCode=function(e){var t=a.getErrorMessageFromStatusCode(e);a.props.onBack(),f.default.openToast(l.createElement(O.default,{msg:t,id:(0,O.genId)()}))},a.handleConfirmRevokeGroupInvite=function(){a.setState({state:R.REVOKING});var e=(0,S.revokeGroupInvite)(a.props.groupMetadata);Promise.delay(500).then(function(){return e}).checkpoint(a.props.rejectOnUnmount()).then(function(){f.default.openToast(l.createElement(O.default,{msg:M.default.t(555),id:(0,O.genId)()})),a.setState({state:R.SUCCESS})}).catch(y.ServerStatusCodeError,function(e){a.handleRevokingErrorStatusCode(e.statusCode)}).catch(_.Unmount,function(){})},a.handleSendGroupInviteLink=function(){f.default.openModal(l.createElement(N.default,{chat:a.props.chat,pushTransition:"none",popTransition:"none"}),{transition:"modal-flow"})},a.handleClickGroupInviteLinkCapture=function(e){e.preventDefault(),e.stopPropagation()},a.handleCopyLink=function(){(0,h.default)("group-invite-link-anchor")?f.default.openToast(l.createElement(O.default,{msg:M.default.t(544),id:(0,O.genId)()})):f.default.openToast(l.createElement(O.default,{msg:M.default.t(543),id:(0,O.genId)()}))},a.renderDrawerBody=function(){var e,t=a.props.groupMetadata;if(a.state.state===R.LOADING)e=l.createElement(E.LoadingWithText,{text:M.default.t(535)});else if(a.state.state===R.REVOKING)e=l.createElement(E.LoadingWithText,{text:M.default.t(554,{groupName:a.props.chat.contact.name})});else{var n=t.groupInviteLink,i=null;document.queryCommandSupported("copy")&&(i=l.createElement(b.default,{a8nText:"li-copy-link",icon:l.createElement(k.default,{name:"copy",className:C.default.icon}),onClick:a.handleCopyLink},M.default.t(538)));var r=l.createElement(p.default,{id:a.props.chat.id,size:82,quality:p.default.Quality.HIGH}),o=l.createElement("span",{className:C.default.linkContainer},l.createElement(P.SelectableLink,{id:"group-invite-link-anchor",href:n,selectable:!0},n));e=l.createElement(m.default,null,l.createElement(u.default,{image:r,primary:l.createElement(j.default,{text:a.props.chat.contact.name,direction:"auto"}),theme:"identity",secondary:o}),l.createElement("div",{className:C.default.descContainer},M.default.t(545)),l.createElement(b.default,{a8nText:"li-share-link",icon:l.createElement(k.default,{name:"forward",className:C.default.icon}),onClick:a.handleSendGroupInviteLink},M.default.t(540)),i,l.createElement(b.default,{a8nText:"li-revoke-link",icon:l.createElement(k.default,{name:"revoke",className:C.default.icon}),onClick:a.handleRevokeGroupInvite},M.default.t(539)))}return e},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){var e=this;(0,S.queryGroupInviteCode)(this.props.groupMetadata).checkpoint(this.props.rejectOnUnmount()).then(function(){e.setState({state:R.SUCCESS})}).catch(y.ServerStatusCodeError,function(t){e.handleLoadingErrorStatusCode(t.statusCode)}).catch(_.Unmount,function(){})}},{key:"render",value:function(){return l.createElement(g.default,null,l.createElement(v.default,{title:M.default.t(542),onBack:this.props.onBack,type:v.DRAWER_HEADER_TYPE.SMALL}),this.renderDrawerBody())}}]),t}(l.Component);w.CONCERNS={groupMetadata:["inviteCode","groupInviteLink"]};var D=(0,T.default)((0,I.default)(w,w.CONCERNS));t.default=D},chjfbhjejb:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.shift();return(0,i.default)(t)};var i=n(a("bbehjhfdfe"))},chjjhigbaj:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.sendSpamReport=function(e){var t;t=r.default.supportsFeature(r.default.F.MD_BACKEND)?Promise.reject(new Error("Should not reach here")):s.default.sendSpamReport(e.id).then(function(e){if(200!==e.status)throw new i.ServerStatusCodeError(e.status)});return t},t.sendNotSpam=function(e){var t;t=r.default.supportsFeature(r.default.F.MD_BACKEND)?Promise.resolve():s.default.sendConversationNotSpam(e.id).then(function(e){if(200!==e.status)throw new i.ServerStatusCodeError(e.status)});return t.then(function(){return r.default.supportsFeature(r.default.F.MD_BACKEND)?o.Chat.merge(e.id.toString(),{notSpam:!0}):Promise.resolve()})};var i=a("ddjgcfjicj"),r=n(a("bjbdcigbdi")),o=a("cefcddgdgg"),s=n(a("bihdhbjih"))},ciaidfgabf:function(e,t,a){"use strict";var n=a("cfjecfhbfg"),i=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=s.default.isRTL()?-1:1,a=-1===e.selectedTabIndex?-2:e.selectedTabIndex,n={width:"".concat(100/e.numTabs,"%"),transform:"translateX(".concat(100*a*t,"%)")};return r.createElement("div",{className:(0,o.default)(d.default.menuTabsMarker,{[d.default.hide]:e.hide}),style:n})};var r=i(a("ddhijeejag")),o=n(a("ceffhbhahb")),s=n(a("fffdgbfji")),d=n(a("bacfgbeffc"))},ciajafaaie:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.isParsableOnlineVideoURL=function(e,t,a){if(!s.default.supportsFeature(s.default.F.VIDEO_PLAYBACK_URL))return!1;if(a)return!1;if(e===o.EXTENDED_TEXT_MESSAGE_PREVIEWTYPE.VIDEO&&t){var n=d.default.hostname(t);if(n===i.default.HOSTNAME.INSTAGRAM||n===i.default.HOSTNAME.STREAMABLE||n===i.default.HOSTNAME.FACEBOOK||n===i.default.HOSTNAME.LASSOVIDEOS&&s.default.supportsFeature(s.default.F.LASSO_VIDEOS))return!0}if(t)for(var c in r.URL_PATTERNS.ONLINE_VIDEO_URL)for(var l=r.URL_PATTERNS.ONLINE_VIDEO_URL[c],u=0;u<l.length;u++)if(l[u].test(t))return!0;return!1};var i=n(a("baagejbchg")),r=a("cgecdbiihg"),o=a("bgiachiigg"),s=n(a("bjbdcigbdi")),d=n(a("edbaidcaf"))},cibcaiabfd:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=i(a("ceffhbhahb")),u=n(a("ddhijeejag")),f=i(a("baagejbchg")),h=i(a("bjbdcigbdi")),p=i(a("eceadcicaf")),g=i(a("bdiiahhjbe")),m=i(a("bdgdgicfaf")),b=i(a("ddgfdbejhb")),v=a("cicjibbhdb"),j=i(a("ihfccfgdf")),E=i(a("bfdcadbbif")),y=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).updateAfterFeatureFlagChange=function(){a.forceUpdate()},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){this.props.listeners.add(h.default,h.default.FEATURE_CHANGE_EVENT,this.updateAfterFeatureFlagChange)}},{key:"render",value:function(){var e=this.props.msg,t=function(e){switch(e.type){case f.default.MSG_TYPE.VIDEO:return e.isGif?"status-gif":"status-video";case f.default.MSG_TYPE.AUDIO:return e.isGif?"status-gif":"status-audio";case f.default.MSG_TYPE.VCARD:case f.default.MSG_TYPE.MULTI_VCARD:return e.isGif?"status-gif":"status-vcard";case f.default.MSG_TYPE.DOCUMENT:return e.isGif?"status-gif":"status-document";case f.default.MSG_TYPE.CIPHERTEXT:return e.isGif?"status-gif":"status-ciphertext";case f.default.MSG_TYPE.UNKNOWN:return e.isGif?"status-gif":"status-unknown";case f.default.MSG_TYPE.IMAGE:return e.isGif?"status-gif":"status-image";case f.default.MSG_TYPE.PRODUCT:return"business-description";case f.default.MSG_TYPE.STICKER:return"status-sticker";case f.default.MSG_TYPE.CALL_LOG:switch(e.subtype){case"miss_video":case"miss_group_video":return"status-miss_video"}return"status-miss";case f.default.MSG_TYPE.PTT:return 4===e.ack?"status-ptt-blue":e.isSentByMe?"status-ptt-gray":"status-ptt-green";case f.default.MSG_TYPE.REVOKED:return"recalled-in";case f.default.MSG_TYPE.LOCATION:return e.isLive?(0,v.liveLocationIcon)(!1):"status-location";case f.default.MSG_TYPE.GROUPS_V4_INVITE:return h.default.supportsFeature(h.default.F.GROUPS_V_4_JOIN_PERMISSION)?"group":"status-unknown";case f.default.MSG_TYPE.PAYMENT:return"status-unknown";case f.default.MSG_TYPE.TEMPLATE:switch(e.subtype){case f.default.TEMPLATE_SUBTYPE.IMAGE:return"status-image";case f.default.TEMPLATE_SUBTYPE.VIDEO:return"status-video";case f.default.TEMPLATE_SUBTYPE.DOCUMENT:return"status-document";case f.default.TEMPLATE_SUBTYPE.LOCATION:return"status-location"}return"status-unknown"}return g.default.log('chat:getClasses Invalid msg type:"'.concat(e.type,'"'))(),"status-unknown"}(e),a=(0,l.default)(m.default.symbol,t,e.isRevoked?null:m.default.margin),n=e.paymentAmount1000&&e.paymentCurrency;return u.createElement("div",{className:a},e.type===f.default.MSG_TYPE.PAYMENT&&n?u.createElement(b.default,{currency:e.paymentCurrency,subtype:e.subtype,paymentStatus:e.paymentStatus,isCompact:!0}):u.createElement(E.default,{name:t}))}}]),t}(u.PureComponent);y.CONCERNS={msg:["ack","isGif","isLive","type","subtype","isRevoked","isSentByMe","paymentCurrency","paymentAmount1000","paymentStatus"]};var _=(0,p.default)((0,j.default)(y,y.CONCERNS));t.default=_},cicabfhdbb:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.EMOJI_WIDTH=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=i(a("dbafiicfja")),u=n(a("ddhijeejag")),f=i(a("bbchdeehff")),h=a("dbgdaechch"),p=i(a("bhhdeihhhf")),g=i(a("djegeegcbf")),m=i(a("bggjbiacd")),b=i(a("chegeejfcg")),v=i(a("fifhbjiec")),j=i(a("dfbhcehadj")),E=i(a("jheedhagg")),y=i(a("dhfbfehaef")),_=a("gaifbabbj"),S=i(a("eceadcicaf")),C=i(a("fbjjefaic")),A=i(a("caffijjhc")),M=i(a("dadidajbgf")),T=a("eecehffbj"),P=parseInt(b.default["-emoji-width"].replace(/px$/,""),10);t.EMOJI_WIDTH=P;var N=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).state={selectedIndex:0,skinTonePicker:null},a.emojiList=null,a.rowLength=0,a.emojiPanelRef=u.createRef(),a.emojisRef=u.createRef(),a.windowResized=function(){var e=a.getEmojiRowLength();if(a.rowLength!==e){a.rowLength=e;var t=a.state.selectedIndex>=e?e-1:a.state.selectedIndex;a.setState({selectedIndex:t})}},a.onEmojiClick=function(e){if(k(e),e.target instanceof HTMLElement){var t=e.target.dataset.unicode;if(t)if(g.default.getSkinToneEmojis()[t]){var n=a.getEmojiVariant(t);n?a.onEmoji(n):a.onContextMenu(e)}else a.onEmoji(t)}},a.onEmojiMouseDown=function(e){if(k(e),e.target instanceof HTMLElement){var t=e.target.dataset.unicode;t&&g.default.getSkinToneEmojis()[t]&&a.startPickerTimer(e)}},a.onEmoji=function(e){a.props.onEmoji(e),a.releaseFocus()},a.releaseFocus=function(){a.props.onFocusRelease&&a.props.onFocusRelease()},a.getEmojiVariant=function(e){return g.default.getSkinToneEmojis()[e]?j.default.getVariant(e):null},a.setEmojiVariant=function(e,t,n){k(e),a.onEmoji(n),j.default.setVariant(t,n);var i=a.props.uim;return i&&(i.pop(!1,!1),i.uie.requestDismiss()),!1},a.onContextMenu=function(e){k(e);var t=e.target;if(t instanceof HTMLElement){var n=t.dataset.unicode;n&&g.default.getSkinToneEmojis()[n]&&a._onContextMenu(n,t)}},a._onContextMenu=function(e,t,n){a.clearPickerTimer();var i=g.default.getSkinToneEmojis()[e],r=T.SKIN_TONE_VARIATIONS.map(function(t){var n=g.default.variantToUnicode(i,t);return u.createElement(p.default,{type:"emoji",key:n,a8n:"mi-emoji-variant",action:function(t){return a.setEmojiVariant(t,e,n)}},u.createElement(v.default,{text:n,formatters:_.Configuration.LargeEmojiOnly(),tabIndex:"-1"}))});a.setState({skinTonePicker:{menu:r,anchor:t,type:"picker",dirX:h.DirX.RIGHT,dirY:h.DirY.TOP,horizontal:!0,autoFocus:n}},function(){var e=a.props.onSkinTonePicker;e&&e(!0)})},a.closeSkinTonePicker=function(){a.setState({skinTonePicker:null},function(){var e=a.props.onSkinTonePicker;e&&e(!1)})},a.clearPickerTimer=function(){null!=a.pickerTimer&&(a.props.clearTimeout(a.pickerTimer),a.pickerTimer=null)},a.startPickerTimer=function(e){k(e),a.clearPickerTimer();var t=e.target;if(t instanceof HTMLElement){var n=t.dataset.unicode;a.pickerTimer=a.props.setTimeout(function(){a.props.listeners.addOnce(f.default,"window_click",k),a._onContextMenu(n,t)},250),a.props.listeners.addOnce(window,"mouseup",a.clearPickerTimer,!0)}},a.getEmojiRowLength=function(){var e=a.emojiPanelRef.current&&a.emojiPanelRef.current.offsetWidth;return null==e?8:Math.floor(e/P)},a.onEmojiArrowLeft=function(e){a.onEmojiArrow(e,"left")},a.onEmojiArrowRight=function(e){a.onEmojiArrow(e,"right")},a.onEmojiArrow=function(e,t){if(k(e),e.target instanceof HTMLElement){var n=e.target.dataset.emojiIndex;if(n){n=Number(n);var i=a.props.emojiList,r=n;switch(t){case"left":n>0&&(r=n-1);break;case"right":if(n+1>=i.length)return;r=n+1}a.setState({selectedIndex:r})}}},a.renderEmojiList=function(e){var t=e,n=a.getEmojiRowLength();t&&t.length>n&&(t=t.slice(0,n));var i=(0,l.default)(t,function(e,t){var n=g.default.getUnicodeFromEmoji(e),i=a.getEmojiVariant(n),r=a.state.selectedIndex===t&&!a.state.skinTonePicker;return u.createElement(m.default,{element:"span",emoji:i||n,size:"large",key:n,"data-unicode":n,"data-variant":i,tabIndex:"-1","data-emoji-index":t,selected:r})});return u.createElement(y.default,{onMouseDown:a.onEmojiMouseDown,onClick:a.onEmojiClick,onContextMenu:a.onContextMenu},u.createElement("div",{className:b.default.panel,ref:a.emojisRef},i))},a.onEmojiEnter=function(e){if(k(e),e.target instanceof HTMLElement){var t=e.target.dataset.emojiIndex;if(t&&a.props.emojiList){var n=a.props.emojiList[Number(t)],i=g.default.getUnicodeFromEmoji(n);a.keyboardSelectEmoji(e,i)}}},a.keyboardSelectEmoji=function(e,t){if(g.default.getSkinToneEmojis()[t]){var n=a.getEmojiVariant(t);if(n)a.onEmoji(n);else{if(k(e),!(e.target instanceof HTMLElement))return;a._onContextMenu(t,e.target,!0)}}else a.onEmoji(t)},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentDidUpdate",value:function(e,t){this.state.skinTonePicker&&this.state.skinTonePicker===t.skinTonePicker&&this.closeSkinTonePicker()}},{key:"componentDidMount",value:function(){var e=this;this.props.listeners.add(j.default,"add remove change:variant",function(){return e.forceUpdate()});var t=this.props.debounce(this.windowResized,100);this.props.listeners.add(window,"resize",t),this.windowResized()}},{key:"getEmojiAtIndex",value:function(e){return e>=0&&e<this.props.emojiList.length?g.default.getUnicodeFromEmoji(this.props.emojiList[e]):null}},{key:"getEmojiElement",value:function(e){if(!(e<0)&&this.emojisRef.current){var t=this.emojisRef.current.children;if(!(e>=t.length))return t[e]}}},{key:"render",value:function(){var e;return this.state.skinTonePicker&&(e=u.createElement(A.default,{displayName:"SkinTonePicker",popable:!0,escapable:!0,requestDismiss:this.closeSkinTonePicker},u.createElement(M.default,{tooltip:this.state.skinTonePicker}))),u.createElement("div",{ref:this.emojiPanelRef},this.renderEmojiList(this.props.emojiList),e)}},{key:"moveSelectionLeft",value:function(){this.setState({selectedIndex:Math.max(this.state.selectedIndex-1,0)})}},{key:"moveSelectionRight",value:function(){this.setState({selectedIndex:Math.min(this.state.selectedIndex+1,this.getEmojiRowLength()-1,this.props.emojiList.length-1)})}},{key:"pickSelectedEmoji",value:function(){var e=this.getEmojiAtIndex(this.state.selectedIndex);if(e)if(g.default.getSkinToneEmojis()[e]){var t=this.getEmojiVariant(e);if(t)this.onEmoji(t);else{var a=this.getEmojiElement(this.state.selectedIndex);a&&this._onContextMenu(e,a,!0)}}else this.onEmoji(e)}}],[{key:"getDerivedStateFromProps",value:function(e,t){return{selectedIndex:Math.min(t.selectedIndex,e.emojiList.length-1)}}}]),t}(u.Component),I=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,(0,d.default)(t).apply(this,arguments))}return(0,c.default)(t,e),(0,o.default)(t,[{key:"moveSelectionLeft",value:function(){this.getComponent().moveSelectionLeft()}},{key:"moveSelectionRight",value:function(){this.getComponent().moveSelectionRight()}},{key:"pickSelectedEmoji",value:function(){this.getComponent().pickSelectedEmoji()}}]),t}((0,E.default)((0,S.default)((0,C.default)(N))));function k(e){e&&(e.preventDefault(),e.stopPropagation())}t.default=I},cicdfhbegf:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.handleGroupAction=function(e,t,a){!function(e,t,a){var n=a.action;switch(a.action){case s.SUBJECT:var r={name:a.subject};return void e.contact.set(r);case s.ADD:case s.PROMOTE:case s.DEMOTE:var d="promote"===n,c=a.participants.map(function(e){return{id:e,isAdmin:d}});return e.groupMetadata.participants.add(c,{merge:!0}),void("add"===n&&a.participants.forEach(function(t){o.default.GroupMetadata.trigger("group_participant_change_".concat(t.toString()),e.id)}));case s.REMOVE:var l=e.groupMetadata;return a.participants.forEach(function(e){l.participants.remove(e)}),void a.participants.forEach(function(t){o.default.GroupMetadata.trigger("group_participant_change_".concat(t.toString()),e.id)});case s.MODIFY:if(t&&a.participants&&a.participants.length>0){var u=t,f=a.participants[0],h=e.groupMetadata.participants.remove(u),p=!1,g=!1;h&&h.length&&h[0]&&(p=h[0].isAdmin,g=h[0].isSuperAdmin);var m={id:f,isAdmin:p,isSuperAdmin:g};e.groupMetadata.participants.add(m)}return;case s.INVITE_CODE:return void(a.code?e.groupMetadata.inviteCode=a.code:i.default.error("model:chat:handleGroupAction:invalid invite code: ".concat(a.code," for ").concat(e.id.toString()))());case s.DESC_ADD:return void e.groupMetadata.set({desc:a.desc,descId:a.descId,descTime:a.descTime,descOwner:t});case s.DESC_REMOVE:return void(e.groupMetadata.descId===a.descId&&e.groupMetadata.set({desc:void 0,descId:void 0,descTime:void 0,descOwner:void 0}));case s.RESTRICT:return void(e.groupMetadata.restrict=!!a.value);case s.ANNOUNCE:return void(e.groupMetadata.announce=!!a.value);case s.NO_FORWARD:return void(e.groupMetadata.noFrequentlyForwarded=!!a.value);case s.EPHEMERAL:return void(e.groupMetadata.ephemeralDuration=a.duration);default:;}}((0,r.unproxy)(e),t,a)},t.GROUP_ACTIONS=void 0;var i=n(a("bdiiahhjbe")),r=a("bheafeifce"),o=n(a("bhggeigghg")),s=Object.freeze({SUBJECT:"subject",ADD:"add",PROMOTE:"promote",DEMOTE:"demote",REMOVE:"remove",MODIFY:"modify",INVITE_CODE:"invite",DESC_ADD:"desc_add",DESC_REMOVE:"desc_remove",RESTRICT:"restrict",ANNOUNCE:"announce",NO_FORWARD:"no_frequently_forwarded",EPHEMERAL:"ephemeral"});t.GROUP_ACTIONS=s},cicgeajfge:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.LazyLoadRetry=t.NoResultForLabel=t.LoadingWithText=t.Loading=t.ImageSearchEmpty=t.SearchingImages=t.BeforeImageSearch=t.DocMsgs=t.LinkMsgs=t.MediaMsgs=t.StarredMsgs=t.AllArchived=t.ListStatus=t.BeforeSearchMessages=t.ListGroups=t.ListProducts=t.ListChats=t.SearchMessagesUnavailable=t.SearchMessages=t.SearchGroups=t.SearchWithKeyword=t.SearchWithoutKeyword=t.SearchContacts=t.SearchingMessages=t.Searching=t.Search=t.Archived=t.Blocked=t.Empty=void 0;var r=i(a("ceffhbhahb")),o=n(a("ddhijeejag")),s=i(a("effbcehec")),d=i(a("dbdfbgehgj")),c=i(a("bbchdeehff")),l=i(a("fifhbjiec")),u=i(a("dfbcaibdjh")),f=i(a("bijffg")),h=i(a("becfabjeeg")),p=i(a("bfdcadbbif")),g=function(e){var t=e.a8nText,a=e.a8nTitle,n=e.children,i=e.className,d=e.icon,c=e.text,f=e.theme,h=e.title,p=e.onClick,g=h?o.createElement("div",{"data-a8n":s.default.key(a),className:u.default.title},h):null,m=c?o.createElement("div",{"data-a8n":s.default.key(t),className:u.default.text},o.createElement(l.default,{text:c})):null,b=(0,r.default)(u.default.empty,i,{[u.default.compact]:"compact"===f});return o.createElement("div",{className:b,onClick:p},d,g,m,n)};t.Empty=g;t.Blocked=function(){var e=o.createElement("div",{className:u.default.icon},o.createElement(p.default,{name:"empty-blocked"}));return o.createElement(g,{icon:e,title:l10n.t(220),text:l10n.t(162),a8nTitle:"blocked-empty",a8nText:"add-blocked-description"})};t.Archived=function(){var e=o.createElement("div",{className:u.default.icon},o.createElement(p.default,{name:"empty-archived"}));return o.createElement(g,{icon:e,title:l10n.t(184),a8nTitle:"archived-empty"})};t.Search=function(){return o.createElement(g,{className:u.default.emptyTop,text:l10n.t(1011),a8nText:"search-no-chats-or-contacts"})};t.Searching=function(){return o.createElement(g,{className:u.default.emptyTop,text:l10n.t(1019),a8nText:"searching-chats-contacts-messages"})};t.SearchingMessages=function(){return o.createElement(g,{className:u.default.emptyTop,text:l10n.t(1021),a8nText:"searching-messages"})};t.SearchContacts=function(){return o.createElement(g,{className:u.default.emptyTop,text:l10n.t(1012),a8nText:"search-no-contacts"})};t.SearchWithoutKeyword=function(){return o.createElement(g,{className:u.default.emptyTop,text:l10n.t(879),a8nText:"search-no-results-without-keyword"})};t.SearchWithKeyword=function(e){return o.createElement(g,{className:u.default.emptyTop,text:l10n.t(1015,{keyword:e}),a8nText:"search-no-results-without-keyword"})};t.SearchGroups=function(){return o.createElement(g,{className:u.default.emptyTop,text:l10n.t(1013),a8nText:"search-no-groups"})};t.SearchMessages=function(){return o.createElement(g,{className:u.default.emptyTop,text:l10n.t(1014),a8nText:"search-no-messages"})};t.SearchMessagesUnavailable=function(){return o.createElement(g,{className:u.default.emptyTop,text:l10n.t(1018),a8nText:"search-results-unavailable"})};t.ListChats=function(){return o.createElement(g,{text:l10n.t(869),a8nText:"no-chats"})};t.ListProducts=function(e){var t=e.hasCatalog,a=void 0===t||t?l10n.t(877):l10n.t(868);return o.createElement(g,{text:a,a8nText:"no-products"})};t.ListGroups=function(){return o.createElement(g,{text:l10n.t(872),a8nText:"no-groups"})};t.BeforeSearchMessages=function(e,t){var a=t?l10n.t(301,{chatName:e}):l10n.t(362,{chatName:e});return o.createElement(g,{className:u.default.emptyTop,text:a,a8nText:"chat-search-prompt"})};function m(){var e=a("cajbicccif");c.default.openDrawerLeft(o.createElement(e,null))}t.ListStatus=function(){return o.createElement(g,null)};t.AllArchived=function(){var e=d.default.filter(function(e){return e.archive}).length;return o.createElement(g,{title:l10n.t(177),a8nTitle:"all-chats-archived"},o.createElement("div",{"data-a8n":s.default.key("see-archived"),role:"button",onClick:m,className:u.default.action},l10n.t(1022,{count:e,_plural:e})))};t.StarredMsgs=function(){return o.createElement(g,{text:l10n.t(880),a8nText:"no-starred-messages"})};t.MediaMsgs=function(){return o.createElement(g,{text:l10n.t(874),a8nText:"no-media"})};t.LinkMsgs=function(){return o.createElement(g,{text:l10n.t(873),a8nText:"no-links"})};t.DocMsgs=function(){return o.createElement(g,{text:l10n.t(871),a8nText:"no-docs"})};t.BeforeImageSearch=function(){return o.createElement(g,{text:l10n.t(621),a8nText:"image-search-prompt"})};t.SearchingImages=function(){return o.createElement(g,{text:l10n.t(1020),a8nText:"searching-images"})};t.ImageSearchEmpty=function(){return o.createElement(g,{text:l10n.t(620),a8nText:"image-search-no-results"})};t.Loading=function(){return o.createElement(g,null,o.createElement(h.default,{size:50,stroke:4}))};t.LoadingWithText=function(e){var t=e.text;return o.createElement(g,null,o.createElement("div",{className:u.default.spinner},o.createElement(h.default,{size:50,stroke:4})),o.createElement(l.default,{element:"div",className:u.default.text,text:t}))};t.NoResultForLabel=function(e){var t=e.labelId,a=f.default.assertGet(t);return o.createElement(g,null,o.createElement(l.default,{element:"div",className:u.default.text,text:l10n.t(878,{labelName:a.name})}))};t.LazyLoadRetry=function(e){var t=e.className,a=e.onClick;return o.createElement(g,{className:t,onClick:a},o.createElement(p.default,{name:"live-location-refresh"}),o.createElement("div",null,l10n.t(981)))}},cicjcfabii:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("bacehaajgh")),o=i(a("dagbcgeifg")),s=i(a("bhabhhjdch")),d=i(a("eaidjcib")),c=i(a("dgcdacjddi")),l=i(a("ffceefejc")),u=i(a("cjedcdbdii")),f=i(a("dbjagcfebh")),h=n(a("ddhijeejag")),p=i(a("cahfddcdga")),g=i(a("bfifafibjc"));function m(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}var b=function(e){function t(){var e,a;(0,d.default)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=(0,l.default)(this,(e=(0,u.default)(t)).call.apply(e,[this].concat(i))))._setRefObserver=function(e){a._refObserver=e,a.props.onRef&&a.props.onRef(e)},a.getScrollFromStart=function(){var e=a._refObserver;if(e)return"horizontal"===a.props.direction?e.scrollLeft:e.scrollTop},a.setScrollFromStart=function(e){var t=a._refObserver;t&&("horizontal"===a.props.direction?t.scrollLeft=e:t.scrollTop=e)},a._handleRegisterList=function(){var e=(0,p.default)(a._refObserver);a.props.flatListControllers.forEach(function(t){return t.triggerLayout({position:e.getBoundingClientRect(),width:e.clientWidth,height:e.clientHeight})})},a._handleScroll=function(e){var t=a.props,n=t.flatListControllers,i=t.onScroll;i&&i(e),n.forEach(function(e){return e.triggerScroll()})},a._handleResize=function(e){var t=a.props,n=t.flatListControllers,i=t.onLayout,r=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?m(Object(a),!0).forEach(function(t){(0,s.default)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):m(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},e,{position:(0,p.default)(a._refObserver).getBoundingClientRect()});n.forEach(function(e){return e.triggerLayout(r)}),i&&i(r)},a}return(0,f.default)(t,e),(0,c.default)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props,a=t.flatListControllers,n=t.scrollOffset;a.forEach(function(t){return t.registerContainer({getScrollFromStart:e.getScrollFromStart,setScrollFromStart:e.setScrollFromStart,onRegisterList:e._handleRegisterList})}),void 0!==n&&this.setScrollFromStart(n)}},{key:"componentWillUnmount",value:function(){this.props.flatListControllers.forEach(function(e){return e.unregisterContainer()})}},{key:"render",value:function(){var e=this.props,t=e.children,a=(e.flatListControllers,e.onScroll,e.onLayout,e.onRef,e.scrollOffset,(0,o.default)(e,["children","flatListControllers","onScroll","onLayout","onRef","scrollOffset"]));return h.createElement(g.default,(0,r.default)({},a,{onResize:this._handleResize,onScroll:this._handleScroll,onRef:this._setRefObserver}),t)}}]),t}(h.Component);t.default=b},cicjibbhdb:function(e,t,a){"use strict";var n=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.liveLocationIcon=function(e){var t="live-location";e&&(t+="-active");var a=function(){switch(i.default.platform){case i.PLATFORMS.ANDROID:case i.PLATFORMS.SMBA:return"android";case i.PLATFORMS.IPHONE:case i.PLATFORMS.SMBI:case i.PLATFORMS.IPAD:case i.PLATFORMS.IPOD:return"iphone";case i.PLATFORMS.WP7:return"wp";default:return""}}();a&&(t+="-"+a);return t};var i=n(a("bjigbaghc"))},ciddcjeaij:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg"),r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=i(a("iidhbgeed")),u=n(a("ddhijeejag")),f=i(a("djcchigfih")),h=i(a("djbhiedbef")),p=n(a("dajffajabh")),g=i(a("cdbcigcahd")),m=n(a("chcadgfgad")),b=i(a("cgfjebhhej")),v=i(a("cdjajhiedh")),j=i(a("djbfhebjhe")),E=a("dcbdjheea"),y=window.l10n,_=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,(0,d.default)(t).apply(this,arguments))}return(0,c.default)(t,e),(0,o.default)(t,[{key:"renderContacts",value:function(){var e=this;return(0,l.default)(this.props.vCard.TEL,function(e){return e.properties.waid}).map(function(t){var a=(0,E.numberToWid)(t.properties.waid[0]);return u.createElement("div",{className:v.default.container,key:"vCard-".concat(t.index)},u.createElement(g.default,{title:(0,j.default)(a),onClick:function(){return e.onSelect(a)},icon:e.props.icon},b.default.getType(t)))})}},{key:"onSelect",value:function(e){this.props.onSelect(e)}},{key:"render",value:function(){return u.createElement(m.default,{type:m.BoxModalType},u.createElement(f.default,null,u.createElement(p.default,{onCancel:this.props.onCancel,type:p.DRAWER_HEADER_TYPE.POPUP,title:y.t(307)}),u.createElement(h.default,null,this.renderContacts())))}}]),t}(u.Component);_.defaultProps={onCancel:function(){},onSelect:function(){}},e.exports=_},cieaaiahhf:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("eaidjcib")),r=n(a("ffceefejc")),o=n(a("cjedcdbdii")),s=n(a("dbjagcfebh")),d=n(a("iffjgahba")),c=a("cajijabhgb"),l=function(e){function t(e){var a;return(0,i.default)(this,t),(a=(0,r.default)(this,(0,o.default)(t).call(this,"File (".concat(e.type(),") size = ").concat(e.size())))).opaqueData=e,a}return(0,s.default)(t,e),t}((0,d.default)("MediaFileTooLarge",c.MediaFileError));t.default=l},cieaeggjg:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.MetaFrame=C,t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=i(a("ceffhbhahb")),u=n(a("ddhijeejag")),f=i(a("cfadcbbiie")),h=i(a("bbchdeehff")),p=i(a("baagejbchg")),g=i(a("icghcjegh")),m=i(a("cedifchehj")),b=i(a("ihfccfgdf")),v=a("bheafeifce"),j=i(a("cgffcjcehg")),E=i(a("bfdcadbbif")),y=i(a("bcjcbbafcj")),_=p.default.MSG_TYPE,S=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).openInfoDrawer=function(){h.default.msgInfoDrawer((0,v.unproxy)(a.props.msg))},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=this.props.msg,t=this.props.theme,a=[],n=(e.type===_.IMAGE||e.type===_.VIDEO)&&!e.caption||e.type===_.LOCATION&&!e.isLive&&!e.get("loc");if(e.star&&!e.isRevoked){var i=n?"star-light":e.isSentByMe?"star":"star-in";a.push(u.createElement(E.default,{name:i}))}if(e.broadcast){var r=n?"broadcast-light":"broadcast";a.push(u.createElement(E.default,{name:r}))}if(e.isEphemeral){var o=n?"timer-light":"timer";a.push(u.createElement(E.default,{name:o}))}var s=e.isSentByMe&&e.type!==_.REVOKED,d=s?u.createElement(j.default,{msg:this.props.msg}):null,c=e.labels&&e.labels.length>0?u.createElement(g.default,{labels:e.labels,showName:!1}):null;return u.createElement(C,{icons:a,labels:c,light:n,onClick:s?this.openInfoDrawer:null,status:d},"date"!==t?e.t?f.default.timestampStr(e.t):null:e.t?f.default.relativeStr(e.t):null)}}]),t}(u.PureComponent);function C(e){var t=e.icons&&e.icons.length>0?e.icons.map(function(e,t){return u.createElement("div",{className:m.default.icon,key:"icon-".concat(t)},e)}):null,a=e.labels?u.createElement("div",{className:m.default.labels},e.labels):null,n=e.status?u.createElement("div",{className:m.default.status},e.status):null,i=(0,l.default)(m.default.meta,{[m.default.metaLight]:e.light,[m.default.chromeFix]:y.default.os===p.default.OS_TYPE.MAC&&y.default.browser===p.default.BROWSER_TYPE.CHROME&&y.default.osVersion.includes("10.15")});return u.createElement("div",{className:i,onClick:e.onClick,role:e.onClick?"button":null},t,a,u.createElement("span",{className:m.default.timestamp,dir:"auto"},e.children),n)}S.CONCERNS={msg:["broadcast","caption","isEphemeral","isLive","isRevoked","isSentByMe","labels","star","t","type"]};var A=(0,b.default)(S,S.CONCERNS);t.default=A},ciebcgbegd:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=n(a("ddhijeejag")),u=n(a("jaigjeiig")),f=i(a("bbchdeehff")),h=i(a("djcchigfih")),p=i(a("djbhiedbef")),g=i(a("cabhjigfgc")),m=n(a("dajffajabh")),b=a("bidfjbaebi"),v=a("facgccaif"),j=i(a("fbdhjahjj")),E=i(a("ecbjchafdg")),y=a("bfbggcdbfb"),_=i(a("bfebbjhgbh")),S=a("dfjhjafaab"),C=i(a("dgegbejdeb")),A=a("bjhdcidgah"),M={id:"animated-doodle",selector:".".concat(j.default.animation),low:{default:A},high:{default:A}},T=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).openTime=-1,a.actionsTaken=!1,a.onTOS=function(){a.actionsTaken=!0,(0,b.openExternalLink)((0,S.getTosUrl)())},a.onFAQ=function(){(0,b.openExternalLink)((0,v.getFaqUrl)()),a.logSessionEvent(y.CONTACT_US_EXIT_STATE.FAQ)},a.onContactUs=function(){f.default.openModal(l.createElement(_.default,{onCancel:a.onContactUsCancel,onSend:a.onContactUsSend}))},a.onContactUsCancel=function(){a.logSessionEvent(y.CONTACT_US_EXIT_STATE.PROBLEM_DESCRIPTION)},a.onContactUsSend=function(e){a.logSessionEvent(y.CONTACT_US_EXIT_STATE.EMAIL_SEND,e)},a.onKeyboardShortcuts=function(){f.default.openModal(l.createElement(E.default,null))},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){this.openTime=performance.now(),u.default.loadAsset(M,u.LOAD_PRIORITY.HELP_ANIMATED_DOODLE)}},{key:"componentWillUnmount",value:function(){this.actionsTaken||this.logSessionEvent(y.CONTACT_US_EXIT_STATE.CANCELLED)}},{key:"logSessionEvent",value:function(e,t){var a=new y.ContactUsSession({contactUsExitState:e,contactUsT:Math.ceil(performance.now()-this.openTime)});t&&(a.contactUsAutomaticEmail=!0,a.contactUsProblemDescription=t.subject,a.contactUsScreenshotC=t.numScreenshots),a.commit(),this.actionsTaken=!0}},{key:"render",value:function(){return l.createElement(h.default,null,l.createElement(m.default,{a8n:"drawer-title-help",title:l10n.t(610),onBack:this.props.onClose,type:m.DRAWER_HEADER_TYPE.LARGE}),l.createElement(p.default,null,l.createElement("div",{className:j.default.animation}),l.createElement(C.default,{className:j.default.versionInfo}),l.createElement(g.default,{a8nText:"li-faq",onClick:this.onFAQ},l10n.t(1397)),void 0,l.createElement(g.default,{a8nText:"li-contact-us",onClick:this.onContactUs},l10n.t(1042)),l.createElement(g.default,{a8nText:"li-tos",onClick:this.onTOS},l10n.t(1093)),void 0,void 0))}}]),t}(l.Component);t.default=T},cieccfhhib:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=n(a("ddhijeejag")),u=i(a("eceadcicaf")),f=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i))))._setRefInput=function(e){a._refInput=e},a._handleClick=function(e){e.stopPropagation()},a._handleChange=function(e){a.props.onChange(e)},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"open",value:function(){this._refInput&&this._refInput.click()}},{key:"render",value:function(){return l.createElement("input",{accept:this.props.mimes,ref:this._setRefInput,type:"file",multiple:!0,style:{display:"none"},onClick:this._handleClick,onChange:this._handleChange})}}]),t}(l.PureComponent),h=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,(0,d.default)(t).apply(this,arguments))}return(0,c.default)(t,e),(0,o.default)(t,[{key:"open",value:function(){return this.getComponent().open()}}]),t}((0,u.default)(f));t.default=h},ciefdgaafc:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("bacehaajgh")),o=i(a("eaidjcib")),s=i(a("dgcdacjddi")),d=i(a("ffceefejc")),c=i(a("cjedcdbdii")),l=i(a("dbjagcfebh")),u=n(a("ddhijeejag")),f=n(a("hdccjfbbg")),h=i(a("bdfjbfgea")),p=i(a("eceadcicaf")),g=i(a("didfdhbecg")),m=function(e){function t(e){var a;return(0,o.default)(this,t),(a=(0,d.default)(this,(0,c.default)(t).call(this,e))).renderPills=function(e){var t=a.props,n=t.useShortName,i=t.isDisabled,o=t.onDelete;return e.length?e.map(function(e){var t=i&&i(e.id)?null:{onDelete:o};return u.createElement(f.default,(0,r.default)({contact:e,useShortName:n},t,{type:f.Type.SMALL,key:e.id.toString(),theme:"list-names",waitIdle:!0}))}):null},a.props.listeners.add(a.props.selections,"all",function(){a.forceUpdate()}),a}return(0,l.default)(t,e),(0,s.default)(t,[{key:"componentDidMount",value:function(){this.forceUpdate()}},{key:"render",value:function(){return u.createElement(g.default,{transitionName:"slide-up-down-footer",className:h.default.selectedListContainer},this.renderPills(this.props.selections.getSelected()))}}]),t}(u.Component),b=(0,p.default)(m);t.default=b},ciehajbjae:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(e||"").trim().toLowerCase().split("\n").reduce(function(e,t){if(!t.trim())return e;var a=t.split(":"),n=(0,i.default)(a,2),r=n[0],o=n[1];return r=r.trim(),o=o.trim().replace(/;$/,""),e[r]?Array.isArray(e[r])?e[r].push(o):e[r]+=", ".concat(o):e[r]=o,e},{})};var i=n(a("hbddjfeei"))},cifgeeeece:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.buildHandshakePayload=function(e){return{__command:r.HANDSHAKE_COMMAND,__port:e}},t.extractPortFromHandshakePayload=function(e){if(null!=e&&null!=e.__command&&e.__command===r.HANDSHAKE_COMMAND&&null!=e.__port){(0,i.default)(e.__port instanceof MessagePort,"Malformed connection payload");var t=e.__port;return t}};var i=n(a("cgeeeeddea")),r=a("cejbjjbged")},cifhabcfgj:function(e,t){e.exports={SMILEYS_PEOPLE:[1623,1626,1627,1624,1629,1628,1625,1998,2639,1633,1630,1688,1689,1632,1635,1636,2175,1647,1646,1648,1649,1634,1650,1652,1651,2016,2014,2342,1943,1637,2015,2177,1638,1641,1653,1643,1654,1644,1687,2638,1658,1645,1665,2555,2566,1657,1667,1659,1655,1656,2018,2021,1673,2179,2180,1671,1663,1670,1660,1642,1947,1944,2019,2017,2e3,1676,1639,1640,1666,1690,1669,1661,1662,1668,1672,1674,1999,1664,1675,1941,2178,1997,2020,2013,1677,2564,1945,1942,1995,1631,1273,1262,1263,1996,1365,1264,1274,2630,1271,1272,1946,429,1680,1678,1679,1681,1682,1683,1686,1685,1684,2039,760,1747,754,1982,742,748,724,2722,1971,1977,1988,2734,1994,1953,736,712,718,700,706,2629,2728,1965,1585,1597,730,1959,1371,1591,2740,1777,2240,2234,1305,1335,693,2241,694,686,692,778,680,678,2483,1613,779,780,1243,792,2370,786,1146,2364,961,1134,951,1133,950,1206,1207,1136,953,1135,952,2382,1237,2376,1231,1213,1224,1225,2388,1176,1177,1254,1255,1297,1298,1563,1564,1139,956,1112,923,1113,924,1114,925,1115,926,1117,928,1118,929,1126,943,1127,944,1128,945,1129,946,1116,927,1131,948,1141,958,1130,947,1140,957,1195,2057,1261,2051,2252,2253,2264,2265,2063,436,2435,2436,2477,2478,2454,2573,2479,2480,2481,2482,2465,2466,2447,2448,1270,2027,2033,1725,1726,1285,1286,1701,1702,1713,1714,1740,1741,2011,2012,2074,2075,1770,1771,1758,1759,1330,1331,1322,1323,2399,2400,1311,2045,1304,1574,1188,1189,1552,1868,1869,500,501,1153,1165,1159,1341,1143,959,1339,1145,960,1147,942,940,938,941,1122,1125,1123,1121,1124,934,937,935,933,936,1119,2545,1120,2543,2544,930,2542,931,2541,932,2504,2503,2487,2182,770,765,766,764,767,769,768,2185,776,2540,777,774,775,2184,2488,2486,2485,467,2484,762,450,2686,761,1337,773,771,772,1389,449,2501,763,1565,2183,304],ANIMALS_NATURE:[668,663,660,671,2539,2195,673,674,655,662,2187,661,669,675,670,667,1727,1728,1729,632,634,654,653,651,650,652,2191,2567,2194,2192,672,638,666,2190,644,642,2196,626,645,643,2216,2208,1566,1567,2188,649,627,2199,2207,2206,640,2202,2201,2215,2186,648,647,646,659,665,625,2193,624,620,621,2204,2198,639,2212,2200,657,658,2203,2209,618,617,619,628,637,629,631,2210,630,2197,636,656,622,633,2189,2211,2213,2219,1517,2538,2214,2218,616,615,677,2205,676,623,664,353,430,350,351,352,349,363,2623,364,444,442,367,366,365,368,641,362,1340,355,357,2128,358,356,360,359,332,331,329,330,328,323,324,325,326,319,320,321,322,327,316,315,317,1372,2772,333,2747,2673,2618,1361,1491,342,310,2614,336,2682,337,2615,338,339,2683,341,340,2750,2617,2681,344,1364,1363,1362,2621,2616,312,343],FOOD_DRINK:[379,378,2533,374,375,376,373,371,382,372,381,380,2172,377,2164,2156,369,370,2144,2165,2171,2145,354,361,2148,2147,395,2143,2174,393,2149,2167,2277,2153,414,2157,2146,2168,386,385,2228,345,383,394,384,2169,2152,346,347,2150,2151,2170,392,391,413,390,398,412,2158,399,388,389,387,400,2159,2173,397,396,402,403,401,2166,2278,411,2534,409,408,407,406,426,404,405,348,2155,410,2154,423,2622,416,2163,417,421,422,2130,418,2131,419,420,425,2132,415,424,2162,2160,2161,2279],ACTIVITY:[2679,487,522,2680,2141,2537,563,523,2142,475,566,607,565,564,2140,562,2133,2694,608,461,2137,2138,485,1919,1917,2698,2139,486,2697,489,546,547,2101,2102,2086,2087,2709,2710,2100,2125,2126,558,559,521,2423,2424,512,513,534,535,2113,2114,2561,1817,2411,2412,1856,1857,1844,1845,515,2134,2135,2136,514,451,605,452,469,457,468,2098,2099,471,466,470,462,465,484,481,2129,2535,482,2536,483,476,2654,473,477,472,474,2491],TRAVEL_PLACES:[1801,1799,1803,1790,1792,561,1797,1795,1796,1794,1804,1805,1806,1915,1832,1916,560,1822,1798,1791,1802,1800,2562,1810,1809,1781,1789,1808,1807,1782,1783,1786,1780,1784,1785,1788,1787,2715,1911,1912,1910,1387,1913,1778,1918,1779,2563,2696,1818,1909,1914,2695,1811,2664,2712,1821,1820,1819,1793,1617,1622,1620,1619,595,594,578,459,460,458,2693,2692,569,576,575,313,2691,567,1618,568,2711,579,580,571,573,570,592,581,591,582,583,584,585,587,589,590,588,1342,574,2690,1519,1520,1518,2689,1908,1907,1621,448,577,307,306,334,438,437,309,308,572,305,314,311,303],OBJECTS:[2587,1442,2550,1388,2589,1599,1600,1601,1602,1568,1610,1390,1391,1392,1393,1452,1447,1448,1449,463,1453,456,1423,2619,1424,1425,1450,1451,453,454,455,2495,2604,2599,2598,2553,2588,2600,1426,1466,1467,1357,1492,1545,2497,1906,1385,1382,1381,1383,1384,1377,1380,1338,2667,2498,1493,1494,2663,1904,2685,1495,2669,2499,2687,2500,1497,1359,2490,1496,1612,2665,1905,1826,2677,2678,609,1500,1454,2513,1332,2668,1499,1498,1546,1334,1333,2494,2217,2493,2492,335,2507,2508,2509,1876,1830,1878,1885,1884,2510,2511,2502,1898,1472,1611,1824,1890,1899,1896,2506,1603,1897,1902,428,439,446,427,441,440,445,593,447,2489,2716,1434,1433,1432,1336,1430,1429,1431,606,1435,1436,1437,1438,1439,1440,1421,1396,1397,1410,2512,1403,1401,1402,1608,1609,1399,1398,1607,1400,1605,1616,1606,1404,1394,1395,1604,2554,1441,1412,1413,1411,1414,1416,1417,1418,1419,1415,1477,2505,1478,1407,1575,1409,1408,2496,1405,1406,2713,1576,1577,2742,1578,1579,1422,2741,1468,1469,1470,1471,1473,1474],SYMBOLS:[2759,2574,1351,1350,1349,1352,1598,1344,2758,1345,1354,1343,1347,1346,1348,1353,1355,2635,2745,2634,1516,2637,2746,1501,2552,2636,2633,1900,2684,2642,2643,2644,2645,2646,2647,2648,2649,2650,2651,2652,2653,25,2670,301,2631,2632,1444,1443,295,289,297,299,296,2749,31,1375,300,2778,2777,293,294,298,291,17,18,21,22,19,29,2752,2773,1901,2688,1420,1825,1376,1358,2659,1870,1829,1833,1831,1484,1445,1827,2757,2756,2754,2755,2575,2576,1460,1461,2776,2672,1871,1503,2671,1502,2660,2714,290,1386,2751,2748,2753,318,1356,2605,302,1360,586,1877,2662,20,292,288,1886,1887,1888,1889,1872,1873,1875,1874,1828,464,1446,287,1489,2578,1490,1487,1486,27,28,30,23,26,24,3,4,5,6,7,8,9,10,11,12,1485,1488,1,2,2590,2608,2601,2597,2602,2603,2595,2596,2591,2592,2593,2594,2609,1514,1515,2763,2774,2768,2769,2582,2583,2584,2581,2580,2579,2586,2585,2766,2767,1455,1456,1457,1459,1458,479,480,2760,2761,2762,2744,2661,1379,1378,2577,13,14,679,1480,2551,1481,1483,1482,2775,2764,2765,2743,2620,1479,2675,2676,1506,1507,1512,1513,1510,1511,1508,1509,1505,1504,2606,2607,2613,2612,2611,2610,2770,2771,1463,1462,1464,1465,1475,1476,1428,1427,1373,1374,1615,2655,2656,2657,2658,16,478,15,1521,1522,1523,1524,1525,1526,1527,1528,1529,1530,1531,1532,1533,1534,1535,1536,1537,1538,1539,1540,1541,1542,1543,1544],FLAGS:[598,604,599,488,1823,596,597,268,35,47,38,96,43,33,40,37,41,36,42,39,46,45,44,48,64,55,51,50,68,52,69,57,59,65,61,49,67,63,141,275,60,54,53,56,152,79,70,136,85,62,158,73,250,78,80,87,71,81,2532,74,72,77,83,76,133,84,86,88,89,93,92,94,95,98,100,244,123,102,99,104,105,108,109,107,106,110,115,209,251,111,120,114,90,117,118,124,119,113,122,127,126,116,121,128,129,134,132,130,135,144,140,137,143,142,138,2531,139,145,147,149,443,146,148,159,150,153,281,157,151,160,169,161,166,165,170,163,167,168,182,178,176,190,192,189,179,187,177,184,185,188,283,191,2530,173,172,181,174,186,171,193,180,194,203,202,200,195,205,199,196,198,204,197,155,183,201,206,212,219,217,207,210,220,208,211,215,213,218,216,221,222,223,225,226,280,238,243,227,239,224,229,237,232,245,236,234,125,228,240,284,156,242,103,164,58,233,154,162,214,273,230,241,247,231,75,246,263,254,264,253,256,252,255,259,261,258,260,257,249,262,276,266,265,34,112,600,601,602,269,603,270,271,278,272,274,277,279,101,282,285,286]}},cificacaii:function(e,t){e.exports={header:"_1mJpB",photo:"_1Z4e7",text:"_3K8QZ",name:"_1zc7y",description:"_1S1xi",spinner:"_160a0",img:"_1IGJ4"}},cifjfjfegc:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.MediaThumb=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=i(a("ceffhbhahb")),u=n(a("ddhijeejag")),f=i(a("djiibcjggg")),h=i(a("cfadcbbiie")),p=i(a("eceadcicaf")),g=i(a("bffjfbgbg")),m=i(a("cafgbeeihg")),b=i(a("bbjadhadbg")),v=i(a("bfdcadbbif")),j=function(e){function t(){var e;return(0,r.default)(this,t),(e=(0,s.default)(this,(0,d.default)(t).apply(this,arguments))).setRefImg=function(t){e.img=t},e.setRefContainer=function(t){e.container=t},e.onSelectClick=function(t){e.props.onMessageSelect&&e.props.onMessageSelect(e.props.msg,!e.props.selected)},e.onMouseOver=function(t){e.state.hover||e.setState({hover:!0})},e.onMouseEnter=function(t){e.state.hover||e.setState({hover:!0})},e.onMouseLeave=function(t){e.state.hover&&e.setState({hover:!1})},e._renderImgNode=function(t,a,n,i){return e.props.onDragStart?u.createElement("div",{className:t,style:a,onClick:e.props.onClick||null,ref:e.setRefImg,onDragStart:e.props.onDragStart,draggable:!0},i,n):u.createElement("div",{className:t,style:a,onClick:e.props.onClick||null,ref:e.setRefImg},i,n)},e._renderImg=function(){var t,a,n,i=e.props,r=i.msg.mediaData,o=i.preferPreview;switch(e.props.msg.star&&r.type!==g.default.TYPE.AUDIO&&(n=u.createElement("div",{className:m.default.shade})),r.type){case g.default.TYPE.AUDIO:return t="".concat(m.default.mediaCanvas," attach-media-audio-thumb"),e._renderImgNode(t,a,n);case g.default.TYPE.VIDEO:return n=u.createElement("div",{className:m.default.shade}),t=r.isGif?r.preview?m.default.mediaCanvas:"".concat(m.default.mediaCanvas," media-video-thumb"):m.default.mediaCanvas,r.preview&&(a={backgroundImage:'url("'.concat(r.preview.url(),'")')}),e._renderImgNode(t,a,n);case g.default.TYPE.IMAGE:t=m.default.mediaCanvas;var s=function(a){var i=null!=a?u.createElement("div",{className:t,style:{backgroundImage:"url(".concat(a,")")}}):null;return e._renderImgNode(t,r.preview?{backgroundImage:"url(".concat(r.preview.url(),")")}:null,n,i)},d=function(){return r.preview?s(null):e._renderImgNode(t,null,n)};return o?d():u.createElement(b.default,{mediaData:r,placeholderRenderer:d},s);default:return e._renderImgNode(t,a,n)}},e._renderIcon=function(){var t=e.props.msg.mediaData;switch(t.type){case g.default.TYPE.AUDIO:return u.createElement("div",{className:m.default.iconType},u.createElement(v.default,{name:"msg-audio-light"}));case g.default.TYPE.VIDEO:return t.isGif?u.createElement("div",{className:m.default.iconType},u.createElement(v.default,{name:"msg-gif-light"})):u.createElement("div",{className:m.default.iconType},u.createElement(v.default,{name:"msg-video-light"}));default:return null}},e._renderDuration=function(){var t=e.props.msg.mediaData;switch(t.type){case g.default.TYPE.AUDIO:return u.createElement(E,{duration:t.duration});case g.default.TYPE.VIDEO:return t.isGif?null:u.createElement(E,{duration:t.duration});default:return null}},e.state={hover:!1},e}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.listeners.add(this.props.msg.mediaData,"change:preview",function(){e.forceUpdate()}),this.props.listeners.add(this.props.msg,"change:star",function(){e.forceUpdate()}),this.props.imgRef&&this.props.imgRef(this.img),this.props.containerRef&&this.props.containerRef(this.container)}},{key:"componentDidUpdate",value:function(){this.props.imgRef&&this.props.imgRef(this.img),this.props.containerRef&&this.props.containerRef(this.container)}},{key:"componentWillUnmount",value:function(){this.props.imgRef&&this.props.imgRef(null),this.props.containerRef&&this.props.containerRef(null)}},{key:"render",value:function(){var e,t=this.props,a=t.selectable,n=t.theme,i=t.active,r=this.props.selected||!1;(a||this.state.hover)&&(e=u.createElement("div",{className:m.default.mediaSelect},u.createElement("div",{className:m.default.shadeTop,onClick:this.props.onClick||null}),u.createElement(f.default,{onChange:this.onSelectClick,hover:this.state.hover,checked:r})));var o=null,s=null,d=null;this.props.hoverEvent&&(o=this.onMouseOver,s=this.onMouseEnter,d=this.onMouseLeave);var c=(0,l.default)(this.props.classes,m.default.canvasComponent,{[m.default.canvasSelected]:r,[m.default.canvasSecondRow]:"hideableSecondRow"===n,[m.default.viewerFlow]:"viewerFlow"===n||"viewerFlowTransparent"===n,[m.default.viewerFlowTransparent]:"viewerFlowTransparent"===n,[m.default.active]:!0===i});return u.createElement("div",{ref:this.setRefContainer,className:c,onMouseOver:o,onMouseEnter:s,onMouseLeave:d},e,u.createElement("div",{className:m.default.canvasBody},this._renderIcon(),this._renderDuration(),this.props.msg.star?u.createElement("div",{className:m.default.iconStar},u.createElement(v.default,{name:"star-light"})):null),this._renderImg())}}]),t}(u.Component);function E(e){var t=e.duration,a=h.default.durationStr(t);return a?u.createElement("span",{className:m.default.mediaCanvasDuration},a):null}t.MediaThumb=j;var y=(0,p.default)(j);t.default=y},cigbgdjabj:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=n(a("ddhijeejag")),u=i(a("bjbdcigbdi")),f=i(a("ichcjagij")),h=i(a("icghcjegh")),p=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).renderLabel=function(){var e=a.props.labels;if(e)return e.map(function(e,t){return l.createElement("div",{key:t,className:f.default.labelRow},l.createElement(h.default,{labels:[e],showName:!0}))})},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){return this.props.labels&&u.default.supportsFeature(u.default.F.LABELS_DISPLAY)?l.createElement("div",{className:f.default.labelContainer},this.renderLabel()):null}}]),t}(l.PureComponent);t.default=p},cigddfbici:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=n(a("ddhijeejag")),u=i(a("dbdfbgehgj")),f=i(a("bbchdeehff")),h=i(a("biddiiafgd")),p=i(a("dhigahgdjb")),g=a("ddjgcfjicj"),m=i(a("bcbahjefec")),b=i(a("bjbdcigbdi")),v=i(a("bfcjfjfjjj")),j=i(a("becfabjeeg")),E=i(a("bihdhbjih")),y=a("dcbdjheea"),_=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i))))._cancel=function(){a._queryChatPromise&&a._queryChatPromise.cancel(),a._queryChatPromise=void 0,a.end()},a.error=function(e){a.push(l.createElement(h.default,{onOK:function(){return a.end()},okText:l10n.t(1331)},l10n.t(773)))},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){var e=this;this.push(l.createElement(h.default,{title:l10n.t(1064),onCancel:this._cancel,cancelText:l10n.t(1197)},l.createElement("div",{className:v.default.spinner},l.createElement(j.default,{stroke:6,size:24})))),this._queryChatPromise=this.queryChat().cancellable().then(function(e){return u.default.find(e)}).then(function(t){e.props.onSuccess(t),e.openChat(t),e.end()}).catch(Promise.CancellationError,function(){}).catch(this.error)}},{key:"queryChat",value:function(){var e=this.props.phone,t=(0,y.createWid)(e.slice(1));return p.default.get(t)?Promise.resolve(t):E.default.queryExist(e).then(function(e){return 200===e.status?(b.default.supportsFeature(b.default.F.QUERY_VNAME)&&e.biz&&E.default.queryVname(e.jid).catch(g.WapDrop,function(){}),e.jid):Promise.reject("Invalid number")})}},{key:"openChat",value:function(e){var t=this.props.msgText;e.active&&t?f.default.pasteChatTextInput(e,t):(t&&e.setComposeContents({text:t}),f.default.openChatFromUnread(e).then(function(t){t&&f.default.focusChatTextInput(e)}))}}]),t}(m.default);t.default=_,_.defaultProps={removeTopDrawer:!0,pushTransition:"none",popTransition:"none"}},ciggibedij:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.queryServerProps=function(){var e;e=i.default.supportsFeature(i.default.F.MD_BACKEND)?Promise.reject(new Error("Should not reach here")):r.default.queryServerProps();return e};var i=n(a("bjbdcigbdi")),r=n(a("bihdhbjih"))},cighigadh:function(e,t){e.exports={msg:"FTBzM",msgContinuation:"_4jEk2",msgSystem:"_3CGDY",message:"_1zGQT",messageBackground:"_2Wx_5",messageTransparent:"a81-s",tailOverrideHide:"PJFFv",messageSystem:"a7otO",messageChat:"_2ugFP",messageCode:"_3kab4",messageE2ENotification:"S-bQb",messageBizNotification:"_1LwB5",messagePlaceholder:"_28d1E",msgGallery:"_3RxKY",messageAudio:"_1uSEj",messageDocument:"oty3x",messageImage:"_26GKj",messageProduct:"nt61F",messageMultiVcard:"_2HP6E",messagePTT:"xPyAe",messagePtt:"xPyAe",messageSticker:"ossEC",messageVcard:"_1ikYm",messageGif:"_2lXrM",messageVideo:"_1hLcX",messageLocation:"_2qxEJ",messageLiveLocation:"_3Vhqk",msgInfo:"_2DWMU",messageHidden:"_2Bze7",msgContainer:"_2WL0u",btnForward:"gxf3C",msgPSA:"_3ZL2B",msgPsa:"_3ZL2B",messageVideoLinkPreview:"wsR1v",placeholder:"_1wS8b",gridContainer:"_1b0ym",author:"_3892J",forwarded:"KD5D6",albumBubbleContainer:"O4QF8",forwardedIndicator:"_1JrqU",hasAuthor:"SCGVi",authorForward:"_11U8j",groupStickerContainer:"hvF75",singleGroupedStickerContainer:"g-0Fi",groupStickerAuthor:"_3tMyP",transparent:"_3aoog",hasBorderBox:"_3LG3B",hasUrlCallButtons:"BXXBZ",stickerWrapperContainer:"_31GiH"}},cihcggiidc:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=n(a("ddhijeejag")),u=i(a("dhbceejbjg")),f=i(a("baagejbchg")),h=i(a("dhhfaeacef")),p=i(a("djcchigfih")),g=i(a("djbhiedbef")),m=n(a("dajffajabh")),b=i(a("fifhbjiec")),v=i(a("begjfegacj")),j=i(a("fffdgbfji")),E=i(a("chcadgfgad")),y=i(a("dfigcajgai")),_=i(a("dhefcajhhb")),S=i(a("bjbedjfe")),C=i(a("cdjhjdcbeg")),A=i(a("bfdcadbbif")),M=i(a("hfhhcchgj")),T=i(a("didfdhbecg")),P=i(a("bjieiiccce")),N=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).state={isBusy:!1,inviteComment:j.default.t(573)},a.setRefParticipantList=function(e){a.refParticipantList=e},a.onClose=function(){(0,a.props.onClose)()},a.getGroupThumbBase64=function(){var e=a.props.gid,t=_.default.get(e);return new Promise(function(e,a){t&&t.img?P.default.get(t.img,P.default.RESP_TYPE.BLOB).then(function(t){if(200===t.status){var a=new FileReader;a.onloadend=function(){var t=a.result;if(null!=t){var n=t.toString().split(",")[1];e(n)}else e(void 0)},a.readAsDataURL(t.response)}else e(void 0)}).catch(function(){return e(void 0)}):e(void 0)})},a.onSend=function(){var e=a.props.onSend,t=a.state.inviteComment;a.getGroupThumbBase64().then(function(a){e(t,a)})},a.onInviteCommentChange=function(e){a.setState({inviteComment:e})},a.setRefEmojiInput=function(e){a.refEmojiInput=e},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=l.createElement(C.default,{a8nText:"group-participants-btn",large:!0,onClick:this.onSend},l.createElement(A.default,{name:"send-light",directional:!0})),t=l.createElement(h.default,{id:this.props.gid}),a=l.createElement(b.default,{text:this.props.subject});return l.createElement(E.default,{type:"invite"},l.createElement(p.default,{theme:"invite"},l.createElement(m.default,{type:m.DRAWER_HEADER_TYPE.POPUP,title:j.default.t(582),onCancel:this.onClose}),l.createElement(g.default,null,l.createElement("div",{className:v.default.search},l.createElement("div",{"data-list-scroll-container":!0},l.createElement(y.default,{ref:this.setRefParticipantList,theme:"list-names",contacts:this.props.participants.map(function(e){return e.contact})}))),l.createElement("div",{className:v.default.commentInput},l.createElement(M.default,{ref:this.setRefEmojiInput,value:this.state.inviteComment,showRemaining:!0,maxLength:f.default.MAX_CAPTION_LENGTH,onChange:this.onInviteCommentChange,theme:"v4-invite-caption",supportsEmoji:!0})),l.createElement(T.default,{transitionName:"btn",className:v.default.onSendInvite},e),l.createElement("div",{className:v.default.groupInfo},l.createElement(u.default,{idle:!0,image:t,primary:a,secondary:j.default.t(578),theme:"group_v4_invite"})))))}}]),t}(l.Component),I=(0,S.default)(N);t.default=I},ciheehhei:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("hbddjfeei")),o=i(a("eaidjcib")),s=i(a("dgcdacjddi")),d=i(a("ffceefejc")),c=i(a("cjedcdbdii")),l=i(a("dbjagcfebh")),u=n(a("ddhijeejag")),f=i(a("bbchdeehff")),h=i(a("biddiiafgd")),p=n(a("bidfjbaebi")),g=a("facgccaif"),m=i(a("bcijeefgje")),b=a("chhhffajfi"),v=function(e){function t(){var e,a;(0,o.default)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=(0,d.default)(this,(e=(0,c.default)(t)).call.apply(e,[this].concat(i)))).onOK=function(){f.default.closeModal()},a.onCancel=function(){var e=a.props.link.href;(0,p.openExternalLink)(e),f.default.closeModal()},a}return(0,l.default)(t,e),(0,s.default)(t,[{key:"renderHostname",value:function(){var e=this.props.link,t=e.suspiciousCharacters,a=e.domain.split("."),n=[];return a.forEach(function(e,i){var r=!1,o=e.split("").map(function(e,a){var n=t&&t.has((0,b.codePointAt)(e,0));r=n||r;var o=n?m.default.suspiciousCharacter:void 0;return u.createElement("span",{key:"".concat(i,"-").concat(a,"-").concat(e),className:o},e)}),s=r?m.default.suspiciousHostname:void 0,d=u.createElement("span",{key:"".concat(i,"-").concat(e),className:s},o);n.push(d),i+1!==a.length&&n.push(u.createElement("span",{key:"".concat(i)},"."))}),n}},{key:"render",value:function(){var e=this.props.link,t=e.href,a=e.domain,n=t.split(a),i=(0,r.default)(n,2),o=i[0],s=i[1];return u.createElement(h.default,{title:l10n.t(1087),okText:l10n.t(1197),cancelText:l10n.t(1089),onOK:this.onOK,onCancel:this.onCancel},u.createElement("div",{className:m.default.explanation},l10n.t(1090)+" ",u.createElement(p.default,{href:(0,g.getSuspiciousLinkFaqUrl)()},l10n.t(644))),u.createElement("div",{className:m.default.url},o,this.renderHostname(),s))}}]),t}(u.PureComponent);t.default=v},cihffbbgjc:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.sendConversationPin=function(e,t,a){return o.default.sendConversationPin(e,t,a).then(function(a){return i.default.supportsFeature(i.default.F.MD_BACKEND)&&200===a.status&&!a._duplicate?r.Chat.merge(e.toString(),{pin:t}).then(function(){return a}):a})};var i=n(a("bjbdcigbdi")),r=a("cefcddgdgg"),o=n(a("bihdhbjih"))},cihhicgaca:function(e,t){e.exports={textThumb:"_25_R-",statusImage:"_39J1B",container:"_20CJh"}},cihiahfgbc:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=i(a("eaaagccfda")),u=i(a("iidhbgeed")),f=i(a("dbafiicfja")),h=n(a("ddhijeejag")),p=n(a("iaibjaeb")),g=a("cicgeajfge"),m=i(a("dgjddffcfg")),b=i(a("dfjibhjhde")),v=i(a("dcaibchbg")),j=function(e){function t(e){var a;return(0,r.default)(this,t),(a=(0,s.default)(this,(0,d.default)(t).call(this,e))).onSelect=function(e,t){if(t instanceof p.Mode){var n=t.props.chat;!0===a.props.filter(n)&&a.props.onGroup(t.props.chat)}},a.onSearch=(0,l.default)(function(e){a.setState({searchText:e})},100),a.renderItem=function(e){var t,n,i=a.props,r=i.onGroup,o=(0,i.filter)(e.chat),s="boolean"!=typeof o;return s&&(t=o,n="group-modal"),h.createElement(p.default,{chat:e.chat,contact:e.chat.contact,mode:p.Mode.INFO,active:a.selection,secondary:t,noContext:!0,theme:n,onClick:s?void 0:r.bind(null,e.chat)})},a.selection=new v.default,a.state={loading:!0,searchText:void 0},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.chats;Promise.delay(300).then(function(){return Promise.all((0,f.default)((0,u.default)(t,function(e){return e.groupMetadata.stale}),function(e){return a("djaadchjch").update(e.groupMetadata.id).catch(function(){})}))}).then(function(){return e.setState({loading:!1})})}},{key:"getData",value:function(){var e=this.props,t=e.chats,a=e.filter,n=this.state,i=n.loading,r=n.searchText;if(i)return[];var o=l10n.accentFold(r),s=m.default.numberSearch(o),d=t.filter(function(e){return a(e)&&(!o||o&&e.contact.searchMatch(o,s))});return this.selection.init(d.filter(function(e){return!0===a(e)}).map(function(e){return e.id})),d.map(function(e){return{chat:e,itemKey:e.id.toString()}})}},{key:"render",value:function(){var e=this.props.onCancel,t=this.state.loading?h.createElement(g.Loading,null):h.createElement(g.SearchGroups,null);return h.createElement(b.default,{title:l10n.t(1299),data:this.getData(),renderItem:this.renderItem,emptyState:t,selection:this.selection,onSearch:this.onSearch,searchPlaceholder:l10n.t(1009),onSelect:this.onSelect,onCancel:e})}}]),t}(h.Component);t.default=j,j.defaultProps={filter:function(){return!0}}},cihjadddhc:function(e,t){e.exports={container:"_1XANn",media:"_2vDTu",document:"_10zRs",text:"Cltyv",icon:"_3YCc3"}},ciibfajghc:function(e,t,a){"use strict";var n=a("cfjecfhbfg"),i=n(a("eaidjcib")),r=n(a("ffceefejc")),o=n(a("cjedcdbdii")),s=n(a("dbjagcfebh")),d=n(a("digcccheca")),c=n(a("djegeegcbf")),l=n(a("ebgjhfacdb")),u=n(a("bidcddiaag")),f=n(a("decdhbjfjc")),h=a("bcjcbbafcj").isTrident,p=25,g="/",m={Enter:l.default.ENTER,Tab:l.default.TAB,ArrowUp:l.default.UP,ArrowDown:l.default.DOWN,Backspace:l.default.BACKSPACE},b=function(e){function t(){var e,a;(0,i.default)(this,t);for(var n=arguments.length,s=new Array(n),d=0;d<n;d++)s[d]=arguments[d];return(a=(0,r.default)(this,(e=(0,o.default)(t)).call.apply(e,[this].concat(s)))).handleSelect=function(e){e.useOnce();var t=window.getSelection(),n=v(a.ctx,t);void 0!==n&&((0,f.default)(t,n.length+1),a.ctx.replaceSelection(e.message),(0,f.default)(t,e.message.length),a.handle(l.default.INACTIVE))},a.handlers={onKeyDown(e,t){var a=m[e.key];return!!a&&this.handle(a,[e,t])},onSelect(e,t){if(h)return!1;if(this.ctx.isComposing)return!1;var a=window.getSelection(),n=v(this.ctx,a);return void 0===n?(this.handle(l.default.INACTIVE),!1):(this.handle(l.default.FILTER,[n]),!1)},onBlur(){return this.handle(l.default.INACTIVE),!1}},a}return(0,s.default)(t,e),t}(d.default);function v(e,t){var a="",n=!1,i=!0;return(0,u.default)(e,t,function(e,t,r){return n?(o=e,i=c.default.isEmoji(o)||j.test(o),!0):a.length>p||void((n=e===g)||(a=e+a));var o}),n&&i?a:void 0}var j=/\W/;e.exports=new b},ciifehaief:function(e,t){e.exports={container:"_2ndBv",clickable:"_3UFi3",caption:"_3FeE8",author:"_3Qug7",meta:"_1L1b-",hasCaption:"_21klb",actionButton:"_1B0oP",thumb:"_3qW--",avatar:"_2rdru",map:"uTFa6",overlay:"_2qCGf",expired:"aJedp",thumbBody:"_1NZVj",quote:"_23sdy",status:"_3C3Pi",statusIcon:"_149ps",statusText:"_2ofvs",stopLocation:"_2SLZ5",viewLocation:"zPczZ",hidden:"_3upOq"}},cijaehcdg:function(e,t){e.exports=function(e){return!e.getModifierState("Shift")&&!e.getModifierState("Alt")&&!e.getModifierState("Control")}},cijajafeeb:function(e,t,a){"use strict";var n=a("cfjecfhbfg"),i=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.id,a=e.href;return r.createElement("span",{className:o.default.linkContainer},r.createElement(s.SelectableLink,{id:t,href:a,className:o.default.activeLink,selectable:!0},a))};var r=i(a("ddhijeejag")),o=n(a("ceidifgdbd")),s=a("eagfdbhhhh")},cijhadicdb:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=n(a("ddhijeejag")),u=i(a("dcbcechchi")),f=i(a("becfabjeeg")),h=i(a("bfdcadbbif")),p=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,(0,d.default)(t).apply(this,arguments))}return(0,c.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e,t,a,n=this.props.direction;if("earlier"===n&&this.props.isLoadingEarlierMsgs||"recent"===n&&this.props.isLoadingRecentMsgs||"around"===n&&this.props.isLoadingAroundMsgs)e=l.createElement(f.default,{stroke:6,size:24,color:"highlight"}),t=l10n.t(686);else{switch(n){case"earlier":t=l10n.t(683);break;case"recent":t=l10n.t(684);break;default:t=l10n.t(686)}e=l.createElement("div",{className:u.default.icon},l.createElement(h.default,{name:"refresh"})),a=this.props.loadMoreMsgs}return l.createElement("div",{className:u.default.wrapper},l.createElement("div",{className:u.default.button,title:t,onClick:a},e))}}]),t}(l.PureComponent);t.default=p},cijhchjfjc:function(e,t){e.exports={preview:"HNuTV",bubbleIn:"Lhd3q",bubbleOut:"_2nZ2E",title:"_2IHkF",description:"_3JxFB",source:"_23MBZ",body:"_2a6mc",noThumb:"D_Fkg",thumbnailWrapper:"h6D8Z",thumbnail:"WGJYh",youtubeThumbnail:"pCs82",thumbnailPlaceholder:"_1RKID",mediaStateControlsWrapper:"_2QYdY",attribution:"_2W5M3"}},cijihedhb:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=n(a("ddhijeejag")),u=a("dhhfaeacef"),f=i(a("fifhbjiec")),h=i(a("bhheahajjg")),p=i(a("cificacaii")),g=i(a("ihfccfgdf")),m=i(a("eedjbihej")),b=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,(0,d.default)(t).apply(this,arguments))}return(0,c.default)(t,e),(0,o.default)(t,[{key:"renderDescription",value:function(){var e=this.props.businessProfile;return e&&e.description?l.createElement("div",{className:p.default.description},l.createElement(f.default,{text:e.description,direction:"auto",selectable:!0,titlify:!0})):null}},{key:"renderPicture",value:function(){var e=this.props,t=e.profilePicThumb,a=e.contact;if(!t)return null;var n=(0,u.getDefaultIcon)(a.id);return l.createElement("div",{className:p.default.photo},l.createElement(u.DetailImageCommon,{profilePicThumb:t,loader:!0,defaultIcon:n,profilePicThumbImg:t.imgFull,spinnerClassName:p.default.spinner,imgClassName:p.default.img,theme:"business"}))}},{key:"render",value:function(){var e=this.props.contact;return l.createElement("div",{className:p.default.header},this.renderPicture(),l.createElement("div",{className:p.default.text},l.createElement(m.default,{block:!0,className:p.default.name,theme:"large"},l.createElement(h.default,{contact:e,useDisplayName:!0,selectable:!0,showBusinessCheckmark:!0})),this.renderDescription()))}}]),t}(l.Component);b.CONCERNS={profilePicThumb:["imgFull"],contact:["id","isMe"],businessProfile:["description"]};var v=(0,g.default)(b,b.CONCERNS);t.default=v},cijjejhjfh:function(e,t){e.exports={stickerItem:"_20-F",stickerMenu:"U-JiQ"}},cjaagagigi:function(e,t){e.exports={author:"_1QjgA",name:"_1uQFN",number:"ZObjg",screenName:"_1F9Ap",verifiedIcon:"_1Tvm-",hoverable:"_2q8oz"}},cjabddhidj:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=i(a("cgcgbfbffj")),u=i(a("ebjaejiaba")),f=i(a("dbdfbgehgj")),h=i(a("dfjfgdhbjj")),p=i(a("bjigbaghc")),g=i(a("bhggeigghg")),m=n(a("bgeajihhc")),b=function(e){function t(e,a){var n;return(0,r.default)(this,t),(n=(0,s.default)(this,(0,d.default)(t).call(this))).stale=!1,n.add(e,{silent:!0}),n.contact=a,n.listenTo(g.default.GroupMetadata,"group_participant_change_".concat(p.default.me.toString()),n.updateCommonGroups),n.listenTo(g.default.GroupMetadata,"group_participant_change_".concat(n.contact.toString()),n.updateCommonGroups),n.listenTo(m.default,"change:stream",function(){m.default.stream===m.STREAM.DISCONNECTED&&(n.stale=!0)}),n}return(0,c.default)(t,e),(0,o.default)(t,[{key:"updateCommonGroups",value:function(e){var t=g.default.GroupMetadata.assertGet(e).participants,a=p.default.me;this.get(e)?t.get(this.contact)&&t.get(a)||this.remove(e):t.get(this.contact)&&t.get(a)&&this.add(f.default.assertGet(e))}}]),t}(l.default);t.default=b,b.model=u.default,b.comparator=h.default},cjafhagbj:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.sendMsgRecord=function(e){var t=Promise.resolve();r.default.supportsFeature(r.default.F.MD_BACKEND)||(t=o.default.msgCreateRecord(e).then(function(e){return 200!==e.status?Promise.reject(new i.ServerStatusCodeError(e.status)):e}));return t};var i=a("ddjgcfjicj"),r=n(a("bjbdcigbdi")),o=n(a("bihdhbjih"))},cjaiehadfe:function(e,t){var a={sendConversationDismissChangeNumber:function(e){return this.sendConversationOpWithKey("modify",e,void 0,void 0)}};e.exports=a},cjbgdeaacg:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=i(a("ceffhbhahb")),u=n(a("ddhijeejag")),f=i(a("bacgdahheh")),h=i(a("ihfccfgdf")),p=i(a("bfdcadbbif")),g=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,(0,d.default)(t).apply(this,arguments))}return(0,c.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e,t,a=this.props.msg.ack;return a<1?e="status-time":1===a?e="status-check":2===a?e="status-dblcheck":(e="status-dblcheck",t=f.default.ackBlue),u.createElement("div",{className:(0,l.default)(f.default.ack,t)},u.createElement(p.default,{name:e}))}}]),t}(u.PureComponent);g.CONCERNS={msg:["ack"]};var m=(0,h.default)(g,g.CONCERNS);t.default=m},cjbicbfaej:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=i(a("ceffhbhahb")),u=n(a("ddhijeejag")),f=i(a("cfaiaibca")),h=i(a("bbchdeehff")),p=i(a("dhfbfehaef")),g=i(a("djhbegbdaf")),m=i(a("fffdgbfji")),b=i(a("chcadgfgad")),v=i(a("baehciajii")),j=n(a("bfjajhbdf")),E=["NO_MATCH","SPAM","ILLEGAL","SCAM","KNOCKOFF","OTHER"],y=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).state={reason:null},a.onCancel=function(){var e=a.props.onCancel;e&&e()},a.onSubmit=function(){if(!a.state.reason)return a.noSelectionToast();a.props.onTellUsMoreSubmit(a.state.reason)},a.onReasonChange=function(e){e.target&&e.target.value&&a.setState({reason:e.target.value})},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"noSelectionToast",value:function(){h.default.openToast(u.createElement(j.default,{msg:m.default.t(939),id:(0,j.genId)()}))}},{key:"renderRadioOptions",value:function(){var e=this,t=this.state.reason;return E.map(function(a){return u.createElement("li",{key:"ReportProductReasonPopup-".concat(a,"-option")},u.createElement("label",{className:v.default.label},u.createElement("input",{type:"radio",name:a,value:a,onChange:e.onReasonChange,className:v.default.input,checked:t===a}),u.createElement(_,{reason:a})))})}},{key:"render",value:function(){var e=m.default.t(932),t=u.createElement("div",{className:(0,l.default)(v.default.section)},u.createElement("ul",{className:v.default.reasonList},this.renderRadioOptions())),a=u.createElement(f.default,{a8nText:"popup-controls-submit",type:"primary",onClick:this.onSubmit,key:"ReportProductReasonPopup-submitButton",disabled:!this.state.reason},m.default.t(935)),n=u.createElement(f.default,{type:"plain",a8nText:"popup-controls-cancel",onClick:this.onCancel,key:"ReportProductReasonPopup-cancelButton"},m.default.t(1197)),i={escape:this.onCancel},r=u.createElement("div",{className:v.default.buttons},n,a);return u.createElement(p.default,{handlers:i},u.createElement(b.default,{title:e,actions:r,children:t}))}}]),t}(u.Component);function _(e){var t=e.reason;switch(t){case"NO_MATCH":return u.createElement(g.default,{id:930});case"SPAM":return u.createElement(g.default,{id:934});case"ILLEGAL":return u.createElement(g.default,{id:928});case"SCAM":return u.createElement(g.default,{id:933});case"KNOCKOFF":return u.createElement(g.default,{id:929});case"OTHER":return u.createElement(g.default,{id:931});default:throw new Error("Invalid reason: ".concat(t))}}t.default=y},cjcabghhji:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MAX_BUCKETS=t.CAT_HOST_TIMESPAN=t.MMS_VCA_ENABLED=void 0;t.MMS_VCA_ENABLED=!1;t.CAT_HOST_TIMESPAN=0;t.MAX_BUCKETS=null},cjcaccbiih:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=n(a("ddhijeejag")),u=i(a("bjdfbiahbi")),f=i(a("fifhbjiec")),h=i(a("bjbdcigbdi")),p=i(a("ihfccfgdf")),g=i(a("bfdcadbbif")),m=i(a("ecgfheibgg")),b=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,(0,d.default)(t).apply(this,arguments))}return(0,c.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e,t,a=this.props,n=a.contact,i=a.presence;return(e="list"===this.props.location||"info"===this.props.location?i.getFormattedString():i.withholdDisplay?this.props.placeholder:i.getFormattedString()||(i.forceDisplay?"":this.props.placeholder))&&(t=l.createElement(u.default,{text:e,location:this.props.location})),"title"===this.props.location&&h.default.supportsFeature(h.default.F.VNAME_V_2)&&e!==this.props.placeholder&&n&&n.showBusinessVname?l.createElement("div",{className:m.default.wrapper},l.createElement(f.default,{text:n.verifiedName,className:m.default.verifiedText,direction:"auto",ellipsify:!0,titlify:!0}),l.createElement("div",{className:m.default.icon},l.createElement(g.default,{name:"psa-verified"})),t&&l.createElement("span",{className:m.default.divider},""),t):t||null}}]),t}(l.PureComponent);b.CONCERNS={contact:["name","verifiedName","showBusinessVname"],presence:["withholdDisplay","forceDisplay","hasData"],chatstate:["type","deny","t"]};var v=(0,p.default)(b,b.CONCERNS);t.default=v},cjcecfgaji:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t,a=e.mimeType,n=e.url,i=e.isGif,o=e.size,l=e.processing,g=e.preview;switch(p[a].msgType){case"image":t=d.createElement("img",{src:n,className:c.default.img});break;case"video":var m=i?{loop:!l,autoPlay:!l,muted:!1,controls:!1}:{},b=l?d.createElement("div",{className:c.default.spinner},d.createElement(f.default,{color:f.colorOptions.white,size:50,stroke:3})):null,v=g?d.createElement("img",{className:c.default.staticPreview,src:"data:image/jpeg;base64,".concat(g)}):null,j=l?null:d.createElement(h.default,(0,r.default)({controls:!0,controlsList:"nodownload nofullscreen",className:c.default.video},m,{src:n}));t=d.createElement("div",{className:(0,s.default)(c.default.img,c.default.videoContainer)},b,j,v);break;case"audio":t=d.createElement("audio",{controls:!0,className:c.default.audio,type:a,src:n})}return d.createElement("div",{className:c.default.container,"data-animate-attach-media":!0},d.createElement("div",{className:c.default.media},d.createElement(u.default,{type:u.FIT_TYPE.SCALE_DOWN,size:o},t)))};var r=i(a("bacehaajgh")),o=i(a("bgeijhbbad")),s=i(a("ceffhbhahb")),d=n(a("ddhijeejag")),c=i(a("dhhbehfjej")),l=a("behbjhhbg"),u=n(a("dgfecega")),f=n(a("becfabjeeg")),h=i(a("ccfdaijebj")),p=(0,o.default)(l.MIMETYPES,function(e){return"image"===e.msgType||"video"===e.msgType})},cjcffhicea:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ListType=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=n(a("ddhijeejag")),u=i(a("dbdfbgehgj")),f=n(a("gajigdged")),h=i(a("bbchdeehff")),p=i(a("ccfcjccjbg")),g=i(a("ciefdgaafc")),m=i(a("djcchigfih")),b=i(a("djbhiedbef")),v=n(a("dajffajabh")),j=i(a("bggeiidigb")),E=i(a("ddajbaceej")),y=a("dhfbfehaef"),_=n(a("chcadgfgad")),S=i(a("efhjefegg")),C=i(a("bhcdajjdgi")),A=i(a("dfgebfbfba")),M=i(a("dceicchccd")),T=i(a("bjbeidgfjj")),P=i(a("dcaibchbg")),N={CHAT_SELECT_MODAL:"CHAT_SELECT_MODAL",CONTACT_SELECT_MODAL:"CONTACT_SELECT_MODAL",PARTICIPANT_MANAGE_MODAL:"PARTICIPANT_MANAGE_MODAL",PRODUCT_SELECT_MODAL:"PRODUCT_SELECT_MODAL"};t.ListType=N;var I=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).setSearch=function(e){a.search=e},a.setList=function(e){a.list=e},a.active=new P.default([],function(e){return e.id}),a.selections=new M.default([],function(e){return e.id.toString()}),a.flatListController=new j.default,a.state={searchText:""},a._setSearchText=function(e){a.setState({searchText:e})},a.onFocusList=function(e){e&&(e.preventDefault(),e.stopPropagation()),a.list&&E.default.focus(a.list)},a.onScroll=function(e){a.list instanceof A.default&&a.list.updateForScrollEvent&&a.list.updateForScrollEvent(e)},a.indicateSearchFocus=function(e){var t;a.active.unset(),null===(t=a.search)||void 0===t||t.getComponent().indicateFocus()},a.onLeaveList=function(e){(0,y.shouldIndicateFocus)(),E.default.focus(a.search)},a.handleEnter=function(e){a.list&&a.list.toggleFirst(!1)},a.handleForward=function(){var e=a.props,t=e.onConfirm,n=e.listType,i=a.selections.getSelected();n===N.CONTACT_SELECT_MODAL||n===N.PARTICIPANT_MANAGE_MODAL||n===N.PRODUCT_SELECT_MODAL?t(i):Promise.map(i,function(e){return e instanceof p.default?u.default.find(e.id):e}).then(function(e){t(e)})},a.handleSelectionChanged=function(e,t){a.search&&a.search.select()},a.onSelectedListDelete=function(e,t){a.selections.setVal(t,!1)},a.onCancel=a.props.onCancel?a.props.onCancel:function(){return h.default.closeModal()},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"_renderList",value:function(){switch(this.props.listType){case N.CHAT_SELECT_MODAL:var e=this.props.getInitialItems,t=this.selections;return l.createElement(S.default,{ref:this.setList,msgType:this.props.msgType,excludeChat:this.props.excludeChat,getInitialItems:e,searchText:this.state.searchText,active:this.active,selections:t,maxChats:this.props.maxItems,onLeaveList:this.onLeaveList,onSelectionChanged:this.handleSelectionChanged,hasFrequentlyForwarded:this.props.hasFrequentlyForwarded,flatListController:this.flatListController});case N.PARTICIPANT_MANAGE_MODAL:case N.CONTACT_SELECT_MODAL:var a=this.props.getInitialItems,n=this.selections;return l.createElement(C.default,{ref:this.setList,useAllContacts:this.props.useAllContacts,getInitialItems:a,searchText:this.state.searchText,active:this.active,selections:n,maxContacts:this.props.maxItems,onLeaveList:this.onLeaveList,onSelectionChanged:this.handleSelectionChanged,isDisabled:this.props.isDisabled,isSelected:this.props.isSelected,customSecondaryText:this.props.customSecondaryText,filter:this.props.filter,allowBlockedContacts:this.props.allowBlockedContacts,flatListController:this.flatListController});case N.PRODUCT_SELECT_MODAL:var i=this.selections;return l.createElement(A.default,{ref:this.setList,flatListController:this.flatListController,active:this.active,selections:i});default:throw new Error("Invalid list type: ".concat(this.props.listType))}}},{key:"render",value:function(){var e=this.props,t=e.listType,a=e.useShortName,n=!!this.props.getInitialItems&&0!==this.props.getInitialItems().length,i=t===N.PARTICIPANT_MANAGE_MODAL?l.createElement(g.default,{selections:this.selections,useShortName:a,onDelete:this.onSelectedListDelete,isDisabled:this.props.isDisabled}):null,r=t===N.PARTICIPANT_MANAGE_MODAL?f.FooterType.MANAGE_ADMINS:null;return l.createElement(_.default,{type:_.TowerModalType},l.createElement(m.default,{key:"chat-modal"},l.createElement(v.default,{title:this.props.title,type:v.DRAWER_HEADER_TYPE.POPUP,onCancel:this.onCancel}),l.createElement(T.default,{searchRef:this.setSearch,setSearchText:this._setSearchText,onDown:this.onFocusList,onEnter:this.handleEnter,onFocus:this.indicateSearchFocus,enabled:this.props.enableSearchBox}),this.props.customHeader,i,l.createElement(b.default,{flatListControllers:[this.flatListController],onScroll:this.onScroll},this._renderList()),l.createElement(f.default,{type:r,selections:this.selections,onForward:this.handleForward,startActive:n})))}}]),t}(l.Component);t.default=I},cjcghajbag:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ProductCollection=t.PRODUCT_REVIEW_STATUS=void 0;var i=n(a("eaidjcib")),r=n(a("dgcdacjddi")),o=n(a("ffceefejc")),s=n(a("cjedcdbdii")),d=n(a("bjehdcaaj")),c=n(a("dbjagcfebh")),l=n(a("cgcgbfbffj")),u=n(a("idbcfjbae")),f={NO_REVIEW:"",PENDING:"PENDING",REJECTED:"REJECTED",APPROVED:"APPROVED",OUTDATED:"OUTDATED"};t.PRODUCT_REVIEW_STATUS=f;var h=function(e){function t(){return(0,i.default)(this,t),(0,o.default)(this,(0,s.default)(t).apply(this,arguments))}return(0,c.default)(t,e),(0,r.default)(t,[{key:"getProductModels",value:function(){var e=(0,d.default)((0,s.default)(t.prototype),"toArray",this).call(this);if((0,d.default)((0,s.default)(t.prototype),"length",this)<1)return e;var a=(0,d.default)((0,s.default)(t.prototype),"head",this).call(this);return a&&a.catalogWid?(0,d.default)((0,s.default)(t.prototype),"filter",this).call(this,function(e){return e.reviewStatus===f.APPROVED&&!e.old}):e}},{key:"add",value:function(e,a){var n=a?(0,d.default)((0,s.default)(t.prototype),"add",this).call(this,e,a):(0,d.default)((0,s.default)(t.prototype),"add",this).call(this,e);return this.sort(),n}}]),t}(l.default);t.ProductCollection=h,h.model=u.default,h.comparator=function(e,t){return e.index-t.index};var p=h;t.default=p},cjciachhej:function(e,t,a){"use strict";var n=a("cfjecfhbfg"),i=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.sendClear=function(e,t){return function e(t,a){var n=t.promises;if(n.sendClear)return n.sendClear;var i=t.getLastMsgKeyForAction();var u=i?t.msgs.get(i):void 0;var f=n.sendClear=(0,s.sendClear)(t,i,a);var h=new o.ActionType(l10n.t(18));var p=f.then(function(e){return new o.ActionType(l10n.t(17))}).catch(c.ServerStatusCodeError,function(e){if(e.status>=400)return new o.ActionType(l10n.t(16))}).catch(function(n){return l.default.error("models:chat:sendClear dropped")(n),new o.ActionType(l10n.t(16),l10n.t(155),function(){return e(t,a)})});d.default.openToast(r.createElement(o.ActionToast,{id:(0,o.genId)(),initialAction:h,pendingAction:p}));return f.then(function(e){e._duplicate||t.deleteMsgsBeforeMsgInclusive(u,a)}).catch(c.ServerStatusCodeError,function(e){}).finally(function(){n.sendClear=null})}((0,u.unproxy)(e),t)};var r=i(a("ddhijeejag")),o=a("ccihhdchab"),s=a("dbbggghaed"),d=n(a("bbchdeehff")),c=a("ddjgcfjicj"),l=n(a("bdiiahhjbe")),u=a("bheafeifce")},cjdaccjhdg:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=n(a("ddhijeejag")),u=i(a("cjieghfgda")),f=i(a("bffjfbgbg")),h=i(a("ihfccfgdf")),p=function(e){function t(e){var a;return(0,r.default)(this,t),(a=(0,s.default)(this,(0,d.default)(t).call(this,e))).state={blob:u.default.get(a.props.mediaData.filehash)},a.state.blob||e.mediaData.mediaStage!==f.default.STAGE.RESOLVED||e.downloadMedia(),a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentDidUpdate",value:function(){if(!this.state.blob){var e=this.props.mediaData.filehash;u.default.has(e)&&this.setState({blob:u.default.get(e)})}}},{key:"render",value:function(){var e=this.state.blob;return e?this.props.render(e):this.props.renderPlaceholder()}}]),t}(l.Component);p.CONCERNS={mediaData:["filehash","mediaStage"]};var g=(0,h.default)(p,p.CONCERNS);t.default=g},cjdafdbcjb:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=i(a("ceffhbhahb")),u=n(a("ddhijeejag")),f=i(a("baagejbchg")),h=i(a("eahbjifecd")),p=i(a("bahgfcjcda")),g=i(a("cfedfiga")),m=i(a("cgfjebhhej")),b=f.default.MSG_TYPE,v=b.CHAT,j=b.IMAGE,E=b.VIDEO,y=b.LOCATION,_=b.DOCUMENT,S=b.VCARD,C=b.MULTI_VCARD,A=b.PRODUCT,M=b.TEMPLATE,T=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,(0,d.default)(t).apply(this,arguments))}return(0,c.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e,t,a=this.props,n=a.msg,i=a.inConversation,r=a.theme;switch(n.type){case j:case E:case _:case A:e=u.createElement(h.default,{mediaData:n.mediaData});break;case y:n.body&&(e=u.createElement("div",{style:{backgroundImage:"url(data:image/jpeg;base64,".concat(n.body,")")},className:g.default.image}));break;case v:n.thumbnail&&(e=u.createElement("div",{style:{backgroundImage:'url("data:image/jpeg;base64,'.concat(n.thumbnail,'")')},className:g.default.image}));break;case S:t=i?58:79,e=u.createElement(p.default,{waid:n.getVCardThumbnailWAid(),thumb:n.body&&m.default.thumbnail(n.body),quoted:!0,square:!0,size:t});break;case C:t=i?58:79,e=u.createElement(p.default,{size:t,square:!0,quoted:!0});break;case M:if(n.hsmEnabled)switch(n.subtype){case f.default.TEMPLATE_SUBTYPE.IMAGE:case f.default.TEMPLATE_SUBTYPE.VIDEO:case f.default.TEMPLATE_SUBTYPE.DOCUMENT:e=u.createElement(h.default,{mediaData:n.mediaData});break;case f.default.TEMPLATE_SUBTYPE.LOCATION:e=u.createElement("div",{style:{backgroundImage:"url(data:image/jpeg;base64,".concat(n.body,")")},className:g.default.image})}}var o=(0,l.default)(g.default.imageWrapper,{[g.default.composeBox]:"composeBox"===r,[g.default.statusV3]:"statusV3"===r});return e?u.createElement("div",{className:o},u.createElement("div",{className:g.default.msgImage},e)):null}}]),t}(u.PureComponent);t.default=T},cjdfbfihbe:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("eaidjcib")),r=n(a("dgcdacjddi")),o=function(){function e(t){(0,i.default)(this,e),this._children={},this._indices=[],t&&(this._data=t)}return(0,r.default)(e,[{key:"addBackwardsString",value:function(t,a){for(var n=t.length-1,i=this;n>=0;){var r=t.charAt(n);i._addIndex(a),i=i.get(r)||i.set(r,new e),n--}return i._addIndex(a),this}},{key:"addForwardsString",value:function(t,a){for(var n=0,i=this;n<t.length;){var r=t.charAt(n);i._addIndex(a),i=i.get(r)||i.set(r,new e),n++}return i._addIndex(a),this}},{key:"set",value:function(e,t){return this._children[e]=t,t}},{key:"get",value:function(e){return this._children[e]}},{key:"hasChildren",value:function(){return!function(e){for(var t in e)return!1;return!0}(this._children)}},{key:"search",value:function(e){var t=this._data;if(!t)return[];for(var a=this,n=0;n<e.length&&a;n++){var i=e[n];a=a.get(i)}return a?a.getIndices().map(function(e){return t[e]}):[]}},{key:"_addIndex",value:function(e){this._indices.push(e)}},{key:"getIndices",value:function(){var e=this._indices,t=Object.keys(this._children);return 1===t.length&&0===this._indices.length?this._children[t[0]].getIndices():e}},{key:"_optimize",value:function(){var e=this;if(!this.hasChildren())return this;var t=Object.keys(this._children),a=this._children[t[0]]._indices;return t.forEach(function(t){e._children[t]._optimize()}),1===t.length&&this._indices.length===a.length&&(this._indices=[]),this}},{key:"testOnlyGetChildrenProperty",value:function(){return this._children}},{key:"testOnlyGetIndicesProperty",value:function(){return this._indices}}],[{key:"fromBackwardsStrings",value:function(t,a){return t.reduce(function(e,t,a){return e.addBackwardsString(t,a)},new e(a))._optimize()}},{key:"fromForwardsStrings",value:function(t,a){return t.reduce(function(e,t,a){return e.addForwardsString(t,a)},new e(a))._optimize()}}]),e}();t.default=o},cjeajhjegi:function(e,t){e.exports={container:"_15Rkh",link:"_1000r",title:"lnNFH",address:"eqh3k",hasURL:"_32tnI",hasUrl:"_32tnI",text:"_2mjS6",author:"KKKc8",forwarded:"ZT7uk",forwardedIndicator:"_3Jnwt",hasAuthor:"_2nXsu",meta:"_29iuh",thumb:"_3s-xU",thumbBody:"_1YW53",quote:"_3wvFg",hasCaption:"_3z_3G",caption:"_1FHrD"}},cjecagehda:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,a){return e.onRoot(r(e,t.children,a),a)};var i=n(a("cgeeeeddea"));function r(e,t,a){return t.reduce(function(t,n){return t.push(function(e,t,a){if(t.type){var n=t.value;switch(t.type){case"text":return e.onText(n,a);case"delimiter":return e.onDelimiter(n,a);default:(0,i.default)(!1,"Invalid node type")}}return e.onMutator(t.mutator,r(e,t.children,a),t.match[5],t.opts,a)}(e,n,a)),t},[])}},cjedbbhjhh:function(e,t,a){var n={AllStarredMsgs:a("djfhiceeje").default,Blocklist:a("bgfcjjddjf").default,BusinessProfile:a("ejiicdbii").default,Call:a("biaifggagf").default,Catalog:a("ejegihaeh").default,Chat:a("dbdfbgehgj").default,ChatPreference:a("ebcagbhefg"),Contact:a("dhigahgdjb").default,ConversionTuple:a("ccbihadedf"),EmojiVariant:a("dfbhcehadj").default,GroupMetadata:a("djaadchjch"),Label:a("bijffg").default,LiveLocation:a("cdcijfdgje").default,Msg:a("biecbbiiee").default,MsgInfo:a("eigdejjai").default,Mute:a("dagdiahdfi").default,Presence:a("ebbjbbjjg").default,ProfilePicThumb:a("dhefcajhhb").default,QuickReply:a("bechejbabh").default,RecentEmoji:a("bjfecgfdgj").default,RecentSticker:a("jdigiabic").default,StarredSticker:a("difbicaihd").default,ServerProps:a("bfgbdiffgd").default,StarredGifMsgs:a("dfgeejdaib"),Status:a("gbbacfeci").default,StatusV3:a("bgcdajbhif").default,Sticker:a("dhjffabgfb").default,StickerPack:a("fagbfehid").default};e.exports=n},cjefbihjci:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.playMidPttTone=function(){r.play()},t.playEndPttTone=function(){o.play()};var i=n(a("baagejbchg")),r=new window.Audio(i.default.PTT_MIDDLE_TONE_PATH),o=new window.Audio(i.default.PTT_END_TONE_PATH)},cjegehjigc:function(e,t){e.exports={playerWrapper:"_2VR0P",mediaViewer:"_1crIZ",mediaStateControls:"g5ZbI",playerBackground:"_3KWZg",media:"_2Rvcb",captionBackdrop:"_3omcs",mediaCaption:"_23YnB",progresBarBackdrop:"_1wQjq",progressBarBackdropNarrow:"_3qWvl",profile:"_2soDh",nonClickProfile:"_1biSk",profileNarrow:"_20Axr",playerAvatar:"_38nNR",measuringProfile:"_1f7BH",profileMac:"N4pj4",msgInfo:"F6FSn",msgInfoName:"_1Og5G",timestamp:"_3sv8f",playerContent:"_1nKyQ",statusPanelPlayerContent:"_3ZnPf",statusThumbnailPlayerContent:"_24B2W",loading:"nck4i",v3Image:"_3LH4d",v3Video:"QYk9n",text:"_2ylxC",textLarge:"Iz658",textMedium:"_3JSAh",textSmall:"_2Rme_",font_1:"_3xchW",font1:"_3xchW",font_2:"_3Y-cn",font2:"_3Y-cn",font_3:"izRyU",font3:"izRyU",font_5:"_1el17",font5:"_1el17",unknown:"_37AKF",textThumbnailPlayerContent:"_1A1Ek"}},cjejfecgc:function(e,t){e.exports={avatar:"_3RWII",avatarDefault:"B9BIa",avatarImage:"jZhyM",isLoaded:"_13Xdg",avatarSquare:"eLUC2",avatarBorder:"L4M2f",status_v3:"_1G8Da",statusV3:"_1G8Da"}},cjfhhbcfdh:function(e,t,a){e.exports=a.p+"img/sticker-empty_9d7feb47a66ef5b59cc731acafd02266.png"},cjfiaefceb:function(e,t){e.exports={ring:"_18eSE",read:"_3J6CL",unread:"_3yudO"}},cjgadgafji:function(e,t){e.exports={btn:"_1g8sv",large:"NOJWi"}},cjgafgfbff:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=n(a("ddhijeejag")),u=i(a("fffdgbfji")),f=i(a("cfiighfhhg")),h=i(a("dbabefhajh")),p=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,(0,d.default)(t).apply(this,arguments))}return(0,c.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=this.props.msg;return l.createElement(h.default,{msg:e,displayAuthor:this.props.displayAuthor},l.createElement(f.default,{iconName:"unknown",msg:e},u.default.t(304)))}}]),t}(l.Component);t.default=p},cjgdeggcdi:function(e,t){e.exports={inputEmoji:"_2hexs",wrapper:"_3ogpF",textInput:"_3B1_S",labelText:"Am8s6",clearInput:"_2DGEU",float:"WoUSh",textActive:"_35YcC",suggestionsPositioner:"_1A9F6",suggestionsContainer:"_2bcHA",charCounter:"_3LlXC",inputControls:"_1zv3N",charCounterWithClearBtn:"_2bX7-",spacer:"_388ph",noPlaceholder:"_1aGJU",buttonContainer:"_3vWnP",active:"_2Fvnm"}},cjggfjjegd:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.sendQueryMsgInfo=function(e){var t,a=e.id;t=s.default.supportsFeature(s.default.F.MD_BACKEND)?Promise.reject(new Error("Should not reach here")):c.default.queryMsgInfo(a).then(function(e){return e.status>=400?(d.default.log("model:MsgInfo:findQuery error "+e.status)(),Promise.reject(new o.ServerStatusCodeError(e.status))):e});return t.then(function(t){return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach(function(t){(0,i.default)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},t,{id:a,isPTT:e.type===r.default.MSG_TYPE.PTT})})};var i=n(a("bhabhhjdch")),r=n(a("baagejbchg")),o=a("ddjgcfjicj"),s=n(a("bjbdcigbdi")),d=n(a("bdiiahhjbe")),c=n(a("bihdhbjih"));function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}},cjidjghdjj:function(e,t){e.exports={body:"_1IiPy",vcardWrapper:"_1v8mQ"}},cjihajjici:function(e,t){e.exports={mediaPanelHeader:"_3Jv5R",info:"_31qvp",productName:"_1_-3U",mediaPanelTools:"OUGX2",infoName:"_2Hnjv"}},cjihfbehgb:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("hbddjfeei")),o=i(a("eaidjcib")),s=i(a("dgcdacjddi")),d=i(a("ffceefejc")),c=i(a("cjedcdbdii")),l=i(a("djecdhecha")),u=i(a("dbjagcfebh")),f=n(a("ddhijeejag")),h=a("ccihhdchab"),p=i(a("echbdbadad")),g=i(a("bbchdeehff")),m=i(a("baagejbchg")),b=i(a("bjigbaghc")),v=i(a("bafegjjfbj")),j=a("ddjgcfjicj"),E=n(a("cajijabhgb")),y=i(a("cdgebfdaif")),_=i(a("jheedhagg")),S=i(a("fffdgbfji")),C=i(a("eceadcicaf")),A=i(a("bdiiahhjbe")),M=i(a("bffcbhabha")),T=a("bijebbjggf"),P=a("bdheiggeaf"),N=a("dgdhcdgffe"),I=i(a("bihdhbjih")),k=function(e){function t(){var e,a;(0,o.default)(this,t);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return(a=(0,d.default)(this,(e=(0,c.default)(t)).call.apply(e,[this].concat(i)))).openGroupV4InviteRequestFlow=function(e,t,a,n){g.default.openModal(f.createElement(y.default,{participantNeedInvite:e,groupGid:t,subject:a,groupDesc:n}))},a.onMute=function(e,t){if(t){g.default.openModal(f.createElement(M.default,{chat:e,onMute:function(t){e.pendingAction++,e.mute.mute(t,!0).finally(function(){e.pendingAction--})}}),{transition:"modal",uim:a.props.uim})}else e.pendingAction++,e.mute.unmute(!0).finally(function(){e.pendingAction--})},a.onDeleteOrExit=function(e){g.default.openModal(f.createElement(v.default,{chat:e,onDeleteOrExit:function(t){e.pendingAction++,t.finally(function(){e.pendingAction--})}}),{transition:"modal",uim:a.props.uim})},a.onPin=function(e,t){e.pendingAction++,(0,P.setPin)(e,t).catch(function(){}).finally(function(){e.pendingAction--})},a.onClear=function(e){g.default.openModal(f.createElement(p.default,{chat:e}),{transition:"modal",uim:a.props.uim})},a.onArchive=function(e,t){e.pendingAction++,(0,T.setArchive)(e,t).catch(function(){}).finally(function(){e.pendingAction--})},a.onMarkUnread=function(e,t){e.pendingAction++,(0,N.markUnread)(e,t).finally(function(){e.pendingAction--})},a.onSendStarMsgs=function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"LEFT";if(!t)return Promise.reject(new E.ActionError);if(t.some(function(e){return!e.id}))return Promise.reject(new E.ActionError);var r=n||(0,h.genId)(),o=t.length,s={count:o,_plural:o},d=new h.ActionType(S.default.t(105,s)),c=e.sendStarMsgs(t,!0).then(function(){return new h.ActionType(S.default.t(104,s),S.default.t(159),a.onSendUnstarMsgs.bind((0,l.default)(a),e,t,r,i))}).catch(j.ServerStatusCodeError,function(e){if(e.status>=400)return new h.ActionType(S.default.t(103,s))}).catch(function(n){return A.default.error("chatAction:sendStarMsgs dropped")(n),new h.ActionType(S.default.t(103,s),S.default.t(155),a.onSendStarMsgs.bind((0,l.default)(a),e,t,r,i))});return g.default.openToast(f.createElement(h.ActionToast,{id:r,toastPosition:i,initialAction:d,pendingAction:c})),c},a.onSendUnstarMsgs=function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"LEFT";if(!t)return Promise.reject(new E.ActionError);if(t.some(function(e){return!e.id}))return Promise.reject(new E.ActionError);var r=n||(0,h.genId)(),o=t.length,s={count:o,_plural:o},d=new h.ActionType(S.default.t(110,s)),c=e.sendStarMsgs(t,!1).then(function(){return new h.ActionType(S.default.t(108,s),S.default.t(159),a.onSendStarMsgs.bind((0,l.default)(a),e,t,r,i))}).catch(j.ServerStatusCodeError,function(e){if(e.status>=400)return new h.ActionType(S.default.t(107,s))}).catch(function(n){return A.default.error("chatAction:sendUnstarMsgs dropped")(n),new h.ActionType(S.default.t(107,s),S.default.t(155),a.onSendUnstarMsgs.bind((0,l.default)(a),e,t,r,i))});return g.default.openToast(f.createElement(h.ActionToast,{id:r,toastPosition:i,initialAction:d,pendingAction:c})),c},a.onSendDeleteMsgs=function(e,t,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"LEFT";if(!t)return Promise.reject(new E.ActionError);if(t.some(function(e){return!e.id}))return Promise.reject(new E.ActionError);var o=t.length,s=i||(0,h.genId)(),d={count:o,_plural:o},c=new h.ActionType(S.default.t(102,d)),u=e.sendDeleteMsgs(t,n).then(function(e){if(e===o)return new h.ActionType(S.default.t(101,d));var t=o-e;return d={count:t,_plural:t},new h.ActionType(S.default.t(100,d))}).catch(function(n){return A.default.error("chatAction:sendDeleteMsgs dropped")(n),new h.ActionType(S.default.t(100,d),S.default.t(155),a.onSendDeleteMsgs.bind((0,l.default)(a),e,t,!1,s,r))});return g.default.openToast(f.createElement(h.ActionToast,{id:s,toastPosition:r,initialAction:c,pendingAction:u})),u},a.onSendRevokeMsgs=function(e,t,n,i){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"LEFT",s=i;if(!t)return Promise.reject(new E.ActionError);var d=t.reduce(function(e,t){var a=[t.canRevoke(),t.type!==m.default.MSG_TYPE.GROUPS_V4_INVITE||t.isGroupsV4InviteExpired?null:t],n=a[0],i=a[1];return[e[0]||!n,e[1]||i]},[!1,null]),c=(0,r.default)(d,2),l=c[0],u=c[1];if(l)return Promise.reject(new E.ActionError);u&&a.handleGroupInviteMsgRevoke(e,u);var p=t.length;s=s||(0,h.genId)();var b={count:p,_plural:p},v=new h.ActionType(S.default.t(102,b)),j=e.sendRevokeMsgs(t,n).then(function(e){return new h.ActionType(S.default.t(101,b))}).catch(function(e){return A.default.error("chatAction:sendRevokeMsgs fail")(e),new h.ActionType(S.default.t(100,b))});return g.default.openToast(f.createElement(h.ActionToast,{id:s,toastPosition:o,initialAction:v,pendingAction:j})),j},a.handleGroupInviteMsgRevoke=function(e,t){var a=t.inviteGrp,n=b.default.me.toString();I.default.revokeGroupV4Invite([t.to.toString()],a,n)},a}return(0,u.default)(t,e),(0,s.default)(t,[{key:"componentDidMount",value:function(){this.props.listeners.add(g.default,"mute_chat",this.onMute),this.props.listeners.add(g.default,"delete_or_exit_chat",this.onDeleteOrExit),this.props.listeners.add(g.default,"archive_chat",this.onArchive),this.props.listeners.add(g.default,"clear_chat_msgs",this.onClear),this.props.listeners.add(g.default,"mark_chat_unread",this.onMarkUnread),this.props.listeners.add(g.default,"pin_chat",this.onPin),this.props.listeners.add(g.default,"send_star_msgs",this.onSendStarMsgs),this.props.listeners.add(g.default,"send_unstar_msgs",this.onSendUnstarMsgs),this.props.listeners.add(g.default,"send_delete_msgs",this.onSendDeleteMsgs),this.props.listeners.add(g.default,"send_revoke_msgs",this.onSendRevokeMsgs),this.props.listeners.add(g.default,"open_group_v4_invite_request_flow",this.openGroupV4InviteRequestFlow)}},{key:"render",value:function(){return null}}]),t}(f.PureComponent),O=(0,_.default)((0,C.default)(k));t.default=O},cjihgicbe:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("eaidjcib")),r=n(a("dgcdacjddi")),o=n(a("bdiiahhjbe")),s=a("bfbggcdbfb"),d={document:s.MEDIA_TYPE.DOCUMENT,video:s.MEDIA_TYPE.VIDEO,gif:s.MEDIA_TYPE.GIF,image:s.MEDIA_TYPE.PHOTO,audio:s.MEDIA_TYPE.AUDIO},c=function(){function e(t,a,n){(0,i.default)(this,e),this.mediaPickerSentUnchanged=0,this.mediaPickerDeleted=0,this.mediaPickerChanged=new Set,this.mediaPickerCroppedRotated=new Set,this.mediaPickerDrawing=new Set,this.mediaPickerStickers=new Set,this.mediaPickerText=new Set,this.mediaPickerLikeDoc=0,this.mediaPickerNotLikeDoc=0,this.mediaPickerT=0,this.t0=Date.now(),this.mediaType=d[a],this.mediaPickerOrigin=n,this.medias=new Set,this.medias.add(t),this.changeTypes={mediaPickerCroppedRotated:this.mediaPickerCroppedRotated,mediaPickerDrawing:this.mediaPickerDrawing,mediaPickerStickers:this.mediaPickerStickers,mediaPickerText:this.mediaPickerText}}return(0,r.default)(e,[{key:"onAdd",value:function(e){this.medias.add(e),"document"===this.mediaType?this.mediaPickerLikeDoc++:this.mediaPickerNotLikeDoc++}},{key:"onChange",value:function(e,t){this.mediaPickerChanged.add(e),this.changeTypes[t].add(e)}},{key:"onDelete",value:function(e){if(this.medias.delete(e),this.mediaPickerDeleted++,0===this.medias.size)return this.onCancel()}},{key:"onSend",value:function(){return this.mediaPickerSent=this.medias.size,this.mediaPickerSentUnchanged=this.mediaPickerSent-this.mediaPickerChanged.size,this.dataPreflight()}},{key:"onCancel",value:function(){return this.mediaPickerSent=0,this.mediaPickerSentUnchanged=0,this.dataPreflight()}},{key:"onPause",value:function(){this.mediaPickerT+=Date.now()-(this.t0||0),this.t0=null}},{key:"onResume",value:function(){this.t0=null!=this.t0?this.t0:Date.now()}},{key:"dataPreflight",value:function(){var e=this.mediaPickerSentUnchanged;return isNaN(e)&&(e=0,o.default.assert(!1,"mediaPickerSentUnchange is not a number","mediaPickerSentUnchange mediaPickerSent: ".concat(null!=this.mediaPickerSent&&0!==this.mediaPickerSent?this.mediaPickerSent:"undefined",", mediaPickerChanged: ").concat(this.mediaPickerChanged.size||"undefined"))()),{mediaPickerSent:this.mediaPickerSent,mediaPickerSentUnchanged:e,mediaPickerT:this.mediaPickerT+(Date.now()-(this.t0||0)),mediaType:this.mediaType,mediaPickerOrigin:this.mediaPickerOrigin,mediaPickerChanged:this.mediaPickerChanged.size,mediaPickerCroppedRotated:this.mediaPickerCroppedRotated.size,mediaPickerDrawing:this.mediaPickerDrawing.size,mediaPickerStickers:this.mediaPickerStickers.size,mediaPickerText:this.mediaPickerText.size,mediaPickerLikeDoc:this.mediaPickerLikeDoc,mediaPickerNotLikeDoc:this.mediaPickerNotLikeDoc,mediaPickerDeleted:this.mediaPickerDeleted}}}]),e}();t.default=c},cjiiehdbge:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=i(a("ceffhbhahb")),u=n(a("ddhijeejag")),f=i(a("bbchdeehff")),h=i(a("biddiiafgd")),p=a("bgiachiigg"),g=a("ccgdfaeibd"),m=i(a("hbabifghf")),b=i(a("eceadcicaf")),v=i(a("bffjfbgbg")),j=n(a("ecibddhig")),E=i(a("bfbggcdbfb")),y=i(a("dfgeejdaib")),_=i(a("chdhhgfaj")),S=i(a("bfdcadbbif")),C=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).setRefGif=function(e){a._gifRef=e},a.getGifProvider=function(){switch(a.props.msg.gifAttribution){case p.VIDEO_MESSAGE_ATTRIBUTION.GIPHY:return g.GIPHY;case p.VIDEO_MESSAGE_ATTRIBUTION.TENOR:return g.TENOR;default:return""}},a.handleClick=function(e){switch(e.stopPropagation(),a.props.msg.mediaData.mediaStage){case v.default.STAGE.NEED_POKE:a.props.msg.downloadMedia(!0,E.default.WEBC_RMR_REASON_CODE.MSG_CLICK);break;case v.default.STAGE.FETCHING:a.props.msg.cancelDownload();break;case v.default.STAGE.UPLOADING:a.props.msg.cancelUpload();break;case v.default.STAGE.ERROR_MISSING:f.default.openModal(u.createElement(h.default,{title:l10n.t(766),onOK:function(){return f.default.closeModal()},okText:l10n.t(1331)},l10n.t(765)))}},a.onUnstarMsg=function(){var e=a.props.msg;y.default.remove(e)},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"animateGif",value:function(){var e=this;this.props.listeners.uiIdle(function(){e._gifRef&&e._gifRef.setShouldAnimate(!0)})}},{key:"componentDidMount",value:function(){var e=this,t=this.props.msg;this.props.listeners.add(t,"change:mediaData.mediaStage",function(){e.forceUpdate()}),this.props.listeners.uiIdle(function(){t.downloadMedia(!1,E.default.WEBC_RMR_REASON_CODE.MSG_RENDER)}),this.animateGif()}},{key:"componentDidUpdate",value:function(){this.animateGif()}},{key:"render",value:function(){var e=this.props.msg,t=e.mediaData,a=new g.GifInfo(void 0,t.renderableUrl,void 0,void 0,void 0,Math.round(t.aspectRatio*g.TARGET_GIF_HEIGHT),this.getGifProvider(),!1);if(t.mediaStage===v.default.STAGE.RESOLVED)return u.createElement(m.default,{key:e.filehash,ref:this.setRefGif,gif:a,onSend:this.props.onSend,isStarred:!0,onUnstarMsg:this.onUnstarMsg});if(t.preview){var n,i=t.preview.url();switch(t.mediaStage){case v.default.STAGE.ERROR_MISSING:break;case v.default.STAGE.NEED_POKE:n=u.createElement(j.Download,null);break;case v.default.STAGE.FETCHING:case v.default.STAGE.UPLOADING:n=u.createElement(j.PendingCancel,null);break;default:n=u.createElement(j.Pending,null)}var r=(0,l.default)(_.default.thumb,{[_.default.blur]:t.mediaStage===v.default.STAGE.ERROR_MISSING}),o=u.createElement("div",{className:r,style:{backgroundImage:"url(".concat(i,")"),height:"".concat(g.TARGET_GIF_HEIGHT,"px")}});return u.createElement("div",{className:_.default.container,style:{flexBasis:a.widthStr},key:e.filehash},u.createElement("div",{className:_.default.wrapper,style:{width:a.widthStr},onClick:this.handleClick},u.createElement("div",{className:_.default.innerWrapper,style:{paddingBottom:a.ratioStr}},n,o)),u.createElement("button",{className:_.default.starIcon,onClick:this.onUnstarMsg},u.createElement(S.default,{name:"star-light"})))}return null}}]),t}(u.Component),A=(0,b.default)(C);t.default=A},cjijbdhgbf:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=document.createElement("img");return t.src=e,{width:t.naturalWidth,height:t.naturalHeight}}},cjijcbcfhd:function(e,t,a){"use strict";var n=a("cfjecfhbfg")(a("cahfddcdga")),i={parsePaymentInfo:function(e,t){t&&(e.paymentStatus=t.status,e.paymentCurrency=t.currency||"",e.paymentAmount1000=(0,n.default)(t.amount1000),e.paymentMessageReceiverJid=this.decodeJid((0,n.default)(t.receiverJid)),e.paymentExpiryTimestamp=t.expiryTimestamp,e.paymentTransactionTimestamp=(0,n.default)(t.transactionTimestamp))}};e.exports=i},cjijggjfed:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.THEMES=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=i(a("dhgeffcgbg")),u=n(a("ddhijeejag")),f=i(a("ceffhbhahb")),h=i(a("bbfiaehhcd")),p={CAROUSEL:"CAROUSEL",CAROUSEL_END:"CAROUSEL_END",MENU:"MENU"};t.THEMES=p;var g=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i))))._handleClick=function(e){a.props.onClick&&a.props.onClick(a.props.sectionId,e)},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"_getStyle",value:function(e){return(0,l.default)(this._style,e)?this._style:(this._style=e,this._style)}},{key:"render",value:function(){var e=this.props,t=e.theme,a=e.title;return u.createElement("div",{ref:this.props.onRef,role:"button",className:(0,f.default)(h.default.tab,{[h.default.menu]:t===p.MENU,[h.default.carousel]:t===p.CAROUSEL||t===p.CAROUSEL_END,[h.default.carouselEnd]:t===p.CAROUSEL_END,[h.default.selected]:this.props.selected}),onClick:this._handleClick,style:this._getStyle({width:this.props.width,transform:this.props.transform}),title:a},this.props.children)}}]),t}(u.PureComponent);t.default=g},cjjdbgcihf:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.defaults=void 0;var i=n(a("bhabhhjdch")),r=n(a("eaidjcib")),o=n(a("ffceefejc")),s=n(a("cjedcdbdii")),d=n(a("bjehdcaaj")),c=n(a("dgcdacjddi")),l=n(a("dbjagcfebh")),u=n(a("eacifebjhe"));function f(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}var h={jitter:0,maxTimeout:1/0};t.defaults=h;var p=function(e){function t(e){var a;return(0,r.default)(this,t),(a=(0,o.default)(this,(0,s.default)(t).call(this)))._opts=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?f(Object(a),!0).forEach(function(t){(0,i.default)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):f(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},h,{},e),a}return(0,l.default)(t,e),(0,c.default)(t,[{key:"_retryCount",get:function(){return this._i}}]),(0,c.default)(t,[{key:"_next",value:function(){var e=this._opts,a=e.factor,n=e.jitter,i=e.maxTimeout,r=e.retries,o=(0,d.default)((0,s.default)(t.prototype),"_next",this).call(this);if(o.done)return o;if(this._retryCount>r)return this.return();var c=a;return c*=o.value,c*=Math.random()*n*2-n+1,{done:!1,value:c=Math.min(c,i)}}}]),t}(u.default);t.default=p},cjjefedaad:function(e,t){e.exports={"#":1,"":1,"*":2,"0":3,"":3,"1":4,"":4,"2":5,"":5,"3":6,"":6,"4":7,"":7,"5":8,"":8,"6":9,"":9,"7":10,"":10,"8":11,"":11,"9":12,"":12,"":13,"":14,"":17,"":21,"":22,"":23,"":24,"":31,"":32,"":48,"":49,"":54,"":55,"":59,"":61,"":62,"":64,"":79,"":80,"":81,"":82,"":83,"":84,"":85,"":86,"":87,"":88,"":89,"":90,"":91,"":93,"":94,"":95,"":96,"":97,"":100,"":109,"":110,"":115,"":116,"":117,"":120,"":126,"":129,"":130,"":132,"":153,"":154,"":155,"":157,"":159,"":165,"":171,"":189,"":190,"":191,"":194,"":196,"":197,"":198,"":199,"":201,"":205,"":207,"":210,"":211,"":212,"":215,"":216,"":218,"":219,"":220,"":221,"":223,"":224,"":225,"":226,"":227,"":229,"":231,"":232,"":234,"":236,"":237,"":284,"":293,"":304,"":312,"":314,"":347,"":351,"":359,"":427,"":468,"":468,"":486,"":487,"":488,"":489,"":491,"":493,"":494,"":495,"":496,"":497,"":498,"":499,"":501,"":503,"":504,"":505,"":506,"":507,"":508,"":509,"":511,"":526,"":532,"":551,"":552,"":554,"":555,"":556,"":557,"":558,"":561,"":563,"":564,"":565,"":566,"":568,"":569,"":572,"":573,"":577,"":582,"":583,"":587,"":588,"":589,"":590,"":591,"":592,"":593,"":594,"":596,"":597,"":598,"":601,"":602,"":611,"":612,"":613,"":614,"":615,"":616,"":617,"":619,"":621,"":622,"":627,"":628,"":629,"":630,"":631,"":632,"":638,"":639,"":640,"":641,"":644,"":645,"":646,"":647,"":648,"":649,"":650,"":651,"":660,"":661,"":663,"":664,"":665,"":666,"":667,"":668,"":670,"":671,"":674,"":675,"":676,"":680,"":681,"":682,"":683,"":685,"":689,"":690,"":691,"":692,"":694,"":712,"":731,"":738,"":740,"":813,"":815,"":816,"":818,"":819,"":820,"":821,"":822,"":823,"":824,"":825,"":826,"":828,"":829,"":834,"":835,"":836,"":860,"":861,"":864,"":865,"":867,"":871,"":872,"":873,"":874,"":875,"":879,"":880,"":884,"":886,"":887,"":888,"":891,"":892,"":893,"":894,"":895,"":896,"":897,"":899,"":900,"":901,"":902,"":903,"":904,"":905,"":906,"":907,"":912,"":915,"":921,"":927,"":929,"":935,"":941,"":947,"":953,"":959,"":965,"":971,"":977,"":983,"":989,"":995,"":996,"":998,"":999,"":1001,"":1002,"":1003,"":1006,"":1009,"":1010,"":1011,"":1012,"":1013,"":1016,"":1022,"":1028,"":1197,"":1417,"":1420,"":1438,"":1447,"":1465,"":1471,"":1489,"":1495,"":1501,"":1507,"":1525,"":1533,"":1534,"":1540,"":1541,"":1542,"":1543,"":1544,"":1562,"":1580,"":1586,"":1587,"":1593,"":1611,"":1629,"":1630,"":1631,"":1632,"":1634,"":1635,"":1638,"":1640,"":1643,"":1645,"":1646,"":1647,"":1650,"":1651,"":1652,"":1653,"":1654,"":1655,"":1656,"":1658,"":1660,"":1661,"":1662,"":1663,"":1665,"":1667,"":1668,"":1669,"":1680,"":1681,"":1689,"":1690,"":1691,"":1692,"":1693,"":1695,"":1696,"":1718,"":1725,"":1728,"":1729,"":1730,"":1731,"":1737,"":1739,"":1742,"":1745,"":1746,"":1747,"":1748,"":1750,"":1751,"":1754,"":1755,"":1756,"":1769,"":1772,"":1776,"":1777,"":1778,"":1779,"":1788,"":1789,"":1796,"":1799,"":1802,"":1806,"":1807,"":1808,"":1809,"":1810,"":1811,"":1827,"":1828,"":1829,"":1830,"":1831,"":1832,"":1833,"":1834,"":1835,"":1836,"":1837,"":1838,"":1932,"":1933,"":1934,"":1938,"":1939,"":1940,"":1941,"":1946,"":1947,"":1949,"":1950,"":1952,"":1955,"":1956,"":1957,"":1959,"":1961,"":1963,"":1965,"":1966,"":1967,"":1969,"":1970,"":1971,"":1972,"":1974,"":1977,"":1979,"":1982,"":1985,"":1986,"":1987,"":1988,"":1992,"":2006,"":2024,"":2042,"":2081,"":2123,"":2129,"":2132,"":2133,"":2134,"":2136,"":2138,"":2141,"":2144,"":2146,"":2147,"":2148,"":2150,"":2152,"":2154,"":2155,"":2163,"":2182,"":2183,"":2185,"":2190,"":2191,"":2196,"":2234,"":2254,"":2255,"":2256,"":2257,"":2258,"":2259,"":2261}},cjjjgbhjif:function(e,t){e.exports={icon:"_3p0T6",transparent:"w4k6i"}},cjjjhbdicf:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.resyncMessages=function(e){return c.default.resyncMessages(e).then(function(e){if(o.default.supportsFeature(o.default.F.MD_BACKEND)&&(!e.status||e.status<400)){var t=e.data,a=[],n=[];return t.forEach(function(e){var t=d.default.Chat.get(e.id);t?"clear"===e.type?a.push({id:e.id.toString(),t:e.t,unreadCount:e.unreadCount,archive:e.archive,isReadOnly:e.isReadOnly,modifyTag:e.modifyTag,notSpam:e.notSpam,pin:e.pin,changeNumberOldJid:e.changeNumberOldJid,changeNumberNewJid:e.changeNumberNewJid,muteExpiration:e.muteExpiration,ephemeralDuration:e.ephemeralDuration,ephemeralSettingTimestamp:e.ephemeralSettingTimestamp}):"delete"===e.type?n.push(e.id.toString()):a.push(u({},e,{id:e.id.toString()})):a.push(u({},e,{id:e.id.toString()}))}),s.default.lock(["chat"],function(e){var t=(0,i.default)(e,1),r=t[0];return r.bulkCreateOrMerge(a).then(function(){return r.bulkRemove(n)})}).then(function(){return e})}return e})};var i=n(a("hbddjfeei")),r=n(a("bhabhhjdch")),o=n(a("bjbdcigbdi")),s=n(a("ffjiicch")),d=n(a("bhggeigghg")),c=n(a("bihdhbjih"));function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function u(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach(function(t){(0,r.default)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}},daabecicc:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,a,n){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1/0;return(0,r.default)(a,(0,i.default)(e,t,o),n)};var i=n(a("dfgcaedggj")),r=n(a("cjecagehda"))},daahhbhaaf:function(e,t){e.exports={wrapper:"_1Ahi2",inactive:"zU1W3",offline:"_3-OfU",circle:"_38rfD",text:"t5gsa",backToCenter:"_4QzIW",visible:"_71XX9"}},dabbhadeic:function(e,t){e.exports={listUser:"_2rZZg",header:"_3Jvyf",listControls:"sbcXq"}},dabbjcaadh:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("bjehdcaaj")),o=i(a("eaidjcib")),s=i(a("dgcdacjddi")),d=i(a("ffceefejc")),c=i(a("cjedcdbdii")),l=i(a("djecdhecha")),u=i(a("dbjagcfebh")),f=i(a("ccjgiajgj")),h=n(a("ddhijeejag")),p=i(a("effbcehec")),g=i(a("cgijjjgici")),m=a("bcdeiabhcf"),b=i(a("bajahehjcd")),v=i(a("jdcjegfeb")),j=i(a("ddffjbhaib")),E=i(a("ebcagbhefg")),y=i(a("bbchdeehff")),_=i(a("ecfbchagde")),S=i(a("baagejbchg")),C=i(a("ifijdebbd")),A=i(a("bijegdjcac")),M=i(a("ccbjfaficd")),T=i(a("djigcbdaeh")),P=i(a("dcjhajfghf")),N=i(a("cbcchiaeeb")),I=n(a("cajijabhgb")),k=i(a("bjbdcigbdi")),O=i(a("djdhjggcbi")),R=i(a("hfjhcgage")),w=i(a("dejcdgeeje")),D=a("ejbdjaifi"),L=i(a("eceadcicaf")),U=i(a("bfbggcdbfb")),G=i(a("bajcbaccgg")),x=i(a("dceicchccd")),F=i(a("cahfddcdga")),B=i(a("bjbedjfe")),V=i(a("bfgbdiffgd")),H=i(a("ihfccfgdf")),W=i(a("caffijjhc")),Y=i(a("egjjcjcg")),$=i(a("bcifhbgija")),K=i(a("didfdhbecg")),q=function(e){function t(e){var a;(0,o.default)(this,t),(a=(0,d.default)(this,(0,c.default)(t).call(this,e))).fillerHeight=0,a._setRefContainer=function(e){a._refContainer=e},a.updateAnnounceGrpState=function(){a.forceUpdate()},a.onComposeState=function(){var e=a.props.chat.canSend;a.state.canCompose!==e&&(e||(a.fillerHeight=0),a.setState({canCompose:e}))},a.onComposeHeightChange=function(e,t){var n=e.input,i=e.overlay,r=void 0===i?0:i,o=a.refMsgPanel;if(o&&a.msgs){var s=a.msgs.getScrollBottom();if(void 0===n){if(t)return a.fillerHeight=r,void(a.refFiller&&(a.refFiller.style.height="".concat(a.fillerHeight,"px"),a.msgs.setScrollBottom(s)));a.fillerHeight+=r,r<0&&(a.refFiller&&(a.refFiller.style.height="".concat(a.fillerHeight,"px")),a.msgs&&a.msgs.setScrollBottom(s)),a.msgPanelAnimation&&(a.didCancel=!0,a.msgPanelAnimation.cancel()),a.msgPanelAnimation=(a.msgPanelAnimation||Promise.resolve()).then(function(){return(0,$.default)(o,{translateY:r>0?[-r,0]:[0,r]},{duration:300,easing:[.1,.82,.25,1]})}).cancellable().catch(I.Unmount,function(){}).then(function(){r>0&&a.refFiller&&(a.refFiller.style.height="".concat(a.fillerHeight,"px")),o.style.transform="",a.msgs&&r>0&&a.msgs.setScrollBottom(s)}).catch(Promise.CancellationError,function(){(0,$.default)(o,"finish",!0)}).then(function(){a.didCancel?a.didCancel=!1:a.msgPanelAnimation=void 0})}else a.msgs.onComposeHeightChange(n)}},a.onWallpaperColorPreview=function(e){e?a.state.wallpaperColor!==e&&a.setState({wallpaperColor:e}):a.setState({wallpaperColor:E.default.assertGet("defaultPreference").wallpaperColor})},a.onSelectMessages=function(){a.state.selectable||a.setState({selectable:!0})},a.onCancelSelection=function(){a.state.selectable&&(a.selectedMessages.unsetAll(),a.setState({selectable:!1}))},a.onMessageSelect=function(e,t,n){a.onSelectMessages();var i=a.selectedMessages.getSelected().pop(),r=n&&n.shiftKey;a.selectedMessages.setVal(e,t,!0),r&&a.selectMsgRange(i,e,t)},a.selectMsgRange=function(e,t,n){var i=a.props.msgCollection;if(e&&i){var r=i.indexOf(e);if(r)for(var o=i.indexOf(t),s=o>r?-1:1,d=r+(n?s:o<r?0:2*s);o!==d;)a.selectedMessages.setVal((0,F.default)(i.at(o)),n,!0),o+=s}},a.onPageUpDown=function(e){a.msgs.onPageUpDown(e)},a.onDragStart=function(e){a.state.canCompose&&(a.blockDrop=!0)},a.onDragEnd=function(e){a.state.canCompose&&(a.blockDrop=!1)},a.onDragEnter=function(e){if(a.state.canCompose){a.onCancelSelection();var t=new P.default(e.dataTransfer);a.ComposeBoxRef&&!a.blockDrop&&(t.hasType("Files")||t.hasType("text/uri-list")||t.hasType("text/html"))&&(a.ComposeBoxRef.saveComposeContentDebounced.flush(),y.default.attachMediaDrawer({chat:a.props.chat,initCaption:a.ComposeBoxRef.getCurrentComposeContent(),onComplete:a.ComposeBoxRef.updateTextAfterMediaDrawerClose}),e.stopPropagation(),e.preventDefault())}},a.getComposeContents=function(){return a.ComposeBoxRef&&a.ComposeBoxRef.getCurrentComposeContent()},a.onMenuComplete=function(e,t){return a.ComposeBoxRef&&a.ComposeBoxRef.updateTextAfterMediaDrawerClose(e,t)},a.setRefFiller=function(e){a.refFiller=e},a.setRefMsgPanel=function(e){a.refMsgPanel=e},a.handleSetRefHeader=function(e){a.refHeader=e},a.getHeaderOffset=function(e){if(a.refHeader){var t=a.refHeader.getBoundingClientRect();e((0,f.default)(t,["right","bottom"]))}else e(null)},a.closeGroupDescription=function(){a.setState({showGroupDesc:!1})},a.getMsgs=(0,D.GetRef)("msgs",(0,l.default)(a));var n=a.props.chat;return a.selectedMessages=new x.default([],function(e){return e.id.toString()}),a.state={canCompose:n.canSend,selectable:!1,showGroupDesc:n.isGroup&&a.showGroupDesc(),wallpaperColor:a.props.chatPreference.wallpaperColor},a.openEvent=new U.default.WebcChatOpen({webcUnreadCount:n.unreadCount,webcWindowHeight:(0,O.default)()}),a.uiActionEvent=new U.default.UiAction({uiActionType:U.default.UI_ACTION_TYPE.CHAT_OPEN,uiActionPreloaded:!0}),a}return(0,u.default)(t,e),(0,s.default)(t,[{key:"showGroupDesc",value:function(){if(!(k.default.supportsFeature(k.default.F.GROUPS_V_3)&&V.default.groupDescLength>0))return!1;var e=this.props.chat;return!Y.default.getSeenGroupDesc(e.id)&&(Y.default.setSeenGroupDesc(e.id),0===e.unreadCount?!e.msgs.some(function(e){return e.type!==S.default.MSG_TYPE.E2E_NOTIFICATION&&e.type!==S.default.MSG_TYPE.GP2}):!e.shouldShowUnreadDivider)}},{key:"componentDidMount",value:function(){var e=this,t=this.props.chat;this.props.listeners.add(t,"change:canSend",this.onComposeState),this.props.listeners.add(t,"change:isReadOnly change:isAnnounceGrpRestrict",this.updateAnnounceGrpState),this.props.listeners.add(y.default,"get_conversation_header_offset",this.getHeaderOffset),this.props.listeners.add(t.msgs,"remove",function(t){e.selectedMessages.isSelected(t)&&e.onMessageSelect(t,!1)});var a=t.getReceivedVCardMsgs();a&&!a.isSynced&&a.sync(t),t.active=!0;var n=this.openEvent;if(n){this.openEvent=null,this.msgs&&(n.webcRenderedMessageCount=this.msgs.getRenderedMessageCount()),n.markWebcChatOpenT(),this._beforePaintRafId=requestAnimationFrame(function(){e._beforePaintRafId=null,n.markWebcChatOpenBeforePaintT()});var i=this.props.rejectOnUnmount();(0,N.default)({signal:i}).then(function(){i.isRejected()||(e.msgs&&(n.webcFinalRenderedMessageCount=e.msgs.getRenderedMessageCount()),n.markWebcChatOpenPaintedT(),n.commit())}).catch(g.default,function(){})}var r=this.uiActionEvent;r&&(r.markUiActionT(),r.commit(),this.uiActionEvent=void 0),this.props.listeners.add(E.default,"wallpaper_color_preview",this.onWallpaperColorPreview),t.composeAttachMediaContents&&y.default.attachMediaDrawer({chat:t,animationName:"noop"})}},{key:"componentWillUnmount",value:function(){var e=this.props.chat;e.urlText&&(e.urlText=void 0),e.urlNumber&&(e.urlNumber=void 0),e.active=!1,null!=this._beforePaintRafId&&cancelAnimationFrame(this._beforePaintRafId)}},{key:"animatePanel",value:function(e,t){var a,n=null===(a=this._refContainer)||void 0===a?void 0:a.clientWidth;if(null==n||e===t)return!1;var i=n/(e-t);return(0,m.animateConversationPanel)(this._refContainer,i)}},{key:"containsDOMNode",value:function(e){return!!this._refContainer&&this._refContainer.contains(e)}},{key:"render",value:function(){var e,t,a,n,i=this.props,r=i.chat,o=i.msgCollection,s=i.focusCtx,d=i.groupMetadata;if(this.state.showGroupDesc&&d&&d.desc&&(n=h.createElement(W.default,{displayName:"GroupDesc",escapable:!0,requestDismiss:this.closeGroupDescription},h.createElement(T.default,{onClose:this.closeGroupDescription},h.createElement(R.default,{chat:r,groupMetadata:d})))),this.state.selectable)t=h.createElement(W.default,{displayName:"MultiSelect",escapable:!0,requestDismiss:this.onCancelSelection},h.createElement(G.default,{chat:r,selectedMessages:this.selectedMessages,disableRevoke:!1,noSortOnForward:!1,onCancel:this.onCancelSelection})),e=h.createElement("footer",{className:M.default.footer}),a=h.createElement("div",{ref:this.setRefFiller,className:M.default.filler});else if(this.state.canCompose)e=h.createElement(_.default,{chat:r,ref:(0,D.GetRef)("ComposeBoxRef",this),onComposeHeightChange:this.onComposeHeightChange,onPageUpDown:this.onPageUpDown}),a=h.createElement("div",{ref:this.setRefFiller,style:{height:"".concat(this.fillerHeight,"px")},className:M.default.filler});else{var c,l;r.isGroup&&!r.isReadOnly&&r.isAnnounceGrpRestrict&&d?c=h.createElement(b.default,{chat:r,groupMetadata:d,mute:r.mute}):l=r.isGroup?l10n.t(1198):r.isPSA?l10n.t(1386):l10n.t(1199,{contact:r.contact.formattedName}),e=h.createElement("footer",{className:M.default.footer},h.createElement("div",{"data-a8n":p.default.key("block-message"),className:M.default.footerMessage},c||l))}return h.createElement(W.default,{displayName:"ConversationPanel",state:W.default.State.INACTIVE},h.createElement("div",{id:"main",className:M.default.pane,ref:this._setRefContainer},h.createElement(C.default,{wallpaperColor:this.state.wallpaperColor}),h.createElement(w.default,{chat:r,onSelectMessages:this.onSelectMessages,canAttach:this.state.canCompose,onRef:this.handleSetRefHeader,getComposeContents:this.getComposeContents,onMenuComplete:this.onMenuComplete}),h.createElement(K.default,{transitionName:"butterbar",className:M.default.subheader},n),h.createElement("div",{className:M.default.subheader},h.createElement(v.default,{chat:r})),h.createElement("div",{className:M.default.body,ref:this.setRefMsgPanel,onDragStart:this.onDragStart,onDragEnd:this.onDragEnd,onDragEnter:this.onDragEnter},h.createElement(A.default,{ref:this.getMsgs,chat:r,selectable:this.state.selectable,onMessageSelect:this.onMessageSelect,msgCollection:o,onSelectMessages:this.onSelectMessages,focusCtx:s,selectedMessages:this.selectedMessages,notifyChatRendered:this.props.notifyChatRendered,updateOpenedChatInfo:this.props.updateOpenedChatInfo})),a,e,h.createElement(K.default,{transitionName:"slide-up"},t),h.createElement(j.default,null)))}}]),t}(h.Component);q.CONCERNS={chatPreference:["wallpaperColor"]},q.WEAK_CONCERNS={groupMetadata:["desc","announce","participants"]};var z=function(e){function t(){return(0,o.default)(this,t),(0,d.default)(this,(0,c.default)(t).apply(this,arguments))}return(0,u.default)(t,e),(0,s.default)(t,[{key:"animatePanel",value:function(e,a){return(0,r.default)((0,c.default)(t.prototype),"getComponent",this).call(this).animatePanel(e,a)}},{key:"containsDOMNode",value:function(e){return this.getComponent().containsDOMNode(e)}}]),t}((0,B.default)((0,L.default)((0,H.default)(q,q.CONCERNS))));t.default=z},dabcaghhah:function(e,t){var a={singleByte:[void 0,void 0,void 0,"200","400","404","500","501","502","action","add","after","archive","author","available","battery","before","body","broadcast","chat","clear","code","composing","contacts","count","create","debug","delete","demote","duplicate","encoding","error","false","filehash","from","g.us","group","groups_v2","height","id","image","in","index","invis","item","jid","kind","last","leave","live","log","media","message","mimetype","missing","modify","name","notification","notify","out","owner","participant","paused","picture","played","presence","preview","promote","query","raw","read","receipt","received","recipient","recording","relay","remove","response","resume","retry","s.whatsapp.net","seconds","set","size","status","subject","subscribe","t","text","to","true","type","unarchive","unavailable","url","user","value","web","width","mute","read_only","admin","creator","short","update","powersave","checksum","epoch","block","previous","409","replaced","reason","spam","modify_tag","message_info","delivery","emoji","title","description","canonical-url","matched-text","star","unstar","media_key","filename","identity","unread","page","page_count","search","media_message","security","call_log","profile"],doubleByte:[],nibbleEncode:{0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,"-":10,".":11,"\0":15},nibbleDecode:{0:"0",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",10:"-",11:".",15:"\0"}};e.exports=a},dabcbibhcf:function(e,t,a){"use strict";var n=a("cfjecfhbfg"),i=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("ddhijeejag")),o=n(a("ceffhbhahb")),s=n(a("cegfacfjjj")),d=n(a("bfdcadbbif"));var c=function(){return r.createElement("div",{className:(0,o.default)(s.default.centerChild,s.default.show)},r.createElement(d.default,{name:"sticker"}))};t.default=c},dabiaaabdf:function(e,t){e.exports={checkboxContainer:"_3wpnE",checkbox:"_1Zo-R",checkmark:"_1ygtt",partialCheckMark:"_3MbsG",checkedCheckbox:"_15wNI",checkedCheckmark:"_3zTzS","checkmark-expand":"_1M_aK",checkmarkExpand:"_1M_aK",uncheckedCheckmark:"_31Di_",disabled:"_2lvd3"}},dabidjgjaj:function(e,t){e.exports={singleByte:["gif","vcard","frequent"]}},dabieifebj:function(e,t,a){"use strict";var n=a("cfjecfhbfg"),i=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(0===e.length)return"";var a=e[0];if(1===e.length)return a;var n=e[e.length-1];if(2===e.length)return function(e,t){return arguments.length>2&&void 0!==arguments[2]&&arguments[2]?l10n.t(789,s(e,t)):r.createElement(o.default,{id:789,params:{A:e,B:t}})}(a,n,t);var i=e[1],d=e.slice(2,e.length-1);return function(e,t,a,n){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],d=[i?l10n.t(788,s(e,t)):r.createElement(o.default,{id:788,key:"listItem_firstItem",params:{A:e,B:t}})],c=a.reduce(function(e,t,a){return[i?l10n.t(786,s(t,e)):r.createElement(o.default,{id:786,key:"listItem_".concat(a),params:{A:t,B:e}})]},d);return i?l10n.t(786,s(c,n)):r.createElement(o.default,{id:787,params:{A:c,B:n}})}(a,i,d,n)};var r=i(a("ddhijeejag")),o=n(a("djhbegbdaf"));function s(e,t){return{A:e,B:t}}},dacbgadjcd:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=i(a("dbafiicfja")),u=i(a("ceffhbhahb")),f=n(a("ddhijeejag")),h=i(a("baagejbchg")),p=a("dghhefgjhc"),g=a("cgejchjdhj"),m=i(a("ddajbaceej")),b=n(a("dhfbfehaef")),v=i(a("fffjbcghd")),j=i(a("bdiiahhjbe")),E=i(a("cahfddcdga")),y=i(a("bcddhhfhda")),_=i(a("dcaibchbg")),S=i(a("becfabjeeg")),C=i(a("fbjjefaic")),A=3,M=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).state={},a.setRefBody=function(e){a.refBody=e},a.refImages=new Map,a.setRefImage=function(e,t){t?a.refImages.set(e,t):a.refImages.delete(e)},a.setImageRefCache=new y.default(a.setRefImage),a.selection=new _.default(a.props.thumbnails,function(e){return e.id}),a._handleHotKeysRef=function(e){a._refHotKeys=e},a.handleMouseDown=function(e){e.preventDefault(),e.stopPropagation()},a.handleClick=function(e){var t=e.target;a.props.onImageClick&&1===t.nodeType&&"IMG"===t.tagName&&a.props.onImageClick(t.src)},a.handleEnter=function(e){var t=a.selection.getVal();j.default.assert(t,"No value selected, but enter clicked")(),a.props.onImageClick&&t&&a.props.onImageClick(t.thumbUrl)},a._requestMoreImagesIfNeeded=function(){if(!a.props.isLoadingMore&&a.props.canLoadMore&&a.props.onRequestMoreImages){if(!a.refBody)throw new Error("Requesting more images when body not rendered");a.refBody.scrollTop+h.default.SCROLL_FUDGE>a.refBody.scrollHeight-a.refBody.clientHeight&&a.props.onRequestMoreImages()}},a.handleScroll=a.props.throttle(a._requestMoreImagesIfNeeded,100),a.selectPrev=function(e){e.preventDefault(),e.stopPropagation(),a.selection.setPrev(!1),a._updateSelected(!0,!0)},a.selectNext=function(e){e.preventDefault(),e.stopPropagation(),a.selection.setNext(!1),a._updateSelected(!0,!0)},a.selectPrevRow=function(e){if(e.preventDefault(),e.stopPropagation(),0===a.selection.index&&a.props.onFocusPrev)a.props.onFocusPrev();else{var t=Math.max(a.selection.index-A,0);a.selection.set(t,!1,!1),a._updateSelected(!0,!0)}},a.selectNextRow=function(e){e.preventDefault(),e.stopPropagation(),a.selection.set(a.selection.index+A,!1,!1),a._updateSelected(!0,!0)},a.handleFocus=function(e){e.stopPropagation(),e.preventDefault(),(null==a.selection.index||a.selection.index<0)&&a.selection.setFirst(!1),a._updateSelected(!0,!1);var t=(0,E.default)(a.refImages.get("".concat(a.selection.index))).getElementsByClassName(v.default.imageGalleryItemOverlay);if(1!==t.length)throw new Error("Unexpected number of overlay elements ".concat(t.length));(0,b.indicateFocus)(t[0],void 0,void 0,{backgroundColorAlpha:[0,.5]})},a.handleRequestDismiss=function(){a.selection.unset(),a.setState({selectedImage:void 0})},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){this._updateSelected()}},{key:"componentDidUpdate",value:function(){this._requestMoreImagesIfNeeded(),this.selection.init(this.props.thumbnails,!1),this._updateSelected()}},{key:"focus",value:function(){this._refHotKeys&&this._refHotKeys.focus()}},{key:"_updateSelected",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=this.selection.getVal();if(t&&this.state.selectedImage!==t&&(this.setState({selectedImage:t}),this.selection.index>-1)){var a=this.refImages.get("".concat(this.selection.index));m.default.focus(a),e&&a&&(0,g.scrollIntoViewIfNeeded)(a,!1)}}},{key:"render",value:function(){var e=this,t={down:this.selectNextRow,enter:this.handleEnter,left:this.selectPrev,right:this.selectNext,up:this.selectPrevRow},a=(0,l.default)(this.props.thumbnails,function(t,a){var n=t.id,i=t.thumbUrl,r=!!e.state.selectedImage&&e.state.selectedImage.id===n,o=(0,u.default)(v.default.imageGalleryItem,{[v.default.selected]:r}),s=f.createElement("div",{className:v.default.imageGalleryItemOverlay});return f.createElement("div",{key:n,ref:e.setImageRefCache.getRefSetter("".concat(a)),className:o,tabIndex:-1},s,f.createElement("img",{onClick:e.handleClick,className:v.default.imageGalleryItemImage,src:i}))}),n=this.props.isLoadingMore?f.createElement("div",{tabIndex:-1,className:v.default.imageGalleryFooter},f.createElement(S.default,{stroke:6,size:24})):null;return f.createElement(b.default,{className:v.default.imageGallery,"data-tab":p.TAB_ORDERS.CHAT_IMAGE_GALLERY,handlers:t,onFocus:this.handleFocus,onMouseDown:this.handleMouseDown,onRef:this._handleHotKeysRef},f.createElement("div",{ref:this.setRefBody,className:v.default.imageGalleryList,onScroll:this.handleScroll},a,f.createElement("div",{tabIndex:-1,className:v.default.imageGalleryItemSpacer}),f.createElement("div",{tabIndex:-1,className:v.default.imageGalleryItemSpacer}),f.createElement("div",{tabIndex:-1,className:v.default.imageGalleryItemSpacer}),n))}}]),t}(f.PureComponent);M.defaultProps={thumbnails:[]};var T=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,(0,d.default)(t).apply(this,arguments))}return(0,c.default)(t,e),(0,o.default)(t,[{key:"focus",value:function(){this.getComponent().focus()}}]),t}((0,C.default)(M));t.default=T},dacbiajefj:function(e,t){e.exports=["","#","*","0","1","2","3","4","5","6","7","8","9","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",["",""],"",["",""],"",["",""],"",["",""],"",["",""],"",["",""],"",["",""],"",["",""],"",["",""],"",["",""],"",["",""],"",["",""],"","","","","","","","","","","",["",""],"",["",""],"",["",""],"",["",""],"",["",""],"",["",""],"",["",""],"",["",""],"",["",""],"",["",""],"",["",""],"",["",""],"",["",""],"",["",""],"",["",""],"",["",""],"",["",""],"",["",""],"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",["",""],"",["",""],"",["",""],"",["",""],"",["",""],"",["",""],["",""],"",["",""],"",["",""],"",["",""],"",["",""],"",["",""],"","","","","","","","",["",""],"",["",""],"",["",""],"",["",""],"",["",""],"",["",""],"","","","","","","",["",""],"",["",""],"",["",""],"",["",""],"",["",""],"",["",""],"","","","","","","","","","","","","","","","","","","",["",""],"",["",""],"",["",""],"",["",""],"",["",""],"",["",""],"","","","","","","","","","","","","","","","","","","",["",""],"",["",""],"",["",""],"",["",""],"",["",""],"",["",""],"","",["",""],"",["",""],"",["",""],"",["",""],"",["",""],"",["",""],"","","","","","","","","","","","","",["",""],"",["",""],"",["",""],"",["",""],"",["",""],"",["",""],"",["",""],"",["",""],["",""],["",""],["",""],["",""],"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",["",""],"",["",""],"",["",""],"",["",""],"",["",""],"",["",""],"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",["",""],"",["",""],"",["",""],"",["",""],"",["",""],"",["",""],"",["",""],"",["",""],"",["",""],"",["",""],"",["",""],"",["",""],"","",["",""],"",["",""],"",["",""],"",["",""],"",["",""],"",["",""],"","","",["",""],"",["",""],"",["",""],"",["",""],"",["",""],"",["",""],"","","","","","","",["",""],"",["",""],"",["",""],"",["",""],"",["",""],"",["",""],"",["",""],"",["",""],"",["",""],"",["",""],"",["",""],"",["",""],"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",["",""],["",""],["",""],["",""],["",""],["",""],"","","","","","","","","","","","","","","","","",["",""],"",["",""],"",["",""],"",["",""],"",["",""],"",["",""],"",["",""],"",["",""],"",["",""],"",["",""],"",["",""],"",["",""],"",["",""],"",["",""],"",["",""],"",["",""],"",["",""],"",["",""],"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",["",""],"",["",""],"",["",""],"",["",""],"",["",""],"",["",""],"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",["",""],"",["",""],"",["",""],"",["",""],"",["",""],"",["",""],"","",["",""],"",["",""],"",["",""],"",["",""],"",["",""],"",["",""],"",["",""],"",["",""],"",["",""],"",["",""],"",["",""],"",["",""],"","",["",""],"",["",""],"",["",""],"",["",""],"",["",""],"",["",""],"",["",""],["",""],"",["",""],"",["",""],"",["",""],"",["",""],"",["",""],"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",["",""],"",["",""],"",["",""],"",["",""],"",["",""],"",["",""],["",""],"",["",""],"",["",""],"",["",""],"",["",""],"",["",""],"",["",""],"",["",""],"",["",""],"",["",""],"",["",""],"",["",""],"",["",""],"",["",""],"",["",""],"",["",""],"",["",""],"",["",""],"",["",""],"",["",""],"",["",""],"",["",""],"",["",""],"",["",""],"",["",""],["",""],["",""],["",""],["",""],["",""],["",""],"",["",""],"",["",""],"",["",""],"",["",""],"",["",""],"","",["",""],"",["",""],"",["",""],"",["",""],"",["",""],"",["",""],["",""],"",["",""],"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",["",""],"",["",""],"",["",""],"",["",""],"",["",""],"",["",""],"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},dacdidjdfi:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.CHECKBOX_THEME=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=n(a("ddhijeejag")),u=i(a("ceffhbhahb")),f=i(a("dabiaaabdf")),h={PARTIAL:"PARTIAL"};t.CHECKBOX_THEME=h;var p=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).onToggle=function(e){e&&e.stopPropagation(),a.props.onChange(e)},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=this.props,t=e.checked,a=e.theme,n=e.disabled,i=(0,u.default)(f.default.checkbox,{[f.default.checkedCheckbox]:t,[f.default.disabled]:n}),r=(0,u.default)(f.default.checkmark,{[f.default.checkedCheckmark]:t&&a!==h.PARTIAL,[f.default.uncheckedCheckmark]:!t,[f.default.partialCheckMark]:t&&a===h.PARTIAL});return l.createElement("div",{className:f.default.checkboxContainer,onClick:this.onToggle},l.createElement("div",{className:i},l.createElement("div",{className:r})))}}]),t}(l.Component);t.default=p},dacfecidja:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("eaidjcib")),r=n(a("dgcdacjddi")),o=n(a("ffceefejc")),s=n(a("cjedcdbdii")),d=n(a("bjehdcaaj")),c=n(a("dbjagcfebh")),l=n(a("cgcgbfbffj")),u=n(a("dbdfbgehgj")),f=a("ddjgcfjicj"),h=n(a("bfbggcdbfb")),p=n(a("cbcbdjdah")),g=n(a("biecbbiiee")),m=function(e){function t(e){var a;(0,i.default)(this,t),(a=(0,o.default)(this,(0,s.default)(t).call(this))).hasMoreMsgs=!0,a.resultPage=0,a.searchPromise=null,a.searchTerm=null,a.searchLabel=null,a.updateFtsAfterMsgLabelUpdate=function(){if(a.currentLabelSearch){var e=a.filter(function(e){return!e.labels||!e.labels.includes(a.currentLabelSearch)});a.remove(e,{silent:!0})}};var n=e?e.msgs:g.default;return a.listenTo(n,"remove_msgs",function(e){a.remove(e,{silent:!0}).filter(function(e){return!!e}).length&&a.trigger("bulk_remove")}),a.listenTo(u.default,"remove",function(e){var t=[];a.forEach(function(a){a.chat===e&&t.push(a)}),a.remove(t,{silent:!0}).filter(function(e){return!!e}).length&&a.trigger("bulk_remove")}),a}return(0,c.default)(t,e),(0,r.default)(t,[{key:"delete",value:function(e){e&&this.stopListening(),(0,d.default)((0,s.default)(t.prototype),"delete",this).call(this)}},{key:"resetSearch",value:function(){this.hasMoreMsgs=!0,this.resultPage=0,this.searchTerm=null,this.searchPromise&&this.searchPromise.cancel()}},{key:"search",value:function(e){var t=this,a=e.chat,n=e.count,i=e.filter,r=void 0===i?{}:i,o=e.searchTerm,s="".concat(o,"__").concat(r.label||r.kind||"");this.currentLabelSearch=r.label;var d=!1;this.searchTerm!==s?(this.searchTerm&&0===o.indexOf(this.searchTerm)?d=!0:(this.searchTerm=s,this.delete()),this.resultPage=0,this.hasMoreMsgs=!0):d=!0;var c,l=new h.default.UiAction({uiActionType:h.default.UI_ACTION_TYPE.IMAGE_OPEN,uiActionPreloaded:d});if(this.searchPromise){if(this.searchTerm===s)return this.searchPromise;this.searchPromise.cancel()}return c=a?a.fts(o,++this.resultPage,n):g.default.search(o,++this.resultPage,n,void 0,r),this.searchPromise=c.cancellable().then(function(e){return e.eof&&(t.hasMoreMsgs=!1),t.searchTerm!==s&&t.delete(),t.searchTerm=s,e.messages&&t.add(e.messages.filter(function(e){return!e.isRevoked})),l.markUiActionT(),l.commit(),e}).catch(f.WapDrop,Promise.CancellationError,function(){}).finally(function(){t.searchPromise=null,t.trigger("searchPromise_update")}),this.trigger("searchPromise_update"),this.searchPromise}}]),t}(l.default);t.default=m,m.model=p.default},dachjgjeda:function(e,t,a){e.exports=function(){return new Worker(a.p+"d08c2d5cdb4826bcaf73.js")}},dacicgjcai:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.removeCodeBlocks=t.isInsideCodeBlock=t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=n(a("ddhijeejag")),u=i(a("fahgabfbb")),f=i(a("ceggedffg")),h=/```([\s\S]*?\S[\s\S]*?)```/g,p=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,(0,d.default)(t).apply(this,arguments))}return(0,c.default)(t,e),(0,o.default)(t,null,[{key:"jsx",value:function(e,t,a){var n=a.selectable,i=void 0!==n&&n;return l.createElement(u.default,{selectable:i},e)}}]),t}((0,f.default)(h,1));t.default=p,p.nestable=!1,p.format=!1;t.isInsideCodeBlock=function(e){var t=e.split(h).pop();return/```/.test(t)};t.removeCodeBlocks=function(e){return e.replace(h," ")}},dadagidhdg:function(e,t){e.exports={closeBtn:"_1DWLi",fullscreen:"_--P4m"}},daddjfeaa:function(e,t){e.exports={menu:"_3lq69",menuDefault:"_1DnZY",menuStrong:"ofSdH",item:"_3j8Pd",selected:"_1eXOh",active:"GPmgf",disabled:"_2-xTw"}},dadhidfcfe:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=n(a("ddhijeejag")),u=i(a("effbcehec")),f=i(a("dacdidjdfi")),h=i(a("biddiiafgd")),p=i(a("bhcacchcde")),g=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).state={additionalActions:!0},a.onToggleAdditionalActions=function(){a.setState({additionalActions:!a.state.additionalActions})},a.onReport=function(){a.state.additionalActions?a.props.isGroupChat?a.props.onReportExitClear():a.props.onReportBlockClear():a.props.onReport()},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e,t;return this.props.isGroupChat?(e=l10n.t(968),t=l10n.t(967)):this.props.isBusiness?(e=l10n.t(962),t=l10n.t(961)):(e=l10n.t(965),t=l10n.t(964)),l.createElement(h.default,{onOK:this.onReport,okText:l10n.t(958),onCancel:this.props.onCancel},e,l.createElement("div",{className:p.default.section,onClick:this.onToggleAdditionalActions},l.createElement("div",{"data-a8n":u.default.key("menu-icon-report-spam"),className:p.default.control},l.createElement(f.default,{onChange:this.onToggleAdditionalActions,checked:this.state.additionalActions})),l.createElement("div",{className:p.default.label},t)))}}]),t}(l.Component);t.default=g},dadidajbgf:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("bhabhhjdch")),o=i(a("eaidjcib")),s=i(a("dgcdacjddi")),d=i(a("ffceefejc")),c=i(a("cjedcdbdii")),l=i(a("dbjagcfebh")),u=n(a("ddhijeejag")),f=i(a("bbchdeehff")),h=i(a("jheedhagg"));function p(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}var g=function(e){function t(){return(0,o.default)(this,t),(0,d.default)(this,(0,c.default)(t).apply(this,arguments))}return(0,l.default)(t,e),(0,s.default)(t,[{key:"componentDidMount",value:function(){var e=this,t=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?p(Object(a),!0).forEach(function(t){(0,r.default)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):p(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},this.props.tooltip,{uim:this.props.uim});f.default.openTooltip(t,function(t){e.element=t})}},{key:"componentWillUnmount",value:function(){f.default.closeTooltip(this.props.uim)}},{key:"getElement",value:function(){return this.element}},{key:"render",value:function(){return null}}]),t}(u.Component),m=(0,h.default)(g);t.default=m},daeidjcaja:function(e,t){e.exports={controls:"_3Z-uK",spinner:"_2se6c","progress-container":"_1rTdA",progressContainer:"_1rTdA",btnMeta:"_10YBz",button:"_3UAb1",icon:"f9onB",cancel:"_1IV9x",cursorPointer:"UsM-b",play:"_13zv_",iconMeta:"_1gFPQ"}},daejhbgabi:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("eaidjcib")),r=n(a("ffceefejc")),o=n(a("cjedcdbdii")),s=n(a("dbjagcfebh")),d=function(e){function t(){return(0,i.default)(this,t),(0,r.default)(this,(0,o.default)(t).apply(this,arguments))}return(0,s.default)(t,e),t}(n(a("dhhhjaejje")).default);function c(e){return e.filter(function(e){return!!e}).join("")}t.default=d,d.onDelimiter=function(){},d.onMutator=function(e,t){return c(t)},d.onRoot=function(e){return c(e)},d.onText=function(e){return e}},daejhdfjb:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=n(a("dcaifjegcg")),u=i(a("dghjhchjic")),f=i(a("bbchdeehff")),h=i(a("bjigbaghc")),p=i(a("bjbdcigbdi")),g=n(a("hgeacfdgi")),m=i(a("bhgjacgcdd")),b=a("cgejjichfa"),v=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).id=(0,l.prop)(),a.peerJid=(0,l.prop)(),a.offerTime=(0,l.prop)(),a.startTime=(0,l.prop)(),a.isVideo=(0,l.prop)(!1),a.isGroup=(0,l.prop)(!1),a.groupCallParticipants=(0,l.prop)(),a.canHandleLocally=(0,l.prop)(!1),a.outgoing=(0,l.prop)(!1),a.webClientShouldHandle=(0,l.prop)(!1),a.participants=(0,l.collection)(u.default),a.callInfo=(0,l.prop)(),a._state=(0,l.prop)(),a._ringTimeout=(0,l.prop)(),a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"getState",value:function(){return this._state}},{key:"setState",value:function(e){var t,a=this,n=e;(t=this._state,n in E[t||"EMPTY"])&&(this.webClientShouldHandle||n===b.CALL_STATES.INCOMING_RING||(n=b.CALL_STATES.HANDLED_REMOTELY,g.default.callId===this.id&&m.default.callEndByHandledRemotely()),n===b.CALL_STATES.OUTGOING_RING&&(this._ringTimeout=setTimeout(function(){a._state===b.CALL_STATES.OUTGOING_RING&&m.default.rejectCall()},5e4)),this._state===b.CALL_STATES.OUTGOING_RING&&null!=this._ringTimeout&&(clearTimeout(this._ringTimeout),this._ringTimeout=null),this._state!==b.CALL_STATES.CONNECTION_LOST&&n===b.CALL_STATES.ACTIVE&&(this.startTime=Date.now()),this._state=n,this.handleNotification(),this.potentiallyUpdateCallUi())}},{key:"handleNotification",value:function(){var e=this.getState();!h.default.tosShowCallNotification||!this.peerJid||a("bfgbdiffgd").default.getWebVoipInternalTester()&&p.default.supportsFeature(p.default.F.DESKTOP_VOIP_VOICE_CALL)&&!this.isVideo||(e===b.CALL_STATES.INCOMING_RING?f.default.alertCall(this.peerJid,this.id,this.isVideo,this.canHandleLocally):f.default.cancelCall(this.peerJid))}},{key:"potentiallyUpdateCallUi",value:function(){g.default.callId===this.id?this.setCallUiProps():!g.default.callId&&this.getState()===b.CALL_STATES.INCOMING_RING&&p.default.supportsFeature(p.default.F.VOIP_INDIVIDUAL_INCOMING)&&this.canHandleLocally&&(g.default.callId=this.id,this.setCallUiProps())}},{key:"setCallUiProps",value:function(){g.default.type=this.isVideo?g.CALL_TYPES.VIDEO:g.CALL_TYPES.VOICE,g.default.isGroup=this.isGroup,g.default.to=this.outgoing?this.peerJid:h.default.me,g.default.from=this.outgoing?h.default.me:this.peerJid,g.default.groupCallParticipants=this.groupCallParticipants,g.default.startTime=this.startTime,g.default.outgoing=this.outgoing,g.default.state===b.CALL_UI_STATES.ENDED&&(g.default.peerBusy=!1),g.default.state=this.getUiState()}},{key:"getUiState",value:function(){switch(this.getState()){case b.CALL_STATES.INCOMING_RING:return b.CALL_UI_STATES.INCOMING_RING;case b.CALL_STATES.OUTGOING_RING:return b.CALL_UI_STATES.OUTGOING_RING;case b.CALL_STATES.OUTGOING_CALLING:return b.CALL_UI_STATES.OUTGOING_CALLING;case b.CALL_STATES.CONNECTING:return b.CALL_UI_STATES.CONNECTING;case b.CALL_STATES.CONNECTION_LOST:return b.CALL_UI_STATES.RECONNECTING;case b.CALL_STATES.ACTIVE:return b.CALL_UI_STATES.ACTIVE;case b.CALL_STATES.HANDLED_REMOTELY:return b.CALL_UI_STATES.NONE;case b.CALL_STATES.ENDED:return b.CALL_UI_STATES.ENDED;case b.CALL_STATES.REJECTED:return b.CALL_UI_STATES.REJECTED;case b.CALL_STATES.REMOTE_CALL_IN_PROGRESS:return b.CALL_UI_STATES.REMOTE_CALL_IN_PROGRESS;case b.CALL_STATES.FAILED:return b.CALL_UI_STATES.FAILED;default:return b.CALL_UI_STATES.NONE}}},{key:"getCollection",value:function(){return a("biaifggagf").default}}]),t}(l.default);v.Proxy="call";var j=(0,l.defineModel)(v);t.default=j;var E={EMPTY:{[b.CALL_STATES.INCOMING_RING]:!0,[b.CALL_STATES.OUTGOING_CALLING]:!0,[b.CALL_STATES.CONNECTING]:!0,[b.CALL_STATES.REJECTED]:!0,[b.CALL_STATES.HANDLED_REMOTELY]:!0,[b.CALL_STATES.ENDED]:!0,[b.CALL_STATES.FAILED]:!0},INCOMING_RING:{[b.CALL_STATES.HANDLED_REMOTELY]:!0,[b.CALL_STATES.CONNECTING]:!0,[b.CALL_STATES.ACTIVE]:!0,[b.CALL_STATES.REJECTED]:!0,[b.CALL_STATES.ENDED]:!0,[b.CALL_STATES.REMOTE_CALL_IN_PROGRESS]:!0,[b.CALL_STATES.FAILED]:!0},OUTGOING_CALLING:{[b.CALL_STATES.OUTGOING_RING]:!0,[b.CALL_STATES.CONNECTING]:!0,[b.CALL_STATES.ENDED]:!0,[b.CALL_STATES.FAILED]:!0},OUTGOING_RING:{[b.CALL_STATES.ACTIVE]:!0,[b.CALL_STATES.REJECTED]:!0,[b.CALL_STATES.ENDED]:!0,[b.CALL_STATES.FAILED]:!0},CONNECTING:{[b.CALL_STATES.OUTGOING_RING]:!0,[b.CALL_STATES.ACTIVE]:!0,[b.CALL_STATES.ENDED]:!0,[b.CALL_STATES.REMOTE_CALL_IN_PROGRESS]:!0,[b.CALL_STATES.FAILED]:!0},CONNECTION_LOST:{[b.CALL_STATES.ACTIVE]:!0,[b.CALL_STATES.ENDED]:!0,[b.CALL_STATES.FAILED]:!0},ACTIVE:{[b.CALL_STATES.ENDED]:!0,[b.CALL_STATES.FAILED]:!0,[b.CALL_STATES.CONNECTION_LOST]:!0},HANDLED_REMOTELY:{},ENDED:{},REJECTED:{},REMOTE_CALL_IN_PROGRESS:{},FAILED:{}}},dafafigeih:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.mungePSAContact=function(e){if(Array.isArray(e)){var t=e.findIndex(function(e){return e&&i.default.isPSA(e.id)}),a=e[t];t>-1&&a&&(a.name=l10n.t(1468),a.shortName=l10n.t(1468))}};var i=n(a("jccfhaecf"))},daffbcegjj:function(e,t,a){var n,i;e.exports={dir:function(e){!function(){if(!n){var e=a("bffadhdafi"),t=e.length/2;n=new Int32Array(t),i=new Int32Array(t);for(var r=0,o=0;r<t;r++,o+=2)n[r]=e[o]+(0===r?0:n[r-1]),i[r]=e[o+1]}}();for(var t=0;t<e.length;t++){var r=0|e.charCodeAt(t);if(55296<=r&&r<56320){if(++t===e.length)break;var o=e.charCodeAt(t);if(!(56320<=o&&o<57344))continue;r=65536+((1023&r)<<10|1023&o)}else if(56320<=r&&r<57344)continue;if(!(r<n[0])){for(var s=0,d=(0|n.length)-1|0;s<d;){var c=d+s>>1;if(n[c]>r)d=c-1|0;else{if(n[c+1]>r){d=c;break}s=c+1|0}}var l=i[d];if(r<(n[d]+Math.abs(l)|0))return l<0?"rtl":"ltr"}}}}},dafiibaihc:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=n(a("ddhijeejag")),u=i(a("baagejbchg")),f=i(a("djachcgbii")),h=i(a("fffdgbfji")),p=a("chhhffajfi"),g=function(e){function t(e){var a;(0,r.default)(this,t),(a=(0,s.default)(this,(0,d.default)(t).call(this,e)))._handleReadMoreClick=function(){var e=a.props.text,t=u.default.SUBSEQUENT_PAGE_SIZE;a.setState(function(a){var n=a.textLimit+u.default.SUBSEQUENT_PAGE_SIZE;return{textLimit:m(e,n,t)?n:1/0}})};var n=e.text,i=e.textLimit;return a.state={textLimit:m(n,i,i)?i:1/0},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){return l.createElement(l.Fragment,null,this.props.children(this.state),this.state.textLimit!==1/0?l.createElement("span",{className:f.default.read_more,role:"button",onClick:this._handleReadMoreClick}," "+h.default.t(949)):null)}}]),t}(l.PureComponent);function m(e,t,a){return(0,p.numCodepoints)(e)-t>a*u.default.OVERFLOWING_PAGE_THRESHOLD}t.default=g},dagdiahdfi:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.MuteCollection=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=n(a("cgcgbfbffj")),u=i(a("bjigbaghc")),f=i(a("bdiiahhjbe")),h=n(a("dhadcigcaf")),p=i(a("bhggeigghg")),g=i(a("egjjcjcg")),m=!0,b=!0,v=!0,j=!1,E=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,(0,d.default)(t).apply(this,arguments))}return(0,c.default)(t,e),(0,o.default)(t,[{key:"initializeFromCache",value:function(e){this.add(e),this.setGlobalNotifications(g.default.getGlobalNotifications()),this.setGlobalSounds(g.default.getGlobalSounds()),this.setGlobalPreviews(g.default.getGlobalPreviews()),this.setCollapseMuted(g.default.getCollapseMuted())}},{key:"saveToCache",value:function(){if(u.default.me){var e=this.constructor.cachePolicy.id;f.default.log("models:mute:cache-save: ".concat(String(e)))(),g.default.setCollection(e,[this.globalMute().toJSON()])}}},{key:"globalMute",value:function(){var e=this.get(h.GLOBAL_MUTE);return e||this.add({id:h.GLOBAL_MUTE})[0]}},{key:"getGlobalSounds",value:function(){return m}},{key:"setGlobalSounds",value:function(e){m=e,g.default.setGlobalSounds(e)}},{key:"getGlobalNotifications",value:function(){return b}},{key:"setGlobalNotifications",value:function(e){b=e,g.default.setGlobalNotifications(e)}},{key:"getGlobalPreviews",value:function(){return v}},{key:"setGlobalPreviews",value:function(e){v=e,g.default.setGlobalPreviews(e)}},{key:"getCollapseMuted",value:function(){return j}},{key:"setCollapseMuted",value:function(e){j=e,g.default.setCollapseMuted(e),this.trigger("change:collapseMuted",j)}},{key:"handle",value:function(e){e.forEach(function(e){var t=p.default.Chat.get(e.id);t&&"mute"===e.type&&t.mute.setMute(e.muteExpiration)})}}]),t}(l.default);t.MuteCollection=E,E.model=h.default,E.cachePolicy={id:"mute",policy:l.CACHE_POLICY.LOAD,delay:1e3};var y=new E;t.default=y},dagibffcjf:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.MAX_ASPECT_RATIO=t.MIN_ASPECT_RATIO=t.MIN_WIDTH=t.MIN_HEIGHT=t.LONGER_SIDE_DEFAULT_LENGTH=t.MARGIN_Y=t.MARGIN_X=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=n(a("ddhijeejag")),u=i(a("bbchdeehff")),f=i(a("habccggff")),h=(i(a("bffjfbgbg")),i(a("gejffefga")));t.MARGIN_X=10;t.MARGIN_Y=10;t.LONGER_SIDE_DEFAULT_LENGTH=330;t.MIN_HEIGHT=145;t.MIN_WIDTH=145;t.MIN_ASPECT_RATIO=145/330;t.MAX_ASPECT_RATIO=330/145;var p=function(e){function t(e){var a;return(0,r.default)(this,t),(a=(0,s.default)(this,(0,d.default)(t).call(this,e))).state=t.getInitialMediaStyle(e.aspectRatio,e.initialPiPStyle),a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=this.state.aspectRatio;if(!e)return null;var t,a=145*e,n=145<a?a:145,i={x:10,y:10};if(null!=this.props.aspectRatio&&0!==this.props.aspectRatio&&e===145/330&&e>this.props.aspectRatio||null!=this.props.aspectRatio&&0!==this.props.aspectRatio&&e===330/145&&e<this.props.aspectRatio){var r;if(this.props.previewUrl){var o={backgroundImage:this.props.previewUrl};r=l.createElement("div",{className:f.default.bgImg,style:o})}t=l.createElement("div",{className:f.default.bottomLayer},r)}return l.createElement(h.default,{aspectRatio:e,margin:i,minWidth:n,className:f.default.videoFloater,initialStyle:this.state.initialPiPStyle,animationStartStyle:this.props.animationStartStyle},t,this.props.children)}}],[{key:"getDerivedStateFromProps",value:function(e,a){return t.getInitialMediaStyle(e.aspectRatio,e.initialPiPStyle)}},{key:"getInitialMediaStyle",value:function(e,a){var n,i,r,o=t.getAspectRatio(e);return a?{initialPiPStyle:a,aspectRatio:o}:(u.default.getConversationHeaderOffset(function(e){n=e}),o>1?r=(i=330)/o:i=(r=330)*o,n||(n={right:window.innerWidth,bottom:0}),{initialPiPStyle:{width:i,left:n.right<window.innerWidth?n.right-i-10:window.innerWidth-i-10,bottom:window.innerHeight-10-r-n.bottom},aspectRatio:o})}},{key:"getAspectRatio",value:function(e){var t=1;return null!=e&&(t=e<145/330?145/330:e>330/145?330/145:e),t}}]),t}(l.Component);t.default=p},dahaahdjfa:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.convertToTextWithoutSpecialEmojis=S,t.default=void 0;var r=i(a("cgeedcdffb")),o=i(a("hgjcbccfg")),s=i(a("cfadcbbiie")),d=n(a("bjigbaghc")),c=a("bgiachiigg"),l=i(a("djegeegcbf")),u=i(a("bjbdcigbdi")),f=a("beadfddidc"),h=i(a("bdiiahhjbe")),p=a("bffjfbgbg"),g=i(a("cffajefeag")),m=i(a("cecdfacjga")),b=i(a("bdcddabebc")),v=i(a("dbgjiabiae")),j=a("hjbbdjjdf"),E=i(a("edbaidcaf")),y=i(a("jccfhaecf")),_=a("dcbdjheea");function S(e){return e?d.default.platform===d.PLATFORMS.ANDROID?(0,m.default)(e):l.default.convertToTextWithoutSpecialEmojis((0,m.default)(e)):e}var C={parseMsgProto:function(e,t,a,n,i,r){if(!e)return h.default.assert(!1,"null-message","drop: not Message")(e,t),t;var o=e.conversation,s=e.imageMessage,d=e.contactMessage,c=e.locationMessage,l=e.liveLocationMessage,p=e.extendedTextMessage,g=e.documentMessage,m=e.audioMessage,b=e.videoMessage,v=e.stickerMessage,E=e.contactsArrayMessage,y=e.protocolMessage,_=e.sendPaymentMessage,S=e.requestPaymentMessage,C=e.productMessage,A=e.groupInviteMessage,M=e.templateMessage,T=e.templateButtonReplyMessage,P=void 0;return(0,j.isString)(o)&&this.parseConversationProto(t,o),A&&this.parseGroupInviteMessageProto(t,A),s&&(this.parseImageMessageProto(t,s),P=s.contextInfo),v&&(this.parseStickerMessageProto(t,v),P=v.contextInfo),d&&(this.parseContactMessageProto(t,d),P=d.contextInfo),E&&(this.parseContactsArrayMessageProto(t,E),P=E.contextInfo),c&&(this.parseLocationMessageProto(t,c),P=c.contextInfo),l&&(this.parseLiveLocationMessageProto(t,l,i),P=l.contextInfo),_&&(P=_&&_.noteMessage&&_.noteMessage.extendedTextMessage&&_.noteMessage.extendedTextMessage.contextInfo,this.parseSendPaymentMessageProto(t,_,n)),S&&(P=S&&S.noteMessage&&S.noteMessage.extendedTextMessage&&S.noteMessage.extendedTextMessage.contextInfo,this.parseRequestPaymentMessageProto(t,S,n)),p&&(this.parseExtendedTextMessageProto(t,p),P=p.contextInfo),g&&(this.parseDocumentMessageProto(t,g),P=g.contextInfo),m&&(this.parseAudioMessageProto(t,m),P=m.contextInfo),b&&(this.parseVideoMessageProto(t,b),P=b.contextInfo),y&&this.parseProtocolMessageProto(t,y,a),C&&(this.parseProductMessageProto(t,C),P=C.contextInfo),A&&this.parseGroupInviteMessageProto(t,A),M&&(u.default.supportsFeature(u.default.F.MD_BACKEND)&&u.default.supportsFeature(u.default.F.MD_HSM)?M.hydratedTemplate?this.parseTemplateMessage(t,M.hydratedTemplate):this.parseTemplateMessage(t,M.fourRowTemplate):u.default.supportsFeature(u.default.F.RICH_HSM)&&this.parseTemplateMessage(t,M.hydratedFourRowTemplate),t.type="template"),T&&((0,f.shouldEnableHsm)()&&(this.parseTemplateButtonReplyMessage(t,T),P=T.contextInfo),t.type="template_button_reply"),P&&this.parseContextInfoProto(t,P,r),t},parseConversationProto:function(e,t){e.type="chat",e.body=S(t)},parseImageMessageProto:function(e,t){e.type="image",e.clientUrl=this.decodeUrl(t.url),e.directPath=t.directPath||"",e.mimetype=t.mimetype||"",e.caption=S(t.caption),e.filehash=this.decodeBytes(t.fileSha256),e.uploadhash=this.decodeBytes(t.fileEncSha256),e.size=t.fileLength||0,e.height=t.height||0,e.width=t.width||0,e.mediaKey=this.decodeBytes(t.mediaKey),e.mediaKeyTimestamp=null!=t.mediaKeyTimestamp?t.mediaKeyTimestamp:s.default.globalUnixTime(),e.body=this.decodeBytes(t.jpegThumbnail)||"",e.interactiveAnnotations=t.interactiveAnnotations},parseStickerMessageProto:function(e,t){e.type="sticker",e.clientUrl=this.decodeUrl(t.url),e.directPath=t.directPath||"",e.mimetype=t.mimetype||"",e.filehash=this.decodeBytes(t.fileSha256),e.uploadhash=this.decodeBytes(t.fileEncSha256),e.mediaKey=this.decodeBytes(t.mediaKey),e.mediaKeyTimestamp=null!=t.mediaKeyTimestamp?t.mediaKeyTimestamp:s.default.globalUnixTime(),e.height=t.height||0,e.width=t.width||0,e.firstFrameLength=t.firstFrameLength,e.firstFrameSidecar=t.firstFrameSidecar,e.isAnimated=t.isAnimated},parseContactMessageProto:function(e,t){e.type="vcard",e.subtype=t.displayName,e.body=t.vcard},parseContactsArrayMessageProto:function(e,t){var a=t.contacts;e.type="multi_vcard",e.subtype=t.displayName,e.vcardList=Array.isArray(a)?a.map(function(e){return{displayName:e.displayName,vcard:e.vcard}}):[]},parseLocationMessageProto:function(e,t){var a=t.name&&t.address?"".concat(t.name,"\n").concat(t.address):t.name||t.address||"";e.type="location",e.lat=void 0!==t.degreesLatitude?t.degreesLatitude:void 0,e.lng=void 0!==t.degreesLongitude?t.degreesLongitude:void 0,e.loc=a,e.body=this.decodeBytes(t.jpegThumbnail)||"",e.clientUrl=t.url},parseExtendedTextMessageProto:function(e,t){var a=t.matchedText||t.canonicalUrl||t.description||t.title;if(a){var n=E.default.hostname(t.canonicalUrl||""),i=E.default.hostname(t.matchedText||""),r=n===i||""===n;e.canonicalUrl=r?t.canonicalUrl:i}e.type="chat",e.subtype=a?"url":void 0,e.body=S(t.text||""),e.matchedText=t.matchedText,e.description=t.description,e.title=t.title,e.thumbnail=this.decodeBytes(t.jpegThumbnail)||"",e.richPreviewType=t.previewType,e.doNotPlayInline=t.doNotPlayInline,e.textColor=t.textArgb,e.backgroundColor=t.backgroundArgb;var o=c.Message.ExtendedTextMessage.FONTTYPE;switch(t.font){case o.SANS_SERIF:case o.SERIF:case o.NORICAN_REGULAR:case o.BRYNDAN_WRITE:case o.BEBASNEUE_REGULAR:case o.OSWALD_HEAVY:e.font=t.font}},parseDocumentMessageProto:function(e,t){e.type="document",e.clientUrl=this.decodeUrl(t.url),e.directPath=t.directPath,e.mimetype=t.mimetype,e.filehash=this.decodeBytes(t.fileSha256),e.uploadhash=this.decodeBytes(t.fileEncSha256),e.size=t.fileLength||0,e.pageCount=t.pageCount||0,e.mediaKey=this.decodeBytes(t.mediaKey),e.mediaKeyTimestamp=null!=t.mediaKeyTimestamp?t.mediaKeyTimestamp:s.default.globalUnixTime(),e.filename=(0,p.cleanIncomingFilename)(t.fileName||t.title),e.caption=e.filename,e.body=this.decodeBytes(t.jpegThumbnail)||""},parseAudioMessageProto:function(e,t){e.type=t.ptt?"ptt":"audio",e.clientUrl=this.decodeUrl(t.url),e.directPath=t.directPath,e.mimetype=t.mimetype,e.filehash=this.decodeBytes(t.fileSha256),e.uploadhash=this.decodeBytes(t.fileEncSha256),e.size=t.fileLength||0,e.duration="".concat(t.seconds||0),e.mediaKey=this.decodeBytes(t.mediaKey),e.mediaKeyTimestamp=null!=t.mediaKeyTimestamp?t.mediaKeyTimestamp:s.default.globalUnixTime(),e.streamingSidecar=t.streamingSidecar},parseVideoMessageProto:function(e,t){e.type="video",e.clientUrl=this.decodeUrl(t.url),e.directPath=t.directPath,e.mimetype=t.mimetype,e.filehash=this.decodeBytes(t.fileSha256),e.uploadhash=this.decodeBytes(t.fileEncSha256),e.size=t.fileLength||0,e.height=t.height,e.width=t.width,e.duration="".concat(t.seconds||0),e.mediaKey=this.decodeBytes(t.mediaKey),e.mediaKeyTimestamp=null!=t.mediaKeyTimestamp?t.mediaKeyTimestamp:s.default.globalUnixTime(),e.caption=S(t.caption),e.body=this.decodeBytes(t.jpegThumbnail)||"",e.isGif=t.gifPlayback,e.gifAttribution=t.gifAttribution,e.streamingSidecar=t.streamingSidecar,e.interactiveAnnotations=t.interactiveAnnotations},parseContextInfoProto:function(e,t,a){var n=t.quotedMessage,i=t.mentionedJid;e.quotedMsg=n&&this.parseMsgProto(n,{type:"unknown"}),e.quotedMsg&&"payment"===e.quotedMsg.type&&a&&h.default.log("parseContextInfoProto: payment not supported")(),e.quotedStanzaID=t.stanzaId,e.quotedParticipant=this.decodeJid(t.participant),e.quotedRemoteJid=this.decodeJid(t.remoteJid),e.mentionedJidList=Array.isArray(i)?i.map(this.decodeJid):i,e.isForwarded=t.isForwarded,e.forwardingScore=t.forwardingScore,null!=t.expiration&&(e.ephemeralDuration=t.expiration)},_getMsgKey:function(e,t){if(!e)throw new Error("parseProtocolMessageProto: no message key is defined for protocol message");var a=e.id;if(!a)throw new Error("parseProtocolMessageProto: no message id is defined for protocol message");return u.default.supportsFeature(u.default.F.MD_BACKEND)?new g.default({id:a,fromMe:t.id.fromMe,remote:t.id.remote,participant:t.id.participant}):new g.default({id:a,fromMe:e.fromMe,remote:this.decodeJid(e.remoteJid),participant:this.decodeJid(e.participant)})},parseProtocolMessageProto:function(e,t,a){if("relay"===a){var n=t.key,i=t.type,o=null;switch(e.type="protocol",i){case c.Message.ProtocolMessage.TYPE.REVOKE:o=this._getMsgKey(n,e),e.protocolMessageKey=o,e.subtype="revoke";break;case c.Message.ProtocolMessage.TYPE.EPHEMERAL_SETTING:e.subtype="ephemeral_setting",e.ephemeralDuration=t.ephemeralExpiration;break;case c.Message.ProtocolMessage.TYPE.EPHEMERAL_SYNC_RESPONSE:e.subtype="ephemeral_sync_response",e.ephemeralDuration=t.ephemeralExpiration,e.ephemeralSettingTimestamp=t.ephemeralSettingTimestamp;break;case c.Message.ProtocolMessage.TYPE.HISTORY_SYNC_NOTIFICATION:e.subtype="history_sync_notification";var s=t.historySyncNotification;if(s){var d={directPath:s.directPath,encFilehash:this.decodeBytes(s.fileEncSha256),filehash:this.decodeBytes(s.fileSha256),mediaKey:this.decodeBytes(s.mediaKey),type:"image",signal:(new r.default).signal};e.historySyncMetaData={historySyncNotification:t.historySyncNotification,downloadOptions:d}}break;default:e.subtype="unknown"}}},decodeJid:function(e){return y.default.isWid(e)?(0,_.createWid)(e):e},decodeUrl:function(e){return e&&!e.includes("/u/")?e:void 0},decodeBytes:function(e){return e?o.default.encode(e):void 0},parseTemplateMessage:function(e,t){var a=t.documentMessage,n=t.imageMessage,i=t.locationMessage,r=t.videoMessage;a?(this.parseDocumentMessageProto(e,a),e.subtype="document"):n?(this.parseImageMessageProto(e,n),e.subtype="image"):i?(this.parseLocationMessageProto(e,i),e.subtype="location"):r?(this.parseVideoMessageProto(e,r),e.subtype="video"):(e.subtype="text",t.hydratedContentText&&(e.body=S(t.hydratedContentText))),t.hydratedButtons&&this.parseButtons(e,t),t.hydratedContentText&&(e.caption=S(t.hydratedContentText)),t.hydratedFooterText&&(e.footer=S(t.hydratedFooterText)),t.hydratedTitleText&&(e.title=S(t.hydratedTitleText))},parseButtons:function(e,t){var a=t.hydratedButtons;if(a.length){e.buttons=new v.default,e.buttons.add(a.map(function(e,t){var a=null!=e.index?e.index:t,n="".concat(a);return e.quickReplyButton?new b.default({id:n,displayText:e.quickReplyButton.displayText,selectionId:e.quickReplyButton.id,subtype:"quick_reply"}):e.callButton?new b.default({id:n,displayText:e.callButton.displayText,phoneNumber:e.callButton.phoneNumber,subtype:"call"}):new b.default({id:n,displayText:e.urlButton.displayText,url:e.urlButton.url,subtype:"url"})}))}},parseTemplateButtonReplyMessage:function(e,t){e.body=S(t.selectedDisplayText),e.selectedIndex=t.selectedIndex,e.selectedId=t.selectedId},parseProductMessageProto:function(e,t){var a=t.product;a&&(a.productImage&&this.parseImageMessageProto(e,a.productImage),e.type="product",e.businessOwnerJid=t.businessOwnerJid,e.contextInfo=t.contextInfo,e.productId=a.productId,e.currencyCode=a.currencyCode,e.priceAmount1000=a.priceAmount1000,e.retailerId=a.retailerId,e.url=a.url,e.productImageCount=a.productImageCount,e.title=a.title,e.description=a.description)},parseLiveLocationMessageProto:function(e,t,a){h.default.log("parseLiveLocationMessageProto: not supported")()},parseSendPaymentMessageProto:function(e,t,a){h.default.log("parseSendPaymentMessageProto: not supported")()},parseRequestPaymentMessageProto:function(e,t,a){h.default.log("parseRequestPaymentMessageProto: not supported")()},parseGroupInviteMessageProto:function(e,t){h.default.log("parseGroupInviteMessageProto: not supported")()}};t.default=C},dahbdjdajd:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.TextMention=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=i(a("ceffhbhahb")),u=n(a("ddhijeejag")),f=a("daffbcegjj"),h=i(a("idgifdccc")),p=i(a("daabecicc")),g=a("eagfdbhhhh"),m=a("cdejbeiiha"),b=i(a("ihfccfgdf")),v=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,(0,d.default)(t).apply(this,arguments))}return(0,c.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=this.props,t=e.contact,a=e.onClick,n=e.theme,i=e.selectable,r=t.displayName,o=t.id,s=(0,f.dir)(r)||"auto",d=!!n&&n.quoted,c=(0,p.default)(r,[[[h.default,{selectable:i}]]],m.JSXSerializer,void 0,1/0);return u.createElement(g.SelectableSpan,{"data-jid":o.toString(),"data-display":r,className:(0,l.default)("matched-mention",{"quoted-mention":d,"inactive-mention":!a||d}),onClick:a,plainText:"@".concat(r),selectable:i,selectAll:!0,appTextTemplate:"".concat(o.toString(),"")},u.createElement("span",{className:"at-symbol"},"@"),u.createElement("span",{dir:s},c))}}]),t}(u.Component);t.TextMention=v,v.CONCERNS={contact:["id","displayName"]};var j=(0,b.default)(v,v.CONCERNS);t.default=j},dahdbbghjd:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=i(a("ceffhbhahb")),u=n(a("ddhijeejag")),f=i(a("bbchdeehff")),h=i(a("eceadcicaf")),p=i(a("cfhgffgbcb")),g=i(a("ifgdgjdid")),m=i(a("bfdcadbbif")),b=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).addOrRemoveLabelOnSelected=function(){var e=a.props.selectedModels.getSelected();f.default.openModal(u.createElement(p.default,{onLabelUpdateComplete:a.props.onCancel,modelsToUpdate:e}))},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.selectedModels&&this.props.listeners.add(this.props.selectedModels,"all",function(){e.forceUpdate()})}},{key:"componentDidUpdate",value:function(){0===this.props.selectedModels.getSelected().length&&this.props.onCancel&&this.props.onCancel()}},{key:"render",value:function(){var e,t,a,n=this.props,i=n.labelEditEnabled,r=n.onRemoveLabel,o=this.props.selectedModels.getSelected().length,s=this.props.onDelete;i&&o>0&&(e=u.createElement(j,{name:"label",disabled:!o,title:l10n.t(1194),onClick:this.addOrRemoveLabelOnSelected})),r&&o>0&&(a=u.createElement(j,{name:"label-delete",disabled:!o,title:l10n.t(1196),onClick:r})),s&&o>0&&(t=u.createElement(j,{name:"delete",disabled:!o,title:l10n.t(1195),onClick:s}));var d=(0,l.default)(g.default.multiControls,{[g.default.drawerHeader]:"drawer-header"===this.props.theme,[g.default.chatListPanel]:"chatlist-panel"===this.props.theme}),c=this.props.arrowBack?"back":"x";return u.createElement("div",{className:d},u.createElement(j,{name:c,onClick:this.props.onCancel}),u.createElement("div",{className:g.default.multiCount},l10n.t(1024,{count:o,_plural:o})),e,t,a)}}]),t}(u.Component),v=(0,h.default)(b);t.default=v;var j=function(e){var t=e.name,a=e.title,n=e.onClick,i=e.directional,r=e.disabled;return u.createElement("button",{className:g.default.multiselectIcon,title:a,onClick:n,disabled:r?"disabled":void 0},u.createElement(m.default,{name:t,directional:i}))}},dahicgggee:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.GifPanel=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=i(a("bebajedcaf")),u=i(a("hhegggegb")),f=i(a("ddfeabiaci")),h=n(a("ddhijeejag")),p=n(a("cgejchjdhj")),g=i(a("bjbdcigbdi")),m=a("ccgdfaeibd"),b=i(a("djcjgfjggc")),v=n(a("igbbahaj")),j=a("ejbdjaifi"),E=i(a("dhfbfehaef")),y=i(a("caciiaejed")),_=i(a("caahjiefj")),S=i(a("eceadcicaf")),C=i(a("bfbggcdbfb")),A=i(a("cahfddcdga")),M=i(a("djhfffbdac")),T=i(a("dcjcghaij")),P=i(a("didfdhbecg")),N=1e3,I=100,k=62,O=5,R=15,w=.7*k,D=1.5*k,L=function(e){function t(e){var a;(0,r.default)(this,t),(a=(0,s.default)(this,(0,d.default)(t).call(this,e))).lastScrollTop=0,a.fastScroll=!1,a.lastClickTime=0,a._setGifPanelRef=function(e){a._gifPanelRef=e},a._sectionIds=v.ORDERED_TAB_SECTION_IDS,a.handleScroll=(0,u.default)(function(){if(null==a.state.selectedSectionId&&a.state.searchText&&a.scrollContainer&&a._gifPanelRef)a._gifPanelRef.animateOnScroll(a.scrollContainer);else if(!(Date.now()-a.lastClickTime<N)){var e={};if(a.state.isPreview&&(e.isPreview=!1),a.scrollContainer){var t=a.scrollContainer,n=t.scrollTop,i=n<=0;i!==a.state.scrolledToTop&&(e.scrolledToTop=i);var r=a.lastScrollTop-n,o=Math.abs(r)>O;a.fastScroll=Math.abs(r)>R,r<0?a.state.showSearchInput&&(n>w&&o||a.lastScrollTop<w&&n>=w)&&(e.showSearchInput=!1):a.state.showSearchInput||(o||n<D)&&(e.showSearchInput=!0),a._gifPanelRef&&a._gifPanelRef.animateOnScroll(t),a.lastScrollTop=n,(0,l.default)(e)||a.setState(e)}}},I),a.setRefSearchInput=function(e){a.searchInput=e},a.restoreFocus=function(e){a.focusSearchInput(e)},a.onRotateFocus=function(e){a.stopEvent(e),a.searchInputHasFocus()?a.props.onFocusRelease&&a.props.onFocusRelease():a.focusSearchInput()},a.stopEvent=function(e){e&&(e.preventDefault(),e.stopPropagation())},a.scrollGifIntoViewIfNeeded=function(e){a.scrollContainer&&e.offsetTop-a.scrollContainer.scrollTop<k&&p.scrollIntoView(e,!0,a.scrollContainer)},a.searchInputHasFocus=function(){return!!a.searchInput&&a.searchInput.hasFocus()},a.focusSearchInput=function(e){if(!a.searchInput)return a.fastScroll=!0,void a.setState({showSearchInput:!0},function(){return a.focusSearchInput(!0)});a.searchInput.focus(e)},a.onGifSearchDown=function(e){a.stopEvent(e),a._gifPanelRef&&a._gifPanelRef.initSelection()},a.getSearchBox=function(){var e=null;a.state.showSearchInput&&(e=h.createElement(M.default,{label:l10n.t(1008,{service:m.BRAND_NAMES[(0,m.gifProvider)()]}),onChange:a.onSearch,onDownKey:a.onGifSearchDown,ref:a.setRefSearchInput,shadow:!a.state.scrolledToTop,tabFocused:a.state.tabFocused,value:a.state.searchText||""}));var t=a.fastScroll?"emoji-search-slide-away-fast":"emoji-search-slide-away";return h.createElement(P.default,{transitionName:t},e)},a.onSearch=function(e,t){a.stopEvent(t),null==a.state.searchText&&(a.scrollTopBeforeSearch=a.scrollContainer&&a.scrollContainer.scrollTop),a.setState({selectedSectionId:null,searchText:e,tabFocused:!1})},a.preventBlur=function(e){a.stopEvent(e),a.restoreFocus()},a.handleParentContainerUp=function(e){var t,n=e&&e.nativeEvent.target,i=null===(t=a._gifPanelRef)||void 0===t?void 0:t.getStarredGifsRef(),r=n instanceof HTMLElement&&(null==i?void 0:i.isStarredGif(n)),o=n instanceof HTMLElement&&!!a._gifPanelRef&&a._gifPanelRef.contains(n);r?(a.focusSearchInput(),a.stopEvent(e)):o&&(null==i?void 0:i.hasGifs())?(a._gifPanelRef&&a._gifPanelRef.initSelection(!1),a.stopEvent(e)):o&&(a.focusSearchInput(),a.stopEvent(e))},a.handleDownArrow=function(e){var t,n=e&&e.nativeEvent.target,i=null===(t=a._gifPanelRef)||void 0===t?void 0:t.getStarredGifsRef();n instanceof HTMLElement&&(null==i?void 0:i.isStarredGif(n))?(a._gifPanelRef&&a._gifPanelRef.initSelection(!0),a.stopEvent(e)):n instanceof Node&&a._gifPanelRef&&a._gifPanelRef.contains(n)&&(a._gifPanelRef&&a._gifPanelRef.initSelection(!1),a.stopEvent(e))},a.handleTabKey=function(e){if(e.preventDefault(),e.stopPropagation(),a.searchInput)return a.searchInput.hasFocus()?void(a.props.onFocusNext&&a.props.onFocusNext()):a.focusSearchInput()},a.handleShiftTabKey=function(e){if(e.preventDefault(),e.stopPropagation(),a.searchInput)return a.searchInput.hasFocus()?void(a.props.onFocusPrev&&a.props.onFocusPrev()):a.focusSearchInput()},a.handleMenuTabClick=function(e){e===v.default.FAVORITES?a.setState({showSearchInput:!0,selectedSectionId:e,searchText:null,tabFocused:!0}):a.setState({showSearchInput:!0,selectedSectionId:e,searchText:e,tabFocused:!0})},a.renderGifTab=function(e,t){return h.createElement(T.default,{key:e,onClick:a.handleMenuTabClick,sectionId:e,selected:t})};var n=(0,f.default)(a.props.displayCache||{},{scrollTop:0,showSearchInput:!0});return g.default.supportsFeature(g.default.F.STARRED_GIFS)||(a._sectionIds=a._sectionIds.filter(function(e){return e!==v.default.FAVORITES})),a.state={isPreview:!n.scrollTop,scrolledToTop:0===n.scrollTop,searchText:null,searchResults:null,showSearchInput:n.showSearchInput,selectedSectionId:n.selectedSectionId||v.default.TRENDING,tabFocused:!1},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){var e=this;this.lastClickTime=Date.now();var t=this.props.displayCache&&this.props.displayCache.scrollTop;this.scrollContainer&&null!=t&&0!==t&&(this.scrollContainer.scrollTop=t),this.props.listeners.uiIdle(function(){e.restoreFocus(),new C.default.WebcEmojiOpen({webcEmojiOpenTab:"GIF"}).commit(),e.setState({isPreview:!1})})}},{key:"componentWillUnmount",value:function(){this.props.onDisplayCache&&this.props.onDisplayCache({scrollTop:this.scrollContainer?this.scrollContainer.scrollTop:0,showSearchInput:this.state.showSearchInput,selectedSectionId:this.state.selectedSectionId}),this.handleScroll.cancel()}},{key:"componentDidUpdate",value:function(e,t){if(t.searchText!==this.state.searchText){if(!this.scrollContainer)return;this.state.searchText?this.scrollContainer.scrollTop=0:null!=this.scrollTopBeforeSearch&&0!==this.scrollTopBeforeSearch&&(this.scrollContainer.scrollTop=this.scrollTopBeforeSearch)}}},{key:"render",value:function(){var e=this.getSearchBox(),t=(this.state.searchText||"").replace(/^\s+/,"");return h.createElement(E.default,{handlers:{tab:this.handleTabKey,"shift+tab":this.handleShiftTabKey,up:this.handleParentContainerUp,down:this.handleDownArrow}},h.createElement(y.default,{selectedSectionId:this.state.selectedSectionId,sectionIds:this._sectionIds,renderSectionTab:this.renderGifTab}),h.createElement("div",{className:_.default.gifPanel},h.createElement("div",{className:_.default.bodyContainer,onMouseDown:this.preventBlur},e,h.createElement("div",{className:_.default.panelBody,onScroll:this.handleScroll,ref:(0,j.GetRef)("scrollContainer",this)},h.createElement(b.default,{ref:this._setGifPanelRef,onGif:(0,A.default)(this.props.onGif),searchText:t,scrollGifIntoViewIfNeeded:this.scrollGifIntoViewIfNeeded,selectedSectionId:this.state.selectedSectionId})))))}}]),t}(h.PureComponent);t.GifPanel=L;var U=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,(0,d.default)(t).apply(this,arguments))}return(0,c.default)(t,e),(0,o.default)(t,[{key:"focusSearchInput",value:function(e){this.getComponent().focusSearchInput(e)}},{key:"restoreFocus",value:function(e){this.getComponent().restoreFocus(e)}}]),t}((0,S.default)(L));t.default=U},daiaacfgce:function(e,t){e.exports={description:"JmH7x",containerAllow:"NWyjc",icon:"X5OiD",title:"_2yVvV",controls:"_2TDHw",topCenter:"_3_Q4R",topLeft:"AZ3xD",bottomCenter:"_3Ikk4"}},daibgjhabc:function(e,t){e.exports={container:"qTFAl",isChecked:"_3Z2tD",gallery:"_21W00"}},daichdjff:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.UPLOAD_TYPE=t.TYPE=t.OUTWARD_TYPES=t.STAGE=t.UPLOAD_STAGE=t.DOWNLOAD_STAGE=t.MSG_SPECIFIC_FIELDS=t.FIELDS=t.MEDIA_MSG_PROPS=t.MAPPED_STICKER_PROPS=t.MAPPED_MEDIA_PROPS=t.MAPPED_MSG_PROPS=t.MSG_TO_MEDIA=t.MEDIA_TO_MSG=void 0;var i=n(a("bhfcfhafdj")),r=Object.freeze({preview:"body",mediaKey:"mediaKey",mediaKeyTimestamp:"mediaKeyTimestamp",size:"size",filehash:"filehash",mimetype:"mimetype",duration:"duration",pageCount:"pageCount",fullHeight:"height",fullWidth:"width",type:"type",filename:"filename",caption:"caption",isGif:"isGif",gifAttribution:"gifAttribution",sidecar:"streamingSidecar",subtype:"subtype",firstFrameLength:"firstFrameLength",firstFrameSidecar:"firstFrameSidecar",isAnimated:"isAnimated"});t.MEDIA_TO_MSG=r;var o=Object.freeze({body:"preview",directPath:"directPath",mediaKey:"mediaKey",mediaKeyTimestamp:"mediaKeyTimestamp",size:"size",filehash:"filehash",mimetype:"mimetype",duration:"duration",pageCount:"pageCount",height:"fullHeight",width:"fullWidth",type:"type",filename:"filename",caption:"caption",isGif:"isGif",gifAttribution:"gifAttribution",streamingSidecar:"sidecar",subtype:"subtype",firstFrameLength:"firstFrameLength",firstFrameSidecar:"firstFrameSidecar",isAnimated:"isAnimated"});t.MSG_TO_MEDIA=o;var s=Object.keys(o);t.MAPPED_MSG_PROPS=s;var d=Object.keys(r);t.MAPPED_MEDIA_PROPS=d;t.MAPPED_STICKER_PROPS=["filehash","height","mimetype","size","type","width"];var c=[].concat((0,i.default)(s),["clientUrl","uploadhash","streamable"]);t.MEDIA_MSG_PROPS=c;var l=Object.freeze({VIDEO:Object.freeze(["aspectRatio","fullWidth","fullHeight","preview","duration","durationFloat"]),AUDIO:Object.freeze(["duration"]),IMAGE:Object.freeze(["aspectRatio","fullWidth","fullHeight","preview"]),PRODUCT:Object.freeze(["aspectRatio","fullWidth","fullHeight","preview"]),STICKER:Object.freeze(["animationDuration","firstFrameLength","firstFrameSidecar","isAnimated","fullWidth","fullHeight","preview","rgbaBuffer","rgbaWidth","rgbaHeight","aspectRatio"]),STICKER_PACK:Object.freeze([]),DOCUMENT:Object.freeze(["aspectRatio","pageCount","preview"]),RAW:Object.freeze(["mediaBlob","size","filehash"])});t.FIELDS=l;t.MSG_SPECIFIC_FIELDS=["type","filename","caption","isGif","gifAttribution","mimetype","sidecar","subtype"];t.DOWNLOAD_STAGE={INIT:"INIT",PREPARING:"PREPARING",REUPLOADING:"REUPLOADING",FETCHING:"FETCHING",PROCESSING:"PROCESSING",NEED_POKE:"NEED_POKE",ERROR_MISSING:"ERROR_MISSING",ERROR_UNSUPPORTED:"ERROR_UNSUPPORTED",RESOLVED:"RESOLVED"};t.UPLOAD_STAGE={INIT:"INIT",PREPARING:"PREPARING",UPLOADING:"UPLOADING",NEED_UPLOAD:"NEED_UPLOAD",ERROR_MISSING:"ERROR_MISSING",ERROR_TOO_LARGE:"ERROR_TOO_LARGE",UPLOADED:"UPLOADED"};t.STAGE={INIT:"INIT",PREPARING:"PREPARING",UPLOADING:"UPLOADING",SENDING:"SENDING",REUPLOADING:"REUPLOADING",FETCHING:"FETCHING",DECRYPTING:"DECRYPTING",RESOLVED:"RESOLVED",NEED_POKE:"NEED_POKE",NEED_UPLOAD:"NEED_UPLOAD",ERROR_MISSING:"ERROR_MISSING",ERROR_TOO_LARGE:"ERROR_TOO_LARGE",ERROR_UNSUPPORTED:"ERROR_UNSUPPORTED",REMOTE_UPLOADING:"REMOTE_UPLOADING",REMOTE_NEED_UPLOAD:"REMOTE_NEED_UPLOAD"};t.OUTWARD_TYPES={IMAGE:"image",VIDEO:"video",AUDIO:"audio",PTT:"ptt",STICKER:"sticker",DOCUMENT:"document",PRODUCT:"product",TEMPLATE:"template",UNKNOWN:"unknown"};var u=Object.freeze({VIDEO:"VIDEO",IMAGE:"IMAGE",AUDIO:"AUDIO",STICKER:"STICKER",DOCUMENT:"DOCUMENT",PRODUCT:"PRODUCT"});t.TYPE=u;t.UPLOAD_TYPE={VIDEO:"video",GIF:"gif",IMAGE:"image",AUDIO:"audio",DOCUMENT:"document"}},daiibfchg:function(e,t){e.exports={mediaViewerImg:"_1z6jS",mediaViewerAnimate:"qr_9f","media-viewer-animate":"qr_9f",cursorZoomOut:"LAMxZ",media:"vahb0",mediaViewer:"_2KgjI",mediaContent:"_1HjMu",cursorZoomIn:"_1UPkW",mediaViewerBlurCrop:"_3hQXv",mediaViewerBlurImg:"ARHD2",btn:"_3yth3",btnMediaNext:"yyUKR",btnMediaPrev:"_1cB__",imageAudio:"IhuRP",mediaWithCaption:"_2Lhpe",mediaCaption:"_3qb2N",captionHidden:"_2z3FK",disabledBtn:"_2fw_A",mediaViewerAudio:"_1c2Tf"}},daijadgha:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=n(a("ddhijeejag")),u=i(a("dhigahgdjb")),f=i(a("bcbahjefec")),h=i(a("ccjabfdeje")),p=i(a("bheehfahbe")),g=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).onSetGroupInfo=function(e){a.push(l.createElement(h.default,{participants:e,onBack:function(){a.popAndUpdate({participants:e})},onContinue:a.end}))},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){u.default.ensureSorted(),this.push(l.createElement(p.default,{onBack:this.end,onContinue:this.onSetGroupInfo}))}}]),t}(f.default);t.default=g},dajcegbdcc:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=a("ddjgcfjicj"),d=n(a("cajijabhgb")),c=i(a("bdiiahhjbe")),l=i(a("bcjjbcbjaa")),u=function(){function e(){(0,r.default)(this,e),this._writeQueue=[],this.Node=l.default}return(0,o.default)(e,[{key:"read",value:function(){return c.default.error("Attempted to call `read` on BinaryProtocolQueue")(),Promise.reject(new d.Disconnected)}},{key:"write",value:function(e){var t=this;return new Promise(function(a,n){t._writeQueue.push({resolve:a,reject:n,n:e})})}},{key:"dropAllBecauseLogout",value:function(){for(var e=new s.LogoutDrop("cancelled binary protocol call");this._writeQueue.length;){this._writeQueue.shift().reject(e)}}},{key:"getWriteQueue",value:function(){return this._writeQueue}}]),e}();t.default=u},dajegcbgdi:function(e,t){e.exports={preview:"_1SsXF",bubbleIn:"_3qblR",bubbleOut:"_1AUdd",noThumbContainer:"_3_nIn",noThumbIcon:"_3waZq",media:"_2B3Ci",iconStar:"_4HPfp",isInvite:"oRECq",title:"_3RQIp",description:"_2cR8w",source:"_17hud",body:"_2Lp2x",isCompose:"_5U8oQ",extended:"_3eauZ"}},dajffajabh:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.DRAWER_HEADER_TYPE=void 0;var r=i(a("ceffhbhahb")),o=n(a("ddhijeejag")),s=i(a("effbcehec")),d=i(a("dgafbfebjc")),c=a("bhfdfhefca"),l=i(a("bfdcadbbif")),u=i(a("didfdhbecg")),f={SMALL:"small",LARGE:"large",POPUP:"popup",OFFSET:"offset",MULTI_MEDIA_GALLERY:"multiMediaGallery",LABELS:"labels"};t.DRAWER_HEADER_TYPE=f;var h=function(e){var t=e.title,a=e.onBack,n=e.onCancel,i=e.type,h=e.children,p=e.menu,g=i===f.SMALL?"back":"back-light",m=a?o.createElement("button",{className:d.default.btnCloseDrawer,"data-a8n":s.default.key("btn-closer-drawer"),onClick:a},o.createElement(l.default,{name:g,directional:!0})):null,b=i===f.SMALL?"x":"x-light",v=n?o.createElement("button",{className:d.default.btnCloseDrawer,"data-a8n":s.default.key("btn-closer-drawer"),onClick:n},o.createElement(l.default,{name:b})):null,j=null!=p?o.createElement("span",{className:d.default.paneListControls},o.createElement(c.MenuBar,{key:"drawer-header"},o.createElement(u.default,{transitionName:"btn"},p))):null,E=(0,r.default)({[d.default.multiMediaGallery]:i===f.MULTI_MEDIA_GALLERY,[d.default.labels]:i===f.LABELS,[d.default.drawerHeader]:i===f.LARGE||i===f.MULTI_MEDIA_GALLERY||i===f.LABELS,[d.default.drawerHeaderSmall]:i===f.SMALL,[d.default.drawerHeaderOffset]:i===f.OFFSET||i===f.POPUP,[d.default.drawerHeaderPopup]:i===f.POPUP}),y=t&&h?o.createElement("div",{className:d.default.side},h):null;return o.createElement("header",{className:E},o.createElement("div",{className:d.default.drawerTitle,"data-animate-drawer-title":!0},o.createElement("div",{className:d.default.drawerTitleAction},m,v),o.createElement("div",{"data-a8n":s.default.key("drawer-title-body"),className:d.default.drawerTitleBody},t||h),y,j))};t.default=h},dajhhehjhc:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("eaidjcib")),r=n(a("dgcdacjddi")),o=a("dbajccegac"),s=function(){function e(){(0,i.default)(this,e),this.buf=new o}return(0,r.default)(e,[{key:"pushInt16",value:function(e){this.buf.writeUint16(e)}},{key:"pushInt20",value:function(e){if("number"!=typeof e)throw new Error("invalid int20");this.buf.writeUint8((983040&e)>>16),this.buf.writeUint16(65535&e)}},{key:"pushInt32",value:function(e){this.buf.writeUint32(e)}},{key:"pushByte",value:function(e){this.buf.writeUint8(e)}},{key:"pushBytes",value:function(e){if(!(e instanceof ArrayBuffer))throw new Error("invalid byte buffer");this.buf.writeBuffer(e)}},{key:"pushUint8Array",value:function(e){if("[object Uint8Array]"!==Object.prototype.toString.call(e))throw new Error("invalid Uint8Array");this.buf.writeByteArray(e)}},{key:"pushString",value:function(e){if("string"!=typeof e)throw new Error("invalid string");this.buf.writeString(e)}},{key:"toBuffer",value:function(){return this.buf.readBuffer()}}]),e}();t.default=s},dbabefhajh:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=(0,r.default)(u.default.bubble,{[u.default.isPSA]:e.msg.isPSA}),a=!1!==e.displayAuthor&&(!e.msg.isSentByMe&&e.msg.isGroupMsg)?o.createElement(s.default,{msg:e.msg,contact:e.msg.senderObj}):null,n=e.msg.showForwarded()?o.createElement(c.default,{msg:e.msg}):null,i=e.displayType===d.default.DISP_TYPE.GALLERY||e.hideMeta?null:o.createElement("div",{className:u.default.meta},o.createElement(l.default,{msg:e.msg}));return o.createElement("div",{className:t},a,n,e.children,i)};var r=i(a("ceffhbhahb")),o=n(a("ddhijeejag")),s=i(a("cehjjfagii")),d=i(a("baagejbchg")),c=i(a("dfeecdfijg")),l=i(a("cieaeggjg")),u=i(a("beejfjjdjf"))},dbaedajgf:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=n(a("ddhijeejag")),u=i(a("caegbedegd")),f=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,(0,d.default)(t).apply(this,arguments))}return(0,c.default)(t,e),(0,o.default)(t,null,[{key:"jsx",value:function(e,t,a){var n=a.selectable,i=void 0!==n&&n;return l.createElement(u.default,{selectable:i},e)}}]),t}((0,i(a("ceggedffg")).default)(/^(\w*)\b/g));t.default=f},dbahdjadcb:function(e,t){e.exports={title:"_6xQdq",large:"_1drsQ",muted:"_1qWhd","section-title":"_3he1q",sectionTitle:"_3he1q",small:"_3D8gv",plain:"_3CjAc",danger:"_23Un5",success:"XSHGx",dark:"_2tNox","popup-title":"g4-Sa",popupTitle:"g4-Sa"}},dbajgaecej:function(e,t,a){"use strict";var n=a("cfjecfhbfg"),i=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return r.createElement("div",{className:s.default.outerContainer,onClick:e.onClick},r.createElement("div",{className:s.default.innerContainer},r.createElement(o.default,{onChange:e.onClick,checked:e.checked})))};var r=i(a("ddhijeejag")),o=n(a("dacdidjdfi")),s=n(a("dcdijgaegd"))},dbbaabdabi:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.ConversionTupleExpiry=t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("bjehdcaaj")),l=i(a("dbjagcfebh")),u=i(a("djheacfeif")),f=n(a("dcaifjegcg")),h=i(a("dbajccegac")),p=i(a("cfadcbbiie")),g=i(a("bdiiahhjbe")),m=i(a("jccfhaecf"));t.ConversionTupleExpiry=604800;var b=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).id=(0,f.prop)(),a.conversionData=(0,f.prop)(),a.conversionSource=(0,f.prop)(),a.timestamp=(0,f.prop)(function(){return p.default.globalUnixTime()}),a.alarmId=(0,f.session)(),a}return(0,l.default)(t,e),(0,o.default)(t,[{key:"initialize",value:function(){(0,c.default)((0,d.default)(t.prototype),"initialize",this).call(this),this.listenTo(this,"change:timestamp",this._setExpiryTimer),this._setExpiryTimer()}},{key:"_setExpiryTimer",value:function(){var e=this,t=this.timestamp+604800;if(t<0)return g.default.error("Invalid conversionTuple timer")(),void this.delete();this.alarmId=u.default.setLocalTimeout(function(){e.delete()},1e3*t,this.alarmId)}},{key:"_clearAlarm",value:function(){this.alarmId&&(u.default.clearTimeout(this.alarmId),this.alarmId=void 0)}},{key:"elapsedSeconds",value:function(){return p.default.globalUnixTime()-this.timestamp}},{key:"formatTuple",value:function(){var e={conversionDelaySeconds:this.elapsedSeconds()};return this.conversionData&&(e.conversionData=this.conversionData),this.conversionSource&&(e.conversionSource=this.conversionSource),e}},{key:"toJSON",value:function(){var e=this.serialize(),t=e.conversionData;if(t instanceof ArrayBuffer){var a=new h.default(t);e.conversionData=a.readString(t.byteLength)}return e}},{key:"delete",value:function(){(0,c.default)((0,d.default)(t.prototype),"delete",this).call(this),this.getCollection().remove(this.id),this._clearAlarm()}},{key:"getCollection",value:function(){return a("ccbihadedf")}}]),t}(f.default);b.Proxy="conversionTuple",b.idClass=m.default;var v=(0,f.defineModel)(b);t.default=v},dbbbgjbbgf:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=i(a("ceffhbhahb")),u=n(a("ddhijeejag")),f=i(a("baagejbchg")),h=i(a("bjbdcigbdi")),p=i(a("djidhiidef")),g=i(a("ihfccfgdf")),m=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,(0,d.default)(t).apply(this,arguments))}return(0,c.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e,t=this.props,a=void 0===t.spacer||t.spacer;if(t.msg.rtl!==l10n.isRTL()&&"placeholder"!==t.theme&&(a=!1),a){var n;switch(t.msg.type){case f.default.MSG_TYPE.REVOKED:n=[t.msg.broadcast,t.msg.labels&&t.msg.labels.length&&h.default.supportsFeature(h.default.F.LABELS_DISPLAY)];break;default:n=[t.msg.broadcast,t.msg.isEphemeral,t.msg.isSentByMe,t.msg.labels&&t.msg.labels.length&&h.default.supportsFeature(h.default.F.LABELS_DISPLAY),t.msg.star]}var i=n.filter(Boolean).length,r=[p.default.icons1,p.default.icons2,p.default.icons3,p.default.icons4],o=i>0?r[i-1]:"";e=u.createElement("span",{className:(0,l.default)(p.default.spacer,o)})}var s=(0,l.default)(p.default.text,t.className,{[p.default.placeholderIn]:"placeholder"===t.theme&&!t.msg.isSentByMe,[p.default.placeholderOut]:"placeholder"===t.theme&&t.msg.isSentByMe,[p.default.template]:t.msg.hsmEnabled});return u.createElement("div",{className:s,dir:t.msg.dir},t.children,e)}}]),t}(u.PureComponent);m.CONCERNS={msg:["broadcast","dir","hsmEnabled","isEphemeral","isSentByMe","labels","rtl","star","type"]};var b=(0,g.default)(m,m.CONCERNS);t.default=b},dbbfeecced:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("hbddjfeei")),o=i(a("eaidjcib")),s=i(a("dgcdacjddi")),d=i(a("ffceefejc")),c=i(a("cjedcdbdii")),l=i(a("dbjagcfebh")),u=n(a("ddhijeejag")),f=i(a("ceggedffg")),h=i(a("ijhhjedi")),p=function(e){function t(){return(0,o.default)(this,t),(0,d.default)(this,(0,c.default)(t).apply(this,arguments))}return(0,l.default)(t,e),(0,s.default)(t,null,[{key:"jsx",value:function(e,t,a){var n=a.selectable,i=void 0!==n&&n,o=function(e){var t=(0,r.default)(e,7),a=t[4],n=t[5],i=t[6];if(i)return"".concat(E).concat(i.toLowerCase());switch(a){case"T":case"t":case"#":return"".concat(v).concat(n);case"S":case"s":return"".concat(j).concat(n);default:return"".concat(b).concat(a).concat(n)}}(t);return u.createElement(h.default,{href:o,selectable:i},e)}}]),t}((0,f.default)(/(^|\s)(((#|t|T|D|P|s|S|r)([0-9]{3,16}))|([0-9a-fA-F]{8,40}))(?=$|\b)/g,2,function(e,t){var a=(0,r.default)(e,7),n=a[1],i=a[6];if(i&&(!g.test(i)||!m.test(i)))return null;n&&(e.index+=n.length,e[0]=e[0].slice(n.length));return e}));t.default=p;var g=/[a-fA-F]/,m=/[0-9]/;var b="https://phabricator.intern.facebook.com/",v="https://our.intern.facebook.com/intern/tasks/?t=",j="https://our.intern.facebook.com/intern/sevmanager/view/s/",E="https://our.intern.facebook.com/intern/bunny/?q=hash%20"},dbbggghaed:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.sendClear=function(e,t,a){var n;n=r.default.supportsFeature(r.default.F.MD_BACKEND)?Promise.resolve({_duplicate:!1}):o.default.sendConversationClear(e.id,t,!a).then(function(e){if(200!==e.status)throw new i.ServerStatusCodeError(e.status);return e});return n};var i=a("ddjgcfjicj"),r=n(a("bjbdcigbdi")),o=n(a("bihdhbjih"))},dbbhhgjjbg:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.sendTextMsgToChat=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=(t||"").trim(),m=a.linkPreview,b=a.quotedMsg,v=a.mentionedJidList,j=a.quotedMsgAdminGroupJid,E=a.selectedId,y=a.selectedIndex;if(""===n)return Promise.resolve();(0,h.clearPresence)(e);var _=e.id,S=s.default.me,C=void 0;d.default.supportsFeature(d.default.F.MD_BACKEND)||(C=void 0);var A,M=new f.default({from:S,to:_,id:(0,p.default)(),participant:C,selfDir:"out"});b?A=b.msgContextInfo(e.id):j&&(A={quotedRemoteJid:j});var T=(0,r.default)({id:M,body:n,type:"chat",subtype:m&&!(0,i.default)(m)?"url":null,t:o.default.globalUnixTime(),from:S,to:_,self:"out",local:!0,ack:0,urlText:e.urlText,urlNumber:e.urlNumber},m||{},A||{},{mentionedJidList:v});e.urlText&&(e.urlText=void 0);e.urlNumber&&(e.urlNumber=void 0);(0,c.shouldEnableHsm)()&&null!=y&&(T.type="template_button_reply",T.selectedId=E,T.selectedIndex=y);var P=new u.default(T);return(0,l.appendMessage)(e.id,P.toJSON()).then(function(){var t=(0,g.sendMsgRecord)(P);return e.msgs.add(P),t})}((0,m.unproxy)(e),t,a)};var i=n(a("bebajedcaf")),r=n(a("ddfeabiaci")),o=n(a("cfadcbbiie")),s=n(a("bjigbaghc")),d=n(a("bjbdcigbdi")),c=a("beadfddidc"),l=a("ecdfgaagba"),u=n(a("cbcbdjdah")),f=n(a("cffajefeag")),h=a("icbibjcg"),p=n(a("cfejjfjhca")),g=a("bdgehigfig"),m=a("bheafeifce")},dbbiihddig:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=i(a("iidhbgeed")),u=n(a("ddhijeejag")),f=i(a("ecciceaiej")),h=i(a("cffibfiejh")),p=i(a("bbchdeehff")),g=i(a("baagejbchg")),m=i(a("biddiiafgd")),b=i(a("dhigahgdjb")),v=i(a("dcjhajfghf")),j=i(a("bhhdeihhhf")),E=i(a("baggaibbia")),y=a("cgffhfegce"),_=i(a("bjbdcigbdi")),S=i(a("jheedhagg")),C=i(a("hcjfjhdic")),A=i(a("cajbifjffe")),M=i(a("bdiiahhjbe")),T=i(a("baffhfhhda")),P=n(a("chcadgfgad")),N=n(a("dgfecega")),I=i(a("ejeehdija")),k=i(a("cdcaigjjii")),O=i(a("ebfgabegga")),R=i(a("bfdcadbbif")),w=i(a("eafibdfg")),D=i(a("caffijjhc")),L=i(a("dbjbhajgfd")),U=i(a("didfdhbecg")),G=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).state={img:a.props.startImage,hover:!1,imageSize:null},a.setRefImageContainer=function(e){a.refImageContainer=e},a.setRefImageInput=function(e){a.refImageInput=e},a.onUpload=function(e){var t=a.refImageInput;if(t)return t.click(),!0},a.removeImage=function(){a.props.onImageSet(),p.default.closeModal()},a.onRemove=function(e){var t=a.props.type===k.default.GROUP?l10n.t(952):l10n.t(956);p.default.openModal(u.createElement(m.default,{onOK:a.removeImage,okText:l10n.t(951),onCancel:function(){return p.default.closeModal()},cancelText:l10n.t(1197)},t))},a.onView=function(){var e=a.refImageContainer,t=a.props,n=t.id,i=t.attachToChat;if(e&&n){var r=b.default.assertGet(n),o={transition:"profile-viewer"};i&&(o.uim=a.props.uim),p.default.openModalMedia(u.createElement(O.default,{contact:r,profilePicThumb:r.getProfilePicThumb(),animateBorderRadius:!0,getZoomNode:function(t){t(e)}}),o)}},a.onPaste=function(e){if(a.state.contextMenu){var t=new v.default(e.clipboardData),n=(0,l.default)(t.getFiles(),function(e){return"image"===(0,y.typeFromMimetype)(e.type)});if(n.length){e.preventDefault(),e.stopPropagation(),a.contextClose();var i=n[0];a.onImagePick(i)}}},a.onImageSelected=function(e){a.contextClose();var t=e.target.files[0];if(!t)return!1;a.onImagePick(t),e.target.value=""},a.onImageReceived=function(e,t){e?T.default.loadImage(e).then(function(n){a.setState({img:e}),a.props.onImageSet(e,t)}).catch(function(e){M.default.error("PhotoPicker:onImageReceived failed to load image: "+String(e))();var t=a.props.type===k.default.GROUP?l10n.t(74):l10n.t(141);p.default.openModal(u.createElement(m.default,{onOK:function(){return p.default.closeModal()}},t))}):a.setState({img:null,imageSize:null})},a.onSearch=function(){p.default.openModal(u.createElement(P.default,{type:P.BoxModalType},u.createElement(C.default,{onFinished:a.onImageReceived})))},a.onImagePick=function(e){var t=URL.createObjectURL(e);T.default.loadImage(t).then(function(t){t&&(t.width<g.default.MIN_PIC_SIDE||t.height<g.default.MIN_PIC_SIDE)?p.default.openModal(u.createElement(m.default,{onOK:function(){return p.default.closeModal()}},l10n.t(943,{size:g.default.MIN_PIC_SIDE,_plural:g.default.MIN_PIC_SIDE}))):p.default.openModal(u.createElement(P.default,{type:P.BoxModalType},u.createElement(E.default,{img:e,onFinished:a.onImageReceived,onRetake:a.onUpload})))}).catch(function(e){var t=a.props.type===k.default.GROUP?l10n.t(74):l10n.t(141);p.default.openModal(u.createElement(m.default,{onOK:function(){return p.default.closeModal()}},t))}).finally(function(){URL.revokeObjectURL(t)})},a.onImageClick=function(e){if(a.props.readOnly)a.state.img&&a.onView();else{e.stopPropagation(),e.preventDefault();var t=[];a.props.id&&a.state.img&&t.push(u.createElement(j.default,{a8n:"mi-view-photo",key:"view",action:a.onView},l10n.t(1154))),navigator.mediaDevices&&navigator.mediaDevices.getUserMedia&&t.push(u.createElement(w.default,{key:"take",onImageTake:a.onImageReceived})),t.push(u.createElement(j.default,{a8n:"mi-upload-photo",key:"upload",action:a.onUpload},l10n.t(1126))),_.default.supportsFeature(_.default.F.BING_IMAGE_SEARCH)&&a.props.type===k.default.GROUP&&t.push(u.createElement(j.default,{a8n:"mi-search-photo",key:"search",action:a.onSearch},l10n.t(1391))),a.state.img&&t.push(u.createElement(j.default,{a8n:"mi-remove-photo",key:"remove",action:a.onRemove},l10n.t(955))),e.persist(),a.setState({contextMenu:{menu:t,event:e}})}},a.contextClose=function(){a.setState({contextMenu:null})},a.onMouseOver=function(e){a.state.hover||a.setState({hover:!0})},a.onMouseEnter=function(e){a.state.hover||a.setState({hover:!0})},a.onMouseLeave=function(e){a.state.hover&&a.setState({hover:!1})},a.onLoad=function(e){var t=e.target.clientWidth,n=e.target.clientHeight;a.setState({imageSize:{width:t,height:n}})},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e,t;this.state.img&&(e=u.createElement(N.default,{type:N.FIT_TYPE.COVER,size:this.state.imageSize},u.createElement(A.default,{src:this.state.img,crossOrigin:!1,style:{height:"100%",width:"100%"},onLoad:this.onLoad}))),(this.props.pending||this.state.img&&!this.state.imageSize)&&(t=u.createElement(h.default,null));var a=null;if(!this.props.pending&&!this.props.readOnly&&(!this.state.img||this.state.imageSize)&&(!this.state.img||this.state.contextMenu||this.state.hover)){var n="";switch(this.props.type){case k.default.GROUP:n=this.state.img?l10n.t(276):l10n.t(169);break;case k.default.PROFILE:n=this.state.img?l10n.t(281):l10n.t(175)}a=u.createElement(f.default,{icon:u.createElement(R.default,{name:"camera-light"}),text:n})}var i,r,o=this.props.pending||!this.state.imageSize&&this.state.img?function(){}:this.onImageClick;if(this.state.contextMenu&&(i=u.createElement(D.default,{displayName:"PhotoPickerContextMenu",escapable:!0,popable:!0,requestDismiss:this.contextClose},u.createElement(L.default,{contextMenu:this.state.contextMenu}))),this.props.pending||!this.state.img||this.state.img&&!this.state.imageSize){var s=this.props.type===k.default.PROFILE?"default-user":"default-group";r=u.createElement("div",{className:I.default.defaultIcon},u.createElement(R.default,{name:s}))}return u.createElement("div",{className:I.default.container},u.createElement("div",{className:I.default.body,onClick:o,onMouseOver:this.onMouseOver,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,onPaste:this.onPaste,ref:this.setRefImageContainer,dir:"ltr"},u.createElement("div",{className:I.default.imageContainer},e,r),u.createElement(U.default,{transitionName:"fade"},t,a)),u.createElement("input",{ref:this.setRefImageInput,type:"file",accept:"image/gif,image/jpeg,image/jpg,image/png",style:{display:"none"},onChange:this.onImageSelected}),i)}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.startImage?{img:e.startImage}:{img:e.startImage,imageSize:null}}}]),t}(u.Component),x=(0,S.default)(G);t.default=x},dbbijbhaai:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=n(a("ddhijeejag")),u=i(a("effbcehec")),f=a("bcdeiabhcf"),h=i(a("baagejbchg")),p=i(a("chdbbjcefd")),g=i(a("bcifhbgija")),m=i(a("bcjcbbafcj")),b=i(a("bfdcadbbif")),v=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).imgRef=l.createRef(),a.txtRef=l.createRef(),a._refContainer=l.createRef(),a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){var e=this.imgRef.current,t=this.txtRef.current;this.props.animate?((0,g.default)(e,{scale:[1,0],opacity:[1,0]},{delay:1340,duration:180,easing:[.05,1.02,0,1.01]}),(0,g.default)(t,{translateY:[0,80],opacity:[1,0]},{delay:1300,duration:140,easing:[.05,1.02,0,1.01]})):(e&&(e.style.opacity="1"),t&&(t.style.opacity="1"))}},{key:"animatePanel",value:function(e,t){var a,n,i=null===(a=this._refContainer)||void 0===a?void 0:null===(n=a.current)||void 0===n?void 0:n.clientWidth;if(null==i||e===t)return!1;var r=i/(e-t);return(0,f.animateConversationPanel)(this._refContainer.current,r)}},{key:"containsDOMNode",value:function(e){var t;return!(null===(t=this._refContainer)||void 0===t||!t.current)&&this._refContainer.current.contains(e)}},{key:"render",value:function(){return l.createElement("div",{className:p.default.intro,ref:this._refContainer},l.createElement("div",{className:p.default.body},l.createElement("div",{ref:this.imgRef,"data-asset-intro-image":!0,className:p.default.image}),l.createElement("div",{ref:this.txtRef,className:p.default.textContainer},l.createElement("h1",{"data-a8n":u.default.key("intro-title"),className:p.default.title},l10n.t(633)),l.createElement("div",{"data-a8n":u.default.key("intro-text"),className:p.default.text},l10n.t(629)),l.createElement(j,null))))}}]),t}(l.PureComponent),j=function(){var e,t='<a href="https://www.whatsapp.com/download" target="_blank">'.concat(l10n.t(630),"</a>");switch(m.default.os){case h.default.OS_TYPE.MAC:e=l10n.t(631,{get_it_here:t});break;case h.default.OS_TYPE.WINDOWS:e=l10n.t(632,{get_it_here:t})}return e?l.createElement(E,null,l.createElement("span",{className:p.default.secondaryIcon},l.createElement(b.default,{name:"laptop"})),l.createElement("div",{dangerouslySetInnerHTML:{__html:e},className:p.default.secondaryTextBody})):null},E=function(e){var t=e.children;return l.createElement("div",{className:p.default.secondary},l.createElement("div",{className:p.default.divider}),l.createElement("div",{className:p.default.secondaryText},t))},y=v;t.default=y},dbcbifhbge:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.genInvocationId=function(){return n++},t.extractInvocationId=function(e){if(null!=e&&"number"==typeof e)return e};var n=1},dbcedfihd:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.findLinks=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2?arguments[2]:void 0;if(!N.test(e))return[];P.lastIndex=0;var n,i=[];for(;n=I(e);){var r=O(n,t,a);r&&i.push(r)}return i},t.findLink=k,t.validateEmail=function(e){var t=k(e);return t&&t.url===e&&"mailto:"===t.scheme&&t.username&&!t.params&&!t.anchor?t:null};var i=n(a("bdiiahhjbe")),r=a("eajefhgiag"),o=a("hagbbjbah").TLD,s=/^https?:\/\/$/gi,d="\\w|[^\\s\0-]|%[0-9a-f][0-9a-f]",c="(?:".concat(d,")|(?:").concat(d,")(?:").concat(d,"|-)*(?:").concat(d,")"),l="(?!_)(?:(?:".concat(c,")\\.)+(?:").concat(o,")(?!\\.").concat(c,")"),u="(?:".concat(d,"|[^\\s%])"),f="/".concat(u,"*?"),h="[".concat("+@!.?,(\\[{<:","]*(?!").concat(u,"|#)"),p="\\?(?!".concat(h,")").concat(u,"*?"),g="#".concat(u,"*?"),m="\\b\\w[".concat("0-9a-z!#$%&'*+/=?^_`{|}~\\-","]*(?:\\.[").concat("0-9a-z!#$%&'*+/=?^_`{|}~\\-","]+)*"),b="(".concat("^|\\W\\.|[^/\\w.]|_",")(").concat("(?:http|https)://|mailto:",")?(").concat(m,"@)?(").concat(l,")(?:(?!").concat(c,")|(?=_))(?:(?=[^:/?#])|(").concat(":\\d{1,5}",")?(").concat(f,")?(").concat(p,")?(").concat(g,")?(?=").concat(h,"))"),v=1,j=2,E=3,y=4,_=5,S=6,C=7,A=8,M=new Map([[34,34],[41,40],[62,60],[93,91],[125,123],[187,171],[8217,8216],[8221,8220]]),T=new Map([[34,34],[40,41],[60,62],[91,93],[123,125],[171,187],[8216,8217],[8220,8221]]),P=new RegExp("".concat(b),"ig"),N=new RegExp("\\.(?:".concat(o,")"),"i");function I(e){try{return P.exec(e)}catch(t){return i.default.assert(!1,"linkify-regex-error","text size: ".concat(e.length,", error: ").concat(String(t)))(t),null}}function k(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2?arguments[2]:void 0;return P.lastIndex=0,O(I(e),t,a)}function O(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2?arguments[2]:void 0;if(!e)return null;var n=e[v].length,i=e[0],o=e.index+n,d=e.index;if("_"===e[v]&&d-1&&/\S/.test(e.input[d-1]))return null;if(e[_]){var c=parseInt(e[_].slice(1),10);if("0"===e[_][1]||!(0<c&&c<65536))return null}var l=[A,C,S].find(function(t){return e&&e[t]})||0;if(l){var u=[],f=e[l];"_"===f.slice(-1)&&"_"===i[o-1]&&(i=i.slice(0,-1),e[l]=f=f.slice(0,-1));for(var h=0,p=0,g=0;g<f.length;g++){var m=f.charCodeAt(g);m===p?0===(p=u.pop()||0)&&(h=g):T.has(m)?(0!==p&&u.push(p),p=T.get(m)):M.has(m)||0===p&&(h=g)}for(;0!==u.length;)u.pop();h!==f.length-1?(i=e.slice(j,l).filter(function(e){return e}).join("")+f.slice(0,h+1),P.lastIndex=o+i.length):i=i.slice(n)}else i=i.slice(n);var b=i,N=e[j],I=Boolean(N&&N.match(s));if(t&&!I)return null;N?N=N.toLowerCase():(N=0===b.toLowerCase().indexOf("irc.")?"irc://":0===b.toLowerCase().indexOf("ftp.")?"ftp://":e[E]?"mailto:":"http://",b=N+b);var k=e[y];return{href:b,url:i,index:o,input:e.input,scheme:N,username:e[E],domain:k,port:e[_],path:e[S],params:e[C],anchor:e[A],isHttp:I,suspiciousCharacters:a?(0,r.findSuspiciousCharacters)(k,a):void 0}}},dbcfhfbbbf:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("eaidjcib")),r=n(a("ffceefejc")),o=n(a("cjedcdbdii")),s=n(a("dbjagcfebh")),d=n(a("bfjfgcfade")),c=n(a("dfcggebdjj")),l=n(a("cdheafhdbh")),u=n(a("ccchcigijb")),f=n(a("eccjbdjafd")),h=n(a("eaecbgafff")),p=n(a("bfccafhbbb")),g=n(a("ecidjifge")),m=new u.default,b=new d.default,v=function(e){function t(){return(0,i.default)(this,t),(0,r.default)(this,(0,o.default)(t).apply(this,arguments))}return(0,s.default)(t,e),t}((0,f.default)([c.default,b,m,h.default]));t.default=v,v.MentionSuggestions=(0,g.default)(p.default,{plugin:m}),v.EmojiSuggestions=(0,g.default)(l.default,{plugin:b})},dbcfhhdejc:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.formatUnknownMsgText=function(e){return e.isSentByMe?i.default.t(1114):"phone"===e.subtype?i.default.t(1113):r.default.isElectron?i.default.t(1112):i.default.t(1115)},t.formatUnknownMsgNotification=function(e){return"phone"===e.subtype?i.default.t(1113):i.default.t(1115)};var i=n(a("fffdgbfji")),r=n(a("bcjcbbafcj"))},dbciicjiad:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("bhfcfhafdj")),o=i(a("eaidjcib")),s=i(a("dgcdacjddi")),d=i(a("ffceefejc")),c=i(a("cjedcdbdii")),l=i(a("djecdhecha")),u=i(a("dbjagcfebh")),f=i(a("ceffhbhahb")),h=n(a("ddhijeejag")),p=i(a("effbcehec")),g=i(a("baagejbchg")),m=a("dghhefgjhc"),b=i(a("bhhdeihhhf")),v=i(a("dbjhghahdd")),j=i(a("bjbdcigbdi")),E=a("dhfbfehaef"),y=i(a("fffdgbfji")),_=i(a("bijffg")),S=i(a("icghcjegh")),C=i(a("cahcacghci")),A=i(a("eceadcicaf")),M=i(a("bfbggcdbfb")),T=i(a("biecbbiiee")),P=i(a("cahfddcdga")),N=i(a("becfabjeeg")),I=i(a("bfdcadbbif")),k=i(a("fbjjefaic")),O=i(a("caffijjhc")),R=i(a("dbjbhajgfd")),w=i(a("didfdhbecg")),D=function(){},L=function(e){function t(){var e,a;(0,o.default)(this,t);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return(a=(0,d.default)(this,(e=(0,c.default)(t)).call.apply(e,[this].concat(i)))).state={searchText:"",searchLabel:null,searchKind:null,isSearching:!1,contextMenu:null},a._emojiInputComponent=(0,v.default)(),a.refInput=h.createRef(),a.refContainer=h.createRef(),a.disableOnBlur=!1,a.onBlur=function(){a.disableOnBlur||a.props.setTimeout(function(){a.state.searchText||a.state.searchLabel||a.state.searchKind||a.onCancel()},0)},a._handleChange=function(e){a.setState({searchText:e},function(){a.props.onSearch(e,{label:a.state.searchLabel,kind:a.state.searchKind})})},a.renderSmbSearchKindDropDownItem=function(e,t,n){var i="chat_filter_".concat(e);return h.createElement(b.default,{a8n:i,key:i,action:a.updateSearchFilter.bind((0,l.default)(a),{kind:e})},h.createElement("div",{className:C.default.kind},h.createElement(I.default,{name:t}),h.createElement("div",{className:C.default.kindName},n)))},a.renderMsgTypeFilter=function(){return j.default.supportsFeature(j.default.F.LABELS_EDIT)&&"chat-msg-search"!==a.props.type?[h.createElement("div",{className:C.default.filterTitle,key:"chat_filter_kind_header"},y.default.t(1201)),a.renderSmbSearchKindDropDownItem(g.default.SMB_SEARCH_FILTERS.UNREAD,"search-unread",y.default.t(1055)),a.renderSmbSearchKindDropDownItem(g.default.SMB_SEARCH_FILTERS.GROUP,"group",y.default.t(1299)),a.renderSmbSearchKindDropDownItem(g.default.SMB_SEARCH_FILTERS.BROADCAST,"search-broadcasts",y.default.t(1054))]:[]},a.renderFilterSelectorMenu=function(){var e=_.default.toArray().reduce(function(e,t){return t.name&&t.count&&0!==t.count?[].concat((0,r.default)(e),[h.createElement(b.default,{a8n:"label_item_".concat(t.id),key:"label_item_".concat(t.id),action:a.updateSearchFilter.bind((0,l.default)(a),{label:t.id})},h.createElement("button",{className:C.default.labels},h.createElement(S.default,{labels:[t.id],showName:!0,theme:"label-filter"})))]):e},[]),t=0===e.length?null:h.createElement("div",{className:C.default.filterTitle,key:"chat_filter_label_header"},y.default.t(1057));return[].concat((0,r.default)(a.renderMsgTypeFilter()),[t],(0,r.default)(e))},a.onCancel=function(){var e=a.refInput&&a.refInput.current;e&&!a.state.contextMenu&&(e.reset(),e.blur(),a.setState({searchLabel:null,searchKind:null,isSearching:!1}),a.props.onSearch("",void 0))},a.onReset=function(e){var t;e.stopPropagation(),a.focus();var n=null===(t=a.refInput)||void 0===t?void 0:t.current;n&&(n.reset(),a.setState({searchLabel:null,searchKind:null}),a.props.onSearch("",void 0))},a.onSearchOn=function(){a.setState({isSearching:!0}),a.props.setTimeout(a.focus,0)},a.focus=function(){(0,P.default)(a.refInput.current).focus()},a.showFilterSelector=function(e){var t,n=a.props.smbFilterSession;n&&(t=n.newSessionId(),new M.default.ChatFilterEvent({actionType:M.default.CHAT_FILTER_ACTION_TYPES.OPEN,sessionId:t}).commit()),e.stopPropagation(),a.setState({contextMenu:{menu:a.renderFilterSelectorMenu(),anchor:e.target}})},a.contextClose=function(){a.setState({contextMenu:null})},a.updateSearchFilter=function(e){var t,n=a.props.smbFilterSession;a.state.contextMenu&&a.contextClose(),a.setState({searchLabel:e.label,searchKind:e.kind}),n&&(t=n.sessionId,new M.default.ChatFilterEvent({actionType:M.default.CHAT_FILTER_ACTION_TYPES.SELECT_FILTER,filterType:M.default.CHAT_FILTER_TYPES.OTHER_LABELS,sessionId:t}).commit()),a.props.onSearch("",e)},a.labelSelectorMouseEnter=function(){j.default.supportsFeature(j.default.F.LABELS_DISPLAY)&&(a.disableOnBlur=!0)},a.labelSelectorMouseLeave=function(){a.disableOnBlur=!1},a.onContextClose=function(){a.setState({contextMenu:null})},a.constructSearchPlaceholder=function(e){return h.createElement("div",{"data-a8n":p.default.key("input-placeholder"),className:C.default.labelSearchPlaceholder},e)},a.hasActiveLabel=function(){return _.default.toArray().some(function(e){return!(!e.name||!e.count||0===e.count)})},a}return(0,u.default)(t,e),(0,s.default)(t,[{key:"componentWillUnmount",value:function(){this.onCancel()}},{key:"componentDidMount",value:function(){var e=this;this.checkIfActive(),j.default.supportsFeature(j.default.F.LABELS_EDIT)&&this.props.listeners.add(T.default,"new_msg_sent",function(){(e.state.searchKind||e.state.searchLabel)&&e.onCancel()})}},{key:"componentDidUpdate",value:function(){this.checkIfActive()}},{key:"indicateFocus",value:function(){(0,E.indicateFocus)(this.refContainer.current,["#fbfbfb","#D9F3FF"])}},{key:"checkIfActive",value:function(){if(this.state.isSearching&&!this.state.searchText&&!this.state.searchLabel&&!this.state.searchKind){var e=this.refContainer&&this.refContainer.current;e&&e.contains(document.activeElement)||this.onCancel()}}},{key:"cursorIsAtEnd",value:function(){return(0,P.default)(this.refInput.current).cursorIsAtEnd()}},{key:"select",value:function(){(0,P.default)(this.refInput.current).select()}},{key:"reset",value:function(){var e,t=null===(e=this.refInput)||void 0===e?void 0:e.current;t&&t.reset()}},{key:"render",value:function(){var e,t=this.props,a=t.loading,n=t.placeholder,i=t.spellCheck,r=t.listFilterEnabled,o=this.state,s=o.isSearching,d=o.searchText,c=o.searchLabel,l=o.searchKind,u=null;s&&(a?u=h.createElement("div",{className:C.default.iconSpinner,key:"icon-clear-search",onClick:this.onReset},h.createElement(N.default,{size:20,stroke:5,color:"highlight"})):d.length||c||l?u=h.createElement("button",{className:C.default.iconCloseSearch,key:"icon-clear-search",onClick:this.onReset},h.createElement(I.default,{name:"x-alt"})):j.default.supportsFeature(j.default.F.LABELS_DISPLAY)&&this.hasActiveLabel()&&r&&(u=h.createElement("button",{className:C.default.iconLabelSelect,key:"icon-select-label",onClick:this.showFilterSelector},h.createElement(I.default,{name:"filter"})))),s&&(e=h.createElement(O.default,{displayName:"ListSearch",escapable:!0,requestDismiss:this.onCancel,requestFocus:this.focus}));var b,v,E=n||y.default.t(1016),S=s?this.onCancel:this.onSearchOn,A=(0,f.default)(C.default.listSearch,{[C.default.active]:s||c||l});this.state.contextMenu&&(b=h.createElement(O.default,{displayName:"ChatContextMenu",escapable:!0,popable:!0,requestDismiss:this.onContextClose},h.createElement(R.default,{contextMenu:this.state.contextMenu}))),!d&&j.default.supportsFeature(j.default.F.LABELS_DISPLAY)&&(c?v=this.constructSearchPlaceholder(y.default.t(642,{labelName:_.default.assertGet(c).name})):l===g.default.SMB_SEARCH_FILTERS.GROUP?v=this.constructSearchPlaceholder(y.default.t(1056)):l===g.default.SMB_SEARCH_FILTERS.UNREAD?v=this.constructSearchPlaceholder(y.default.t(1058)):l===g.default.SMB_SEARCH_FILTERS.BROADCAST&&(v=this.constructSearchPlaceholder(y.default.t(1053))));var M=this._emojiInputComponent;return h.createElement("div",{ref:this.refContainer,onMouseEnter:this.labelSelectorMouseEnter,onMouseLeave:this.labelSelectorMouseLeave,className:A},h.createElement("button",{"data-a8n":p.default.key("icon-search-morph"),className:C.default.iconSearchMorph,onMouseDown:S},h.createElement("div",{className:(0,f.default)(C.default.iconMorph,C.default.iconMorphBack)},h.createElement(I.default,{name:"back-blue"})),h.createElement("div",{className:(0,f.default)(C.default.iconMorph,C.default.iconMorphSearch)},h.createElement(I.default,{name:"search"}))),h.createElement(w.default,{transitionName:"pop"},u,b),h.createElement("div",{"data-a8n":p.default.key("input-placeholder"),className:C.default.inputPlaceholder},d?null:E),v,h.createElement("label",{className:C.default.contInputSearch},h.createElement(M,{ref:this.refInput,theme:"list-search",tabOrder:m.TAB_ORDERS.CHAT_LIST_SEARCH,spellCheck:i,onBlur:this.onBlur,onFocus:s?D:this.onSearchOn,onChange:s?this._handleChange:D,onEnter:this.props.onEnter})),e)}}]),t}(h.Component),U=function(e){function t(){return(0,o.default)(this,t),(0,d.default)(this,(0,c.default)(t).apply(this,arguments))}return(0,u.default)(t,e),(0,s.default)(t,[{key:"focus",value:function(){this.getComponent().focus()}},{key:"cursorIsAtEnd",value:function(){return this.getComponent().cursorIsAtEnd()}},{key:"reset",value:function(){this.getComponent().reset()}},{key:"select",value:function(){this.getComponent().select()}}]),t}((0,k.default)((0,A.default)(L)));t.default=U},dbdagcfdjh:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.auth,a=e.directPath,n=e.encFilehash,c=e.hostname,l=e.type,u=e.signal,f=e.onProgress,h=(0,s.default)({auth:t,directPath:a,encFilehash:n,hostname:c,type:l}),p={encFilehash:n,type:l,url:h};return d.default.log("mmsDownload: start",p)(),(0,o.default)(h,{signal:u,onProgress:f}).then(function(e){if(!e.ok)switch(e.status){case 401:throw new r.MMSUnauthorizedError("mmsDownload",{url:h});case 403:throw new r.MMSForbiddenError("mmsDownload",{url:h});case 404:case 410:throw new r.MediaNotFoundError("mmsDownload",{url:h,status:e.status});case 507:throw new r.MMSThrottleError("mmsDownload",{url:h});default:throw new r.HttpStatusCodeError(e.status,"mmsDownload",{url:h})}return e.arrayBuffer()}).then(function(t){return(0,i.default)(t).then(function(a){if(a!==e.encFilehash)throw new r.HttpInvalidResponseError("mmsDownload: filehash mismatch",{url:h,encFilehash:a,expectedEncFilehash:e.encFilehash});return t})}).then(function(e){return d.default.log("mmsDownload: success",p)(),e}).catch(function(e){throw e instanceof r.MediaNotFoundError||e instanceof r.AbortError?d.default.log("mmsDownload: expected error",p,e)():d.default.error("mmsDownload: error",p,e)(),e})};var i=n(a("baeghbhigj")),r=a("fgeddfbg"),o=n(a("dgjijbgdai")),s=n(a("ecbacgcajj")),d=n(a("bdiiahhjbe"))},dbdfbgehgj:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ChatCollection=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("djecdhecha")),c=i(a("cjedcdbdii")),l=i(a("bjehdcaaj")),u=i(a("dbjagcfebh")),f=i(a("bgeijhbbad")),h=i(a("jcfacighg")),p=i(a("iidhbgeed")),g=i(a("dbafiicfja")),m=i(a("bebajedcaf")),b=i(a("eaaagccfda")),v=n(a("cgcgbfbffj")),j=a("dfdebdgdei"),E=i(a("ebjaejiaba")),y=i(a("dfjfgdhbjj")),_=i(a("baagejbchg")),S=n(a("bjigbaghc")),C=a("baccfdhebd"),A=a("ddjgcfjicj"),M=a("bgabieacgg"),T=i(a("bihjahgcja")),P=i(a("bijffg")),N=i(a("bdiiahhjbe")),I=i(a("cffajefeag")),k=n(a("ebggjhghhi")),O=i(a("bechejbabh")),R=i(a("jdigiabic")),w=a("cjjjhbdicf"),D=a("dgacffdjd"),L=a("ebffbebefe"),U=i(a("difbicaihd")),G=i(a("fagbfehid")),x=i(a("bhggeigghg")),F=a("dcjbdhhjge"),B=i(a("egjjcjcg")),V=i(a("jccfhaecf")),H=n(a("bgeajihhc")),W=function(e){function t(){var e;return(0,r.default)(this,t),(e=(0,s.default)(this,(0,c.default)(t).call(this))).notSpam={},e.promises={sendUnstarAll:null},e._sortEnabled=!1,e.enableSortListener(),e.listenTo(H.default,"change:stream",function(){H.default.stream===H.STREAM.RESUMING&&e.forEach(function(e){e.pendingMsgs=!1})}),e.listenToOnce((0,d.default)(e),"sort",(0,b.default)(e.setIndexes,100)),e}return(0,u.default)(t,e),(0,o.default)(t,[{key:"enableSortListener",value:function(e){this._sortEnabled||(this.listenTo(this,"change:t change:pin change:shouldAppearInList",this.sort),e&&this.sort(),this._sortEnabled=!0)}},{key:"disableSortListener",value:function(){this._sortEnabled&&(this.stopListening(null,null,this.sort),this._sortEnabled=!1)}},{key:"setIndexes",value:function(){this.forEach(function(e,t){e.initialIndex=t})}},{key:"active",value:function(){var e=this.filter(function(e){return e.active})[0];return e||void 0}},{key:"find",value:function(e){return(0,l.default)((0,c.default)(t.prototype),"find",this).call(this,e).then(function(e){return null==e?e:(0,C.createLocal)(e.id,{id:e.id.toString(),t:e.t,unreadCount:e.unreadCount,archive:e.archive,isReadOnly:e.isReadOnly,modifyTag:e.modifyTag,notSpam:e.notSpam,pin:e.pin,changeNumberOldJid:null!=e.changeNumberOldJid?e.changeNumberOldJid.toString():void 0,changeNumberNewJid:null!=e.changeNumberNewJid?e.changeNumberNewJid.toString():void 0,muteExpiration:e.muteExpiration}).then(function(){return e})})}},{key:"_find",value:function(e){return Promise.resolve({id:e,createdLocally:!0})}},{key:"_findQuery",value:function(e){var t=this,a={};return(0,M.find)(!!e.retry,a).then(function(e){return"preempted"===e?Promise.reject("chats preempted"):(S.default.platform===S.PLATFORMS.IPHONE&&((0,m.default)(e)?x.default.Msg.trigger(_.default.COLLECTION_HAS_SYNCED):setTimeout(function(){x.default.Msg.trigger(_.default.COLLECTION_HAS_SYNCED)},2500)),t.trigger(_.default.COLLECTION_HAS_SYNCED,a),Promise.resolve(e))})}},{key:"sync",value:function(){return this.findQuery({}).catch(A.WapDrop,function(){}),Promise.all([k.waitForBBEvent(this,_.default.COLLECTION_HAS_SYNCED),x.default.Msg.hasSynced()])}},{key:"getKeysForResyncMsgs",value:function(){return this.filter(function(e){return e.shouldAppearInList}).map(function(e){var t=e.getAckedPhoneProps(),a=e.lastReceivedKey;return a&&(t.id=a.id,t.fromMe=a.fromMe.toString(),t.participant=a.participant),t})}},{key:"resyncMessages",value:function(){var e=this;N.default.log("ChatStore:resyncMessages")();var t=this.getKeysForResyncMsgs();return(0,w.resyncMessages)(t).then(function(t){if(t.status>=400)return N.default.error("ChatStore:resyncMessages resume error "+t.status)(),Promise.reject(new Error("ChatStore:resyncMessages resume error "+t.status));N.default.log("ChatStore:resyncMessages resume success")();try{e.disableSortListener(),t.data.forEach(function(t){if(t.disableUnreadAnchor=!1,t.firstUnreadKey=void 0,t.keys&&1===t.keys.length){var a=t.keys[0];t.firstUnreadKey=new I.default({id:a[0],fromMe:a[1],participant:a[2],remote:t.id})}if("delete"!==t.type&&!V.default.isPSA(t.id)){var n=x.default.Contact.get(t.id);if(n){if(t.name){var i={name:t.name};(0,F.updateLocal)(n.id,i).then(function(){n.set(i)})}}else x.default.Contact.add({id:t.id,name:t.name})}var r=e.get(t.id);if(r)if("clear"===t.type){r.resetMediaMsgs();var o=[];r.msgs.forEach(function(e){return o.push(e)}),r.msgChunks.length&&r.msgChunks.forEach(function(e){e.forEach(function(e){return o.push(e)})}),r.set({t:t.t,unreadCount:t.unreadCount,createdLocally:!1,archive:t.archive,isReadOnly:t.isReadOnly,modifyTag:t.modifyTag,msgs:[],notSpam:t.notSpam,unreadMsgAnchor:void 0,disableUnreadAnchor:t.disableUnreadAnchor,pendingMsgs:t.pendingMsgs,pin:t.pin,changeNumberOldJid:t.changeNumberOldJid,changeNumberNewJid:t.changeNumberNewJid,muteExpiration:t.muteExpiration,ephemeralDuration:t.ephemeralDuration,ephemeralSettingTimestamp:t.ephemeralSettingTimestamp}),o.forEach(function(e){e.delete()}),N.default.log("model:chat:resume: cleared chat for "+t.id)()}else"delete"===t.type?(r.delete(),N.default.log("model:chat:resume: deleted chat for "+t.id)()):r.set(t,{merge:!0});else e.add(t)}),e.enableSortListener(!0)}catch(e){N.default.error("model:chat:resume error in processing reply:"+String(e))()}Promise.delay(100).then(function(){t.checksum&&(0,D.resyncContacts)(t.checksum),t.statusChecksum&&x.default.StatusV3.sync(t.statusChecksum),t.quickRepliesChecksum&&O.default.sync(t.quickRepliesChecksum),t.labelsChecksum&&P.default.sync(t.labelsChecksum),t.stickerPackChecksum&&G.default.sync(t.stickerPackChecksum),null!=t.recentStickersChecksum&&R.default.sync(t.recentStickersChecksum),null!=t.starredStickersChecksum&&U.default.sync(t.starredStickersChecksum)}).catch(function(e){N.default.error("model:chat:resume error in processing checksum:"+String(e))()})}).catch(A.WapDrop,function(e){return N.default.error("ChatStore:resyncMessages resume dropped")(),Promise.reject(e)})}},{key:"unstarAllMessages",value:function(e,t){return(0,L.unstarAllMessages)(e,t)}},{key:"forwardMessagesToChats",value:function(e,t){var n=a("dgjddffcfg"),i=Promise.map(e,function(e){return Promise.props({message:e,canForward:e.canForward()})});return Promise.map(t,function(e){var t;return t=e.isUser&&e.contact.isBlocked()?(0,j.unblockContact)(e.contact):Promise.resolve(!0),Promise.all([i,t]).spread(function(t,a){var n=(0,g.default)((0,p.default)(t,{canForward:!0}),"message"),i=(0,g.default)((0,p.default)(t,{canForward:!1}),"message");return Promise.props({chat:e,undelivered:e.forwardMessages(n,!0),canForward:n,cannotForward:i})})}).then(function(e){var t=(0,h.default)(e.map(function(e){var t=e.chat,a=e.undelivered,i=e.canForward,r=e.cannotForward,o=null;return(a.length||r.length)&&(o=n.formatForwardError({chat:t,undelivered:a,canForward:i,cannotForward:r})),o?{chat:t,reason:o}:null}));if(t.length)throw new T.default(t);return!0})}},{key:"saveToCache",value:function(){if(S.default.me){var e=t.cachePolicy.id;N.default.log("ChatCollection:saveToCache save: ".concat(String(e)))();var a=this.map(function(e,t){var a=e.toJSON(),n=t<20?Math.min(e.unreadCount+20,50):Math.min(Math.max(3,e.unreadCount),20);return a.msgs=e.msgs?e.msgs.slice(-n).map(function(e){return(0,f.default)(e.toJSON(),function(e){return void 0!==e})}):[],a});B.default.setCollection(e,a,!0)}}},{key:"onResume",value:function(){var e=this.active();e&&e.presence.subscribe()}},{key:"delete",value:function(){(0,l.default)((0,c.default)(t.prototype),"delete",this).call(this),this.listenToOnce(this,"sort",(0,b.default)(this.setIndexes,100))}}]),t}(v.default);t.ChatCollection=W,W.model=E.default,W.comparator=y.default,W.cachePolicy={id:"chat",policy:v.CACHE_POLICY.IMMEDIATE,trigger:"add sort remove reset change:id change:t change:unreadCount change:archive change:isReadOnly change:isAnnounceGrpRestrict change:modifyTag change:muteExpiration change:name change:notSpam change:pin change:changeNumberOldJid change:changeNumberNewJid change:lastReceivedKey change:msg:ack msgs:loadEarlier"};var Y=new W;t.default=Y},dbdjchfgia:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.PlayerState=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=i(a("bhabhhjdch")),u=i(a("dhgeffcgbg")),f=n(a("ddhijeejag")),h=i(a("cehheibgje"));function p(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function g(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?p(Object(a),!0).forEach(function(t){(0,l.default)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):p(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function m(e){return g({},e,{playerVars:g({},e.playerVars,{autoplay:0,start:0,end:0})})}var b={UNSTARTED:-1,ENDED:0,PLAYING:1,PAUSED:2,BUFFERING:3,CUED:5};t.PlayerState=b;var v=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).listeners=[],a.onPlayerReady=function(e){return a.props.onReady(e)},a.onPlayerError=function(e){return a.props.onError(e)},a.onPlayerStateChange=function(e){switch(a.props.onStateChange(e),e.data){case b.ENDED:a.props.onEnd(e);break;case b.PLAYING:a.props.onPlay(e);break;case b.PAUSED:a.props.onPause(e);break;default:return}},a.onPlayerPlaybackRateChange=function(e){return a.props.onPlaybackRateChange(e)},a.onPlayerPlaybackQualityChange=function(e){return a.props.onPlaybackQualityChange(e)},a.createPlayer=function(){var e=g({},a.props.opts,{videoId:a.props.videoId});a.internalPlayer=(0,h.default)(a.container,e),a.listeners.push(a.internalPlayer.on("ready",a.onPlayerReady),a.internalPlayer.on("error",a.onPlayerError),a.internalPlayer.on("stateChange",a.onPlayerStateChange),a.internalPlayer.on("playbackRateChange",a.onPlayerPlaybackRateChange),a.internalPlayer.on("playbackQualityChange",a.onPlayerPlaybackQualityChange))},a.resetPlayer=function(){return a.internalPlayer.destroy().then(a.createPlayer)},a.updatePlayer=function(){var e=a.internalPlayer.getIframe();a.props.id?e.setAttribute("id",a.props.id):e.removeAttribute("id"),a.props.className?e.setAttribute("class",a.props.className):e.removeAttribute("class")},a.updateVideo=function(){if(null!=a.props.videoId){var e,t,n=!1;"playerVars"in a.props.opts&&(n=1===a.props.opts.playerVars.autoplay,"start"in a.props.opts.playerVars&&(e=a.props.opts.playerVars.start),"end"in a.props.opts.playerVars&&(t=a.props.opts.playerVars.end));var i={videoId:a.props.videoId,startSeconds:e,endSeconds:t};n?a.internalPlayer.loadVideoById(i):a.internalPlayer.cueVideoById(i)}else a.internalPlayer.stopVideo()},a.refContainer=function(e){a.container=e},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){this.createPlayer()}},{key:"componentDidUpdate",value:function(e){(function(e,t){return e.id===t.id||e.className===t.className})(e,this.props)&&this.updatePlayer(),function(e,t){return!(0,u.default)(m(e.opts),m(t.opts))}(e,this.props)&&this.resetPlayer(),function(e,t){if(e.videoId!==t.videoId)return!0;var a=e.opts.playerVars||{},n=t.opts.playerVars||{};return a.start!==n.start||a.end!==n.end}(e,this.props)&&this.updateVideo()}},{key:"componentWillUnmount",value:function(){var e=this;this.listeners.forEach(function(t){e.internalPlayer.off(t)}),this.internalPlayer.destroy()}},{key:"render",value:function(){return f.createElement("span",{className:this.props.containerClassName},f.createElement("div",{id:this.props.id,className:this.props.className,ref:this.refContainer}))}}]),t}(f.Component);v.defaultProps={id:null,className:null,opts:{playerVars:{}},containerClassName:"",onReady:function(){},onError:function(){},onPlay:function(){},onPause:function(){},onEnd:function(){},onStateChange:function(){},onPlaybackRateChange:function(){},onPlaybackQualityChange:function(){}};var j=v;t.default=j},dbefabiacb:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.getContactsToRemove=function(e){var t=[],a={};return e.forEach(function(e){e&&(a[e.id]=!0)}),i.default.Contact.forEach(function(e){var n=e.id;!(e.isUser||e.isGroup&&!i.default.Chat.get(n))||a[n.toString()]||e.isPSA||t.push(e)}),t};var i=n(a("bhggeigghg"))},dbegdchadg:function(e,t,a){"use strict";var n=(0,a("cfjecfhbfg")(a("chgaccicf")).default)({FORWARD:void 0,BACKWARD:void 0});e.exports=function(e,t){var a=window.getSelection();if(!a||!a.rangeCount)return null;var i=a.getRangeAt(0);if(!i.collapsed)return null;var r=i.startContainer,o=i.startOffset;if(r===e){var s=r.childNodes,d=s.length;if(t===n.FORWARD&&o>d||t===n.BACKWARD&&!o)return null;var c=s[o-(t===n.BACKWARD?1:0)];return c instanceof Element?c:null}var l=r.length===o;if(t===n.BACKWARD&&o)return null;if(t===n.FORWARD&&!l)return null;var u=r[t===n.BACKWARD?"previousSibling":"nextSibling"];return u instanceof Element?u:null},e.exports.Direction=n},dbfaahhhec:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("djecdhecha")),l=i(a("dbjagcfebh")),u=i(a("ceffhbhahb")),f=n(a("ddhijeejag")),h=a("ejbdjaifi"),p=i(a("ihgbiaiaa")),g=i(a("bffjfbgbg")),m=i(a("bbjadhadbg")),b=i(a("ihfccfgdf")),v=i(a("eedjbihej")),j=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).hasResolved=!1,a._renderImage=function(e){var t=a.props.onClick;return e?f.createElement("div",{className:a.getItemClassName(),style:{backgroundImage:"url('".concat(e,"')"),backgroundSize:"cover",backgroundPosition:"center center",cursor:"".concat(t?"pointer":"auto")},ref:(0,h.GetRef)("image",(0,c.default)(a)),onClick:a._handleClick}):null},a._renderImagePreview=function(){var e=a.props.mediaData,t=e.preview&&e.preview.url();return f.createElement("div",{className:(0,u.default)(a.getItemClassName(),p.default.loadingImageContainer)},t&&f.createElement("div",{className:p.default.loadingImage,style:{backgroundImage:"url('".concat(t,"')"),backgroundSize:"cover",backgroundPosition:"center center",cursor:"auto"}}))},a._handleClick=function(){var e=a.props,t=e.onClick,n=e.imageModel;t&&n&&t(a.image,n)},a}return(0,l.default)(t,e),(0,o.default)(t,[{key:"componentDidUpdate",value:function(){var e=this.props,t=e.incrementResolvedCount,a=e.renderFallbackImage,n=e.mediaData;!t||this.hasResolved||a||n.mediaStage!==g.default.STAGE.RESOLVED||(t(),this.hasResolved=!0)}},{key:"getItemClassName",value:function(){var e=this.props.className;return(0,u.default)({[p.default.item]:!e},e)}},{key:"_renderFallbackImage",value:function(){var e=this.props.mediaData;return f.createElement(m.default,{mediaData:e,placeholderRenderer:this._renderImagePreview},this._renderImage)}},{key:"_renderOverlayTile",value:function(){var e=this.props,t=e.numImagesNotRendered,a=void 0===t?0:t,n=e.numberTextClassName,i=e.mediaData,r=n?{[n]:"string"==typeof n}:null;return f.createElement("div",{className:(0,u.default)(p.default.item,p.default.overlay),onClick:this._handleClick},this._renderImage(i.renderableUrl),a>0?f.createElement(v.default,{theme:"large",className:(0,u.default)(p.default.numberText,r)},l10n.t(885,{number:a})):null)}},{key:"render",value:function(){var e=this.props,t=e.mediaData,a=e.renderOverlay,n=e.renderImage;return e.renderFallbackImage?this._renderFallbackImage():n?t.mediaStage!==g.default.STAGE.RESOLVED?null:a?this._renderOverlayTile():this._renderImage(t.renderableUrl):null}}]),t}(f.PureComponent);j.CONCERNS={mediaData:["mediaStage","filehash","preview","renderableUrl"]};var E=(0,b.default)(j,j.CONCERNS);t.default=E},dbfbdfhfee:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=(0,r.default)(d.default.container,{[d.default.isChecked]:e.checked,[d.default.gallery]:"gallery"===e.msgTheme});return o.createElement("div",{className:t,onClick:e.onClick},o.createElement(s.default,{onChange:e.onClick,checked:e.checked,theme:e.theme}))};var r=i(a("ceffhbhahb")),o=n(a("ddhijeejag")),s=i(a("dacdidjdfi")),d=i(a("daibgjhabc"))},dbfiijcdie:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,r,o=n(a("eaidjcib")),s=n(a("dgcdacjddi")),d=n(a("ffceefejc")),c=n(a("cjedcdbdii")),l=n(a("dbjagcfebh")),u=n(a("cccehdaiaf")),f=n(a("bdiiahhjbe")),h={fullscreenEnabled:0,fullscreenElement:1,requestFullscreen:2,exitFullscreen:3,fullscreenchange:4,fullscreenerror:5},p=["webkitFullscreenEnabled","webkitFullscreenElement","webkitRequestFullscreen","webkitExitFullscreen","webkitfullscreenchange","webkitfullscreenerror"],g=["mozFullScreenEnabled","mozFullScreenElement","mozRequestFullScreen","mozCancelFullScreen","mozfullscreenchange","mozfullscreenerror"],m=["msFullscreenEnabled","msFullscreenElement","msRequestFullscreen","msExitFullscreen","msfullscreenchange","msfullscreenerror"],b=new(function(e){function t(){var e;return(0,o.default)(this,t),(e=(0,d.default)(this,(0,c.default)(t).call(this))).requestFullscreen=function(e){e?i?e[i[h.requestFullscreen]]():f.default.warn("Your browser does not support fullscreen API.")():f.default.error("The element requesting fullscreen is null or undefined.")()},e._fullscreenChangeTrigger=function(t){e.trigger("fullscreen_change",t)},e._fullscreenErrorTrigger=function(t){e.trigger("fullscreen_error",t)},"object"!=typeof window||"object"!=typeof window.document?(f.default.error("document object does not exist")(),(0,d.default)(e)):("fullscreenEnabled"in(r=window.document)?i=Object.keys(h):p[h.fullscreenEnabled]in r?i=p:g[h.fullscreenEnabled]in r?i=g:m[h.fullscreenEnabled]in r&&(i=m),i?(r.addEventListener(i[h.fullscreenchange],e._fullscreenChangeTrigger),r.addEventListener(i[h.fullscreenerror],e._fullscreenErrorTrigger),e):(f.default.warn("Your browser does not support fullscreen API.")(),(0,d.default)(e)))}return(0,l.default)(t,e),(0,s.default)(t,[{key:"exitFullscreen",get:function(){return r?i?r[i[h.exitFullscreen]].bind(r):(f.default.warn("Your browser does not support fullscreen API.")(),function(){}):(f.default.error("document object does not exist")(),function(){})}},{key:"isFullscreenMode",get:function(){return r?i?!!r[i[h.fullscreenElement]]:(f.default.warn("Your browser does not support fullscreen API.")(),!1):(f.default.error("document object does not exist")(),!1)}},{key:"fullscreenEnabled",get:function(){return r?i?Boolean(r[i[h.fullscreenEnabled]]):(f.default.warn("Your browser does not support fullscreen API.")(),!1):(f.default.error("document object does not exist")(),!1)}},{key:"fullscreenElement",get:function(){if(r){if(i)return r[i[h.fullscreenElement]];f.default.warn("Your browser does not support fullscreen API.")()}else f.default.error("document object does not exist")()}}]),t}(u.default));f.default.exportToWindow("Fullscreen",b);var v=b;t.default=v},dbfjecijha:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.MsgLoadState=void 0;var r=i(a("dgcdacjddi")),o=i(a("djecdhecha")),s=i(a("bjehdcaaj")),d=i(a("eaidjcib")),c=i(a("ffceefejc")),l=i(a("cjedcdbdii")),u=i(a("dbjagcfebh")),f=i(a("cgeeeeddea")),h=i(a("cgcgbfbffj")),p=n(a("dcaifjegcg")),g=i(a("bdiiahhjbe")),m=i(a("cbcbdjdah")),b=i(a("bhggeigghg")),v=function(e){function t(){var e,a;(0,d.default)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=(0,c.default)(this,(e=(0,l.default)(t)).call.apply(e,[this].concat(i)))).noEarlierMsgs=(0,p.prop)(),a.isLoadingEarlierMsgs=(0,p.prop)(),a.isLoadingRecentMsgs=(0,p.prop)(),a.isLoadingAroundMsgs=(0,p.prop)(),a.contextLoaded=(0,p.prop)(),a}return(0,u.default)(t,e),t}(p.default);v.Proxy="msgLoad";var j=(0,p.defineModel)(v);t.MsgLoadState=j;var E=function(e){function t(){var e;return(0,d.default)(this,t),(e=(0,c.default)(this,(0,l.default)(t).call(this))).msgLoadState=new j({noEarlierMsgs:!1,isLoadingEarlierMsgs:!1,isLoadingRecentMsgs:!1,isLoadingAroundMsgs:!1,contextLoaded:!1}),e.listenTo((0,o.default)(e),"add remove reset sort",e.triggerChangeLast),e.listenTo(e.msgLoadState,"change:noEarlierMsgs",function(e,t){if(t){var a=["noEarlierMsgs changed to true",(new Error).stack];g.default.logVerbose(a.join("\n"))()}}),e}return(0,u.default)(t,e),(0,r.default)(t,[{key:"delete",value:function(){this.stopListening(),(0,s.default)((0,l.default)(t.prototype),"delete",this).call(this),this.msgLoadState.delete()}},{key:"triggerChangeLast",value:function(e,t,a){var n=this.last();if(this._last!==n){this._last=n;var i=!1;t&&t.includes(e)&&a&&a.add&&!a.remove&&(i=!0),this.trigger("change:last",n,i)}}},{key:"add",value:function(e,a){var n=this,i=(0,s.default)((0,l.default)(t.prototype),"add",this).call(this,e,a);return b.default.Msg.add(i,a).forEach(function(e){e&&n.isModel(e)&&(e.msgChunk=n)}),i&&this.trigger("bulk_add",i,a),i}},{key:"remove",value:function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=(0,s.default)((0,l.default)(t.prototype),"remove",this).call(this,e,a),r=!!a&&a.silent,o=i.filter(function(e){return!!e});return o.length&&!r&&(this.trigger("remove_msgs",o,a),n||this.trigger("update_sort_time")),i}},{key:"replace",value:function(e){var t=this;e.msgLoadState.noEarlierMsgs&&g.default.logVerbose("Replacing cmc msgLoadState with one whose noEarlierMsgs is true.\n".concat((new Error).stack))(),this.msgLoadState=e.msgLoadState,this.loadRecentPromise=e.loadRecentPromise,this.loadEarlierPromise=e.loadEarlierPromise,this.loadAroundPromise=e.loadAroundPromise;var a=e.getModelsArray();this.set(a,{silent:!0,merge:!1}),a.forEach(function(e){t.isModel(e)&&(e.msgChunk=t)}),this.trigger("bulk_add",a)}},{key:"onMsgLoadStateChange",value:function(e){var t,a=this,n=function(){e()},i=function(){(0,f.default)(null!=t,"prevMsgLoadState cannot be null after bulk_add"),t.off("change",n);var i=a.msgLoadState;i.on("change",n),t=i,e()};(t=this.msgLoadState).on("change",n),this.on("bulk_add",i);var r=function(){(0,f.default)(null!=t,"prevMsgLoadState cannot be null when unsubscribing"),a.off("bulk_add",i),t.off("change",n)};return function(){var e=r;e&&(r=null,e())}}}]),t}(h.default);t.default=E,E.model=m.default},dbgefjefac:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=i(a("ceffhbhahb")),u=n(a("ddhijeejag")),f=i(a("cehjjfagii")),h=i(a("jhcabjcaf")),p=i(a("bfjbdahdag")),g=i(a("cfadcbbiie")),m=i(a("bbchdeehff")),b=(i(a("baagejbchg")),i(a("dfeecdfijg"))),v=i(a("eceadcicaf")),j=i(a("bffjfbgbg")),E=i(a("eiiicijcj")),y=n(a("ecibddhig")),_=i(a("eafjfadchb")),S=i(a("cieaeggjg")),C=i(a("bfbggcdbfb")),A=a("dhccihecch"),M=n(a("bbdfiiibib")),T=i(a("ichhibhgh")),P=i(a("bcafcjajcb")),N=i(a("ihfccfgdf")),I=a("bheafeifce"),k=i(a("bfdcadbbif")),O=i(a("deibgadgic")),R=i(a("cbjacjjfgc")),w=i(a("edbaidcaf")),D=i(a("bcfhbihafa")),L={PREVIEW:"PREVIEW",FLOATER:"FLOATER"},U=function(e){function t(e){var a;(0,r.default)(this,t),(a=(0,s.default)(this,(0,d.default)(t).call(this,e))).setRefThumb=function(e){a.refThumb=e},a.showMediaMissing=function(){m.default.openModal(u.createElement(E.default,{msg:a.props.msg}))},a.downloadMedia=function(){a.props.msg.downloadMedia(!0,C.default.WEBC_RMR_REASON_CODE.MSG_CLICK)},a.cancelDownload=function(){a.props.msg.cancelDownload()},a.cancelUpload=function(){a.props.msg.cancelUpload()},a.resumeUpload=function(){a.props.msg.resumeUpload()},a.resumeRemoteUpload=function(){a.props.msg.resumeRemoteUpload()},a.downloadUnsupportedToDesktop=function(e){e&&e.stopPropagation(),m.default.openModal(u.createElement(_.default,{msg:(0,I.unproxy)(a.props.msg)}))},a.launchMediaViewer=function(e){if(e&&e.stopPropagation(),a.props.theme===A.THEMES.ALBUM){var t=a.props.zoomMsg||a.props.msg,n=new Set((a.props.albumMsgs||[]).map(function(e){return e.id.toString()}));m.default.mediaViewerModal({msg:(0,I.unproxy)(t),highlightedMsgIds:n})}else m.default.mediaViewerModal({msg:(0,I.unproxy)(a.props.msg)})},a.launchVideoFloater=function(e){e&&e.stopPropagation();var t=a.refThumb?a.refThumb.getBoundingClientRect():null;T.default.openPiP((0,I.unproxy)(a.props.msg),0,t)},a.setPreviewMode=function(){a.state.mode!==L.PREVIEW&&a.setState({mode:L.PREVIEW})},a.setFloaterMode=function(){a.state.mode!==L.FLOATER&&a.setState({mode:L.FLOATER})};var n=T.default.isOpened((0,I.unproxy)(e.msg))?L.FLOATER:L.PREVIEW;return a.state={mode:n},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){this.props.listeners.add(T.default,"".concat(this.props.msg.id.toString(),"_pip_did_open"),this.setFloaterMode),this.props.listeners.add(T.default,"".concat(this.props.msg.id.toString(),"_pip_did_close"),this.setPreviewMode)}},{key:"render",value:function(){var e=this,t=this.props,a=t.msg,n=t.mediaData,i=t.theme,r=t.overlayContent,o=null,s=null;switch(n.mediaStage){case j.default.STAGE.RESOLVED:case j.default.STAGE.INIT:o=u.createElement(y.Play,null),s=this.launchMediaViewer;break;case j.default.STAGE.NEED_POKE:o=u.createElement(y.Download,{filesize:n.size}),s=this.downloadMedia;break;case j.default.STAGE.UPLOADING:o=u.createElement(y.PendingCancel,null),s=this.cancelUpload;break;case j.default.STAGE.FETCHING:o=u.createElement(y.PendingCancel,null),s=this.cancelDownload;break;case j.default.STAGE.NEED_UPLOAD:o=u.createElement(y.Upload,{filesize:n.size}),s=this.resumeUpload;break;case j.default.STAGE.REMOTE_NEED_UPLOAD:o=u.createElement(y.Upload,{filesize:n.size}),s=this.resumeRemoteUpload;break;case j.default.STAGE.ERROR_MISSING:s=this.showMediaMissing;break;case j.default.STAGE.ERROR_UNSUPPORTED:a.isUnsentMedia||(o=u.createElement(y.Download,{filesize:n.size}),s=this.downloadUnsupportedToDesktop);break;case j.default.STAGE.SENDING:a.isFailed||(o=u.createElement(y.Pending,null));break;default:o=u.createElement(y.Pending,null)}var d,c=parseInt(n.duration)?g.default.durationStr(n.duration):null,m=c?u.createElement("span",{className:D.default.duration},u.createElement("div",{className:D.default.icon},u.createElement(k.default,{name:"msg-video-light"})),c):null,v=n.preview?w.default.thumbAsBackgroundImage(n.preview.url()):void 0,E=u.createElement("div",{className:D.default.thumbBody,style:v}),_=this.props.displayAuthor&&!a.isSentByMe&&a.isGroupMsg,C=_?u.createElement("div",{className:D.default.author},u.createElement(f.default,{msg:a,contact:a.senderObj})):null,T=a.showForwarded()&&this.props.theme!==A.THEMES.ALBUM,N=T?u.createElement(b.default,{msg:a,className:D.default.forwardedIndicator}):null,I=u.createElement(R.default,null),U=a.caption?u.createElement("div",{className:D.default.caption},u.createElement(p.default,{msg:a,trusted:this.props.trusted,spacer:!(a.hsmEnabled&&a.footer)})):null,x=(0,l.default)(D.default.bubble,{[D.default.nonAlbumBubble]:!i||i!==A.THEMES.ALBUM}),F=(0,l.default)(x,{[D.default.hasCaption]:U,[D.default.hasAuthor]:_,[D.default.isHover]:this.props.hover,[D.default.forwarded]:T,[D.default.isPSA]:a.isPSA});switch(n.mediaStage){case j.default.STAGE.INIT:case j.default.STAGE.RESOLVED:d=u.createElement("div",{className:(0,l.default)(D.default.pipBtn,{[D.default.isHover]:!!this.props.hover})},u.createElement(M.default,{onClick:function(t){t&&t.stopPropagation(),e.launchVideoFloater()},theme:M.PIP_BUTTON_THEME.PREVIEW}));break;default:d=null}var B,V=this.props.quotedMsg?u.createElement("div",{className:D.default.quote},this.props.quotedMsg):null;switch(this.state.mode){case L.PREVIEW:B=u.createElement(u.Fragment,null,d,o);break;case L.FLOATER:B=u.createElement(P.default,{icon:u.createElement(k.default,{name:"video-pip-large"})},l10n.t(912))}var H,W=(0,l.default)(D.default.thumb,{[D.default.inAlbum]:i===A.THEMES.ALBUM});r||(H=u.createElement("div",{className:D.default.meta},u.createElement(S.default,{msg:a})));var Y=u.createElement("div",{className:F},C,N,V,u.createElement("div",{ref:this.setRefThumb,className:(0,l.default)(W,"video-thumb",{[D.default.cursorPointer]:this.state.mode===L.PREVIEW,[D.default.overlay]:r}),onClick:s},r?null:B,E,I,r?null:m),U,u.createElement(O.default,{msg:a}),H);return U?u.createElement(h.default,{contact:a.senderObj,msg:a,onClick:G},Y):(r&&(Y=u.createElement("div",{className:D.default.overlayAlbumText},Y,r)),u.createElement("div",{onClick:G},Y))}}]),t}(u.PureComponent);function G(e){e.stopPropagation()}U.CONCERNS={msg:["ack","caption","dir","footer","gifAttribution","hsmEnabled","id","isGroupMsg","isPSA","isSentByMe","isUnsentMedia","rtl","senderObj","subtype","type","isFailed"],mediaData:["aspectRatio","preview","duration","mediaStage","size"]};var x=(0,v.default)((0,N.default)(U,U.CONCERNS));t.default=x},dbgjiabiae:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.TemplateButtonCollection=void 0;var i=n(a("eaidjcib")),r=n(a("ffceefejc")),o=n(a("cjedcdbdii")),s=n(a("dbjagcfebh")),d=n(a("cgcgbfbffj")),c=n(a("bdcddabebc")),l=function(e){function t(){return(0,i.default)(this,t),(0,r.default)(this,(0,o.default)(t).apply(this,arguments))}return(0,s.default)(t,e),t}(d.default);t.TemplateButtonCollection=l,l.model=c.default,l.comparator=function(e,t){return e.id<t.id?-1:e.id>t.id?1:0};var u=l;t.default=u},dbhbjaeieh:function(e,t){e.exports={video:"_1cIQK"}},dbhbjbfadb:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.FETCH_STATE=void 0;var i=n(a("eaidjcib")),r=n(a("dgcdacjddi")),o=n(a("cgeedcdffb")),s=a("beifdajhid"),d=n(a("bdiiahhjbe")),c=n(a("cafdagagdh")),l=n(a("cjbdijighi")),u=a("ddihieeaee"),f=n(a("bcbjcgdgdf"));t.FETCH_STATE={PENDING:"PENDING",SUCCESS:"SUCCESS",ERROR:"ERROR"};var h=new(function(){function e(){var t=this;(0,i.default)(this,e),this._fetch=(0,l.default)(function(){return"all"},function(e){var a=e.signal;return(0,u.sendQueryMediaConn)(a).then(function(e){t._err=null,t._data={auth:e.auth,authExpirationTime:new Date(e.queryStartTime.getTime()+e.authTTL),authTTL:e.authTTL,hosts:e.hosts.map(function(e){return new c.default(e)}),hostsRefreshTime:new Date(e.queryStartTime.getTime()+e.ttl),queryStartTime:e.queryStartTime}}).catch(function(e){t._data=null,t._err=e,d.default.assert(!1,"Error fetching mms hosts")(e)})}),this._reset()}return(0,r.default)(e,[{key:"getHostsInfo",value:function(e){var t=this,a=e.directPath,n=e.encFilehash,i=e.operation,r=e.type,d={signal:e.signal||(new o.default).signal};return this._refreshIfStale(d).then(function(){if(!t._data)throw new s.NoMediaHostsError("no fetched data");var e=t._data.auth,o=t._data.hosts,d=(0,f.default)({directPath:a,encFilehash:n,hosts:o,operation:i,type:r}),c=d.selectedHost,l=d.fallbackHost;if(!c)throw new s.NoMediaHostsError("no selected host");return{auth:e,selectedHost:c,fallbackHost:l}})}},{key:"_isExpiredOrMissing",value:function(){return!this._data||new Date>=this._data.authExpirationTime}},{key:"_needsRefresh",value:function(){if(!this._data)return!0;if(new Date>=this._data.hostsRefreshTime)return!0;var e=this._data,t=e.authTTL,a=e.queryStartTime,n=Math.floor(.8*t),i=new Date(a.getTime()+n);return new Date>=i}},{key:"_refreshIfStale",value:function(e){return this._isExpiredOrMissing()?(this._reset(),this._fetch(e).then(function(){return!0})):this._needsRefresh()?(this._fetch(e),Promise.resolve(!1)):Promise.resolve(!1)}},{key:"_reset",value:function(){this._data=null,this._err=null}}]),e}());t.default=h},dbhcbbgdji:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.wrapCallback=v,t.default=t.ResizeSensor=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=i(a("cgeeeeddea")),u=n(a("ddhijeejag")),f=i(a("eceadcicaf")),h=i(a("cahfddcdga")),p=i(a("bjfjacgeai")),g=window.ResizeObserver,m=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i))))._handleLoad=function(e){e.currentTarget instanceof HTMLObjectElement&&a._addRefListeners(e.currentTarget)},a._handleResize=function(e){a._animationFrameId&&(cancelAnimationFrame(a._animationFrameId),delete a._animationFrameId),a._animationFrameId=requestAnimationFrame(a._handleResizeAtNextAnimationFrame)},a._handleResizeAtNextAnimationFrame=function(){delete a._animationFrameId,a.props.onResize()},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"shouldComponentUpdate",value:function(){return!1}},{key:"_addRefListeners",value:function(e){var t=e&&e.contentDocument&&e.contentDocument.defaultView;t&&this.props.listeners.add(t,"resize",this._handleResize)}},{key:"render",value:function(){return u.createElement("object",{className:p.default.sensor,data:"about:blank",onLoad:this._handleLoad,type:"text/html"})}}]),t}(u.Component),b=function(e){function t(e){var a;return(0,r.default)(this,t),(a=(0,s.default)(this,(0,d.default)(t).call(this,e)))._handleDiv=function(e){null!=e?a._resizeObserver.observe(e):a._resizeObserver.disconnect()},a._handleResize=v(function(){a.props.onResize()}),(0,l.default)(null!=g,"The native ResizeObserver API is missing. ObjectBasedResizeSensor should be used."),a._resizeObserver=new g(a._handleResize),a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"shouldComponentUpdate",value:function(){return!1}},{key:"componentWillUnmount",value:function(){this._handleResize.clear()}},{key:"render",value:function(){return u.createElement("div",{ref:this._handleDiv,className:p.default.sensor})}}]),t}(u.Component);function v(e){var t=e,a=function(){(0,h.default)(t)()};return a.clear=function(){t=null},a}var j=null==g?m:b;t.ResizeSensor=j;var E=(0,f.default)(j);t.default=E},dbhcidbdcf:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=i(a("ceffhbhahb")),u=n(a("ddhijeejag")),f=i(a("cfadcbbiie")),h=i(a("baagejbchg")),p=i(a("fifhbjiec")),g=i(a("dgjddffcfg")),m=a("gaifbabbj"),b=i(a("bfbggcdbfb")),v=i(a("cibcaiabfd")),j=i(a("djicgijbjb")),E=i(a("bgghfidcfh")),y=h.default.MSG_TYPE,_=y.CHAT,S=y.IMAGE,C=y.VIDEO,A=y.AUDIO,M=y.STICKER,T=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i))))._handleDownloadMedia=function(){return a.props.msg.downloadMedia(!1,b.default.WEBC_RMR_REASON_CODE.MSG_RENDER)},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){var e=this.props.msg;e.type===M&&e.downloadMedia(!1,b.default.WEBC_RMR_REASON_CODE.MSG_RENDER)}},{key:"render",value:function(){var e=this.props,t=e.msg,a=e.inConversation,n=[];t.hasSymbol()&&t.type!==M&&n.push(u.createElement(v.default,{msg:t,key:"msg-symbol"})),t.type!==C&&t.type!==A||t.isGif||t.caption||n.push(f.default.durationStr(Number(t.duration))+" ");var i=m.Configuration.QuotedMention({mentions:t.mentionMap()});if(t.type===_||t.type===S||t.type===C||t.hsmEnabled){var r=t.hsmEnabled&&t.subtype===h.default.TEMPLATE_SUBTYPE.TEXT&&t.title?"*"+t.title+"*\n"+t.body:g.default.msgText(t,!1);n.push(u.createElement(p.default,{formatters:i,className:"quoted-mention",text:r,textLimit:t.initialPageSize,direction:"auto",key:"status"}))}else if(M===t.type){var o="composeBox"===this.props.theme?"composeBoxQuoted":"quoted";n.push(u.createElement(E.default,{key:"sticker",mediaData:t.mediaData,theme:o,downloadMedia:this._handleDownloadMedia}))}else n.push(u.createElement(p.default,{formatters:i,className:"quoted-mention",text:g.default.msgText(t),textLimit:t.initialPageSize,direction:"auto",key:"status"}));var s=(0,l.default)(j.default.messageText,{[j.default.composeBoxQuotedMsg]:"composeBox"===this.props.theme});return u.createElement("div",{className:s,dir:t.dir,role:a?"button":null},n)}}]),t}(u.PureComponent);t.default=T},dbhgiicheg:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,r=n(a("hbddjfeei")),o=n(a("eaidjcib")),s=n(a("dgcdacjddi")),d=n(a("dfjhghbebf")),c=n(a("dcgheafecg")),l=n(a("dfjadefi")),u=n(a("dabaejgacg")),f="Headers"in window&&Headers?Headers:(i=u.default.iterator,function(){function e(t){var a=this;if((0,o.default)(this,e),this._headers={},t instanceof e)(0,c.default)(t.entries(),function(e){var t=(0,r.default)(e,2),n=t[0];t[1].split(", ").forEach(function(e){a.append(n,e)})});else if("object"==typeof t){var n=function(e){t[e].split(", ").forEach(function(t){a.append(e,t)})};for(var i in t)n(i)}}return(0,s.default)(e,[{key:"append",value:function(e,t){var a=e.toLowerCase();a in this._headers?this._headers[a].push(t):this._headers[a]=[t]}},{key:"delete",value:function(e){var t=e.toLowerCase();delete this._headers[t]}},{key:"entries",value:function(){var e=this,t=Object.keys(this._headers).map(function(t){return[t,e.get(t)||""]});return new d.default(t)}},{key:"get",value:function(e){var t=e.toLowerCase();return t in this._headers?this._headers[t].join(", "):null}},{key:"has",value:function(e){return e.toLowerCase()in this._headers}},{key:"keys",value:function(){return(0,l.default)(this.entries(),function(e){return(0,r.default)(e,1)[0]})}},{key:"set",value:function(e,t){var a=e.toLowerCase();this._headers[a]=[t]}},{key:"values",value:function(){return(0,l.default)(this.entries(),function(e){var t=(0,r.default)(e,2);t[0];return t[1]})}},{key:i,value:function(){return this.entries()}},{key:"toString",value:function(){return"[Object Headers]"}}]),e}());t.default=f},dbhhbejbcb:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.SIZE=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=i(a("ceffhbhahb")),u=n(a("ddhijeejag")),f=a("baagejbchg"),h=i(a("jjhbchhce")),p=i(a("bggjbiacd")),g=i(a("djegeegcbf")),m=a("bbicdddbdj"),b=i(a("cajbifjffe")),v=i(a("cghfaedged")),j=i(a("eceadcicaf")),E=a("eagfdbhhhh"),y=g.default.getEmojiFromUnicode,_=g.default.getEmojiPath,S=g.default.cacheEmoji,C=g.default.isEmojiCached,A=m.LARGE_EMOJI_SIZE;t.SIZE=A;var M="large",T="xlarge",P=function(e){function t(e){var a;(0,r.default)(this,t),(a=(0,s.default)(this,(0,d.default)(t).call(this,e))).onHighResLoaded=function(){var e=y(a.props.emoji);e&&S(e),a.setState({highResLoaded:!0})};var n=y(e.emoji),i=Boolean(n&&C(n));return a.state={highResLoaded:i},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.listeners.add(window,"dpichange",function(){var t=y(e.props.emoji),a=Boolean(t&&C(t));e.setState({highResLoaded:a})})}},{key:"render",value:function(){var e=this.props,t=e.emoji,a=e.size,n=e.animation,i=e.element,r=e.selectable,o=this.state.highResLoaded,s=y(t);if(!s)return null;var d,c=(0,l.default)({[v.default.medium]:a===A.MEDIUM,[v.default.large]:a===A.LARGE,[v.default.xlarge]:a===A.XLARGE});d=a===A.XLARGE?T:M;var g=_(s,d)[h.default.currentRes];if(o&&n){var m=i;return u.createElement(m,{className:v.default.animation},u.createElement(E.SelectableImg,{alt:t,className:(0,l.default)(v.default.highRes,c),draggable:!1,plainText:t,selectable:Boolean(r),src:f.ONE_BY_ONE_TRANS_GIF}),u.createElement(b.default,{className:(0,l.default)(v.default.highRes,c,v.default.heart),draggable:!1,selectable:!1,src:g}))}var j=o?void 0:u.createElement(p.default,{key:"low-res",className:(0,l.default)(v.default.lowRes,c),emoji:t,selectable:r}),S=u.createElement(p.default,{key:"high-res",className:(0,l.default)(v.default.highRes,c,{[v.default.invisible]:!o}),emoji:t,selectable:r,src:g,onLoad:this.onHighResLoaded});return u.createElement("span",{className:v.default.wrapper},j,S)}}]),t}(u.Component);P.defaultProps={animation:!1,element:"div",size:A.MEDIUM};var N=(0,j.default)(P);t.default=N},dbhhjaecch:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.bulkCreateOrUpdateContacts=function(e){return o.Contact.bulkCreateOrMerge(e.map(function(e){return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?s(Object(a),!0).forEach(function(t){(0,i.default)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):s(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},e,{id:e.id.toString()})})).catch(function(e){r.default.errorVerbose("handle:Contact bulk handle error: ".concat(e))(),r.default.assert(!1,"handle:Contact bulk handle error")(e)})};var i=n(a("bhabhhjdch")),r=n(a("bdiiahhjbe")),o=a("cefcddgdgg");function s(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}},dbhidcdghb:function(e,t){e.exports={title:"_3XHR-",text:"_1w7vp"}},dbhijaface:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=n(a("ddhijeejag")),u=i(a("fffdgbfji")),f=i(a("eceadcicaf")),h=n(a("fagbfehid")),p=i(a("bjhfhjjdgd")),g=i(a("cehjcbedfe")),m=function(e){function t(e){var a;return(0,r.default)(this,t),(a=(0,s.default)(this,(0,d.default)(t).call(this,e)))._handleRetryClick=function(){h.default.fetchAt(a.props.selectedStickerPackIndex,!0)},a._handleStickerPackPageFetchState=function(e,t){h.default.pageWithIndex(a.props.selectedStickerPackIndex)===e&&(t?a.forceUpdate():h.default.fetchAt(a.props.selectedStickerPackIndex))},a._setRefScrollGrid=function(e){a._refScrollGrid=e},a._renderError=function(e){return l.createElement("div",{className:p.default.container},l.createElement("div",null,u.default.t(700)),l.createElement("div",{"data-id":"retry",className:p.default.retryButton,onClick:e},u.default.t(981).toUpperCase()))},h.default.fetchAt(a.props.selectedStickerPackIndex),a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){this.props.listeners.add(h.default,"change:pageFetchStates",this._handleStickerPackPageFetchState)}},{key:"componentDidUpdate",value:function(e){var t=this.props.selectedStickerPackIndex;if(t!==e.selectedStickerPackIndex){var a=h.default.pageWithIndex(t);h.default.pageFetchStates[a]===h.PAGE_FETCH_STATE.ERROR&&h.default.fetchAt(t,!0)}}},{key:"focus",value:function(e){this._refScrollGrid&&this._refScrollGrid.focus(e)}},{key:"render",value:function(){var e=h.default.at(this.props.selectedStickerPackIndex);if(!e)return null;var t=h.default.pageWithIndex(this.props.selectedStickerPackIndex);return h.default.pageFetchStates[t]===h.PAGE_FETCH_STATE.ERROR?this._renderError(this._handleRetryClick):l.createElement(g.default,{ref:this._setRefScrollGrid,onFocusPrev:this.props.onFocusPrev,onScroll:this.props.onScroll,onStickerClick:this.props.onStickerClick,onStickerEnter:this.props.onStickerEnter,stickers:e.stickers,renderError:this._renderError})}}]),t}(l.PureComponent),b=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,(0,d.default)(t).apply(this,arguments))}return(0,c.default)(t,e),(0,o.default)(t,[{key:"focus",value:function(e){this.getComponent().focus(e)}}]),t}((0,f.default)(m));t.default=b},dbifaacaac:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("djecdhecha")),c=i(a("cjedcdbdii")),l=i(a("bjehdcaaj")),u=i(a("dbjagcfebh")),f=i(a("bgifaaggh")),h=i(a("fhfbcdaib")),p=n(a("ddhijeejag")),g=a("biheibdage"),m=i(a("ihfgagaij")),b=i(a("bbchdeehff")),v=i(a("bcbahjefec")),j=i(a("bcjcbbafcj")),E=function(e){function t(){var e;return(0,r.default)(this,t),(e=(0,s.default)(this,(0,c.default)(t).apply(this,arguments))).onCancel=function(){e.props.onComplete&&e.props.onComplete(!1),e.clearComposeAttachMedia(),e.props.mediaCollection.mediaPickerStatsLogger.logCancel(),e.end()},e.onFailedMedias=function(t){var a=t.filter(function(e){return e.isGif});if(a.length>0){var n=a.map(function(e){return e.filename});b.default.once("ui_idle",function(){b.default.pasteChatTextInput(e.props.chat,n.join(" "))}),e.props.onComplete&&e.props.onComplete(!1),e.clearComposeAttachMedia(),e.props.mediaCollection.mediaPickerStatsLogger.logCancel(),e.end()}},e.sendMediaWithMentions=function(t,a){var n=e.props.chat;b.default.once("ui_idle",function(){t.forEach(function(e,t){var a=e.media,i={};0===t&&(i.quotedMsg=n.composeQuotedMsg,n.composeQuotedMsg=null),i.mentionedJidList=e.mentionedJidList,i.caption=a.caption,i.addEvenWhilePreparing=a.previewable&&a.state===g.ATTACH_MEDIA_STATE.PROCESSING,a.sendToChat(n,i)}),e.clearComposeAttachMedia()}),e.props.onComplete&&e.props.onComplete(!0,a),e.props.mediaCollection.mediaPickerStatsLogger.logSend(),e.end()},e.setText=function(t){null!=t&&b.default.once("ui_idle",function(){b.default.pasteChatTextInput(e.props.chat,t)}),e.end()},e.clearComposeAttachMedia=function(){e.props.chat&&e.props.chat.setComposeAttachMediaContents(null)},e.handleRequestDismiss=e.handleRequestDismiss.bind((0,d.default)(e)),e}return(0,u.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){b.default.closeContextMenu(),b.default.closeTooltip(),this.push(p.createElement(m.default,{chat:this.props.chat,onBack:this.onCancel,initCaption:this.props.initCaption,onSendMedia:(0,h.default)(this.sendMediaWithMentions),onDropText:(0,h.default)(this.setText),onFailedMedias:this.onFailedMedias,mediaCollection:this.props.mediaCollection}))}},{key:"componentWillUnmount",value:function(){var e=this;j.default.isGecko?(0,f.default)(function(){return b.default.focusChatTextInput(e.props.chat)}):b.default.focusChatTextInput(this.props.chat)}},{key:"handleRequestDismiss",value:function(e){!1===e&&(this.clearComposeAttachMedia(),this.props.mediaCollection.mediaPickerStatsLogger.logCancel()),(0,l.default)((0,c.default)(t.prototype),"handleRequestDismiss",this).call(this)}}]),t}(v.default);t.default=E},dbifijhjeg:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("hbddjfeei")),o=i(a("eaidjcib")),s=i(a("dgcdacjddi")),d=i(a("ffceefejc")),c=i(a("cjedcdbdii")),l=i(a("dbjagcfebh")),u=i(a("ceffhbhahb")),f=n(a("ddhijeejag")),h=a("jgficfddf"),p=i(a("cadbaeefbb")),g=i(a("jhcabjcaf")),m=i(a("baagejbchg")),b=i(a("djegeegcbf")),v=i(a("fifhbjiec")),j=i(a("dafiibaihc")),E=a("bidfjbaebi"),y=a("gaifbabbj"),_=a("ciajafaaie"),S=i(a("cejheebceh")),C=i(a("dbbbgjbbgf")),A=i(a("cieaeggjg")),M=i(a("bfiaijhcgh")),T=a("cjbafegbjg"),P=i(a("dgdadejebh")),N=i(a("deibgadgic")),I=i(a("chjchbjied")),k=i(a("dbabefhajh")),O=i(a("babhhabdgf")),R=function(e){function t(){return(0,o.default)(this,t),(0,d.default)(this,(0,c.default)(t).apply(this,arguments))}return(0,l.default)(t,e),(0,s.default)(t,[{key:"render",value:function(){var e,t,a,n,i=this.props,o=i.msg,s=i.displayAuthor,d=i.trusted,c=i.displayType;if(d&&o.linkPreview)if(o.matchedText&&(0,_.isParsableOnlineVideoURL)(o.richPreviewType,o.matchedText,o.doNotPlayInline))e=f.createElement("div",{className:I.default.linkPreview},f.createElement(O.default,{msg:o}));else{var l=(0,T.parseAPICmd)(o.matchedText);if((0,r.default)(l,1)[0]===h.APICmd.GROUP_INVITE){if(e=f.createElement("div",{className:I.default.linkPreview},f.createElement(S.default,{msg:o,displayType:c,invite:!0})),c!==m.default.DISP_TYPE.GALLERY){var R=o.isSentByMe?l10n.t(558):l10n.t(541);t=f.createElement(p.default,{items:[{label:R,onClick:function(e){var t=o.matchedText;(0,E.openExternalLink)(t)}}]})}}else e=f.createElement("div",{className:I.default.linkPreview},f.createElement(S.default,{msg:o,displayType:c}))}var w,D,L=b.default.getMatchedEmojis(o.body);if(L){var U=1===L.length&&""===L[0];a=f.createElement(M.default,{animation:U,emojis:L}),n=!0}else{var G=d?y.Configuration.TrustedConversation:y.Configuration.UntrustedConversation;a=f.createElement(j.default,{text:o.body,textLimit:o.initialPageSize},function(e){var t=G({mentions:o.mentionMap(),links:o.getLinks(e.textLimit),selectable:!0});return f.createElement(v.default,{text:o.body,className:c===m.default.DISP_TYPE.GALLERY?"message-text-link":"",dirMismatch:o.rtl!==l10n.isRTL(),direction:o.dir,inferLinesDirection:!0,formatters:t,selectable:!0,textLimit:e.textLimit,noInvisibleSpace:o.hsmEnabled&&null!=o.footer&&(o.rtl||o.rtl!==l10n.isRTL())})})}o.hsmEnabled&&(w=o.title?f.createElement("div",{className:I.default.title},f.createElement(v.default,{text:o.title,dirMismatch:o.rtl!==l10n.isRTL(),direction:o.dir})):null,D=f.createElement(N.default,{msg:o}));var x,F=c!==m.default.DISP_TYPE.GALLERY&&!o.isPSA&&!n;this.props.quotedMsg&&(x=f.createElement("div",{className:I.default.quote},this.props.quotedMsg));var B,V=this.props.displayAuthor&&!o.isSentByMe&&o.isGroupMsg,H=o.showForwarded(),W=o.getSuspiciousLinks().length>0,Y=!!t||!!o.hasTemplateButtons;return Y&&(B=f.createElement("div",{className:I.default.meta},f.createElement(A.default,{msg:o}))),f.createElement(k.default,{msg:o,displayType:c,displayAuthor:s,hideMeta:Y},f.createElement(g.default,{className:(0,u.default)({[I.default.hasAuthor]:V,[I.default.forwarded]:H,[I.default.hasSuspiciousLinks]:W}),contact:o.senderObj,msg:o},x,f.createElement(P.default,{msg:o,displayType:c}),e,f.createElement(C.default,{msg:o,spacer:o.hsmEnabled?F&&!o.footer:F,"data-id":o.id},w,a,D,B),t))}}]),t}(f.PureComponent);t.default=R},dbjacfjdhg:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("djecdhecha")),c=i(a("cjedcdbdii")),l=i(a("bjehdcaaj")),u=i(a("dbjagcfebh")),f=n(a("biheibdage")),h=i(a("cgcgbfbffj")),p=i(a("baagejbchg")),g=n(a("cajijabhgb")),m=a("cgffhfegce"),b=i(a("bbcjhfahhb")),v=i(a("cieaaiahhf")),j=i(a("bfgbdiffgd")),E=i(a("dcaibchbg")),y=m.FILETYPE.IMAGE,_=m.FILETYPE.VIDEO,S=m.FILETYPE.DOCUMENT,C=m.FILETYPE.AUDIO,A=f.ATTACH_MEDIA_STATE.READY,M=f.ATTACH_MEDIA_STATE.ERROR,T=f.ATTACH_MEDIA_STATE.PROCESSING,P=1,N=function(e){function t(e){var a,n=e.chatParticipantCount;return(0,r.default)(this,t),(a=(0,s.default)(this,(0,c.default)(t).call(this))).errorMsgs=null,a.ignored=0,a.mediaPickerStatsLogger=new b.default,a.selection=new E.default([],function(e){return e.id},"prev"),a.mediaPickerStatsLogger.chatRecipients=n,a.listenTo(a.selection,"all",a._handleSelectionEvents.bind((0,d.default)(a))),a}return(0,u.default)(t,e),(0,o.default)(t,[{key:"_handleSelectionEvents",value:function(e,t){"focus"!==t&&!1!==t||this.trigger("active-change")}},{key:"removeSingleton",value:function(e,t){e&&(t||this.mediaPickerStatsLogger.logDelete(e.id),e.url&&window.URL.revokeObjectURL(e.url),e.original&&e.original.url&&window.URL.revokeObjectURL(e.original.url))}},{key:"remove",value:function(e,a){var n=this,i=(0,l.default)((0,c.default)(t.prototype),"remove",this).call(this,e,a);return i.forEach(function(e){return n.removeSingleton(e,a)}),this.selection.init(this.getPreviewableMedias(),!0),i}},{key:"delete",value:function(){var e=this;(0,l.default)((0,c.default)(t.prototype),"delete",this).call(this),this.forEach(function(t){return e.removeSingleton(t)}),this.selection.init(this.getPreviewableMedias(),!0)}},{key:"replace",value:function(e,t){var a=this.get(e);if(a){var n=this.indexOf(a),i=a.caption;this.remove(a,{silent:!0}),a.delete();var r=new f.default({id:e,caption:i,file:this._normalizeAttachment(t)});return this.add(r,n?{at:n}:{}),r.processPromise}}},{key:"getValidMedias",value:function(){return this.filter(function(e){return e.state===A||e.state===T})}},{key:"getPreviewableMedias",value:function(){return this.filter(function(e){return e.previewable})}},{key:"getActive",value:function(){return this.selection.getVal()}},{key:"setActive",value:function(e){this.selection.setVal(e)}},{key:"unsetActive",value:function(){this.selection.unset()}},{key:"setNextAsActive",value:function(){var e=this.selection.list.length-1;return-1===this.selection.index||this.selection.index===e?this.selection.getVal():(this.selection.setNext(),this.selection.getVal())}},{key:"setPrevAsActive",value:function(){return-1===this.selection.index||0===this.selection.index?this.selection.getVal():(this.selection.setPrev(),this.selection.getVal())}},{key:"processAttachments",value:function(e,t){var a=this,n=this.getPreviewableMedias().length,i=e.length+n>p.default.MAX_FILES?Math.max(p.default.MAX_FILES-n,0):e.length,r=e.length-i;0===i?r&&this.trigger("max_upload_limit",r):this.ignore(r);var o=e.slice(0,i).map(function(e){return new f.default({id:P++,file:a._normalizeAttachment(e),fileOrigin:t})});this.add(o);var s=this.getActive();return this.unsetActive(),Promise.all(e).then(function(){a._attemptToSetNextActiveFromAdded(o,s)}),Promise.map(o,function(e){return e.processPromise}).then(function(){return o.forEach(function(e){return a._logMediaAdd(e,t)}),a._attemptToSetNextActiveFromAdded(o,s)})}},{key:"_attemptToSetNextActiveFromAdded",value:function(e,t){if(!this.getActive()&&!this.getModelsArray().some(function(e){return e.state===T&&!e.previewable})){var a=e.find(function(e){return e.previewable});a||(a=t),this.selection.init(this.getPreviewableMedias()),a&&this.setActive(a)}}},{key:"_logMediaAdd",value:function(e,t){var a=e.isGif?"gif":e.type;this.mediaPickerStatsLogger.logAdd(e.id,a,t)}},{key:"_normalizeAttachment",value:function(e){return Promise.resolve(e).then(function(e){return e.filename||(e.filename=e.file.name),e.mimetype||(e.mimetype=e.file.type),e.type||(e.type=(0,m.typeFromMimetype)(e.file.type)),!e.type&&e.mimetype&&(e.type=(0,m.typeFromMimetype)(e.mimetype)),e})}},{key:"ignore",value:function(e){e>0&&(this.ignored+=e)}},{key:"uiProcessMsgs",value:function(){var e,t=[],a=0,n=0,i=0,r=0,o=0,s=0,d=0,c=0,l=0,u=!1,f=l10n.filesize(j.default.media),h=l10n.filesize(j.default.maxFileSize);if(this.forEach(function(t){if(!t.uiProcessed&&(!e&&t.previewable&&(e=t),t.state!==T&&(t.uiProcessed=!0,t.state===M)))if(t.exception instanceof v.default)switch(t.getFileType()){case y:a+=1;break;case _:n+=1;break;case C:i+=1;break;case S:r+=1}else if(t.exception instanceof g.MediaFileEmpty)switch(t.getFileType()){case y:o+=1;break;case _:s+=1;break;case C:d+=1;break;case S:c+=1}else t.exception instanceof g.MediaFileFailedLoad?u=!0:l+=1}),a>0&&t.push(l10n.t(624,{number:a,_plural:a,maxSize:f})),n>0&&t.push(l10n.t(1152,{number:n,_plural:n,maxSize:f})),i>0&&t.push(l10n.t(196,{number:i,_plural:i,maxSize:f})),r>0&&t.push(l10n.t(399,{number:r,_plural:r,maxSize:h})),o>0&&t.push(l10n.t(616,{number:o,_plural:o})),s>0&&t.push(l10n.t(1150,{number:s,_plural:s})),d>0&&t.push(l10n.t(194,{number:d,_plural:d})),c>0&&t.push(l10n.t(398,{number:c,_plural:c})),l>0&&t.push(l10n.t(475,{number:l,_plural:l})),u&&(t=[]).push(l10n.t(706)),t.length>1){t=[];var m=a+n+i+r,b=o+s+d+c,E=m+b+l;0===l?(0!==m&&t.push(l10n.t(476,{number:m,_plural:m,maxSize:h})),0!==b&&t.push(l10n.t(472,{number:b,_plural:b}))):t.push(l10n.t(474,{number:E,_plural:E}))}var A=t.join(" ");this.errorMsgs=A,this.ignore(this.getPreviewableMedias().length-p.default.MAX_FILES);var P=this.ignored;return this.ignored=0,P&&this.trigger("max_upload_limit",P),l>0&&this.trigger("files_not_supported"),{errorMsgs:A}}},{key:"canSend",value:function(){return!this.getModelsArray().some(function(e){return e.state===T&&!e.previewable})}}]),t}(h.default);t.default=N,N.model=f.default},dbjbhajgfd:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("bhabhhjdch")),o=i(a("eaidjcib")),s=i(a("dgcdacjddi")),d=i(a("ffceefejc")),c=i(a("cjedcdbdii")),l=i(a("dbjagcfebh")),u=n(a("ddhijeejag")),f=i(a("bbchdeehff")),h=i(a("jheedhagg"));function p(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}var g=function(e){function t(){return(0,o.default)(this,t),(0,d.default)(this,(0,c.default)(t).apply(this,arguments))}return(0,l.default)(t,e),(0,s.default)(t,[{key:"componentDidMount",value:function(){var e=this,t=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?p(Object(a),!0).forEach(function(t){(0,r.default)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):p(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},this.props.contextMenu,{uim:this.props.uim});f.default.openContextMenu(t,function(t){e.element=t})}},{key:"componentWillUnmount",value:function(){f.default.closeContextMenu(this.props.uim)}},{key:"getElement",value:function(){return this.element}},{key:"render",value:function(){return null}}]),t}(u.Component),m=(0,h.default)(g);t.default=m},dbjchhfjhj:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.getTotalAnimationDuration=s,t.default=function(e){if(!E(e))return j;var t,a=new Uint8Array(e),n=0,r=g;for(;(0,i.default)(a.slice(r,r+v),l);){var o=r+m,c=a.slice(o,o+b);if(c.length!==b)return j;n+=d(c);var u=r+v,f=a.slice(u,u+v);if(f.length!==v)return j;r+=2*v+d(f),null==t&&(t=r)}var h=s(n);return null==t?{animationDuration:h}:{animationDuration:h,firstFrameLength:t}},t.isAnimatedWebp=E,t.MAX_DURATION=t.MAX_LOOPS=void 0;var i=n(a("bhacbjbjic")),r=3;t.MAX_LOOPS=r;var o=4e3;function s(e){if(0===e)return 0;var t=Math.min(Math.floor(o/e),r);return Math.max(t,1)*e}function d(e){return e.reduce(function(e,t,a){return e+(t<<8*a)},0)}t.MAX_DURATION=o;var c=new Uint8Array([86,80,56,88]),l=new Uint8Array([65,78,77,70]),u=12,f=16,h=20,p=2,g=44,m=20,b=3,v=4,j={animationDuration:0};function E(e){var t=new Uint8Array(e),a=t.slice(u,f);return(0,i.default)(a,c)&&0!=(p&t[h])}},dbjfahieed:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.createCachePolicy=function(e,t){switch(t.policy){case"LOAD":return new o.default(e,t);case"IMMEDIATE":return new r.default(e,t);case"NONE":return new s.default(e,t)}return new s.default(e,{id:"none",policy:"NONE"})},Object.defineProperty(t,"CACHE_POLICY_TYPE",{enumerable:!0,get:function(){return i.CACHE_POLICY_TYPE}});var i=a("bdfbccfifg"),r=n(a("ijiafihgg")),o=n(a("cgfdiahhcd")),s=n(a("cdbfiiicdg"))},dbjfgbgci:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=n(a("ddhijeejag")),u=a("bgdcgdigif"),f=i(a("dhigahgdjb")),h=i(a("dhhfaeacef")),p=i(a("dbfiijcdie")),g=i(a("chbfbiahhb")),m=i(a("eceadcicaf")),b=i(a("bhheahajjg")),v=i(a("ihfccfgdf")),j=i(a("bhgjacgcdd")),E=i(a("hhaafceic")),y=a("cgejjichfa"),_=a("cddgbhafgj"),S=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).state={isMouseOver:!1,isFullscreenMode:p.default.isFullscreenMode},a.toggleMute=function(){a.props.callUi.muted=!a.props.callUi.muted,j.default.mute(a.props.callUi.muted)},a.setRefContainer=function(e){a.refContainer=e},a.handleFullscreenToggleButtonClick=function(e){a.state.isFullscreenMode?a.handleExitFullscreen(e):a.handleEnterFullscreen(e)},a.handleEnterFullscreen=function(e){e.stopPropagation(),p.default.requestFullscreen(a.refContainer)},a.handleExitFullscreen=function(e){e.stopPropagation(),p.default.exitFullscreen()},a.onWebrtcStart=function(){var e=new RTCPeerConnection({sdpSemantics:"unified-plan"},{mandatory:{},optional:[{DtlsSrtpKeyAgreement:!1},{RtpDataChannels:!0}]});e.onnegotiationneeded=function(){e.createOffer().then(function(t){t.sdp=t.sdp.replace(/ice-ufrag:\S+/g,"ice-ufrag:QjEB"),t.sdp=t.sdp.replace(/ice-pwd:\S+/g,"ice-pwd:CplKUv1mtNXWrv0ZzQkHX3TF"),t.sdp=t.sdp.replace(/a=crypto:.*/g,"a=crypto:0 AES_CM_128_HMAC_SHA1_32 inline:H+5na974ux2eIvPywafHwtJMP0duw/vw4Cbi0zY5");var a=t.sdp.search(/m=video/g),n=t.sdp.substring(0,a),i=t.sdp.substring(a);return n=n.replace(/ssrc:\S+/g,"ssrc:3629377495"),i=i.replace(/ssrc:\S+/g,"ssrc:3427239392"),t.sdp=n+i,e.setLocalDescription(t)}).catch(function(e){console.log("onnegotiationneeded error",e)})};var t=document.querySelector("audio"),a=document.querySelector("video");e.ontrack=function(e){"audio"===e.track.kind&&t&&(t.srcObject=e.streams[0]),"video"===e.track.kind&&a&&(a.srcObject=e.streams[0])},e.onicecandidate=function(t){t.candidate||e.setRemoteDescription((0,_.getSDPAnswer)("172.24.245.63",52e3,!0)).then(function(){console.log("Remote Description: %o",e.remoteDescription.sdp)}).catch(function(e){console.log("onicecandidate error",e)})},navigator.mediaDevices&&navigator.mediaDevices.getUserMedia({audio:!0,video:!0}).then(function(t){t.getTracks().forEach(function(a){return e.addTrack(a,t)})}).catch(function(e){console.log("Get mediaDevice error",e)})},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.listeners.add(p.default,"fullscreen_change",function(){p.default.isFullscreenMode&&p.default.fullscreenElement===e.refContainer?e.setState({isFullscreenMode:!0}):p.default.isFullscreenMode||e.setState({isFullscreenMode:!1})})}},{key:"render",value:function(){var e,t,n=this,i=this.props,r=i.onCallAccept,o=i.onCallReject,s=i.onCallEnd,d=this.props.callUi,c=d.state,p=d.outgoing,m=d.from,v=d.to,j=d.type,_=p?v:m,S=f.default.get(_||""),C=S?l.createElement("div",{className:E.default.participantName},l.createElement(b.default,{contact:S,titlify:!0,ellipsify:!0,showBusinessCheckmark:!0})):null,A=S?l.createElement(h.default,{id:S.id,size:82,quality:h.default.Quality.HIGH}):null,M=l.createElement("div",{className:E.default.actionRow},l.createElement("div",{className:E.default.btnGroup},l.createElement("button",{className:E.default.btnReject,onClick:o}),l.createElement("button",{className:E.default.btnAccept,onClick:r}))),T=l.createElement("div",{className:E.default.actionRow},l.createElement("div",{className:E.default.btnGroup},l.createElement("button",{className:E.default.btnMute,onClick:this.toggleMute}),l.createElement("button",{className:E.default.btnEnd,onClick:s}))),P=l.createElement("div",{className:E.default.actionRow},l.createElement("div",{className:E.default.btnGroup},l.createElement("button",{className:E.default.btnEnd,onClick:s}))),N=a("bjbdcigbdi");if(N.supportsFeature(N.F.WEB_VOIP_VOICE_CALL)||N.supportsFeature(N.F.WEB_VOIP_VIDEO_CALL)){P=l.createElement("div",{className:E.default.actionRow},l.createElement("div",{className:E.default.btnGroup},l.createElement("button",{className:E.default.btnEnd,onClick:s}),l.createElement("button",{className:E.default.btnAccept,onClick:this.onWebrtcStart})));var I=N.supportsFeature(N.F.WEB_VOIP_VIDEO_CALL)?l.createElement("video",{className:E.default.webrtcVideo,id:"webRtcVideo",controls:!0,autoPlay:!0}):null;e=l.createElement("div",{className:E.default.webrtcCanvas},I,l.createElement("audio",{className:E.default.webrtcAudio,id:"webRtcAudio",controls:!0,autoPlay:!0}))}switch(c){case y.CALL_STATES.INCOMING_RING:t=M;break;case y.CALL_STATES.ACTIVE:t=T;break;default:t=P}var k=l.createElement("div",{className:E.default.callTitle},l10n.t(1455)),O=l.createElement(g.default,{isFullscreenMode:this.state.isFullscreenMode,onClick:this.handleFullscreenToggleButtonClick}),R=j===u.CALL_TYPES.VIDEO?l.createElement("div",{className:E.default.videoContainer},l.createElement("div",{className:E.default.outputVideoContainer},l.createElement("canvas",{id:"outputCanvas",width:"640",height:"400"})),l.createElement("div",{className:E.default.previewVideoContainer},l.createElement("canvas",{id:"previewCanvas",width:"180",height:"120"}))):null;return l.createElement("div",{className:E.default.body,ref:this.setRefContainer,onMouseEnter:function(e){n.setState({isMouseOver:!0})},onMouseLeave:function(e){n.setState({isMouseOver:!1})}},k,C,A,R,e,this.state.isMouseOver&&O,t)}}]),t}(l.PureComponent);S.CONCERNS={callUi:["state","muted","speaker","outgoing","from","to","type"]};var C=(0,m.default)((0,v.default)(S,S.CONCERNS));t.default=C},dbjhghahdd:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e,t,a=new c.default,n=(0,f.default)([l.default,a,h.default]);return t=e=function(e){function t(){return(0,r.default)(this,t),(0,o.default)(this,(0,s.default)(t).apply(this,arguments))}return(0,d.default)(t,e),t}(n),e.EmojiSuggestions=(0,p.default)(u.default,{plugin:a}),t};var r=i(a("eaidjcib")),o=i(a("ffceefejc")),s=i(a("cjedcdbdii")),d=i(a("dbjagcfebh")),c=i(a("bfjfgcfade")),l=i(a("dfcggebdjj")),u=i(a("cdheafhdbh")),f=n(a("eccjbdjafd")),h=i(a("eaecbgafff")),p=i(a("ecidjifge"))},dcaffhdbgi:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LANGUAGE_TO_REGIONS=t.REGIONS=t.LANGUAGES=void 0;var n={ABAZA:"abq",ABKHAZIAN:"ab",ADAMAWA_FULFULDE:"fub",ADYGHE:"ady",AFRIKAANS:"af",AGWAGWUNE:"yay",AGHEM:"agq",AKOOSE:"bss",ALBANIAN:"sq",ANGOR:"agg",ARABIC:"ar",ASTURIAN:"ast",AVARIC:"av",AVOKAYA:"avu",AZERBAIJANI:"az",BAFIA:"ksf",BAFUT:"bfd",BAKA_CAMEROON:"bkc",BALANTA_GANJA:"bjt",BALI_NIGERIA:"bcn",BASA_CAMEROON:"bas",BASHKIR:"ba",BASSA:"bsq",BEKWARRA:"bkv",BELARUSIAN:"be",BENGALI:"bn",BEROM:"bom",BETE_BENDI:"btt",BINI:"bin",BOMU:"bmq",BORGU_FULFULDE:"fue",BOSNIAN:"bs",BRETON:"br",BULGARIAN:"bg",BURAK:"bys",BURA_PABIR:"bwr",BURIAT:"bua",CAKFEM_MUSHERE:"cky",CATALAN:"ca",CENTRAL_ATLAS_TAMAZIGHT:"tzm",CENTRAL_EASTERN_NIGER_FULFULDE:"fuq",CHECHEN:"ce",CHINESE:"zh",CHUKOT:"ckt",CHURCH_SLAVIC:"cu",CHUVASH:"cv",CIBAK:"ckl",CISHINGINI:"asg",CORSICAN:"co",CRIMEAN_TATAR:"crh",CROATIAN:"hr",CROSS_RIVER_MBEMBE:"mfn",CZECH:"cs",DABA:"dbq",DAN:"dnj",DANISH:"da",DARGWA:"dar",DAZAGA:"dzg",DENDI_BENIN:"ddn",DGHWEDE:"dgh",DOYAYO:"dow",DUALA:"dua",DUNGAN:"dng",DUTCH:"nl",EBIRA:"igb",EDOLO:"etr",ENGENNI:"enn",ENGLISH:"en",ERAVE:"kjy",ERZYA:"myv",ESTONIAN:"et",ETKYWAN:"ich",EVENKI:"evn",EWE:"ee",EWONDO:"ewo",FAROESE:"fo",FEFE:"fmp",FILIPINO:"fil",FINNISH:"fi",FRENCH:"fr",FRIULIAN:"fur",FULAH:"ff",GADSUP:"gaj",GAGAUZ:"gag",GALICIAN:"gl",GBARI:"gby",GBAYA_CENTRAL_AFRICAN_REPUBLIC:"gba",GBAYA_MBODOMO:"gmm",GERMAN:"de",GIZRRA:"tof",GODIE:"god",GOEMAI:"ank",GOKANA:"gkn",GOURMANCHEMA:"gux",GREEK:"el",GREENLANDIC:"kl",GUDE:"gde",GUINEA_KPELLE:"gkp",GUJARATI:"gu",GWAK:"jgk",HAUSA:"ha",HAWAIIAN:"haw",HEBREW_JAVA:"iw",HEBREW_ISO:"he",HINDI:"hi",HUBA:"hbb",HUNGARIAN:"hu",HUN_SAARE:"dud",HYAM:"jab",IBANI:"iby",ICELANDIC:"is",IDOMA:"idu",IGBO:"ig",IGEDE:"ige",IK:"ikx",IKA:"ikk",IKWERE:"ikw",INARI_SAMI:"smn",INDONESIAN_JAVA:"in",INDONESIAN_ISO:"id",INGUSH:"inh",IRISH:"ga",ITALIAN:"it",IVBIE_NORTH_OKPELA_ARHE:"atg",IZI_EZAA_IKWO_MGBO:"izi",JAPANESE:"ja",JOLA_FONYI:"dyo",JUKUN_TAKUM:"jbu",KABARDIAN:"kbd",KABUVERDIANU:"kea",KABYLE:"kab",KAKI_AE:"tbd",KAKO:"kkj",KALMYK:"xal",KAMWE:"hig",KANNADA:"kn",KARACHAY_BALKAR:"krc",KARA_KALPAK:"kaa",KARANG:"kzr",KAREKARE:"kai",KAZAKH:"kk",KHAKAS:"kjh",KHANTY:"kca",KHOEKHOE:"naq",KIRE:"geb",KIRGHIZ:"ky",KIRIKE:"okr",KOLSCH:"ksh",KOMI:"kv",KOMI_PERMYAK:"koi",KOYRABORO_SENNI:"ses",KOYRA_CHIINI:"khq",KOREAN:"ko",KORYAK:"kpy",KPELLE:"kpe",KUMYK:"kum",KUNAMA:"kun",KUNIMAIPA:"kup",KURDISH:"ku",KUTEP:"kub",KWASIO:"nmg",LAK:"lbe",LAKOTA:"lkt",LAMANG:"hia",LANGI:"lag",LAO:"lo",LATVIAN:"lv",LEZGHIAN:"lez",LIMBUM:"lmp",LINGALA:"ln",LITHUANIAN:"lt",LIVONIAN:"liv",LOKAA:"yaz",LOW_GERMAN:"nds",LOWER_SORBIAN:"dsb",LUBA_KATANGA:"lu",LUXEMBOURGISH:"lb",MAASINA_FULFULDE:"bin",MACEDONIAN:"mk",MADA_NIGERIA:"mda",MALAGASY:"mg",MALAY:"ms",MALAYALAM:"ml",MALTESE:"mt",MANSI:"mns",MAORI:"mi",MAPUCHE:"arn",MARATHI:"mr",MARI:"chm",MASAI:"mas",MBELIME:"mql",MBO_CAMEROON:"mbo",MBULA_BWAZZA:"mbu",MOFU_GUDUR:"mif",MOKSHA:"mdf",MONGOLIAN:"mn",MUMUYE:"mzm",MUNDANG:"mua",MUSLIM_TAT:"ttt",MWAGHAVUL:"sur",NANAI:"gld",NAVAJO:"nv",NENETS:"yrk",NGAS:"anc",NGIEMBOON:"nnh",NGOMBA:"jgo",NIGERIAN_FULFULDE:"fuv",NINZO:"nin",NOGAI:"nog",NORTHERN_DAGARA:"dgi",NORTHERN_SAMI:"se",NORTHERN_SOTHO:"nso",NORWEGIAN_BOKMAL:"nb",OBOLO:"ann",OCCITAN:"oc",OSSETIAN:"os",PARKWA:"pbi",PERO:"pip",PERSIAN:"fa",POLISH:"pl",PORTUGUESE:"pt",PRUSSIAN:"prg",PULAR:"fuf",PUNJABI:"pa",QUECHUA:"qu",ROMANIAN:"ro",RON:"cla",RUSSIAN:"ru",RUSYN:"rue",SAAFI_SAAFI:"sav",SANGO:"sg",SCOTTISH_GAELIC:"gd",SENA:"seh",SERBIAN:"sr",SERBO_CROATIAN:"sh",SERER:"srr",SHOR:"cjs",SICILIAN:"scn",SISSALA:"sld",SKOLT_SAMI:"sms",SLOVAK:"sk",SLOVENIAN:"sl",SOKORO:"sok",SOUTHERN_ALTAI:"alt",SPANISH:"es",SRANAN_TONGO:"srn",SWAHILI:"sw",SWEDISH:"sv",SWISS_GERMAN:"gsw",TABASSARAN:"tab",TACHELHIT:"shi",TAGALOG:"tl",TAI_DAM:"blt",TAJIK:"tg",TAL:"tal",TAMASHEK:"tmh",TAMASHEQ:"taq",TAMIL:"ta",TANGALE:"tan",TAROK:"yer",TASAWAQ:"twq",TATAR:"tt",TEDAGA:"tuq",TELUGU:"te",TERA:"ttr",THAI:"th",TIKAR:"tik",TONGAN:"to",TORO_SO_DOGON:"dts",TSAKHUR:"tkr",TSIKIMBA:"kdl",TSISHINGINI:"tsw",TURKISH:"tr",TURKMEN:"tk",TUVINIAN:"tyv",UDIHE:"ude",UDMURT:"udm",UKRAINIAN:"uk",UPPER_SORBIAN:"hsb",URDU:"ur",UZBEK:"uz",VAI:"vai",VIETNAMESE:"vi",VOLAPUK:"vo",VUTE:"vut",WAJA:"wja",WALLOON:"wa",WALSER:"wae",WARJI:"wji",WELSH:"cy",WESTERN_FRISIAN:"fy",WESTERN_MARI:"mrj",WESTERN_NIGER_FULFULDE:"fuh",YAKUT:"sah",YALA:"yba",YANGBEN:"yav",YELE:"yle",YIL:"yll",YORUBA:"yo",ZARMA:"dje",ZULGO_GEMZEK:"gnd"};t.LANGUAGES=n;var i={AFGHANISTAN:"AF",ALBANIA:"AL",ALGERIA:"DZ",AMERICAN_SAMOA:"AS",ANDORRA:"AD",ANGOLA:"AO",ANGUILLA:"AI",ANTIGUA_AND_BARBUDA:"AG",ARGENTINA:"AR",ARMENIA:"AM",ARUBA:"AW",AUSTRALIA:"AU",AUSTRIA:"AT",AZERBAIJAN:"AZ",BAHAMAS:"BS",BAHRAIN:"BH",BANGLADESH:"BD",BARBADOS:"BB",BELARUS:"BY",BELGIUM:"BE",BELIZE:"BZ",BENIN:"BJ",BERMUDA:"BM",BOLIVIA:"BO",BOSNIA:"BA",BOTSWANA:"BW",BRAZIL:"BR",BRITISH_INDIAN_OCEAN_TERRITORY:"IO",BRITISH_VIRGIN_ISLANDS:"VG",BRUNEI:"BN",BULGARIA:"BG",BURKINA_FASO:"BF",BURUNDI:"BI",CAMBODIA:"KH",CAMEROON:"CM",CANADA:"CA",CANARY_ISLANDS:"IC",CAPE_VERDE:"CV",CAYMAN_ISLANDS:"KY",CENTRAL_AFRICAN_REPUBLIC:"CF",CEUTA_AND_MELILLA:"EA",CHAD:"TD",CHILE:"CL",CHINA:"CN",CHRISTMAS_ISLAND:"CX",COCOS_KEELING_ISLANDS:"CC",COLOMBIA:"CO",COMOROS:"KM",CONGO_BRAZZAVILLE:"CG",CONGO_KINSHASA:"CD",COOK_ISLANDS:"CK",COSTA_RICA:"CR",CROATIA:"HR",CUBA:"CU",CURACAO:"CW",CYPRUS:"CY",CZECHIA:"CZ",DENMARK:"DK",DIEGO_GARCIA:"DG",DJIBOUTI:"DJ",DOMINICA:"DM",DOMINICAN_REPUBLIC:"DO",ECUADOR:"EC",EGYPT:"EG",EL_SALVADOR:"SV",EQUITORIAL_GUINEA:"GQ",ERITREA:"ER",ESTONIA:"EE",ETHIOPIA:"ET",FALKLAND_ISLANDS:"FK",FAROE_ISLANDS:"FO",FIJI:"FJ",FINLAND:"FI",FRANCE:"FR",GABON:"GA",GAMBIA:"GM",GEORGIA:"GE",GERMANY:"DE",GHANA:"GH",GIBRALTAR:"GI",GREECE:"GR",GREENLAND:"GL",GRENADA:"GD",GUADELOUPE:"GP",GUAM:"GU",GUATEMALA:"GT",GUERNSEY:"GG",GUINEA:"GN",GUINEA_BISSAU:"GW",GUYANA:"GY",HAITI:"HT",HONDURAS:"HN",HONG_KONG:"HK",HUNGARY:"HU",ICELAND:"IS",INDIA:"IN",INDONESIA:"ID",IRAN:"IR",IRAQ:"IQ",IRELAND:"IE",ISLE_OF_MAN:"IM",ISRAEL:"IL",ITALY:"IT",IVORY_COAST:"CI",JAMAICA:"JM",JAPAN:"JP",JERSEY:"JE",JORDAN:"JO",KAZAKHSTAN:"KZ",KENYA:"KE",KIRIBATI:"KI",KOSOVO:"XK",KUWAIT:"KW",KYRGYZSTAN:"KG",LAOS:"LA",LATVIA:"LV",LEBANON:"LB",LESOTHO:"LS",LIBERIA:"LR",LIBYA:"LY",LIECHTENSTEIN:"LI",LITHUANIA:"LT",LUXEMBOURG:"LU",MACAU:"MO",MACEDONIA:"MK",MADAGASCAR:"MG",MALAWI:"MW",MALAYSIA:"MY",MALI:"ML",MALTA:"MT",MARSHALL_ISLANDS:"MH",MAURITANIA:"MR",MAURITIUS:"MU",MEXICO:"MX",MICRONESIA:"FM",MOLDOVA:"MD",MONACO:"MC",MONGOLIA:"MN",MONTENEGRO:"ME",MONTSERRAT:"MS",MOROCCO:"MA",MOZAMBIQUE:"MZ",NAMIBIA:"NA",NAURU:"NR",NETHERLANDS:"NL",NEW_ZEALAND:"NZ",NICARAGUA:"NI",NIGER:"NE",NIGERIA:"NG",NIUE:"NU",NORFOLK_ISLAND:"NF",NORTHERN_MARIANA_ISLANDS:"MP",NORWAY:"NO",OMAN:"OM",PAKISTAN:"PK",PALAU:"PW",PANAMA:"PA",PAPUA_NEW_GUINEA:"PG",PARAGUAY:"PY",PERU:"PE",PHILIPPINES:"PH",PITCAIRN:"PN",POLAND:"PL",PORTUGAL:"PT",PUERTO_RICO:"PR",QATAR:"QA",REUNION:"RE",ROMANIA:"RO",RUSSIA:"RU",RWANDA:"RW",SAINT_HELENA:"SH",SAINT_KITTS_AND_NEVIS:"KN",SAINT_LUCIA:"LC",SAINT_VINCENT_AND_GRENADINES:"VC",SAMOA:"WS",SAO_TOME_AND_PRINCIPE:"ST",SAUDI_ARABIA:"SA",SENEGAL:"SN",SERBIA:"RS",SEYCHELLES:"SC",SIERRA_LEONE:"SL",SINGAPORE:"SG",SINT_MAARTEN:"SX",SLOVAKIA:"SK",SLOVENIA:"SI",SOLOMON_ISLANDS:"SB",SOMALIA:"SO",SOUTH_AFRICA:"ZA",SOUTH_KOREA:"KR",SOUTH_SUDAN:"SS",SPAIN:"ES",SRI_LANKA:"LK",SUDAN:"SD",SURINAME:"SR",SWAZILAND:"SZ",SWEDEN:"SE",SWITZERLAND:"CH",SYRIA:"SY",TAIWAN:"TW",TAJIKISTAN:"TJ",TANZANIA:"TZ",THAILAND:"TH",TIMOR_LESTE:"TL",TOGO:"TG",TOKELAU:"TK",TONGA:"TO",TRINIDAD_AND_TOBAGO:"TT",TUNISIA:"TN",TURKEY:"TR",TURKMENISTAN:"TM",TURKS_AND_CAICOS_ISLANDS:"TC",TUVALU:"TV",UGANDA:"UG",UKRAINE:"UA",UNITED_ARAB_EMIRATES:"AE",UNITED_KINGDOM:"GB",UNITED_STATES:"US",UNITED_STATES_MINOR_OUTLYING_ISLANDS:"UM",UNITED_STATES_VIRGIN_ISLANDS:"VI",URUGUAY:"UY",UZBEKISTAN:"UZ",VANUATU:"VU",VENEZUELA:"VE",VIETNAM:"VN",ZAMBIA:"ZM",ZIMBABWE:"ZW"};t.REGIONS=i;var r=new Map([[n.ADAMAWA_FULFULDE,[i.CAMEROON,i.CHAD,i.NIGERIA]],[n.AFRIKAANS,[i.NAMIBIA,i.SOUTH_AFRICA]],[n.AGHEM,[i.CAMEROON]],[n.AGWAGWUNE,[i.NIGERIA]],[n.AKOOSE,[i.CAMEROON]],[n.ANGOR,[i.PAPUA_NEW_GUINEA]],[n.ASTURIAN,[i.SPAIN]],[n.AVOKAYA,[i.CONGO_KINSHASA,i.SOUTH_SUDAN]],[n.AZERBAIJANI,[i.AZERBAIJAN]],[n.BAKA_CAMEROON,[i.CAMEROON,i.GABON]],[n.BAFIA,[i.CAMEROON]],[n.BAFUT,[i.CAMEROON]],[n.BALANTA_GANJA,[i.SENEGAL]],[n.BALI_NIGERIA,[i.NIGERIA]],[n.BASA_CAMEROON,[i.CAMEROON]],[n.BASSA,[i.LIBERIA]],[n.BEKWARRA,[i.NIGERIA]],[n.BEROM,[i.NIGERIA]],[n.BETE_BENDI,[i.NIGERIA]],[n.BINI,[i.NIGERIA]],[n.BOMU,[i.BURKINA_FASO,i.MALI]],[n.BOSNIAN,[i.BOSNIA,i.CROATIA,i.KOSOVO,i.MONTENEGRO,i.SERBIA]],[n.BORGU_FULFULDE,[i.BENIN,i.TOGO]],[n.BRETON,[i.FRANCE]],[n.BURAK,[i.NIGERIA]],[n.BURA_PABIR,[i.NIGERIA]],[n.CAKFEM_MUSHERE,[i.NIGERIA]],[n.CATALAN,[i.ANDORRA,i.FRANCE,i.ITALY,i.SPAIN]],[n.CENTRAL_ATLAS_TAMAZIGHT,[i.MOROCCO]],[n.CENTRAL_EASTERN_NIGER_FULFULDE,[i.NIGERIA]],[n.CIBAK,[i.NIGERIA]],[n.CISHINGINI,[i.NIGERIA]],[n.CORSICAN,[i.FRANCE,i.ITALY]],[n.CRIMEAN_TATAR,[i.RUSSIA]],[n.CROATIAN,[i.BOSNIA,i.CROATIA,i.KOSOVO,i.MONTENEGRO,i.SERBIA]],[n.CROSS_RIVER_MBEMBE,[i.NIGERIA]],[n.CZECH,[i.CZECHIA,i.SLOVAKIA]],[n.DABA,[i.CAMEROON,i.NIGERIA]],[n.DAN,[i.IVORY_COAST,i.LIBERIA]],[n.DAZAGA,[i.CHAD,i.NIGER]],[n.DENDI_BENIN,[i.BENIN]],[n.DGHWEDE,[i.NIGERIA]],[n.DOYAYO,[i.CAMEROON]],[n.DUALA,[i.CAMEROON]],[n.DUTCH,[i.ARUBA,i.BELGIUM,i.CURACAO,i.NETHERLANDS,i.SINT_MAARTEN,i.SURINAME]],[n.EBIRA,[i.NIGERIA]],[n.EDOLO,[i.PAPUA_NEW_GUINEA]],[n.ENGENNI,[i.NIGERIA]],[n.ERAVE,[i.PAPUA_NEW_GUINEA]],[n.ESTONIAN,[i.ESTONIA]],[n.ETKYWAN,[i.NIGERIA]],[n.EWE,[i.BENIN,i.GHANA,i.TOGO]],[n.EWONDO,[i.CAMEROON]],[n.FAROESE,[i.FAROE_ISLANDS]],[n.FEFE,[i.CAMEROON]],[n.FINNISH,[i.FINLAND,i.SWEDEN]],[n.FRENCH,[i.BELGIUM,i.BENIN,i.BURKINA_FASO,i.BURUNDI,i.CAMEROON,i.CANADA,i.CENTRAL_AFRICAN_REPUBLIC,i.CONGO_BRAZZAVILLE,i.CONGO_KINSHASA,i.CHAD,i.COMOROS,i.DJIBOUTI,i.EQUITORIAL_GUINEA,i.FRANCE,i.GABON,i.HAITI,i.IVORY_COAST,i.LUXEMBOURG,i.MADAGASCAR,i.MALI,i.MONACO,i.NIGER,i.RWANDA,i.SENEGAL,i.SEYCHELLES,i.SWITZERLAND,i.TOGO,i.VANUATU]],[n.FRIULIAN,[i.ITALY]],[n.FULAH,[i.CAMEROON,i.GUINEA,i.MAURITANIA,i.SENEGAL]],[n.GADSUP,[i.PAPUA_NEW_GUINEA]],[n.GALICIAN,[i.SPAIN]],[n.GBARI,[i.NIGERIA]],[n.GBAYA_CENTRAL_AFRICAN_REPUBLIC,[i.CENTRAL_AFRICAN_REPUBLIC]],[n.GBAYA_MBODOMO,[i.CAMEROON]],[n.GERMAN,[i.AUSTRIA,i.BELGIUM,i.GERMANY,i.LIECHTENSTEIN,i.LUXEMBOURG,i.SWITZERLAND]],[n.GIZRRA,[i.PAPUA_NEW_GUINEA]],[n.GODIE,[i.IVORY_COAST]],[n.GOEMAI,[i.NIGERIA]],[n.GOKANA,[i.NIGERIA]],[n.GOURMANCHEMA,[i.BENIN,i.BURKINA_FASO,i.NIGER,i.TOGO]],[n.GUDE,[i.CAMEROON,i.NIGERIA]],[n.GUINEA_KPELLE,[i.GUINEA]],[n.GREENLANDIC,[i.GREENLAND]],[n.GWAK,[i.NIGERIA]],[n.HAUSA,[i.BENIN,i.CAMEROON,i.CHAD,i.GHANA,i.IVORY_COAST,i.NIGER,i.NIGERIA,i.SUDAN,i.TOGO]],[n.HAWAIIAN,[i.UNITED_STATES]],[n.HUBA,[i.NIGERIA]],[n.HUNGARIAN,[i.HUNGARY]],[n.HUN_SAARE,[i.NIGERIA]],[n.HYAM,[i.NIGERIA]],[n.IBANI,[i.NIGERIA]],[n.ICELANDIC,[i.ICELAND]],[n.IDOMA,[i.NIGERIA]],[n.IGBO,[i.EQUITORIAL_GUINEA]],[n.IGEDE,[i.NIGERIA]],[n.IK,[i.UGANDA]],[n.IKA,[i.NIGERIA]],[n.IKWERE,[i.NIGERIA]],[n.INARI_SAMI,[i.FINLAND]],[n.IRISH,[i.IRELAND,i.UNITED_KINGDOM]],[n.IVBIE_NORTH_OKPELA_ARHE,[i.NIGERIA]],[n.IZI_EZAA_IKWO_MGBO,[i.NIGERIA]],[n.JOLA_FONYI,[i.GAMBIA,i.SENEGAL]],[n.JUKUN_TAKUM,[i.CAMEROON,i.NIGERIA]],[n.KABYLE,[i.ALGERIA]],[n.KABUVERDIANU,[i.CAPE_VERDE]],[n.KAKI_AE,[i.PAPUA_NEW_GUINEA]],[n.KAMWE,[i.NIGERIA]],[n.KAREKARE,[i.NIGERIA]],[n.KAKO,[i.CAMEROON,i.CENTRAL_AFRICAN_REPUBLIC,i.CONGO_BRAZZAVILLE]],[n.KARANG,[i.CAMEROON,i.CHAD]],[n.KHOEKHOE,[i.NAMIBIA]],[n.KIRE,[i.PAPUA_NEW_GUINEA]],[n.KIRIKE,[i.NIGERIA]],[n.KOLSCH,[i.GERMANY]],[n.KOYRABORO_SENNI,[i.MALI]],[n.KOYRA_CHIINI,[i.MALI]],[n.KUNAMA,[i.ERITREA,i.ETHIOPIA]],[n.KUNIMAIPA,[i.PAPUA_NEW_GUINEA]],[n.KUTEP,[i.CAMEROON,i.NIGERIA]],[n.KPELLE,[i.GUINEA,i.LIBERIA]],[n.KWASIO,[i.CAMEROON,i.EQUITORIAL_GUINEA]],[n.KURDISH,[i.SYRIA,i.TURKEY]],[n.LAKOTA,[i.UNITED_STATES]],[n.LAMANG,[i.NIGERIA]],[n.LANGI,[i.TANZANIA]],[n.LATVIAN,[i.LATVIA]],[n.LIMBUM,[i.CAMEROON]],[n.LINGALA,[i.CONGO_BRAZZAVILLE,i.CONGO_KINSHASA]],[n.LIVONIAN,[]],[n.LITHUANIAN,[i.LITHUANIA]],[n.LOKAA,[i.NIGERIA]],[n.LOW_GERMAN,[i.BRAZIL,i.GERMANY,i.NETHERLANDS]],[n.LOWER_SORBIAN,[i.GERMANY]],[n.LUBA_KATANGA,[i.CONGO_KINSHASA]],[n.LUXEMBOURGISH,[i.BELGIUM,i.FRANCE,i.GERMANY,i.LUXEMBOURG]],[n.MADA_NIGERIA,[i.NIGERIA]],[n.MALAGASY,[i.MADAGASCAR]],[n.MALTESE,[i.MALTA]],[n.MAORI,[i.NEW_ZEALAND]],[n.MAPUCHE,[i.CHILE]],[n.MASAI,[i.KENYA,i.TANZANIA]],[n.MAASINA_FULFULDE,[i.MALI]],[n.MBELIME,[i.BENIN,i.TOGO]],[n.MBO_CAMEROON,[i.CAMEROON]],[n.MBULA_BWAZZA,[i.NIGERIA]],[n.MOFU_GUDUR,[i.CAMEROON]],[n.MUMUYE,[i.NIGERIA]],[n.MUNDANG,[i.CAMEROON,i.CHAD]],[n.MWAGHAVUL,[i.NIGERIA]],[n.NAVAJO,[i.UNITED_STATES]],[n.NGAS,[i.NIGERIA]],[n.NGIEMBOON,[i.CAMEROON]],[n.NGOMBA,[i.CAMEROON]],[n.NIGERIAN_FULFULDE,[i.CAMEROON,i.NIGERIA]],[n.NINZO,[i.NIGERIA]],[n.NORTHERN_DAGARA,[i.BURKINA_FASO]],[n.NORTHERN_SAMI,[i.FINLAND,i.SWEDEN,i.NORWAY]],[n.NORTHERN_SOTHO,[i.SOUTH_AFRICA]],[n.OBOLO,[i.NIGERIA]],[n.OCCITAN,[i.FRANCE,i.ITALY,i.MONACO,i.SPAIN]],[n.PARKWA,[i.CAMEROON]],[n.PERO,[i.NIGERIA]],[n.POLISH,[i.POLAND]],[n.PORTUGUESE,[i.ANGOLA,i.BRAZIL,i.CAPE_VERDE,i.EQUITORIAL_GUINEA,i.GUINEA_BISSAU,i.MACAU,i.MOZAMBIQUE,i.PORTUGAL,i.SAO_TOME_AND_PRINCIPE,i.TIMOR_LESTE]],[n.PRUSSIAN,[]],[n.PULAR,[i.GUINEA,i.MALI,i.SENEGAL,i.SIERRA_LEONE]],[n.QUECHUA,[i.ARGENTINA,i.BOLIVIA,i.COLOMBIA,i.ECUADOR,i.PERU]],[n.ROMANIAN,[i.MOLDOVA,i.ROMANIA]],[n.RON,[i.NIGERIA]],[n.SAAFI_SAAFI,[i.SENEGAL]],[n.SANGO,[i.CENTRAL_AFRICAN_REPUBLIC,i.CHAD,i.CONGO_KINSHASA]],[n.SCOTTISH_GAELIC,[i.UNITED_KINGDOM]],[n.SENA,[i.MOZAMBIQUE]],[n.SERBIAN,[i.BOSNIA,i.CROATIA,i.KOSOVO,i.MONTENEGRO,i.SERBIA]],[n.SERBO_CROATIAN,[i.BOSNIA,i.CROATIA,i.KOSOVO,i.MONTENEGRO,i.SERBIA]],[n.SERER,[i.GAMBIA,i.SENEGAL]],[n.SICILIAN,[i.ITALY]],[n.SISSALA,[i.BURKINA_FASO]],[n.SKOLT_SAMI,[i.FINLAND]],[n.SLOVAK,[i.CZECHIA,i.SLOVAKIA]],[n.SLOVENIAN,[i.SLOVENIA]],[n.SOKORO,[i.CHAD]],[n.SPANISH,[i.ARGENTINA,i.BELIZE,i.BOLIVIA,i.CANARY_ISLANDS,i.CEUTA_AND_MELILLA,i.CHILE,i.COLOMBIA,i.COSTA_RICA,i.CUBA,i.DOMINICAN_REPUBLIC,i.ECUADOR,i.EL_SALVADOR,i.EQUITORIAL_GUINEA,i.GUATEMALA,i.HONDURAS,i.MEXICO,i.NICARAGUA,i.PANAMA,i.PARAGUAY,i.PERU,i.PUERTO_RICO,i.SPAIN,i.UNITED_STATES,i.URUGUAY,i.VENEZUELA]],[n.SRANAN_TONGO,[i.SURINAME]],[n.SWISS_GERMAN,[i.AUSTRIA,i.FRANCE,i.GERMANY,i.LIECHTENSTEIN,i.SWITZERLAND]],[n.TACHELHIT,[i.MOROCCO]],[n.TAL,[i.NIGERIA]],[n.TAMASHEK,[i.MALI]],[n.TAMASHEQ,[i.BURKINA_FASO,i.MALI]],[n.TANGALE,[i.NIGERIA]],[n.TASAWAQ,[i.NIGER]],[n.TAI_DAM,[i.LAOS,i.VIETNAM]],[n.TAROK,[i.NIGERIA]],[n.TEDAGA,[i.CHAD,i.LIBYA,i.NIGER,i.NIGERIA]],[n.TERA,[i.NIGERIA]],[n.TIKAR,[i.CAMEROON]],[n.TONGAN,[i.TONGA]],[n.TORO_SO_DOGON,[i.MALI]],[n.TSIKIMBA,[i.NIGERIA]],[n.TSISHINGINI,[i.NIGERIA]],[n.TURKISH,[i.TURKEY]],[n.TURKMEN,[i.TURKMENISTAN]],[n.UPPER_SORBIAN,[i.GERMANY]],[n.VAI,[i.LIBERIA,i.SIERRA_LEONE]],[n.VIETNAMESE,[i.CAMBODIA,i.VIETNAM]],[n.VOLAPUK,[]],[n.VUTE,[i.CAMEROON,i.NIGERIA]],[n.WAJA,[i.NIGERIA]],[n.WALLOON,[i.BELGIUM]],[n.WALSER,[i.AUSTRIA,i.ITALY,i.LIECHTENSTEIN,i.SWITZERLAND]],[n.WARJI,[i.NIGERIA]],[n.WELSH,[i.UNITED_KINGDOM]],[n.WESTERN_FRISIAN,[i.NETHERLANDS]],[n.WESTERN_NIGER_FULFULDE,[i.BENIN,i.BURKINA_FASO,i.NIGER]],[n.YALA,[i.NIGERIA]],[n.YANGBEN,[i.CAMEROON]],[n.YELE,[i.PAPUA_NEW_GUINEA]],[n.YIL,[i.PAPUA_NEW_GUINEA]],[n.YORUBA,[i.BENIN,i.NIGERIA]],[n.ZARMA,[i.NIGER]],[n.ZULGO_GEMZEK,[i.CAMEROON]]]);t.LANGUAGE_TO_REGIONS=r},dcaibchbg:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("eaidjcib")),r=n(a("dgcdacjddi")),o=n(a("ffceefejc")),s=n(a("cjedcdbdii")),d=n(a("dbjagcfebh")),c=n(a("bebajedcaf")),l=function(e){function t(){var e,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"next";return(0,i.default)(this,t),(e=(0,o.default)(this,(0,s.default)(t).call(this))).list=a,e.index=-1,e.value=void 0,e.getter=n||function(e){return e},e.deleteDir=r,e}return(0,d.default)(t,e),(0,r.default)(t,[{key:"init",value:function(){var e,t,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.list=a,this.value)if((0,c.default)(a))this.unset();else{if((e=a.indexOf(this.value))>-1){if(e===this.index)return;t=!0,n=!1}else if(!n||this.index<0)e=-1;else{var i="prev"===this.deleteDir?-1:0;e=this.index+i,e=Math.max(e,0),t=(e=Math.min(e,a.length-1))>-1}this.set(e,n,t)}}},{key:"unset",value:function(){var e=this.value;this.value=void 0,this.index=-1,e&&this.trigger(this.getter(e),!1)}},{key:"reset",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.index<0||this.value&&this.trigger(this.getter(this.value),"focus",e)}},{key:"set",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(this.list.length){var n=Math.min(Math.max(e,-1),this.list.length-1),i=this.value,r=n>-1?this.list[n]:void 0;r?(this.value=r,this.trigger(this.getter(r),t?"focus":"select")):a&&(this.value=void 0),a&&i&&i!==r&&this.trigger(this.getter(i),!1),this.index=n}}},{key:"getVal",value:function(){return this.value}},{key:"setVal",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=this.list.indexOf(e);a>-1?this.set(a,t):(this.unset(),this.value=e)}},{key:"setFirst",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];(0,c.default)(this.list)||this.set(0,e,!0)}},{key:"setLast",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];(0,c.default)(this.list)||this.set(this.list.length-1,e,!0)}},{key:"setPrev",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];(0,c.default)(this.list)||this.set(this.prev(),e,!0)}},{key:"setNext",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];(0,c.default)(this.list)||this.set(this.next(),e,!0)}},{key:"prev",value:function(){return(0,c.default)(this.list)?-1:-1===this.index?-1:this.index-1}},{key:"next",value:function(){return(0,c.default)(this.list)?-1:Math.min(this.index+1,this.list.length-1)}}]),t}(n(a("cccehdaiaf")).default);t.default=l},dcbafbaejf:function(e,t,a){"use strict";var n=a("cfjecfhbfg"),i=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.sendSpamReport=function(e){return b((0,m.unproxy)(e))},t.sendNotSpam=function(e,t){return function e(t){var a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:(0,o.genId)();var i=t.promises,s=t.notSpam;if(s)return Promise.resolve();if(i.sendNotSpam)return i.sendNotSpam;var l=i.sendNotSpam=(0,g.sendNotSpam)(t);if(a){var u=new o.ActionType(l10n.t(97)),h=l.then(function(e){return new o.ActionType(l10n.t(99))}).catch(c.ServerStatusCodeError,function(e){return new o.ActionType(l10n.t(98))}).catch(function(i){return f.default.error("models:chat:sendNotSpam dropped")(i),new o.ActionType(l10n.t(98),l10n.t(155),function(){return e(t,a,n)})});d.default.openToast(r.createElement(o.ActionToast,{id:n,initialAction:u,pendingAction:h}))}return l.then(function(){t.set({notSpam:!0})}).finally(function(){t.isTrusted(),i.sendNotSpam=null})}((0,m.unproxy)(e),t)},t.sendSpamBlockClear=function(e){return function(e){var t=e.promises,a=e.isGroup,n=e.contact;if(t.reportSpamBlockClear)return t.reportSpamBlockClear;if(a)return Promise.reject(new l.ActionError);var i=b(e);return t.reportSpamBlockClear=i.then(function(){return(0,s.blockContact)(n)}).then(function(){return(0,p.sendClear)(e,!1)}).catch(function(){}).finally(function(){t.reportSpamBlockClear=null}),t.reportSpamBlockClear}((0,m.unproxy)(e))},t.sendSpamExitClear=function(e){return function(e){var t,a=e.promises,n=e.isGroup,i=e.isReadOnly,r=e.msgs;if(a.reportSpamExitClear)return a.reportSpamExitClear;if(!n)return Promise.reject(new l.ActionError);var o=b(e);if(i)t=o;else{var s=(0,u.sendExitGroup)(e),d=h.waitForBBEvent(r,"change:last",function(e){return e.isGroupLeave()});t=Promise.all([o,s,d])}return a.reportSpamExitClear=t.then(function(){return(0,p.sendClear)(e,!1)}).catch(function(){}).finally(function(){a.reportSpamExitClear=null}),a.reportSpamExitClear}((0,m.unproxy)(e))};var r=i(a("ddhijeejag")),o=a("ccihhdchab"),s=a("dfdebdgdei"),d=n(a("bbchdeehff")),c=a("ddjgcfjicj"),l=i(a("cajijabhgb")),u=a("bafdehfigc"),f=n(a("bdiiahhjbe")),h=i(a("ebggjhghhi")),p=a("cjciachhej"),g=a("chjjhigbaj"),m=a("bheafeifce");function b(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(0,o.genId)(),a=e.promises;if(a.sendSpamReport)return a.sendSpamReport;var n=a.sendSpamReport=(0,g.sendSpamReport)(e),i=new o.ActionType(l10n.t(148)),s=n.then(function(e){return new o.ActionType(l10n.t(150))}).catch(c.ServerStatusCodeError,function(e){return new o.ActionType(l10n.t(149))}).catch(function(a){return f.default.error("models:chat:sendSpamReport dropped")(a),new o.ActionType(l10n.t(149),l10n.t(155),function(){return b(e,t)})});return d.default.openToast(r.createElement(o.ActionToast,{id:t,initialAction:i,pendingAction:s})),n.finally(function(){a.sendSpamReport=null})}},dcbafbbijj:function(e,t){e.exports={viewport:"_1H6CJ",verticalListViewport:"_1rqO1",horizontalListViewport:"_2WZg_"}},dcbcadjgid:function(e,t){e.exports={list:"_3zCpe",hint:"bHCVK",button:"_2TLLH"}},dcbcechchi:function(e,t){e.exports={wrapper:"_1_vLz",button:"_2sOZc",icon:"_1_rsn"}},dcbfjbeaad:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("djecdhecha")),l=i(a("dbjagcfebh")),u=i(a("fhfbcdaib")),f=n(a("ddhijeejag")),h=i(a("effbcehec")),p=a("dfdebdgdei"),g=i(a("dcbcadjgid")),m=i(a("bgfcjjddjf")),b=i(a("bbchdeehff")),v=i(a("biddiiafgd")),j=i(a("hdccjfbbg")),E=i(a("dhigahgdjb")),y=i(a("ddbdcagdbi")),_=i(a("djcchigfih")),S=i(a("djbhiedbef")),C=i(a("cabhjigfgc")),A=n(a("dajffajabh")),M=a("cicgeajfge"),T=i(a("bbhhbdicgc")),P=i(a("cicjcfabii")),N=i(a("bggeiidigb")),I=i(a("eceadcicaf")),k=i(a("bfdcadbbif")),O=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).flatListController=new N.default,a.onBlockConfirm=function(e){(0,p.blockContact)(e).catch(function(){}),b.default.closeModal()},a.onBlock=function(){b.default.openModal(f.createElement(y.default,{title:l10n.t(165),filter:function(e){return!!E.default.isFilteredContact(e)&&(!m.default.get(e.id)||l10n.t(904))},onCancel:function(){return b.default.closeModal()},onSelect:(0,u.default)(a.onBlockConfirm)}))},a.onUnblockConfirm=function(e){(0,p.unblockContact)(e).catch(function(){}),b.default.closeModal()},a.onUnblockCancel=function(){b.default.closeModal()},a.onUnblock=function(e,t){b.default.openModal(f.createElement(v.default,{okText:l10n.t(1100),onOK:a.onUnblockConfirm.bind((0,c.default)(a),t),cancelText:l10n.t(1197),onCancel:a.onUnblockCancel},l10n.t(1101,{contact:t.formattedName})))},a.renderItem=function(e){var t=e.blocklist.contact();return f.createElement(j.default,{contact:t,key:t.id.toString(),onClick:a.onUnblock,onDelete:a.onUnblock,waitIdle:!0})},a}return(0,l.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.listeners.add(m.default,"add remove",function(){e.forceUpdate()})}},{key:"getData",value:function(){return m.default.map(function(e){return{itemKey:e.id.toString(),blocklist:e}})}},{key:"render",value:function(){var e,t;return m.default.length>0?(e=f.createElement(P.default,{flatListControllers:[this.flatListController],className:g.default.list},f.createElement(T.default,{flatListController:this.flatListController,direction:"vertical",data:this.getData(),renderItem:this.renderItem})),t=f.createElement("div",{"data-a8n":h.default.key("blocked-description"),className:g.default.hint},l10n.t(162))):e=f.createElement(M.Blocked,null),f.createElement(_.default,null,f.createElement(A.default,{title:l10n.t(221),onBack:this.props.onClose,type:A.DRAWER_HEADER_TYPE.LARGE}),f.createElement("div",{className:g.default.button},f.createElement(C.default,{a8nText:"li-add-blocked",onClick:this.onBlock,icon:f.createElement(k.default,{name:"add-user",directional:!0})},l10n.t(165))),f.createElement(S.default,null,e,t))}}]),t}(f.Component),R=(0,I.default)(O);t.default=R},dccciaccbi:function(e,t){e.exports={btnSend:"_3TN_b",attributionLink:"_3ynMm",mediaBody:"_2jfnX",attribution:"_3b4jr",footer:"_22aOT",containerBackground:"_3979j",retake:"_1Ff50",retakeIcon:"_25UUh",mediaElementBase:"eqJK3",mediaElement:"_1cz_a eqJK3"}},dccdiajhdf:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.SECTIONS=void 0;var r=i(a("bhfcfhafdj")),o=i(a("eaidjcib")),s=i(a("dgcdacjddi")),d=i(a("ffceefejc")),c=i(a("cjedcdbdii")),l=i(a("dbjagcfebh")),u=n(a("ddhijeejag")),f=i(a("effbcehec")),h=i(a("ebcagbhefg")),p=i(a("bbchdeehff")),g=i(a("baagejbchg")),m=i(a("djcchigfih")),b=i(a("djbhiedbef")),v=n(a("dajffajabh")),j=i(a("fijafegab")),E=n(a("cajijabhgb")),y=n(a("bbhhbdicgc")),_=i(a("bggeiidigb")),S=i(a("bjbdcigbdi")),C=i(a("cbdagjiddg")),A=i(a("bdcjhdddde")),M=i(a("dhfbggbbbd")),T=i(a("jheedhagg")),P=a("ejbdjaifi"),N=i(a("cigbgdjabj")),I=i(a("eceadcicaf")),k=a("ddbddjjgia"),O=i(a("biecbbiiee")),R=i(a("eigdejjai")),w=i(a("eafabiffad")),D=i(a("bibjgdifc")),L=i(a("cahfddcdga")),U=i(a("bjbedjfe")),G=i(a("bhifaggjcb")),x=i(a("bfgbdiffgd")),F=i(a("becfabjeeg")),B=i(a("ihfccfgdf")),V=i(a("bfdcadbbif")),H=i(a("eedjbihej")),W=n(a("bfjajhbdf")),Y=i(a("caceaafdic")),$={PLAYED_HEADER:"PLAYED_HEADER",PLAYED_FOOTER:"PLAYED_FOOTER",READ_HEADER:"READ_HEADER",READ_FOOTER:"READ_FOOTER",DELIVERED_HEADER:"DELIVERED_HEADER",DELIVERED_FOOTER:"DELIVERED_FOOTER",FORWARD_COUNT:"FORWARD_COUNT"};t.SECTIONS=$;var K="MSG_INFO_ROW",q=function(e){function t(){var e,a;(0,o.default)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=(0,d.default)(this,(e=(0,c.default)(t)).call.apply(e,[this].concat(i)))).flatListController=new _.default,a.setRefScrollable=function(e){a.refScrollable=e},a.state={msgInfo:void 0,unimplemented:!1},a.wrapper=null,a.isMsgVisible=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e===a.props.msg.id&&(!!t||a.getMsgComponent())},a.onClose=function(){a.props.uim.uie.requestDismiss()},a.getHeaderAtSection=function(e){var t,a;switch(e){case $.PLAYED_HEADER:a=u.createElement(V.default,{name:"status-ptt-blue"}),t=l10n.t(741);break;case $.READ_HEADER:a=u.createElement(V.default,{name:"status-dblcheck",className:A.default.ack}),t=l10n.t(743);break;case $.DELIVERED_HEADER:a=u.createElement(V.default,{name:"status-dblcheck"}),t=l10n.t(739)}return a=u.createElement("div",{className:A.default.titleIcon},a),u.createElement("div",{"data-a8n":f.default.key("msg-info-title"),className:A.default.title},u.createElement(G.default,{side:a,ellipsify:!0},u.createElement(H.default,{theme:"section-title"},t)))},a.getFooterAtSection=function(e){var t=(0,L.default)(a.state.msgInfo);return u.createElement(M.default,{key:e,section:e,msgInfo:t})},a.renderItem=function(e){return e.type===K?a.getInfoCell(e.participant):e.type===$.FORWARD_COUNT?a.getForwardCount():e.type===$.PLAYED_HEADER||e.type===$.READ_HEADER||e.type===$.DELIVERED_HEADER?a.getHeaderAtSection(e.type):a.getFooterAtSection(e.type)},a}return(0,l.default)(t,e),(0,s.default)(t,[{key:"componentDidMount",value:function(){var e,t=this;R.default.find(this.props.msg.id).checkpoint(this.props.rejectOnUnmount()).then(function(e){t.setState({msgInfo:e}),t.props.listeners.add(e.played,"add remove",function(){t.forceUpdate()}),t.props.listeners.add(e.read,"add remove",function(){t.forceUpdate()}),t.props.listeners.add(e.delivery,"add remove",function(){t.forceUpdate()})}).catch(E.Unmount,function(){}).catch(function(){t.setState({unimplemented:!0}),p.default.openToast(u.createElement(W.default,{msg:l10n.t(772),id:(0,W.genId)("msg_info_failed")}))});var a=null===(e=this.refScrollable)||void 0===e?void 0:e.container;this.props.msg.type===g.default.MSG_TYPE.IMAGE&&a&&(a.scrollTop=a.scrollHeight),this.props.listeners.add(this.props.msg,"remove",function(e,a){a===O.default&&t.props.uim.uie.requestDismiss()})}},{key:"getAnimateEnterClass",value:function(e){return"animate-enter".concat(-1===e?"":e)}},{key:"getMsgComponent",value:function(){var e=this.wrapper;if(e)return e.getMsgComponentRef()}},{key:"getInfoCell",value:function(e){return u.createElement(C.default,{msgInfoParticipant:e,contact:e.contact,key:e.id.toString()})}},{key:"getForwardCount",value:function(){return u.createElement("div",{className:A.default.forwardCount},u.createElement(w.default,{msg:this.props.msg}))}},{key:"getData",value:function(){var e=this.props.msg,t=this.state.msgInfo,a=[];return t&&t.isPTT&&(a.push({type:$.PLAYED_HEADER,itemKey:$.PLAYED_HEADER,height:50}),a.push.apply(a,(0,r.default)(t.played.map(function(e){return{participant:e,type:K,itemKey:e.id.toString(),height:y.DEFAULT_ITEM_HEIGHT}}))),t.playedRemaining>0&&a.push({type:$.PLAYED_FOOTER,itemKey:$.PLAYED_FOOTER,height:50})),t&&(t.read.length>0||t.playedRemaining>0)&&(a.push({type:$.READ_HEADER,itemKey:$.READ_HEADER,height:50}),a.push.apply(a,(0,r.default)(t.read.map(function(e){return{participant:e,type:K,itemKey:e.id.toString(),height:y.DEFAULT_ITEM_HEIGHT}}))),t.readRemaining>0&&a.push({type:$.READ_FOOTER,itemKey:$.READ_FOOTER,height:50})),t&&(t.delivery.length>0||t.deliveryRemaining>0)&&(a.push({type:$.DELIVERED_HEADER,itemKey:$.DELIVERED_HEADER,height:50}),a.push.apply(a,(0,r.default)(t.delivery.map(function(e){return{participant:e,type:K,itemKey:e.id.toString(),height:y.DEFAULT_ITEM_HEIGHT}}))),t.deliveryRemaining>0&&a.push({type:$.DELIVERED_FOOTER,itemKey:$.DELIVERED_FOOTER,height:50})),x.default.frequentlyForwardedMessages&&e.numTimesForwarded>0&&!e.isFrequentlyForwarded&&a.push({type:$.FORWARD_COUNT,itemKey:$.FORWARD_COUNT,height:60}),a}},{key:"render",value:function(){var e,t=this.props.msg,a=this.state,n=a.msgInfo,i=a.unimplemented;n||i||(e=u.createElement("div",{className:A.default.spinner,key:"spinner"},u.createElement(F.default,{size:50,stroke:4})));var r=this.getData(),o=r.length?u.createElement(y.default,{flatListController:this.flatListController,direction:"vertical",forceConsistentRenderCount:!1,data:r,renderItem:this.renderItem}):null,s=null;return t.labels&&t.labels.length&&S.default.supportsFeature(S.default.F.LABELS_DISPLAY)&&(s=u.createElement(j.default,{theme:"padding"},u.createElement(N.default,{labels:t.labels}))),u.createElement(m.default,{key:"message-info-modal"},u.createElement(v.default,{title:l10n.t(737),type:v.DRAWER_HEADER_TYPE.SMALL,onCancel:this.onClose}),u.createElement(D.default,{ref:this.setRefScrollable,chatPreference:h.default.assertGet("defaultPreference")},u.createElement(Y.default,{msg:t,ref:(0,P.GetRef)("wrapper",this),displayType:g.default.DISP_TYPE.MSG_INFO,isMsgVisible:this.isMsgVisible,position:k.MsgPosition.END,onProductClick:this.props.onProductClick})),u.createElement(b.default,{flatListControllers:[this.flatListController]},s,e,u.createElement("div",{className:A.default.list},o)))}}]),t}(u.Component);q.CONCERNS={msg:["id","star","type","isGif","labels","numTimesForwarded","isFrequentlyForwarded"]};var z=(0,T.default)((0,U.default)((0,I.default)((0,B.default)(q,q.CONCERNS))));t.default=z},dcdbiiejfc:function(e,t,a){"use strict";var n=a("cfjecfhbfg"),i=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.sendDelete=function(e){return function e(t){if(t.promises.sendDelete)return t.promises.sendDelete;var a=t.getLastMsgKeyForAction();var n=a?t.msgs.get(a):void 0;var i=t.promises.sendDelete=(0,c.sendConversationDelete)(t.id,a,t.getLastMsgKeyForAction.bind(t));var u=t.kind;var f;switch(u){case s.KIND.GROUP:f=l10n.t(59);break;case s.KIND.BROADCAST:f=l10n.t(11);break;case s.KIND.CHAT:f=l10n.t(21)}f=new o.ActionType(f);var h=i.then(function(e){if(200===e.status)switch(u){case s.KIND.GROUP:return new o.ActionType(l10n.t(58));case s.KIND.BROADCAST:return new o.ActionType(l10n.t(10));case s.KIND.CHAT:return new o.ActionType(l10n.t(20))}else if(e.status>=400)switch(u){case s.KIND.GROUP:return new o.ActionType(l10n.t(57));case s.KIND.BROADCAST:return new o.ActionType(l10n.t(9));case s.KIND.CHAT:return new o.ActionType(l10n.t(19))}}).catch(function(a){var n;switch(l.default.error("models:chat:sendDelete dropped")(a),u){case s.KIND.GROUP:n=l10n.t(57);break;case s.KIND.BROADCAST:n=l10n.t(9);break;case s.KIND.CHAT:n=l10n.t(19)}return new o.ActionType(n,l10n.t(155),function(){return e(t)})});d.default.openToast(r.createElement(o.ActionToast,{id:(0,o.genId)(),initialAction:f,pendingAction:h}));return i.then(function(e){if(200===e.status&&!e._duplicate){var i=t.getLastMsgKeyForAction();a&&a.equals(i)||a===i?t.delete():t.deleteMsgsBeforeMsgInclusive(n)}}).finally(function(){t.promises.sendDelete=null})}((0,u.unproxy)(e))};var r=i(a("ddhijeejag")),o=a("ccihhdchab"),s=a("ebjaejiaba"),d=n(a("bbchdeehff")),c=a("bjecicbiic"),l=n(a("bdiiahhjbe")),u=a("bheafeifce")},dcdifccjdh:function(e,t,a){"use strict";var n=a("cfjecfhbfg"),i=n(a("ddfeabiaci")),r=n(a("baagejbchg")),o=n(a("bjigbaghc")),s=n(a("bdiiahhjbe")),d=n(a("cffajefeag")),c=n(a("jccfhaecf")),l=a("dhacjhbgfj"),u={version:"12",M:{DEBUG_LOG:1,QUERY_RESUME:2,QUERY_RECEIPT:3,QUERY_MEDIA:4,QUERY_CHAT:5,QUERY_CONTACTS:6,QUERY_MESSAGES:7,PRESENCE:8,PRESENCE_SUBSCRIBE:9,GROUP:10,READ:11,CHAT:12,RECEIVED:13,PIC:14,STATUS:15,MESSAGE:16,QUERY_ACTIONS:17,BLOCK:18,QUERY_GROUP:19,QUERY_PREVIEW:20,QUERY_EMOJI:21,QUERY_MESSAGE_INFO:22,SPAM:23,QUERY_SEARCH:24,QUERY_IDENTITY:25,QUERY_URL:26,PROFILE:27,CONTACT:28,QUERY_VCARD:29,QUERY_STATUS:30,QUERY_STATUS_UPDATE:31,PRIVACY_STATUS:32},statusQuery:function(){switch(arguments.length){case 2:case 3:case 4:return this.statusQueryUpdate.apply(this,arguments);case 0:default:return this.statusQueryAll()}},statusQueryAll:function(){var e=this;return new Promise(function(t,a){var n=e.queryNode({type:"status"},void 0);e.binSend("sendEphemeral",n,a,{onSend:e.binWrap(function(n){e.BinaryProtocol.read(n).then(function(a){var n={statuses:[]},i=e.N.children(a);if(s.default.logColor("green","bin-recv: response,statusv3",a)(),"response"===e.N.tag(a)&&"status"===e.N.attr("type",a)&&(n.checksum=e.N.attr("checksum",a),Array.isArray(i)))for(var r=i.length,o=0;o<r;o++){var d=i[o],c=e.N.attr("jid",d),l=e.N.attr("unread",d),u=e.N.attr("count",d),f=e.N.attr("t",d),h=e.N.attr("score",d);if("status"===e.N.tag(d)&&c&&u&&f){var p={id:c,unreadCount:parseInt(l,10)||0,totalCount:parseInt(u,10)||0,t:parseInt(f,10)||0,score:parseFloat(h)||0,_msgs:[]},g=e.N.children(d);if(Array.isArray(g))for(var m=g.length,b=0;b<m;b++)switch(e.N.tag(g[b])){default:case"message":var v=e.parseMsgMessage(g[b],"response");v&&p._msgs.push(v);break;case"picture":var j=e.N.children(g[b]);j instanceof ArrayBuffer&&(p.pic=j)}n.statuses.push(p)}}t(n)}).catch(a)},t),onDrop:e.wrap(a)},{debugString:"query,statusv3",metricName:"QUERY_STATUS",ackRequest:!1})})},statusQueryUpdate:function(e,t,a,n){var i=this;return new Promise(function(r,o){var c="before"===n?"before":"after",l={type:"status",kind:c,chat:e,count:t.toString(),jid:a?a.remote:void 0,index:a?a.id:void 0,owner:a?a.fromMe.toString():void 0,participant:a?a.participant:void 0},u=i.queryNode(l,void 0);i.binSend("sendEphemeral",u,o,{onSend:i.binWrap(function(e){i.BinaryProtocol.read(e).then(function(e){var t=[],a=i.N.children(e);if(s.default.logColor("green","bin-recv: response,statusv3",e)(),"response"===i.N.tag(e)&&"status"===i.N.attr("type",e)&&Array.isArray(a))for(var n=a.length,o=0;o<n;o++){var d=i.parseMsg(a[o],"response");d&&t.push(d)}r(t)}).catch(o)},r),onDrop:i.wrap(o)},{debugString:["query","statusv3",c,t,a instanceof d.default?a.toString():e].join(),metricName:"QUERY_STATUS_UPDATE",ackRequest:!1})})},sendConversationSeen:function(e,t,a,n,i){var r=this;return new Promise(function(o,s){var d=r.actionNode("set",[["read",{kind:n?"status":void 0,chat:n?i:void 0,jid:e,index:t?t.id:void 0,owner:t?t.fromMe.toString():void 0,participant:t?t.participant:void 0,count:a&&t?a.toString():void 0},void 0]]);r.binSend("send",d,s,{clientCacheable:!0,onSend:r.wrap(o),onDrop:r.wrap(s)},{debugString:"action,"+(n?"status":"chat")+",read,"+JSON.stringify(t)+","+a,metricName:"READ",ackRequest:!0})})},sendStatusSeen:function(e,t){return this.sendConversationSeen(e.remote,e,void 0,!0,t)},sendStatusMute:function(e,t){var a=this;return new Promise(function(n,i){var r=a.actionNode("set",[["status",{jid:e,mute:(!!t).toString()},void 0]]);a.binSend("send",r,i,{clientCacheable:!0,onSend:a.wrap(n),onDrop:a.wrap(i)},{debugString:"action,status,mute,"+[e,t].join(),metricName:"STATUS",ackRequest:!0})})},requestMediaReupload:function(e,t){var a=this;return new Promise(function(n,i){var r=e.id,o=Array.isArray(t)?t.map(function(e){return["user",{jid:e},void 0]}):void 0,d=r,c=a.queryNode({type:"media",index:d.id,jid:d.remote,owner:d.fromMe.toString(),participant:d.participant},o);a.binSend("sendEphemeral",c,i,{onSend:a.binWrap(function(e){a.BinaryProtocol.read(e).then(function(e){var t;if(s.default.logColor("green","bin-recv: response,media",e)(),"response"===a.N.tag(e)&&"media"===a.N.attr("type",e)){var i=parseInt(a.N.attr("code",e))||400,r=a.N.attr("url",e);i>=500&&502!==i?(s.default.error("wap:requestMediaReupload:error "+i)(),t={status:i}):200===i&&r?t={status:200,url:r,mediaKey:a.N.attr("media_key",e),mediaKeyTimestamp:a.N.attr("media_key_timestamp",e),encFilehash:a.N.attr("enc_filehash",e),directPath:a.N.attr("direct_path",e)}:200!==i||r?(s.default.error("wap:requestMediaReupload:error "+i)(),t={status:i}):(s.default.assert(!1,"wap:requestMediaReupload:emptyUrl")(),t={status:400})}else s.default.error("wap:requestMediaReupload:malformed")(),t={status:400};n(t)}).catch(i)},n),onDrop:a.wrap(i)},{debugString:"query,media",metricName:"QUERY_MEDIA",ackRequest:!1})})},parseCmd:function(e){switch(this.N.tag(e)){case"read":var t,a=this.N.attr("jid",e),n="false"===this.N.attr("type",e),i="status"===this.N.attr("kind",e),r=this.N.attr("checksum",e),o=this.N.attr("index",e),s="true"===this.N.attr("owner",e),c=this.N.attr("participant",e),l=this.N.attr("chat",e);try{t=new d.default({id:o,fromMe:s,remote:a,participant:c})}catch(e){}var u={type:n?"unread":"read",jid:a,isStatus:i,checksum:r,chat:this.decodeJid(l),key:t},f=[!a,i&&!t];return this.dropIfConditionMet(f,u);case"identity":var h=this.parseIdentity(e);return h?(h.type="identity",h):void 0;default:return}},parseContact:function(e,t){if("user"===this.N.tag(e)){var a,n,i=this.N.attr("name",e),o="true"===this.N.attr("enterprise",e),d=this.N.attr("jid",e)||t,c=this.N.attr("short",e)||void 0,l=this.N.attr("type",e)||"in",u=this.N.attr("notify",e),f=this.N.attr("verify",e),h="true"===this.N.attr("status_mute",e),p=this.N.attr("index",e)||void 0,g=this.N.attr("vname",e);switch(f){case"true":case"0":case"1":case"2":a=!0,n=parseInt(f,10)||0;break;default:a=!1,o=!1}i||n!==r.default.VERIFIED_LEVEL.HIGH||(i=g);var m=this.N.children(e),b=[];if(Array.isArray(m))for(var v=0;v<m.length;v++){var j=m[v];if("label"===this.N.tag(j)){var E=this.N.attr("id",j);E&&b.push(E)}}var y={id:d,name:i,type:l,shortName:c,pushname:u,isBusiness:a,verifiedLevel:n,statusMute:h,sectionHeader:p,verifiedName:g,labels:b,isEnterprise:o},_=[!d,"in"!==l&&"out"!==l&&!!l];return this.dropIfConditionMet(_,y)}s.default.assert(!1,"wap-unexpected-tag","expected tag: user, received tag: ".concat(this.N.tag(e),", tag id: ").concat(this.N.attr("id",e)))()},parseAck:function(e){if("received"===this.N.tag(e)){var t,a=this.N.attr("type",e),n=this.N.attr("index",e),i=this.N.attr("jid",e),r="true"===this.N.attr("owner",e),d=this.N.attr("participant",e);switch(a){case"message":t=2;break;case"read":t=3;break;case"played":t=4;break;case"error":t=-1;break;case"pending":default:t=0}var l={cmd:"ack",id:n,ack:t,from:r?o.default.me:i,to:r?i:o.default.me,participant:d,self:r?"out":"in"},u=[!n,!i,c.default.isStatusV3(i),"message"!==a&&"read"!==a&&"played"!==a&&"error"!==a&&"pending"!==a];return this.dropIfConditionMet(u,l)}s.default.assert(!1,"wap-unexpected-tag","expected tag: received, received tag: ".concat(this.N.tag(e),", tag id: ").concat(this.N.attr("id",e)))()}};e.exports=(0,i.default)(u,l)},dcdijgaegd:function(e,t){e.exports={outerContainer:"_2IaIL",innerContainer:"_1Rqhe"}},dcebcbcdih:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=i(a("dgdjiicfdg")),u=n(a("ddhijeejag")),f=i(a("dbdfbgehgj")),h=i(a("bbchdeehff")),p=i(a("baagejbchg")),g=i(a("biddiiafgd")),m=i(a("bjigbaghc")),b=i(a("dhigahgdjb")),v=i(a("dhhfaeacef")),j=i(a("fifhbjiec")),E=a("cicgeajfge"),y=a("ddjgcfjicj"),_=n(a("cajijabhgb")),S=i(a("fcfchiagj")),C=i(a("djaadchjch")),A=i(a("ebacfjjdeb")),M=i(a("dihehaccca")),T=a("chcadgfgad"),P=i(a("bahgfcjcda")),N=i(a("bjbedjfe")),I=i(a("ihfccfgdf")),k=i(a("bfdcadbbif")),O=n(a("bfjajhbdf")),R=i(a("bihdhbjih")),w=a("dcbdjheea"),D={LOADING:0,SUCCESS:1,ERROR:2},L=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).state={state:D.LOADING,status:void 0,groupMetadata:void 0,subject:void 0},a.onViewGroup=function(e){var t;e?t=e:a.state.groupMetadata&&(t=a.state.groupMetadata.id),t&&h.default.openChatFromUnread(f.default.assertGet(t)),h.default.closeModal()},a.revokeGrpV4Invite=function(){var e=a.props.msg,t=a.props.msg.inviteGrp,n=f.default.assertGet((0,w.createWid)(t)).groupMetadata;h.default.openModal(u.createElement(g.default,{onOK:function(){h.default.closeModal(),n.revokeGroupV4AddInvite([e.to.toString()]).then(function(){h.default.openToast(u.createElement(O.default,{msg:l10n.t(1298),id:(0,O.genId)()}))})},okText:l10n.t(1390),onCancel:function(){return h.default.closeModal()},cancelText:l10n.t(1197)},u.createElement(j.default,{text:l10n.t(583,{participant:e.chat.contact.formattedName})})))},a.onJoinGroup=function(){var e=a.props.msg,t=e.inviteCode,n=e.inviteCodeExp,i=e.inviteGrp,r=e.from;R.default.acceptGroupV4Invite(i,r.toString(),t,"".concat(n),m.default.me.toString()).then(function(e){return 200===e.status?f.default.find((0,w.createWid)(i)):Promise.reject(e.status)}).then(function(e){h.default.openChatFromUnread(e).then(function(t){t&&h.default.focusChatTextInput(e)}),h.default.closeModal()}).checkpoint(a.props.rejectOnUnmount()).catch(_.Unmount,function(){}).catch(function(e){a.setState({state:D.ERROR,status:e})})},a.onCancel=function(){h.default.closeModal()},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.msg,a=t.inviteCode,n=t.inviteCodeExp,i=t.inviteGrp;if(t.isSentByMe){var r=f.default.assertGet((0,w.createWid)(i));r.groupMetadata&&C.default.find(r.id).catch(y.WapDrop,_.ProtoVersionUndefined,function(){}).finally(function(){e.setState({status:200,groupMetadata:r.groupMetadata,subject:r.formattedTitle||r.name,state:D.SUCCESS})})}else R.default.groupV4InviteRequestMetadataFind(m.default.me.toString(),this.props.msg.from.toString(),a,"".concat(n),i).then(function(t){if(null!=t.status&&t.status>=400)e.setState({status:t.status,state:D.ERROR});else if(t.id){var a=new S.default({id:t.id,owner:t.owner,creation:t.creation,desc:t.desc,descId:t.descId,descOwner:t.descOwner,descTime:t.descTime,restrict:t.restrict,announce:t.announce,participants:t.participants});e.setState({status:200,groupMetadata:a,subject:t.subject,state:D.SUCCESS})}else e.setState({status:t.status,state:D.ERROR})}).catch(_.Unmount,function(){})}},{key:"render",value:function(){var e,t,a=this.props.msg,n=a.inviteGrp,i=a.inviteCodeExp,r=a.inviteCode,o=a.isGroupsV4InviteExpired,s=a.from,d=a.isSentByMe,c=this.state,h=c.state,y=c.status,_=c.groupMetadata,S=c.subject,C={cancelText:l10n.t(534),onCancel:this.onCancel,onOK:void 0,okText:void 0};if(h===D.LOADING)e=u.createElement(E.Loading,null);else if(h===D.SUCCESS&&_){var N,I=_.participants,O=_.size||I.length,R=I.filter(function(e){return!!b.default.assertGet(e.id).name}),L=_.desc?u.createElement("div",{className:A.default.metadataDesc},u.createElement(j.default,{text:_.desc})):null;N=R.length?u.createElement("div",{className:A.default.participantList},u.createElement("div",{className:A.default.participantsTitle},l10n.t(546,{count:O,_plural:O})," ",""," ",l10n.t(536,{count:R.length,_plural:R.length})),u.createElement("div",{className:A.default.participantsContainer},R.map(function(e){return u.createElement("div",{key:e.id.toString(),className:A.default.participantWrapper},u.createElement(v.default,{id:e.id}),u.createElement(j.default,{className:A.default.participantText,text:e.contact.formattedName}))}))):u.createElement("div",{className:A.default.emptyContentContainer},u.createElement("span",{className:A.default.participantsText},l10n.t(546,{count:O,_plural:O})),u.createElement("span",{className:A.default.contactsText}," ",""," ",l10n.t(536,{count:R.length,_plural:R.length})));var G="w=".concat(encodeURIComponent(m.default.me.toString()),"&g=").concat(encodeURIComponent(n),"&c=").concat(encodeURIComponent(r),"&e=").concat(encodeURIComponent(i),"&a=").concat(encodeURIComponent(s.toString())),x="".concat(p.default.GROUP_V4_INVITE_ICON_URL,"?").concat(G);e=u.createElement("div",null,u.createElement("div",{className:A.default.metadataContainer},d?u.createElement(P.default,{size:82,waid:(0,w.createWid)(n)}):u.createElement(M.default,{src:x,fallback:"default-group",size:82}),u.createElement("div",{className:A.default.metadataText},u.createElement(j.default,{className:A.default.metadataTitle,text:S}),L)),N);var F=f.default.get(_.id),B=!!F&&!F.isReadOnly;a.isSentByMe?(C.onOK=this.revokeGrpV4Invite,C.okText=l10n.t(998)):B?(C.onOK=this.onViewGroup,C.okText=l10n.t(558)):o||(C.onOK=this.onJoinGroup,C.okText=l10n.t(541)),t=T.FlexModalType}else{var V;switch(y){case 401:V=l10n.t(529);break;case 404:V=l10n.t(530);break;case 410:V=l10n.t(531);break;case 419:V=l10n.t(532);break;default:V=l10n.t(533)}C.cancelText=l10n.t(1331),e=u.createElement("div",null,V)}var H,W,Y,$=h===D.SUCCESS?u.createElement("div",{className:A.default.inviteExpiration},u.createElement(k.default,{name:"panel-recent",display:"inline",className:A.default.inviteExpirationIcon}),u.createElement("span",null,(H=parseInt(i,10),W=(0,l.default)(1e3*H).diff((0,l.default)()),Y=Math.floor(W/U),W<=0?l10n.t(636):Y<12?l10n.t(634,{time:(0,l.default)().local().format("LT")}):Y<24?l10n.t(635,{number:1,_plural:1}):Y<48?l10n.t(635,{number:2,_plural:2}):l10n.t(635,{number:3,_plural:3})))):null;return u.createElement(g.default,{cancelText:C.cancelText,onCancel:C.onCancel,onOK:C.onOK,okText:C.okText,type:t},e,$)}}]),t}(u.Component);L.CONCERNS={msg:["id","to","inviteCode","inviteCodeExp","inviteGrp","isGroupsV4InviteExpired","from","chat","isSentByMe"]};var U=36e5;var G=(0,I.default)((0,N.default)(L),L.CONCERNS);t.default=G},dcecgegjfc:function(e,t,a){"use strict";var n=a("cfjecfhbfg"),i=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.start=function(e,t){var a=!1,n=0;return Promise.resolve().then(function(){var i,r="camera"===e?{video:{width:l.default.imageMaxEdge,height:l.default.imageMaxEdge}}:{audio:!0};if(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)throw new Error("MediaCapture:start no ability to capture media");return i=navigator.mediaDevices.getUserMedia(r),n=setTimeout(function(){t?t():(!function(e){"camera"===e?s.default.openModal(o.createElement(c.default,{messaging:c.Messaging.CAMERA,type:c.default.TYPE.GUIDE_ALLOW})):s.default.openModal(o.createElement(c.default,{messaging:c.Messaging.MIC,type:c.default.TYPE.GUIDE_ALLOW}))}(e),a=!0)},1e3),i.catch(function(e){var t=e&&e.name||e,a=d.GUM[t]||d.GUM.GUMError;return Promise.reject(new a)})}).finally(function(){a&&s.default.closeModal(),n&&clearTimeout(n)})},t.stop=function(e){if("function"==typeof e.stop)e.stop();else for(var t=e.getTracks(),a=0;a<t.length;a++)t[a].stop()},t.isSrcObjectInVideoElement=function(){void 0===r&&(r="srcObject"in document.createElement("video"));return r};var r,o=i(a("ddhijeejag")),s=n(a("bbchdeehff")),d=a("cajijabhgb"),c=i(a("ffchhcfdj")),l=n(a("bfgbdiffgd"))},dceicchccd:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("eaidjcib")),r=n(a("dgcdacjddi")),o=n(a("ffceefejc")),s=n(a("cjedcdbdii")),d=n(a("dbjagcfebh")),c=n(a("eicihhaba")),l=n(a("bebajedcaf")),u=function(e){function t(e,a){var n;return(0,i.default)(this,t),(n=(0,o.default)(this,(0,s.default)(t).call(this))).list=e,n.selected=e.reduce(function(e,t,a){return e[a]=!1,e},{}),n.getter=a,n}return(0,d.default)(t,e),(0,r.default)(t,[{key:"init",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];(0,l.default)(this.selected)||((0,l.default)(t)?this.unsetAll():(this.selected=t.reduce(function(t,a,n){var i=e.list.indexOf(a);return t[n]=i>-1&&e.selected[i],t},{}),this.list=t))}},{key:"unsetAll",value:function(){var e=this;(0,c.default)(this.selected,function(t,a){t&&e.set(a,!1)})}},{key:"reset",value:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];(0,c.default)(this.selected,function(a,n){a&&e.trigger(e.getter(e.list[n]),!0,!0,t)})}},{key:"set",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(this.list.length){var n=Math.min(Math.max(e,-1),this.list.length-1),i=n>-1?this.list[n]:void 0;i&&(this.selected[n]&&!t||!this.selected[n]&&t)&&(this.selected[n]=t,this.trigger(this.getter(i),t,a))}}},{key:"setVal",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=this.list.indexOf(e);-1===n&&(n=this.list.length,this.list.push(e),this.selected[n]=!1),this.set(n,t,a)}},{key:"setFirst",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];(0,l.default)(this.list)||this.set(0,!0,e)}},{key:"setLast",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];(0,l.default)(this.list)||this.set(this.list.length-1,!0,e)}},{key:"getSelected",value:function(){var e=this;return this.list.reduce(function(t,a,n){return e.selected[n]&&t.push(a),t},[])}},{key:"isSelected",value:function(e){return!!this.selected[this.list.indexOf(e)]}}]),t}(n(a("cccehdaiaf")).default);t.default=u},dcfaachegb:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.MediaStage=t.WrappedMediaImage=t.default=t.ZOOM_IN_FACTOR=t.ANIMATION_DURATION=void 0;var r=i(a("djecdhecha")),o=i(a("eaidjcib")),s=i(a("dgcdacjddi")),d=i(a("ffceefejc")),c=i(a("cjedcdbdii")),l=i(a("dbjagcfebh")),u=i(a("hhegggegb")),f=i(a("ceffhbhahb")),h=n(a("ddhijeejag")),p=i(a("bccfigihcf")),g=i(a("djidacbicd")),m=i(a("bbchdeehff")),b=i(a("ebcfjdcbhh")),v=i(a("biddiiafgd")),j=a("cgecdbiihg"),E=i(a("bjjjdidhhi")),y=i(a("fifhbjiec")),_=i(a("eiighchhi")),S=a("bgddggdhc"),C=a("dagibffcjf"),A=i(a("ghbbeafj")),M=i(a("bjbdcigbdi")),T=a("cdbgdedbdh"),P=a("ejbdjaifi"),N=i(a("cajbifjffe")),I=a("gaifbabbj"),k=i(a("bdiiahhjbe")),O=i(a("bffjfbgbg")),R=i(a("bdgdjfajce")),w=n(a("ecibddhig")),D=i(a("eafjfadchb")),L=i(a("bbjadhadbg")),U=i(a("daiibfchg")),G=i(a("bfbggcdbfb")),x=i(a("bcfiaiddii")),F=i(a("dgfecega")),B=i(a("ihfccfgdf")),V=a("bheafeifce"),H=i(a("bfdcadbbif")),W=a("hjbbdjjdf"),Y=i(a("caffijjhc")),$=i(a("bcifhbgija")),K=i(a("ccfdaijebj")),q=500;t.ANIMATION_DURATION=q;var z=2;t.ZOOM_IN_FACTOR=z;var Q=200,J=function(e){function t(e){var a;return(0,o.default)(this,t),(a=(0,d.default)(this,(0,c.default)(t).call(this,e))).setMediaImage=function(e){a.mediaImage=e},a.setMediaVideo=function(e){a.mediaVideo=e},a.onImageLoad=function(e){a.props.onImageLoad&&a.props.onImageLoad();var t=a.state.zoomElement;t&&e&&a.props.zoomIn&&e instanceof HTMLElement&&(a.zoomed||(a.zoomed=!0,a.animateZoom(t,e)))},a.animateZoom=function(e,t){var n=t.getBoundingClientRect(),i=e.getBoundingClientRect(),r=i.top-n.top,o=i.left-n.left,s=e.clientWidth/t.clientWidth;r-=(t.clientHeight-e.clientHeight)/2,o-=(t.clientWidth-e.clientWidth)/2,(0,$.default)(t,{opacity:[1,0],translateX:[0,o],translateY:[0,r],scale:[1,s]},{duration:q,easing:[.1,.82,.25,1]});var d=(0,S.forbiddenFindDOMNode)(a.caption);d&&(0,$.default)(d,{opacity:[1,0]},{duration:q})},a.openForwardFlow=function(e){e.stopPropagation();var t=a.props.msg;t.isUnsentMedia?m.default.openModal(h.createElement(v.default,{title:l10n.t(470),onOK:function(){return m.default.closeModal()},okText:l10n.t(1331)},l10n.t(467))):m.default.openModal(h.createElement(A.default,{msgs:[(0,V.unproxy)(t)]}),{transition:"modal-flow"})},a.onReplyClick=function(e){a.onClose(),Promise.delay(Q).then(function(){var e=(0,V.unproxy)(a.props.msg),t=e.chat;t.composeQuotedMsg=e,m.default.focusChatTextInput(t)})},a.onDeleteClick=function(e){var t=a.props.msg;m.default.openModal(h.createElement(E.default,{chat:t.chat,msgList:[(0,V.unproxy)(t)],deletePrompt:!0,revokePrompt:t.canRevoke()}))},a.onMsgInfoClick=function(e){a.onClose(),Promise.delay(Q+250).then(function(){m.default.msgInfoDrawer((0,V.unproxy)(a.props.msg))})},a.onScroll=function(e){Math.abs(e.deltaY)>7&&a.onClose()},a.onImgZoomIn=function(e){var t=a.mediaImage;e&&t&&(a.listenToMouseMove=t.heightOverflow>0||t.widthOverflow>0),a.setState({imgZoomed:e}),a.props.onImgZoomIn(e)},a.onZoomOut=function(e){var t=a.mediaImage;t&&a.state.imgZoomed&&t.onImageClick(e)},a.onMouseMove=function(e){a.handleMouseMove(e.pageX,e.pageY)},a._handleMouseMove=function(e,t){if(!a.state.annotationTooltipDisplayed){var n=a.mediaImage;if(n){var i=n.image;if(i){var r=(0,S.forbiddenAssertDOMNode)(i);if(r){var o=r.parentNode,s=o.parentNode,d=n.getTranslatePosition(s,e,t),c=d.translateX,l=d.translateY;(0,$.default)(o,"stop"),(0,$.default)(o,{translateX:c,translateY:l,scale:z},{duration:0})}}}}},a.onDownloadClick=function(e){e.stopPropagation(),_.default.initDownload((0,V.unproxy)(a.props.msg))},a.onStarClick=function(e){e.stopPropagation();var t=a.props.msg;m.default.sendStarMsgs(t.chat,[(0,V.unproxy)(t)])},a.onUnstarClick=function(e){e.stopPropagation();var t=a.props.msg;m.default.sendUnstarMsgs(t.chat,[(0,V.unproxy)(t)])},a.onGoToMsgClick=function(e){e.stopPropagation(),a.onClose(),m.default.existsDrawerRight(function(e){e&&2===b.default.column&&m.default.closeDrawerRight()});var t=a.props.msg,n=t.chat.getSearchContext((0,V.unproxy)(t));m.default.openChatAt(t.chat,n).then(function(e){e&&m.default.focusChatTextInput(t.chat)})},a.onClose=function(){if(!a.closing){a.closing=!0,(0,W.isFunction)(a.props.onExitAnimation)&&a.props.onExitAnimation();var e,t=a.props.getZoomNode&&a.props.getZoomNode(a.props.msg.id);if(!t)return a.props.onBack();if(a.props.mediaData.type===O.default.TYPE.IMAGE&&a.mediaImage?e=a.mediaImage.image:a.props.mediaData.isGif&&a.mediaVideo&&(e=a.mediaVideo.player),!e)return a.props.onBack();var n=(e=(0,S.forbiddenAssertDOMNode)(e)).getBoundingClientRect(),i=t.getBoundingClientRect(),r=i.top-n.top,o=i.left-n.left,s=t.clientWidth/e.clientWidth;r-=(e.clientHeight-t.clientHeight)/2,o-=(e.clientWidth-t.clientWidth)/2,(0,$.default)(e,{translateX:[o,0],translateY:[r,0],scale:[s,1]},{duration:Q,easing:[.1,.82,.25,1]}).then(function(){a.props.onBack()});var d=(0,S.forbiddenFindDOMNode)(a.caption);d&&(0,$.default)(d,{opacity:[0,1]},{duration:Q,easing:[.1,.82,.25,1]})}},a.onAnnotationTooltipDisplay=function(){return a.setState({annotationTooltipDisplayed:!0})},a.onAnnotationTooltipDismiss=function(){return a.setState({annotationTooltipDisplayed:!1})},a.handleMouseMove=(0,u.default)(a._handleMouseMove,42),a.zoomed=!1,a.closing=!1,a.listenToMouseMove=!1,a.state={imgZoomed:!1,zoomElement:null,annotationTooltipDisplayed:!1},a}return(0,l.default)(t,e),(0,s.default)(t,[{key:"UNSAFE_componentWillMount",value:function(){if(this.props.mediaData.mediaStage===O.default.STAGE.RESOLVED&&this.props.zoomIn&&this.props.getZoomNode){var e=this.props.getZoomNode(this.props.msg.id);this.setState({zoomElement:e})}}},{key:"componentWillUnmount",value:function(){this.handleMouseMove.cancel()}},{key:"render",value:function(){var e,t,a=this.props,n=a.msg,i=a.mediaData;switch(i.type){case O.default.TYPE.IMAGE:e=h.createElement(ee,{msg:n,mediaData:i,key:n.id.toString(),onLoad:this.onImageLoad,onImgZoomIn:this.onImgZoomIn,onAnnotationTooltipDisplay:this.onAnnotationTooltipDisplay,onAnnotationTooltipDismiss:this.onAnnotationTooltipDismiss,ref:this.setMediaImage});break;case O.default.TYPE.VIDEO:e=h.createElement(ae,{msg:n,mediaData:i,key:n.id.toString(),onLoad:i.isGif?this.onImageLoad:null,startTime:this.props.startTime,onClose:this.onClose,ref:this.setMediaVideo});break;case O.default.TYPE.AUDIO:e=h.createElement(oe,{mediaData:i,key:n.id.toString()});break;default:k.default.assert(!1,"MediaViewerModal: unexpected media type","type: ".concat(i.type))()}if(n.caption){var r=I.Configuration.TrustedConversation({mentions:n.mentionMap(),links:n.getLinks()}),o=this.props.zoomIn&&(i.isGif||i.type===O.default.TYPE.IMAGE),s=(0,f.default)(U.default.mediaCaption,{[U.default.captionHidden]:o});t=h.createElement(y.default,{className:s,formatters:r,ref:(0,P.GetRef)("caption",this),text:n.caption})}var d=(0,f.default)(U.default.media,{[U.default.mediaWithCaption]:!!t}),c=h.createElement(H.default,{name:"chevron-right",title:l10n.t(867)}),l=(0,f.default)(U.default.btn,U.default.btnMediaNext,{[U.default.disabledBtn]:!this.props.onNext}),u=h.createElement("div",{role:"button",className:l,onClick:this.props.onNext||function(e){return e.stopPropagation()}},c),p=h.createElement(H.default,{name:"chevron-left",title:l10n.t(916)}),g=(0,f.default)(U.default.btn,U.default.btnMediaPrev,{[U.default.disabledBtn]:!this.props.onPrev}),m=h.createElement("div",{role:"button",className:g,onClick:this.props.onPrev||function(e){return e.stopPropagation()}},p),b=(0,f.default)("overlay",U.default.mediaViewer,{[U.default.mediaViewerAnimate]:this.props.zoomIn,[U.default.cursorZoomOut]:this.state.imgZoomed}),v=this.state.imgZoomed?null:this.onScroll,j=this.state.imgZoomed?null:this.onClose,E=this.state.imgZoomed&&this.listenToMouseMove?this.onMouseMove:null,_=this.state.imgZoomed?this.onZoomOut:null;return h.createElement(Y.default,{displayName:"MediaViewer",escapable:!0,requestDismiss:this.onClose},h.createElement("div",{className:b,"data-animate-media-viewer":!0,onClick:_,onMouseMove:E},h.createElement(R.default,{msg:n,mediaData:i,onGoToMsgClick:this.onGoToMsgClick,onReplyClick:this.onReplyClick,onUnstarClick:this.onUnstarClick,onStarClick:this.onStarClick,onDeleteClick:this.onDeleteClick,openForwardFlow:this.openForwardFlow,onDownloadClick:this.onDownloadClick,onMsgInfoClick:this.onMsgInfoClick,onClose:this.onClose,isMsgInAlbum:this.props.isMsgInAlbum}),h.createElement("div",{className:U.default.mediaContent,dir:"ltr",onWheel:v,onClick:j},m,h.createElement("div",{className:d},h.createElement(de,{msg:n,mediaData:i}),e,t),u)))}}]),t}(h.PureComponent);J.CONCERNS={msg:["id","star","isUnsentMedia","chat","caption","interactiveAnnotations"],mediaData:["mediaStage","type","isGif"]};var Z=(0,B.default)(J,J.CONCERNS);t.default=Z;var X=function(e){function t(){var e,a;(0,o.default)(this,t);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return(a=(0,d.default)(this,(e=(0,c.default)(t)).call.apply(e,[this].concat(i)))).state={zoomIn:null},a.onImageClick=function(e){if(e.stopPropagation(),a.state.zoomIn)a.cancelZoomIn();else{var t=(0,S.forbiddenAssertDOMNode)(a.image);if(t&&t.parentNode&&t.parentNode.parentNode){var n=t.parentNode,i=n.parentNode;a.heightOverflow=n.clientHeight*z-i.clientHeight,a.widthOverflow=n.clientWidth*z-i.clientWidth;var r=a.getTranslatePosition(i,e.pageX,e.pageY),o=r.translateX,s=r.translateY;a.props.onImgZoomIn(!0),a.setState({zoomIn:{factor:z,translateX:o,translateY:s}})}}},a.cancelZoomIn=function(){a.props.onImgZoomIn(!1),a.setState({zoomIn:null})},a.getTranslatePosition=function(e,t,n){var i=window.innerWidth/2-t,r=window.innerHeight/2-n;return{translateX:a.widthOverflow>0?Math.round(1.2*i*a.widthOverflow/e.clientWidth):0,translateY:a.heightOverflow>0?Math.round(1.2*r*a.heightOverflow/e.clientHeight):0}},a._renderBlurredImage=function(){return h.createElement(ie,{mediaData:a.props.mediaData})},a._renderImage=function(e){var t=a.state.zoomIn,n=(0,f.default)(U.default.mediaViewerImg,{[U.default.cursorZoomIn]:!t});return h.createElement(N.default,{src:e,ref:(0,P.GetRef)("image",(0,r.default)(a)),onClick:a.onImageClick,style:a.props.style,className:n})},a}return(0,l.default)(t,e),(0,s.default)(t,[{key:"componentDidMount",value:function(){this.props.msg&&this.props.msg.downloadMedia(!0,G.default.WEBC_RMR_REASON_CODE.MEDIA_VIEWER)}},{key:"componentWillUnmount",value:function(){this.props.msg&&this.props.msg.mediaObject&&this.props.msg.cancelDownload()}},{key:"render",value:function(){var e=this.props.mediaData;if(e.mediaStage!==O.default.STAGE.RESOLVED)return this._renderBlurredImage();var t,a={width:e.fullWidth,height:e.fullHeight},n=this.props.msg;if(n){t=h.createElement("div",{className:U.default.mediaViewerImg,ref:(0,P.GetRef)("image",this)},h.createElement(L.default,{mediaData:e,placeholderRenderer:this._renderBlurredImage,downloadMedia:function(){return n.downloadMedia(!0,G.default.WEBC_RMR_REASON_CODE.MEDIA_VIEWER)}},this._renderImage),M.default.supportsFeature(M.default.F.INTERACTIVE_ANNOTATIONS)&&n.interactiveAnnotations&&n.interactiveAnnotations.length>0&&h.createElement(p.default,{annotations:n.interactiveAnnotations,onTooltipDisplay:this.props.onAnnotationTooltipDisplay,onTooltipDismiss:this.props.onAnnotationTooltipDismiss}))}else t=this._renderImage(e.renderableUrl);return this.state.zoomIn&&(t=h.createElement(Y.default,{displayName:"ZoomInImage",ref:(0,P.GetRef)("image",this),escapable:!0,requestDismiss:this.cancelZoomIn},t)),h.createElement(F.default,{type:"zoomIn",size:a,position:"relative",objectPosition:"relative",zoomIn:this.state.zoomIn,onObjectLoad:this.props.onLoad},t)}}]),t}(h.PureComponent);X.CONCERNS={mediaData:["mediaStage","fullWidth","fullHeight","renderableUrl"]};var ee=function(e){function t(){return(0,o.default)(this,t),(0,d.default)(this,(0,c.default)(t).apply(this,arguments))}return(0,l.default)(t,e),(0,s.default)(t,[{key:"onImageClick",value:function(e){return this.getComponent().onImageClick(e)}},{key:"getTranslatePosition",value:function(e,t,a){return this.getComponent().getTranslatePosition(e,t,a)}},{key:"heightOverflow",get:function(){return this.getComponent().heightOverflow}},{key:"widthOverflow",get:function(){return this.getComponent().widthOverflow}},{key:"image",get:function(){return this.getComponent().image}}]),t}((0,B.default)(X,X.CONCERNS));t.WrappedMediaImage=ee;var te=function(e){function t(){var e,a;(0,o.default)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=(0,d.default)(this,(e=(0,c.default)(t)).call.apply(e,[this].concat(i)))).state={played:!1,size:{width:0,height:0}},a.updateSize=function(){var e=a.props.mediaData;(e.mediaStage===O.default.STAGE.RESOLVED||e.streamable&&e.isStreamable())&&e.fullWidth&&e.fullHeight&&a.setState({size:a.getSize()})},a.stopPropagation=function(e){e.stopPropagation()},a.getSize=function(){var e=a.props.mediaData;if(e.isGif){return e.fullWidth>=330?{width:e.fullWidth,height:e.fullHeight}:{width:330,height:330*e.fullHeight/e.fullWidth}}return e.fullWidth>=C.MIN_WIDTH?{width:e.fullWidth,height:e.fullHeight}:{width:C.MIN_WIDTH,height:e.fullHeight}},a}return(0,l.default)(t,e),(0,s.default)(t,[{key:"UNSAFE_componentWillMount",value:function(){this.updateSize()}},{key:"UNSAFE_componentWillReceiveProps",value:function(){this.updateSize()}},{key:"componentDidMount",value:function(){this.props.mediaData.isStreamable()||this.props.msg.downloadMedia(!0,G.default.WEBC_RMR_REASON_CODE.MEDIA_VIEWER)}},{key:"componentWillUnmount",value:function(){this.props.msg.mediaObject&&this.props.msg.cancelDownload()}},{key:"render",value:function(){var e=this.props,t=e.msg,a=e.mediaData,n=a.isGif,i=a.mediaStage===O.default.STAGE.RESOLVED||a.streamable&&a.isStreamable();if(i=i||t.isForcingRMR()){var r,o,s=l10n.t(1151);return M.default.supportsFeature(M.default.F.INTERACTIVE_ANNOTATIONS)&&t&&t.interactiveAnnotations&&t.interactiveAnnotations.length>0&&(r=h.createElement(p.default,{annotations:t.interactiveAnnotations})),o=n?h.createElement("div",{className:U.default.mediaViewerImg,ref:(0,P.GetRef)("player",this)},h.createElement(K.default,{src:a.renderableUrl,onClick:this.stopPropagation,autoPlay:!0,loop:!0},s),r):h.createElement("div",{className:U.default.mediaViewerImg,onClick:this.stopPropagation},h.createElement(x.default,{ref:(0,P.GetRef)("player",this),msg:t,mediaData:a,startTime:this.props.startTime,onClose:this.props.onClose,onError:function(){},autoPlay:!0,type:j.PLAYER_TYPE.MEDIA_VIEWER,overlays:r})),h.createElement(F.default,{type:"scaleDown",position:"relative",objectPosition:"relative",size:this.state.size,onObjectLoad:this.props.onLoad},o)}return h.createElement(ie,{mediaData:a})}}]),t}(h.PureComponent);te.CONCERNS={mediaData:["mediaStage","fullWidth","fullHeight","isGif","preview","renderableUrl","streamable"]},te.defaultProps={startTime:0};var ae=function(e){function t(){return(0,o.default)(this,t),(0,d.default)(this,(0,c.default)(t).apply(this,arguments))}return(0,l.default)(t,e),(0,s.default)(t,[{key:"player",get:function(){return this.getComponent().player}}]),t}((0,B.default)(te,te.CONCERNS)),ne=function(e){function t(){var e,a;(0,o.default)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=(0,d.default)(this,(e=(0,c.default)(t)).call.apply(e,[this].concat(i)))).stopPropagation=function(e){e.stopPropagation()},a}return(0,l.default)(t,e),(0,s.default)(t,[{key:"render",value:function(){var e=this.props.mediaData,t=e.preview&&e.preview.url(),a=(0,T.aspectRatioScaled)(e.aspectRatio,500);return h.createElement("div",{className:U.default.mediaViewerBlurCrop,style:a,onClick:this.stopPropagation},h.createElement("img",{className:U.default.mediaViewerBlurImg,src:t}))}}]),t}(h.PureComponent);ne.CONCERNS={mediaData:["preview","aspectRatio"]};var ie=(0,B.default)(ne,ne.CONCERNS),re=function(e){function t(){var e,a;(0,o.default)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=(0,d.default)(this,(e=(0,c.default)(t)).call.apply(e,[this].concat(i)))).stopPropagation=function(e){e.stopPropagation()},a._renderAudioTag=function(e){return h.createElement(g.default,{url:e,className:U.default.mediaViewerAudio,onClick:a.stopPropagation,autoPlay:!0,controls:!0},l10n.t(195))},a._renderPlaceholder=function(){return h.createElement("div",{className:U.default.imageAudio,onClick:a.stopPropagation})},a}return(0,l.default)(t,e),(0,s.default)(t,[{key:"render",value:function(){var e=this.props.mediaData;return h.createElement(L.default,{mediaData:e,placeholderRenderer:this._renderPlaceholder},this._renderAudioTag)}}]),t}(h.PureComponent);re.CONCERNS={mediaData:["mediaStage","renderableUrl"]};var oe=(0,B.default)(re,re.CONCERNS),se=function(e){function t(){var e,a;(0,o.default)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=(0,d.default)(this,(e=(0,c.default)(t)).call.apply(e,[this].concat(i)))).onUnsupportedDownloadClick=function(e){e.stopPropagation(),m.default.openModal(h.createElement(D.default,{msg:(0,V.unproxy)(a.props.msg)}))},a.downloadMedia=function(e){e.stopPropagation(),a.props.msg.downloadMedia(!0,G.default.WEBC_RMR_REASON_CODE.MEDIA_VIEWER)},a.stopPropagation=function(e){e.stopPropagation()},a}return(0,l.default)(t,e),(0,s.default)(t,[{key:"render",value:function(){var e=this.props.mediaData,t=null;if(this.props.mediaData.streamable&&this.props.mediaData.isStreamable())return null;switch(e.mediaStage){case O.default.STAGE.RESOLVED:case O.default.STAGE.ERROR_MISSING:return null;case O.default.STAGE.ERROR_UNSUPPORTED:return t=this.onUnsupportedDownloadClick,h.createElement(w.Download,{filesize:e.size,onClick:t});case O.default.STAGE.NEED_POKE:return t=this.downloadMedia,h.createElement(w.Download,{filesize:e.size,onClick:t});default:return t=this.stopPropagation,h.createElement("div",{onClick:t},h.createElement(w.Pending,null))}}}]),t}(h.PureComponent);se.CONCERNS={mediaData:["mediaStage","size","streamable"]};var de=(0,B.default)(se,se.CONCERNS);t.MediaStage=de},dcfafchbae:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=i(a("cfjdfebffb")),u=i(a("fiaeffdce")),f=i(a("dhgeffcgbg")),h=i(a("ggaecchcd")),p=i(a("ceffhbhahb")),g=n(a("ddhijeejag")),m=i(a("djegeegcbf")),b=i(a("dicggaeied")),v=i(a("bheebijggd")),j=i(a("dhfbfehaef")),E=i(a("bebecagjgj")),y=i(a("ecdffdifib")),_=i(a("bjfecgfdgj")),S=i(a("djhfffbdac")),C=n(a("biijfeijcb")),A=i(a("didfdhbecg")),M=15,T=5,P=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i))))._fastScroll=!1,a._scrollFromAnimation=!1,a._scrollFromFocus=!1,a._lastScrollTop=a.props.displayCache.scrollTop,a._lastSectionId=a.props.displayCache.sectionId,a.state={scrolledToTop:0===a.props.displayCache.scrollTop,searchText:"",showSearchInput:a.props.displayCache.showSearchInput},a._handleEmojiFocus=function(e,t){a._scrollFromFocus=!0,a._scrollFromFocusHandlerTimeoutID&&clearTimeout(a._scrollFromFocusHandlerTimeoutID),a._scrollFromFocusHandlerTimeoutID=setTimeout(function(){a._scrollFromFocus=!1},200);var n=t.scrollTop,i=e.getBoundingClientRect().top-t.getBoundingClientRect().top+n,r=i-t.clientHeight+e.clientHeight+2,o=a.state.showSearchInput?i-C.TOTAL_SEARCH_HEIGHT:i-2;t.scrollTop=(0,h.default)(n,r,o)},a._handleListFocusAbove=function(){a._focusSearchAndScrollToTop()},a._handleListScroll=function(e){var t=e-a._lastScrollTop;if(a._lastScrollTop=e,!a._scrollFromFocus&&!a._scrollFromAnimation&&!a._checkScrollTop()){var n=Math.abs(t);a._fastScroll=n>M;var i=t>=0?1:-1,r=0===e;e<C.TOTAL_SEARCH_HEIGHT?a.setState({scrolledToTop:r,showSearchInput:!0}):n<T||(a.state.showSearchInput?1===i&&a.setState({scrolledToTop:r,showSearchInput:!1}):-1===i&&a.setState({scrolledToTop:r,showSearchInput:!0}))}},a._handleListSection=function(e){a._scrollFromAnimation||(a._lastSectionId=e,a.props.onSection(e))},a._handleSearchResultsFocusAbove=function(){a._focusSearchAndScrollToTop()},a._handleSearchChange=function(e,t){a.setState({searchText:e})},a._handleSearchDownKey=function(){if(a.state.searchText){if(!a._refSearchResults)return;a._refSearchResults.focusFirstVisibleEmoji()}else a._refScrollList&&a._refScrollList.focusFirstVisibleEmoji(C.TOTAL_SEARCH_HEIGHT)},a._handleSearchEnterKey=function(){a.state.searchText&&a._refSearchResults&&a._refSearchResults.selectFirstVisibleEmoji()},a._handleShiftTabKey=function(e){if(e.preventDefault(),e.stopPropagation(),a._refSearchInput)return a._refSearchInput.hasFocus()?void a.props.onFocusPrev():a.focusSearchInput()},a._handleTabKey=function(e){if(e.preventDefault(),e.stopPropagation(),a._refSearchInput)return a._refSearchInput.hasFocus()?void a.props.onFocusNext():a.focusSearchInput()},a._setRefSearchInput=function(e){a._refSearchInput=e},a._setRefScrollList=function(e){a._refScrollList=e},a._setRefSearchResults=function(e){a._refSearchResults=e},a._getSectionListDataMemoized=(0,y.default)(function(e){return e.sectionIds.map(function(e){return{sectionId:e,emojiIds:e===v.default.RECENT?(0,l.default)(_.default.map(function(e){var t=m.default.getSkinToneEmojis()[e.id]||e.id;return m.default.getEmojiFromUnicode(t)}).filter(function(e){return e})):m.default.getEmojiListInCategory(e)}})},function(e,t){return e.sectionIds===t.sectionIds||(0,f.default)(e.sectionIds,t.sectionIds)}),a._getSearchResultsDataMemoized=(0,y.default)(function(e){var t=e.searchText;return[{sectionId:v.default.SEARCH_RESULT,emojiIds:(0,b.default)((0,u.default)(t))}]}),a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentWillUnmount",value:function(){this.props.onDisplayCache&&this.props.onDisplayCache({scrollTop:this._lastScrollTop,sectionId:this._lastSectionId,showSearchInput:this.state.showSearchInput})}},{key:"focusSearchInput",value:function(e){var t=this;if(!this._refSearchInput)return this._fastScroll=!0,void this.setState({showSearchInput:!0},function(){return t.focusSearchInput(!0)});this._refSearchInput.focus(e)}},{key:"scrollToSection",value:function(e){var t=this;return this._lastSectionId=e,new Promise(function(e){t._fastScroll=!0,t.setState({searchText:"",showSearchInput:!0},e)}).then(function(){t._scrollFromAnimation=!0;var a=t._refScrollList?t._refScrollList.scrollToSection(e,0-C.TOTAL_SEARCH_HEIGHT):Promise.resolve();return a.finally(function(){a===t._animationPromise&&(t._scrollFromAnimation=!1,t._checkScrollTop()||t.state.showSearchInput&&t.setState({scrolledToTop:0===t._lastScrollTop}))}),t._animationPromise=a,a})}},{key:"_checkScrollTop",value:function(){var e=0===this._lastScrollTop;return e&&this.setState({scrolledToTop:e,showSearchInput:!0}),e}},{key:"_focusSearchAndScrollToTop",value:function(){var e=this;this._scrollFromFocus=!0,this._scrollFromFocusHandlerTimeoutID&&clearTimeout(this._scrollFromFocusHandlerTimeoutID),this._scrollFromFocusHandlerTimeoutID=setTimeout(function(){e._scrollFromFocus=!1},200),this.focusSearchInput(),this._refScrollList&&this._refScrollList.scrollToTop()}},{key:"_stopEvent",value:function(e){e.preventDefault(),e.stopPropagation()}},{key:"render",value:function(){return g.createElement(j.default,{handlers:{tab:this._handleTabKey,"shift+tab":this._handleShiftTabKey}},g.createElement("div",{className:E.default.bodyContainer},this._renderSearchInput(),this._renderSearchResults(),g.createElement("div",{className:(0,p.default)(E.default.list,{[E.default.hidden]:!!this.state.searchText})},g.createElement(C.default,{data:this._getSectionListData(),width:this.props.width,initialScrollTop:this.props.displayCache.scrollTop,searchInputVisible:this.state.showSearchInput,focusAbove:this._handleListFocusAbove,onEmoji:this.props.onEmoji,onEmojiFocus:this._handleEmojiFocus,onScroll:this._handleListScroll,onSection:this._handleListSection,ref:this._setRefScrollList,showTitles:!0}))))}},{key:"_renderSearchInput",value:function(){var e=null;this.state.showSearchInput&&(e=g.createElement(S.default,{label:l10n.t(1007),onChange:this._handleSearchChange,onDownKey:this._handleSearchDownKey,onEnterKey:this._handleSearchEnterKey,ref:this._setRefSearchInput,shadow:!this.state.scrolledToTop,value:this.state.searchText||""}));var t=this._fastScroll?"emoji-search-slide-away-fast":"emoji-search-slide-away";return g.createElement(A.default,{transitionName:t,className:E.default.search},e)}},{key:"_renderSearchResults",value:function(){return this.state.searchText?g.createElement("div",{className:E.default.list},g.createElement(C.default,{data:this._getSearchResultsData(),width:this.props.width,initialScrollTop:0,searchInputVisible:!0,focusAbove:this._handleSearchResultsFocusAbove,onEmoji:this.props.onEmoji,onEmojiFocus:this._handleEmojiFocus,ref:this._setRefSearchResults,showTitles:!1})):null}},{key:"_getSectionListData",value:function(){return this._getSectionListDataMemoized({sectionIds:this.props.sectionIds})}},{key:"_getSearchResultsData",value:function(){var e=(this.state.searchText||"").replace(/^\s+/,"");return this._getSearchResultsDataMemoized({searchText:e})}}]),t}(g.PureComponent);t.default=P},dcfghhhajg:function(e,t,a){"use strict";var n=a("cfjecfhbfg"),i=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("ddhijeejag")),o=n(a("fffdgbfji")),s=n(a("bcdjifadgi"));t.default=function(e){var t=e.count,a=o.default.t(1105,{count:o.default.n(t),_plural:t});return r.createElement("div",{className:s.default.msgUnread},r.createElement("span",{className:s.default.msgUnreadBody},a))}},dcggjjdeaj:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg"),r=i(a("bhfcfhafdj")),o=i(a("eaidjcib")),s=i(a("dgcdacjddi")),d=i(a("ffceefejc")),c=i(a("cjedcdbdii")),l=i(a("dbjagcfebh")),u=i(a("hbddjfeei")),f=n(a("ddhijeejag")),h=i(a("bbchdeehff")),p=a("bgddggdhc"),g=i(a("bebjeaagc")),m=i(a("bfifafibjc")),b=i(a("bcddhhfhda")),v=i(a("bcifhbgija")),j={duration:300,easing:[.1,.82,.25,1]};var E=function(e,t){return e.map(function(e,a){return[t[a]===e,a]}).filter(function(e){return!(0,u.default)(e,1)[0]}).map(function(e){return(0,u.default)(e,2)[1]})},y=function(e){function t(){var e,a;(0,o.default)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=(0,d.default)(this,(e=(0,c.default)(t)).call.apply(e,[this].concat(i)))).containerHeight=0,a.childAnimations=[],a.didCancel=!1,a.unmounting=!1,a.state={children:a.props.children||[]},a.pendingRemoval=[],a.refChildren=new Map,a.setRefChild=function(e,t){t?a.refChildren.set(e,t):a.refChildren.delete(e)},a.setChildRefCache=new b.default(a.setRefChild),a._heightCallbackCache=new Map,a}return(0,l.default)(t,e),(0,s.default)(t,[{key:"componentWillUnmount",value:function(){this.unmounting=!0}},{key:"getHeightChange",value:function(e,t){var a=this;return e.reduce(function(e,n){if(n<t)return e;var i=a.refChildren.get("".concat(n));return i?e+(0,p.forbiddenAssertDOMNode)(i).clientHeight:e},0)}},{key:"animateElement",value:function(e,t,a,n){var i=this;this.childAnimations[e]&&(this.didCancel=!0,this.childAnimations[e].cancel());var r=a>0?[0,a]:[-a,0];return this.childAnimations[e]=(this.childAnimations[e]||Promise.resolve()).then(function(){return(0,v.default)(t,{translateY:r},j)}).delay(100).cancellable().then(function(){return a<0&&(n.includes(e)?t.style.opacity="0":t.style.transform=""),e}).catch(Promise.CancellationError,function(){return(0,v.default)(t,"stop",!0),t.style.transform="",!1}).finally(function(t){if(!i.didCancel)return delete i.childAnimations[e],h.default.setUiBusy(!1,"animation_group"),t;i.didCancel=!1}),this.childAnimations[e]}},{key:"transitionAffected",value:function(e,t){if(!e)return Promise.resolve();for(var a=[],n=e.slice(-1),i=(0,u.default)(n,1)[0],r=0;r<=i;++r){var o=this.refChildren.get("".concat(r));o&&a.push(this.animateElement(r,(0,p.forbiddenAssertDOMNode)(o),(t?1:-1)*this.getHeightChange(e,r),e))}return Promise.all(a).then(function(e){return e.filter(function(e){return!1!==e})})}},{key:"notifyHeightChange",value:function(e,t){e.length&&this.props.onHeightChange&&this.props.onHeightChange((t?1:-1)*this.getHeightChange(e,0))}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t,a,n,i=this,o=e.children,s=void 0===o?[]:o,d=(a=this.state.children,E(a,n=s).filter(function(e){return a[e]&&!n[e]}));this.added=function(e,t,a){var n=E(e,t).filter(function(a){return!e[a]&&t[a]}),i=a.filter(function(e){return!!t[e]});return i.length?function(e,t,a){for(var n=[],i=0,r=0;i<e.length||r<t.length;)a(e[i],t[r])?n.push(e[i++]):n.push(t[r++]);return i<e.length?n.concat(e.slice(i)):r<t.length?n.concat(t.slice(r)):n}(n,i,function(e,t){return e<t}):n}(this.state.children,s,this.pendingRemoval);for(var c=0;c<this.added.length;++c)this.busyId=g.default.setBusy(this.busyId),h.default.setUiBusy(!0,"animation_group");if(!d.length)return this.setState({children:s});var l=d.filter(function(e){return!i.pendingRemoval.includes(e)});if(l.length){for(var u=0;u<l.length;++u)this.busyId=g.default.setBusy(this.busyId),h.default.setUiBusy(!0,"animation_group");(t=this.pendingRemoval).push.apply(t,(0,r.default)(l)),this.notifyHeightChange(l,!1),this.transitionAffected(l,!1).then(function(e){i.unmounting||(i.pendingRemoval=i.pendingRemoval.filter(function(e){return!l.includes(e)}),e.length>0&&i.setState({children:s},function(){g.default.decBusy(i.busyId)}))})}}},{key:"componentDidUpdate",value:function(e,t){var a=this;t.children;this.added.length&&(this.notifyHeightChange(this.added,!0),this.transitionAffected(this.added,!0).then(function(){g.default.decBusy(a.busyId)}))}},{key:"componentDidMount",value:function(){var e=this,t=this.state.children.reduce(function(t,a,n){var i=e.refChildren.get("".concat(n));if(!i)return t;var r=(0,p.forbiddenAssertDOMNode)(i);return r.style.transform="translateY(0)",t+r.clientHeight},0);this.props.onHeightChange(t,!0)}},{key:"childHeightCallback",value:function(e){var t=this,a=this._heightCallbackCache.get(e);if(a)return a;var n=this.refChildren.get("".concat(e)),i=n?(0,p.forbiddenAssertDOMNode)(n).clientHeight:0,r=function(e){var a=e.height;i&&a&&a!==i?(t.props.onHeightChange(a-i),i=a):i=a};return this._heightCallbackCache.set(e,r),r}},{key:"cloneChild",value:function(e,t){var a=this;if(!e)return e;var n=e.ref?function(n){a.setChildRefCache.getRefSetter("".concat(t))(n),e&&e.ref&&e.ref(n)}:this.setChildRefCache.getRefSetter("".concat(t));return f.cloneElement(e,{ref:n})}},{key:"render",value:function(){var e=this;return this.state.children.map(function(t,a){return f.createElement(m.default,{key:".".concat(a),onResize:e.childHeightCallback(a)},e.cloneChild(t,a))})}}]),t}(f.Component);e.exports=y},dcgheafecg:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var a=0,n=e.next();for(;!n.done;)t(n.value,a,e),n=e.next(),a++}},dcghjbcbii:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Component=t.RETRY_OPTIONS=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=i(a("bebajedcaf")),u=n(a("ddhijeejag")),f=i(a("djcchigfih")),h=i(a("djbhiedbef")),p=i(a("dajffajabh")),g=i(a("dccciaccbi")),m=i(a("gfdchbigi")),b=i(a("bidfjbaebi")),v=i(a("eceadcicaf")),j=i(a("fbfedehbb")),E=i(a("jhjhdgfci")),y=n(a("dgfecega")),_=i(a("dgidheegej")),S=i(a("cdjhjdcbeg")),C=i(a("bfdcadbbif")),A=a("dfjhjafaab"),M=i(a("edbaidcaf")),T=i(a("didfdhbecg")),P=361,N=500,I={NONE:"none",RETAKE:"retake",RESTART:"restart"};t.RETRY_OPTIONS=I;var k=function(e){function t(e){var a;return(0,r.default)(this,t),(a=(0,s.default)(this,(0,d.default)(t).call(this,e))).onDoneEditing=function(){var e=a.state.editedMedia;a.saveCanvas(),a.refProfileCropTool&&a.refProfileCropTool.getComponent().crop().then(function(t){var n=t.thumb,i=t.full;a.props.onFinished(n,i),e.cleanUp()})},a.onObjectLoad=function(e){if(e&&e instanceof HTMLElement){var t={};!a.state.editorSize||a.state.editorSize.width===e.clientWidth&&a.state.editorSize.height===e.clientHeight||(t.editorSize={width:e.clientWidth,height:e.clientHeight}),a.state.loaded||(t.loaded=!0),(0,l.default)(t)||a.setState(t)}},a.setRefMediaEditCanvas=function(e){a.mediaEditCanvas=e},a.setRefProfileCropTool=function(e){a.refProfileCropTool=e},a.drawCanvas=function(e,t){a.mediaEditCanvas&&a.mediaEditCanvas.drawCanvas(e,t)},a.saveCanvas=function(){a.mediaEditCanvas&&a.mediaEditCanvas.saveCanvas()},a.updateCanvasSize=function(e,t){a.mediaEditCanvas&&a.mediaEditCanvas.updateCanvasSize(e,t)},a.onCanvasInitialized=function(){a.forceUpdate()},a.state={doneEditing:!1,loaded:!1,editorSize:{width:N,height:P},editedMedia:new m.default(e.img)},a.mediaEditController=new E.default,a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){this.props.listeners.add(this.mediaEditController,"change:isInitialized",this.onCanvasInitialized)}},{key:"render",value:function(){var e,t=this.props,a=t.attributionUrl,n=t.onRetake,i=t.retryText,r=this.state.loaded?u.createElement("div",{className:g.default.btnSend,key:"btn-send"},u.createElement(S.default,{large:!0,onClick:this.onDoneEditing},u.createElement(C.default,{name:"checkmark-light-l"}))):null;this.mediaEditController.isInitialized&&(e=u.createElement(_.default,{editedMedia:this.state.editedMedia,stage:this.mediaEditController.stage,cropOverlay:this.mediaEditController.cropOverlay,mediaContainer:this.mediaEditController.mediaContainer,drawCanvas:this.drawCanvas,ref:this.setRefProfileCropTool}));var o,s=u.createElement(j.default,{className:g.default.mediaElement,editedMedia:this.state.editedMedia,mediaEditController:this.mediaEditController,fitType:y.FIT_TYPE.COVER,ref:this.setRefMediaEditCanvas});if(n){var d;switch(i){case I.NONE:d=null;break;case I.RETAKE:d=l10n.t(980);break;case I.RESTART:default:d=l10n.t(989)}o=u.createElement("div",{className:g.default.retake,onClick:n},u.createElement("div",{className:g.default.retakeIcon},u.createElement(C.default,{name:"return-light"})),d)}var c=a?u.createElement("div",{className:g.default.attribution},u.createElement(b.default,{className:g.default.attributionLink,href:a},M.default.hostname(a)),u.createElement("span",null,l10n.t(617),"",u.createElement(b.default,{href:(0,A.getTosUrl)()},l10n.t(623)))):null,l=u.createElement("div",{className:g.default.footer},u.createElement(T.default,{transitionName:"btn"},r),c),m=this.props.imageSize?this.props.imageSize:{width:N,height:P};return u.createElement(f.default,{key:"attach-edit-modal",theme:"edit"},u.createElement(p.default,{title:l10n.t(176),type:"offset",onCancel:this.props.onCancel},o),u.createElement(h.default,{overflow:"hidden"},u.createElement("div",{className:g.default.mediaBody},e,u.createElement("div",{className:g.default.containerBackground},u.createElement(T.default,{transitionName:"capture"},u.createElement(y.default,{type:y.FIT_TYPE.COVER,size:m,onObjectLoad:this.onObjectLoad},s)))),l))}}]),t}(u.Component),O=k;t.Component=O;var R=(0,v.default)(k);t.default=R},dchfgegeij:function(e,t){e.exports={annotation:"gUwSg",tooltip:"_2mNmU"}},dcicgjefd:function(e,t){e.exports={container:"_1c8mz"}},dcihijcig:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getMetricMediaType=function(e){switch(e){case"audio":return i.MEDIA_TYPE.AUDIO;case"document":return i.MEDIA_TYPE.DOCUMENT;case"gif":return i.MEDIA_TYPE.GIF;case"image":return i.MEDIA_TYPE.PHOTO;case"ppic":return i.MEDIA_TYPE.PROFILE_PIC;case"product":return i.MEDIA_TYPE.PRODUCT_IMAGE;case"ptt":return i.MEDIA_TYPE.PTT;case"sticker":return i.MEDIA_TYPE.STICKER;case"video":return i.MEDIA_TYPE.VIDEO;case"template":return i.MEDIA_TYPE.TEMPLATE;default:throw new Error("webMediaType is invalid: ".concat(e))}},t.getMetricUploadErrorResultType=function(e){if(e instanceof n.MMSUnauthorizedError)return i.MEDIA_UPLOAD_RESULT_TYPE.ERROR_NO_PERMISSIONS;if(e instanceof n.MediaTooLargeError)return i.MEDIA_UPLOAD_RESULT_TYPE.ERROR_BAD_MEDIA;if(e instanceof n.MMSThrottleError)return i.MEDIA_UPLOAD_RESULT_TYPE.ERROR_THROTTLE;if(e instanceof n.HttpStatusCodeError&&e.status>=500)return i.MEDIA_UPLOAD_RESULT_TYPE.ERROR_SERVER;return i.MEDIA_UPLOAD_RESULT_TYPE.ERROR_UNKNOWN};var n=a("fgeddfbg"),i=a("bfbggcdbfb")},dciidighgh:function(e,t){e.exports={container:"_32fST",control:"saez2",label:"_3_4Uv",buttons:"_2KA93",button:"_3v4Q3"}},dcjaajabae:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=n(a("ddhijeejag")),u=i(a("bbchdeehff")),f=i(a("baagejbchg")),h=i(a("biddiiafgd")),p=i(a("fffdgbfji")),g=i(a("ihfccfgdf")),m=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,(0,d.default)(t).apply(this,arguments))}return(0,c.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e;switch(this.props.msg.type){case f.default.MSG_TYPE.VIDEO:this.props.msg.isGif||(e=p.default.t(863))}return l.createElement(h.default,{onOK:function(){u.default.closeModal()},okText:p.default.t(1331)},e)}}]),t}(l.PureComponent);m.CONCERNS={msg:["type","isGif"]};var b=(0,g.default)(m,m.CONCERNS);t.default=b},dcjaicbbhg:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=n(a("ddhijeejag")),u=a("ebjaejiaba"),f=i(a("bhhdeihhhf")),h=i(a("ihfccfgdf")),p=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,(0,d.default)(t).apply(this,arguments))}return(0,c.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e;switch(this.props.chat.kind){case u.CHAT_KIND.GROUP:e=this.props.chat.isReadOnly?l10n.t(1231):l10n.t(1238);break;case u.CHAT_KIND.BROADCAST:e=l10n.t(1233);break;case u.CHAT_KIND.CHAT:e=l10n.t(372)}return l.createElement(f.default,{a8n:"mi-delete",action:this.props.onDeleteOrExit,disabled:this.props.disabled},e)}}]),t}(l.PureComponent);p.CONCERNS={chat:["isReadOnly","kind"]};var g=(0,h.default)(p,p.CONCERNS);t.default=g},dcjbdhhjge:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.updateLocal=function(e,t){if(r.default.supportsFeature(r.default.F.MD_BACKEND))return i.default.merge(e.toString(),t);return Promise.resolve()};var i=n(a("chdahjcdf")),r=n(a("bjbdcigbdi"))},dcjcghaij:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=n(a("ddhijeejag")),u=i(a("igbbahaj")),f=i(a("fffdgbfji")),h=i(a("debediheaf")),p=n(a("cjijggjfed")),g=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i))))._handleClick=function(e){a.props.onClick(a.props.sectionId,e)},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e={[u.default.FAVORITES]:f.default.t(505),[u.default.TRENDING]:f.default.t(511),[u.default.HAHA]:f.default.t(506),[u.default.SAD]:f.default.t(509),[u.default.LOVE]:f.default.t(507),[u.default.REACTIONS]:f.default.t(508),[u.default.SPORTS]:f.default.t(510),[u.default.TV]:f.default.t(512)},t=this.props.sectionId,a=e[t];return l.createElement(p.default,{onClick:this.props.onClick,sectionId:this.props.sectionId,selected:this.props.selected,title:a,theme:p.THEMES.MENU},l.createElement(h.default,{sectionId:t,sectionTitle:a}))}}]),t}(l.PureComponent);t.default=g},dcjhajfghf:function(e,t,a){var n=a("eaidjcib"),i=a("dgcdacjddi"),r=/\r\n/g,o=function(){"use strict";function e(t){var a=this;n(this,e),this.hasText=function(){return a.hasType("text/plain")},this.hasType=function(e){return a.types.includes(e)},this.data=t,this.types=t.types?Array.isArray(t.types)?t.types:Object.keys(t.types).map(function(e){return t.types[e]}):[]}return i(e,[{key:"getItems",value:function(){var e=this;if(this.data.items)return Array.prototype.slice.call(this.data.items);var t=this._getFileTypes();return this.types.map(function(a){return{type:a,data:e.data.getData(a),kind:t.includes(a)?"string":"file"}})}},{key:"_getFileTypes",value:function(){return Array.prototype.slice.call(this.data.files).map(function(e){return e.type})}},{key:"getText",value:function(e){return this._getText(e).then(function(e){return e?e.replace(r,"\n"):null})}},{key:"_getText",value:function(e){var t=e||[];0===t.length&&t.push("text/plain");var a,n=this.data;if(n.getData)return t.some(function(e){if(n.getData(e))return a=n.getData(e),!0}),Promise.resolve(a);var i,r,o,s=(i=this.data.items,r=t,o=Array.from(i),r.reduce(function(e,t){var a=o.find(function(e){return e.type===t});return a&&e.push(a),e},[]));return s.length?Promise.all(s.map(function(e){return new Promise(function(t){return e.getAsString(t)})})).then(function(e){return e.find(function(e){return e.length})}):Promise.resolve()}},{key:"getFiles",value:function(){return this.data.items?Array.prototype.slice.call(this.data.items).filter(function(e){return"file"===e.kind}).map(function(e){return e.getAsFile()}).filter(function(e){return!!e}):Array.prototype.slice.call(this.data.files||[])}},{key:"getData",value:function(e){return this.data.getData(e)}},{key:"hasFiles",value:function(){return this.data.items?Array.prototype.slice.call(this.data.items).some(function(e){return"file"===e.kind}):!!Array.prototype.slice.call(this.data.files||[]).length}}]),e}();e.exports=o},ddadaeidcc:function(e,t){e.exports={icon:"_13zxx"}},ddafjfecha:function(e,t){e.exports={recording:"_1pmIt",btnBorder:"_15EcM",isHover:"_4kcXP",btnStateDefault:"_1V2op",btnStateHover:"Qvj1g",pttCounter:"_2NdXo","ptt-indicator":"_20RFk",pttIndicator:"_20RFk",btnBorderIcon:"_3IFEL",btnPtt:"hjJpn",container:"cEdds",active:"dgjLl"}},ddajcjhiai:function(e,t){e.exports={adminBtn:"_1OSSR"}},ddbdaadcgc:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"AbortError",{enumerable:!0,get:function(){return n.AbortError}}),Object.defineProperty(t,"HttpNetworkError",{enumerable:!0,get:function(){return n.HttpNetworkError}}),Object.defineProperty(t,"HttpStatusCodeError",{enumerable:!0,get:function(){return n.HttpStatusCodeError}}),Object.defineProperty(t,"MediaNotFoundError",{enumerable:!0,get:function(){return n.MediaNotFoundError}}),Object.defineProperty(t,"MediaTooLargeError",{enumerable:!0,get:function(){return n.MediaTooLargeError}}),Object.defineProperty(t,"MediaInvalidError",{enumerable:!0,get:function(){return n.MediaInvalidError}}),Object.defineProperty(t,"MMSUnauthorizedError",{enumerable:!0,get:function(){return n.MMSUnauthorizedError}}),Object.defineProperty(t,"MediaEncryptionError",{enumerable:!0,get:function(){return i.MediaEncryptionError}}),Object.defineProperty(t,"NoMediaHostsError",{enumerable:!0,get:function(){return r.NoMediaHostsError}});var n=a("fgeddfbg"),i=a("cajijabhgb"),r=a("beifdajhid")},ddbdcagdbi:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("bacehaajgh")),o=i(a("eaidjcib")),s=i(a("dgcdacjddi")),d=i(a("ffceefejc")),c=i(a("cjedcdbdii")),l=i(a("dbjagcfebh")),u=n(a("ddhijeejag")),f=i(a("hdccjfbbg")),h=i(a("dhigahgdjb")),p=a("cicgeajfge"),g=a("bbhhbdicgc"),m=i(a("dgjddffcfg")),b=i(a("dfjibhjhde")),v=i(a("eceadcicaf")),j=i(a("cbgeijgefb")),E=i(a("dcaibchbg")),y=i(a("fbjjefaic")),_=a("hjbbdjjdf"),S={HEADER:"HEADER",ROW:"ROW"},C=function(e){function t(){var e,a;(0,o.default)(this,t);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return(a=(0,d.default)(this,(e=(0,c.default)(t)).call.apply(e,[this].concat(i)))).selection=new E.default([],function(e){return e.id}),a.state={searchFilter:void 0},a.onSelect=function(e,t){if(t.type===S.ROW){var n=t.contact;!0===a.props.filter(n)&&a.props.onSelect&&a.props.onSelect(n)}},a.onSearch=a.props.debounce(function(e){a.setState({searchFilter:e})},100),a.renderItem=function(e){var t=a.props,n=t.filter,i=t.onSelect,o=t.onContext,s=t.contextEnabled,d=t.contextMenu,c=t.openContextOnClick,l=t.showNotifyName,h=t.participantCollection,p=t.listenForAdminChange;switch(e.type){case S.HEADER:return u.createElement(j.default,{header:e.header});case S.ROW:var m=(0,_.isString)(n(e.contact)),b=m?"group-modal":null,v=m?n(e.contact):null,E=o&&d?{contextEnabled:s,contextMenu:d(e.contact.id),onContext:o}:{};return u.createElement(f.default,(0,r.default)({contact:e.contact,active:a.selection,theme:b,secondary:v,onClick:c&&o?o:m?void 0:i?function(){i(e.contact)}:function(){},waitIdle:!0,showNotifyName:l,listenForAdminChange:p,participantCollection:h},E));default:throw new g.UnknownDataError(e)}},a}return(0,l.default)(t,e),(0,s.default)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.contacts||this.props.listeners.add(h.default,"add remove change:name",function(){e.forceUpdate()})}},{key:"getData",value:function(){var e=this.props.filter,t=l10n.accentFold(this.state.searchFilter),a=m.default.numberSearch(t),n=(this.props.contacts||h.default).filter(function(n){return e(n)&&(!t||t&&n.searchMatch(t,a))});this.selection.init(n.filter(function(t){return!0===e(t)}));var i,r,o=[];if(!n.length)return o;for(var s=n.length>10,d=0;d<n.length;d++)i=n[d],s&&i.header!==r&&o.push({type:S.HEADER,header:i.header,itemKey:"".concat(i.header||"","_").concat(d)}),o.push({type:S.ROW,contact:i,itemKey:"".concat(i.id.toString(),"_").concat(d)}),r=i.header;return o}},{key:"render",value:function(){var e=this.props,t=e.title,a=e.onCancel;return u.createElement(b.default,{title:t,data:this.getData(),renderItem:this.renderItem,emptyState:u.createElement(p.SearchContacts,null),selection:this.selection,onSearch:this.onSearch,searchPlaceholder:l10n.t(1006),onSelect:this.onSelect,onCancel:a})}}]),t}(u.Component);C.defaultProps={filter:function(e){return h.default.isFilteredContact(e)}};var A=(0,v.default)((0,y.default)(C));t.default=A},ddbddjjgia:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MsgPosition=void 0;t.MsgPosition={FRONT:"FRONT",MID:"MID",END:"END",SINGLE:"SINGLE"}},ddcbeeeahg:function(e,t,a){"use strict";var n=a("cfjecfhbfg"),i=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("ddhijeejag")),o=n(a("bggjbiacd")),s=i(a("dbhhbejbcb"));t.default=function(e){var t=e.emoji,a=e.selectable,n=e.size;return"xlarge"===n?r.createElement(s.default,{emoji:t,size:s.SIZE.XLARGE,element:"span",selectable:a}):r.createElement(o.default,{emoji:t,selectable:a,size:n})}},ddcbhjdfdg:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=n(a("ddhijeejag")),u=i(a("cchiafiebc")),f=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,(0,d.default)(t).apply(this,arguments))}return(0,c.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){return l.createElement(u.default,this.props)}}]),t}(l.PureComponent);t.default=f},ddcchcchag:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg"),r=a("dhgjbgdbhg"),o=a("ddjgcfjicj"),s=i(a("ecjehifjdd")),d=i(a("cahfddcdga")),c=n(a("dcbbccfgab")),l={encrypt:function(e){if(!e)throw new Error("Missing ArrayBuffer in cryptoAsync:encrypt");var t=c.get(),a=(0,r.encryptAndMac)((0,d.default)(t.encKey),(0,d.default)(t.macKey),e);return this._encryptQueue.enqueue(a)},decrypt:function(e){if(!e)throw new Error("Missing ArrayBuffer in cryptoAsync:decrypt");var t=c.get(),a=(0,r.macAndDecrypt)((0,d.default)(t.encKey),(0,d.default)(t.macKey),e);return this._decryptQueue.enqueue(a)},dropAllBecauseLogout:function(){var e=new o.LogoutDrop("cancelled binary protocol call");this._encryptQueue.cancelAll(e),this._decryptQueue.cancelAll(e)},_encryptQueue:new s.default,_decryptQueue:new s.default};e.exports=l},ddcfhecgai:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.LabelItemCollection=void 0;var i=n(a("eaidjcib")),r=n(a("ffceefejc")),o=n(a("cjedcdbdii")),s=n(a("dbjagcfebh")),d=n(a("cgcgbfbffj")),c=n(a("eaejieeafc")),l=function(e){function t(){return(0,i.default)(this,t),(0,r.default)(this,(0,o.default)(t).apply(this,arguments))}return(0,s.default)(t,e),t}(d.default);t.LabelItemCollection=l,l.model=c.default;var u=l;t.default=u},ddchcbhaia:function(e,t,a){"use strict";var n=a("cfjecfhbfg"),i=a("bfejgijfbh")(a("ddhijeejag")),r=n(a("bbchdeehff")),o=n(a("dcjaicbbhg")),s=n(a("bhhdeihhhf")),d=n(a("dhhcghbjeb"));e.exports={group:function(e,t){var a=[];return a.push(i.createElement(s.default,{key:"info",a8n:"mi-group-info",action:function(){return r.default.chatInfoDrawer(e)}},l10n.t(1261))),a.push(i.createElement(s.default,{a8n:"mi-select-messages",key:"select",action:t},l10n.t(1396))),e.mute.canMute()&&a.push(i.createElement(d.default,{key:"mute",onMute:function(t){return r.default.muteChat(e,t)},mute:e.mute})),a.push(i.createElement(s.default,{key:"clear",a8n:"mi-clear",action:function(){return r.default.clearChatMsgs(e)}},l10n.t(309))),a.push(i.createElement(o.default,{key:"delete",onDeleteOrExit:function(){return r.default.deleteOrExitChat(e)},chat:e})),a},broadcast:function(e,t){var a=[];return a.push(i.createElement(s.default,{key:"info",a8n:"mi-broadcast-info",action:function(){return r.default.chatInfoDrawer(e)}},l10n.t(1303))),a.push(i.createElement(s.default,{a8n:"mi-select-messages",key:"select",action:t},l10n.t(1396))),a.push(i.createElement(s.default,{key:"clear",a8n:"mi-clear",action:function(){return r.default.clearChatMsgs(e)}},l10n.t(309))),a.push(i.createElement(o.default,{key:"delete",onDeleteOrExit:function(){return r.default.deleteOrExitChat(e)},chat:e})),a}}},ddchejfidi:function(e,t){e.exports={item:"_3cfBY",text:"_3BqnP",hover:"_3VXiW",action:"Sl-9e",compact:"_3_4Kp",icon:"_3mQ-P",emoji:"_1sHYl",ellipsify:"_3zy-4",disabled:"_3rvh2",shortcut:"_2yhpw"}},dddjddjahc:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.THUMB_RADIUS_FULLSCREEN=t.THUMB_RADIUS_WINDOW=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=i(a("bbebbadde")),u=i(a("ceffhbhahb")),f=n(a("ddhijeejag")),h=i(a("cfadcbbiie")),p=i(a("bfdcadbbif")),g=i(a("bcjcbbafcj")),m=i(a("cdhichafeb")),b=parseFloat(m.default["-thumb-radius-window"].replace(/px$/,""));t.THUMB_RADIUS_WINDOW=b;var v=parseFloat(m.default["-thumb-radius-fullscreen"].replace(/px$/,""));t.THUMB_RADIUS_FULLSCREEN=v;var j=.25,E=function(e){function t(e){var a;return(0,r.default)(this,t),(a=(0,s.default)(this,(0,d.default)(t).call(this,e))).handlePause=function(){a.props.onPause()},a.handlePlay=function(){a.props.onPlay()},a.isVideoPlayingBeforeDrag=null,a.handleProgressChange=function(e){var t=parseFloat(e.target.value);a.props.onProgressChange(t);var n=Math.abs(a.state.bufferedTime-a.props.duration)<.1?a.state.bufferedTime:0;a.setState({progress:t,bufferedTime:n})},a.handleProgressMouseUp=function(e){a.setState({isDraggingProgress:!1}),null!=a.isVideoPlayingBeforeDrag&&(a.isVideoPlayingBeforeDrag&&a.handlePlay(),a.isVideoPlayingBeforeDrag=null)},a.handleProgressMouseDown=function(e){a.setState({isDraggingProgress:!0}),a.isVideoPlayingBeforeDrag=a.props.isVideoPlaying,a.isVideoPlayingBeforeDrag&&a.handlePause()},a.handleVolumeValueChange=function(e){var t=parseFloat(e.target.value);a.props.onVolumeValueChange(t),a.setState({volume:t})},a.handleMute=function(){a.props.onMutedValueChange(!0),a.setState({muted:!0})},a.handleUnmute=function(){a.props.onMutedValueChange(!1),a.setState({muted:!1})},a.stopEventPropagation=function(e){e.stopPropagation()},a.renderTooltip=function(){var e=a.state.mouseOverProgressRatio;if(void 0===e)return f.createElement("div",{className:m.default.tooltipWrapper});var t=h.default.durationStr(e*a.props.duration),n=100*e+"%";return f.createElement("div",{className:m.default.tooltipWrapper,style:{left:n}},f.createElement("div",{className:(0,u.default)(m.default.tooltipTextBoxGeneral,m.default.tooltipTextBoxPosAndSize)},t),f.createElement("div",{className:(0,u.default)(m.default.tooltipTailGeneral,m.default.tooltipTailPosAndSize)}))},a.renderVolume=function(){var e;e=a.state.muted||0===a.state.volume?f.createElement(p.default,{name:"video-volume-muted",display:"inline",onClick:function(e){a.handleUnmute(),0===a.props.volume&&a.props.onVolumeValueChange(j)}}):a.state.volume<.5?f.createElement(p.default,{name:"video-volume-1",display:"inline",onClick:a.handleMute}):a.state.volume>=.5&&a.state.volume<1?f.createElement(p.default,{name:"video-volume-2",display:"inline",onClick:a.handleMute}):f.createElement(p.default,{name:"video-volume",display:"inline",onClick:a.handleMute});var t={width:100*a.state.volume+"%"},n=a.state.isMouseOverVolumeControl&&!a.state.muted,i=n?f.createElement("div",{className:m.default.volumeBarContainer},f.createElement("div",{className:(0,u.default)(m.default.volumeLowerTrack,{[m.default.lowerTrackLongest]:1===a.state.volume,[m.default.firefoxFix]:g.default.isGecko}),style:t}),f.createElement("input",{className:m.default.volumeBar,dir:"ltr",onChange:a.handleVolumeValueChange,type:"range",min:"0",max:1,step:"any",value:a.state.volume})):f.createElement("div",{className:m.default.volumeBarContainer});return f.createElement("div",{className:(0,u.default)(m.default.volumeContainer,{[m.default.volumePadding]:n}),onClick:a.stopEventPropagation,onMouseEnter:function(e){a.setState({isMouseOverVolumeControl:!0})},onMouseLeave:function(e){a.setState({isMouseOverVolumeControl:!1}),0!==a.props.volume||a.state.muted||a.handleMute()},onMouseDown:a.stopEventPropagation},e,i)},a.renderProgress=function(){var e=a.state.progress/a.props.duration;e>1&&(e=1);var t=100*e+"%",n={width:t},i=a.state.bufferedTime/a.props.duration;i>1&&(i=1);var r={width:100*i+"%"},o={left:t};return f.createElement("div",{className:(0,u.default)(m.default.progressBarContainer),onClick:a.stopEventPropagation,onMouseDown:a.stopEventPropagation,onMouseEnter:function(e){a.setState({isMouseOverProgressBar:!0})},onMouseLeave:function(e){a.setState({isMouseOverProgressBar:!1,mouseOverProgressRatio:void 0})},onMouseMove:function(e){var t=a.props.isFullscreenMode?v:b,n=e.currentTarget.getBoundingClientRect().left,i=e.pageX,r=i-n-t,o=e.currentTarget.offsetWidth-2*t,s=(i-n-t)/o,d=o*(a.state.progress/a.props.duration),c=Math.abs(r-d)<=t;s<0?s=c?0:void 0:s>1&&(s=c?1:void 0),a.setState({mouseOverProgressRatio:s})}},f.createElement("input",{className:m.default.hiddenProgressBar,dir:"ltr",onChange:a.handleProgressChange,onMouseDown:a.handleProgressMouseDown,onMouseUp:a.handleProgressMouseUp,type:"range",min:"0",max:(0,l.default)(a.props.duration,2),step:"any",value:a.state.progress}),f.createElement("div",{className:m.default.displayedProgressBar},f.createElement("div",{className:m.default.displayedTrack}),f.createElement("div",{className:(0,u.default)(m.default.displayedBuffer,{[m.default.lowerTrackLongest]:1===i}),style:r}),f.createElement("div",{className:(0,u.default)(m.default.displayedProgress,{[m.default.lowerTrackLongest]:1===e}),style:n}),f.createElement("div",{className:(0,u.default)(m.default.thumb,{[m.default.hideThumb]:!a.state.isMouseOverProgressBar}),style:o}),a.renderTooltip()))},a.state={progress:a.props.progress,volume:a.props.volume,muted:a.props.muted,bufferedTime:a.props.bufferedTime,isMouseOverVolumeControl:!1,isMouseOverProgressBar:!1,mouseOverProgressRatio:void 0,isDraggingProgress:!1,prevPropProgress:a.props.progress,prevPropVolume:a.props.volume,prevPropMuted:a.props.muted,prevPropBufferedTime:a.props.bufferedTime},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){0!==this.props.volume||this.props.muted||this.handleMute()}},{key:"render",value:function(){var e=this.props.isFullscreenMode,t=e?f.createElement("div",{className:(0,u.default)(m.default.timeText,m.default.currentTime),onClick:this.stopEventPropagation},h.default.durationStr(this.state.progress)):null,a=e?f.createElement("div",{className:(0,u.default)(m.default.timeText,m.default.duration),onClick:this.stopEventPropagation},h.default.durationStr(this.props.duration)):null,n=this.props.className?this.props.className:m.default.controls;return f.createElement("div",{className:(0,u.default)(n,{[m.default.fullscreen]:e})},f.createElement("div",{className:m.default.playpauseBtnContainer,onClick:this.stopEventPropagation,onMouseDown:this.stopEventPropagation,onMouseUp:this.stopEventPropagation},f.createElement(p.default,{name:this.props.isVideoPlaying?"video-pause":"video-play",display:"inline",onClick:this.props.isVideoPlaying?this.handlePause:this.handlePlay})),this.renderProgress(),this.renderVolume(),t,a)}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a={};return t.prevPropProgress===e.progress||t.isDraggingProgress||(a.progress=e.progress,a.prevPropProgress=e.progress),t.prevPropVolume!==e.volume&&(a.volume=e.volume,a.prevPropVolume=e.volume),t.prevPropMuted!==e.muted&&(a.muted=e.muted,a.prevPropMuted=e.muted),t.prevPropBufferedTime!==e.bufferedTime&&(a.bufferedTime=e.bufferedTime,a.prevPropBufferedTime=e.bufferedTime),a}}]),t}(f.PureComponent);t.default=E},dddjjdbfga:function(e,t,a){var n={labelsDisplay:a("bjhbahjgdi"),groupsV3:a("bjjegiiahd"),groupsV3Create:a("cdhdchfidf"),changeNumberV2:a("cjaiehadfe"),queryStatusV3Thumbnail:a("djhbejhbda"),queryVname:a("dgfcjhijbf"),voipIndividualIncoming:a("jijhjeei"),quickRepliesQuery:a("cdjfcjheca"),payments:a("cjijcbcfhd"),stickerPackQuery:a("ecidgeifdi"),labelsEdit:a("cgbbacefei"),mediaUpload:a("bcbeebghff"),videoPlaybackUrl:a("dhjaadicdd"),statusRanking:a("jciegiifi"),recentStickers:a("cdffadcgjg"),starredStickers:a("bafbadjdec"),groupsV4JoinPermission:a("bbgehjjjbb"),ephemeralMessages:a("ccafbdigcj")};e.exports=n},ddeghajfaj:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=n(a("dcaifjegcg")),u=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).id=(0,l.prop)(),a.shortcut=(0,l.prop)(),a.message=(0,l.prop)(),a.count=(0,l.prop)(),a.keywords=(0,l.prop)(),a.pendingCount=(0,l.session)(0),a.totalCount=(0,l.derived)(a._totalCount,["count","pendingCount"]),a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"_totalCount",value:function(){return this.count+this.pendingCount}},{key:"useOnce",value:function(){this.pendingCount+=1,this.getCollection().periodicFlush()}},{key:"getCollection",value:function(){return a("bechejbabh").default}}]),t}(l.default);u.Proxy="quickReply";var f=(0,l.defineModel)(u);t.default=f},ddeihcgfbg:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var a=[],n=e.cloneNode(!0).firstChild;for(;n;){switch(n.nodeType){case 1:var i=o(n,t);if(i){a.push(i(n));break}switch(n.tagName){case"P":case"BR":case"PRE":a.push("\n");break;case"DIV":n.firstChild&&3!==n.firstChild.nodeType||a.push("\n")}break;case 3:a.push(n.nodeValue)}if(n.hasChildNodes())n=n.firstChild;else{for(;n&&!n.nextSibling;)if((n=n.parentNode)===e){n=null;break}n&&(n=n.nextSibling)}}return a.join("")};var i=n(a("hbddjfeei"));function r(e,t){return e.msMatchesSelector?e.msMatchesSelector(t):e.webkitMatchesSelector?e.webkitMatchesSelector(t):e.matches(t)}function o(e,t){for(var a=0;a<t.length;++a){var n=t[a].serializers;if(n)for(var o=0;o<n.length;++o){var s=(0,i.default)(n[o],2),d=s[0],c=s[1];if(r(e,d))return c}}return null}},ddfbaajaeh:function(e,t){e.exports={checkboxChatWrapper:"_3WtUH",checkboxChatControl:"p9kzm",labelSelection:"_1Ao9U"}},ddffjbhaib:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=n(a("ddhijeejag")),u=i(a("dbjacfjdhg")),f=i(a("dbifaacaac")),h=a("ebjaejiaba"),p=i(a("ffebdchi")),g=i(a("bbchdeehff")),m=i(a("jeadbebac")),b=i(a("eaehccahdc")),v=i(a("jheedhagg")),j=i(a("dfgbhedcf")),E=i(a("eceadcicaf")),y=a("cafajifcca"),_=i(a("bdiiahhjbe")),S=i(a("eiiicijcj")),C=i(a("ebibecaibi")),A=a("bfbggcdbfb"),M=i(a("biecbbiiee")),T=i(a("cahfddcdga")),P=i(a("ebbfdafeec")),N=i(a("jjgaeci")),I=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).onAttachProduct=function(e){var t=e.product;g.default.openModal(l.createElement(N.default,{product:t}),{transition:"modal-flow",uim:a.props.uim})},a.onProductImageViewer=function(e,t){g.default.openModalMedia(l.createElement(P.default,{activeProductImage:e.activeProductImage,productImageCollection:e.productImageCollection,getZoomNode:e.getZoomNode,product:e.product,sessionId:t}),{transition:"media-viewer",uim:a.props.uim})},a.onChatInfoDrawer=function(e,t){g.default.openDrawerRight(l.createElement(j.default,{chat:e,key:"info-".concat(e.id.toString()),showFullGroupDescription:t}),"slide-left",a.props.uim)},a.onLiveLocationDrawer=function(e,t){e.liveLocation&&e.liveLocation.active||g.default.openDrawerRight(l.createElement(y.LiveLocationDrawerLoadable,{chat:e,openFrom:t,isFirstLevel:!0}),"slide-left",a.props.uim)},a.onExpiredLocationDrawer=function(e){g.default.openDrawerRight(l.createElement(y.ExpiredLocationDrawerLoadable,{msg:e}),"slide-left",a.props.uim)},a.onMsgInfoDrawer=function(e){e.chat.kind===h.CHAT_KIND.CHAT?g.default.openDrawerRight(l.createElement(m.default,{msg:e}),"slide-left",a.props.uim):g.default.openDrawerRight(l.createElement(b.default,{msg:e}),"slide-left",a.props.uim)},a.onAttachMediaDrawer=function(e){var t=e.chat,n=e.attachments,i=e.animationName,r=e.initCaption,o=e.onComplete,s=e.fileOrigin,d=function(){var e=t.composeAttachMediaContents;e&&n&&(s?e.processAttachments(n,s):(_.default.error("ChatActionListener:onAttachMediaDrawer fileOrigin is not specified, fallback to default")(),e.processAttachments(n,A.MEDIA_PICKER_ORIGIN_TYPE.CHAT_PHOTO_LIBRARY)))};g.default.existsDrawerMid(function(e){if(e)d();else{if(!t.composeAttachMediaContents){var n=t.groupMetadata&&t.groupMetadata.participants.length||1;t.setComposeAttachMediaContents(new u.default({chatParticipantCount:n}))}var s=(0,T.default)(t.composeAttachMediaContents),c={noFocus:!0,onEnterAnimationComplete:d};g.default.openDrawerMid(l.createElement(f.default,{chat:t,onComplete:o,initCaption:r,mediaCollection:s}),i||"slide-up",a.props.uim,c)}})},a.onChatSearch=function(e){g.default.openDrawerRight(l.createElement(p.default,{chat:e}),"slide-left",a.props.uim)},a.onMediaViewer=function(e){var t=e.msg,n=e.getZoomNode,i=e.currentTime,r=e.highlightedMsgIds;M.default.get(t.id)?g.default.openModalMedia(l.createElement(C.default,{msg:t,startTime:i,getZoomNode:n,highlightedMsgIds:r}),{transition:"media-viewer",uim:a.props.uim}):g.default.openModal(l.createElement(S.default,{msg:t}))},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){var e=this.props.listeners;e.add(g.default,"chat_info_drawer",this.onChatInfoDrawer),e.add(g.default,"msg_info_drawer",this.onMsgInfoDrawer),e.add(g.default,"chat_search",this.onChatSearch),e.add(g.default,"attach_media_drawer",this.onAttachMediaDrawer),e.add(g.default,"live_location_drawer",this.onLiveLocationDrawer),e.add(g.default,"media_viewer_modal",this.onMediaViewer),e.add(g.default,"expired_location_drawer",this.onExpiredLocationDrawer),e.add(g.default,"product_image_viewer_modal",this.onProductImageViewer),e.add(g.default,"attach_product",this.onAttachProduct)}},{key:"render",value:function(){return null}}]),t}(l.Component),k=(0,v.default)((0,E.default)(I));t.default=k},ddfgchbfej:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.parseErrorState=function(e,t){if(e instanceof s.Unmount)return;if(e instanceof r.ServerStatusCodeError)"not_found"===e.status?t("NOT_FOUND"):(t("ERROR"),o.default.error("parseErrorState:Failed to fetch from server",e)());else{if(!(e instanceof r.WapDrop))throw t("ERROR"),e;t("ERROR"),o.default.error("parseErrorState:Failed to fetch due to WapDrop",e)()}};var r=a("ddjgcfjicj"),o=i(a("bdiiahhjbe")),s=n(a("cajijabhgb"))},ddfgdjiacb:function(e,t){e.exports={singleByte:["vname","old_jid","new_jid","announcement","locked","prop","label","color","call","offer","call-id"]}},ddfihebbjf:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=n(a("ddhijeejag")),u=i(a("cjieghfgda")),f=i(a("bffjfbgbg")),h=i(a("ihfccfgdf")),p=function(e){function t(e){var a;(0,r.default)(this,t),(a=(0,s.default)(this,(0,d.default)(t).call(this,e))).refreshBlob=function(){var e=a.blob;if(!e)throw new Error("Cannot call refreshBlob when the blob does not exist.");var t=new Blob([e],{type:e.type}),n=window.URL.createObjectURL(t);a.state.url&&window.URL.revokeObjectURL(a.state.url),a.setState({url:n})};var n=e.mediaData.filehash,i=u.default.has(n);!i&&e.mediaData.mediaStage===f.default.STAGE.RESOLVED&&e.downloadMedia&&e.downloadMedia();var o=i?a.createURL(n):null;return a.state={url:o},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentDidUpdate",value:function(){var e=this.props.mediaData.filehash;u.default.has(e)&&!this.state.url&&this.setState({url:this.createURL(e)})}},{key:"componentWillUnmount",value:function(){this.state.url&&this.revokeURL(this.state.url)}},{key:"createURL",value:function(e){var t=u.default.get(e);if(!t)throw new Error("Cannot call createURL when the blob does not exist.");this.blob=t;var a=new Blob([t],{type:t.type});return window.URL.createObjectURL(a)}},{key:"revokeURL",value:function(e){window.URL.revokeObjectURL(e)}},{key:"render",value:function(){return this.state.url?this.props.children(this.state.url):this.props.placeholderRenderer()}}]),t}(l.Component);p.CONCERNS={mediaData:["filehash","mediaStage"]};var g=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).refreshBlob=function(){a.getComponent().refreshBlob()},a}return(0,c.default)(t,e),t}((0,h.default)(p,p.CONCERNS));t.default=g},ddgbhifaji:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.canSendType=x,t.downloadMsg=function(e,t,a,n){if(e.mediaObject){var i=e.mediaObject.getPendingProcess("fromDisk");return i.then(function(){return A.downloadMedia({mimetype:e.mimetype,object:e.mediaObject,downloadEvenIfExpensive:t,mediaType:(0,_.msgToMediaType)({type:e.type,isGif:e.isGif,subtype:e.subtype}),rmrReason:a,rmrData:n})})}return m.default.assert(!1,"media-fault: downloadMsg msg without mediaObject","id: ".concat(e.id.toString()," type: ").concat(e.type))(e),Promise.resolve()},t.cancelDownloadMsg=function(e){e.mediaObject?A.cancelDownloadMedia(e.mediaObject):m.default.assert(e.mediaObject,"media-fault: cancelDownloadMsg msg without mediaObject","id: ".concat(e.id.toString()," type: ").concat(e.type))(e)},t.prepRawMedia=function(e,t){var a;m.default.info("Prepping raw media")(e,t),a=t.isPtt?y.OUTWARD_TYPES.PTT:t.asDocument?y.OUTWARD_TYPES.DOCUMENT:t.asGif?y.OUTWARD_TYPES.VIDEO:t.isAudio?y.OUTWARD_TYPES.AUDIO:y.OUTWARD_TYPES.UNKNOWN;var n=Promise.resolve(e).then(function(e){return e.autoreleaseWhenPromiseCompletes(n),(0,N.default)(e,t)});return new G(a,n)},t.forwardMediaMsg=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];m.default.info("Prepping media msg")(e);var n=e.mediaObject;if(!n)return m.default.assert(!1,"media-fault: forwardMediaMsg msg without mediaObject","id: ".concat(e.id.toString()," type: ").concat(e.type))(e),Promise.reject("non initialized media");var i=e.mediaData.toJSON();i.preview&&(i.preview=n.contentInfo._preview);i.mediaBlob&&i.mediaBlob.retain();var r=i.isGif?{isGif:!0}:{};i.type===y.OUTWARD_TYPES.PTT&&(i.type=y.OUTWARD_TYPES.AUDIO);var o={businessOwnerJid:e.businessOwnerJid,productId:e.productId,currencyCode:e.currencyCode,priceAmount1000:e.priceAmount1000,retailerId:e.retailerId,url:e.url,productImageCount:e.productImageCount,title:e.title,description:e.description};return new G(i.type,Promise.resolve(i)).sendToChat(t,{caption:i.type===y.OUTWARD_TYPES.DOCUMENT?e.caption:void 0,addEvenWhilePreparing:!0,placeholderProps:r,isForwarded:e.isForwarded||!e.isSentByMe,forwardingScore:e.getForwardingScoreWhenForwarded(),multicast:a,productMsgOptions:o})},t.cancelUploadMsg=function(e){e.mediaObject?(0,M.cancelUploadMedia)(e.mediaObject):m.default.assert(!1,"media-fault: cancelUploadMsg msg without mediaObject","id: ".concat(e.id.toString()," type: ").concat(e.type))(e)},t.resumeUploadMsg=function(e){var t=e.mediaObject;if(!t)return m.default.assert(!1,"media-fault: resumeUploadMsg msg without mediaObject","id: ".concat(e.id.toString()," type: ").concat(e.type))(e),Promise.resolve();t.userAttemptCount++;var a=(0,M.uploadMedia)(e.mimetype,t,(0,_.msgToMediaType)({type:e.type,isGif:e.isGif})).then(function(a){if(!a)throw new Error("upload failed: media entry was not created");t.userAttemptCount=0;var n={clientUrl:a.mmsUrl,directPath:a.directPath,mediaKey:a.mediaKey,mediaKeyTimestamp:a.mediaKeyTimestamp,filehash:t.filehash,uploadhash:a.uploadHash,size:t.size,streamingSidecar:a.sidecar,firstFrameSidecar:a.firstFrameSidecar};return Y(e,n).then(function(){return e})});return(0,k.sendMsgToChat)(e.chat,a).catch(function(){e.ack=-1})},t.mediaMetadata=function(e){var t=e.mediaObject;if(!t)throw m.default.assert(!1,"media-fault: mediaMetadata msg without mediaObject","id: ".concat(e.id.toString()," type: ").concat(e.type))(e),new Error("msg.mediaMetadata with no mediaObject");var a=t.entries.getEntryFromUrl(e.clientUrl);if(!a)throw m.default.assert(!1,"media-fault: mediaMetadata no entry","id: ".concat(e.id.toString()," type: ").concat(e.type))(e),new Error("msg.mediaMetadata with entry mismatch");var n=e.mediaData;return{url:a.mmsUrl,directPath:a.directPath,encFilehash:a.uploadHash,mediaKey:a.mediaKey,mediaKeyTimestamp:a.mediaKeyTimestamp,filehash:e.filehash,type:n.type,mimetype:n.mimetype,filename:n.filename,duration:n.duration,width:n.fullWidth,height:n.fullHeight,firstFrameLength:n.firstFrameLength,isAnimated:n.isAnimated}},t.videoStreamingInfo=function(e){var t=e.mediaObject;return t?t.videoStreamingInfo(e.id.toString()):null},t.manuallySetMedia=function(e,t,a){var n=e.mediaObject;if(!n)return;P.default.createFromData(t,e.mimetype).then(function(t){A.manuallySetMedia(e.mimetype,n,t,(0,_.msgToMediaType)({type:e.type,isGif:e.isGif}),a)})},t.clearMediaForChat=function(e){E.clearMediaForChat(e)},t.prepareMsg=function(e){var t=e.mediaObject;if(t)return t.resolveWhenConsolidated();var a=e.mediaData,n=a.preview;return!n||void 0!==a.aspectRatio||void 0!==a.fullWidth&&void 0!==a.fullHeight?Promise.resolve():(0,S.getImageWidthHeight)(n).then(function(t){var a=t.width,n=t.height;e.mediaObject||e.mediaData.set({aspectRatio:a/n})})},t.registerMsgEarly=function(e,t){m.default.assert(!e.isUnsentPhoneMsg(),"media-fault: registerMsgEarly msg without mediaObject","id: ".concat(e.id.toString()," type: ").concat(e.type))(e);for(var a={},n=0;n<y.MEDIA_MSG_PROPS.length;n++){var i=y.MEDIA_MSG_PROPS[n],r=t[i];a[i]=void 0!==r?r:e[i]}a.mimetype||a.type!==y.OUTWARD_TYPES.IMAGE||(t.mimetype=a.mimetype="image/jpeg");e.on(U,F),V(e,a,C.default.WEBC_RMR_REASON_CODE.MSG_UPDATE);for(var o={},s=0;s<y.MSG_SPECIFIC_FIELDS.length;s++){var d=y.MSG_SPECIFIC_FIELDS[s];o[d]=a[y.MEDIA_TO_MSG[d]]}e.mediaData.set(o)},t.registerMsg=function(e){e.mimetype||e.type!==y.OUTWARD_TYPES.IMAGE||(e.mimetype="image/jpeg");e.mimetype||e.type!==y.OUTWARD_TYPES.STICKER||(e.mimetype="image/webp");e.on(U,F),B(e,C.default.WEBC_RMR_REASON_CODE.MSG_INIT)},t.deregisterMsg=function(e){e.off(null,F);var t=e.mediaObject;t&&E.disassociateMediaFromMsg(t,e);e.mediaData&&e.mediaData.filehash&&(0,S.shouldUseLruMediaStore)((0,_.msgToMediaType)({type:e.type,isGif:e.isGif||!1,subtype:e.subtype}))&&R.default.del(e.mediaData.filehash)},t.registerSticker=function(e){$(e,e.mediaObject||function(e){if(!e.filehash)return void m.default.assert(!1,"sticker-filehash-error","Unexpected sticker with no filehash")(e);var t=E.getOrCreateMediaObject(e.filehash);return E.associateMediaWithSticker(t,e),t}(e),_.default.STICKER)},t.registerStickerPackIcon=function(e){$(e,e.mediaObject||function(e){if(!e.filehash)return void m.default.assert(!1,"sticker-pack-filehash-error","Unexpected sticker pack with no filehash")(e);var t=E.getOrCreateMediaObject(e.filehash);return E.associateMediaWithStickerPack(t,e),t}(e),_.default.IMAGE)},t.downloadStickerOrStickerPackIcon=function(e,t){if(e.isPlaceholder)return e.mediaData.mediaStage=v.default.STAGE.PREPARING,Promise.resolve();var a=e.mediaObject;if(a){if(a.downloadStage===y.DOWNLOAD_STAGE.RESOLVED)return Promise.resolve();var n=a.getPendingProcess("fromDisk"),i="STICKER"===t?C.default.WEBC_RMR_REASON_CODE.STICKER_PANEL_STICKER:C.default.WEBC_RMR_REASON_CODE.STICKER_PANEL_ICON;return e.clientUrl&&e.filehash&&e.mediaKey&&e.uploadhash?n.then(function(){return A.downloadMedia({mimetype:e.mimetype,object:e.mediaObject,downloadEvenIfExpensive:!0,mediaType:(0,_.msgToMediaType)({type:e.type,isGif:!1}),rmrReason:i})}):n.then(function(){return h.default.rmr({object:a,signal:(new c.default).signal,rmrReason:i})}).then(function(){return A.downloadMedia({mimetype:e.mimetype,object:e.mediaObject,downloadEvenIfExpensive:!0,mediaType:(0,_.msgToMediaType)({type:e.type,isGif:!1}),rmrReason:i})})}var r=e&&e.id||"unknown";return m.default.assert(!1,"media-fault: downloadStickerOrStickerPackIcon sticker/stickerPack without mediaObject","type: ".concat(e.constructor.name," id: ").concat(r))(e),Promise.resolve()},t.prepSticker=function(e){m.default.info("Prepping sticker")(e);var t=e.mediaObject,a=e.mediaData.toJSON();if(a.fullWidth=125,a.fullHeight=125,!t)return m.default.assert(!1,"media-fault: prepSticker sticker without mediaObject","id: ".concat(e.id))(),new G(a.type,Promise.reject("non initialized media"));return new G(a.type,Promise.resolve(a))},t.MediaPrep=void 0;var r=i(a("bhabhhjdch")),o=i(a("eaidjcib")),s=i(a("dgcdacjddi")),d=i(a("cgeeeeddea")),c=i(a("cgeedcdffb")),l=i(a("cfadcbbiie")),u=i(a("bbchdeehff")),f=i(a("bjigbaghc")),h=i(a("bfhdbejjbg")),p=n(a("cajijabhgb")),g=i(a("bjbdcigbdi")),m=i(a("bdiiahhjbe")),b=i(a("cjieghfgda")),v=i(a("bffjfbgbg")),j=i(a("chfghiiefb")),E=n(a("cgidhbdcgc")),y=a("daichdjff"),_=n(a("gbjefdbgb")),S=a("fabajdgab"),C=i(a("bfbggcdbfb")),A=n(a("dhcccifjge")),M=a("bhichefhgf"),T=i(a("cffajefeag")),P=i(a("beeieigghj")),N=i(a("bcfiabbbca")),I=i(a("cfejjfjhca")),k=a("cgddafdgie"),O=a("dgeebjciej"),R=i(a("dejcgejdhb")),w=a("dffjhcaahi");function D(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function L(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?D(Object(a),!0).forEach(function(t){(0,r.default)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):D(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var U="change:phoneUploading change:ack ".concat(y.MEDIA_MSG_PROPS.map(function(e){return"change:".concat(e)}).join(" ")),G=function(){function e(t,a){var n=this;(0,o.default)(this,e),this._baseType=t,this._mediaData=new v.default({mediaStage:y.STAGE.PREPARING}),this._prepwork=a.then(function(e){if(n._mediaData.set(e),!e.filehash)return m.default.assert(e.mediaBlob,"media-fault: no hash or blob")(),(0,O.getHash)(e.mediaBlob).then(function(e){n._mediaData.filehash=e})},function(e){return n._mediaData.mediaStage=y.STAGE.ERROR_UNSUPPORTED,Promise.reject(e)})}return(0,s.default)(e,[{key:"sendToChat",value:function(e,t){return Promise.callSynchronously(W,null,this,e,t)}},{key:"waitForPrep",value:function(){var e=this;return this._prepwork.then(function(){var t=e._mediaData;return x(t.type)?t:Promise.reject(new p.CapabilityUnsupported)})}}]),e}();function x(e){switch(e){case y.OUTWARD_TYPES.IMAGE:return g.default.supportsFeature(g.default.F.ENC_IMAGE);case y.OUTWARD_TYPES.VIDEO:return g.default.supportsFeature(g.default.F.ENC_VIDEO);case y.OUTWARD_TYPES.PTT:case y.OUTWARD_TYPES.AUDIO:return g.default.supportsFeature(g.default.F.ENC_AUDIO);case y.OUTWARD_TYPES.DOCUMENT:return g.default.supportsFeature(g.default.F.ENC_DOC);default:return!0}}function F(e){B(e,C.default.WEBC_RMR_REASON_CODE.MSG_UPDATE)}function B(e,t){if(e.isUnsentPhoneMsg()){m.default.assert(!e.mediaObject,"media-fault: consolidateMediaUpdate unsent message","id: ".concat(e.id.toString()," type: ").concat(e.type))(e);var a=H(e);if(a.mediaStage=e.phoneUploading?y.STAGE.REMOTE_UPLOADING:y.STAGE.REMOTE_NEED_UPLOAD,a.hasOwnProperty("preview")){var n=a.preview;delete a.preview,n&&P.default.createFromBase64Jpeg(n).then(function(t){e&&e.mediaData&&e.isUnsentPhoneMsg()&&(e.mediaData.preview=t)})}e.mediaData.set(a)}else V(e,e,t)}function V(e,t,a){var n=H(t),i=e.mediaObject,r=t.filehash;if(i)r&&r!==i.filehash&&(m.default.log("media:msg ".concat(e.id.toString()," ").concat(i.filehash?"changed":"added"," filehash"))(),E.disassociateMediaFromMsg(i,e),i=E.getOrCreateMediaObject(r),e.mediaObject=i,E.associateMediaWithMsg(i,e));else{i=r?E.getOrCreateMediaObject(r):new j.default;var o=e.mediaData;void 0!==o.aspectRatio&&(n.aspectRatio=o.aspectRatio),e.mediaObject=i,E.associateMediaWithMsg(i,e)}var s=!1,d=t.clientUrl,c=t.mediaKey,l=t.mediaKeyTimestamp,u=t.uploadhash,f=t.type,h=t.streamingSidecar,p=t.firstFrameSidecar,g=t.directPath;if(d){var b,v=~_.MEDIA_TYPE_VALUES.indexOf(f)?f:null;(s=!i.entries.knowsUrl(d))?c&&u&&v?b=i.entries.addEntry(d,c,l,u,v,h,g,p):s=!1:c&&(b=i.entries.updateEntry(d,c,l,u,v,h,g,p)),b||(s=!1),s&&i.downloadStage===y.DOWNLOAD_STAGE.ERROR_MISSING&&(n.downloadStage=y.DOWNLOAD_STAGE.INIT)}if(i.consolidate(n)||i.notifyMsgsAsync(),s&&i.downloadStage===y.DOWNLOAD_STAGE.NEED_POKE){var S;try{S=(0,_.msgToMediaType)({type:e.type,isGif:e.isGif})}catch(a){if(!t.type)throw a;S=(0,_.msgToMediaType)({type:t.type,isGif:e.isGif})}A.downloadMedia({mimetype:t.mimetype,object:i,downloadEvenIfExpensive:!1,mediaType:S,rmrReason:a})}}function H(e){var t={};return y.MAPPED_MSG_PROPS.forEach(function(a){var n=e[a],i=y.MSG_TO_MEDIA[a];t[i]=n}),t}function W(e,t,a){m.default.log("Media:sendToChat chat ".concat(t.id.toString()))();var n,i,r=a.caption,o=a.quotedMsg?a.quotedMsg.msgContextInfo(t.id):{},s=f.default.me,c=a.productMsgOptions||{},u=L({t:l.default.globalUnixTime(),from:s,isNewMsg:!0,to:t.id,self:"out",type:e._baseType,ack:0,local:!0,id:new T.default({from:s,to:t.id,id:(0,I.default)(),participant:void 0,selfDir:"out"}),caption:r,quotedMsg:o.quotedMsg,quotedParticipant:o.quotedParticipant,quotedStanzaID:o.quotedStanzaID,quotedRemoteJid:o.quotedRemoteJid,mentionedJidList:a.mentionedJidList,isForwarded:a.isForwarded,forwardingScore:a.forwardingScore,multicast:a.multicast},c),h=e.waitForPrep().then(function(e){var t=e.mediaBlob;return!t||t instanceof P.default?Promise.resolve(e):P.default.createFromData(t,t.type).then(function(t){return e.mediaBlob=t,e})}).then(function(e){var t=e.filehash;m.default.assert(t,"media-fault: sendToChat filehash undefined")();var a=E.getOrCreateMediaObject(t),n=a.mediaBlob;if(n&&(n.retain(),e.mediaBlob&&e.mediaBlob.autorelease(),e.mediaBlob=n),e.mediaBlob&&(e.renderableUrl=e.mediaBlob.url()),a.consolidate(e.toJSON()),e.mediaBlob&&e.mediaBlob.autorelease(),(0,S.shouldUseMediaCache)((0,_.castToV4)(a.type))&&e.mediaBlob){var i=e.mediaBlob.formData();b.default.put(t,i)}A.downloadMedia({mimetype:e.mimetype,object:a,downloadEvenIfExpensive:!0,mediaType:(0,_.msgToMediaType)({type:e.type,isGif:e.isGif}),rmrReason:C.default.WEBC_RMR_REASON_CODE.SEND_TO_CHAT});var o=a.msgProps(e);return o.caption=r,r||e.type!==y.OUTWARD_TYPES.DOCUMENT||(o.caption=e.filename),o});function p(e){n=e;var t=e.mediaObject;return m.default.assert(t,"media-fault: incorrect media object for created msg")(),(0,d.default)(t,"msg is missing mediaObject"),(0,M.uploadMedia)(e.mimetype,t,(0,_.msgToMediaType)({type:e.type,isGif:e.isGif})).then(function(e){if(!e)throw new Error("upload failed: media entry was not created");return Y(n,{clientUrl:e.mmsUrl,directPath:e.directPath,mediaKey:e.mediaKey,mediaKeyTimestamp:e.mediaKeyTimestamp,filehash:t.filehash,uploadhash:e.uploadHash,size:t.size,streamingSidecar:e.sidecar,firstFrameSidecar:e.firstFrameSidecar})})}if(a.addEvenWhilePreparing){var g=a.placeholderProps||{};i=(0,k.addAndSendMsgToChat)(t,L({},g,{},u),function(e){return n=e,h.then(function(e){return Y(n,e)}).then(function(){return p(n)})})[1]}else{var v=h.then(function(e){var t=a.useBasePropsType?u.type:e.type;return L({},u,{},e,{type:t})});i=(0,k.addAndSendMsgToChat)(t,v,p)[1]}i.catch(function(e){m.default.error("Media:sendToChat error ".concat(String(e)))(e),n&&(n.ack=-1)})}function Y(e,t){return(0,w.updateLocal)(e.id,t).then(function(){e.set(t)})}function $(e,t,a){var n,i,r=(n=e,i={},y.MAPPED_STICKER_PROPS.forEach(function(e){var t=n[e],a=y.MSG_TO_MEDIA[e];i[a]=t}),i);if(e.mediaData.set(r),t){if(e.mediaObject=t,!t.entries.knowsUrl(e.clientUrl))t.entries.addEntry(e.clientUrl,e.mediaKey,e.mediaKeyTimestamp,e.uploadhash,a,null,e.directPath)&&t.downloadStage===y.DOWNLOAD_STAGE.ERROR_MISSING&&(r.downloadStage=y.DOWNLOAD_STAGE.INIT);t.consolidate(r)}}t.MediaPrep=G,u.default.on("logout",function(){E.delistAndDeleteAllMedia()})},ddgfdbejhb:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t,a=s.default.formatLocalSymbol(e.currency);switch(e.paymentStatus){case l.COMPLETE:t=u.SUCCESS;break;case l.CANCELLED:case l.COULD_NOT_COMPLETE:case l.REFUNDED:case l.EXPIRED:case l.REJECTED:t=u.FAILED;break;case l.PROCESSING:case l.SENT:case l.WAITING_FOR_PAYER:case l.NEED_TO_ACCEPT:default:t=u.PROCESSING}var n="send"===e.subtype||null==e.paymentStatus||e.paymentStatus===l.UNKNOWN_STATUS||e.paymentStatus===l.PROCESSING?o.createElement(c.default,{name:"payment-send"}):o.createElement(c.default,{name:"payment-request"});return o.createElement("div",{className:(0,r.default)(d.default.icon,d.default[t],{[d.default.compact]:e.isCompact})},o.createElement("div",{className:(0,r.default)(d.default.iconSymbol,d.default[e.currency])},a),n)};var r=i(a("ceffhbhahb")),o=n(a("ddhijeejag")),s=i(a("bjgiedaj")),d=i(a("fdacbigid")),c=i(a("bfdcadbbif")),l=a("bbcaggdbc").PaymentInfo.STATUS,u={FAILED:"failed",PROCESSING:"processing",WAITING:"waiting",SUCCESS:"success"}},ddhbfebjfb:function(e,t){e.exports={wallpaperColorGrid:"_3ErqO",wallpaperColorCanvas:"_2l-YP",wallpaperDefaultTitle:"_23AyA",wallpaperColorEmpty:"mz3NP",canvasActive:"_3u8cf",canvasHover:"_3DZa-"}},ddhffgjhb:function(e,t){e.exports={productImage:"-d-c-",productImageContainer:"_8GJjA",productThumb:"_3nQJp",productThumbContainer:"zwsy7"}},ddhijgeicd:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("eaidjcib")),r=n(a("dgcdacjddi")),o=function(){function e(t){(0,i.default)(this,e),this.regex=new RegExp("^"+t[0]+"$"),this.formatString=t[1],this.leadins=t[2].map(function(e){return new RegExp("^(?:"+e+")")})}return(0,r.default)(e,[{key:"testAndFormat",value:function(e){return this.regex.test(e)&&this.checkLeadins(e)?e.replace(this.regex,this.formatString):null}},{key:"checkLeadins",value:function(e){return 0===this.leadins.length||this.leadins.some(function(t){return t.test(e)})}}]),e}();t.default=o},ddibegacej:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("djecdhecha")),l=i(a("dbjagcfebh")),u=i(a("hhegggegb")),f=i(a("ceffhbhahb")),h=n(a("ddhijeejag")),p=i(a("ebgjhfacdb")),g=i(a("bbhhbdicgc")),m=i(a("cicjcfabii")),b=i(a("bggeiidigb")),v=i(a("ccajjgdjf")),j=i(a("eceadcicaf")),E=a("bifgjibich"),y=i(a("bechejbabh")),_=i(a("gegihfgbf")),S=i(a("ddifcjhjde")),C=i(a("caffijjhc")),A=i(a("didfdhbecg")),M={query:"",results:[],active:!1,offset:0},T=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).state=M,a.flatListController=new b.default,a.setRefList=function(e){a.list=e},a.onUpdate=P(function(){return a.onFilter(a.state.query)},(0,c.default)(a)),a.onFilter=function(e){y.default.synced()||a.syncIfNeeded();var t=y.default.filterShortcuts(e);t.length&&(0,E.logFilterEvent)(t.length),a.setState({query:e,results:t,active:!0,offset:0})},a.onInactive=P(function(){a.setState(M)},(0,c.default)(a)),a.onSelect=P(function(){return a.handleSelect(a.state.offset)},(0,c.default)(a)),a.onUp=P(function(){var e=Math.max(a.state.offset-1,0);a.setOffset(e)},(0,c.default)(a)),a.onDown=P(function(){var e=a.state.results.length-1,t=Math.min(a.state.offset+1,e);a.setOffset(t)},(0,c.default)(a)),a.onBackspace=function(){var e=window.getSelection().toString();a.lastInsertedText&&e===a.lastInsertedText&&(0,E.logCancelEvent)()},a.onEscape=function(){a.setState(M)},a.syncIfNeeded=(0,u.default)(function(){y.default.synced()||y.default.sync()},1e3),a.renderItem=function(e){var t=e.index,n=e.quickReply;return h.createElement(_.default,{key:n.id,quickReply:n,query:a.state.query,selected:t===a.state.offset,onMouseDown:function(e){return e.preventDefault()},onMouseUp:function(){return a.handleSelect(t)},onMouseEnter:function(){return a.setOffset(t,!0)}})},a}return(0,l.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){var e=this.props.plugin;e.registerHandler(this,p.default.ENTER,this.onSelect),e.registerHandler(this,p.default.TAB,this.onSelect),e.registerHandler(this,p.default.FILTER,this.onFilter),e.registerHandler(this,p.default.INACTIVE,this.onInactive),e.registerHandler(this,p.default.UP,this.onUp),e.registerHandler(this,p.default.DOWN,this.onDown),e.registerHandler(this,p.default.BACKSPACE,this.onBackspace),this.props.listeners.add(y.default,"add remove change:shortcut",this.onUpdate)}},{key:"componentWillUnmount",value:function(){var e=this.props.plugin;e.unregisterHandler(this,p.default.ENTER),e.unregisterHandler(this,p.default.TAB),e.unregisterHandler(this,p.default.FILTER),e.unregisterHandler(this,p.default.INACTIVE),e.unregisterHandler(this,p.default.UP),e.unregisterHandler(this,p.default.DOWN),e.unregisterHandler(this,p.default.BACKSPACE),this.syncIfNeeded.cancel()}},{key:"setOffset",value:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e!==this.state.offset&&this.setState({offset:e},function(){!a&&t.list&&t.list.scrollIntoViewIfNeeded(e)})}},{key:"handleSelect",value:function(e){var t=this.state.results[e];t&&t.id&&(this.lastInsertedText=t.message,(0,E.logSelectEvent)(),this.props.plugin.handleSelect(t))}},{key:"renderList",value:function(){var e=this.state,t=e.results,a=e.query,n=e.offset,i=t.map(function(e,t){return{height:52,itemKey:e.id,contentKey:"".concat(a).concat(t===n?"-selected":""),index:t,quickReply:e}});return t.length?h.createElement(C.default,{displayName:"QuickReplySuggestions",escapable:!0,requestDismiss:this.onEscape},h.createElement("div",{className:(0,f.default)(S.default.overlayContainer)},h.createElement(m.default,{className:S.default.resultsContainer,flatListControllers:[this.flatListController]},h.createElement(g.default,{ref:this.setRefList,data:i,flatListController:this.flatListController,direction:"vertical",renderItem:this.renderItem})))):null}},{key:"render",value:function(){return h.createElement(A.default,{component:"div",className:S.default.positioningContainer,transitionName:"slide-up"},this.renderList())}}]),t}(h.Component);function P(e,t){return function(a,n){return!(!t.state.active||!t.state.results.length)&&((!a||!(0,v.default)(a))&&(e.call(t,a,n),!0))}}var N=(0,j.default)(T);t.default=N},ddidadfgch:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=i(a("ceffhbhahb")),u=n(a("ddhijeejag")),f=i(a("bcidefefj")),h=i(a("dbfaahhhec")),p=a("daichdjff"),g=i(a("becfabjeeg")),m=i(a("bcifhbgija")),b=function(e){function t(e){var a;(0,r.default)(this,t),(a=(0,s.default)(this,(0,d.default)(t).call(this,e))).setRefElement=function(e){a.refElement=e},a.setRefSpinner=function(e){a.refSpinner=e},a.spinningAnimation=null,a.incrementResolvedCount=function(){a.setState({resolved:a.state.resolved+1})};for(var n=0,i=0;i<e.imageModels.length;i++)e.imageModels[i].mediaData.mediaStage===p.STAGE.RESOLVED&&(n+=1);return a.state={resolved:n,fadeInImages:!1},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){this.isAllImagesLoaded()||this.props.renderFallbackImage||this.animateSpinnerAppearance()}},{key:"componentWillUnmount",value:function(){this.spinningAnimation&&this.spinningAnimation.cancel()}},{key:"animateSpinnerAppearance",value:function(){var e=this,t=this.refSpinner;t&&(this.spinningAnimation&&this.spinningAnimation.cancel(),this.spinningAnimation=(this.spinningAnimation||Promise.resolve()).then(function(){return(0,m.default)(t,{opacity:[1,0]},{delay:75,duration:50})}).cancellable().then(function(){e.setState({fadeInImages:!0})}).catch(Promise.CancellationError,function(){(0,m.default)(t,"stop",!0)}).finally(function(){e.spinningAnimation=null}))}},{key:"getRowKey",value:function(e){return"ImageGrid-row-".concat(e)}},{key:"getColumnKey",value:function(e){return"ImageGrid-col-".concat(e)}},{key:"isAllImagesLoaded",value:function(){var e=this.props.imageModels;return this.state.resolved>=Math.min(3,e.length)}},{key:"renderLastItem",value:function(e){var t=this.props,a=t.imageModels,n=t.numberTextClassName,i=t.fetching,r=t.onClick,o=a.length-1-e,s=a[e];return u.createElement(h.default,{key:this.getRowKey(e),onClick:r,imageModel:s,mediaData:s.mediaData,renderOverlay:o>0,numImagesNotRendered:o,numberTextClassName:n,incrementResolvedCount:this.incrementResolvedCount,renderImage:this.isAllImagesLoaded()&&!i})}},{key:"renderItem",value:function(e,t,a){var n=this.props,i=n.fetching,r=n.onClick,o=t.mediaData;return u.createElement(h.default,{key:e,className:a,onClick:r,imageModel:t,mediaData:o,incrementResolvedCount:this.incrementResolvedCount,renderImage:this.isAllImagesLoaded()&&!i})}},{key:"renderLastColumnImages",value:function(e,t){for(var a=this.props.imageModels,n=[],i=e;i<t-1;i++)n.push(this.renderItem(this.getRowKey(i),a[i]));return n.push(this.renderLastItem(t-1)),n}},{key:"renderLastColumn",value:function(e,t,a){var n=this.props.lastColumnClassName;return u.createElement("div",{key:e,className:(0,l.default)(f.default.column,f.default.lastColumn,n,{[f.default.lastColumnWidth]:!n})},this.renderLastColumnImages(t,a))}},{key:"renderImagesInColumns",value:function(e,t){var a=this.props.imageModels;if(!a.length)return null;var n=Math.min(a.length,e-1+t);if(1===n)return this.renderItem(this.getColumnKey(0),a[0],f.default.column);if(2===n)return[this.renderItem(this.getColumnKey(0),a[0],f.default.column),this.renderItem(this.getColumnKey(1),a[1],f.default.column)];for(var i=[],r=0;r<e-1;r++){var o=a[r];i.push(this.renderItem(this.getColumnKey(r),o,f.default.column))}return e-1<n-1&&i.push(this.renderLastColumn(this.getColumnKey(e-1),e-1,n)),i}},{key:"_renderFallbackImage",value:function(){var e=this.props.productMsgMediaData;return u.createElement("div",{className:f.default.headContainer},u.createElement("div",{className:(0,l.default)(f.default.container,f.default.containerBg),ref:this.setRefElement},e&&u.createElement(h.default,{className:f.default.column,mediaData:e,renderFallbackImage:!0})))}},{key:"render",value:function(){var e=this.props,t=e.fetching,a=e.renderFallbackImage,n=this.state.fadeInImages;if(a)return this._renderFallbackImage();var i=this.props,r=i.columns,o=i.lastColumnNumRows;null!=r&&0!==r||(r=2),null!=o&&0!==o||(o=2);var s=this.isAllImagesLoaded(),d=s?null:u.createElement("div",{className:f.default.loadingBlock},u.createElement("div",{className:f.default.spinner,ref:this.setRefSpinner},u.createElement(g.default,{color:"default",size:50,stroke:4})));return u.createElement("div",{className:f.default.headContainer},d,u.createElement("div",{className:(0,l.default)(f.default.container,{[f.default.containerBg]:!t&&s,[f.default.fadeIn]:n}),ref:this.setRefElement},this.renderImagesInColumns(r,o)))}}]),t}(u.Component);t.default=b},ddifaecacd:function(e,t){e.exports={more:"_2TQyO",hotKeyWraper:"BfrqJ"}},ddifcjhjde:function(e,t){e.exports={positioningContainer:"Ya_1h",resultsContainer:"_2sVI6",overlayContainer:"SFlCH"}},ddihbaicfd:function(e,t,a){"use strict";var n=a("cfjecfhbfg"),i=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("ddhijeejag")),o=n(a("bbchdeehff")),s=n(a("djcchigfih")),d=n(a("djbhiedbef")),c=i(a("dajffajabh")),l=n(a("dhfbfehaef")),u=i(a("chcadgfgad")),f=n(a("cgfjebhhej")),h=n(a("dggeggcjcd"));t.default=function(e){var t=e.vcard,a=f.default.parse(t);return a?r.createElement(u.default,{type:u.BoxModalType},r.createElement(s.default,{key:"vcard-modal"},r.createElement(c.default,{title:l10n.t(357),type:c.DRAWER_HEADER_TYPE.POPUP,onCancel:function(){return o.default.closeModal()}}),r.createElement(d.default,null,r.createElement(l.default,null,r.createElement(h.default,{parsedVCard:a,thumbnail:f.default.thumbnail(t)}))))):null}},ddihieeaee:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.sendQueryMediaConn=function(e){return(0,o.default)({retries:1/0,factor:1e3,maxTimeout:9e5,jitter:.25,signal:e},function(t){return s.default.supportsFeature(s.default.F.MD_BACKEND)?Promise.reject(new Error("sendQueryMediaConn: not supported when not build with MD_BACKEND")):d.default.queryMediaConnections(e).then(function(e){var t=e.ttl,a=e.authTTL;return null==a?(a=1e3*t,t=3e5):(a*=1e3,t*=1e3),function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?c(Object(a),!0).forEach(function(t){(0,i.default)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):c(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},e,{authTTL:a,ttl:t})}).catch(r.ServerStatusCodeError,function(e){if(e.status>=500)return t(e);throw e})})};var i=n(a("bhabhhjdch")),r=a("ddjgcfjicj"),o=n(a("bdiihbaeaj")),s=n(a("bjbdcigbdi")),d=n(a("bihdhbjih"));function c(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}},ddjbidjfjh:function(e,t){e.exports={icon:"_2fF63",body:"_3P-1q",spinner:"_3kjgZ",ack:"_3rqs1"}},ddjcbfehh:function(e,t){e.exports={container:"_1wA0y",body:"_2rGVQ"}},ddjdjjicid:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.storeMessages=f,t.addMessagesToHistory=function(e,t,a,n){if(!s.default.supportsFeature(s.default.F.MD_BACKEND))return Promise.resolve();if(!e||"search"===a.add)return Promise.resolve();if("unread"===a.add||n&&("before"===a.add||"after"===a.add)){var i=t.map(function(e){return e.id.toString()});return n&&"before"===a.add?i.push(n.id.toString()):n&&"after"===a.add&&i.unshift(n.id.toString()),l.default.lock(["meta-message-island","message-island"],function(t){var a=(0,r.default)(t,2),n=a[0],o=a[1];return p(o,i).then(function(t){return g(o,n,t,e)})})}if("last"===a.add||"before"===a.add||"after"===a.add){var o=t.map(function(e){return e.id.toString()});return l.default.lock(["meta-message-island","message-island"],function(t){var n=(0,r.default)(t,2),i=n[0],s=n[1];return Promise.all([p(s,o),h(i,e.toString())]).then(function(t){var n=(0,r.default)(t,2),o=n[0],d=n[1];return g(s,i,o,e,{before:"before"===a.add,mergeIntoMetaIsland:d})})})}return Promise.resolve()},t.appendMessage=function(e,t){return s.default.supportsFeature(s.default.F.MD_BACKEND)?f([t]).then(function(){return l.default.lock(["meta-message-island","message-island"],function(a){var n=(0,r.default)(a,2),i=n[0],o=n[1];return h(i,e.toString()).then(function(e){var a=e.islands;if(a.length){var n=a[a.length-1];return o.get(n).then(function(e){if(e)return e.messages.push(t.id.toString()),o.merge(e.id,{messages:e.messages})})}return o.create({parent:e.id,messages:[t.id.toString()]}).then(function(t){return a.push(t),i.merge(e.id,{islands:a})})})})}):Promise.resolve()};var i=n(a("bhfcfhafdj")),r=n(a("hbddjfeei")),o=n(a("bhabhhjdch")),s=n(a("bjbdcigbdi")),d=n(a("dggagcddja")),c=n(a("bjdejebbgc")),l=n(a("ffjiicch"));function u(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function f(e){return s.default.supportsFeature(s.default.F.MD_BACKEND)?c.default.bulkCreateOrMerge(e.map(function(e){return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?u(Object(a),!0).forEach(function(t){(0,o.default)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):u(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},e,{id:e.id.toString()})})):Promise.resolve()}function h(e,t){return e.equals(["chat","mostRecent"],[t,1]).then(function(a){return a.length?a[0]:e.create({islands:[],mostRecent:1,chat:t}).then(function(e){return{id:e,islands:[],mostRecent:1,chat:t}})})}function p(e,t){return function(e,t){return(0,d.default)(t,function(t){return e.equals(["messages"],t).then(function(e){return e.length?e[0]:null})})}(e,t).then(function(e){var a=[],n=new Map,r=new Map;return t.forEach(function(t,i){var o=e[i];if(o){var s=o.parent;r.has(s)||a.push({type:"meta-island",id:s}),r.set(s,o)}else{if(!a.length)return void a.push({type:"new-island",messages:[t]});var d=a[a.length-1];"new-island"===d.type?d.messages.push(t):"meta-island"===d.type&&(r.has(d.id)&&n.set(r.get(d.id),a.length),a.push({type:"new-island",messages:[t]}))}}),n.forEach(function(e,t){if(t){var n=a[e];n.messages.length+t.messages.length<100&&(a[e]={type:"update-island",id:t.id,messages:[].concat((0,i.default)(t.messages),(0,i.default)(n.messages))})}}),a})}function g(e,t,a,n,i){var o=[],s=[],d=[];return a.forEach(function(e){switch(e.type){case"new-island":o.push({messages:e.messages});break;case"update-island":s.push({id:e.id,messages:e.messages});break;case"meta-island":d.push(e.id)}}),o.length||s.length||1!==d.length?Promise.all([m(e,o),e.bulkCreateOrMerge(s),t.bulkGet(d)]).then(function(o){var s,c=(0,r.default)(o,3),l=c[0],u=(c[1],c[2].reduce(function(e,t){return t&&e.set(t.id,t),e},new Map)),f=[],h=0;if(a.forEach(function(e){switch(e.type){case"new-island":f.push(l[h++]);break;case"update-island":break;case"meta-island":var t=u.get(e.id);t&&(f=f.concat(t.islands))}}),i&&!u.has(i.mergeIntoMetaIsland.id)&&(i.before?(d.push(i.mergeIntoMetaIsland.id),f=f.concat(i.mergeIntoMetaIsland.islands)):(d.unshift(i.mergeIntoMetaIsland.id),f=i.mergeIntoMetaIsland.islands.concat(f))),d.length){var p=d[0],g=d.slice(1);s=t.merge(p,{islands:f}).then(function(){return t.bulkRemove(g)}).then(function(){return p})}else s=t.create({islands:f,mostRecent:0,chat:n.toString()});return s.then(function(t){return e.bulkCreateOrMerge(f.map(function(e){return{id:e,parent:t}}))}).then(function(){})}):Promise.resolve()}function m(e,t){return(0,d.default)(t,function(t){return e.create({messages:t.messages,parent:-1})})}},ddjfcdfihc:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.getAction=function(e){var t=e.key,a=e.ctrlKey,n=e.metaKey,i=e.altKey,r=e.shiftKey;if("Control"===t||"Meta"===t||"Alt"===t||"Shift"===t)return;var o=a&&i;return a&&n||o?d[function(e,t){return!t||"Tab"!==e&&"Enter"!==e&&"Backspace"!==e&&" "!==e?e:"Shift+".concat(e)}(t,r)]:void 0},t.getKey=function(e){var t=o[e];if(!t.length)return;var a=t[0],n=a.key,i=a.nativeKey,r=a.nativeModifier,s=i||n;return s?c(s,r):void 0},t.getWebKey=function(e){var t=o[e];if(!t.length)return;var a=t[0],n=a.key,i=a.webKey||n;return i||void 0},t.getAdditionalShortcuts=function(){var e={};return Object.keys(o).forEach(function(t){var a=o[t];a.length<=1||a.slice(1).forEach(function(a){var n=a.key,i=a.nativeKey,r=a.nativeModifier,o=i||n;o&&(e[c(o,r)]=t)})}),e},t.CONFIG=void 0;var i=n(a("dbegcaehed")),r=n(a("dieejegcge")),o={[r.default.CONTACT_US]:[{key:"H"}],[r.default.DELETE_OR_EXIT_CHAT]:[{key:"Backspace"}],[r.default.GO_TO_NEXT_CHAT]:[{key:"Tab",nativeModifier:"Ctrl"},{key:"}"}],[r.default.GO_TO_PREV_CHAT]:[{key:"Shift+Tab",nativeModifier:"Ctrl"},{key:"{"}],[r.default.LOGOUT]:[],[r.default.OPEN_NEW_CHAT]:[{key:"n"}],[r.default.OPEN_NEW_GROUP]:[{key:"N"}],[r.default.OPEN_PROFILE]:[{key:"p"}],[r.default.OPEN_SETTINGS]:[{key:","}],[r.default.SEARCH]:[{webKey:"/",nativeKey:"f"}],[r.default.SEARCH_IN_CHAT]:[{key:"F"}],[r.default.TOGGLE_ARCHIVE]:[{key:"e"}],[r.default.TOGGLE_MUTE]:[{key:"M"}],[r.default.TOGGLE_UNREAD]:[{key:"U"}],[r.default.ZOOM_IN]:[{key:"+"}],[r.default.ZOOM_OUT]:[{key:"-"}],[r.default.ZOOM_RESET]:[{key:"0"}]};t.CONFIG=o;var s,d=(s={},Object.keys(o).forEach(function(e){o[e].forEach(function(t){var a=t.key,n=t.webKey||a;n&&(s[n]=e)})}),s);function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"CmdOrCtrl",a="+"!==e?e:"Plus";return 1===a.length&&a.match(/[a-z]/i)?a.match(/[a-z]/)?"".concat(t,"+").concat((0,i.default)(a)):"Shift+".concat(t,"+").concat(a):"".concat(t,"+").concat((0,i.default)(a))}},deabffecii:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("eaidjcib")),r=n(a("dgcdacjddi")),o=function(){function e(){(0,i.default)(this,e),this.initSessionId()}return(0,r.default)(e,[{key:"initSessionId",value:function(){this.sessionId=this.newSessionId()}},{key:"newSessionId",value:function(){return this.sessionId=Math.floor(2147483648*Math.random()),this.sessionId}},{key:"toString",value:function(){return"".concat(this.sessionId)}}]),e}();t.default=o},deabjbejhf:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=n(a("ddhijeejag")),u=a("dfdebdgdei"),f=i(a("hdccjfbbg")),h=i(a("bhhdeihhhf")),p=i(a("fffdgbfji")),g=i(a("eceadcicaf")),m=i(a("ihfccfgdf")),b=i(a("caffijjhc")),v=i(a("dbjbhajgfd")),j=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).state={contextMenu:null},a.unblockContactTrigger=function(e){var t=a.props.contact,n=[l.createElement(h.default,{a8n:"unblock-contact-in-multi-select",key:"unblock",action:a.unblockContact},p.default.t(346,{contact:t.shortName||t.name}))];e.event&&e.event.persist(),a.setState({contextMenu:{contactId:t.id.toString(),menu:n,anchor:e.anchor,event:e.event}})},a.contextClose=function(){a.setState({contextMenu:null})},a.unblockContact=function(){var e=a.props.contact;a.contextClose(),e.addPendingAction((0,u.unblockContact)(e)).then(function(){return a.props.onSelect()}).catch(function(){})},a.onSelect=function(e){if(!a.props.disabled)if(a.props.allowBlockedContacts)a.props.onSelect();else{var t=a.props.contact;a.state.contextMenu?a.contextClose():t.isContactBlocked?a.unblockContactTrigger({event:e}):a.props.onSelect()}},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e,t=this.props,a=t.disabled,n=t.customSecondaryText,i=t.contact,r=t.active,o=t.allowBlockedContacts;return this.state.contextMenu&&(e=l.createElement(b.default,{displayName:"ChatContextMenu",escapable:!0,popable:!0},l.createElement(v.default,{contextMenu:this.state.contextMenu}))),l.createElement(l.Fragment,null,l.createElement(f.default,{theme:a||i.isContactBlocked&&!o?"chat-checkbox-no-delete":"chat-checkbox",active:r,contact:i,onClick:a?null:this.onSelect,secondary:i.isContactBlocked&&!o?p.default.t(345):n||null,waitIdle:!0}),e)}}]),t}(l.Component);j.CONCERNS={contact:["id","isGroup","isContactBlocked","pendingAction","shortName","name"]};var E=(0,g.default)((0,m.default)(j,j.CONCERNS));t.default=E},deahbiefdi:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=n(a("ddhijeejag")),u=i(a("baagejbchg")),f=i(a("bbhhbdicgc")),h=i(a("cicjcfabii")),p=a("bgjddhffji"),g=i(a("dibagfjg")),m=i(a("ihfccfgdf")),b=a("bheafeifce"),v=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).onProductDetail=function(e){var t=a.props,n=t.onProductDetail,i=t.sessionId;return(0,p.logCatalogListDetailClick)((0,b.unproxy)(e),i),n(e,i)},a.renderItem=function(e){var t=e.product;return l.createElement(g.default,{product:t,onClick:function(){return a.onProductDetail(t)}})},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"getData",value:function(){return this.props.catalog.productCollection.getProductModels().map(function(e){return{itemKey:e.id.toString(),product:e}})}},{key:"render",value:function(){var e=this.props.catalog;return e.productCollection&&e.productCollection.getProductModels().length?l.createElement(h.default,{flatListControllers:[this.props.flatListController]},l.createElement(f.default,{flatListController:this.props.flatListController,direction:"vertical",forceConsistentRenderCount:!1,data:this.getData(),renderItem:this.renderItem,defaultItemHeight:u.default.PRODUCT_LIST_ITEM_HEIGHT})):null}}]),t}(l.Component);v.CONCERNS={catalog:["productCollection","afterCursor","id","index"]};var j=(0,m.default)(v,v.CONCERNS);t.default=j},debediheaf:function(e,t,a){"use strict";var n=a("cfjecfhbfg"),i=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(e.sectionId&&e.sectionId===o.default.FAVORITES)return r.createElement(d.default,{name:c});return r.createElement("span",{className:s.default.text},e.sectionTitle)};var r=i(a("ddhijeejag")),o=n(a("igbbahaj")),s=n(a("dhagjfdjei")),d=n(a("bfdcadbbif")),c="panel-starred"},debfbiicee:function(e,t,a){"use strict";var n=a("cfjecfhbfg")(a("chgaccicf"));e.exports=(0,n.default)({CHANGE:void 0,MOUNT:void 0,INPUT:void 0})},debjjaigad:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.DEFAULT_PREFERENCE=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=n(a("dcaifjegcg")),u=i(a("jccfhaecf"));t.DEFAULT_PREFERENCE="defaultPreference";var f=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).id=(0,l.prop)(),a.wallpaperColor=(0,l.prop)(),a.saveToCameraRoll=(0,l.prop)(),a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"getCollection",value:function(){return a("ebcagbhefg")}}]),t}(l.default);f.Proxy="chatPreference",f.idClass=u.default,f.idWhitelist=["defaultPreference"];var h=(0,l.defineModel)(f);t.default=h},decdhbjfjc:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var a=t;for(;a>0;)e.modify("extend","backward","character"),a--}},decebhabae:function(e,t){e.exports={attachMenuContainer:"KSY4t",iconsItem:"Ijb1Q"}},deceibabdd:function(e,t){e.exports={status:"_zurL",failed:"_3Wtud",processing:"_1j9ix",waiting:"_10nh0",success:"_2xlO9"}},decfffijad:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=n(a("ddhijeejag")),u=i(a("eceadcicaf")),f=i(a("fagbfehid")),h=i(a("bfidigcji")),p=i(a("dabcbibhcf")),g=i(a("hfcihgigj")),m=function(e){function t(e){var a;return(0,r.default)(this,t),(a=(0,s.default)(this,(0,d.default)(t).call(this,e)))._handleStickerPackPageFetchState=function(e,t){if(!a._unmounted){var n=a.props.index;f.default.pageWithIndex(n)===e&&(t||f.default.fetchAt(n),a.setState({stickerPack:f.default.at(n)}))}},f.default.fetchAt(e.index),a.state={stickerPack:f.default.at(e.index)},a._unmounted=!1,a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){this.props.listeners.add(f.default,"change:pageFetchStates",this._handleStickerPackPageFetchState)}},{key:"componentWillUnmount",value:function(){this._unmounted=!0}},{key:"render",value:function(){var e=this.state.stickerPack;return e?e.isPlaceholder?l.createElement(p.default,null):e.isFirstParty?l.createElement(h.default,{stickerPack:e}):l.createElement(g.default,{stickerPack:e,mediaData:e.mediaData}):null}}]),t}(l.PureComponent),b=(0,u.default)(m);t.default=b},decfjabfdj:function(e,t){e.exports={"-side-margin":"12px",sideMargin:"12px","-emoji-width":"44px",emojiWidth:"44px","-emoji-height":"44px",emojiHeight:"44px",panel:"_3hIRi",section:"_2ecE7"}},dedicfgaca:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg"),r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=i(a("ceffhbhahb")),u=n(a("ddhijeejag")),f=i(a("bdiiahhjbe")),h=i(a("bhaaifddjf")),p=i(a("bcifhbgija")),g=function(e){function t(){var e;return(0,r.default)(this,t),(e=(0,s.default)(this,(0,d.default)(t).apply(this,arguments))).setRefBar=function(t){e.refBar=t},e.onClick=function(t){e.props.onClick&&e.props.onClick(t)},e.onStart=function(t,a){if(e.refBar){var n="-".concat(t/a*100,"%");(0,p.default)(e.refBar,"stop"),e.barAnimation=(0,p.default)(e.refBar,{translateX:["0%",n]},{duration:t,easing:"linear"})}},e.onPause=function(){e.refBar&&(0,p.default)(e.refBar,"stop")},e.onEnded=function(){return e.barAnimation?e.barAnimation:Promise.resolve()},f.default.info("Current index: ".concat(e.props.current,", total count: ").concat(e.props.total))(),f.default.assert(e.props.current>=0&&e.props.current<e.props.total,"bad current status v3 index")(),e}return(0,c.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){for(var e=this,t=[],a="".concat(100/this.props.total,"%"),n=function(n){var i=(0,l.default)(h.default.foreground,{[h.default.filled]:n<e.props.current,[h.default.empty]:n>e.props.current,[h.default.active]:n===e.props.current}),r={width:a},o=u.createElement("div",{className:h.default.wrapper,style:r,key:n,onClick:function(){return e.onClick(n)}},u.createElement("div",{className:h.default.bg}),u.createElement("div",{className:h.default.mask},u.createElement("div",{className:i,ref:n===e.props.current?e.setRefBar:function(){}})));t.push(o)},i=0;i<this.props.total;++i)n(i);return u.createElement("div",{className:h.default.container},t)}}]),t}(u.Component);e.exports=g},dedjffeefj:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("dfjcddaaib")),o=i(a("eaidjcib")),s=i(a("dgcdacjddi")),d=i(a("ffceefejc")),c=i(a("cjedcdbdii")),l=i(a("dbjagcfebh")),u=n(a("ddhijeejag")),f=i(a("baagejbchg")),h=i(a("cbjcfbbhja")),p=i(a("eceadcicaf")),g=i(a("bdiiahhjbe")),m=i(a("bfbggcdbfb")),b=i(a("deagfdiahe")),v=i(a("djgjhgjdcd")),j=-5,E=[{source:window,name:"focus"},{source:document,name:"wheel"},{source:document,name:"keydown"},{source:document,name:"mouseover"},{source:document,name:"mousemove"},{source:document,name:"click"},{source:document,name:"scroll"}],y=function(e){function t(){var e,a;(0,o.default)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=(0,d.default)(this,(e=(0,c.default)(t)).call.apply(e,[this].concat(i)))).lastInform=Date.now(),a.lastPageX=-1,a.lastPageY=-1,a.bitArray=null,a.endSession=function(){a.bitArray&&a.bitArray.shipAndEndSession()},a.handleRestore=function(){var e=a.bitArray;e?(a.lastInform=Date.now(),e.update(a.lastInform)):g.default.error("Time Spent Logger not started")()},a.handleEvent=function(e){var t=a.bitArray;if(t){if(e instanceof MouseEvent){if(e.pageX===a.lastPageX&&e.pageY===a.lastPageY&&"click"!==e.type)return;a.lastPageX=e.pageX,a.lastPageY=e.pageY}var n=Date.now(),i=n-a.lastInform;i>0?(a.lastInform=n,t.update(a.lastInform)):i<j&&(a.lastInform=n)}},a.handleUnload=function(){a.bitArray&&(a.bitArray.ship(a.stashLogs),a.bitArray=null)},a.shipLogs=function(e){var t=new m.default.UserActivity({userActivitySessionId:e.sessionId,userActivityStartTime:e.startTime,userActivityBitmapLen:e.bitmapLen,userActivityBitmapLow:e.bitmap[0],userActivitySessionSeq:e.sessionSeq,userActivitySessionCum:e.sessionCum});e.bitmapLen>32&&(t.userActivityBitmapHigh=e.bitmap[1]),t.commit()},a.stashLogs=function(e){for(var t="".concat(e.bitmap[0]),a=1;a<e.bitmap.length;++a)t+=":".concat(e.bitmap[a]);var n="".concat(e.sessionId,":").concat(e.sessionSeq,":").concat(e.sessionCum)+":".concat(e.startTime,":").concat(e.bitmapLen,"$").concat(t);h.default.permanentStorage.setItem(f.default.KEY_TIME_SPENT_EVENT,n)},a}return(0,l.default)(t,e),(0,s.default)(t,[{key:"componentDidMount",value:function(){var e=h.default.permanentStorage.getItem(f.default.KEY_TIME_SPENT_EVENT);e&&(this.parseAndShipStashed(e),h.default.permanentStorage.removeItem(f.default.KEY_TIME_SPENT_EVENT));var t=this.props.listeners;this.bitArray=new v.default(this.shipLogs);var a=!b.default||{passive:!0,capture:!0};t.add(window,"beforeunload",this.handleUnload);for(var n=0;n<E.length;++n){var i=E[n],r=i.source,o=i.name;t.add(r,o,this.handleEvent,a)}}},{key:"componentWillUnmount",value:function(){this.bitArray&&(this.bitArray.ship(),this.bitArray=null)}},{key:"parseAndShipStashed",value:function(e){var t=e.split("$"),a=(0,r.default)(t),n=a[0],i=a[1];if(!a.slice(2).length&&i)if(5===(n=n.split(":")).length){i=new Int32Array(i.split(":").map(function(e){return Number(e)}));var o={sessionId:n[0],sessionSeq:Number(n[1]),sessionCum:Number(n[2]),startTime:Number(n[3]),bitmapLen:Number(n[4]),bitmap:i};this.shipLogs(o)}else g.default.error("Invalid stashed time spent event")(e);else g.default.error("Invalid stashed time spent event")(e)}},{key:"render",value:function(){return null}}]),t}(u.Component),_=(0,p.default)(y);t.default=_},deecfijhbf:function(e,t){e.exports={bubble:"CqLtL",isPreview:"_1C-RS",isGallery:"z9Uq5",quote:"_2LeWN",hasAuthor:"dnNr8",vcard:"_3j7-G",author:"_2ohYw",hasQuote:"ahnAe",body:"_1XWux",avatar:"_1t5VN",meta:"_2CQ-C",name:"_3ZVco",image:"_1C4N3"}},defecifdhg:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULTS=t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=n(a("dcaifjegcg")),u=i(a("jccfhaecf")),f=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).id=(0,l.prop)(),a.tag=(0,l.prop)(),a.description=(0,l.prop)(),a.categories=(0,l.prop)(),a.email=(0,l.prop)(),a.website=(0,l.prop)(),a.latitude=(0,l.prop)(),a.longitude=(0,l.prop)(),a.businessHours=(0,l.prop)(),a.catalogStatus=(0,l.prop)(),a.structuredAddress=(0,l.prop)(),a.stale=(0,l.session)(!0),a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"markStale",value:function(){this.stale=!0,this.hasObservers()&&this.getCollection().find(this.id)}},{key:"getCollection",value:function(){return a("ejiicdbii").default}}]),t}(l.default);f.Proxy="businessProfile",f.idClass=u.default;var h=(0,l.defineModel)(f);t.default=h;t.DEFAULTS={description:null,email:null,website:null}},defeghgfc:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=n(a("ddhijeejag")),u=i(a("bheebijggd")),f=i(a("fffdgbfji")),h=i(a("bfajhabbdf")),p=n(a("cjijggjfed")),g=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i))))._handleClick=function(e){a.props.onClick(a.props.sectionId,e)},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e={[u.default.RECENT]:f.default.t(421),[u.default.SMILEYS_PEOPLE]:f.default.t(422),[u.default.ANIMALS_NATURE]:f.default.t(416),[u.default.FOOD_DRINK]:f.default.t(418),[u.default.ACTIVITY]:f.default.t(415),[u.default.TRAVEL_PLACES]:f.default.t(424),[u.default.OBJECTS]:f.default.t(420),[u.default.SYMBOLS]:f.default.t(423),[u.default.FLAGS]:f.default.t(417)},t=this.props.sectionId,a=e[t];return l.createElement(p.default,{onClick:this.props.onClick,sectionId:this.props.sectionId,selected:this.props.selected,theme:p.THEMES.MENU,title:a},l.createElement(h.default,{sectionId:t}))}}]),t}(l.PureComponent);t.default=g},degbdgggga:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=n(a("ddhijeejag")),u=i(a("bdiiahhjbe")),f=i(a("hcfegac")),h=i(a("bcjcbbafcj")),p=i(a("dbhbjaeieh")),g=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).refVideo=null,a.autoPlayErrorCount=0,a.setRefVideo=function(e){if(e!==a.refVideo&&(a.refVideo&&a.refVideo.removeEventListener("playing",a.onPlaying),a.refVideo=e,e&&("srcObject"in e&&a.props.srcObject?e.srcObject=a.props.srcObject:e.src||u.default.warn("srcObject is not supported in video tag while src is not set.")(),e&&e.addEventListener("playing",a.onPlaying),a.props.autoPlay))){if(e.addEventListener("playing",a.onceAutoplay),e.srcObject)return void a.play();(h.default.isGecko||h.default.isSafari)&&a.props.autoPlay&&e.paused&&a.play()}},a.onceAutoplay=function(e){var t=a.refVideo;if(t&&(t.removeEventListener("playing",a.onceAutoplay),!t.videoHeight||!t.videoWidth)){a.pause(),a.play();var n;a.autoPlayErrorCount<6&&a.autoPlayErrorCount++,a.autoPlayErrorCount>1&&a.autoPlayErrorCount<6&&(n="the height and width of the video is not zero, count (larger than 1): ".concat(a.autoPlayErrorCount)),a.autoPlayErrorCount>=6&&(n="the height and width of the video is not zero, count larger than ".concat(a.autoPlayErrorCount)),n&&u.default.assert(!1,"non-zero height and width",n)()}},a.onPlaying=function(e){var t=a.refVideo;t&&(t.paused||null!=t.videoHeight&&t.videoHeight>0&&null!=t.videoWidth&&t.videoWidth>0&&a.props.onPlaying&&a.props.onPlaying())},a.getVolume=function(){return a.refVideo?a.refVideo.volume:0},a.setVolume=function(e){a.refVideo&&(a.refVideo.volume=e)},a.getMuted=function(){return!!a.refVideo&&a.refVideo.muted},a.setMuted=function(e){a.refVideo&&(a.refVideo.muted=e)},a.getPaused=function(){return!a.refVideo||a.refVideo.paused},a.getCurrentTime=function(){return a.refVideo?a.refVideo.currentTime:0},a.setCurrentTime=function(e){a.refVideo&&(a.refVideo.currentTime=e)},a.getDuration=function(){return a.refVideo?a.refVideo.duration:0},a.setDuration=function(e){a.refVideo&&(a.refVideo.duration=e)},a.getBuffered=function(){return a.refVideo?a.refVideo.buffered:null},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"underlyingVideo",value:function(){return this.refVideo}},{key:"play",value:function(){this._play()}},{key:"_play",value:function(){var e=this,t=this.refVideo;return t?t.paused?(t.removeEventListener("playing",this.onPlaying),(0,f.default)(t).then(function(){t&&t.addEventListener("playing",e.onPlaying),e.onPlaying()}).catch(function(a){if(t&&t.addEventListener("playing",e.onPlaying),"AbortError"!==a.name){var n=e.refVideo&&e.refVideo.error&&e.refVideo.error.message?e.refVideo.error.message:"",i=e.refVideo&&e.refVideo.error?e.refVideo.error.code:"";u.default.error("video.play() promise rejected: ".concat(n," The error code is ").concat(i,"."))(),e.props.onError&&e.props.onError(a)}else u.default.error("video.play() promise rejected w/ AbortError: ".concat(a.message,", error code: ").concat(a.code))()})):Promise.resolve():Promise.reject(new Error("cannot play unmounted video"))}},{key:"pause",value:function(){var e=this.refVideo;e&&(e.paused||e.pause())}},{key:"pauseAndReset",value:function(){var e=this.refVideo;e&&(e.currentTime=0,this.pause())}},{key:"render",value:function(){return l.createElement("video",{ref:this.setRefVideo,autoPlay:this.props.src?this.props.autoPlay:void 0,className:this.props.className?this.props.className:p.default.video,controls:this.props.controls,height:this.props.height,loop:this.props.loop,muted:this.props.muted,poster:this.props.poster,src:this.props.src?this.props.src:void 0,width:this.props.width,onClick:this.props.onClick,onAbort:this.props.onAbort,onCanPlay:this.props.onCanPlay,onCanPlayThrough:this.props.onCanPlayThrough,onDurationChange:this.props.onDurationChange,onEmptied:this.props.onEmptied,onEncrypted:this.props.onEncrypted,onEnded:this.props.onEnded,onError:this.props.onError,onLoadedData:this.props.onLoadedData,onLoadedMetadata:this.props.onLoadedMetadata,onLoadStart:this.props.onLoadStart,onPause:this.props.onPause,onPlay:this.props.onPlay,onProgress:this.props.onProgress,onRateChange:this.props.onRateChange,onSeeked:this.props.onSeeked,onSeeking:this.props.onSeeking,onStalled:this.props.onStalled,onSuspend:this.props.onSuspend,onTimeUpdate:this.props.onTimeUpdate,onVolumeChange:this.props.onVolumeChange,onWaiting:this.props.onWaiting},this.props.children)}}]),t}(l.PureComponent);t.default=g},degifadiej:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var a,n=!1;for(a=0;a<e.length;a++)if(e[a]===t){n=!0;break}if(n){var i=e[a];e.splice(a,1),e.unshift(i)}}},dehacgjjde:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.PANELS=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=n(a("ddhijeejag")),u=n(a("bjbggbjed")),f=i(a("bjbdcigbdi")),h=i(a("dahicgggee")),p=i(a("bfgbdiffgd")),g=i(a("biahchiahj")),m=i(a("caffijjhc")),b={EMOJI:"EMOJI",GIF:"GIF",STICKER:"STICKER"};t.PANELS=b;var v=function(e){function t(e){var a;return(0,r.default)(this,t),(a=(0,s.default)(this,(0,d.default)(t).call(this,e))).restoreFocus=function(e){switch(a.props.selectedPanelId){case b.STICKER:a._refStickerPanel&&a._refStickerPanel.restoreFocus();break;case b.GIF:a._refGifPanel&&a._refGifPanel.restoreFocus(e);break;case b.EMOJI:default:a._refEmojiPanel&&a._refEmojiPanel.restoreFocus(e)}},a._setRefEmojiPanel=function(e){a._refEmojiPanel=e},a._setRefGifPanel=function(e){a._refGifPanel=e},a._setRefStickerPanel=function(e){a._refStickerPanel=e},a._handleEmojiPanelDisplayCache=function(e){a._emojiPanelDisplayCache=e,a._triggerDisplayCache()},a._handleEmojiPanelFocusNext=function(){a.props.onPanelChange(b.GIF)},a._handleEmojiPanelFocusPrev=function(){a.props.onFocusRelease()},a._handleGifPanelDisplayCache=function(e){a._gifPanelDisplayCache=e,a._triggerDisplayCache()},a._handleGifPanelFocusNext=function(){p.default.stickers&&f.default.supportsFeature(f.default.F.STICKER_PACK_QUERY)?a.props.onPanelChange(b.STICKER):a.props.onFocusRelease()},a._handleGifPanelFocusPrev=function(){a.props.onPanelChange(b.EMOJI)},a._handleRequestFocus=function(){a.restoreFocus(!1)},a._handleStickerPanelDisplayCache=function(e){a._stickerPanelDisplayCache=e,a._triggerDisplayCache()},a._handleStickerPanelFocusNext=function(){a.props.onFocusRelease()},a._handleStickerPanelFocusPrev=function(){a.props.onPanelChange(b.GIF)},e.displayCache&&(a._emojiPanelDisplayCache=e.displayCache.emojiPanel,a._gifPanelDisplayCache=e.displayCache.gifPanel),a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"_triggerDisplayCache",value:function(){this.props.onDisplayCache&&this.props.onDisplayCache({emojiPanel:this._emojiPanelDisplayCache,gifPanel:this._gifPanelDisplayCache,stickerPanel:this._stickerPanelDisplayCache})}},{key:"render",value:function(){var e=null;switch(this.props.selectedPanelId){case b.STICKER:e=l.createElement(g.default,{ref:this._setRefStickerPanel,displayCache:this._stickerPanelDisplayCache,onDisplayCache:this._handleStickerPanelDisplayCache,onFocusPrev:this._handleStickerPanelFocusPrev,onFocusNext:this._handleStickerPanelFocusNext,onSticker:this.props.onSticker});break;case b.EMOJI:default:e=l.createElement(u.default,{ref:this._setRefEmojiPanel,displayCache:this._emojiPanelDisplayCache,width:this.props.width,displayLocation:u.DISP_LOCATION.COMPOSE_BOX,onDisplayCache:this._handleEmojiPanelDisplayCache,onEmoji:this.props.onEmoji,onFocusPrev:this._handleEmojiPanelFocusPrev,onFocusNext:this._handleEmojiPanelFocusNext});break;case b.GIF:e=l.createElement(h.default,{ref:this._setRefGifPanel,displayCache:this._gifPanelDisplayCache,onDisplayCache:this._handleGifPanelDisplayCache,onFocusRelease:this.props.onFocusRelease,onFocusNext:this._handleGifPanelFocusNext,onFocusPrev:this._handleGifPanelFocusPrev,onGif:this.props.onGif})}return l.createElement(m.default,{displayName:"ComposeBoxPanels",escapable:!0,requestDismiss:this.props.requestDismiss,requestFocus:this._handleRequestFocus},e)}}]),t}(l.PureComponent);t.default=v},dehfhdefdi:function(e,t){e.exports={body:"_3UbnA",vcardWrapper:"WOXAS",btnContainer:"_21bWq",btnPosition:"_1ecLP"}},deibcghej:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AlbumPosition=void 0;t.AlbumPosition={TOP_LEFT:"TOP_LEFT",TOP_RIGHT:"TOP_RIGHT",BOTTOM_LEFT:"BOTTOM_LEFT",BOTTOM_RIGHT:"BOTTOM_RIGHT"}},deibgadgic:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=i(a("ceffhbhahb")),u=n(a("ddhijeejag")),f=i(a("baagejbchg")),h=i(a("fifhbjiec")),p=i(a("dbbbgjbbgf")),g=i(a("cefjbaedhh")),m=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,(0,d.default)(t).apply(this,arguments))}return(0,c.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=this.props.msg,t=e.rtl!==l10n.isRTL();if(e.hsmEnabled&&e.footer){var a=(0,l.default)(g.default.footer,{[g.default.isMedia]:e.subtype!==f.default.TEMPLATE_SUBTYPE.TEXT,[g.default.dirMismatch]:t});return u.createElement(p.default,{className:a,spacer:!0,msg:e},u.createElement(h.default,{text:e.footer,dirMismatch:t,direction:e.dir,selectable:!0}))}return null}}]),t}(u.PureComponent);t.default=m},deifjeacc:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=i(a("ceffhbhahb")),u=n(a("ddhijeejag")),f=i(a("effbcehec")),h=i(a("ebcagbhefg")),p=i(a("baagejbchg")),g=a("ciajafaaie"),m=i(a("cdaddeffii")),b=i(a("ihfccfgdf")),v=i(a("bfdcadbbif")),j="FRONT",E="SINGLE",y=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).setRefContext=function(e){return a.refContext=e},a.handleMouseDown=function(e){e.stopPropagation(),e.preventDefault(),a.props.onToggle(e.target)},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"handleClick",value:function(e){e.stopPropagation()}},{key:"render",value:function(){var e=this.props,t=e.msg,a=e.position,n=e.isGroupedSticker,i=t.isSentByMe,r=t.isGroupMsg,o=t.type,s=t.subtype,d=!!t.quotedMsg,c=!t.quotedMsg&&t.quotedRemoteJid,b=t.showForwarded(),y=c?null:i?m.default.contextOut:m.default.contextIn,_=(o===p.default.MSG_TYPE.DOCUMENT||o===p.default.MSG_TYPE.TEMPLATE&&s===p.default.TEMPLATE_SUBTYPE.DOCUMENT)&&!t.body,S=(o===p.default.MSG_TYPE.DOCUMENT||o===p.default.MSG_TYPE.TEMPLATE&&s===p.default.TEMPLATE_SUBTYPE.DOCUMENT)&&t.body,C=o===p.default.MSG_TYPE.LOCATION||o===p.default.MSG_TYPE.TEMPLATE&&s===p.default.TEMPLATE_SUBTYPE.LOCATION,A=t.linkPreview&&(0,g.isParsableOnlineVideoURL)(t.richPreviewType,t.matchedText,t.doNotPlayInline),M=t.isMedia&&o!==p.default.MSG_TYPE.AUDIO||S||C||d||o===p.default.MSG_TYPE.PAYMENT||A||o===p.default.MSG_TYPE.PRODUCT,T=!1;r&&(T=!i&&(a===j||a===E||d||M));var P=t.getSuspiciousLinks().length>0;M=M&&!T&&!P&&!b;var N,I,k=o===p.default.MSG_TYPE.CHAT&&t.linkPreview&&!A&&!T&&!b&&!P&&t.isTrusted(),O=(0,l.default)(M?m.default.contextIconMedia:m.default.contextIcon),R=o===p.default.MSG_TYPE.PTT||o===p.default.MSG_TYPE.AUDIO,w=t.type===p.default.MSG_TYPE.MULTI_VCARD&&!d&&!T&&!b,D=o===p.default.MSG_TYPE.GROUPS_V4_INVITE,L=(k||_||D)&&!T&&!b&&!d,U=o===p.default.MSG_TYPE.STICKER&&!d&&(n||!t.isGroupMsg||t.isGroupMsg&&t.isSentByMe);if(U){var G=h.default.get("defaultPreference"),x=G?G.wallpaperColor:p.default.WALLPAPER_COLOR[0],F={backgroundColor:x,opacity:.9};I=u.createElement("div",{className:m.default.badge,style:F}),N=p.default.INVERT_TRANSPARENT[x]}var B=!(o!==p.default.MSG_TYPE.CHAT||d||T||b||A||!t.dir||t.rtl===l10n.isRTL()),V=(o===p.default.MSG_TYPE.PTT||o===p.default.MSG_TYPE.AUDIO)&&l10n.isRTL()&&!T,H=(0,l.default)(y,M?l10n.isRTL()?m.default.contextMediaRtl:m.default.contextMediaLtr:null,{[m.default.context]:!(M||k)||L,[m.default.contextMedia]:M,[m.default.contextPtt]:R,[m.default.contextPttFix]:R&&!d&&!T,[m.default.contextSpecial]:L,[m.default.contextDoc]:_&&!T&&!b&&!d,[m.default.contextMediaDocument]:S,[m.default.contextMultiVcard]:w,[m.default.contextInverse]:B||V,[m.default.contextStickerAuthor]:o===p.default.MSG_TYPE.STICKER&&!U,[m.default.contextStickerTransparent]:U,[m.default.contextStickerInverse]:U&&N});return u.createElement("div",{className:H},u.createElement("div",{"data-a8n":f.default.key("icon-down-context"),"data-js-context-icon":!0,className:O,ref:this.setRefContext,onMouseDown:this.handleMouseDown,onClick:this.handleClick},u.createElement(v.default,{name:"down-context"})),I)}}]),t}(u.PureComponent);y.CONCERNS={msg:["linkPreview","matchedText","dir","rtl","isMedia","isSentByMe","isGroupMsg","type","quotedMsg","body","quotedRemoteJid","richPreviewType","subtype","doNotPlayInline"]};var _=(0,b.default)(y,y.CONCERNS);t.default=_},deijdcaadj:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("eaidjcib")),r=n(a("dgcdacjddi")),o=function(){function e(){var t=this;(0,i.default)(this,e),this.addListeners=function(e,a,n){t._onStart=e,t._onPause=a,t._onEnded=n},this.setVideo=function(e,a){t._video=e,t._video.addEventListener("playing",t._onPlayingHandler),t._video.addEventListener("pause",t._onPauseHandler),t._video.addEventListener("ended",t._onEndedHandler)},this.play=function(){t._video&&t._video.play()},this.pause=function(){t._video&&!t._video.paused&&t._video.pause()},this.resume=function(){t._video&&t._video.play()},this.stop=function(){t._video&&!t._video.paused&&t._video.pause()},this._onPlayingHandler=function(){var e=t._onStart;e&&e(1e3*(t._video.duration-t._video.currentTime),1e3*t._video.duration)},this._onPauseHandler=function(){var e=t._onPause;e&&e()},this._onEndedHandler=function(){var e=t._onEnded;e&&e()},this.removeListeners=function(){t._onStart=void 0,t._onPause=void 0,t._onEnded=void 0}}return(0,r.default)(e,[{key:"duration",get:function(){return 1e3*this._video.duration}}]),e}();t.default=o},dejbbcaghh:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.canBeGroupedAsAlbum=function(e,t){return(e.isGroupMsg?r.default.equals(e.author,t.author):r.default.equals(e.from,t.from))&&e.isForwarded===t.isForwarded&&t.t-e.t<=i.default.ALBUM_DIFF_INTERVAL},t.canBeGroupedWithNext=function(e,t){return!e.isNotification&&!t.isNotification&&(e.isGroupMsg?r.default.equals(e.author,t.author):r.default.equals(e.from,t.from))};var i=n(a("baagejbchg")),r=n(a("jccfhaecf"))},dejcdgeeje:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=n(a("ddhijeejag")),u=i(a("ecahagbbfh")),f=i(a("ejeidfcga")),h=i(a("hgeacfdgi")),p=i(a("ffebdchi")),g=i(a("bbchdeehff")),m=i(a("bfdjgcjbeh")),b=i(a("dhhfaeacef")),v=i(a("hehdicceb")),j=i(a("eihefeaje")),E=i(a("jheedhagg")),y=i(a("djiejaiah")),_=i(a("dfgbhedcf")),S=i(a("eceadcicaf")),C=a("bhfdfhefca"),A=i(a("bhheahajjg")),M=i(a("bjbedjfe")),T=i(a("ihfccfgdf")),P=a("bheafeifce"),N=i(a("bfdcadbbif")),I=i(a("fbjjefaic")),k=i(a("cjcaccbiih")),O=function(e){function t(){var e;return(0,r.default)(this,t),(e=(0,s.default)(this,(0,d.default)(t).apply(this,arguments))).isListeningForMove=!1,e.didDrag=!1,e.setRef=function(t){e.ref=t,e.props.onRef(t)},e.onWindowFocus=function(){},e.onMouseDown=function(e){},e.onDrag=function(t){e.didDrag=!0},e.onClickCapture=function(e){},e.onInfoPanel=function(){var t=e.props.chat;!t.isPSA&&(t.isUser||t.isBroadcast||t.isGroup)&&g.default.openDrawerRight(l.createElement(_.default,{chat:(0,P.unproxy)(t),key:"info-".concat(t.id.toString())}),"slide-left",e.props.uim)},e.checkForDrawerMid=function(e){g.default.existsDrawerMid(function(t){t&&e.preventDefault()})},e.onChatSearch=function(t){t.preventDefault();var a=e.props.chat;g.default.existsDrawerMid(function(t){t||g.default.openDrawerRight(l.createElement(p.default,{chat:(0,P.unproxy)(a),key:"chat-search-".concat(a.id.toString())}),"slide-left",e.props.uim)})},e.state={},e}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e,t,n=this.props.chat;if(n.isUser)e=l.createElement(m.default,{callUi:h.default,chat:n,contact:n.contact,onSelectMessages:this.props.onSelectMessages}),t=l.createElement(k.default,{contact:n.contact,presence:n.presence,chatstate:n.presence.chatstate,placeholder:l10n.t(316),location:"title"});else if(n.isBroadcast)e=l.createElement(f.default,{chat:(0,P.unproxy)(n),onSelectMessages:this.props.onSelectMessages}),t=null;else if(n.isGroup){e=l.createElement(v.default,{chat:(0,P.unproxy)(n),onSelectMessages:this.props.onSelectMessages});var i=n.groupMetadata&&n.groupMetadata.participants&&n.groupMetadata.participants.iAmAdmin()&&n.groupMetadata.announce?l10n.t(179):l10n.t(315);t=l.createElement(j.default,{chatstate:n.presence.chatstate,groupMetadata:n.groupMetadata,presence:n.presence,placeholder:i,location:"title"})}var r=a("bjbdcigbdi"),o=r.supportsFeature(r.F.FTS_IN_CONV)?l.createElement(C.MenuBarItem,{a8nText:"search-button",icon:l.createElement(N.default,{name:"search-alt"}),title:l10n.t(1004),onClick:this.onChatSearch}):null,s=this.props.canAttach?l.createElement(u.default,{chat:(0,P.unproxy)(n),getComposeContents:this.props.getComposeContents,onMenuComplete:this.props.onMenuComplete}):null;return n.isPSA&&(t=null),l.createElement("header",{ref:this.setRef,className:y.default.chatHeader,onClickCapture:this.onClickCapture,onMouseDown:this.onMouseDown},l.createElement("div",{className:y.default.chatAvatar,onClick:this.onInfoPanel,role:n.isPSA?null:"button"},l.createElement(b.default,{id:n.id,size:40})),l.createElement("div",{className:y.default.chatBody,onClick:this.onInfoPanel,role:n.isPSA?null:"button"},l.createElement("div",{className:y.default.chatMain},l.createElement("div",{className:y.default.chatTitle},l.createElement(A.default,{chat:n,titlify:!0,ellipsify:!0,showBusinessCheckmark:!0}))),t),l.createElement("div",{className:y.default.chatControls},l.createElement(C.MenuBar,{key:"conversation-header"},o,s,l.createElement(C.MenuBarItem,{a8nText:"conversation-menu",icon:l.createElement(N.default,{name:"menu"}),title:l10n.t(729),onClick:this.checkForDrawerMid},e))))}}]),t}(l.Component);O.CONCERNS={chat:["id","formattedTitle","presence","isUser","isGroup","isBroadcast","groupMetadata","isPSA","contact"]};var R=(0,E.default)((0,I.default)((0,S.default)((0,M.default)((0,T.default)(O,O.CONCERNS)))));t.default=R},dejeiggfhi:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t={encFilehash:e.encFilehash,type:e.type};return r.default.log("mmsCheckIfUploadExists: start",t)(),(0,o.default)(e).then(function(e){if("complete"!==e.resume)throw new i.MediaNotFoundError("mmsCheckIfUploadExists");if(!e.directPath)throw new i.HttpInvalidResponseError("mmsCheckIfUploadExists: missing directPath");if(!e.url)throw new i.HttpInvalidResponseError("mmsCheckIfUploadExists: missing url");return{directPath:e.directPath,url:e.url}}).then(function(e){return r.default.log("mmsCheckIfUploadExists: success",t)(),e}).catch(function(e){throw e instanceof i.MediaNotFoundError?r.default.log("mmsCheckIfUploadExists: expected error",t,e)():r.default.error("mmsCheckIfUploadExists: error",t,e)(),e})};var i=a("fgeddfbg"),r=n(a("bdiiahhjbe")),o=n(a("bgfebdjaae"))},dejgiicjih:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i.default}});var i=n(a("chdbdhafaj"))},dfabffebdg:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=i(a("ceffhbhahb")),u=n(a("ddhijeejag")),f=i(a("bfhcddbbhg")),h=a("deibcghej"),p=i(a("bbchdeehff")),g=a("baagejbchg"),m=a("ejbdjaifi"),b=i(a("eceadcicaf")),v=n(a("dhccihecch")),j=i(a("eedjbihej")),E=i(a("dbgefjefac")),y=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).addRevokeListener=function(){a.props.listeners.add(a.props.msg,"change:isRevoked",a.handleRevoke)},a.handleRevoke=function(){p.default.refreshMessages()},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){this.addRevokeListener()}},{key:"componentDidUpdate",value:function(e){this.props.msg.id.equals(e.msg.id)||(this.props.listeners.remove(e.msg,"change:isRevoked",this.handleRevoke),this.addRevokeListener())}},{key:"getRef",value:function(){return this.ref}},{key:"render",value:function(){var e,t,a=this.props,n=a.msg,i=a.albumMsgs,r=a.albumPosition,o=a.isMsgVisible,s=a.zoomMsg,d=a.numAdditionalMedia,c=(0,l.default)({[f.default.albumTopLeft]:r===h.AlbumPosition.TOP_LEFT,[f.default.albumTopRight]:r===h.AlbumPosition.TOP_RIGHT,[f.default.albumBottomLeft]:r===h.AlbumPosition.BOTTOM_LEFT,[f.default.albumBottomRight]:r===h.AlbumPosition.BOTTOM_RIGHT});if(null!=d&&0!==d&&(e=u.createElement(j.default,{theme:"large",className:(0,l.default)(f.default.numberText)},l10n.t(885,{number:d}))),n.type===g.MSG_TYPE.IMAGE)t=u.createElement(v.default,{theme:v.THEMES.ALBUM,albumMsgs:i,msg:n,mediaData:n.mediaData,ref:(0,m.GetRef)("ref",this),isMsgVisible:o,zoomMsg:s,overlayContent:e});else{if(n.type!==g.MSG_TYPE.VIDEO)throw new Error("Unexpected Album Type: "+n.type);t=u.createElement(E.default,{theme:v.THEMES.ALBUM,albumMsgs:i,msg:n,mediaData:n.mediaData,ref:(0,m.GetRef)("ref",this),zoomMsg:s,overlayContent:e})}return u.createElement("div",{className:f.default.albumGridClass},u.createElement("div",{className:c},t))}}]),t}(u.Component),_=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).getRef=function(){return a.getComponent().getRef()},a}return(0,c.default)(t,e),t}((0,b.default)(y));t.default=_},dfaebdhdda:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=n(a("ddhijeejag")),u=i(a("bhhdiiaihb")),f=i(a("ceggedffg")),h=i(a("geiiceahh")),p=(0,u.default)("_"),g=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,(0,d.default)(t).apply(this,arguments))}return(0,c.default)(t,e),(0,o.default)(t,null,[{key:"jsx",value:function(e,t,a){var n=a.selectable;return l.createElement(h.default,{selectable:n},e)}}]),t}((0,f.default)(/(?:^|[\s\W_])~(\S|\S[^\n]*?\S)~(?=$|[[\s\W_])/g,1,p));t.default=g},dfafdjbjfd:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("bhabhhjdch")),o=i(a("eaidjcib")),s=i(a("dgcdacjddi")),d=i(a("ffceefejc")),c=i(a("cjedcdbdii")),l=i(a("dbjagcfebh")),u=n(a("ddhijeejag")),f=i(a("cdbddjfbcd")),h=i(a("cjhcbjdgc")),p=i(a("baaaeiafec"));function g(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function m(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?g(Object(a),!0).forEach(function(t){(0,r.default)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):g(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var b=h.default.prefix("transform"),v=h.default.prefix("transition"),j=function(e){function t(){var e,a;(0,o.default)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=(0,d.default)(this,(e=(0,c.default)(t)).call.apply(e,[this].concat(i)))).state={shouldAnimate:!0,prevItemKey:null,prevRowOffset:null},a}return(0,l.default)(t,e),(0,s.default)(t,[{key:"shouldComponentUpdate",value:function(e,t){return this.props.animate!==e.animate||this.props.zIndex!=this.props.zIndex||this.props.renderItem!==e.renderItem||this.state.shouldAnimate!==t.shouldAnimate||!(0,f.default)(this.props.data,e.data)}},{key:"render",value:function(){var e=this.props,t=e.data,a=e.zIndex,n=this.state.shouldAnimate?"".concat(b," ").concat(200,"ms ease-in-out"):"none",i="horizontal"===this.props.listDirection?{width:t.width,[b]:"translateX(".concat(t.offset,"px)")}:{height:t.height,[b]:"translateY(".concat(t.offset,"px)")},r=m({zIndex:a,[v]:n},i),o=this.props.renderItem(t);return u.createElement("div",{className:p.default.item,style:r},o)}}],[{key:"getDerivedStateFromProps",value:function(e,t){return m({},t,{prevItemKey:e.data.itemKey,prevRowOffset:e.data.offset,shouldAnimate:E(e,t)})}}]),t}(u.Component);function E(e,t){if(!e.animate)return!1;var a=t.prevItemKey;return e.data.itemKey===a&&e.data.offset!==t.prevRowOffset}t.default=j},dfbbbjdejj:function(e,t){e.exports={avatar:"_2Z5XD",avatarDefault:"_3Vh6k",avatarImage:"o7roc",isLoaded:"_1Ve1Q"}},dfbbghiidh:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.onIsBusinessChange=function(e){var t=(0,i.unproxy)(e),a=t.isBusiness,n=t.businessProfile,o=t.id;a&&!n?t.addChild("businessProfile",r.default.BusinessProfile.gadd(o)):!a&&n&&(t.stopListening(n),t.businessProfile=void 0,n.delete())};var i=a("bheafeifce"),r=n(a("bhggeigghg"))},dfbcaibdjh:function(e,t){e.exports={empty:"_13U-5",emptyTop:"_2dEsb",compact:"_1EZrc",icon:"_1i7uJ",title:"_1qGyP",text:"_3dwyT",spinner:"_334hl",action:"_32ACA"}},dfbccdiiii:function(e,t){e.exports={button:"_1f9br",fullscreen:"_3ffkZ"}},dfbhcehadj:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.EmojiVariantCollection=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=n(a("cgcgbfbffj")),u=i(a("djegeegcbf")),f=i(a("eaejdgfgif")),h=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,(0,d.default)(t).apply(this,arguments))}return(0,c.default)(t,e),(0,o.default)(t,[{key:"setVariant",value:function(e,t){var a=u.default.getSkinToneEmojis()[e];if(!a)throw new Error("attempt to store variantless emoji");this.gadd({id:a,variant:t})}},{key:"getVariant",value:function(e){if(u.default.getSkinToneEmojis()[e]){var t=this.get(e);return t?t.variant:null}throw new Error("attempt to get variantless emoji")}},{key:"getVariantIfExists",value:function(e){if(u.default.getSkinToneEmojis()[e]){var t=this.get(e);return t?t.variant:null}return null}}]),t}(l.default);t.EmojiVariantCollection=h,h.model=f.default,h.cachePolicy={id:"emoji_variant_collection",policy:l.CACHE_POLICY.LOAD,delay:1e3};var p=new h;t.default=p},dfcdejcheh:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=n(a("ddhijeejag")),u=i(a("dbdfbgehgj")),f=i(a("bbchdeehff")),h=i(a("ebcfjdcbhh")),p=a("dghhefgjhc"),g=i(a("bbhhbdicgc")),m=i(a("jheedhagg")),b=i(a("dhfbfehaef")),v=i(a("bifahbdaeg")),j=i(a("ecgfaicjah")),E=function(e){function t(){var e;return(0,r.default)(this,t),(e=(0,s.default)(this,(0,d.default)(t).apply(this,arguments)))._listPointerEvents=!0,e._setRefHotKeys=function(t){e._refHotKeys=t},e.onListPointerEventsOff=function(){e._listPointerEvents=!1},e.onListPointerEventsOn=function(){e._listPointerEvents=!0},e.onClick=function(t,a,n){t.preventDefault(),t.stopPropagation(),u.default.find(a.id).then(function(t){2===h.default.column&&e.props.uim.uie.requestDismiss(),f.default.focusChatTextInput(t),f.default.openChatAt(t,n)})},e.getSelection=function(){return e.props.ftsResult||[]},e.renderItem=function(t){var a=t.msg;return a.sender&&a.isGroupMsg&&!a.isNotification&&!a.isSentByMe?l.createElement(j.default,{contact:a.senderObj,msg:a,chat:a.chat,searchText:e.props.searchText,onClick:e.onClick,active:e.props.selection,key:a.id.toString()}):l.createElement(v.default,{msg:a,chat:a.chat,searchText:e.props.searchText,onClick:e.onClick,active:e.props.selection,key:a.id.toString()})},e.restoreFocus=function(){e.props.selection.reset(!0)},e.onFocusGain=function(t){t.target===e._refHotKeys&&e._listPointerEvents&&(e.props.selection.index<0?e.focusFirst():e.props.selection.reset(!0))},e.focusFirst=function(){e.props.selection.setFirst(!0)},e.onNextChat=function(t){t&&(t.preventDefault(),t.stopPropagation());var a=e.props.selection.next();e.props.selection.index!==a&&e.props.selection.setNext(!0)},e.onPrevChat=function(t){t&&(t.stopPropagation(),t.preventDefault()),e.props.selection.prev()>-1?e.props.selection.setPrev(!0):e.props.onFocusSearch()},e.props.selection.init(e.getSelection()),e}return(0,c.default)(t,e),(0,o.default)(t,[{key:"getData",value:function(){return this.props.ftsResult.map(function(e){return{itemKey:e.id.toString(),msg:e}})}},{key:"render",value:function(){var e=this,t={down:function(t){return e.onNextChat(t)},up:function(t){return e.onPrevChat(t)}};return l.createElement(b.default,{handlers:t,onFocus:this.onFocusGain,"data-tab":p.TAB_ORDERS.CHAT_SEARCH_MSG_LIST,onRef:this._setRefHotKeys},l.createElement(g.default,{flatListController:this.props.flatListController,direction:"vertical",data:this.getData(),renderItem:this.renderItem,forceConsistentRenderCount:!1}))}}]),t}(l.Component),y=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,(0,d.default)(t).apply(this,arguments))}return(0,c.default)(t,e),(0,o.default)(t,[{key:"focusFirst",value:function(){this.getComponent().focusFirst()}}]),t}((0,m.default)(E));t.default=y},dfcggebdjj:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.isEmojiEl=function(e){return!!e&&e instanceof HTMLElement&&!!e.dataset[h]},t.default=void 0;var i=n(a("ceffhbhahb")),r=n(a("bbchdeehff")),o=n(a("djegeegcbf")),s=n(a("debfbiicee")),d=a("eagfdbhhhh"),c=a("baagejbchg").ONE_BY_ONE_TRANS_GIF,l=o.default.emojiRegex,u=o.default.getEmojiFromUnicode,f=l(),h="isEmoji",p=!1;var g={serializers:[["img.emoji",function(e){return e.getAttribute("alt")||""}]],parsers:[function(e){return e.replace("","")},function(e){return e.replace(f,function(e,t){var a=function(e){var t=u(e);if(!t)return null;var a=(0,d.createSelectableElement)("img",e);return a.setAttribute("alt",e),a.setAttribute("draggable","false"),a.setAttribute("class",(0,i.default)(a.getAttribute("class"),o.default.getClasses(t))),Object.assign(a.style,o.default.getStyle(t)),a.setAttribute("src",c),a.dataset[h]="true",a}(t);return a?a.outerHTML:""})}],hooks:{[s.default.MOUNT](){p||(p=!0,new Promise(function(e){0===r.default.uiBusy&&e(),r.default.once("ui_idle",function(){e()})}).delay(0).then(function(){document.execCommand("enableObjectResizing",!1,!1)}).catch(function(){}))}},handlers:{onBeforeInput(e,t){var a=e.data,n=f.exec(a);return!!n&&(t.replaceSelection(n[0]),!0)},onClick(e){if(!e.target)return!1;var t=e.target.getAttribute("class");if(!t||!~t.indexOf("emoji"))return!1;var a=window.getSelection(),n=new Range;return e.pageX<e.target.x+e.target.width/2?(n.setStartBefore(e.target),n.setEndBefore(e.target)):(n.setStartAfter(e.target),n.setEndAfter(e.target)),a.removeAllRanges(),a.addRange(n),!0}}};t.default=g},dfcihdhibf:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=n(a("ddhijeejag")),u=i(a("dhfbfehaef")),f=i(a("bdjihaecid")),h=a("cdaedfafjc"),p=i(a("faeabghda")),g=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i))))._stickerItems=new Map,a._setRefContainer=function(e){a._refContainer=e,null!=a.props.onRef&&a.props.onRef(e)},a._handleStickerArrowDown=function(e){e.stopPropagation(),e.preventDefault();var t=a._getActiveStickerItemIndex(),n=a._getNumCols(),i=Math.min(t+n,a._stickerItems.size-1);Math.floor(t/n)!==Math.floor(i/n)&&a._incActiveIndex(n)},a._handleStickerArrowLeft=function(e){e.stopPropagation(),e.preventDefault(),a._decActiveIndex(1)},a._handleStickerArrowRight=function(e){e.stopPropagation(),e.preventDefault(),a._incActiveIndex(1)},a._handleStickerArrowUp=function(e){e.stopPropagation(),e.preventDefault(),a._decActiveIndex(a._getNumCols())},a._handleScroll=function(e){a.props.onScroll&&a._refContainer&&a.props.onScroll(a._refContainer)},a._setRefContainer=function(e){a._refContainer=e},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"focus",value:function(e){var t=e||0;t=Math.min(t,this._stickerItems.size),t=Math.max(t,0);var a=this._stickerItems.get(t);a&&a.focus()}},{key:"scrollToTop",value:function(){this._refContainer&&(this._refContainer.scrollTop=0)}},{key:"_decActiveIndex",value:function(e){this._incActiveIndex(0-e)}},{key:"_getActiveStickerItemIndex",value:function(){for(var e=this._stickerItems.size,t=0;t<e;t++){var a=this._stickerItems.get(t);if(a&&a.hasFocus())return t}return-1}},{key:"_getNumCols",value:function(){var e=this._stickerItems.get(0);if(!e)return 0;for(var t=e.getOffsetTop(),a=this._stickerItems.size,n=0;n<a;n++){var i=this._stickerItems.get(n);if(i&&i.getOffsetTop()!==t)return n}return this._stickerItems.size}},{key:"_incActiveIndex",value:function(e){if(0!==e){var t=this._getActiveStickerItemIndex();if(-1!==t){var a=t+e;if(a<0){if(!this.props.onFocusPrev)return;this.props.onFocusPrev()}else{a=Math.min(a,this._stickerItems.size-1);var n=this._stickerItems.get(a);n&&n.focus()}}}}},{key:"_renderStickers",value:function(){var e=this;return this.props.stickers.map(function(t,a){var n=t.isPlaceholder?"".concat(h.PRE_PLACEHOLDER_ID).concat(a):t.id;return l.createElement(f.default,{key:n,onClick:e.props.onStickerClick,onEnter:e.props.onStickerEnter,ref:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(t){t?e._stickerItems.set(a,t):e._stickerItems.delete(a)}),sticker:t})})}},{key:"render",value:function(){return l.createElement(u.default,{onRef:this._setRefContainer,className:p.default.container,handlers:{up:this._handleStickerArrowUp,down:this._handleStickerArrowDown,left:this._handleStickerArrowLeft,right:this._handleStickerArrowRight},onScroll:this._handleScroll},this._renderStickers())}}]),t}(l.PureComponent);t.default=g},dfdebdgdei:function(e,t,a){"use strict";var n=a("cfjecfhbfg"),i=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.blockContact=function(e){return h((0,f.unproxy)(e),!0)},t.unblockContact=function(e){return h((0,f.unproxy)(e),!1)};var r=i(a("ddhijeejag")),o=a("ccihhdchab"),s=a("eafejccch"),d=n(a("bgfcjjddjf")),c=n(a("bbchdeehff")),l=a("ddjgcfjicj"),u=n(a("bdiiahhjbe")),f=a("bheafeifce");function h(e,t,a){var n=e.id,i=e.isBlocked();if(t&&i||!t&&!i)return Promise.resolve();var f=(0,s.sendSetBlock)(t,n).then(function(e){e&&(t?d.default.add({id:n}):d.default.remove(n))});return function(e,t,a){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:(0,o.genId)(),i={participant:e.formattedName},s=a?new o.ActionType(l10n.t(8,i)):new o.ActionType(l10n.t(158,i)),d=t.then(function(){var t=a?l10n.t(7,i):l10n.t(157,i);return new o.ActionType(t,l10n.t(159),function(){return h(e,!a,n)})}).catch(function(t){if(!(t instanceof l.ServerStatusCodeError)){u.default.error("action:setBlock dropped")(t);var r=a?l10n.t(6,i):l10n.t(156,i),s=new o.ActionType(r,l10n.t(155),function(){return h(e,a,n)});return Promise.reject(s)}if(t.statusCode>=400){var d=a?new o.ActionType(l10n.t(6,i)):new o.ActionType(l10n.t(156,i));return Promise.reject(d)}});c.default.openToast(r.createElement(o.ActionToast,{id:n,initialAction:s,pendingAction:d}))}(e,f,t,a),f}},dfdhiegfdi:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addLiveLocation=function(e,t){var a=(0,n.unproxy)(e);a.liveLocations||(a.liveLocations=[]);a.liveLocations.push(t)},t.removeLiveLocation=function(e,t){var a=(0,n.unproxy)(e),i=a.liveLocations;if(!i)return;for(var r=i.length-1;r>=0;r--)if(i[r]===t){i.splice(r,1);break}0===i.length&&(a.liveLocations=null)};var n=a("bheafeifce")},dfdjejggdf:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PROFILE_PIC_COMMAND=void 0;var n=Object.freeze({REMOVE:"remove",SET:"set"});t.PROFILE_PIC_COMMAND=n},dfeecdfijg:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=i(a("ceffhbhahb")),u=n(a("ddhijeejag")),f=i(a("dhbejdh")),h=i(a("bfgbdiffgd")),p=i(a("ihfccfgdf")),g=i(a("bfdcadbbif")),m=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,(0,d.default)(t).apply(this,arguments))}return(0,c.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=this.props,t=e.msg,a=e.className;if(!t.showForwarded())return null;var n=h.default.frequentlyForwardedMessages&&t.isFrequentlyForwarded?"highly-forwarded":"forwarded";return u.createElement("div",{className:(0,l.default)(f.default.container,a)},u.createElement(g.default,{name:n,display:"inline"}),u.createElement("span",{className:f.default.text},l10n.t(487)))}}]),t}(u.Component);m.CONCERNS={msg:["isForwarded","forwardingScore","numTimesForwarded","isFrequentlyForwarded"]};var b=(0,p.default)(m,m.CONCERNS);t.default=b},dfehedcfdb:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=n(a("ddhijeejag")),u=i(a("bhhdiiaihb")),f=i(a("ceggedffg")),h=i(a("hadecdfeb")),p=(0,u.default)("_"),g=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,(0,d.default)(t).apply(this,arguments))}return(0,c.default)(t,e),(0,o.default)(t,null,[{key:"jsx",value:function(e,t,a){var n=a.selectable,i=void 0!==n&&n;return l.createElement(h.default,{selectable:i},e)}}]),t}((0,f.default)(/(?:^|\s|_|[^\w\\])_(\S|\S[^\n]*?\S)_(?=$|[[\s\W_])/g,1,p));t.default=g},dfeigdcjhi:function(e,t,a){"use strict";var n=a("cfjecfhbfg"),i=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=y[e];if(!t)return;try{t()}catch(t){u.default.error("keyboard:error occurred running action ".concat(e,"."),t)()}};var r=i(a("ddhijeejag")),o=n(a("dieejegcge")),s=n(a("dbdfbgehgj")),d=n(a("bbchdeehff")),c=n(a("biddiiafgd")),l=n(a("bjigbaghc")),u=n(a("bdiiahhjbe")),f=n(a("biecbbiiee")),h=n(a("icadbbfej")),p=n(a("daijadgha")),g=n(a("bajidgjehj")),m=n(a("dhefcajhhb")),b=n(a("bfebbjhgbh")),v=n(a("icaahcghc")),j=n(a("gbbacfeci")),E=n(a("bgeajihhc")),y={[o.default.CONTACT_US]:function(){d.default.openModal(r.createElement(b.default,null))},[o.default.DELETE_OR_EXIT_CHAT]:function(){var e=_();e&&d.default.deleteOrExitChat(e)},[o.default.GO_TO_NEXT_CHAT]:function(){d.default.focusNextChat(!0)},[o.default.GO_TO_PREV_CHAT]:function(){d.default.focusPrevChat(!0)},[o.default.LOGOUT]:function(){if(!f.default.some(function(e){return 0===e.ack&&e.local&&e.isSentByMe}))return E.default.logout();d.default.openModal(r.createElement(c.default,{title:l10n.t(336),onOK:function(){return E.default.logout()},okText:l10n.t(718),onCancel:function(){return d.default.closeModal()},cancelText:l10n.t(1197)},l10n.t(1059)))},[o.default.OPEN_NEW_CHAT]:function(){d.default.existsDrawerLeft(function(e){e&&d.default.closeDrawerLeft(),d.default.openDrawerLeft(r.createElement(h.default,null))})},[o.default.OPEN_NEW_GROUP]:function(){d.default.existsDrawerLeft(function(e){e&&d.default.closeDrawerLeft(),d.default.openDrawerLeft(r.createElement(p.default,null))})},[o.default.OPEN_PROFILE]:function(){d.default.existsDrawerLeft(function(e){e&&d.default.closeDrawerLeft();var t=j.default.assertGet(l.default.me),a=m.default.assertGet(l.default.me);d.default.openDrawerLeft(r.createElement(g.default,{status:t,profilePicThumb:a,conn:l.default}))})},[o.default.OPEN_SETTINGS]:function(){d.default.existsDrawerLeft(function(e){e&&d.default.closeDrawerLeft(),d.default.openDrawerLeft(r.createElement(v.default,null))})},[o.default.SEARCH]:function(){d.default.focusChatSearch()},[o.default.SEARCH_IN_CHAT]:function(){var e=_();e&&d.default.chatSearch(e)},[o.default.TOGGLE_ARCHIVE]:function(){var e=_();if(e&&e.canArchive()){var t=e.archive;d.default.archiveChat(e,!t)}},[o.default.TOGGLE_MUTE]:function(){var e=_();if(e&&e.mute.canMute()){var t=e.mute.isMuted;d.default.muteChat(e,!t)}},[o.default.TOGGLE_UNREAD]:function(){var e=_();if(e){var t=e.markedUnread;d.default.markChatUnread(e,!t)}},[o.default.ZOOM_IN]:function(){},[o.default.ZOOM_OUT]:function(){},[o.default.ZOOM_RESET]:function(){}};function _(){var e=s.default.filter(function(e){return e.active});return e.length?e[0]:void 0}},dffedeegcb:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.createGroup=function(e,t,a,n){return function e(t,a,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:(0,d.genId)();var o=i.map(function(e){return e.id});var u=void 0;var p=(0,f.sendCreateGroup)(t,o,u,(0,v.default)(),!1,!1);var j=new d.ActionType(l10n.t(56));var E=p.then(function(e){return _(e,t,u),new d.ActionType(l10n.t(55))}).catch(h.ServerStatusCodeError,function(e){return 406===e.status?new d.ActionType(l10n.t(51)+" "+l10n.t(52)):429===e.status?new d.ActionType(l10n.t(51)+" "+l10n.t(53)):void 0}).catch(function(o){return g.default.error("models:chatCollection:createGroup dropped")(o),new d.ActionType(l10n.t(51),l10n.t(155),function(){return e(t,a,n,i,r)})});l.default.openToast(s.createElement(d.ActionToast,{id:r,initialAction:j,pendingAction:E}));return p.then(function(e){if(e.gid&&c.default.find(e.gid).then(function(e){l.default.openChatBottom(e).then(function(t){t&&l.default.focusChatTextInput(e)})}),!e._duplicate&&a&&n){var t=b.default.gadd(e.gid);return(0,m.setProfilePic)(t,a,n)}e._duplicate&&g.default.error("createGroup failed to set picture.")()}).catch(h.ServerStatusCodeError,function(e){})}(e,t,a,n)},t.sendForNeededAddRequest=_;var r=i(a("bhabhhjdch")),o=i(a("bhfcfhafdj")),s=n(a("ddhijeejag")),d=a("ccihhdchab"),c=i(a("dbdfbgehgj")),l=i(a("bbchdeehff")),u=i(a("dhigahgdjb")),f=a("eihchghee"),h=a("ddjgcfjicj"),p=i(a("bjbdcigbdi")),g=i(a("bdiiahhjbe")),m=a("bbbdgehigj"),b=i(a("dhefcajhhb")),v=i(a("cfejjfjhca")),j=a("dcbdjheea");function E(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function y(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?E(Object(a),!0).forEach(function(t){(0,r.default)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):E(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function _(e,t,a,n){if(p.default.supportsFeature(p.default.F.GROUPS_V_4_JOIN_PERMISSION)&&e.participants){var i=n||e.gid;g.default.assert(!!i,"Group add request was provided with undefined gid")();var r=e.participants.reduce(function(e,t){var a=Object.keys(t)[0];if("403"!==t[a].code)return e;var n=(0,j.createWid)(a),i=u.default.gadd(n,{silent:!0});return[].concat((0,o.default)(e),[y({},t[a],{contact:i})])},[]);r.length>0&&i&&l.default.openGroupV4InviteRequestFlow(r,i,t,a)}}},dffedieagi:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("ceffhbhahb")),o=n(a("ddhijeejag")),s=i(a("ffhghhcgf")),d=i(a("baagejbchg")),c=i(a("dfeecdfijg")),l=i(a("cieaeggjg")),u=function(e){var t=e.msg,a=(0,r.default)(s.default.bubble,{[s.default.bubbleIn]:!t.isSentByMe,[s.default.bubbleOut]:t.isSentByMe,[s.default.hasAuthor]:e.author,[s.default.hasQuote]:e.quotedMsg,[s.default.isGallery]:e.displayType===d.default.DISP_TYPE.STARRED_MSGS||e.displayType===d.default.DISP_TYPE.GALLERY,[s.default.isForwarded]:t.showForwarded()}),n=e.status?o.createElement("div",{className:s.default.status},e.status):null,i=e.author?o.createElement("div",{className:s.default.author},e.author):null,u=t.showForwarded()?o.createElement(c.default,{msg:t,className:s.default.forwardedIndicator}):null,f=e.quotedMsg?o.createElement("div",{className:s.default.quote},e.quotedMsg):null;return o.createElement("div",{className:a},i,u,f,o.createElement("div",{className:s.default.body},o.createElement("div",{className:s.default.player},e.player),o.createElement("div",{className:s.default.avatar},n,e.avatar)),o.createElement("div",{className:s.default.meta},o.createElement(l.default,{msg:t})))};t.default=u},dffjhcaahi:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.updateLocal=function(e,t){if(i.default.supportsFeature(i.default.F.MD_BACKEND))return r.default.merge(e.toString(),t);return Promise.resolve()};var i=n(a("bjbdcigbdi")),r=n(a("bjdejebbgc"))},dfgbhedcf:function(e,t,a){"use strict";var n=a("cfjecfhbfg"),i=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("ddhijeejag")),o=n(a("cbhegcchgg")),s=n(a("dghhefgjhc")),d=a("bchecggagg"),c=n(a("cefdjbhgjf")),l=(0,o.default)({loader:d.requireInfoFlow,loading:e=>r.createElement(c.default,{error:Boolean(e.error),retry:e.retry}),delay:s.default.LOADABLE_DELAY});t.default=l},dfgcaedggj:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1/0;return c(e,(0,r.default)(t),a)},t._parse=c;var i=n(a("beifejbdga")),r=n(a("ceijcbgdah")),o=n(a("bgiegbhhbf")),s=n(a("ebiheagbje")),d=a("chhhffajfi");function c(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1/0,n=(0,o.default)(e,t,a),r=n.length?(0,s.default)(e,(0,i.default)(n,t),t):{children:[{type:"text",value:e}]};return a<(0,d.numCodepoints)(e)&&function e(t,a){if(a.limit<=0)return;if(t.type&&"text"===t.type){if(t.value.length>=a.limit){var n=(0,d.toArray)(t.value);n.length>=a.limit&&(n=n.slice(0,a.limit)),t.value=n.join(""),a.limit=a.limit-n.length}else a.limit=a.limit-t.value.length;return}if(t.type&&"delimiter"===t.type)return;var i=0;for(;i<t.children.length&&(e(t.children[i],a),!(a.limit<=0));)i++;t.children=t.children.slice(0,i+1)}(r,{limit:a}),r}},dfgebfbfba:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=n(a("ddhijeejag")),u=i(a("ejegihaeh")),f=i(a("djjeicfhjb")),h=i(a("baagejbchg")),p=i(a("bjigbaghc")),g=a("cicgeajfge"),m=a("ddjgcfjicj"),b=i(a("bbhhbdicgc")),v=i(a("chabbgefdj")),j=i(a("ddajbaceej")),E=i(a("cbcdicdeeb")),y=i(a("dibagfjg")),_=i(a("bjbedjfe")),S=a("hjbbdjjdf"),C=a("dcbdjheea"),A=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).setList=function(e){a.list=e},a.state={products:a._getCollectionProducts(),loadingMore:!1,loadedProducts:a._getCollectionProducts().length,canLoadMore:!0,hasCatalog:!0},a._handleRef=function(e){a._refHotKey=e},a.updateForScrollEvent=function(e){var t=e.currentTarget,n=t.scrollTop,i=t.clientHeight;t.scrollHeight-i-n<h.default.SCROLL_FUDGE&&!a.state.loadingMore&&a._loadMoreProducts()},a._onEnter=function(e){e.stopPropagation(),e.preventDefault();var t=a.props.active;t.value&&a._onProductClick(t.value)},a._handleSelect=function(e,t,n){var i=a.props,r=i.selections,o=i.active,s=i.onSelectionChanged;r.setVal(e,t,n),o.setVal(e,n),s&&s(e,t)},a._handleIndexChange=function(e){var t;null===(t=a.list)||void 0===t||t.scrollIntoViewIfNeeded(e)},a._renderItem=function(e){var t=e.data;return l.createElement(f.default,{key:t.id.toString(),model:t,selections:a.props.selections},l.createElement(y.default,{product:t,onClick:function(){return a._onProductClick(t)},theme:"product-checkbox",active:a.props.active}))},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){this.props.active.init(this.state.products),this._findProducts()}},{key:"toggleFirst",value:function(e){var t=this.state.products;if(0!==t.length){var a=t[0],n=!this.props.selections.isSelected(a);this._handleSelect(a,n,e)}}},{key:"focus",value:function(){this._refHotKey&&j.default.focus(this._refHotKey)}},{key:"_findProducts",value:function(){var e=this;this.setState({loadingMore:!0}),u.default.find(p.default.me).catch(m.ServerStatusCodeError,function(){return e.setState({hasCatalog:!1,loadingMore:!1,canLoadMore:!1})}).then(function(){return e._loadMoreProducts()})}},{key:"_loadMoreProducts",value:function(){var e=this,t=this._getCatalog();t&&(t.afterCursor&&this.state.canLoadMore?(this.setState({loadingMore:!0}),u.default.findNextProductPage(t.id).checkpoint(this.props.rejectOnUnmount()).then(function(t){var a=t.length;e.setState(function(e){var n=e.loadedProducts;return{products:t,loadingMore:!1,loadedProducts:a,canLoadMore:n!==a}}),e.props.active.init(t)}).catch(function(){e.setState({loadingMore:!1,canLoadMore:!0})})):this.setState({loadingMore:!1,canLoadMore:!1}))}},{key:"_getCollectionProducts",value:function(){var e=this._getCatalog();return null!=e?e.productCollection.getProductModels():[]}},{key:"_getCatalog",value:function(){var e=p.default.me,t=(0,S.isString)(e)?(0,C.createWid)(e):e;return u.default.get(t)}},{key:"_onProductClick",value:function(e){var t=this.props.selections.isSelected(e);this._handleSelect(e,!t,!1)}},{key:"_renderList",value:function(){if(0===this.state.products.length&&!this.state.loadingMore&&!this.state.canLoadMore)return l.createElement(g.ListProducts,{hasCatalog:this.state.hasCatalog});var e=this.state.products.map(function(e){return{itemKey:e.id.toString(),data:e}});return l.createElement(b.default,{ref:this.setList,direction:"vertical",forceConsistentRenderCount:!1,data:e,renderItem:this._renderItem,flatListController:this.props.flatListController,defaultItemHeight:h.default.PRODUCT_LIST_ITEM_HEIGHT})}},{key:"render",value:function(){return l.createElement(E.default,{active:this.props.active,onEnter:this._onEnter,onLeave:this.props.onLeaveList,onRef:this._handleRef,onIndexChange:this._handleIndexChange},this._renderList(),this.state.loadingMore&&l.createElement(v.default,null))}}]),t}(l.Component),M=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,(0,d.default)(t).apply(this,arguments))}return(0,c.default)(t,e),(0,o.default)(t,[{key:"toggleFirst",value:function(e){this.getComponent().toggleFirst(e)}},{key:"focus",value:function(){this.getComponent().focus()}},{key:"updateForScrollEvent",value:function(e){this.getComponent().updateForScrollEvent(e)}}]),t}((0,_.default)(A));t.default=M},dfgeejdaib:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg"),r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("bjehdcaaj")),l=i(a("dbjagcfebh")),u=i(a("dejffaagc")),f=i(a("beajagdaig")),h=i(a("iidhbgeed")),p=i(a("cgcgbfbffj")),g=i(a("bjbdcigbdi")),m=i(a("bdiiahhjbe")),b=i(a("cbcbdjdah")),v=i(a("biecbbiiee")),j=n(a("bgeajihhc")),E=function(e){function t(){var e;return(0,r.default)(this,t),(e=(0,s.default)(this,(0,d.default)(t).call(this))).syncPromise=null,e.isSynced=!1,e.listenTo(j.default,"change:stream",function(){j.default.stream===j.STREAM.DISCONNECTED&&(e.isSynced=!1)}),e}return(0,l.default)(t,e),(0,o.default)(t,[{key:"onResume",value:function(){this.isSynced=!1,this.sync()}},{key:"maySync",value:function(){return g.default.supportsFeature(g.default.F.STARRED_GIFS)}},{key:"sync",value:function(){var e=this;return this.isSynced?Promise.resolve():this.syncPromise?this.syncPromise:this.maySync()?(this.syncPromise=v.default.getStarred(void 0,void 0,void 0,!0).then(function(t){var a=[];t&&t.length&&(a=(0,h.default)(t,function(e){return e&&e.isGif&&!e.isUnsentMedia})),e.set(a)}).catch(function(e){499!==e&&m.default.error("starred gif msgs sync error: ",e)()}).finally(function(){e.syncPromise=null,e.isSynced=!0}),this.syncPromise):Promise.resolve()}},{key:"add",value:function(e,a){if(!e||!this.maySync()||!this.isSynced)return[];var n=this.isModel(e)?[e]:e;return n=(0,f.default)((0,h.default)(n,function(e){return e.isGif}),this.toArray(),function(e,t){return e.body===t.body}),(0,c.default)((0,d.default)(t.prototype),"add",this).call(this,n,a)}},{key:"remove",value:function(e,a){if(!e||!this.maySync()||!this.isSynced)return[];var n=this.isModel(e)?[e]:e;return n=(0,u.default)((0,h.default)(n,function(e){return e.isGif}),this.toArray(),function(e,t){return e.body===t.body}),(0,c.default)((0,d.default)(t.prototype),"remove",this).call(this,n,a)}}]),t}(p.default);E.model=b.default,E.comparator=function(e,t){return t.t-e.t},e.exports=new E},dfhbgghjei:function(e,t){e.exports={bubble:"_3SaET",isPreview:"_269ND",author:"_1UWph",forwarded:"X41CX",forwardedIndicator:"Lmjye",hasAuthor:"_2blB5",meta:"iVt71",hasCaption:"_1Jk6Y",caption:"_3AT9Y",isPSA:"XR5vd",isPsa:"XR5vd",quote:"_1-viB",thumb:"_3mdDl",isAlbum:"xCzoD",thumbBody:"_18vxA",thumbBodyLores:"_1RZLX",isGallery:"_11lI2",overlay:"_1cdQD",overlayAlbumText:"_3Ms7M"}},dfhebgbhja:function(e,t){e.exports={container:"RxbUw",contentContainer:"_2r0i1",emptyContainer:"U9fHd",emptySticker:"_3WpZ3",emptyText:"_2Hze1"}},dfhgeaeig:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.queryIdentity=function(e){var t=(0,r.unproxy)(e),a=t.verificationBinary,n=t.verificationString,d=t.id;if(a&&n)return Promise.resolve();if(t.promises.queryIdentity)return t.promises.queryIdentity;t.promises.queryIdentity=o.default.queryIdentity(d).then(function(t){s(e,t)}).catch(function(e){i.default.error("models:contact:queryIdentity error: "+String(e))()}).finally(function(){t.promises.queryIdentity=null})},t.updateIdentity=s;var i=n(a("bdiiahhjbe")),r=a("bheafeifce"),o=n(a("bihdhbjih"));function s(e,t){var a=(0,r.unproxy)(e);t.status&&t.status>=400?(a.unset("verificationBinary"),a.unset("verificationString")):(a.verificationBinary=t.binary,a.verificationString=t.string)}},dfhgffbdig:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("eaidjcib")),r=n(a("dgcdacjddi")),o=n(a("ffceefejc")),s=n(a("djecdhecha")),d=n(a("cjedcdbdii")),c=n(a("bjehdcaaj")),l=n(a("dbjagcfebh")),u=n(a("eaaagccfda")),f=n(a("dbdfbgehgj")),h=n(a("bbchdeehff")),p=n(a("fcedgihic")),g=n(a("bjigbaghc")),m=a("dffedeegcb"),b=n(a("bjbdcigbdi")),v=n(a("iajeehcac")),j=n(a("beahjdfigf")),E=n(a("bfgbdiffgd")),y=function(e){function t(e){var a,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,i.default)(this,t),(a=(0,o.default)(this,(0,d.default)(t).call(this,e,n)))._debouncedSort=(0,u.default)(function(){return a.sort()},1e3),a.sendForNeededAddRequest=function(e){var t=a.parent.id,n=f.default.assertGet(t),i=n.groupMetadata.desc;(0,m.sendForNeededAddRequest)(e,n.formattedTitle||n.name,i,a.parent.id)},a.listenTo((0,s.default)(a),"change:contact.name",a._debouncedSort),a.listenTo(h.default,"locale_change",a._debouncedSort),a}return(0,l.default)(t,e),(0,r.default)(t,[{key:"delete",value:function(){this.forEach(function(e){e.delete()}),this.stopListening(),this.reset()}},{key:"ensureSorted",value:function(){this._debouncedSort.flush()}},{key:"set",value:function(e,a){var n=a||{};return n.isParticipantCollectionAdd||(n.remove=!0),(0,c.default)((0,d.default)(t.prototype),"set",this).call(this,e,n)}},{key:"add",value:function(e,a){var n=a||{};return n.isParticipantCollectionAdd=!0,(0,c.default)((0,d.default)(t.prototype),"add",this).call(this,e,n)}},{key:"canAdd",value:function(){return!!this.iAmAdmin()}},{key:"canPromote",value:function(e){return!!e&&(!g.default.me.equals(e.id)&&(!!this.iAmAdmin()&&!e.isAdmin))}},{key:"canDemote",value:function(e){return!!e&&(!!this.iAmAdmin()&&(!g.default.me.equals(e.id)&&(!(b.default.supportsFeature(b.default.F.GROUPS_V_3)&&E.default.groupsV3&&e.isSuperAdmin)&&!!e.isAdmin)))}},{key:"canRemove",value:function(e){return!!e&&(!g.default.me.equals(e.id)&&!!this.iAmAdmin())}},{key:"canVerifyIdentity",value:function(e){return!!b.default.supportsFeature(b.default.F.QUERY_IDENTITY)&&(!!e&&!g.default.me.equals(e.id))}},{key:"iAmMember",value:function(){return 1===this.filter(function(e){return e.id.equals(g.default.me)}).length}},{key:"iAmRestrictedMember",value:function(){var e=this.parent.id;return f.default.assertGet(e).groupMetadata.restrict&&!this.iAmAdmin()}},{key:"iAmAdmin",value:function(){return 1===this.filter(function(e){return e.id.equals(g.default.me)&&e.isAdmin}).length}},{key:"iAmSuperAdmin",value:function(){return 1===this.filter(function(e){return e.id.equals(g.default.me)&&e.isSuperAdmin}).length}},{key:"getAdmins",value:function(){return this.where({isAdmin:!0})}}]),t}(p.default);t.default=y,y.model=v.default,y.comparator=j.default},dfigcajgai:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=i(a("dbafiicfja")),u=n(a("ddhijeejag")),f=n(a("hdccjfbbg")),h=i(a("dhfbfehaef")),p=i(a("dcaibchbg")),g=function(e){function t(e){var a;return(0,r.default)(this,t),(a=(0,s.default)(this,(0,d.default)(t).call(this,e))).focusLast=function(){a.props.contacts&&a.props.contacts.length&&a.selection.setLast(!0)},a.focusPrev=function(e){e.preventDefault(),e.stopPropagation(),a.selection.prev()>-1&&a.selection.setPrev(!0)},a.focusNext=function(e){e.preventDefault(),e.stopPropagation();var t=a.props.onFocusSearch,n=a.selection.next();a.selection.index===n?(a.selection.unset(),t&&t(e)):a.selection.setNext(!0)},a.deleteContact=function(e){e.preventDefault(),e.stopPropagation();var t=a.props.onDelete,n=a.selection.getVal();if(n){var i=a.props.contacts.find(n);i&&t&&t(e,i)}},a.onParticipantClick=function(e,t){a.selection.setVal(t)},a.selection=new p.default(e.contacts,function(e){return e.id}),a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentDidUpdate",value:function(){this.selection.init(this.props.contacts,!0)}},{key:"render",value:function(){var e=this,t=this.props.contacts;if(!t)return null;var a=t.length?(0,l.default)(t,function(t){return u.createElement(f.default,{contact:t,active:e.selection,onDelete:e.props.onDelete,onClick:e.onParticipantClick,type:f.Type.SMALL,key:t.id.toString(),theme:e.props.theme,waitIdle:!0})}):null,n={up:this.focusPrev,down:this.focusNext};this.props.onDelete&&(n[l10n.LR("left","right")]=this.focusPrev,n[l10n.LR("right","left")]=this.focusNext,n.backspace=this.deleteContact);var i=u.createElement("ul",null,a);return u.createElement(h.default,{handlers:n},i)}}]),t}(u.PureComponent);t.default=g},dfihaffaee:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.EMOJI_WIDTH=t.EMOJI_HEIGHT=t.SIDE_MARGIN=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=n(a("ddhijeejag")),u=i(a("bbchdeehff")),f=a("dbgdaechch"),h=i(a("bhhdeihhhf")),p=i(a("djegeegcbf")),g=i(a("bggjbiacd")),m=i(a("decfjabfdj")),b=i(a("fifhbjiec")),v=i(a("dfbhcehadj")),j=a("ddajbaceej"),E=i(a("dhfbfehaef")),y=a("gaifbabbj"),_=i(a("eceadcicaf")),S=i(a("caffijjhc")),C=i(a("dadidajbgf")),A=a("eecehffbj"),M=parseInt(m.default["-side-margin"],10);t.SIDE_MARGIN=M;var T=parseInt(m.default["-emoji-height"],10);t.EMOJI_HEIGHT=T;var P=parseInt(m.default["-emoji-width"],10);t.EMOJI_WIDTH=P;var N=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).state={skinTonePicker:null},a._lastFocusedElement=null,a._closeSkinTonePicker=function(){var e=a.state.skinTonePicker&&a.state.skinTonePicker.anchor;e&&e instanceof HTMLElement&&a._focusElement(e),a.setState({skinTonePicker:null})},a._setEmojiVariant=function(e,t,n){k(e),v.default.setVariant(t,n),a._handleEmoji(t)},a._clearPickerTimer=function(){a._pickerTimer&&clearTimeout(a._pickerTimer)},a._showContextMenu=function(e,t,n){var i=p.default.getSkinToneEmojis()[e];if(i){var r=A.SKIN_TONE_VARIATIONS.map(function(t){var n=p.default.variantToUnicode(i,t);return l.createElement(h.default,{type:"emoji",key:n,a8n:"mi-emoji-variant",action:function(t){return a._setEmojiVariant(t,e,n)}},l.createElement(b.default,{text:n,formatters:y.Configuration.LargeEmojiOnly(),tabIndex:"-1"}))});a.setState({skinTonePicker:{menu:r,anchor:t,type:"picker",dirX:f.DirX.RIGHT,dirY:f.DirY.TOP,horizontal:!0,autoFocus:n}})}},a._handleEmoji=function(e){var t=e;if(p.default.getSkinToneEmojis()[t]){var n=v.default.getVariantIfExists(t);if(null!=n)t=n;else if(a.props.allowVariantPrompt)return!0}a.props.onEmoji(t)},a._handleEmojiArrowDown=function(e){k(e);var t=O(e);null!=t&&a.props.focusBelow&&a.props.focusBelow(t)},a._handleEmojiArrowLeft=function(e){k(e);var t=O(e);if(null!=t){var n=t-1;n<0?a.props.focusAbove(a.props.numColumns-1):a.focusEmojiAt(n)}},a._handleEmojiArrowRight=function(e){k(e);var t=O(e);if(null!=t){var n=t+1;n>=a.props.emojiIds.length?a.props.focusBelow&&a.props.focusBelow(0):a.focusEmojiAt(n)}},a._handleEmojiArrowUp=function(e){k(e);var t=O(e);null!=t&&a.props.focusAbove(t)},a._handleEmojiEnter=function(e){k(e);var t=O(e);a._selectEmojiAt(t)},a._handleClick=function(e){k(e);var t=O(e);a._selectEmojiAt(t)},a._handleContextMenu=function(e){k(e);var t=a._getEmojiUnicode(e);t&&e.target instanceof HTMLElement&&a._showContextMenu(t,e.target)},a._handleMouseDown=function(e){k(e);var t=e.target;if(t instanceof HTMLElement){var n=a._getEmojiUnicode(e);n&&a._startPickerTimer(n,t)}},a._setRefEmojis=function(e){a.refEmojis=e},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"shouldComponentUpdate",value:function(e,t){return this.props.emojiIds!==e.emojiIds||this.state.skinTonePicker!==t.skinTonePicker}},{key:"componentDidMount",value:function(){var e=this;this.props.listeners.add(v.default,"add remove change:variant",function(){return e.forceUpdate()})}},{key:"componentDidUpdate",value:function(e,t){t.skinTonePicker&&this.state.skinTonePicker&&this._closeSkinTonePicker()}},{key:"focusEmojiAt",value:function(e){var t=this._getRefEmojiAt(e);t&&this._focusElement(t)}},{key:"selectFirstEmoji",value:function(){this._selectEmojiAt(0)}},{key:"restoreFocus",value:function(){this._lastFocusedElement&&this._focusElement(this._lastFocusedElement)}},{key:"_focusElement",value:function(e){var t=parseInt(e.dataset.emojiIndex,10);isNaN(t)||((0,j.focus)(e,{preventScroll:!0}),this.props.onEmojiFocus(e),this._lastFocusedElement=e)}},{key:"_selectEmojiAt",value:function(e){if(null!=e){var t=this.props.emojiIds[e],a=p.default.getUnicodeFromEmoji(t);if(a){var n=this._getRefEmojiAt(e);if(n)this._clearPickerTimer(),this._handleEmoji(a)&&this._showContextMenu(a,n,!0)}}}},{key:"_getEmojiUnicode",value:function(e){var t=O(e);if(null!=t){var a=this.props.emojiIds[t],n=p.default.getUnicodeFromEmoji(a);return n||null}}},{key:"_getRefEmojiAt",value:function(e){var t=this.props.emojiIds.length-1,a=Math.max(Math.min(e,t),0);if(this.refEmojis)return this.refEmojis.children[a]}},{key:"_startPickerTimer",value:function(e,t){var a=this;this._clearPickerTimer(),this._pickerTimer=setTimeout(function(){delete a._pickerTimer,a.props.listeners.addOnce(u.default,"window_click",k),a._showContextMenu(e,t)},250),this.props.listeners.addOnce(window,"mouseup",this._clearPickerTimer,!0)}},{key:"render",value:function(){var e;this.state.skinTonePicker&&(e=l.createElement(S.default,{displayName:"SkinTonePicker",popable:!0,escapable:!0,requestDismiss:this._closeSkinTonePicker,requestRecentFocusOnUnmount:!1},l.createElement(C.default,{tooltip:this.state.skinTonePicker})));var t=this.props.emojiIds;return t.length?l.createElement("div",{className:m.default.panel},l.createElement(E.default,{onMouseDown:this._handleMouseDown,onClick:this._handleClick,onContextMenu:this._handleContextMenu,handlers:{up:this._handleEmojiArrowUp,down:this._handleEmojiArrowDown,left:this._handleEmojiArrowLeft,right:this._handleEmojiArrowRight,enter:this._handleEmojiEnter}},l.createElement("div",{ref:this._setRefEmojis,className:m.default.section},t.map(function(e,t){var a=p.default.getUnicodeFromEmoji(e),n=v.default.getVariantIfExists(a);return l.createElement(g.default,{element:"span",emoji:n||a,size:"large",key:e,tabIndex:"-1","data-emoji-index":t})}))),e):null}}]),t}(l.Component),I=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,(0,d.default)(t).apply(this,arguments))}return(0,c.default)(t,e),(0,o.default)(t,[{key:"focusEmojiAt",value:function(e){this.getComponent().focusEmojiAt(e)}},{key:"selectFirstEmoji",value:function(){this.getComponent().selectFirstEmoji()}},{key:"restoreFocus",value:function(){this.getComponent().restoreFocus()}}]),t}((0,_.default)(N));function k(e){e.preventDefault(),e.stopPropagation()}function O(e){if(!(e.target instanceof HTMLElement))return null;var t=parseInt(e.target.dataset.emojiIndex,10);return isNaN(t)?null:t}t.default=I},dfijbgdefb:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("bcdffbhbhg")),r=n(a("dgdjiicfdg")),o=n(a("cfadcbbiie")),s=n(a("baagejbchg")),d=n(a("behbjhhbg")),c={getDefaultName(e){var t;switch(e.type){case s.default.MSG_TYPE.DOCUMENT:var a=(e.filename||"").trim();t=a||(e.caption||"").trim()||l10n.t(1117),a&&function(e){return/[\.].{1,4}$/.test(e)}(a)||(t=l(t,e));break;case s.default.MSG_TYPE.VCARD:t=l(t=(e.subtype||"").trim()||u(e),e);break;case s.default.MSG_TYPE.IMAGE:case s.default.MSG_TYPE.VIDEO:case s.default.MSG_TYPE.AUDIO:default:t=l(t=u(e),e)}return t}};function l(e,t){var a=e,n=t.type===s.default.MSG_TYPE.VCARD?"text/vcard":t.mimetype,i=d.default.getExtension(n);return a.endsWith(i)||(a+=i),a}function u(e){var t=r.default.unix(e.t).locale("en"),a="".concat(t.format("YYYY-MM-DD")," at ").concat(t.format(o.default.getIs24Hour()?"HH.mm.ss":"h.mm.ss A"));return"WhatsApp ".concat((0,i.default)(e.type)," ").concat(a)}t.default=c},dfjadefi:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return new c(e,t)};var i=n(a("eaidjcib")),r=n(a("dgcdacjddi")),o=n(a("ffceefejc")),s=n(a("cjedcdbdii")),d=n(a("dbjagcfebh")),c=function(e){function t(e,a){var n;return(0,i.default)(this,t),(n=(0,o.default)(this,(0,s.default)(t).call(this)))._iterator=e,n._mapper=a,n._n=0,n}return(0,d.default)(t,e),(0,r.default)(t,[{key:"_next",value:function(){var e=this._iterator.next();if(e.done)return this.return();var t=this._mapper(e.value,this._n,this._iterator);return this._n++,{done:!1,value:t}}}]),t}(n(a("cbgabiccd")).default)},dfjfejdjjh:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg"),r=i(a("bhehgiigij")),o=n(a("ebggjhghhi")),s=i(a("bgabgddgch")),d=n(a("bgeajihhc")),c=i(a("bjieiiccce"));function l(e){return Promise.loop(function(t,a,n){var i=Promise.delay(s.default.expBackoff(n,6e4,void 0,.1));return(d.default.state===d.STATE.CONNECTED?Promise.resolve():o.waitForBBEvent(d.default,"change:state",(0,r.default)({state:d.STATE.CONNECTED}))).then(function(){return e()}).then(function(e){if(e.status>=500&&e.status<600)return i;t(e)}).catch(function(){return i})})}e.exports={headRetry:function(e){return l(function(){return c.default.head(e)})},getRetry:function(e,t){return l(function(){return c.default.get(e,t)})},postRetry:function(e,t){return l(function(){return c.default.post(e,t)})}}},dfjfgdhbjj:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e,t){var a=e.pin||0,n=t.pin||0;if(a||n)return a!==n?a>n?-1:1:e.id.toString()<t.id.toString()?-1:1;var i=e.t||0,r=t.t||0;return i!==r?i>r?-1:1:e.id.toString()<t.id.toString()?-1:1};t.default=n},dfjgaaeeeb:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=n(a("ddhijeejag")),u=i(a("baagejbchg")),f=i(a("ebijaadcje")),h=i(a("bjbdcigbdi")),p=i(a("bdiiahhjbe")),g=i(a("bffjfbgbg")),m=i(a("caeigdhgia")),b=i(a("ihfccfgdf")),v=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,(0,d.default)(t).apply(this,arguments))}return(0,c.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=this.props,t=e.displayType,a=e.mediaData,n=e.msg,i=t===u.default.DISP_TYPE.CONVERSATION,r=a.mediaStage;return r===g.default.STAGE.ERROR_TOO_LARGE?l.createElement(m.default,{displayType:this.props.displayType,mediaType:a.type}):!n.isUnsentMedia||r!==g.default.STAGE.ERROR_MISSING&&r!==g.default.STAGE.ERROR_UNSUPPORTED?n.isFailed?r===g.default.STAGE.ERROR_MISSING?l.createElement(f.default,{displayType:this.props.displayType,tooltip:l10n.t(1107)}):n.type===u.default.MSG_TYPE.PTT&&r===g.default.STAGE.PREPARING?l.createElement(f.default,{displayType:this.props.displayType,tooltip:l10n.t(944)}):h.default.supportsFeature(h.default.F.RESEND_ICON)&&i&&r!==g.default.STAGE.REMOTE_UPLOADING?l.createElement(f.default,{displayType:this.props.displayType,onClick:E.bind(null,n),tooltip:l10n.t(979)}):l.createElement(f.default,{displayType:this.props.displayType,tooltip:l10n.t(1027)}):null:l.createElement(f.default,{displayType:this.props.displayType,tooltip:l10n.t(1027)})}}]),t}(l.PureComponent);v.CONCERNS={msg:["isFailed","isMMS","type","isUnsentMedia"],mediaData:["mediaStage","type"]};var j=(0,b.default)(v,v.CONCERNS);function E(e){e.resend().catch(function(e){p.default.log("msg_media_fail_icon:resend failure: "+e)()})}t.default=j},dfjhghbebf:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("eaidjcib")),r=n(a("dgcdacjddi")),o=n(a("ffceefejc")),s=n(a("cjedcdbdii")),d=n(a("dbjagcfebh")),c=function(e){function t(e){var a;return(0,i.default)(this,t),(a=(0,o.default)(this,(0,s.default)(t).call(this)))._array=e.slice(),a}return(0,d.default)(t,e),(0,r.default)(t,[{key:"_next",value:function(){return 0===this._array.length?this.return():{done:!1,value:this._array.shift()}}}]),t}(n(a("cbgabiccd")).default);t.default=c},dfjhjafaab:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getTosUrl=function(){return"".concat(n,"?lg=").concat(l10n.getLocale())};var n="https://www.whatsapp.com/legal/"},dfjibhjhde:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=n(a("ddhijeejag")),u=i(a("djcchigfih")),f=i(a("djbhiedbef")),h=n(a("dajffajabh")),p=i(a("bbhhbdicgc")),g=i(a("bggeiidigb")),m=i(a("ddajbaceej")),b=n(a("dhfbfehaef")),v=i(a("dbciicjiad")),j=n(a("chcadgfgad")),E=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).flatListController=new g.default,a.listRef=l.createRef(),a.searchRef=l.createRef(),a.onNext=function(e){e.preventDefault(),e.stopPropagation();var t=a.props.selection;t&&t.setNext(!0)},a.onPrev=function(e){var t=a.props.selection;t&&(e.preventDefault(),e.stopPropagation(),t.prev()>-1?t.setPrev(!0):(t.unset(),(0,b.shouldIndicateFocus)(),m.default.focus(a.searchRef.current)))},a.onFocusList=function(e){a.listRef.current&&(e.preventDefault(),e.stopPropagation(),(0,b.shouldIndicateFocus)(),a.props.selection.setFirst(!0))},a.onSelectFirst=function(e){e.preventDefault(),e.stopPropagation();var t=a.props.data[0];t&&a.props.onSelect(e,t)},a.onSearch=function(e){a.props.onSearch(e)},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e,t=this.props,a=t.title,n=t.onCancel,i=t.onSearch,r=t.searchPlaceholder,o=t.renderItem,s=t.data,d=t.emptyState,c={down:this.onFocusList},g={down:this.onNext,up:this.onPrev};i&&(e=l.createElement(b.default,{handlers:c},l.createElement(v.default,{ref:this.searchRef,onSearch:this.onSearch,onEnter:this.onSelectFirst,placeholder:r||l10n.t(1004)})));var m=s.length?l.createElement(b.default,{handlers:g},l.createElement(p.default,{data:s,ref:this.listRef,flatListController:this.flatListController,direction:"vertical",renderItem:o})):d;return l.createElement(j.default,{type:j.TowerModalType},l.createElement(u.default,{key:"contact-modal"},l.createElement(h.default,{title:a,type:h.DRAWER_HEADER_TYPE.POPUP,onCancel:n}),e,l.createElement(f.default,{flatListControllers:[this.flatListController]},m)))}}]),t}(l.Component);t.default=E},dfjijdgbhd:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t._processMultipleMessages=function(e,t,a,n){var i=[],_=[],S=[];return t.forEach(function(t,s){t.id instanceof h.default||(u.default.error("Store.Msg:_processMultipleMessages: el.id is not a MsgKey"+(new Error).stack)(),o.upload("forgot-to-create-msgkey"),t.id=new h.default({from:t.from,to:t.to,id:t.id,participant:t.participant,selfDir:t.self})),(0,b.isString)(e)&&j.default.isBroadcast(e)&&delete t.broadcast,"ptt"===t.type&&!t.id.fromMe&&t.ack<0&&(t.ack=0);var c=m.default.Msg.get(t.id);if(t.type===d.default.MSG_TYPE.PROTOCOL&&"ephemeral_setting"!==t.subtype)switch(t.subtype){case"revoke":if(c=m.default.Msg.get(t.protocolMessageKey)){var f=new m.default.Msg.constructor.model(t);j.default.equals(c.sender,f.sender)?(j.default.isStatusV3(e)&&c.msgChunk&&c.msgChunk.remove(c),(0,g.revoke)(c,f.id),j.default.isStatusV3(e)&&m.default.StatusV3.find(c.sender).then(function(e){l.default.supportsFeature(l.default.F.QUERY_STATUS_V_3_THUMBNAIL)&&c&&c.msgChunk&&c.msgChunk.length!==e.totalCount&&v.default.statusQueryThumbnail(e.id)})):u.default.warn("model:Msg:processMM revoke sender mismatch ".concat(f.id.toString(),", ").concat(c.id.toString()))()}break;case"ephemeral_sync_response":var y=m.default.Chat.get(t.id.remote);y&&y.handleEphemeralSyncResponse(t.ephemeralDuration,t.ephemeralSettingTimestamp);break;default:u.default.info("unknown protocolMessage ".concat(t.id.toString()))(t)}else if(c&&!c.isRevoked){for(var C in t.ack<c.ack&&delete t.ack,t)t.hasOwnProperty(C)&&void 0===t[C]&&delete t[C];if(t.id.fromMe&&!c.clientUrl&&t.clientUrl&&(t.phoneUploading=!1),a.isHistory&&(t.isNewMsg=!1),t.type===d.default.MSG_TYPE.PROTOCOL&&"ephemeral_setting"===t.subtype){var A=m.default.Chat.get(t.id.remote);A&&A.handleEphemeralSetting(t.ephemeralDuration)}var M=c.t?(0,r.default)(t,["t","id","from","to"]):t,T=c.applyUpdate(M).then(function(){return c});if(S.push(T),j.default.isBroadcast(c.id.remote)){var P=p.getBroadcastFanoutKeys(c);P&&P.forEach(function(e){var t=m.default.Msg.get(e);t&&S.push(t.applyUpdate(M).then(function(){return c}))})}a.isHistory&&(c.recvFresh||n)&&!c.search?(u.default.warn("model:Msg:handle:processMM:"+(c.recvFresh?"dup:":"overlap:")+String(c.id))(),_.push(c)):a.isHistory&&c.search?(c.search=!1,u.default.warn("model:Msg:handle:processMM load search as history ".concat(String(c.id)))(),i.push({id:c.id})):"search"===a.add&&i.push({id:c.id}),E(c)}else p.typeIsMMS(t.type)&&!t.clientUrl&&(t.phoneUploading=t.id.fromMe&&0===t.ack),"search"===a.add&&(t.search=!0),a.update||i.push(t)}),(S.length?Promise.all(S):Promise.resolve()).then(function(){if(0===i.length&&0===_.length){if(e&&a.pendingMsgsDone){var r=m.default.Chat.get(e);r&&(r.pendingMsgs=!1)}return t.map(function(e){return m.default.Msg.get(e.id)}).filter(function(e){return e})}if(e){var o;if(j.default.isStatusV3(e)){var h=t[0],g=h.id.fromMe?c.default.me:h.author;o=m.default.StatusV3.find(g)}else o=m.default.Chat.find(e);return o.then(function(r){return y(i).then(function(i){var o,c,h="after"===a.add||"last"===a.add,g=!a.isHistory,b=!1;if("unread"===a.add?(o=n,r.msgChunks.push(o),c=a.firstUnreadKey):"last"===a.add&&a.resume?(o=n,b=!0):o="function"==typeof n?n():n,function(e,t,a,n,i,r,o,s){var d=function(e,t,a,n,i){var r,o,s,d={},c={},l=a.length,f=i;if(0===l)return{msgs:t,collection:f};for(r=0;r<l;r++)o=a[r],c[o.id]=o;for(l=t.length,r=0;r<l;r++)(o=t[r])&&(d[o.id]=o);var h=[];for(l=e.length,r=0;r<l;r++)if((o=e[r])&&((s=d[o.id])&&h.push(s),s=c[o.id]))if(s.recvFresh)h.push(s),n.removeMsg(s),s.unset("recvFresh");else{var p=n.getAllCMCs(),g=p.find(function(e){return e.get(s.id)});if(i&&g===i);else if(g)if(g.forEach(function(e){h.push(e),delete c[e.id.toString()]}),g===n.msgs){if(i.msgLoadState.noEarlierMsgs){var m=["chatMsgsCollection ".concat(n.id.toString()," replaced by a collection with noEarlierMsgs true"),(new Error).stack];u.default.logVerbose(m.join("\n"))()}n.replaceMsgsCollection(i),f=n.msgs}else n.notifyMsgCollectionMerge(i,g,i),n.removeMsgsCollection(g);else u.default.error("models:Msg:reorder trying to merge CMC of orphaned message "+o.id,o)(),h.push(c[o.id])}return{msgs:h,collection:f}}(e,t,a,n,r);p.addRecordsToChat(d.msgs,n,i,d.collection,o,s)}(t,i,_,r,h,o||r.msgs,c,b),a.pendingMsgsDone&&(r.pendingMsgs=!1),g&&j.default.isBroadcast(e)&&!j.default.isStatusV3(e)&&i.forEach(function(e){e&&e.recvFresh&&!e.isNotification&&p.broadcastFanout(e)}),l.default.supportsFeature(l.default.F.RECENT_EMOJI_SYNC))for(var v=0;v<i.length;v++){var E=i[v];if(E&&E.isNewMsg&&E.isSentByMe&&E.containsEmoji){m.default.RecentEmoji.throttledSync();break}}if(l.default.isRecentStickersEnabled()){var y=i.map(function(e){if(e&&e.isNewMsg&&e.isSentByMe&&e.type===d.default.MSG_TYPE.STICKER){var t=e.mediaData;return{id:t.filehash,clientUrl:t.mmsUrl,directPath:t.directPath,filehash:t.filehash,uploadhash:t.uploadHash,mediaKey:t.mediaKey,mediaKeyTimestamp:null!=t.mediaKeyTimestamp?t.mediaKeyTimestamp:s.default.globalUnixTime(),width:t.fullWidth,height:t.fullHeight,size:t.size,mimetype:t.mimetype,type:f.OUTWARD_TYPES.STICKER,index:0}}}).filter(Boolean);m.default.RecentSticker.enqueue(y)}return t.map(function(e){return m.default.Msg.get(e.id)}).filter(function(e){return e})})})}return y(i).then(function(){return t.map(function(e){return m.default.Msg.get(e.id)}).filter(function(e){return e&&!!e.chat})})})};var r=i(a("bcdejiigcg")),o=n(a("dfhjacfbjg")),s=i(a("cfadcbbiie")),d=i(a("baagejbchg")),c=i(a("bjigbaghc")),l=i(a("bjbdcigbdi")),u=i(a("bdiiahhjbe")),f=a("daichdjff"),h=i(a("cffajefeag")),p=n(a("ccbagdhfbb")),g=a("bfabbhgjga"),m=i(a("bhggeigghg")),b=a("hjbbdjjdf"),v=i(a("bihdhbjih")),j=i(a("jccfhaecf"));function E(e){if(!l.default.supportsFeature(l.default.F.CONTACT_HAS_PUSHNAME)&&e.notifyName){var t=m.default.Contact.get(e.sender);t&&!t.isMe&&t.updateNotifyName(e.notifyName,e.t)}}function y(e){var t=m.default.Msg.add(e,{merge:!0});return Promise.all(t.map(function(e){return E(e),e.waitForPrep().catch(function(e){u.default.assert(!1,"bad-msg-prep","".concat(String(e)))(e)})})).then(function(){return t})}},dgacffdjd:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.resyncContacts=function(e){var t=c.default.Contact;void 0!==t.checksum&&void 0!==e&&(t.checksum!==e?t.findQuery({retry:!0}).then(function(e){if(Array.isArray(e)){(0,l.mungePSAContact)(e),o.default.log("Store:Contact:resync success")();var t=(0,d.getContactsToRemove)(e),a=Promise.resolve();if(r.default.supportsFeature(r.default.F.MD_BACKEND)&&t.length){var n=t.map(function(e){return e.id.toString()});a=s.Contact.bulkRemove(n)}a.then(function(){t.forEach(function(e){e.unset("name"),e.unset("shortName")})})}else o.default.error("Store:Contact.resync error "+JSON.stringify(e),e)()}).catch(i.WapDrop,function(){}):o.default.log("Store:Contact:resync checksum match")())};var i=a("ddjgcfjicj"),r=n(a("bjbdcigbdi")),o=n(a("bdiiahhjbe")),s=a("cefcddgdgg"),d=a("dbefabiacb"),c=n(a("bhggeigghg")),l=a("dafafigeih")},dgacgafafa:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("ceffhbhahb")),o=n(a("ddhijeejag")),s=i(a("cajbifjffe")),d=i(a("cegfacfjjj")),c=i(a("dabcbibhcf"));var l=function(e){var t=e.id,a=e.name,n=e.url;return o.createElement("div",{className:d.default.container},n?o.createElement("div",{className:(0,r.default)(d.default.centerChild,d.default.show),"data-id":t},o.createElement(s.default,{alt:a,className:d.default.image,draggable:!1,renderError:c.default,renderLoading:c.default,src:n})):o.createElement(c.default,null))};t.default=l},dgafbfebjc:function(e,t){e.exports={drawerHeader:"_3jHKU",drawerTitle:"kyJvR",drawerTitleBody:"_1pYs5",side:"_2aXcZ",drawerTitleAction:"_2DP8_",multiMediaGallery:"_1lH_n",drawerHeaderSmall:"kiodY",drawerHeaderOffset:"_1WD8C",drawerHeaderPopup:"_3D31H",btnCloseDrawer:"qfKkX",paneListControls:"_278GW",labels:"_1B-sv"}},dgbdeadddb:function(e,t){e.exports={wrapper:"_3X58t"}},dgbdibgaje:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.createDataLink=function(e){var t=document.createElement("a"),a=i.default.isBlob(e)||i.default.isData(e);return t.href=a?e:"",t};var i=n(a("edbaidcaf"))},dgbjhghjfc:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("hddfjdhii")),r=(0,n(a("chgaccicf")).default)(i.default);t.default=r},dgcbhjfhad:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=n(a("ddhijeejag")),u=i(a("begdabbfeh")),f=i(a("bfdcadbbif")),h=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,(0,d.default)(t).apply(this,arguments))}return(0,c.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){return l.createElement("div",{className:u.default.panel},l.createElement("div",{className:u.default.body},this.props.children),l.createElement("div",{className:u.default.cancelButton},l.createElement("div",{role:"button",onClick:this.props.onOmit},l.createElement(f.default,{name:"x"}))))}}]),t}(l.PureComponent);t.default=h},dgdadejebh:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t,a=e.msg,n=e.link,i=e.displayType;if(!a&&!n)return null;if(n)n.suspiciousCharacters&&n.suspiciousCharacters.size&&(t=l10n.t(1087));else if(a){var l=a.getSuspiciousLinks().length;if(l){var u=a.getLinks().length;t=1===u||i===s.default.DISP_TYPE.GALLERY?l10n.t(1087):l10n.t(1088,{count:l,_plural:l})}}return t?o.createElement("div",{className:(0,r.default)(d.default.container,{[d.default.isLinkMsg]:Boolean(n)})},o.createElement(c.default,{name:"alert",display:"inline"}),o.createElement("span",{className:d.default.text},t)):null};var r=i(a("ceffhbhahb")),o=n(a("ddhijeejag")),s=i(a("baagejbchg")),d=i(a("djggfadejg")),c=i(a("bfdcadbbif"))},dgdahfddff:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("eaidjcib")),r=n(a("dgcdacjddi")),o=n(a("bdiiahhjbe")),s=n(a("ceddibdhdb")),d=[],c=new s.default(function(){var e=d;d=[];for(var t=0;t<e.length;t++){var a=e[t];a._inAutoreleasePool=!1,0!==a._retainCount||a.released||(a.released=!0,a._releaseImpl())}}),l=function(){function e(){(0,i.default)(this,e),this._retainCount=1,this._inAutoreleasePool=!1,this.released=!1}return(0,r.default)(e,[{key:"retain",value:function(){if(this.released){var e="OpaqueData:retain called on released OpaqueData";throw o.default.error(e)(e),new Error(e)}this._retainCount++}},{key:"autorelease",value:function(){this.released?o.default.error("OpaqueData:autorelease called on released object")():0===this._retainCount?o.default.error("OpaqueData:autorelease too many release calls")():1===this._retainCount?(this._retainCount=0,this._inAutoreleasePool||(this._inAutoreleasePool=!0,d.push(this),c.onOrBefore(1e3))):this._retainCount--}},{key:"autoreleaseWhenPromiseCompletes",value:function(e){var t=this,a=function(){t.autorelease()};e.then(a,a)}},{key:"throwIfReleased",value:function(e){if(this.released){var t="".concat(e," called on released OpaqueData");throw o.default.error(t)(),new Error(t)}if(0===this._retainCount){var a="".concat(e," called on unretained OpaqueData");o.default.error(a)()}}},{key:"_releaseImpl",value:function(){throw new Error("OpaqueData:_releaseImpl unimplemented")}}]),e}();t.default=l},dgdeceggdh:function(e,t,a){var n=a("dgcdacjddi"),i=a("eaidjcib"),r=function e(t){"use strict";i(this,e),this.promise=t,this.lastUsedTime=this.createdTime=+Date.now()},o=function(){"use strict";function e(t,a){var n=a.maxCached,r=void 0===n?10:n,o=a.maxAge,s=void 0===o?1/0:o,d=a.shouldCache;i(this,e),this._cache={},this._maxCached=r,this._maxAge=s,this._createPromiseFunc=t,this._shouldCacheFunc=d}return n(e,[{key:"getOrRun",value:function(e){var t=this,a=this._cache;if(this._maxAge!==1/0)for(var n=Date.now()-this._maxAge,i=Object.keys(a),o=0;o<i.length;o++){var s=i[o];a[s].createdTime<n&&delete a[s]}var d=a[e];if(d)return d.lastUsedTime=+Date.now(),d.promise;var c=Object.keys(a);if(c.length>=this._maxCached){for(var l,u,f=0;f<c.length;f++){var h=c[f],p=a[h];(null==u||p.lastUsedTime<u)&&(u=p.lastUsedTime,l=h)}l&&delete a[l]}for(var g=arguments.length,m=new Array(g>1?g-1:0),b=1;b<g;b++)m[b-1]=arguments[b];var v=this._createPromiseFunc.apply(void 0,[e].concat(m));return a[e]=new r(v),v.then(function(a){var n=t._shouldCacheFunc;n&&t._cache[e]===v&&!n(a)&&delete t._cache[e]}).catch(function(){t._cache[e]===v&&delete t._cache[e]}),v}}]),e}();e.exports=o},dgdegachj:function(e,t){e.exports={secondaryDetailContainer:"_1z1e6"}},dgdhcdgffe:function(e,t,a){"use strict";var n=a("cfjecfhbfg"),i=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.markUnread=function(e,t){return function e(t,a){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:(0,o.genId)();a?t.active&&(t.markedUnread=!0):t.markedUnread=!1;var i=t.promises;if(i.markUnread)return i.markUnread;var s=i.markUnread=a?function(e){var t=e.getLastMsgKeyForAction();return(0,f.sendConversationUnseen)(e.id,t).then(function(){b(e)}).catch(c.ServerStatusCodeError,function(t){return e.markedUnread=!1,Promise.reject(t)})}(t):v(t);var l=a?new o.ActionType(l10n.t(30)):new o.ActionType(l10n.t(29));var h=s.then(function(i){var r=a?l10n.t(28):l10n.t(27);return new o.ActionType(r,l10n.t(159),function(){return e(t,!a,n)})}).catch(c.ServerStatusCodeError,function(e){if(e.status>=400)return a?new o.ActionType(l10n.t(26)):new o.ActionType(l10n.t(25));throw new Error("invalid response status")}).catch(function(i){var r=a?l10n.t(26):l10n.t(25);return new o.ActionType(r,l10n.t(155),function(){return e(t,a,n)})});d.default.openToast(r.createElement(o.ActionToast,{id:n,initialAction:l,pendingAction:h}));return s.then(function(){}).catch(c.ServerStatusCodeError,function(e){u.default.error("markUnread: got status ".concat(e.status))()}).finally(function(){i.markUnread=null})}((0,h.unproxy)(e),t)},t.sendSeen=g,t.markSeen=m,t.markUnseen=b;var r=i(a("ddhijeejag")),o=a("ccihhdchab"),s=n(a("cfadcbbiie")),d=n(a("bbchdeehff")),c=a("ddjgcfjicj"),l=i(a("cajijabhgb")),u=n(a("bdiiahhjbe")),f=a("gigfajjic"),h=a("bheafeifce"),p=n(a("dcdiaahjj"));function g(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return v((0,h.unproxy)(e),t).catch(c.ServerStatusCodeError,function(e){u.default.error("sendSeen: got status ".concat(e.status))()})}function m(e,t,a){!function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];"markSeen ".concat(String(t));var n=null;null!=t?t>0&&t<=e.unreadCount?(n=e.unreadCount-t,"unreadCount set to ".concat(String(n))):-1===t&&e.unreadCount<=0&&(n=0,"unreadCount set to ".concat(String(n))):(n=0,"unreadCount set to ".concat(String(n)));(null==n?Promise.resolve():(0,f.markConversationSeen)(e.id,n)).then(function(){if(null!=t&&a){var i=e.pendingSeenCount-t;e.pendingSeenCount=Math.max(0,i)}null!=n&&(e.unreadCount=n),e.unreadMsgAnchor=void 0,e.markedUnread=!1,e.msgs.forEach(function(e){if(!e.id.fromMe&&null==e.ephemeralStartTimestamp){var t=s.default.globalUnixTime();e.updateEphemeralStartTimestamp(t),e.getCollection().updateLastEphemeralRead(e.id.remote,t)}})})}((0,h.unproxy)(e),t,a)}function b(e){!function(e){e.active&&(e.markedUnread=!0);(0,f.markConversationUnseen)(e.id).then(function(){e.unreadCount=-1})}((0,h.unproxy)(e))}function v(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(e.markedUnread||0===e.unreadCount)return"markedUnread: ".concat(String(e.markedUnread)),"unreadCount: ".concat(e.unreadCount),Promise.resolve();if(!p.default.available&&t)return e.listenToOnce(p.default,"change:available",function(){return g(e)}),Promise.resolve();e.unreadCount,e.pendingSeenCount;var a=e.unreadCount-e.pendingSeenCount,n=-1===e.unreadCount&&-1===a;if(a<=0&&!n)return Promise.resolve();e.disableUnreadAnchor=!0,e.pendingSeenCount=e.unreadCount,e.pendingSeenCount;var i=function(){e.pendingSeenCount=e.pendingSeenCount-a,e.pendingSeenCount,e.pendingSeenCount<0&&(u.default.error("models:chat:sendSeen unread "+e.unreadCount+" pending: "+e.pendingSeenCount+" delta: "+a)(),e.pendingSeenCount=0)},r=e.getLastMsgKeyForAction();return(0,f.sendConversationSeen)(e,r,a).then(function(t){t._duplicate?i():m(e,a,!0)}).catch(c.ServerStatusCodeError,function(e){return i(),Promise.reject(e)}).catch(c.WapDrop,l.ProtoVersionUndefined,function(e){i(),u.default.error("models:chat:sendConversationSeen dropped")()})}},dgeebjciej:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.getHash=function(e){return(e instanceof g.default?(0,f.opaqueDataToArrayBuffer)(e):(0,c.blobToArrayBuffer)(e)).then(function(e){return(0,m.default)(e)}).catch(function(e){u.default.error("SubtleCrypto::getHash error: ".concat(e))(e)})},t.decrypt=b,t.decryptE2EMedia=function(e,t,a,n,i){var r,o=Promise.resolve().then(function(){if(!e)throw new d.MediaEncryptionError('decrypt async, missing "type"');if(!(t instanceof ArrayBuffer))throw new d.MediaEncryptionError('decrypt async, missing "payload"');if(!a)throw new d.MediaEncryptionError('decrypt async, missing "mediaKey"');if(r=new h.default.WebcCryptoMedia({webcCryptoType:h.default.WEBC_CRYPTO_TYPE_CODE.DECRYPT,webcCryptoLibrary:h.default.WEBC_CRYPTO_LIBRARY_CODE.WEBCRYPTO,webcCryptoFileSize:t.byteLength}),t.byteLength<10)throw new d.MediaEncryptionError("ciphertext too short: ".concat(t.byteLength));return(0,s.default)(e,a).then(function(a){var i=a.iv,r=a.encKey,o=a.macKey,s=n||function(t){return p.default.getMediaMimeType(e,t)},d=t.byteLength-10,c=new Uint8Array(t,d),l=new Uint8Array(t,0,d);return b(new Uint8Array(r),new Uint8Array(i),l,new Uint8Array(o),c,s)})}).tap(function(e){e.autoreleaseWhenPromiseCompletes(o),r.markWebcCryptoElapsedT(),r.commit()}).catch(function(e){return!(e instanceof d.MediaEncryptionError)},function(e){var t=e instanceof Error?"encryption error: ".concat(String(e),"; stack: ").concat(e.stack):"encryption error: ".concat(String(e),";");throw new d.MediaEncryptionError(t)});return o};var r=a("eaiigfgagg"),o=i(a("dbajccegac")),s=i(a("feacbgeaf")),d=n(a("cajijabhgb")),c=a("cgffhfegce"),l=i(a("bbejegbieb")),u=i(a("bdiiahhjbe")),f=a("fabajdgab"),h=i(a("bfbggcdbfb")),p=i(a("behbjhhbg")),g=i(a("beeieigghj")),m=i(a("jjijgifac"));function b(e,t,a,n,i,s){return Promise.resolve().then(function(){if(!(10<=i.length&&i.length<=32))throw new d.MediaEncryptionError("Given bad expected hmac");var s=o.default.build(t,a).readByteArray();return new l.default(n).sign(s).then(function(t){for(var a=new Uint8Array(t,0,i.length),n=!1,o=0;o<a.length;o++)a[o]!==i[o]&&(n=!0);if(n)throw new d.MediaEncryptionError("hmac check failure");return(0,r.aesCbcDecrypt)(e,s)})}).then(function(e){var t="string"==typeof s?s:s(new Uint8Array(e));return g.default.createFromData(e,t)})}},dgefajbgai:function(e,t){e.exports={item:"_22OEK",itemBody:"_317xe",row:"_22FXD",main:"_2s00i",side:"_3BAin",primary:"_1VI-m",secondary:"fwByR"}},dgegbejdeb:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=i(a("ceffhbhahb")),u=n(a("ddhijeejag")),f=i(a("effbcehec")),h=i(a("baagejbchg")),p=a("eagfdbhhhh"),g=i(a("digaijibbh")),m=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,(0,d.default)(t).apply(this,arguments))}return(0,c.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=h.default.VERSION_STR;return u.createElement(p.SelectableDiv,{"data-a8n":f.default.key("version"),className:(0,l.default)(g.default.versionInfo,this.props.className),selectable:!0},l10n.t(1148,{version:""}),u.createElement("span",{dir:"LTR"},e),null)}}]),t}(u.PureComponent);t.default=m},dgfcjhijbf:function(e,t,a){"use strict";var n=a("cfjecfhbfg")(a("bdiiahhjbe")),i={queryVname:function(e){var t=this;return new Promise(function(a,i){var r=t.queryNode({type:"vname",jid:e},void 0);t.binSend("sendEphemeral",r,i,{onSend:t.binWrap(function(r){t.BinaryProtocol.read(r).then(function(i){var r;n.default.logColor("green","bin-recv: response,vname",i)(),"response"===t.N.tag(i)&&"vname"===t.N.attr("type",i)&&(r=t.parseContact(t.N.child("user",i),e)),a(r)}).catch(i)},a),onDrop:t.wrap(i)},{debugString:"query,vname,".concat(e),metricName:"QUERY_VNAME"})})}};e.exports=i},dgfecega:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.FIT_TYPE=void 0;var r=i(a("bhabhhjdch")),o=i(a("eaidjcib")),s=i(a("dgcdacjddi")),d=i(a("ffceefejc")),c=i(a("cjedcdbdii")),l=i(a("dbjagcfebh")),u=i(a("ceffhbhahb")),f=n(a("ddhijeejag")),h=a("bgddggdhc"),p=i(a("eceadcicaf")),g=i(a("bdiiahhjbe")),m=i(a("bfihjhiege"));function b(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}t.FIT_TYPE={CONTAIN:"contain",COVER:"cover",SCALE_DOWN:"scaleDown",ZOOM_IN:"zoomIn"};var v="transform 300ms cubic-bezier(.1,.82,.25,1)",j=function(e){function t(e){var a;return(0,o.default)(this,t),(a=(0,d.default)(this,(0,c.default)(t).call(this,e))).setRefObject=function(e){a.refObject=e},a.onObjectLoad=function(){var e=a.props.onObjectLoad;e&&a.refObject&&a.refObject.firstChild&&e(a.refObject.firstChild)},a.state={style:{visibility:"hidden"},className:(0,u.default)(m.default.fit)},a}return(0,l.default)(t,e),(0,s.default)(t,[{key:"componentDidMount",value:function(){var e=this;this.shouldUseNativeObjectFit()||(this.initialize(this.props),this.props.listeners.add(window,"resize",function(){e.initialize(e.props)}))}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.shouldUseNativeObjectFit()||this.initialize(e)}},{key:"initialize",value:function(e){var t=e.size,a=e.type;if(t){var n,i=(0,h.forbiddenAssertDOMNode)(this);switch(a){case"contain":n=function(e,t,a){var n=e.clientWidth,i=e.clientHeight,r=t,o=a,s=0,d=0;r/n>o/i?(o*=n/r,r=n,o<i&&(s=i/2-o/2)):(r*=i/o,o=i,r<n&&(d=n/2-r/2));return{style:{width:r,height:o,top:s,left:d,position:"absolute"},className:(0,u.default)(m.default.fit)}}(i,t.width,t.height);break;case"cover":n=function(e,t,a){var n=e.clientWidth,i=e.clientHeight,r=t,o=a,s=0,d=0;r!==n&&(o*=n/r,r=n,o>i&&(s=i/2-o/2));o<i&&(r*=i/o,o=i,r>n&&(d=n/2-r/2));return{style:{width:r,height:o,top:s,left:d,position:"absolute"},className:(0,u.default)(m.default.fit)}}(i,t.width,t.height);break;case"scaleDown":n=y(i,t.width,t.height);break;case"zoomIn":n=function(e,t,a,n){var i,r=y(e,t,a).style;i=n?{width:r.width,height:r.height,transition:v,transform:"translateX(".concat(n.translateX,"px) translateY(").concat(n.translateY,"px) scale(").concat(n.factor,")")}:{width:r.width,height:r.height,transition:v};return{style:i,className:(0,u.default)(m.default.fit,m.default.fitScaledown,m.default.fitZoomin)}}(i,t.width,t.height,e.zoomIn);break;default:return void g.default.assert(!1,"object-fit","unrecognized type ".concat(a))()}this.setState(n,this.onObjectLoad)}}},{key:"shouldUseNativeObjectFit",value:function(){return!1}},{key:"render",value:function(){if(this.shouldUseNativeObjectFit())return f.createElement("div",{className:m.default.nativeScaleDown},this.props.children);var e=this.props,t=this.state,a=(0,u.default)(t.className,{[m.default.fitRelative]:"relative"===e.position}),n=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?b(Object(a),!0).forEach(function(t){(0,r.default)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):b(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},t.style,{position:this.props.objectPosition||t.style&&t.style.position});return f.createElement("div",{className:a},f.createElement("div",{style:n,ref:this.setRefObject},e.children))}}]),t}(f.Component),E=(0,p.default)(j);function y(e,t,a){var n=e.clientWidth,i=e.clientHeight,r=a,o=t;return r>i&&(r=i,o=t*(i/a)),o>n&&(o=n,r=a*(n/t)),{style:{width:o,height:r},className:(0,u.default)(m.default.fit,m.default.fitScaledown)}}t.default=E},dgfhiaehb:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=n(a("ddhijeejag")),u=n(a("cjijggjfed")),f=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i))))._setRef=function(e){a._ref=e},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e,t=this.props,a=t.column,n=t.carouselNumColumns,i=t.index,r=t.menuWidth;e=null!=r&&0!==r?"".concat(Math.round(r/n),"px"):"".concat(100/n,"%");var o=0!==i&&(a<=0||a>=n),s=l10n.isRTL()?-1:1;return l.createElement(u.default,{onRef:this._setRef,onClick:this.props.onClick,sectionId:i,selected:this.props.selected,theme:o?u.THEMES.CAROUSEL_END:u.THEMES.CAROUSEL,transform:"translateX(".concat(100*a*s,"%)"),width:e},this.props.children)}}]),t}(l.PureComponent);t.default=f},dggagcddja:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return Promise.resolve(e).then(function(e){return Promise.all(e.map(function(e,a){return t(e,a)}))})}},dggbjaijga:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=i(a("ceffhbhahb")),u=n(a("ddhijeejag")),f=i(a("fabjefgai")),h=i(a("fffdgbfji")),p=i(a("ihfccfgdf")),g=i(a("bfdcadbbif")),m=i(a("cdegfghcid")),b=i(a("didfdhbecg")),v=i(a("jccfhaecf")),j=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).state={chatId:null,shouldAnimate:!1},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=this.props,t=e.chat,a=e.mute,n=e.unreadCount,i=a.isMuted?u.createElement("div",{className:f.default.icon,key:"icon-muted"},u.createElement(g.default,{name:"muted"})):null,r=null!=t.pin&&t.pin>0?u.createElement("div",{className:(0,l.default)(f.default.icon,f.default.iconPinned),key:"icon-pinned"},u.createElement(g.default,{name:"pinned"})):null,o=0!==n?u.createElement("div",{className:f.default.icon,key:"icon-unread"},u.createElement(m.default,{count:n})):null,s=t.archive?u.createElement("span",{className:(0,l.default)(f.default.icon,f.default.archived),key:"icon-archived"},h.default.t(299)):null;return u.createElement(b.default,{transitionName:"pop",transitionEnter:this.state.shouldAnimate,transitionLeave:this.state.shouldAnimate},i,s,r,o)}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a=e.chat.id;return{chatId:a,shouldAnimate:v.default.equals(t.chatId,a)}}}]),t}(u.PureComponent);j.CONCERNS={chat:["id","archive","pin"],mute:["isMuted"]};var E=(0,p.default)(j,j.CONCERNS);t.default=E},dggccgeid:function(e,t){e.exports={content:"_1VwzF"}},dggeggcjcd:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=i(a("iidhbgeed")),u=i(a("dbafiicfja")),f=n(a("ddhijeejag")),h=i(a("dhbceejbjg")),p=i(a("dbdfbgehgj")),g=i(a("bbchdeehff")),m=i(a("dhhfaeacef")),b=i(a("cdbcigcahd")),v=i(a("fifhbjiec")),j=a("bidfjbaebi"),E=i(a("fffdgbfji")),y=i(a("bahgfcjcda")),_=a("eagfdbhhhh"),S=i(a("bfdcadbbif")),C=i(a("cgfjebhhej")),A=i(a("dggccgeid")),M=i(a("djbfhebjhe")),T=a("dcbdjheea");var P=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,(0,d.default)(t).apply(this,arguments))}return(0,c.default)(t,e),(0,o.default)(t,[{key:"openChat",value:function(e){g.default.closeModal(),p.default.find((0,T.numberToWid)(e)).then(function(e){g.default.openChatFromUnread(e).then(function(t){t&&g.default.focusChatTextInput(e)})})}},{key:"sendEmail",value:function(e){var t="mailto:".concat(e);(0,j.openExternalLink)(t)}},{key:"openLocation",value:function(e){var t=(0,u.default)((0,l.default)(e),encodeURIComponent).join(", "),a="https://maps.google.com/maps/search/".concat(t,"?hl=").concat(E.default.getLocale());(0,j.openExternalLink)(a)}},{key:"getHeader",value:function(){var e=this.props.parsedVCard,t=C.default.vcardWAids(e),a=f.createElement(v.default,{text:C.default.getNameFromParsedVCard(e),direction:"auto",titlify:!0,ellipsify:!0,selectable:!0}),n=C.default.getOrganizationString(e),i=f.createElement(y.default,{thumb:this.props.thumbnail,size:m.default.Size.SMALL,waid:C.default.thumbnailWAid(t)});return f.createElement(h.default,{image:i,theme:"plain",primary:a,secondary:n})}},{key:"render",value:function(){var e=this,t=this.props.parsedVCard,a=(0,l.default)(t.TEL,function(e){return e.properties.waid}),n=(0,l.default)(t.TEL,function(e){return!e.properties.waid}),i=(0,u.default)(a,function(t){var a=t.properties.waid[0],n=f.createElement(S.default,{name:"chat",onClick:function(){return e.openChat(a)}}),i=f.createElement(_.SelectableSpan,{selectable:!0},(0,M.default)(a));return f.createElement(b.default,{title:i,icon:n,key:"vCard-".concat(String(t.index))},C.default.getType(t))}),r=(0,u.default)(t.EMAIL,function(t){return f.createElement(b.default,{title:E.default.forceLTR(t.value),onClick:function(){return e.sendEmail(t.value)},key:"vCard-".concat(String(t.index))},C.default.getType(t))}),o=(0,u.default)(t.ADR,function(t){var a=t.value.join(" ");return f.createElement(b.default,{title:a,onClick:function(){return e.openLocation(t.value)},key:"vCard-".concat(String(t.index))},C.default.getType(t))}),s=(0,u.default)(n,function(e){return f.createElement(b.default,{title:E.default.forceLTR(e.value),key:"vCard-".concat(String(e.index))},C.default.getType(e))}),d=(0,u.default)(t.SERVICE,function(e){return f.createElement(b.default,{title:e.value,key:"vCard-".concat(String(e.index))},C.default.getType(e))}),c=(0,u.default)(t.BDAY,function(e){return f.createElement(b.default,{title:C.default.getDate(e.value),key:"vCard-".concat(String(e.index))},E.default.t(1130))}),h=(0,u.default)(t.NICKNAME,function(e){return f.createElement(b.default,{title:e.value,key:"vCard-".concat(String(e.index))},E.default.t(1142))}),p=this.getHeader();return f.createElement("div",null,p,f.createElement("div",{className:A.default.content},i,r,o,s,c,h,d))}}]),t}(f.Component);t.default=P},dggfjficbb:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=n(a("ddhijeejag")),u=i(a("hhbhaabfi")),f=i(a("bbchdeehff")),h=i(a("biddiiafgd")),p=i(a("djcchigfih")),g=i(a("djbhiedbef")),m=n(a("dajffajabh")),b=i(a("dbgdaechch")),v=i(a("bhhdeihhhf")),j=i(a("bijffg")),E=a("bddhdheedf"),y=i(a("icghcjegh")),_=i(a("eceadcicaf")),S=a("bhfdfhefca"),C=i(a("bfbggcdbfb")),A=i(a("dahdbbghjd")),M=i(a("cbcbdjdah")),T=i(a("dceicchccd")),P=i(a("bfdcadbbif")),N=function(e){function t(){var e;return(0,r.default)(this,t),(e=(0,s.default)(this,(0,d.default)(t).call(this))).openColorPicker=function(){var t=e.props.labelId,a=j.default.assertGet(t);e.props.openLabelColorDrawer(e.props.labelId,a.color)},e.openEditLabel=function(){e.props.onEditLabel&&e.props.onEditLabel(e.props.labelId)},e.onCancelLabelSelection=function(){e.multiSelection.unsetAll()},e.renderMenu=function(){return l.createElement(S.MenuBarItem,{a8nText:"starred-menu",icon:l.createElement(P.default,{name:"menu-white"}),title:l10n.t(729)},l.createElement(b.default,{type:"dropdown_menu",flipOnRTL:!0,key:"labelChooseColor",dirX:"LEFT"},l.createElement(v.default,{a8n:"menu-item",action:e.openColorPicker},l10n.t(639)),l.createElement(v.default,{a8n:"menu-item",action:e.openEditLabel},l10n.t(412))))},e.onRemoveLabel=function(){var t=e.multiSelection.getSelected(),a=e.props,n=a.onRemoveLabel,i=a.labelId;if(n){var r=j.default.assertGet(i);(0,E.logLabelOperationEvent)(C.default.LABEL_OPERATIONS.VIEW,t.length,C.default.LABEL_TARGETS.BULK_UNLABEL_DIALOG),f.default.openModal(l.createElement(h.default,{title:l10n.t(954,{count:t.length,labelName:r.name,_plural:t.length}),okText:l10n.t(1331),cancelText:l10n.t(1197),onCancel:e._closeModal,onOK:e.onRemoveLabelConfirmed.bind(null,i,t)}))}},e._closeModal=function(){var t=e.multiSelection.getSelected();(0,E.logLabelOperationEvent)(C.default.LABEL_OPERATIONS.CLICK_NEGATIVE,t.length,C.default.LABEL_TARGETS.BULK_UNLABEL_DIALOG),f.default.closeModal()},e.onRemoveLabelConfirmed=function(t,a){f.default.closeModal(),e.onCancelLabelSelection(),e.props.onRemoveLabel(t,a),(0,E.logLabelOperationEvent)(C.default.LABEL_OPERATIONS.CLICK_POSITIVE,a.length,C.default.LABEL_TARGETS.BULK_UNLABEL_DIALOG)},e.multiSelection=new T.default([],function(e){return e.id.toString()}),e}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.listeners.add(this.multiSelection,"all",function(){return e.forceUpdate()}),(0,E.logLabelOperationEvent)(C.default.LABEL_OPERATIONS.VIEW,void 0,C.default.LABEL_TARGETS.LABEL_DETAILS_SCREEN)}},{key:"hasMixedSelection",value:function(e){for(var t,a,n=0;n<e.length;n++){if(e[n]instanceof M.default?a=!0:t=!0,t&&a)return!0}return!1}},{key:"render",value:function(){var e=this.multiSelection.getSelected(),t=this.hasMixedSelection(e),a=this.multiSelection.getSelected().length>0?l.createElement(A.default,{labelEditEnabled:!t,onRemoveLabel:this.onRemoveLabel,selectedModels:this.multiSelection,onCancel:this.onCancelLabelSelection,theme:"drawer-header"}):l.createElement(m.default,{onBack:this.props.onClose,menu:this.renderMenu(),type:m.DRAWER_HEADER_TYPE.LABELS},l.createElement(y.default,{labels:[this.props.labelId],renderAsCircle:!0,showName:!0,theme:"drawer-title"}));return l.createElement(p.default,{theme:"settings"},a,l.createElement(g.default,null,l.createElement(u.default,{hideMultiSelectBar:!0,multiSelection:this.multiSelection,labelFilter:this.props.labelId,selectable:!0})))}}]),t}(l.PureComponent),I=(0,_.default)(N);t.default=I},dggicghjch:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("bhfcfhafdj")),o=i(a("eaidjcib")),s=i(a("dgcdacjddi")),d=i(a("ffceefejc")),c=i(a("cjedcdbdii")),l=i(a("dbjagcfebh")),u=n(a("ddhijeejag")),f=i(a("effbcehec")),h=i(a("cfadcbbiie")),p=i(a("bjigbaghc")),g=i(a("dhigahgdjb")),m=i(a("dhhfaeacef")),b=a("cicgeajfge"),v=n(a("bbhhbdicgc")),j=i(a("cicjcfabii")),E=i(a("bggeiidigb")),y=i(a("bjbdcigbdi")),_=i(a("fffdgbfji")),S=i(a("eceadcicaf")),C=i(a("cahfddcdga")),A=i(a("bfgbdiffgd")),M=i(a("cgebaggcga")),T=i(a("bgcdajbhif")),P=i(a("cajjfeahjc")),N=i(a("gdhdegbhg")),I=i(a("bfdcadbbif")),k={SEC_UNREAD:"SEC_UNREAD",SEC_READ:"SEC_READ",SEC_MUTED:"SEC_MUTED",ROW_STATUS:"ROW_STATUS"},O=function(e){function t(){var e;(0,o.default)(this,t),(e=(0,d.default)(this,(0,c.default)(t).apply(this,arguments))).flatListController=new E.default,e.onStatusChange=function(){var t=e.getUnreadStatusList(),a=e.getReadStatusList(),n=[].concat((0,r.default)(t),(0,r.default)(a)).filter(function(e){return e.contact.statusMute});e.setState({unreadStatusList:t.filter(function(e){return!e.contact.statusMute}),readStatusList:a.filter(function(e){return!e.contact.statusMute}),mutedStatusList:n,myStatus:T.default.getMyStatus()})},e.onContactMuteChange=function(){var t=e.getUnreadStatusList(),a=e.getReadStatusList(),n=[].concat((0,r.default)(t),(0,r.default)(a)).filter(function(e){return e.contact.statusMute});e.setState({unreadStatusList:t.filter(function(e){return!e.contact.statusMute}),readStatusList:a.filter(function(e){return!e.contact.statusMute}),mutedStatusList:n,myStatus:T.default.getMyStatus()})},e.toggleMuted=function(){e.setState(function(e){return{isMutedExpanded:!e.isMutedExpanded}})},e.renderItem=function(t){switch(t.type){case k.SEC_UNREAD:return u.createElement("div",{className:P.default.listSectionSep},u.createElement("hr",null),u.createElement("div",{className:P.default.listSectionText},u.createElement("span",null,_.default.t(1076))));case k.SEC_READ:return u.createElement("div",{className:P.default.listSectionSep},u.createElement("hr",null),u.createElement("div",{className:P.default.listSectionText},u.createElement("span",null,_.default.t(1082))));case k.SEC_MUTED:return u.createElement("div",{className:P.default.listSectionSep},u.createElement("hr",null),u.createElement("div",{className:P.default.listSectionText},u.createElement("span",null,_.default.t(1070)),u.createElement("button",{className:P.default.listSectionAction,onClick:e.toggleMuted},t.expanded?_.default.t(1067):_.default.t(1068))));case k.ROW_STATUS:return u.createElement(M.default,{statusV3:t.status,onClick:function(){return e.props.onOpenStatus(t.status,void 0,t.index)},contact:t.status.contact});default:throw new v.UnknownDataError(t)}};var a=e.getUnreadStatusList(),n=e.getReadStatusList(),i=[].concat((0,r.default)(a),(0,r.default)(n)).filter(function(e){return e.contact.statusMute});return e.state={unreadStatusList:a.filter(function(e){return!e.contact.statusMute}),readStatusList:n.filter(function(e){return!e.contact.statusMute}),mutedStatusList:i,myStatus:T.default.getMyStatus(),isMutedExpanded:!1},e}return(0,l.default)(t,e),(0,s.default)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.listeners.add(T.default,"add remove bulk_add sort change:msgsChanged change:hasUnread",this.onStatusChange),this.props.listeners.add(g.default,"change:statusMute",this.onContactMuteChange),this.props.listeners.add(T.default,"sync",function(){e.forceUpdate()})}},{key:"getUnreadStatusList",value:function(){return T.default.getUnexpired(!0)}},{key:"getReadStatusList",value:function(){return T.default.getUnexpired(!1)}},{key:"getData",value:function(){var e=this.state,t=e.unreadStatusList,a=e.readStatusList,n=e.mutedStatusList,i=[];return t.length>0&&(i.push({type:k.SEC_UNREAD,itemKey:"section-unread",height:48}),i.push.apply(i,(0,r.default)(t.map(function(e,t){return{type:k.ROW_STATUS,itemKey:e.id.toString(),height:64,status:e,index:t}})))),a.length>0&&(i.push({type:k.SEC_READ,itemKey:"section-read",height:48}),i.push.apply(i,(0,r.default)(a.map(function(e,t){return{type:k.ROW_STATUS,itemKey:e.id.toString(),height:64,status:e,index:t}})))),n.length>0&&(i.push({type:k.SEC_MUTED,itemKey:"section-muted",height:48,expanded:this.state.isMutedExpanded}),this.state.isMutedExpanded&&i.push.apply(i,(0,r.default)(n.map(function(e,t){return{type:k.ROW_STATUS,itemKey:e.id.toString(),height:64,status:e,index:t}})))),i}},{key:"render",value:function(){var e,t=this.getData();return e=T.default.hasSynced()&&t.length>0?u.createElement(v.default,{className:"statusList",itemEnterAnimationsEnabled:!0,flatListController:this.flatListController,direction:"vertical",data:t,renderItem:this.renderItem}):u.createElement(b.ListStatus,null),u.createElement("div",{className:P.default.listPanel},u.createElement(R,{statusV3:this.state.myStatus,onOpenStatus:this.props.onOpenStatus}),u.createElement(j.default,{className:P.default.listBody,flatListControllers:[this.flatListController]},e))}}]),t}(u.Component),R=function(e){function t(){return(0,o.default)(this,t),(0,d.default)(this,(0,c.default)(t).apply(this,arguments))}return(0,l.default)(t,e),(0,s.default)(t,[{key:"render",value:function(){var e,t,a,n=this,i=this.props.statusV3;i&&(a=i.msgs);var r,o,s,d,c=function(){var e=i&&i.msgs;i&&e&&e.length&&n.props.onOpenStatus(i,e.head(),0)};if(i&&a&&a.length){e=u.createElement(N.default,{statusV3:i,contact:i.contact,onClick:c});var l=(0,C.default)(a.last()).t;t=u.createElement("span",{className:P.default.secondaryHeaderText},A.default.statusRanking&&y.default.supportsFeature(y.default.F.STATUS_RANKING)?_.default.t(1073,{count:a.length,_plural:a.length}):h.default.relativeDateAndTimeStr(l)),o={cursor:"pointer"},r=c}else e=u.createElement(m.default,{id:p.default.me,theme:"status_v3",size:40}),t=u.createElement("span",{"data-a8n":f.default.key("status-no-updates"),className:P.default.secondaryHeaderText},_.default.t(1072));y.default.supportsFeature(y.default.F.STATUS_V3_UI_SENDING)&&(s=u.createElement(I.default,{name:"menu-white"}),d=u.createElement(I.default,{name:"status-v3-create"}));var g=u.createElement("span",{"data-a8n":f.default.key("my-status"),className:P.default.primaryHeaderText},_.default.t(1071));return u.createElement("div",{className:P.default.panelHeader,style:o,onClick:r},u.createElement("div",{className:P.default.headerButtonsPrimary},e),u.createElement("div",{className:P.default.headerText},g,t),u.createElement("div",{className:P.default.headerButtonsSecondary},d,s))}}]),t}(u.Component),w=(0,S.default)(O);t.default=w},dghbeeheia:function(e,t){e.exports={note:"lfgvk",icon:"OYyjt",noteBody:"_2QOAV"}},dghebhejhb:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=i(a("ceffhbhahb")),u=n(a("ddhijeejag")),f=i(a("cehjjfagii")),h=a("ddbddjjgia"),p=i(a("cieaeggjg")),g=i(a("bfbggcdbfb")),m=i(a("ihfccfgdf")),b=i(a("bgghfidcfh")),v=i(a("bcbhcfbjff")),j=i(a("bjddgjgae")),E=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i))))._stopPropagation=function(e){e.stopPropagation()},a._handleDownloadMedia=function(){return a.props.msg.downloadMedia(!1,g.default.WEBC_RMR_REASON_CODE.MSG_RENDER)},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){this.props.msg.downloadMedia(!1,g.default.WEBC_RMR_REASON_CODE.MSG_RENDER)}},{key:"render",value:function(){var e=this.props.msg,t=this.props.displayAuthor&&!e.isSentByMe&&e.isGroupMsg,a=t?u.createElement("div",{className:v.default.author},u.createElement(f.default,{msg:e,contact:e.senderObj})):null,n=this.props.quotedMsg?u.createElement("div",{className:v.default.quote},this.props.quotedMsg):null,i=(0,l.default)(v.default.bubble,{[v.default.hasAuthor]:t,[v.default.isFirst]:this.props.position===h.MsgPosition.FRONT||this.props.position===h.MsgPosition.SINGLE,[v.default.isTransparent]:!e.quotedMsg});return u.createElement("div",{className:i,onClick:this._stopPropagation},a,n,u.createElement("div",{className:v.default.body},u.createElement(j.default,{mediaData:this.props.mediaData,msg:e},u.createElement(b.default,{mediaData:this.props.mediaData,theme:"conversation",isNewMsg:e.isNewMsg,downloadMedia:this._handleDownloadMedia,forwardRef:this.props.forwardRef})),u.createElement("div",{className:v.default.meta},u.createElement(p.default,{msg:e}))))}}]),t}(u.PureComponent);E.CONCERNS={msg:["isNewMsg","isSentByMe","isGroupMsg","senderObj","quotedMsg"]};var y=(0,m.default)(E,E.CONCERNS);t.default=y},dghfjbgibd:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,a){r.default.logColor("green","bin-recv: response,starred_stickers",e)();var n=t.tag(e);if("response"!==n)throw new Error("node tage for starred_stickers response is invalid: ".concat(n));var s=t.attr("type",e)||"";if(s!==a)throw new Error("node type for ".concat(a," response is invalid: ").concat(s));var d=parseInt(t.attr("code",e),10)||200;if(200!==d)throw new Error("response status for ".concat(a," is invalid: ").concat(d));var c=t.attr("checksum",e)||"",l=parseInt(t.attr("total",e)||"0"),u=t.children(e)||[];(0,i.default)(Array.isArray(u),"expects an Array of Stickers");var f=u.map(function(e){return(0,o.default)(e,t)}).filter(Boolean);return{checksum:c,total:l,stickers:f}};var i=n(a("cgeeeeddea")),r=n(a("bdiiahhjbe")),o=n(a("chfehjfdj"))},dghggcieid:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("ffceefejc")),s=i(a("cjedcdbdii")),d=i(a("dbjagcfebh")),c=n(a("dcaifjegcg")),l=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),d=0;d<n;d++)i[d]=arguments[d];return(a=(0,o.default)(this,(e=(0,s.default)(t)).call.apply(e,[this].concat(i)))).id=(0,c.prop)(),a.weight=(0,c.prop)(),a}return(0,d.default)(t,e),t}(c.default);l.Proxy="recentEmoji";var u=(0,c.defineModel)(l);t.default=u},dghjhchjic:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("eaidjcib")),r=n(a("ffceefejc")),o=n(a("cjedcdbdii")),s=n(a("dbjagcfebh")),d=n(a("dffgeedefc")),c=n(a("cgcgbfbffj")),l=n(a("ccdbdjihjh")),u=function(e){function t(){return(0,i.default)(this,t),(0,r.default)(this,(0,o.default)(t).apply(this,arguments))}return(0,s.default)(t,e),t}(c.default);t.default=u,u.model=l.default,u.comparator=function(e,t){return e.id===t.id?0:(0,d.default)(e.id,t.id)?-1:1}},dgibicjjj:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg"),r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=i(a("ceffhbhahb")),u=n(a("ddhijeejag")),f=i(a("effbcehec")),h=i(a("bcibfcjcbf")),p=i(a("dhbceejbjg")),g=i(a("fifhbjiec")),m=a("dhfbfehaef"),b=a("gaifbabbj"),v=i(a("becfabjeeg")),j=i(a("bfdcadbbif")),E=i(a("bcifhbgija")),y=i(a("didfdhbecg")),_=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).state={hover:!1,contextMenu:!1,forceContextMenu:!1},a.setRefContext=function(e){a.refContext=e},a.setCellFrameDivRef=function(e){a.cellFrameDivRef=e},a.getCellFrameDivRef=function(){return a.cellFrameDivRef},a.indicateFocus=function(e){(0,m.indicateFocus)(a.cellFrameDivRef,["#e9eaeb","#cbdde7"],{complete:e})},a.handleMenuMouseDown=function(e){var t=a.props,n=t.contextEnabled,i=t.onContext,r=a.state.contextMenu;(n()||r)&&(e.stopPropagation(),e.preventDefault(),i&&i({anchor:e.target}))},a.handleMenuClick=function(e){e.stopPropagation()},a.onContextMenu=function(e){var t=a.props,n=t.contextEnabled,i=t.onContext;n()&&(e.stopPropagation(),e.preventDefault(),i&&i({event:e}))},a.openContextMenu=function(){a.props.contextEnabled()&&a.setState({contextMenu:!0},function(){if(!a.refContext)throw new Error("Context ref not set");a.refContext.click()})},a.mouseOver=function(){a.state.hover||a.state.contextMenu||!a.props.contextEnabled()||a.setState({hover:!0})},a.mouseEnter=function(){a.state.hover||a.state.contextMenu||!a.props.contextEnabled()||a.setState({hover:!0})},a.mouseLeave=function(){a.state.hover&&a.setState({hover:!1})},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"reset",value:function(){var e=this.cellFrameDivRef;e&&((0,E.default)(e,"stop"),e.style.backgroundColor="")}},{key:"render",value:function(){var e=this.state.contextMenu||this.state.hover,t=(0,l.default)(this.props.className,{hover:e}),a="string"==typeof this.props.primary?u.createElement(g.default,{text:this.props.primary,direction:"auto",formatters:b.Configuration.Search({terms:this.props.searchText?[this.props.searchText]:[]}),titlify:!0,ellipsify:!0}):this.props.primary,n=null,i=null;null!=this.props.pendingAction&&this.props.pendingAction>0?i=u.createElement("div",{className:h.default.btnContext},u.createElement(v.default,{size:18,stroke:6,color:"highlight"})):e&&(n=u.createElement("div",{"data-a8n":f.default.key("context-btn"),className:h.default.btnContext,key:"icon-context",ref:this.setRefContext,onMouseDown:this.handleMenuMouseDown,onClick:this.handleMenuClick},u.createElement(j.default,{name:"down"})));var r,o,s=u.createElement(y.default,{transitionName:"fade"},i),d=u.createElement(y.default,{transitionName:"pop-fast-chat"},e?n:null);return this.props.secondary?(r=this.props.primaryDetail,o=[u.createElement(u.Fragment,{key:"prop"},this.props.secondaryDetail),u.createElement(u.Fragment,{key:"spinner"},s),u.createElement(u.Fragment,{key:"button"},d)]):r=[u.createElement(u.Fragment,{key:"prop"},this.props.primaryDetail),u.createElement(u.Fragment,{key:"spinner"},s),u.createElement(u.Fragment,{key:"button"},d)],u.createElement(p.default,{setDivRef:this.setCellFrameDivRef,image:this.props.image,customImage:this.props.customImage,className:t,unread:this.props.unread,active:this.props.active,isMuted:this.props.isMuted,dragging:this.props.dragging,theme:this.props.theme,primary:a,primaryDetail:r,secondary:this.props.secondary,secondaryDetail:o,detail:this.props.detail,onClick:this.props.onClick,onMouseDown:this.props.onMouseDown,onContextMenu:this.props.contextEnabled()?this.onContextMenu:null,onMouseEnter:this.state.hover?null:this.mouseEnter,onMouseOver:this.state.hover?null:this.mouseOver,onMouseLeave:this.state.hover?this.mouseLeave:null})}}],[{key:"getDerivedStateFromProps",value:function(e,t){return t.forceContextMenu&&t.contextMenu&&!e.contextMenu?{contextMenu:!1,forceContextMenu:e.contextMenu}:{forceContextMenu:e.contextMenu}}}]),t}(u.PureComponent);e.exports=_},dgicehhija:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=(0,r.default)(e,1)[0];function a(e,a){var n;n=m.default.isStatusV3(t.broadcast)?new p.default({from:t.from,to:t.broadcast,id:a,selfDir:t.self||"out"}):new p.default({from:t.from,to:e,id:a,participant:t.participant,selfDir:t.self||"out"});var i=g.default.Msg.get(n);i?(0,s.updateMsgAck)(i,t.broadcast,{from:t.from,to:e,ack:t.ack,t:t.t}):(f.default.log("Msg:out of order ack",t)(),g.default.Msg.preAck[n]=t)}if("ack"===t.cmd){var n=[t.to];if(m.default.isBroadcast(t.to)&&1===t.ack){var i=g.default.GroupMetadata.get(t.to);i&&Array.prototype.push.apply(n,(0,o.default)(i.participants.toArray(),"id"))}n.forEach(function(e){a(e,t.id)})}else if("acks"===t.cmd)t.id.forEach(function(e){a(t.to,e)});else if(t.msg){if(!(t.chat instanceof m.default))return;v(t.chat,t.msg,t.meta)}else if(t.msgs){var j=t.msgs.length;if(!j)return;var E=null;if(!(t.chat instanceof m.default))return;var y=t.meta;y.isHistory=!0,"unread"===y.add&&(y.firstUnreadKey=new p.default({fromMe:y.unreadFromMe,remote:t.chat,id:y.unreadId,participant:y.unreadParticipant}),E=new d.default);for(var _=0;_<j;_++){var S=t.msgs[_];S.invis=!0}l.default.platform===l.PLATFORMS.IPHONE&&g.default.Msg.trigger(c.default.COLLECTION_HAS_SYNCED),g.default.Msg.trigger("handle:msg_history",{count:t.msgs.length,binarySize:t.binarySize}),(0,h.storeMessages)(t.msgs).then(function(){return(0,h.addMessagesToHistory)(t.chat,t.msgs,y)}).then(function(){return g.default.Msg.processMultipleMessages(t.chat,t.msgs,y,E)}).catch(u.LogoutDrop,function(){}).catch(function(e){f.default.assert(!1,"msg_handler: error storing/processing multiple messages","Msgs count: ".concat(j," Chat: ").concat(String(t.chat)," Error: ").concat(e.name,", message: ").concat(e.message,", stack: ").concat(e.stack))(e)})}else t.recent?function(){var e=t.meta,a=t.binarySize;delete t.recent,delete t.meta,delete t.binarySize,g.default.Msg.trigger(c.default.COLLECTION_HAS_SYNCED,{count:Object.keys(t).length,binarySize:a}),e.isHistory=!0;var n=function(a){var n=void 0;try{n=(0,b.createWid)(a)}catch(e){return"continue"}var i=t[a];i.invis=!0,(0,h.storeMessages)([i]).then(function(){return(0,h.addMessagesToHistory)(n,[i],e)}).then(function(){var t="last"===e.add&&e.resume?new d.default:null;g.default.Msg.processMultipleMessages(n,[i],e,t)}).catch(u.LogoutDrop,function(){}).catch(function(e){f.default.assert(!1,"msg_handler: error storing recent messages")(e)})};for(var i in t)n(i)}():f.default.log("************** Msg else clause. something strange is going on")()},t.handleSingleMsg=v;var r=i(a("hbddjfeei")),o=i(a("dbafiicfja")),s=a("bgffafigi"),d=i(a("dbfjecijha")),c=i(a("baagejbchg")),l=n(a("bjigbaghc")),u=a("ddjgcfjicj"),f=i(a("bdiiahhjbe")),h=a("ecdfgaagba"),p=i(a("cffajefeag")),g=i(a("bhggeigghg")),m=i(a("jccfhaecf")),b=a("dcbdjheea");function v(e,t,a){var n="update"===a.add;if(m.default.isStatusV3(e)&&!g.default.StatusV3.handleUpdate(t,a.checksum,n))return Promise.resolve();t.recvFresh=!0,t.isNewMsg=!0;var i=[t],r={add:"after",update:n,isHistory:!1},o=g.default.Chat.get(e);return(0,h.storeMessages)(i).then(function(){return(0,h.addMessagesToHistory)(e,i,r,o&&o.msgs&&o.msgs.last())}).then(function(){return g.default.Msg.processMultipleMessages(e,i,r)}).catch(u.LogoutDrop,function(){}).catch(function(a){f.default.assert(!1,"msg_handler: error storing/processing single message","Msg: ".concat(String(t.id)," chat: ").concat(String(e)," Error: ").concat(a.name,", message: ").concat(a.message,", stack: ").concat(a.stack))(a)})}},dgidheegej:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Component=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=a("cfabbaghh"),u=n(a("ddhijeejag")),f=i(a("baagejbchg")),h=i(a("dgjacfgggf")),p=i(a("eceadcicaf")),g=i(a("bcijfighgd")),m=i(a("bfdcadbbif")),b=1.1,v=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).validateTranslate=function(e,t){var n=a.props.editedMedia.editData,i=(e-n.width/2)*n.scale,r=(e+n.width/2)*n.scale,o=(t+n.height/2)*n.scale,s=(t-n.height/2)*n.scale;return{x:i<-a.cropRadius&&r>a.cropRadius,y:s<-a.cropRadius&&o>a.cropRadius}},a.validateScale=function(e){var t=a.props.editedMedia.editData,n=Math.max(2*a.cropRadius/t.width,2*a.cropRadius/t.height),i=Math.max(e,n);if(t.width*e<a.cropRadius||t.height*e<a.cropRadius)return!1;var r=-a.cropRadius/i+t.width/2,o=a.cropRadius/i-t.width/2,s=-a.cropRadius/i+t.height/2,d=a.cropRadius/i-t.height/2;return{scale:i,offsetX:Math.min(Math.max(t.offsetX,o),r),offsetY:Math.min(Math.max(t.offsetY,d),s)}},a.onPressMove=function(e,t){var n=a.props.editedMedia.editData,i=e.stageX-t.x,r=e.stageY-t.y,o=n.offsetX+i/n.scale,s=n.offsetY+r/n.scale,d=a.validateTranslate(o,s);d.x&&(n.offsetX=o),d.y&&(n.offsetY=s),t.x=e.stageX,t.y=e.stageY,a.props.drawCanvas()},a.onEnlarge=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=a.props.editedMedia.editData,n=0!==e?e:b,i=a.validateScale(t.scale*n);i&&(t.scale=i.scale,t.offsetX=i.offsetX,t.offsetY=i.offsetY,a.props.drawCanvas())},a.onReduce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=a.props.editedMedia.editData,n=0!==e?e:b,i=a.validateScale(t.scale/n);i&&(t.scale=i.scale,t.offsetX=i.offsetX,t.offsetY=i.offsetY,a.props.drawCanvas())},a.crop=function(){var e,t=a.props.editedMedia,n=t.editData,i=t.editedImage&&t.editedImage.src;if(!i)return Promise.reject("empty image");var r=2*a.cropRadius,o=r;return r>f.default.MAX_PIC_SIDE?o=f.default.MAX_PIC_SIDE:r<f.default.MIN_PIC_SIDE&&(o=f.default.MIN_PIC_SIDE),h.default.crop(i,(n.width-2*a.cropRadius)/2,(n.height-2*a.cropRadius)/2,2*a.cropRadius,2*a.cropRadius,o,o,h.default.DATA_URL|h.default.CANVAS).then(function(t){var a=t.images;return e=a.dataUrl,h.default.crop(a.canvas,0,0,f.default.PROF_PIC_THUMB_SIDE,f.default.PROF_PIC_THUMB_SIDE)}).then(function(t){return{thumb:t.images.dataUrl,full:e}})},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=this;return u.createElement("div",{className:g.default.scaler},u.createElement("div",{className:g.default.scalerButton,onClick:function(){e.onEnlarge()}},u.createElement(m.default,{name:"plus"})),u.createElement("div",{className:g.default.scalerButton,onClick:function(){e.onReduce()}},u.createElement(m.default,{name:"minus"})))}},{key:"componentDidMount",value:function(){var e=this;this.props.editedMedia.saveEdits();var t,a=this.props.editedMedia.editData,n=this.props.cropOverlay,i=n.canvas;t=a.baseItem?a.baseItem.getBounds():{width:0,height:0},i.style.display="block",i.width=t.width,i.height=t.height;var r=new l.Easel.Shape;r.graphics.beginFill("rgba(0, 0, 0, 0.1)"),r.graphics.drawRect(0,0,t.width,t.height),r.regX=t.width/2,r.regY=t.height/2,r.x=t.width/2,r.y=t.height/2,r.on("mousedown",function(t){var a={x:t.stageX,y:t.stageY},n=r.on("pressmove",e.onPressMove,null,!1,a);r.on("pressup",function(){r.off("pressmove",n)},null,!0)}),r.cursor="move",this.props.listeners.add(i,"mousewheel",function(t){t.deltaY>0?e.onEnlarge(1.02):e.onReduce(1.02)});var o=i.getContext("2d"),s=i.width,d=i.height,c=s/d>500/361?d/361:s/500;this.cropRadius=Math.min(361,500)/2*.9*c,o.fillStyle="rgba(0, 0, 0, 0.5)",o.fillRect(0,0,s,d),o.globalCompositeOperation="destination-out",o.beginPath(),o.arc(s/2,d/2,this.cropRadius,0,2*Math.PI,!0),o.fillStyle="#ffffff",o.fill(),n.addChild(r),n.update()}}]),t}(u.Component),j=v;t.Component=j;var E=(0,p.default)(v);t.default=E},dgiechcbec:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=i(a("ceffhbhahb")),u=n(a("ddhijeejag")),f=i(a("iabebjcej")),h=i(a("fifhbjiec")),p=i(a("dgjddffcfg")),g=i(a("bjbdcigbdi")),m=i(a("bhcdbgbbad")),b=a("gaifbabbj"),v=i(a("fffdgbfji")),j=i(a("eighdgacb")),E=i(a("eceadcicaf")),y=i(a("cjbgdeaacg")),_=i(a("cibcaiabfd")),S=i(a("bhheahajjg")),C=i(a("ihfccfgdf")),A=a("bheafeifce"),M=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).updateAfterFeatureFlagChange=function(){a.props.listeners._unmounted||a.forceUpdate()},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){this.props.listeners.add(g.default,g.default.FEATURE_CHANGE_EVENT,this.updateAfterFeatureFlagChange)}},{key:"render",value:function(){var e=this.props,t=e.msg,a=e.searchQuery,n=void 0===a?[]:a,i=e.msgType,r=e.author,o=[];t.isSentByMe&&!t.isRevoked&&o.push(u.createElement(y.default,{msg:t,key:"symbol"}));var s="Search"!==i&&!t.isSentByMe&&t.isGroupMsg&&!t.isNotification,d=r&&"Search"===i;if((s||d)&&(s?o.push(u.createElement(S.default,{contact:t.senderObj,useShortName:!0,key:"author"})):d&&o.push(u.createElement(h.default,{text:r,direction:"auto",key:"author"})),o.push(u.createElement("span",{key:"divider"},":",""))),t.hasSymbol()&&o.push(u.createElement(_.default,{msg:t,key:"msg-symbol"})),t.isGroupNotification)o.push(u.createElement(m.default,{msg:t,clickable:!1,key:"status"}));else if(t.isBroadcastNotification)o.push(u.createElement(f.default,{msg:t,clickable:!1,key:"broadcast_notification"}));else{var c=(0,l.default)({[j.default.product]:t.isProduct,[j.default.revoked]:t.isRevoked});o.push(u.createElement(h.default,{className:c,direction:t.dir,text:p.default.asSingleLineText(p.default.msgText((0,A.unproxy)(t),!1,!0)),dirMismatch:t.rtl!==v.default.isRTL(),formatters:b.Configuration[i]({mentions:t.mentionMap(),terms:n}),ellipsify:!0,inlineblock:!0,key:"status"}))}var g=v.default.embedDir(p.default.msgText((0,A.unproxy)(t))||"",t.rtl);return u.createElement("span",{className:j.default.last,title:g},o)}}]),t}(u.PureComponent);M.CONCERNS={msg:["dir","isBroadcastNotification","isGroupMsg","isGroupNotification","isNotification","isProduct","isRevoked","isSentByMe","rtl","senderObj","type"]};var T=(0,E.default)((0,C.default)(M,M.CONCERNS));t.default=T},dgijhbdidg:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=i(a("eaaagccfda")),u=i(a("hhegggegb")),f=n(a("ddhijeejag")),h=i(a("ggfcffeaf")),p=i(a("bbchdeehff")),g=i(a("baagejbchg")),m=i(a("djcchigfih")),b=i(a("djbhiedbef")),v=n(a("dajffajabh")),j=a("cicgeajfge"),E=a("ddjgcfjicj"),y=n(a("cajijabhgb")),_=a("bbhhbdicgc"),S=i(a("bggeiidigb")),C=i(a("ddajbaceej")),A=i(a("dacfecidja")),M=i(a("jheedhagg")),T=n(a("dhfbfehaef")),P=i(a("dbciicjiad")),N=i(a("eceadcicaf")),I=i(a("dfcdejcheh")),k=i(a("bjbedjfe")),O=i(a("ceddibdhdb")),R=i(a("dcaibchbg")),w=i(a("becfabjeeg")),D=a("chhhffajfi"),L=h.default["-color-bg-light"],U=function(e){function t(e){var a;return(0,r.default)(this,t),(a=(0,s.default)(this,(0,d.default)(t).call(this,e))).flatListController=new S.default,a.state={searchText:"",searching:!1,resultsUnavailable:!1},a.setSearch=function(e){a.search=e},a.selection=new R.default([],function(e){return e.id.toString()}),a.pending=!1,a._batchRenderState={},a._handleScroll=function(e){a.shouldFTSSearch(e)&&(a.fts(),a.pending=!0)},a.handleScroll=(0,u.default)(a._handleScroll,100),a._debounceSetState=new O.default(function(){a.setState(a._batchRenderState),a._batchRenderState={}}),a.batchSetState=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:75;Object.assign(a._batchRenderState,e),a._debounceSetState.debounce(t)},a.fts=(0,l.default)(function(){a.pending=!1;var e=(a.state.searchText||"").trim();(0,D.numCodepoints)(e)<g.default.FTS_MIN_CHARS||(a._ftsPromise&&a._ftsPromise.cancel(),a._ftsPromise=Promise.resolve().then(function(){a.isFTSSearching()||a.batchSetState({searching:!0})}).then(function(){return a.ftsMsgs.search({chat:a.props.chat,count:a.getSearchCount(),searchTerm:e})}).checkpoint(a.props.rejectOnUnmount()).then(function(t){t&&!t.canceled&&e===a.state.searchText.trim()&&a.batchSetState({searching:!1,resultsUnavailable:!1})}).catch(y.Unmount,function(){}).catch(function(e){a.pending||a.batchSetState({searching:!1,resultsUnavailable:e instanceof E.E404})}))},g.default.FTS_TYPING_DELAY),a.fullTextSearch=function(e){var t=e.trim();(0,D.numCodepoints)(t)>=g.default.FTS_MIN_CHARS?(a.fts(),a.pending=!0,a.state.searching||a.batchSetState({searching:!0})):(a.fts.cancel(),a.ftsMsgs.resetSearch(),a.ftsMsgs.delete(),a._ftsPromise&&a._ftsPromise.cancel(),a.pending=!1,a.state.searching&&a.batchSetState({searching:!1,resultsUnavailable:!1}))},a.shouldFTSSearch=function(e){return!(!a.ftsMsgs.hasMoreMsgs||a.pending||a.state.searching||a.ftsMsgs.searchPromise||(0,D.numCodepoints)(a.state.searchText||"")<g.default.FTS_MIN_CHARS)&&e.scrollTop+g.default.SCROLL_FUDGE>e.scrollHeight-e.clientHeight},a.isFTSSearching=function(){var e=a._batchRenderState;return"searching"in e?e.searching:a.state.searching},a.onSearch=function(e){if(e){if(e!==a.state.searchText){var t={searchText:e,resultsUnavailable:!1};a.fullTextSearch(e),a.setState({searchText:e}),a.batchSetState(t)}}else a.onStopSearch()},a.onStopSearch=function(){a.fts.cancel(),a.ftsMsgs.resetSearch(),a.ftsMsgs.delete(),a._ftsPromise&&a._ftsPromise.cancel(),a.pending=!1,a.setState({searchText:"",searching:!1})},a.onFocusList=function(e){e.repeat||a.refMsglist&&(a.search&&!a.search.cursorIsAtEnd()||(e.preventDefault(),e.stopPropagation(),(0,T.shouldIndicateFocus)(),a.refMsglist&&a.refMsglist.focusFirst()))},a.onOpenFirst=function(e){e.preventDefault();var t=a.ftsMsgs.head();if(t){var n=t.chat,i=n.getSearchContext(t);p.default.focusChatTextInput(n),p.default.openChatAt(n,i)}},a.onFocusSearch=function(){(0,T.shouldIndicateFocus)(),C.default.focus(a.search)},a.onClose=function(){a.props.uim.uie.requestDismiss()},a.indicateFocus=function(e){(0,T.indicateFocus)(a.refInputHotkey,[L,"#D9F3FF"])},a.onScroll=function(e){a.handleScroll(e.currentTarget)},a.getEmptyChatlistState=function(e){if(e.length)return null;var t=(a.state.searchText||"").trim();return(0,D.numCodepoints)(t)>=g.default.FTS_MIN_CHARS?a.state.searching?f.createElement(j.SearchingMessages,null):a.state.resultsUnavailable?f.createElement(j.SearchMessagesUnavailable,null):f.createElement(j.SearchMessages,null):(0,j.BeforeSearchMessages)(a.props.chat.title(),a.props.chat.isGroup)},a.setRefMsglist=function(e){a.refMsglist=e},a.setInputHotkey=function(e){a.refInputHotkey=e},a.ftsMsgs=new A.default(e.chat),a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){var e=this;this.onFocusSearch(),this.props.listeners.add(this.ftsMsgs,"bulk_remove",function(){e.forceUpdate()})}},{key:"componentWillUnmount",value:function(){this.handleScroll.cancel(),this.fts.cancel(),this.ftsMsgs.delete(!0),this._ftsPromise&&this._ftsPromise.cancel(),this._debounceSetState.cancel()}},{key:"getSearchCount",value:function(){return Math.round(window.innerHeight/_.DEFAULT_ITEM_HEIGHT)+1}},{key:"render",value:function(){var e=this.ftsMsgs.toArray(),t=this.getEmptyChatlistState(e);if(null==t){var a=this.state.searchText?this.state.searchText.trim():null;t=f.createElement(I.default,{ref:this.setRefMsglist,flatListController:this.flatListController,isSearching:!!this.state.searchText,searchText:a,ftsResult:e,selection:this.selection,onFocusSearch:this.onFocusSearch})}var n={down:this.onFocusList},i=this.state.searching&&e.length?f.createElement("div",{className:h.default.searchSpinner},f.createElement(w.default,{stroke:6,size:24})):null;return f.createElement(m.default,{key:"search-modal"},f.createElement(v.default,{title:l10n.t(1010),type:v.DRAWER_HEADER_TYPE.SMALL,onCancel:this.onClose}),f.createElement(T.default,{handlers:n,onFocus:this.indicateFocus,onRef:this.setInputHotkey,className:h.default.panelSearch},f.createElement(P.default,{ref:this.setSearch,type:"chat-msg-search",onSearch:this.onSearch,onEnter:this.onOpenFirst,placeholder:l10n.t(1004),loading:this.state.searching})),f.createElement(b.default,{flatListControllers:[this.flatListController],className:h.default.panelBody,onScroll:this.onScroll,id:"pane-side"},t,i))}}]),t}(f.Component),G=(0,M.default)((0,N.default)((0,k.default)(U)));t.default=G},dgjacfgggf:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg"),r=i(a("cgeedcdffb")),o=n(a("cajijabhgb")),s=i(a("gaffaajde")),d=a("cgffhfegce"),c=a("cdbgdedbdh"),l=a("cdebehabcj"),u=i(a("bdiiahhjbe")),f=i(a("bcjcbbafcj")),h=a("baffhfhhda"),p=a("bjacajbace");function g(e,t){var a=t.x||0,n=t.y||0;t.degrees&&(t.radians=t.degrees*(Math.PI/180)),e.translate(a,n),e.rotate(t.radians),e.translate(-a,-n)}function m(e){var t=e.getContext("2d");t.fillStyle="rgb(247,247,247)",t.fillRect(0,0,e.width,e.height)}var b={DATA_URL:1,BLOB:2,CANVAS:4},v={DATA_URL:b.DATA_URL,BLOB:b.BLOB,CANVAS:b.CANVAS,generateVideoThumbAndDuration:function(e,t){if(f.default.isBuggyVideoLoadChrome){return h.video(e,!0).then(function(e){var a=e.video,n=e.fullWidth,i=e.fullHeight;return(0,s.default)({minTimeout:50,maxTimeout:50,retries:100,signal:(new r.default).signal,factor:1},function(e,r){var o=document.createElement("canvas"),s=(0,c.boundHeightWidth)(i,n,t);o.width=s.width,o.height=s.height;var d=o.getContext("2d");d.drawImage(a,0,0,s.width,s.height);var l=d.getImageData(0,0,s.width,s.height);if(r<100&&function(e){for(var t=e.width*e.height/4,a=0;a<=1;a+=.25){var n=4*Math.round(t*a);if(0!==e.data[n])return!1;if(0!==e.data[n+1])return!1;if(0!==e.data[n+2])return!1;var i=e.data[n+3];if(0!==i&&255!==i)return!1}return!0}(l))return e(new Error("retry"));var u={duration:~~a.seekable.end(0),thumb:{url:o.toDataURL("image/jpeg"),width:s.width,height:s.height,fullWidth:n,fullHeight:i}};return h.disposeVideo(a),Promise.resolve(u)})})}return h.video(e,!0).then(function(e){var a=e.video,n=e.fullWidth,i=e.fullHeight;try{var r=document.createElement("canvas"),o=(0,c.boundHeightWidth)(i,n,t);return r.width=o.width,r.height=o.height,r.getContext("2d").drawImage(a,0,0,o.width,o.height),{duration:~~a.seekable.end(0),thumb:{url:r.toDataURL("image/jpeg"),width:o.width,height:o.height,fullWidth:n,fullHeight:i}}}finally{h.disposeVideo(a)}})},crop:function(e,t,a,n,i,r,o){var s=this,d=arguments.length>7&&void 0!==arguments[7]?arguments[7]:v.DATA_URL;return(e instanceof HTMLCanvasElement?Promise.resolve(e):h.loadImage(e)).then(function(e){var c=document.createElement("canvas"),l=c.getContext("2d");null==r||null==o?(c.height=i,c.width=n,l.drawImage(e,t,a,n,i)):(c.height=o,c.width=r,l.drawImage(e,t,a,n,i,0,0,r,o));var u={};return s.getImagePromises(u,c,d),Promise.props(u).then(function(e){return{images:e,width:n,height:i}})})},generateLinkPreview:function(e){return h.loadImage(e).then(function(e){if(e.width<100||e.height<100)return u.default.log("Image size too small for link preview")(),null;var t=document.createElement("canvas"),a=t.getContext("2d");t.height=140,t.width=140;var n=Math.min(e.width,e.height),i=(e.width-n)/2,r=(e.height-n)/2;return a.drawImage(e,i,r,n,n,0,0,140,140),t.toDataURL("image/jpeg").replace(/^data:image\/jpeg;base64,/,"")}).catch(function(e){return u.default.log("link preview image generation failed: ",e)(),null})},toDataUrl:function(e){return h.loadImage(e).then(function(e){var t=document.createElement("canvas"),a=t.getContext("2d");return t.height=e.height,t.width=e.width,a.drawImage(e,0,0),t.toDataURL("image/jpeg").replace(/^data:image\/jpeg;base64,/,"")}).catch(function(e){return u.default.log("data URL conversion failed: ",e)(),null})},getImagePromises:function(e,t,a){!e.blob&&a&this.BLOB&&(e.blob=this.canvasToBlob(t)),!e.dataUrl&&a&this.DATA_URL&&(e.dataUrl=Promise.resolve(t.toDataURL("image/jpeg"))),!e.canvas&&a&this.CANVAS&&(e.canvas=Promise.resolve(t))},rotateAndResize:function(e,t,a){var n,i,r,o=this;return e instanceof HTMLCanvasElement?(i=Promise.resolve(e),r=Promise.resolve(null)):(n=window.URL.createObjectURL(e),i=h.loadImage(n),r=(0,d.blobToArrayBuffer)(e).catch(function(e){u.default.error("ImageUtils::rotateAndResize error: ".concat(e))(e)})),Promise.props({buffer:r,image:i}).then(function(e){var n=e.buffer,i=e.image,r={};try{r=p(n)}catch(e){}var s=0;switch(r.orientation||"UNKNOWN"){case"right-top":s=1;break;case"left-bottom":s=-1;break;case"bottom-right":s=2}var d=document.createElement("canvas"),f=i.naturalWidth||i.width,h=i.naturalHeight||i.height,b=d.getContext("2d"),j={};if(!s){var E,y,_=(0,c.boundHeightWidth)(h,f,t),S=a&v.BLOB;if(n&&S&&f===_.width&&h===_.height)try{var C=(0,l.cleanJPEG)(n);j.blob=C,S=!1,E=f,y=h}catch(e){u.default.log("Could not parse JPEG: ".concat(e.message))()}return(S||a&~v.BLOB)&&(d.width=_.width,d.height=_.height,E=d.width,y=d.height,m(d),b.drawImage(i,0,0,E,y),o.getImagePromises(j,d,a)),Promise.props(j).then(function(e){return{width:E,height:y,images:e}})}switch(s){case 1:case-1:var A=Math.max(f,h),M=A/2;d.width=d.height=A,m(d),g(b,{x:M,y:M,degrees:90*s}),1===s?b.drawImage(i,0,A-h):b.drawImage(i,A-f,0),g(b,{x:M,y:M,degrees:-90*s}),function(e,t,a){var n=e.getContext("2d"),i=n.getImageData(0,0,t,a);e.width=t,e.height=a,n.putImageData(i,0,0)}(d,h,f);var T=function(e,t){var a=(0,c.boundHeightWidth)(e.height,e.width,t),n=a.width,i=a.height;if(n>e.width&&i>e.height)return e;var r=document.createElement("canvas"),o=r.getContext("2d");return r.width=n,r.height=i,o.drawImage(e,0,0,n,i),r}(d,t);return o.getImagePromises(j,T,a),Promise.props(j).then(function(e){return{width:T.width,height:T.height,images:e}});case 2:var P=(0,c.boundHeightWidth)(h,f,t),N=d.width=P.width,I=d.height=P.height;return m(d),g(b,{x:N/2,y:I/2,degrees:90*s}),b.drawImage(i,0,0,N,I),g(b,{x:N/2,y:I/2,degrees:-90*s}),o.getImagePromises(j,d,a),Promise.props(j).then(function(e){return{width:d.width,height:d.height,images:e}})}}).finally(function(){n&&window.URL.revokeObjectURL(n)})},canvasToBlob:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e.toBlob?new Promise(function(t){e.toBlob(t,"image/jpeg")}):Promise.resolve(window.dataURLtoBlob(e.toDataURL("image/jpeg")))},urlToFile:function(e){var t=this;return h.loadImage(e).then(function(e){var a=document.createElement("canvas");a.width=e.naturalWidth,a.height=e.naturalHeight;var n=a.getContext("2d");return m(a),n.drawImage(e,0,0),t.canvasToBlob(a)}).catch(function(){return Promise.reject(new o.MediaDragDropError("unable to render image",e))})},isCached(e){if(!e)return!1;var t=new Image;return t.src=e,!!t.complete},loadImage:h.loadImage};e.exports=v},dgjddffcfg:function(e,t,a){"use strict";var n=a("cfjecfhbfg"),i=n(a("bhabhhjdch")),r=n(a("jcfacighg")),o=n(a("daffbcegjj")),s=n(a("cfadcbbiie")),d=n(a("baagejbchg")),c=n(a("bjigbaghc")),l=n(a("dhigahgdjb")),u=n(a("bjgiedaj")),f=a("facgccaif"),h=n(a("daabecicc")),p=a("cdaacjiegb"),g=a("dbcfhhdejc"),m=n(a("bjbdcigbdi")),b=a("jegbhjbde"),v=a("gaifbabbj"),j=n(a("fffdgbfji")),E=n(a("bdiiahhjbe")),y=a("bjhjaiccai"),_=n(a("dagdiahdfi")),S=a("cdejbeiiha"),C=n(a("bcjcbbafcj")),A=a("chhhffajfi"),M=n(a("jccfhaecf")),T=n(a("djbfhebjhe"));function P(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}var N=v.Configuration.ComposeBox(),I=v.Configuration.Format({mentions:{}}),k=d.default.MSG_TYPE,O=d.default.TEMPLATE_SUBTYPE;function R(e){return e.verifiedLevel===d.default.VERIFIED_LEVEL.HIGH?e.verifiedName:e.formattedName}function w(e){var t,a,n="";switch(e.subtype){case"identity":(t=l.default.get(e.body))&&t.isMe?n=j.default.t(1395):(a=t?t.formattedName:(0,T.default)(e.body),n=j.default.t(1392,{name:a}));break;case"device":a=(t=l.default.get(e.body))&&t.isMe?"you":t?t.formattedName:(0,T.default)(e.from);var i="",r="";e.devicesAdded&&(i=j.default.t(1184,{contactName:a,devicesAdded:e.devicesAdded||0,_plural:e.devicesAdded||0})),e.devicesRemoved&&(r=j.default.t(1389,{contactName:a,devicesRemoved:e.devicesRemoved||0,_plural:e.devicesRemoved||0})),n="".concat(i," ").concat(r);break;case"encrypt":var o=e.id.remote;if(M.default.isGroup(o))n=j.default.t(1262);else if(M.default.isBroadcast(o))n=j.default.t(1188);else if(M.default.isOfficialBizAccount(o))n=j.default.t(1330);else if((t=l.default.get(o))&&t.isEnterprise){var s=R(t);n=j.default.t(1205,{businessName:s})}else n=j.default.t(1204)}return n}function D(e,t){var a="";switch(e.subtype){case"miss":a=t?j.default.t(1320,{time:s.default.timestampStr(e.t),_plural:s.default.timestampHour(e.t)}):j.default.t(1319);break;case"miss_video":a=t?j.default.t(1318,{time:s.default.timestampStr(e.t),_plural:s.default.timestampHour(e.t)}):j.default.t(1317);break;case"miss_group":a=t?j.default.t(1316,{time:s.default.timestampStr(e.t),_plural:s.default.timestampHour(e.t)}):j.default.t(1315);break;case"miss_group_video":a=t?j.default.t(1314,{time:s.default.timestampStr(e.t),_plural:s.default.timestampHour(e.t)}):j.default.t(1313)}return a}function L(e){var t=e.subtype,a=e.body,n=e.recipients;if("create"===t){var i=parseInt(a,10);return j.default.t(1460,{_plural:i,count:i})}if("add"===t){var r=n.length;return j.default.t(1304,{_plural:r,name:(0,b.getFormattedNames)(n,!0)})}if("remove"===t){var o=n.length;return j.default.t(1305,{_plural:o,name:(0,b.getFormattedNames)(n,!0)})}return""}function U(e,t){var a,n,i="",r=e.get("type"),o=e.get("subtype"),s=e.displayName(),d=e.get("author"),u=e.get("body");if("group_notification"===r)switch(o){case"add":i=M.default.equals(d,c.default.me)?j.default.t(1271):j.default.t(1270,{name:s});break;case"remove":i=M.default.equals(d,c.default.me)?j.default.t(1283):j.default.t(1282,{name:s});break;case"leave":i=M.default.equals(d,c.default.me)?j.default.t(1279):j.default.t(1278,{name:s});break;case"picture":i="remove"===u?M.default.equals(d,c.default.me)?j.default.t(1384):j.default.t(1383,{name:s}):M.default.equals(d,c.default.me)?j.default.t(1382):j.default.t(1381,{name:s});break;case"subject":i=M.default.equals(d,c.default.me)?j.default.t(1295,{subject:u}):j.default.t(1294,{name:s,subject:u});break;case"modify":a=(0,T.default)(e.get("author")),n=(0,T.default)(u),i=a===s?j.default.t(1273,{name:s,new_number:n}):j.default.t(1272,{name:s});break;default:E.default.log("wa:formatGroupNotification:unknown message subtype: "+o)()}else if("gp2"===r){var f,h=e.recipients,p=h?(0,b.getFormattedNames)(h,!0):"",g=h?h[0]:void 0,m=g?l.default.get(g):void 0,v=m?m.get("formattedName"):g?(0,T.default)(g):"";switch(o){case"add":i=d?M.default.equals(d,c.default.me)?j.default.t(1288,{participants:p}):M.default.equals(g,c.default.me)?j.default.t(1285,{name:s}):j.default.t(1284,{name:s,participants:p}):M.default.equals(g,c.default.me)?j.default.t(1271):j.default.t(1270,{name:v});break;case"remove":i=!M.default.equals(g,c.default.me)||!M.default.equals(d,c.default.me)&&d?M.default.equals(g,c.default.me)&&d?j.default.t(1287,{name:s}):M.default.equals(d,c.default.me)?j.default.t(1289,{participants:p}):d?j.default.t(1286,{name:s,participants:p}):j.default.t(1282,{name:v}):j.default.t(1283);break;case"leave":i=M.default.equals(g,c.default.me)?j.default.t(1279):j.default.t(1278,{name:p});break;case"picture":i="remove"===u?M.default.equals(d,c.default.me)?j.default.t(1384):j.default.t(1383,{name:s}):M.default.equals(d,c.default.me)?j.default.t(1382):j.default.t(1381,{name:s});break;case"subject":i=M.default.equals(d,c.default.me)?j.default.t(1295,{subject:u}):j.default.t(1294,{name:s,subject:u});break;case"modify":a=(0,T.default)(d),n=(0,T.default)(g),i=a===s?j.default.t(1273,{name:s,new_number:n}):j.default.t(1272,{name:s});break;case"create":i=M.default.equals(d,c.default.me)?u?j.default.t(1250,{subject:u}):j.default.t(1251):u?j.default.t(1248,{name:s,subject:u}):j.default.t(1249,{name:s});break;case"delete":i=M.default.equals(d,c.default.me)?j.default.t(1260):j.default.t(1259,{name:s});break;case"promote":i=1===(f=h.length)&&M.default.equals(g,c.default.me)?j.default.t(1281):j.default.t(1280,{participants:p,_plural:f});break;case"demote":i=1===(f=h.length)&&M.default.equals(g,c.default.me)?j.default.t(1275):j.default.t(1274,{participants:p,_plural:f});break;case"invite":i=M.default.equals(g,c.default.me)?j.default.t(1277):j.default.t(1276,{name:v});break;case"revoke_invite":i=M.default.equals(d,c.default.me)?j.default.t(1265):j.default.t(1264,{name:s});break;case"description":var y=t?j.default.t(1254,{name:s}):j.default.t(1253,{name:s});i=M.default.equals(d,c.default.me)?j.default.t(1255):y;break;case"announce":i="on"===u?M.default.equals(d,c.default.me)?j.default.t(1247):j.default.t(1246,{name:s}):M.default.equals(d,c.default.me)?j.default.t(1245):j.default.t(1244,{name:s});break;case"restrict":i="on"===u?M.default.equals(d,c.default.me)?j.default.t(1293):j.default.t(1292,{name:s}):M.default.equals(d,c.default.me)?j.default.t(1291):j.default.t(1290,{name:s});break;case"no_frequently_forwarded":i="on"===u?M.default.equals(d,c.default.me)?j.default.t(1269):j.default.t(1268,{name:s}):M.default.equals(d,c.default.me)?j.default.t(1267):j.default.t(1266,{name:s});break;case"announce_msg_bounce":i=j.default.t(1243);break;case"v4_add_invite_sent":i=j.default.t(1128,{participants:p,_plural:h.length});break;case"v4_add_invite_join":i=j.default.t(1127,{participants:p,_plural:h.length});break;default:E.default.log("wa:formatGroupNotification:unknown message subtype: "+o)()}}return j.default.isRTL()&&(i=j.default.forceRTL(i)),i}function G(e){var t=e.subtype,a=e.templateParams,n=e.id;switch(t){case"non_verified_transition":return j.default.t(1328);case"unverified_transition":return j.default.t(1434);case"verified_transition":return j.default.t(1440);case"verified_low_unknown":return j.default.t(1438);case"verified_high":return j.default.t(1436);case"verified_initial_unknown":return j.default.t(1407);case"verified_initial_low":return j.default.t(1405,{businessName:a[0]});case"verified_initial_high":return j.default.t(1403,{businessName:a[0]});case"verified_transition_any_to_none":return j.default.t(1411);case"verified_transition_any_to_high":return j.default.t(1409,{businessName:a[0]});case"verified_transition_high_to_low":return j.default.t(1413,{businessName:a[0]});case"verified_transition_high_to_unknown":return j.default.t(1415,{businessName:a[0]});case"verified_transition_unknown_to_low":return j.default.t(1423,{businessName:a[0]});case"verified_transition_low_to_unknown":return j.default.t(1417,{businessName:a[0]});case"verified_transition_none_to_low":return j.default.t(1419);case"verified_transition_none_to_unknown":return j.default.t(1421);case"change_number":var i=a[0],r=l.default.get(i),o=r&&r.isMyContact?r.formattedName:(0,T.default)(i);return M.default.equals(e.chat.id,i)?j.default.t(279,{name:o}):j.default.t(278,{name:o});case"change_ephemeral_setting":var d=parseInt(a[0],10)||0,f=a[1];if(M.default.equals(f,c.default.me))return M.default.isGroup(n.remote)?s.default.ephemeralSettingChangeByYouInGroupStr(d):s.default.ephemeralSettingChangeByYouInChatStr(d);var h="Someone";if(f){var p=l.default.get(f);h=p&&p.isMyContact?p.formattedName:(0,T.default)(f)}return M.default.isGroup(n.remote)?s.default.ephemeralSettingChangeByOthersInGroupStr(d,h):s.default.ephemeralSettingChangeByOthersInChatStr(d,h);case"payment_transaction_status_update_failed":return j.default.t(1369,{receiverName:B(a[0]),relativeTime:s.default.paymentTimestampStr(e.t)});case"payment_transaction_request_cancelled":var g=B(a[0]),m=a[1],b=parseInt(a[2],10),v={contactName:g,currencyAndAmount:u.default.format(m,b),_plural:b/1e3};return e.id.fromMe?j.default.t(1336,v):j.default.t(1335,v);case"payment_transaction_status_update_refunded":return j.default.t(1371,{receiverName:B(a[0]),relativeTime:s.default.paymentTimestampStr(e.t)});case"payment_transaction_status_update_refund_failed":return j.default.t(1370,{receiverName:B(a[0]),relativeTime:s.default.paymentTimestampStr(e.t)});case"payment_transaction_status_receiver_pending_setup":var E=B(a[0]),y=a[1],_=parseInt(a[2],10),S={senderName:E,currencyAndAmount:u.default.format(y,_),_plural:_/1e3};return j.default.t(1366,S);case"payment_transaction_status_receiver_success_after_hiccup":return j.default.t(1367,{senderName:B(a[0]),relativeTime:s.default.paymentTimestampStr(e.t)});case"payment_action_account_setup_reminder":return j.default.t(1334,{senderName:B(a[0])});case"payment_action_send_payment_reminder":return j.default.t(1343,{receiverName:B(a[0])});case"payment_action_send_payment_invitation":return j.default.t(1342,{receiverName:B(a[0])});case"payment_action_request_declined":var A=B(a[0]),P=a[1],N=parseInt(a[2],10),I={contactName:A,currencyAndAmount:u.default.format(P,N),_plural:N/1e3};return e.id.fromMe?j.default.t(1339,I):j.default.t(1337,I);case"payment_action_request_expired":var k=a[0],O=B(k),R=B(a[1]),w=a[2],D=parseInt(a[3],10),L=u.default.format(w,D);return M.default.equals(k,c.default.me)?j.default.t(1341,{receiverName:R,currencyAndAmount:L,_plural:D/1e3}):j.default.t(1340,{senderName:O,currencyAndAmount:L,_plural:D/1e3});case"biz_verified_transition_top_to_bottom":return j.default.t(213,{businessName:a[0]});case"biz_verified_transition_bottom_to_top":return j.default.t(211,{businessName:a[0]});case"biz_intro_top":var U=e.id.remote;return M.default.isOfficialBizAccount(U)?j.default.t(886):j.default.t(199,{businessName:a[0]});case"biz_intro_bottom":return j.default.t(197);case"biz_name_change":return j.default.t(204,{businessName:a[0]});case"biz_move_to_consumer_app":return j.default.t(202);case"biz_two_tier_migration_top":return j.default.t(208,{businessName:a[0]});case"biz_two_tier_migration_bottom":return j.default.t(206);default:return C.default.isElectron?j.default.t(1112):j.default.t(1115)}}function x(e,t){var a=t||"",n=e.mentionMap();if(!n)return function(e){return m.default.supportsFeature(m.default.F.RICH_TEXT)?(0,h.default)(e,I,S.UnformatSerializer):e}(a);var i=m.default.supportsFeature(m.default.F.RICH_TEXT)?v.Configuration.FormattedNotification({mentions:n}):v.Configuration.RawNotification({mentions:n});return(0,h.default)(a,i,S.UnformatSerializer)}var F=/^[0-9+()\- ]+$/;function B(e){var t=l.default.get(e);return t?t.formattedName:(0,T.default)(e)}function V(e){return e.match(/\s\s+/g)?e.replace(/\s\s+/g,function(e){return"".repeat(e?e.length:0)}):e}e.exports={formatBroadcastNotification:L,formatGroupNotification:U,formatEnterpriseE2EName:R,formatE2ENotification:w,formatCallLog:D,formatForwardError:function(e){var t=e.chat,a=e.undelivered,n=e.canForward,r=e.cannotForward,o=n.length-a.length,s=r.length+a.length,d=t.isUser?{contact:t.formattedTitle}:{};return o>0?a.length?r.length?j.default.t(264,function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?P(Object(a),!0).forEach(function(t){(0,i.default)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):P(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({count:s,_plural:s},d)):j.default.t(263,{count:s,_plural:s}):j.default.t(259,{count:s,_plural:s,contact:t.formattedTitle}):a.length?r.length?j.default.t(265,d):j.default.t(268):j.default.t(260,d)},formatNotificationTemplateText:G,formatNotificationTemplateOnClickText:function(e){var t=e.id,a=e.subtype,n=e.templateParams,i=e.displayName();switch(a){case"non_verified_transition":return j.default.t(1327,{businessName:n[0]});case"unverified_transition":return j.default.t(1433,{businessName:n[0]});case"verified_transition":return j.default.t(1439,{businessName:n[0]});case"verified_low_unknown":return j.default.t(1437,{businessName:n[0]});case"verified_high":return j.default.t(1435,{businessName:n[0]});case"verified_initial_unknown":return j.default.t(1408,{businessName:i});case"verified_initial_low":return j.default.t(1406);case"verified_initial_high":return j.default.t(1404);case"verified_transition_any_to_none":return j.default.t(1412);case"verified_transition_any_to_high":return j.default.t(1410);case"verified_transition_high_to_low":return j.default.t(1414,{businessName:n[0]});case"verified_transition_high_to_unknown":return j.default.t(1416,{businessName:n[0]});case"verified_transition_unknown_to_low":return j.default.t(1424);case"verified_transition_low_to_unknown":return j.default.t(1418,{businessName:n[0]});case"verified_transition_none_to_low":return j.default.t(1420,{businessName:n[0]});case"verified_transition_none_to_unknown":return j.default.t(1422,{businessName:i});case"biz_verified_transition_top_to_bottom":return j.default.t(214,{businessName:n[0]});case"biz_verified_transition_bottom_to_top":return j.default.t(212,{businessName:n[0]});case"biz_intro_top":var r=t.remote,o=l.default.get(r),s=n[0],d=o&&o.name||s,c=M.default.isOfficialBizAccount(r);return d===s?c?j.default.t(887):j.default.t(200,{businessName:s}):c?j.default.t(888):j.default.t(201,{businessName:s});case"biz_intro_bottom":return j.default.t(198,{businessName:B(t.remote)});case"biz_name_change":return j.default.t(205,{businessName:n[0]});case"biz_move_to_consumer_app":return j.default.t(203);case"biz_two_tier_migration_top":var u=t.remote,f=l.default.get(u),h=n[0];return(f&&f.name||h)===h?j.default.t(209,{businessName:h}):j.default.t(210,{businessName:h});case"biz_two_tier_migration_bottom":return j.default.t(207,{businessName:B(t.remote)});default:return""}},notificationTemplateFAQ:function(e){switch(e){case"non_verified_transition":return(0,f.getNonVerifiedTransitionFaqUrl)();case"unverified_transition":return(0,f.getUnverifiedTransitionFaqUrl)();case"verified_transition":return(0,f.getVerifiedTransitionFaqUrl)();case"verified_low_unknown":return(0,f.getVerifiedLowUnknownFaqUrl)();case"verified_high":return(0,f.getVerifiedHighFaqUrl)();case"biz_intro_top":case"biz_name_change":case"biz_verified_transition_top_to_bottom":case"verified_initial_unknown":case"verified_initial_low":case"verified_initial_high":case"verified_transition_any_to_none":case"verified_transition_any_to_high":case"verified_transition_high_to_low":case"verified_transition_high_to_unknown":case"verified_transition_unknown_to_low":case"verified_transition_low_to_unknown":case"verified_transition_none_to_low":case"verified_transition_none_to_unknown":return(0,f.getBusinessFaqUrl)();default:return(0,f.getFaqUrl)()}},asDesktopNotification:function(e){var t,a,n,i="",r=e.dir,d=_.default.getGlobalPreviews();switch(!c.default.me.equals(e.from)&&e.isGroupMsg&&(i=e.displayName()),e.type){case k.CHAT:if(d)t=x(e,e.body);else if(e.isGroupMsg)t=i?j.default.t(612,{author:i}):j.default.t(611),i="";else{var f=e.chat;t=j.default.t(613,{unreadCount:j.default.n(f.unreadCount),_plural:f.unreadCount})}break;case k.IMAGE:t=(a=C.default.hasEmoji?" ":"")+(d&&x(e,e.caption)||j.default.t(1222));break;case k.PRODUCT:t=(a=C.default.hasEmoji?" ":"")+(e.text&&x(e,e.text)||j.default.t(1225));break;case k.STICKER:t=(a=C.default.hasEmoji?" ":"")+j.default.t(1226);break;case k.VIDEO:e.isGif?(a=C.default.hasEmoji?" ":"",n=d&&x(e,e.caption)||"GIF"):(a=C.default.hasEmoji?" ":"",n=d&&x(e,e.caption)||j.default.t(1227),n="".concat(n," (").concat(s.default.durationStr(e.duration),")")),t="".concat(a," ").concat(n);break;case k.PTT:a=C.default.hasEmoji?" ":"",t="".concat(a," ").concat(j.default.t(1228)," (").concat(s.default.durationStr(e.duration),")");break;case k.AUDIO:a=C.default.hasEmoji?" ":"",t="".concat(a," ").concat(j.default.t(1218)," (").concat(s.default.durationStr(e.duration),")");break;case k.LOCATION:a=C.default.hasEmoji?" ":"",n=e.isLive?d&&x(e,e.comment)||j.default.t(1223):d&&e.loc||j.default.t(1224),t="".concat(a," ").concat(n);break;case k.GROUPS_V4_INVITE:t=j.default.t(304);break;case k.GROUP_NOTIFICATION:case k.GP2:t=U(e,!0),i="";break;case k.BROADCAST_NOTIFICATION:t=L(e);break;case k.NOTIFICATION:t=e.body;break;case k.VCARD:t=(a=C.default.hasEmoji?" ":"")+(e.subtype||j.default.t(1219));break;case k.MULTI_VCARD:t=(a=C.default.hasEmoji?" ":"")+(0,y.getNameString)(e.vcardList);break;case k.DOCUMENT:t=(a=C.default.hasEmoji?" ":"")+(e.subtype||j.default.t(1221));break;case k.E2E_NOTIFICATION:t=w(e);break;case k.CALL_LOG:t=D(e,!1);break;case k.CIPHERTEXT:t=j.default.t(915);break;case k.REVOKED:t=e.isSentByMe?j.default.t(1001):j.default.t(999);break;case k.PAYMENT:t=function(e){if(!e.paymentCurrency||!e.paymentAmount1000)return j.default.t(1345);if("send"!==e.subtype&&"request"!==e.subtype)return j.default.t(306);var t=u.default.format(e.paymentCurrency,e.paymentAmount1000),a=B(e.sender),n=B(e.paymentMessageReceiverJid),i=l.default.get(e.paymentMessageReceiverJid),r={senderName:a,receiverName:n,amount:t,_plural:e.paymentAmount1000/1e3};return"send"===e.subtype?e.isGroupMsg?i&&i.isMe?j.default.t(1353,r):j.default.t(1354,r):j.default.t(1352,r):e.isGroupMsg?i&&i.isMe?j.default.t(1350,r):j.default.t(1351,r):j.default.t(1349,r)}(e);break;case k.OVERSIZED:t=(0,p.formatOversizedMsgNotification)(e);break;case k.UNKNOWN:t=(0,g.formatUnknownMsgNotification)(e);break;default:return E.default.error("asDesktopNotification: Unrecognized type ".concat(e.type))(),""}var h=j.default.isRTL()?"rtl":"ltr",m="";if(m=s.default.relativeStr(e.t),i){var b=o.default.dir(i);return"ltr"!==h||r&&"ltr"!==r||b&&"ltr"!==b?"ltr"!==h||r&&"ltr"!==r?"ltr"!==h||b&&"ltr"!==b?"ltr"===h?(m&&(m="- ".concat(m,"")),"".concat(i,": ").concat(t,"").concat(m)):r&&"rtl"!==r||b&&"rtl"!==b?r&&"rtl"!==r?b&&"rtl"!==b?(m&&(m="- ".concat(m,"")),"".concat(i,": ").concat(t,"").concat(m)):(m&&(m=" - ".concat(m)),"".concat(i,": ").concat(t,"")):(m&&(m=" - ".concat(m)),"".concat(i,": ").concat(t,"")):(m&&(m=" - ".concat(m)),"".concat(i,": ").concat(t,"")):(m&&(m=" - ".concat(m)),"".concat(i,": ").concat(t,"")):(m&&(m=" - ".concat(m)),"".concat(i,": ").concat(t,"")):(m&&(m=" - ".concat(m)),"".concat(i,": ").concat(t,""))}return m?"ltr"===h?"".concat(t," - ").concat(m,""):"".concat(t," - ").concat(m,""):t},asSingleLineText:function(e){return V((0,A.substring)(e||"",0,d.default.INITIAL_PAGE_SIZE).replace(/[\n\r]+/gi," "))},msgText:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];switch(e.type){case k.TEMPLATE_BUTTON_REPLY:return e.hsmEnabled?t?x(e,e.body):e.body:j.default.t(1092);case k.TEMPLATE:if(e.hsmEnabled){if(e.subtype===O.IMAGE)return e.caption?t?x(e,e.caption):e.caption:j.default.t(1222);if(e.subtype===O.VIDEO)return e.caption?t?x(e,e.caption):e.caption:j.default.t(1227);if(e.subtype===O.LOCATION)return e.caption?t?x(e,e.caption):e.caption:e.loc||j.default.t(1224);if(e.subtype===O.DOCUMENT){var n=e.pageCount>0?j.default.t(1220,{count:e.pageCount+"",_plural:e.pageCount}):null;return e.caption?t?x(e,e.caption):e.caption:(0,r.default)([e.caption||j.default.t(1221),n]).join("  ")}if(e.subtype===O.TEXT)return e.title?t?x(e,e.title+" "+e.body):"*"+e.title+"* "+e.body:t?x(e,e.body):e.body}return j.default.t(1092);case k.HSM:return t?x(e,e.body):e.body;case k.CIPHERTEXT:return j.default.t(915);case k.REVOKED:return e.isSentByMe?j.default.t(1001):j.default.t(999);case k.CHAT:return t?x(e,e.body):e.body;case k.IMAGE:return e.caption?t?x(e,e.caption):e.caption:j.default.t(1222);case k.STICKER:return j.default.t(1226);case k.VIDEO:return e.caption?t?x(e,e.caption):e.caption:e.isGif?"GIF":j.default.t(1227);case k.PTT:var i=s.default.durationStr(e.duration);return i||j.default.t(1228);case k.AUDIO:return j.default.t(1218);case k.LOCATION:return e.isLive?e.comment||j.default.t(1223):e.loc||j.default.t(1224);case k.GROUP_NOTIFICATION:case k.GP2:return U(e,a);case k.BROADCAST_NOTIFICATION:return L(e);case k.NOTIFICATION:return e.body;case k.VCARD:return e.subtype||j.default.t(1219);case k.GROUPS_V4_INVITE:return m.default.supportsFeature(m.default.F.GROUPS_V_4_JOIN_PERMISSION)?j.default.t(578):j.default.t(304);case k.MULTI_VCARD:return(0,y.getNameString)(e.vcardList);case k.DOCUMENT:var o=e.pageCount>0?j.default.t(1220,{count:e.pageCount+"",_plural:e.pageCount}):null;return(0,r.default)([e.mediaData.filename||j.default.t(1221),o]).join("  ");case k.E2E_NOTIFICATION:return w(e);case k.CALL_LOG:return D(e,!1);case k.PRODUCT:return e.text?t?x(e,e.text):e.text:j.default.t(1225);case k.OVERSIZED:return(0,p.formatOversizedMsgText)(e);case k.UNKNOWN:return(0,g.formatUnknownMsgText)(e);case k.PAYMENT:return function(e){switch(e.subtype){case"ciphertext":return j.default.t(1344);case"futureproof":return j.default.t(1346);case"send":var t=e.paymentNoteMsg&&e.paymentNoteMsg.body?" - "+e.paymentNoteMsg.body:"";return(e.paymentCurrency&&e.paymentAmount1000?u.default.format(e.paymentCurrency,e.paymentAmount1000):j.default.t(905))+t;case"request":var a=e.paymentNoteMsg&&e.paymentNoteMsg.body?" - "+e.paymentNoteMsg.body:"";return(e.paymentCurrency&&e.paymentAmount1000?u.default.format(e.paymentCurrency,e.paymentAmount1000):j.default.t(905))+a;default:return j.default.t(306)}}(e);case k.NOTIFICATION_TEMPLATE:return G(e);default:return""}},emojify:function(e){return m.default.supportsFeature(m.default.F.RICH_TEXT)?(0,h.default)(e,N,S.TextSerializer):e},numberSearch:function(e){return F.test(e)?e.replace(/[^0-9]/g,""):null},EMOJIFY_CONFIG:N,replaceMultipleSpaces:V}},dgjdeicghc:function(e,t){e.exports={container:"_2-yrI",btnActive:"_3PmhT",btnAction:"_1AWh3",controlsSummary:"_22oFl",adminSetting:"_3rjFB",summaryText:"_2GEk_",item:"_2N-Up"}},dgjifchfde:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.initAsNeeded=function(){},t.shutdownAsNeeded=function(){v.forEach(function(e,t){_(v,t)}),j.forEach(function(e,t){_(j,t)})},t.showCallNotification=function(e,t,a){if(!e||!t||h.default.globalMute().isMuted)return;if(window.Notification&&window.Notification.permission===r.default.PERMISSION_ALLOWED&&h.default.getGlobalNotifications()){var n=s.default.get(e),i=n?n.formattedName:(0,b.default)(e),o=a?u.default.t(626,{name:i}):u.default.t(627,{name:i}),d=u.default.t(625);E(j,e,t,o,d,r.default.USER_DEFAULT_ICON)}h.default.getGlobalSounds()&&(j.get(e.toString())||Promise.resolve()).then(p.playNotification).catch(function(){})},t.showMsgNotification=function(e,t){var a=e.chat;if(document.hasFocus()&&a.active)return;if(h.default.globalMute().isMuted)return;if(t&&t(e))return;if(function(e){var t=e.chat;if(!t.mute.isMuted)return!1;if(!t.isGroup)return!0;if(e.isMentioned(o.default.me)||e.isQuoted(o.default.me)){var a=i.default.get(e.sender);return!(!a||!a.mute.isMuted)}return!0}(e))return;if(function(e){if(!e.isGroup)return!1;if(e.isGroup&&e.isReadOnly)return!1;var t=Date.now(),a=e.squelch||0;if(t>a)return l.default.find(e.id).then(function(t){var a=l.default.get(e.id);if(a){var n=a.participants.length,i=1e3*Math.min(120,30+5*n);e.squelch=Date.now()+i}}).catch(d.WapDrop,function(){e.squelch=Date.now()+6e4}),!1;return!0}(e.chat))return;if(window.Notification&&window.Notification.permission===r.default.PERMISSION_ALLOWED&&h.default.getGlobalNotifications()){var n=c.default.asDesktopNotification(e);n&&n.charCodeAt(0)>=128&&(n=" "+n);var s=a.isGroup?r.default.GROUP_DEFAULT_ICON:r.default.USER_DEFAULT_ICON,f=a.isGroup?u.default.t(368):u.default.t(367),g=a.contact.formattedName||f;E(v,a.id,e.id.toString(),g,n,s,a.canSend)}h.default.getGlobalSounds()&&(a.id&&v.get(a.id.toString())||Promise.resolve()).then(p.playNotification).catch(function(){})},t.cancelCallNotification=function(e){e&&_(j,e.toString())},t.closeNotifications=function(e){if(!e||!e.id)return;_(v,e.id.toString()),_(j,e.id.toString())};var i=n(a("dbdfbgehgj")),r=n(a("baagejbchg")),o=n(a("bjigbaghc")),s=n(a("dhigahgdjb")),d=a("ddjgcfjicj"),c=n(a("dgjddffcfg")),l=n(a("djaadchjch")),u=n(a("fffdgbfji")),f=n(a("bdiiahhjbe")),h=n(a("dagdiahdfi")),p=a("ihfbgdebe"),g=n(a("dhfjegifba")),m=n(a("dhefcajhhb")),b=n(a("djbfhebjhe")),v=new Map,j=new Map;function E(e,t,a,n,i,o,s){var c=m.default.find(t).cancellable().timeout(1500,"showNotificationTimeout").then(function(e){var t=e&&e.img?e.img:o;return(0,p.cachePath)(t)}).catch(d.WapDrop,Promise.TimeoutError,function(e){return f.default.log("NotificationBackend:IconLoadTimeoutError:".concat(t.toString()))(e),(0,p.cachePath)(o)}).then(function(o){if(window.Notification.permission!==r.default.PERMISSION_ALLOWED)return Promise.reject(new Promise.CancellationError("Permission Denied"));var d=new g.default(t,a,n,i,o,s);return d.waitForClose().then(function(){y(e,t,d)}),d});return c.catch(Promise.CancellationError,function(a){y(e,t)}),e.get(t.toString())&&function(e,t){var a=e.get(t.toString());if(a){if(a.isFulfilled()){var n=a.value();n.close()}else a.cancel();e.delete(t.toString())}}(e,t),e.set(t.toString(),c),c}function y(e,t,a){var n=e.get(t.toString());if(n){if(a){if(n.isFulfilled()&&a!==n.value())return;if(n.isPending())return}e.delete(t.toString())}}function _(e,t){var a=e.get(t);if(a){if(a.isFulfilled())a.value().close();else a.cancel();e.delete(t)}}},dgjijbgdai:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return l.default.log("extendedFetch:",e)(),f(e,t).catch(function(e){if("AbortError"===e.name)throw new r.default;if(e instanceof s.HttpNetworkError)throw e;throw new s.HttpNetworkError(e.message)})},t.sharedFetch=f;var i=n(a("bhfcfhafdj")),r=n(a("cgijjjgici")),o=n(a("bcjafgaahj")),s=a("fdghiidhc"),d=n(a("dcgheafecg")),c=n(a("dbhgiicheg")),l=n(a("bdiiahhjbe")),u=n(a("ciehajbjae"));function f(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise(function(a,n){if(t.signal&&t.signal.aborted)n(new o.default("AbortError"));else{var r=new XMLHttpRequest;if(t.signal){var l=t.signal;l.addEventListener("abort",function e(){l.removeEventListener("abort",e),r.onreadystatechange=function(){},r.abort(),n(new o.default("AbortError"))})}var f=new c.default(t.headers||{});(0,d.default)(f.keys(),function(e){var t=f.get(e);null!=t&&r.setRequestHeader(e,t)}),null!=t.onProgress&&(r.onprogress=t.onProgress),r.onreadystatechange=function(){if(0!==r.readyState){if(4===r.readyState){if(null==r.status)return void n(new Error("fetch error: no status"));if(0===r.status||r.status>=12e3)return void n(new Error("fetch error: unexpected status ".concat(r.status)));a(h())}}else n(new Error("fetch error: not sent"))},r.onerror=function(){return n(new Error("fetch error: error"))},r.ontimeout=function(){n(new s.HttpTimedOutError("fetch error: timedout",{url:e.toString()}))},r.withCredentials="include"===t.credentials,null!=t.timeout&&(r.timeout=t.timeout),r.open(t.method||"get",e.toString(),!0),r.responseType="arraybuffer",r.send(t.body||null)}function h(){var e=new c.default((0,u.default)(r.getAllResponseHeaders()));return{ok:200<=r.status&&r.status<300,statusText:r.statusText,status:r.status,url:r.responseURL,text:function(){return p()},json:function(){return p().then(function(e){return JSON.parse(e)})},arrayBuffer:function(){return r.response},blob:function(){return Promise.resolve(new Blob([r.response],{type:e.get("content-type")||""}))},clone:h,headers:e}}function p(){return Promise.resolve(String.fromCharCode.apply(String,(0,i.default)(new Uint8Array(r.response))))}})}},dhabbfcefj:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.PiPManager=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=n(a("ddhijeejag")),u=i(a("bbchdeehff")),f=a("cgecdbiihg"),h=i(a("ibebafhjb")),p=i(a("bicbefgjgg")),g=i(a("dagibffcjf")),m=i(a("fffdgbfji")),b=i(a("eceadcicaf")),v=i(a("bfbggcdbfb")),j=i(a("biecbbiiee")),E=i(a("ichhibhgh")),y=i(a("bfjeggfcij")),_=n(a("bfjajhbdf")),S=i(a("didfdhbecg")),C=i(a("igaagcbbj")),A=function(e){function t(e){var a;return(0,r.default)(this,t),(a=(0,s.default)(this,(0,d.default)(t).call(this,e))).onMediaViewerModal=function(e){var t=e.msg;a.state.msg&&a.state.msg.id.equals(t.id)&&a.closePiP()},a.closePiPFromMsg=function(e){a.state.msg&&a.state.msg.id.equals(e.id)?a.closePiP():a.state.youtubeVideoInfo&&a.state.youtubeVideoInfo.videoMsg.id.equals(e.id)?a.closeYoutubePiP():a.state.ogVideoInfo&&a.state.ogVideoInfo.videoMsg.id.equals(e.id)&&a.closeOgVideoPiP()},a.openPiP=function(e,t,n){a.previousPiPDidClose(),E.default.didOpen(e),e.downloadMedia(!0,v.default.WEBC_RMR_REASON_CODE.PIP),a.setState({msg:e,youtubeVideoInfo:null,ogVideoInfo:null,startTime:t,zoomRect:n})},a.closePiP=function(){a.state.msg&&E.default.didClose(a.state.msg),a.setState({msg:null,youtubeVideoInfo:null,ogVideoInfo:null,startTime:null,zoomRect:null})},a.pausePiP=function(){},a.isOpened=function(e){return!(!a.state.msg||!e.id.equals(a.state.msg.id))||(!(!a.state.youtubeVideoInfo||!e.id.equals(a.state.youtubeVideoInfo.videoMsg.id))||!(!a.state.ogVideoInfo||!e.id.equals(a.state.ogVideoInfo.videoMsg.id)))},a.openYoutubePiP=function(e,t,n,i){a.previousPiPDidClose(),E.default.didOpen(t),a.setState({msg:null,youtubeVideoInfo:{videoId:e,videoMsg:t},ogVideoInfo:null,startTime:n,zoomRect:i})},a.closeYoutubePiP=function(){a.state.youtubeVideoInfo&&E.default.didClose(a.state.youtubeVideoInfo.videoMsg),a.setState({msg:null,youtubeVideoInfo:null,ogVideoInfo:null,startTime:null,zoomRect:null})},a.openOgVideoPiP=function(e,t,n,i,r){a.previousPiPDidClose(),E.default.didOpen(n);var o="data:image/jpeg;base64,".concat(t);a.setState({msg:null,youtubeVideoInfo:null,ogVideoInfo:{videoUrl:e,previewUrl:o,videoMsg:n},startTime:i,zoomRect:r})},a.closeOgVideoPiP=function(){a.state.ogVideoInfo&&E.default.didClose(a.state.ogVideoInfo.videoMsg),a.setState({msg:null,youtubeVideoInfo:null,ogVideoInfo:null,startTime:null,zoomRect:null})},a.previousPiPDidClose=function(){a.state.msg&&E.default.didClose(a.state.msg),a.state.youtubeVideoInfo&&E.default.didClose(a.state.youtubeVideoInfo.videoMsg),a.state.ogVideoInfo&&E.default.didClose(a.state.ogVideoInfo.videoMsg)},a.handleMsgVideoPiPError=function(){a.state.msg&&E.default.didError(a.state.msg)},a.handleOgVideoPiPError=function(){a.state.ogVideoInfo&&E.default.didError(a.state.ogVideoInfo.videoMsg)},a.state={msg:null,youtubeVideoInfo:null,ogVideoInfo:null,startTime:null,zoomRect:null},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){var e=this;E.default.register(this),this.props.listeners.add(u.default,"media_viewer_modal",this.onMediaViewerModal),this.props.listeners.add(j.default,"remove",function(t){e.closePiPFromMsg(t)}),this.props.listeners.add(j.default,"change:isRevoked",function(t){if(t.isRevoked){if(!t.isSentByMe){var a=e.state.msg&&e.state.msg.id.equals(t.id),n=e.state.youtubeVideoInfo&&e.state.youtubeVideoInfo.videoMsg.id.equals(t.id),i=e.state.ogVideoInfo&&e.state.ogVideoInfo.videoMsg.id.equals(t.id);(a||n||i)&&u.default.openToast(l.createElement(_.default,{id:(0,_.genId)(),msg:m.default.t(913)}))}e.closePiPFromMsg(t)}})}},{key:"componentWillUnmount",value:function(){E.default.unregister()}},{key:"renderVideoPlayer",value:function(){var e=this.state,t=e.msg,a=e.youtubeVideoInfo,n=e.ogVideoInfo;return t?l.createElement(h.default,{key:t.id.toString(),msg:t,mediaData:t.mediaData,animationStartStyle:this.getAnimationStartStyle(),startTime:this.state.startTime,onClose:this.closePiP,onError:this.handleOgVideoPiPError,onOpenMediaViewer:this.closePiP,onMissingMedia:this.closePiP,onUnsupportedMedia:this.closePiP,autoPlay:!0}):a?l.createElement(g.default,{key:a.videoId,aspectRatio:f.YOUTUBE_VIDEO_DEFAULT_ASPECT_RATIO,animationStartStyle:this.getAnimationStartStyle()},l.createElement(C.default,{key:a.videoId,youtubeVideoId:a.videoId,startTime:this.state.startTime,onClose:this.closeYoutubePiP,autoPlay:!0})):n?l.createElement(p.default,{key:n.videoMsg.id.toString(),ogVideoInfo:n,startTime:this.state.startTime,onClose:this.closeOgVideoPiP,onError:this.handleOgVideoPiPError,animationStartStyle:this.getAnimationStartStyle(),autoPlay:!0}):null}},{key:"getAnimationStartStyle",value:function(){return this.state.zoomRect?{height:this.state.zoomRect.bottom-this.state.zoomRect.top,width:this.state.zoomRect.right-this.state.zoomRect.left,left:this.state.zoomRect.left,bottom:window.innerHeight-this.state.zoomRect.bottom}:null}},{key:"render",value:function(){return l.createElement(S.default,{transitionName:"pip",className:y.default.playerWrapper,component:"div"},this.renderVideoPlayer())}}]),t}(l.Component);t.PiPManager=A;var M=(0,b.default)(A);t.default=M},dhacjhbgfj:function(e,t,a){"use strict";var n=a("cfjecfhbfg"),i=n(a("bhabhhjdch")),r=n(a("ddfeabiaci")),o=n(a("bdeabjehdj")),s=n(a("bjigbaghc")),d=n(a("bdiiahhjbe")),c=n(a("cffajefeag"));function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function u(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach(function(t){(0,i.default)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var f={version:"11",M:{DEBUG_LOG:1,QUERY_RESUME:2,QUERY_RECEIPT:3,QUERY_MEDIA:4,QUERY_CHAT:5,QUERY_CONTACTS:6,QUERY_MESSAGES:7,PRESENCE:8,PRESENCE_SUBSCRIBE:9,GROUP:10,READ:11,CHAT:12,RECEIVED:13,PIC:14,STATUS:15,MESSAGE:16,QUERY_ACTIONS:17,BLOCK:18,QUERY_GROUP:19,QUERY_PREVIEW:20,QUERY_EMOJI:21,QUERY_MESSAGE_INFO:22,SPAM:23,QUERY_SEARCH:24,QUERY_IDENTITY:25,QUERY_URL:26,PROFILE:27,CONTACT:28,QUERY_VCARD:29},msgFindQuery:function(e,t,a,n){var i=this,r=e;return new Promise(function(e,o){var s,l="";switch(r){case"after":t.id||(r="before");case"before":s={type:"message",kind:r,jid:t.remote,count:t.count.toString(),index:t.id,owner:void 0===t.fromMe?void 0:t.fromMe.toString(),participant:t.participant},l=[t instanceof c.default?t.toString():t.remote,t.count].join();break;case"search":s={type:"search",search:t.searchTerm,page:t.page.toString(),count:t.count.toString(),jid:t.remote,canceled:t.tagToCancel},t.label?s=u({},s,{label:t.label}):t.filter&&(s=u({},s,{filter:t.filter})),l=["search",t.page,t.count,t.jid,t.label].join();break;case"star":s={type:"star",media:"gif"===t.media?t.media:void 0,chat:t.chat,count:t.count.toString(),jid:t.remote,index:t.id,owner:void 0===t.fromMe?void 0:t.fromMe.toString(),participant:t.participant},l="starred";break;case"media":s={type:"media_message",media:"document"===t.media||"url"===t.media?t.media:void 0,count:t.count.toString(),kind:t.direction,jid:t.remote,index:t.id,owner:void 0===t.fromMe?void 0:t.fromMe.toString(),participant:t.participant},l="media"}var f=i.queryNode(s,void 0);i.binSend("sendEphemeral",f,o,{onSend:i.binWrap(function(a){i.BinaryProtocol.read(a).then(function(a){var n=[],o=i.N.children(a);if(d.default.logColor("green","bin-recv: response,msg",a)(),"response"===i.N.tag(a)&&("message"===i.N.attr("type",a)||"star"===i.N.attr("type",a)||"search"===i.N.attr("type",a)||"media_message"===i.N.attr("type",a)||"label"===i.N.attr("type",a))){if(Array.isArray(o)){var s,c=o.length;for(s=0;s<c;s++){var l=i.parseMsg(o[s],"response");if(l)switch(r){case"star":("gif"!==t.media||"video"===l.type&&l.isGif)&&n.push(l);break;case"media":"document"===t.media&&"document"===l.type?n.push(l):"url"===t.media&&"chat"===l.type?n.push(l):t.media||n.push(l);break;default:n.push(l)}}}"search"===i.N.attr("type",a)||"label"===i.N.attr("type",a)?n={eof:"true"===i.N.attr("last",a),messages:n}:"media"!==r||t.media||(n={docCount:parseInt(i.N.attr("document",a),10)||void 0,linkCount:parseInt(i.N.attr("url",a),10)||void 0,mediaCount:parseInt(i.N.attr("media",a),10)||void 0,messages:n})}e(n)}).catch(o)},e),onDrop:i.wrap(o),logOnSend:a,onTag:n,tagToCancel:t.tagToCancel},{debugString:"query,message,"+l,metricName:"search"===r?"QUERY_SEARCH":"QUERY_MESSAGES",ackRequest:!1})})},parseMsgCallLog:function(e){if("call_log"===this.N.tag(e)){var t,a=parseInt(this.N.attr("t",e),10)||0,n=this.N.attr("id",e),i=this.N.attr("jid",e),r="true"===this.N.attr("owner",e),o=this.N.attr("participant",e),l="video"===this.N.attr("kind",e),u=this.N.attr("type",e);switch(u){case"miss":l&&(u="miss_video")}try{t=new c.default({fromMe:r,remote:i,id:n,participant:o})}catch(e){return void d.default.error("drop: cannot create MsgKey: "+e.stack)()}var f={id:t,t:a,participant:o,type:"call_log",subtype:u,from:r?s.default.me:i,to:r?i:s.default.me},h=[!n,!a,!i,"miss"!==u&&"miss_video"!==u];return this.dropIfConditionMet(h,f)}},queryVCard:function(e){var t=this;return new Promise(function(a,n){var i=t.queryNode({type:"vcard",jid:e},void 0);t.binSend("sendEphemeral",i,n,{onSend:t.binWrap(function(e){t.BinaryProtocol.read(e).then(function(e){var n=[],i=t.N.children(e);if("response"===t.N.tag(e)&&"vcard"===t.N.attr("type",e)&&Array.isArray(i))for(var r=i.length,o=0;o<r;o++){var s=t.parseMsg(i[o],"response");!s||"vcard"!==s.type&&"multi_vcard"!==s.type||n.push(s)}a(n)}).catch(n)},a),onDrop:t.wrap(n)},{debugString:"query,vcard,".concat(e),metricName:"QUERY_VCARD",ackRequest:!1})})},parseContact:function(e){if("user"===this.N.tag(e)){var t=this.N.attr("jid",e),a=this.N.attr("name",e),n=this.N.attr("short",e)||void 0,i=this.N.attr("type",e)||"in",r={id:t,name:a,type:i,shortName:n},o=[!t,"in"!==i&&"out"!==i&&!!i];return this.dropIfConditionMet(o,r)}d.default.assert(!1,"wap-unexpected-tag","expected tag: user, received tag: ".concat(this.N.tag(e),", tag id: ").concat(this.N.attr("id",e)))()},parseContacts:function(e){if("contacts"===this.N.tag(e)){var t,a,n,i,r,o=this.N.attr("type",e),s=this.N.children(e);switch(o){case"frequent":if(Array.isArray(s)){a=s.length;for(var d=0;d<a;d++)switch(r=s[d],n=this.N.tag(r)){case"image":case"video":case"message":(i=this.N.attr("jid",r))&&(t||(t={type:"frequent"}),t[n]?t[n].push(i):t[n]=[i])}}}return t}}};e.exports=(0,r.default)(f,o.default)},dhadcigcaf:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.GLOBAL_MUTE=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("bjehdcaaj")),l=i(a("dbjagcfebh")),u=i(a("dgdjiicfdg")),f=n(a("ddhijeejag")),h=a("ccihhdchab"),p=i(a("djheacfeif")),g=n(a("dcaifjegcg")),m=i(a("bbchdeehff")),b=n(a("cajijabhgb")),v=i(a("bdiiahhjbe")),j=a("hjbbdjjdf"),E=i(a("bihdhbjih")),y=i(a("jccfhaecf"));t.GLOBAL_MUTE="global_mute";var _=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).id=(0,g.prop)(),a.expiration=(0,g.prop)(0),a._unmuteTimer=(0,g.session)(),a.promises=(0,g.session)(function(){return{}}),a.isMuted=(0,g.derived)(a._isMuted,["expiration"]),a}return(0,l.default)(t,e),(0,o.default)(t,[{key:"_isMuted",value:function(){return!!this.expiration}},{key:"initialize",value:function(){(0,c.default)((0,d.default)(t.prototype),"initialize",this).call(this),null!=this.expiration&&0!==this.expiration&&this.mute(this.expiration)}},{key:"setMute",value:function(e,t){(e||this.expiration)&&e!==this.expiration&&(e?this.mute(e,t):this.unmute(t))}},{key:"mute",value:function(e,t,a){var n=this,i=e;if(!(0,j.isNumber)(i))return v.default.log("models:Mute:mute called with invalid expiration "+i)(),Promise.reject(new b.ActionError);(i=Math.round(i))>2e9&&v.default.log("models:Mute:mute called with wrong units?"+this.id.toString()+" exp:"+i)();var r=function(){if(this.isMuted&&(p.default.clearTimeout(this._unmuteTimer),this.unset("_unmuteTimer")),-1===i)v.default.log("models:Mute:mute "+this.id.toString()+" muted, no expiration")();else{var e=i-(0,u.default)().unix();v.default.log("models:Mute:mute "+this.id.toString()+" duration:"+e)(),this._unmuteTimer=p.default.setGlobalTimeout(this.unmute.bind(this),1e3*i)}this.set({expiration:i})}.bind(this),o=y.default.isGroup(this.id);if(t){if(this.promises.mute)return this.promises.mute;var s=this.promises.mute=E.default.sendConversationMute(this.id,i,this.expiration),d=o?new h.ActionType(l10n.t(78)):new h.ActionType(l10n.t(33)),c=a||(0,h.genId)(),l=this.promises.mute.catch(function(e){v.default.error("models:Mute:mute dropped")(e);var a=o?l10n.t(76):l10n.t(31);throw new h.ActionType(a,l10n.t(155),n.mute.bind(n,i,t,c))}).then(function(e){if(200===e.status){var a=o?l10n.t(77):l10n.t(32);return new h.ActionType(a,l10n.t(159),n.unmute.bind(n,t,c))}if(e.status>=400)throw o?new h.ActionType(l10n.t(76)):new h.ActionType(l10n.t(31))});return m.default.openToast(f.createElement(h.ActionToast,{id:c,initialAction:d,pendingAction:l})),s.then(function(e){200!==e.status||e._duplicate||r()}).finally(function(){n.promises.mute=null})}return r(),Promise.resolve()}},{key:"canMute",value:function(){var e=!1;if(y.default.isGroup(this.id)){var t=a("djaadchjch").get(this.id);t&&(e=t.participants.iAmMember())}return e||y.default.isUser(this.id)}},{key:"_clearUnmuteTimer",value:function(){p.default.clearTimeout(this._unmuteTimer),this.unset("_unmuteTimer"),this.expiration=0}},{key:"unmute",value:function(e,t){var a=this,n=function(){v.default.log("models:Mute:unmute "+this.id.toString())(),this._clearUnmuteTimer()}.bind(this),i=y.default.isGroup(this.id);if(e){if(this.promises.unmute)return this.promises.unmute;var r=this.promises.unmute=E.default.sendConversationMute(this.id,!1,this.expiration),o=i?new h.ActionType(l10n.t(85)):new h.ActionType(l10n.t(44)),s=t||(0,h.genId)(),d=this.promises.unmute.catch(function(t){v.default.error("models:Mute:unmute dropped")(t);var n=i?l10n.t(83):l10n.t(42);return Promise.reject(new h.ActionType(n,l10n.t(155),a.unmute.bind(a,e,s)))}).then(function(e){if(200===e.status)return i?new h.ActionType(l10n.t(84)):new h.ActionType(l10n.t(43));if(e.status>=400)throw i?new h.ActionType(l10n.t(83)):new h.ActionType(l10n.t(42))});return m.default.openToast(f.createElement(h.ActionToast,{id:s,initialAction:o,pendingAction:d})),r.then(function(e){200!==e.status||e._duplicate||n()}).finally(function(){a.promises.unmute=null})}return n(),Promise.resolve()}},{key:"delete",value:function(){(0,c.default)((0,d.default)(t.prototype),"delete",this).call(this),this.getCollection().remove(this.id),this._clearUnmuteTimer()}},{key:"getCollection",value:function(){return a("dagdiahdfi").default}}]),t}(g.default);_.Proxy="mute",_.idClass=y.default,_.idWhitelist=["global_mute"];var S=(0,g.defineModel)(_);t.default=S},dhagjfdjei:function(e,t){e.exports={text:"_37OJc"}},dhajefgece:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.search=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:h,n={q:e,SafeSearch:"Strict",appid:c,mkt:f[l10n.getLocale()]||f.en,size:u.MEDIUM,aspect:l.SQUARE,count:a,offset:t},i=s.build(d,n);return r.default.get(i,r.default.RESP_TYPE.JSON).then(function(t){if(!t.response.hasOwnProperty("_type"))throw new o.InvalidServerResponseError(i,status,"Not a valid Bing response: ".concat(JSON.stringify(t.response)));if("ErrorResponse"===t.response._type){var a=t.response;throw new o.BingServerError(e,t.status,a)}if("Images"!==t.response._type)throw new o.InvalidServerResponseError(i,status,"Did not receive an image search response, "+"potentially malformed query ".concat(JSON.stringify(t.response)));return t.response})};var r=i(a("bjieiiccce")),o=n(a("cajijabhgb")),s=n(a("edbaidcaf")),d="https://www.bingapis.com/api/v6/images/search",c="D41D8CD98F00B204E9800998ECF8427E4F4A7492",l={SQUARE:"Square",WIDE:"Wide",TALL:"Tall",ALL:"All"},u={SMALL:"Small",MEDIUM:"Medium",LARGE:"Large",WALLPAPER:"Wallpaper",ALL:"All"},f={ar:"ar-SA",da:"da-DK",de:"de-DE",en:"en-US",es:"es-US",fi:"fi-FI",fr:"fr-FR",it:"it-IT",ko:"ko-KR",nl:"nl-NL",pl:"pl-PL","pt-BR":"pt-BR",ru:"ru-RU",sv:"sv-SE",tr:"tr-TR","zh-CN":"zh-CN","zh-TW":"zh-TW"},h=30},dhajfeafhd:function(e,t){e.exports={container:"rK2ei",noscroll:"USE1O",centerItem:"_32Dig",padding:"_23C8w"}},dhbceejbjg:function(e,t,a){"use strict";var n=a("cfjecfhbfg"),i=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("ddhijeejag")),o=n(a("ceffhbhahb")),s=n(a("effbcehec")),d=n(a("chbgjdggfh")),c=function(e){var t,a=(0,o.default)(e.className,d.default.chat,{[d.default.themeCheckbox]:"chat-checkbox"===e.theme||"label-list"===e.theme||"chat-checkbox-no-delete"===e.theme||"cell-message-checkbox"===e.theme||"product-checkbox"===e.theme,[d.default.themeDrawerList]:"drawer-list"===e.theme,[d.default.themeIdentity]:"identity"===e.theme,[d.default.themeListNames]:"list-names"===e.theme||"list-names-no-delete"===e.theme,[d.default.themeMessage]:"cell-message"===e.theme||"cell-message-checkbox"===e.theme,[d.default.themePlain]:"plain"===e.theme,[d.default.themeSearch]:"chat-search"===e.theme,[d.default.themeStatus]:"status-list"===e.theme,[d.default.themeLabel]:"label-selection"===e.theme,[d.default.idle]:e.idle,[d.default.member]:"group-modal"===e.theme||"chat-checkbox-no-delete"===e.theme,[d.default.unread]:!!e.unread,[d.default.chatDrag]:!!e.dragging,[d.default.active]:!!e.active,[d.default.isMuted]:!!e.isMuted,[d.default.groupV4Invite]:"group_v4_invite"===e.theme,[d.default.product]:"product"===e.theme||"product-checkbox"===e.theme,[d.default.media]:"media"===e.theme});e.image&&(t=e.customImage?e.image:r.createElement("div",{className:d.default.chatAvatar},e.image));var n,i,c=e.primaryDetail?r.createElement("div",{className:d.default.chatMeta},e.primaryDetail):null;e.secondary&&(i=e.secondaryDetail?r.createElement("div",{className:d.default.chatMeta},e.secondaryDetail):null,n=r.createElement("div",{className:d.default.chatSecondary},r.createElement("div",{className:d.default.chatStatus},e.secondary),i));var l=e.detail?r.createElement("div",{className:(0,o.default)(d.default.chatBody,d.default.chatDetails)},e.detail):null;return r.createElement("div",{ref:e.setDivRef,"data-a8n":s.default.key("chat-card"),className:a,onClick:e.onClick,onMouseDown:e.onMouseDown,onMouseEnter:e.onMouseEnter,onMouseOver:e.onMouseOver,onMouseLeave:e.onMouseLeave,onContextMenu:e.onContextMenu},t,r.createElement("div",{className:d.default.chatBody},r.createElement("div",{className:(0,o.default)(d.default.chatMain,{[d.default.noDelete]:"list-names-no-delete"===e.theme})},r.createElement("div",{className:d.default.chatTitle},e.primary),c),n),l)};t.default=c},dhbegafffi:function(e,t){e.exports={audio:"uqRgA",controls:"_1h3dW",body:"TeXXU",button:"dVD5a",metadata:"_1lxsr",trackContainer:"_27pBm",track:"_30LFW",audioIn:"_2PmJH",audioOut:"_38Akx",progress:"_1N8Pv",spinner:"Nuoph",played:"_2gO--",isGallery:"Da4D2"}},dhbejdh:function(e,t){e.exports={container:"GXmef",text:"_8fE-g"}},dhbghcbcbi:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg"),r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=i(a("ceffhbhahb")),u=n(a("ddhijeejag")),f=i(a("dhhfaeacef")),h=i(a("fifhbjiec")),p=a("gaifbabbj"),g=i(a("eceejifaac")),m=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,(0,d.default)(t).apply(this,arguments))}return(0,c.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=this.props,t=e.theme,a=e.contact,n=a.id,i=a.formattedName,r=a.isMyContact,o=a.notifyName,s=e.onMouseDown,d=e.onMouseUp,c=e.onMouseEnter,m=e.term,b=e.selected,v=p.Configuration.Search({terms:m?[m]:[],boundary:!0});return u.createElement("div",{className:(0,l.default)(g.default.mentionsResult,{[g.default.mediaCaption]:"mediaCaption"===t,[g.default.selected]:!0===b}),onMouseDown:s,onMouseUp:d,onMouseEnter:c},u.createElement("div",{className:g.default.resultImage},u.createElement(f.default,{id:n,size:32})),u.createElement("div",{className:g.default.textContact,dir:"auto"},u.createElement(h.default,{text:i,formatters:v})),u.createElement("div",{className:g.default.textPushname,dir:"auto"},!r&&o?u.createElement(h.default,{text:"~".concat(o),formatters:v}):null))}}]),t}(u.PureComponent);e.exports=m},dhbjfhjgbc:function(e,t){e.exports={moveResizeComponentContainer:"_1kh4T",resizer:"_1hjdR",topResizer:"Y1Z6l",bottomResizer:"_1fmP5",leftResizer:"_1Acgj",rightResizer:"_2wPUP",topRightResizer:"LjzBs",topLeftResizer:"_3SNiV",bottomRightResizer:"p4AWt",bottomLeftResizer:"_3VG07",moveable:"_1Yf-_",defaultCursor:"_111Ju"}},dhcccifjge:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.cancelDownloadMedia=function(e){var t=e.downloadPromise;t&&t.control.cancel()},t.manuallySetMedia=function(e,t,a,n,i){if(t.mediaBlob)return;(0,j.gatherAndSetMetadata)(t,a).then(function(){return C({mimetype:e,object:t,downloadEvenIfExpensive:!1,mediaType:n,rmrReason:i})})},t.downloadMedia=C,Object.defineProperty(t,"MediaDecryptionError",{enumerable:!0,get:function(){return f.MediaDecryptionError}}),Object.defineProperty(t,"MediaNotOnPhone",{enumerable:!0,get:function(){return f.MediaNotOnPhone}});var r=i(a("eaidjcib")),o=i(a("ffceefejc")),s=i(a("cjedcdbdii")),d=i(a("dbjagcfebh")),c=i(a("cgeedcdffb")),l=i(a("bfhdbejjbg")),u=i(a("iffjgahba")),f=a("bafdjibgig"),h=n(a("cajijabhgb")),p=i(a("bdiiahhjbe")),g=i(a("cjieghfgda")),m=a("baffhfhhda"),b=a("daichdjff"),v=i(a("gbjefdbgb")),j=a("fabajdgab"),E=i(a("behbjhhbg")),y=i(a("beeieigghj")),_=function(e){function t(){return(0,r.default)(this,t),(0,o.default)(this,(0,s.default)(t).apply(this,arguments))}return(0,d.default)(t,e),t}((0,u.default)("NoEntryAfterRMR")),S=function(e){function t(){return(0,r.default)(this,t),(0,o.default)(this,(0,s.default)(t).apply(this,arguments))}return(0,d.default)(t,e),t}((0,u.default)("MissingEncFilehash"));function C(e){var t=e.mimetype,a=e.object,n=e.downloadEvenIfExpensive,i=e.mediaType,r=e.signal,o=e.rmrReason,s=e.rmrData;if(!a)return Promise.resolve();var d=a.filehash;if(!d)return Promise.resolve();if(a.downloadPromise)return a.downloadPromise;if(a.downloadStage===b.DOWNLOAD_STAGE.ERROR_MISSING)return Promise.resolve();if(a.downloadStage===b.DOWNLOAD_STAGE.PREPARING)return Promise.resolve();if(a.mediaBlob)return a.mediaBlob.validate().then(function(e){if(!e)return a.clearBlob(),a.consolidate({downloadStage:b.DOWNLOAD_STAGE.NEED_POKE}),a.notifyMsgsAsync(),Promise.resolve();a.consolidate({downloadStage:b.DOWNLOAD_STAGE.RESOLVED})});var u,A,M=g.default.get(d),T=new c.default;if(r){if(r.aborted)return Promise.reject(new f.AbortError);r.addEventListener("abort",function(){return T.abort()})}if(M)u=Promise.resolve(M);else{var P;if(A=a.entries.getDownloadEntry())P=Promise.resolve(A);else{if(!n)return a.consolidate({downloadStage:b.DOWNLOAD_STAGE.NEED_POKE}),Promise.resolve();P=l.default.rmr({object:a,signal:T.signal,rmrReason:o,rmrData:s}).then(function(){if(!(A=a.entries.getDownloadEntry()))throw new _;return A})}a.consolidate({downloadStage:b.DOWNLOAD_STAGE.FETCHING}),u=P.then(function(e){var n=(A=e).uploadHash;if(!n)throw A.markWhetherOnServer(!1),new S;return l.default.downloadAndDecrypt({directPath:A.directPath,encFilehash:n,filehash:d,mediaKey:A.mediaKey,mediaKeyTimestamp:A.mediaKeyTimestamp,signal:T.signal,type:i,onDecryptStart:function(){a.consolidate({downloadStage:b.DOWNLOAD_STAGE.PROCESSING})}}).then(function(e){var a=t||E.default.getMediaMimeType(i,new Uint8Array(e)),n=new Blob([e],{type:a});return!(0,j.shouldUseMediaCache)(i)||i!==v.default.PTT&&i!==v.default.AUDIO?n:(0,m.transcode)(n)})})}var N=!1;return a.downloadPromise=u.then(function(e){return(0,j.shouldUseMediaCache)(i)?(g.default.put(d,e),(0,j.gatherAndSetMetadataNoOpaque)(a,e)):y.default.createFromData(e,e.type).then(function(e){return(0,j.gatherAndSetMetadata)(a,e)})}).then(function(){return a.consolidate({downloadStage:b.DOWNLOAD_STAGE.RESOLVED}),a.downloadPromise=null,a.resolveWhenConsolidated()}).addRawControl("cancel",function(){N=!0,T.abort()}).catch(f.MediaNotFoundError,function(e){if(!A)throw e;if(A.markWhetherOnServer(!1),!n)throw e;return l.default.rmr({object:a,signal:(new c.default).signal,rmrReason:o,rmrData:s}).then(function(){return a.downloadPromise=null,C({mimetype:t,object:a,downloadEvenIfExpensive:!1,mediaType:i,rmrReason:o,rmrData:s})})}).catch(h.MediaUnsupportedError,function(e){a.consolidate({downloadStage:b.DOWNLOAD_STAGE.ERROR_UNSUPPORTED}),p.default.error("downloadMedia: media unsupported error: ".concat(e.name,", ").concat(e.message,", ").concat(t||""))(),p.default.assert(!1,"downloadMedia: media unsupported error:",e.message)()}).catch(f.MediaNotOnPhone,function(e){a.consolidate({downloadStage:b.DOWNLOAD_STAGE.ERROR_MISSING})}).catch(_,S,function(e){a.consolidate({downloadStage:b.DOWNLOAD_STAGE.ERROR_MISSING}),p.default.error(e.name,e.message,e.stack)(),p.default.assert(!1,"unexpected download error:",e.name)()}).catch(f.MediaDecryptionError,function(e){a.consolidate({downloadStage:b.DOWNLOAD_STAGE.ERROR_MISSING})}).catch(function(e){if(a.consolidate({downloadStage:b.DOWNLOAD_STAGE.NEED_POKE}),e instanceof h.MediaLoadError)return p.default.error("downloadMedia: media unsupported error: ".concat(e.name,", ").concat(e.message,", ").concat(t||""))(),void p.default.assert(!1,"downloadMedia: media load error:",e.message)();e instanceof f.AbortError&&N||p.default.log("downloadMedia: error",e.name,e.message,e.stack)()}).finally(function(){r&&r.removeEventListener("aborted",function(){return T.abort()}),a.downloadPromise=null}).endWithControls("cancel"),a.downloadPromise}},dhccihecch:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.THEMES=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=i(a("ceffhbhahb")),u=n(a("ddhijeejag")),f=i(a("effbcehec")),h=i(a("cehjjfagii")),p=i(a("jhcabjcaf")),g=i(a("bfjbdahdag")),m=i(a("bbchdeehff")),b=i(a("baagejbchg")),v=i(a("dfeecdfijg")),j=i(a("eiiicijcj")),E=n(a("ecibddhig")),y=i(a("bbjadhadbg")),_=i(a("cieaeggjg")),S=i(a("bfbggcdbfb")),C=i(a("dfhbgghjei")),A=i(a("ihfccfgdf")),M=a("bheafeifce"),T=i(a("deibgadgic")),P=i(a("cbjacjjfgc")),N=330,I=330,k={ALBUM:"ALBUM"};t.THEMES=k;var O=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).setRefImg=function(e){return a.refImg=e},a.showMediaMissing=function(){m.default.openModal(u.createElement(j.default,{msg:a.props.msg}))},a.getZoomNode=function(e){var t=a.props.isMsgVisible;if(!t)return null;var n=t(e);return n?n.getImgNode&&n.getImgNode():null},a.launchMediaViewer=function(e){if(e&&e.stopPropagation(),a.props.theme===k.ALBUM){var t=a.props.zoomMsg||a.props.msg,n=new Set((a.props.albumMsgs||[]).map(function(e){return e.id.toString()}));m.default.mediaViewerModal({msg:(0,M.unproxy)(t),getZoomNode:a.getZoomNode,highlightedMsgIds:n})}else m.default.mediaViewerModal({msg:(0,M.unproxy)(a.props.msg),getZoomNode:a.getZoomNode})},a.forceDownloadMedia=function(){a.props.msg.downloadMedia(!0,S.default.WEBC_RMR_REASON_CODE.MSG_CLICK)},a.downloadMedia=function(){return a.props.msg.downloadMedia(!1,S.default.WEBC_RMR_REASON_CODE.MSG_RENDER)},a.cancelDownload=function(){a.props.msg.cancelDownload()},a.cancelUpload=function(){a.props.msg.cancelUpload()},a.resumeUpload=function(){a.props.msg.resumeUpload()},a.resumeRemoteUpload=function(){a.props.msg.resumeRemoteUpload()},a._renderImage=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=a.props.mediaData,i=(0,l.default)(C.default.thumbBody,{[C.default.thumbBodyLores]:t}),r=a._getBubbleDimension(),o=r.bubbleWidth,s=r.bubbleHeight,d=function(e,t,a,n){if(!(e&&t&&a&&n))return{height:"100%",width:"100%"};return t/e>n/a?{height:"100%"}:{width:"100%"}}(n.fullHeight||s,n.fullWidth||o,s,o);return u.createElement("img",{src:e,className:i,style:d,ref:a.setRefImg})},a._renderPreviewImage=function(){return a._renderImage(a.props.mediaData.preview&&a.props.mediaData.preview.url(),!0)},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){this.downloadMedia()}},{key:"getImgNode",value:function(){return this.refImg}},{key:"determineBubbleHeight",value:function(){var e=this.props,t=e.msg,a=e.mediaData;return t.hsmEnabled&&a.aspectRatio<=b.default.HSM_ASPECT_RATIO?R(b.default.HSM_ASPECT_RATIO):R(a.aspectRatio)}},{key:"_getBubbleDimension",value:function(){var e,t;return this.props.theme===k.ALBUM?(e=b.default.ALBUM_MAX_HEIGHT-b.default.ALBUM_PADDING,t=b.default.ALBUM_MAX_HEIGHT):(e=N,t=this.determineBubbleHeight()),{bubbleWidth:e,bubbleHeight:t}}},{key:"render",value:function(){var e=this.props,t=e.msg,a=e.contentContainerClassName,n=e.captionComponent,i=e.thumbClassName,r=e.onThumbClick,o=e.mediaData,s=e.theme,d=e.overlayContent,c=t.caption?null:u.createElement(P.default,null),m=t.caption?u.createElement("div",{className:C.default.caption},u.createElement(g.default,{msg:t,trusted:this.props.trusted,spacer:!(t.hsmEnabled&&t.footer)})):null,j=null,S=null;if(d)S=r||this.launchMediaViewer;else{var A=o.mediaStage;switch(A){case"RESOLVED":S=r||this.launchMediaViewer;break;case"FETCHING":j=u.createElement(E.PendingCancel,null),S=this.cancelDownload;break;case"NEED_POKE":j=u.createElement(E.Download,{filesize:o.size}),S=this.forceDownloadMedia;break;case"UPLOADING":j=u.createElement(E.PendingCancel,null),S=this.cancelUpload;break;case"NEED_UPLOAD":j=u.createElement(E.Upload,{filesize:o.size}),S=this.resumeUpload;break;case"REMOTE_NEED_UPLOAD":j=u.createElement(E.Upload,{filesize:o.size}),S=this.resumeRemoteUpload;break;case"ERROR_MISSING":S=r||this.showMediaMissing;break;case"ERROR_UNSUPPORTED":j=u.createElement(E.Download,{filesize:o.size}),S=r||this.launchMediaViewer;break;case"SENDING":t.isFailed||(j=u.createElement(E.Pending,null));break;case"DECRYPTING":case"ERROR_TOO_LARGE":case"INIT":case"PREPARING":case"REMOTE_UPLOADING":case"REUPLOADING":j=u.createElement(E.Pending,null);break;default:throw new Error("invalid value for picture mediaStage '".concat(A,"'"))}}var M,N=this.props.displayAuthor&&!t.isSentByMe&&t.isGroupMsg,I=t.showForwarded()&&this.props.theme!==k.ALBUM,O=(0,l.default)(C.default.bubble,{[C.default.isAlbum]:s===k.ALBUM}),R=(0,l.default)(O,{[C.default.hasCaption]:t.caption,[C.default.hasAuthor]:N,[C.default.forwarded]:I,[C.default.isPSA]:t.isPSA,[C.default.isPreview]:this.props.displayType===b.default.DISP_TYPE.MSG_INFO,[C.default.isGallery]:this.props.displayType===b.default.DISP_TYPE.STARRED_MSGS||this.props.displayType===b.default.DISP_TYPE.GALLERY}),D=N?u.createElement("div",{className:C.default.author},u.createElement(h.default,{msg:t,contact:t.senderObj})):null,L=I?u.createElement(v.default,{msg:t,className:C.default.forwardedIndicator}):null,U=this._getBubbleDimension(),G={width:U.bubbleWidth,height:U.bubbleHeight},x=this.props.quotedMsg?u.createElement("div",{className:C.default.quote},this.props.quotedMsg):null,F=(0,l.default)(C.default.thumb,{[C.default.overlay]:d});d||(M=u.createElement("div",{className:C.default.meta},u.createElement(_.default,{msg:t})));var B=u.createElement("div",{className:a},D,L,x,u.createElement("div",{"data-a8n":f.default.key("image-thumb"),className:i||F,onClick:S,style:G},j,u.createElement(y.default,{mediaData:o,placeholderRenderer:this._renderPreviewImage,downloadMedia:this.downloadMedia},this._renderImage),c),n||m,u.createElement(T.default,{msg:t}),M);return m?u.createElement(p.default,{contact:t.senderObj,msg:t,className:R,onClick:w},B):(d&&(B=u.createElement("div",{className:C.default.overlayAlbumText},B,d)),u.createElement("div",{className:R,onClick:w},B))}}]),t}(u.PureComponent);function R(e){return e?(t=e<=1?I:e<=2.4?N/e:N/2.4,Math.round(t)):I;var t}function w(e){e.stopPropagation()}O.CONCERNS={msg:["ack","caption","dir","footer","hsmEnabled","id","isFailed","isGroupMsg","isPSA","isSentByMe","rtl","senderObj","subtype","type"],mediaData:["aspectRatio","preview","mediaStage","fullWidth","fullHeight","size"]};var D=(0,A.default)(O,O.CONCERNS);t.default=D},dhcejciehh:function(e,t){e.exports={section:"_19o76",control:"_3PsB1",label:"wVU1s"}},dhdchbicac:function(e,t){e.exports={icon:"TUxjs"}},dheeebbech:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=i(a("ceffhbhahb")),u=n(a("ddhijeejag")),f=i(a("bjfacgbcjj")),h=a("dhfbfehaef"),p=i(a("bcifhbgija")),g=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i))))._setCellFrameDivRef=function(e){a._cellFrameDivRef=e},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"indicateFocus",value:function(e,t){(0,h.indicateFocus)(this._cellFrameDivRef,e,{complete:t})}},{key:"reset",value:function(){var e=this._cellFrameDivRef;e&&((0,p.default)(e,"stop"),e.style.backgroundColor="")}},{key:"render",value:function(){var e=this.props,t=(0,l.default)(f.default.msg,{[f.default.hover]:e.hover,[f.default.current]:e.current,[f.default.active]:e.active});return u.createElement("div",{ref:this._setCellFrameDivRef,className:t,onClick:e.onClick,onMouseEnter:e.onMouseEnter,onMouseOver:e.onMouseOver,onMouseLeave:e.onMouseLeave},e.children)}}]),t}(u.PureComponent);t.default=g},dhefcajhhb:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ProfilePicThumbCollection=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("bjehdcaaj")),l=i(a("dbjagcfebh")),u=i(a("bebajedcaf")),f=n(a("cgcgbfbffj")),h=i(a("bjigbaghc")),p=a("ddjgcfjicj"),g=n(a("cajijabhgb")),m=i(a("bjbdcigbdi")),b=i(a("bdiiahhjbe")),v=i(a("edjgaiicj")),j=a("dfdjejggdf"),E=a("biahggehgf"),y=i(a("igdjeffe")),_=i(a("bhggeigghg")),S=i(a("egjjcjcg")),C=i(a("bihdhbjih")),A=i(a("jccfhaecf")),M=a("dcbdjheea"),T=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,(0,d.default)(t).apply(this,arguments))}return(0,l.default)(t,e),(0,o.default)(t,[{key:"get",value:function(e){var a=(0,c.default)((0,d.default)(t.prototype),"get",this).call(this,e);if(!this.modelClass.prototype.isIdType(e))return a;var n=(0,c.default)((0,d.default)(t.prototype),"get",this).call(this,(0,v.default)(e.toString()));if(n){if(this.remove(n,{silent:!0}),a&&a.tag)return a;var i=n.toJSON();return i.id=e,this.add(i,{silent:!0,merge:!0})[0]}return a||void 0}},{key:"saveToCache",value:function(){if(h.default.me){var e=t.cachePolicy.id,a=this.filter(function(e){return A.default.isWid(e.id)&&!!e.eurl});a=a.map(function(e){var t=e.toJSON();return t.id=(0,v.default)(t.id.toString()),t}),b.default.log("models:profilePic:cache-save: ".concat(String(e)))(),S.default.setCollection(e,a)}}},{key:"initializeFromCache",value:function(e){if(this.length&&e){var t=this.reduce(function(e,t){return e[(0,v.default)(t.id.toString())]=t.id.toString(),e},new Object);if(!(0,u.default)(t)){var a=e.reduce(function(e,a){return t[a.id]&&(a.id=(0,M.createWid)(t[a.id]),a.stale=!0,e.push(a)),e},[]);this.add(a,{merge:!0})}}}},{key:"onResume",value:function(){var e=this.filter(function(e){var t=_.default.Chat.get(e.id);return e.hasObservers()&&e.stale&&(A.default.isUser(e.id)||A.default.isGroup(e.id))&&!(t&&t.isReadOnly)}).map(function(e){return e.tag||e.unset("tag",{silent:!0}),e});this.resyncPictures(e)}},{key:"_find",value:function(e){var t=_.default.Chat.get(e);if(t&&t.isReadOnly)return(0,E.profilePicFindThumbFromPhone)(e,this.get(e)).then(function(e){return e.tag||e.raw||(e.eurl=null,e.tag=null,e.raw=null,e.eurlStale=!1),e}).catch(g.ProtoVersionUndefined,function(){return{id:e,stale:!0}});if(A.default.isUser(e)||A.default.isGroup(e)){var a={id:e};return(0,E.profilePicFind)(e).then(function(e){return a.tag=e.tag,a.raw=null,a.eurl=e.eurl,a.eurlStale=!1,m.default.supportsFeature(m.default.F.MD_BACKEND),a}).catch(p.ServerStatusCodeError,function(e){switch(e.status){case 401:a.tag="",a.raw=void 0;break;case 423:case 429:a.stale=!0;break;default:a.tag=null,a.eurl=null,a.eurlStale=!1}return Promise.resolve(a)}).catch(p.WapDrop,function(){return{id:e,stale:!0}})}return Promise.resolve({id:e,tag:null})}},{key:"imageChanged",value:function(e,t){var a=this.get(e);a&&(t===j.PROFILE_PIC_COMMAND.REMOVE?a.set({tag:void 0,eurl:void 0}):t!==j.PROFILE_PIC_COMMAND.SET&&a.tag===t||this.update(a.id).catch(p.WapDrop,function(){}))}},{key:"resyncPictures",value:function(e){var t=this;return 0===e.length?Promise.resolve():C.default.resyncPictures(e.map(function(e){return{id:e.id,tag:e.tag}})).then(function(a){if(423===a.status||429===a.status)b.default.warn("ProfilePicThumbStore:resyncPictures blocked "+a.status)();else{if("number"==typeof a.status&&a.status>=400)throw b.default.error("ProfilePicThumbStore:resyncPictures error "+a.status)(a),new Error("ProfilePicThumbStore:resyncPictures error");if(!Array.isArray(a))throw b.default.error("ProfilePicThumbStore:resyncPictures unknown reply",a)(),new Error("ProfilePicThumbStore:resyncPictures unknown reply");b.default.log("ProfilePicThumbStore:resyncPictures success")(),a.forEach(function(e){var a=t.get(e.id);a&&a.set({tag:e.tag,raw:void 0,stale:!1,eurl:e.eurl,eurlStale:!1})}),e.forEach(function(e){e.eurlStale&&t.update(e.id)}),e.forEach(function(e){e.stale=!1})}}).catch(p.WapDrop,function(){}).catch(function(e){b.default.error("ProfilePicThumbStore:resyncPictures dropped: "+String(e))()})}}]),t}(f.default);t.ProfilePicThumbCollection=T,T.model=y.default,T.staleCollection=!0,T.resumeOnAvailable=!0,T.cachePolicy={id:"profile_pic_thumb",trigger:"change:tag change:raw",policy:f.CACHE_POLICY.LOAD,delay:5e3};var P=new T;t.default=P},dheiadgfhj:function(e,t){e.exports={bubble:"_1BN2j",templateBubble:"_1Rd1y",isPreview:"_1auwW",isGallery:"_9dwDm",author:"_3OPGn",forwarded:"KmdWq",forwardedIndicator:"_3moRf",hasAuthor:"qKTgP",container:"_3F4Fd",body:"_1mrMQ",bubbleIn:"_3cukQ",bubbleOut:"_1o6AT",docMeta:"_1o0MN",metaValue:"_35Zop",meta:"_3vA5B",text:"_1NeOh",icon:"_1ceQM",quote:"_2-LEp",filetypeIcon:"_3ZoBw",thumb:"_2k0GR",hasCaption:"_2i0x3",caption:"_1vlJw"}},dhfbggbbbd:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=n(a("ddhijeejag")),u=i(a("effbcehec")),f=i(a("bdcjhdddde")),h=a("dccdiajhdf"),p=i(a("ihfccfgdf")),g=i(a("eedjbihej")),m=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,(0,d.default)(t).apply(this,arguments))}return(0,c.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e,t,a;switch(this.props.section){case h.SECTIONS.PLAYED_FOOTER:e=this.props.msgInfo.playedRemaining,t=this.props.msgInfo.playedRemaining;break;case h.SECTIONS.READ_FOOTER:e=this.props.msgInfo.readRemaining,t=this.props.msgInfo.readRemaining;break;case h.SECTIONS.DELIVERED_FOOTER:e=this.props.msgInfo.deliveryRemaining,t=this.props.msgInfo.deliveryRemaining}a=null!=e&&0!==e?{count:e,_plural:t}:{_plural:t};var n=l10n.t(744,a);return l.createElement("div",{"data-a8n":u.default.key("msg-info-remaining"),className:f.default.footer},l.createElement(g.default,{theme:"muted"},n))}}]),t}(l.Component);m.CONCERNS={msgInfo:["playedRemaining","readRemaining","deliveryRemaining"]};var b=(0,p.default)(m,m.CONCERNS);t.default=b},dhfjegifba:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("eaidjcib")),r=n(a("ffceefejc")),o=n(a("cjedcdbdii")),s=n(a("dbjagcfebh")),d=n(a("jhddfhjhh")),c=n(a("djegeegcbf")),l=n(a("edbaidcaf")),u=function(e){function t(e,a,n,s,d){return(0,i.default)(this,t),(0,r.default)(this,(0,o.default)(t).call(this,e,a,{title:c.default.normalizeEmoji(n),notification:window.Notification,body:c.default.normalizeEmoji(s),icon:l.default.relToAbs(d)}))}return(0,s.default)(t,e),t}(d.default);t.default=u},dhgbabghaf:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.enrich=function(e,t){var a;switch(o.previewType(t)){case"pdf":a=s(e);break;case"msoffice":a=Promise.resolve();break;default:a=Promise.resolve()}return a.timeout(3e3,"Document enrichment timeout").catch(function(e){return null})},t.enrichPdf=s;var i=n(a("bdiiahhjbe")),r=a("bbegjdfcja"),o=a("behbjhhbg");function s(e){var t;return r.fileToPdf(e).then(function(e){return t=e,r.pdfToImg(e,1)}).catch(function(e){return i.default.log("pdf preview generation failed",e)(),Promise.resolve(null)}).finally(function(){t&&r.releasePdf(t)})}},dhgdjhdfdh:function(e,t,a){"use strict";var n=a("cfjecfhbfg"),i=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.frequentlyForwardedCount,a=e.totalCount,n=r.createElement("span",{className:c.default.text},1===t&&1===a?l10n.t(492):l10n.t(491)," ",r.createElement(s.default,{href:(0,d.getFrequentlyForwardedFaqUrl)()},l10n.t(644)));return r.createElement("div",{className:c.default.wrapper},r.createElement("div",{className:c.default.icon},r.createElement(l.default,{name:"highly-forwarded"})),r.createElement(o.default,{theme:"plain",primary:n,idle:!0}))};var r=i(a("ddhijeejag")),o=n(a("dhbceejbjg")),s=n(a("bidfjbaebi")),d=a("facgccaif"),c=n(a("dijcicjfhc")),l=n(a("bfdcadbbif"))},dhgeaaaega:function(e,t){e.exports={chatstateTyping:"_2ZAIy"}},dhgfgiaedi:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=n(a("ddhijeejag")),u=i(a("dbdfbgehgj")),f=i(a("bbchdeehff")),h=i(a("eceadcicaf")),p=n(a("dgjifchfde")),g=a("cacaefcddj"),m=n(a("dcdiaahjj")),b=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).count=0,a.updateUnreadCount=function(){var e;e=m.default.displayInfo===m.StreamInfo.OFFLINE?-1:m.default.displayInfo===m.StreamInfo.TIMEOUT?-1:u.default.filter(function(e){return e.shouldShowUnreadInTitle}).length,a.count!==e&&(a.count=e,(0,g.setTitleAndIcon)(e))},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.listeners;t.add(f.default,"alert_new_msg",function(t){return p.showMsgNotification(t,e.matchesFilter)}),t.add(f.default,"alert_call",p.showCallNotification),t.add(f.default,"cancel_call",p.cancelCallNotification),t.add(u.default,"add remove reset change:archive change:unreadCount change:muteExpiration",this.updateUnreadCount),t.add(u.default,"change:hasUnread",p.closeNotifications),t.add(m.default,"change:displayInfo",this.updateUnreadCount),this.updateUnreadCount()}},{key:"componentWillUnmount",value:function(){(0,g.setTitleAndIcon)(0)}},{key:"matchesFilter",value:function(e){return!1}},{key:"render",value:function(){return null}}]),t}(l.Component),v=(0,h.default)(b);t.default=v},dhgfhcggji:function(e,t){e.exports={mediaCanvas:"_3fLj2",canvasBody:"_26DoP",list:"LQJlb",listWrapper:"_244df",canvasComponent:"_2eLQ5",canvasComponentLarge:"_1nQDL",canvasSecondRow:"_1en8j",viewerFlow:"H7wMr",active:"_3P8qe",placeholder:"_3gKoq"}},dhggbbghfb:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg"),r=i(a("hbddjfeei")),o=i(a("dbdfbgehgj")),s=n(a("dfhjacfbjg")),d=i(a("baagejbchg")),c=i(a("dhigahgdjb")),l=a("ddjgcfjicj"),u=a("dfhgeaeig"),f=i(a("bdiiahhjbe")),h=i(a("ebbjbbjjg")),p=i(a("dhefcajhhb")),g=i(a("gbbacfeci")),m=i(a("bgcdajbhif")),b=a("dgdhcdgffe"),v={handle(e){var t=(0,r.default)(e,1)[0];switch(t.type){case"const":d.default[t.key]=t.value;break;case"read":if(t.isStatus){m.default.handle([t]);break}case"unread":var a=o.default.get(t.jid);a&&("read"===t.type?(0,b.markSeen)(a):"unread"===t.type&&(0,b.markUnseen)(a));break;case"log":s.upload("server-requested",!0,!0);break;case"privacy":if(t.jid){var n=h.default.get(t.jid);n&&n.reset(),p.default.update(t.jid).catch(l.WapDrop,function(){}),g.default.update(t.jid).catch(l.WapDrop,function(){})}else f.default.error("Store:Cmd:handle:privacy no jid",t)();break;case"identity":if(t.jid){var i=c.default.get(t.jid);i?(0,u.updateIdentity)(i,t):f.default.error("Store:Cmd:handle:identity no contact",t)()}else f.default.error("Store:Cmd:handle:identity no jid",t)();break;default:f.default.warn("Store:Cmd:handle:unknown "+t.type,t)()}}};e.exports=v},dhgjbgdbhg:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.encryptAndMac=function(e,t,a){return(0,i.aesCbcEncrypt)(e,new Uint8Array(a)).then(function(e){return new r.default(t).sign(e).then(function(t){return d.build(t,e).readBuffer()})})},t.macAndDecrypt=function(e,t,a){return Promise.resolve(new Uint8Array(a)).then(function(a){var n=s.encode(a.subarray(0,32)),d=a.subarray(32);return new r.default(t).sign(d).then(function(t){var a=s.encode(t);if(n!==a)throw o.default.error("crypto:macAndDecrypt HMAC don't match ".concat(n," vs. ").concat(a))(),new Error("macAndDecrypt HMAC mismatch");return(0,i.aesCbcDecrypt)(e,d)})})};var i=a("eaiigfgagg"),r=n(a("bbejegbieb")),o=n(a("bdiiahhjbe")),s=a("hgjcbccfg"),d=a("dbajccegac")},dhhbbaegif:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("eaidjcib")),r=n(a("dgcdacjddi")),o=n(a("ffceefejc")),s=n(a("djecdhecha")),d=n(a("cjedcdbdii")),c=n(a("bjehdcaaj")),l=n(a("dbjagcfebh")),u=n(a("eaaagccfda")),f=n(a("bbchdeehff")),h=n(a("fcedgihic")),p=n(a("iajeehcac")),g=n(a("beahjdfigf")),m=function(e){function t(e){var a,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,i.default)(this,t),(a=(0,o.default)(this,(0,d.default)(t).call(this,e,n)))._debouncedSort=(0,u.default)(function(){return a.sort()},1e3),a.listenTo((0,s.default)(a),"change:contact.name",a._debouncedSort),a.listenTo(f.default,"locale_change",a._debouncedSort),a}return(0,l.default)(t,e),(0,r.default)(t,[{key:"delete",value:function(){this.forEach(function(e){e.delete()}),this.stopListening(),this.reset()}},{key:"ensureSorted",value:function(){this._debouncedSort.flush()}},{key:"set",value:function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return a.isParticipantCollectionAdd||(a.remove=!0),(0,c.default)((0,d.default)(t.prototype),"set",this).call(this,e,a)}},{key:"add",value:function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return a.isParticipantCollectionAdd=!0,(0,c.default)((0,d.default)(t.prototype),"add",this).call(this,e,a)}}]),t}(h.default);t.default=m,m.model=p.default,m.comparator=g.default},dhhbehfjej:function(e,t){e.exports={container:"_13fQ2",media:"_3in0k",img:"UAI6v",audio:"_3352Z",videoContainer:"_2Bop3",spinner:"mAc_L",video:"F5UsY",staticPreview:"_2qzas"}},dhhbgegf:function(e,t){e.exports={clickable:"_2LRFQ",body:"_1J99z",main:"_1kz4p",mainEllipsify:"VfNCr",side:"_2h7Od"}},dhhcgceeai:function(e,t){e.exports={spam:"_2Pown",text:"_3Dvhp",controls:"xD5k0",button:"GdqkG"}},dhhcghbjeb:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=n(a("ddhijeejag")),u=i(a("bhhdeihhhf")),f=i(a("ihfccfgdf")),h=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,(0,d.default)(t).apply(this,arguments))}return(0,c.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=this.props,t=e.mute,a=e.disabled,n=this.props.onMute.bind(null,!t.isMuted),i=t.isMuted?l10n.t(1308):l10n.t(1307);return l.createElement(u.default,{action:n,a8n:"mi-mute",disabled:a},i)}}]),t}(l.PureComponent);h.CONCERNS={mute:["isMuted"]};var p=(0,f.default)(h,h.CONCERNS);t.default=p},dhhfaeacef:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.getSize=w,t.getDefaultIcon=L,t.default=t.DetailImageCommon=void 0;var r=i(a("bacehaajgh")),o=i(a("bhabhhjdch")),s=i(a("eaidjcib")),d=i(a("dgcdacjddi")),c=i(a("ffceefejc")),l=i(a("cjedcdbdii")),u=i(a("dbjagcfebh")),f=i(a("ceffhbhahb")),h=n(a("ddhijeejag")),p=i(a("cffibfiejh")),g=i(a("dhigahgdjb")),m=i(a("cjejfecgc")),b=n(a("cajijabhgb")),v=i(a("efgfgjab")),j=i(a("cajbifjffe")),E=i(a("ceddibdhdb")),y=i(a("ihfccfgdf")),_=a("bheafeifce"),S=i(a("bfdcadbbif")),C=i(a("jccfhaecf"));function A(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}var M={SMALL:"SMALL",MEDIUM:"MEDIUM",LARGE:"LARGE",AUTO:"AUTO",NONE:"NONE"},T={LOW:"LOW",HIGH:"HIGH"},P=100,N=function(e){function t(e){var a;return(0,s.default)(this,t),(a=(0,c.default)(this,(0,l.default)(t).call(this,e))).retriedAfter403=!1,a.state={loading:!0,loaded:!1,showSpinner:!1,profilePicThumbImg:null},a.onLoad=function(e){a.showSpinnerTimeout&&a.showSpinnerTimeout.cancel(),a.setState({loading:!1,loaded:!0}),a.props.onLoad&&a.props.onLoad()},a.onError=function(e){if(a.showSpinnerTimeout&&a.showSpinnerTimeout.cancel(),e instanceof b.ServerStatusError){var t=a.props.profilePicThumb;switch(e.status){case 403:t.markStale({eurl:!0}),a.retriedAfter403||(a.retriedAfter403=!0,t.validate());break;case 410:t.markStale()}}a.setState({loading:!1,loaded:!1})},a.enableSpinner="business"!==e.theme,e.loader&&a.enableSpinner&&(a.showSpinnerTimeout=new E.default(function(){a.setState({showSpinner:!0})}),a.showSpinnerTimeout.onOrAfter(P)),a}return(0,u.default)(t,e),(0,d.default)(t,[{key:"componentDidUpdate",value:function(e){e.profilePicThumbImg!==this.props.profilePicThumbImg&&this.showSpinnerTimeout&&this.showSpinnerTimeout.onOrAfter(P)}},{key:"componentWillUnmount",value:function(){this.showSpinnerTimeout&&this.showSpinnerTimeout.cancel()}},{key:"shouldShowSpinner",value:function(){var e=this.props,t=e.profilePicThumb,a=e.loader,n=this.state,i=n.loading,r=n.showSpinner;return!!this.enableSpinner&&(!!a&&r&&i&&!(!(0,_.unproxy)(t).stale&&!this.props.profilePicThumbImg))}},{key:"render",value:function(){var e=this.props,t=e.profilePicThumbImg,a=e.spinnerClassName,n=e.imgClassName,i=this.state,r=i.loading,s=(i.loaded,{[m.default.isLoaded]:!r});n&&(s=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?A(Object(a),!0).forEach(function(t){(0,o.default)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):A(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},s,{[n]:"string"==typeof n}));var d,c,l=(0,f.default)(m.default.avatarImage,s);this.shouldShowSpinner()&&(d=h.createElement(p.default,{key:"spinner",className:a})),t&&(c=h.createElement(j.default,{src:t,hasPrivacyChecks:!0,crossOrigin:!1,className:l,draggable:!1,key:"image",onLoad:this.onLoad,onError:this.onError}));var u=this.props.defaultIcon;return h.createElement(h.Fragment,null,d,c,u)}}],[{key:"getDerivedStateFromProps",value:function(e,t){return t.profilePicThumbImg!==e.profilePicThumbImg?{loading:!0,loaded:!1,showSpinner:!1,profilePicThumbImg:e.profilePicThumbImg}:{profilePicThumbImg:e.profilePicThumbImg}}}]),t}(h.PureComponent);t.DetailImageCommon=N;var I=function(e){function t(){return(0,s.default)(this,t),(0,c.default)(this,(0,l.default)(t).apply(this,arguments))}return(0,u.default)(t,e),(0,d.default)(t,[{key:"render",value:function(){return h.createElement(N,(0,r.default)({},this.props,{profilePicThumbImg:this.props.profilePicThumb.imgFull}))}}]),t}(h.PureComponent);I.CONCERNS={profilePicThumb:["imgFull"]};var k=(0,y.default)(I,I.CONCERNS),O=function(e){function t(){return(0,s.default)(this,t),(0,c.default)(this,(0,l.default)(t).apply(this,arguments))}return(0,u.default)(t,e),(0,d.default)(t,[{key:"render",value:function(){return h.createElement(N,(0,r.default)({},this.props,{profilePicThumbImg:this.props.profilePicThumb.img}))}}]),t}(h.PureComponent);O.CONCERNS={profilePicThumb:["img"]};var R=(0,y.default)(O,O.CONCERNS);function w(e){switch(e){case M.SMALL:return 49;case M.MEDIUM:return 100;case M.LARGE:return 200;case M.NONE:return;default:return e}}var D=function(e){var t,a=e.id,n=e.size,i=e.quality,r=e.loader,o=e.onClick,s=e.onLoad,d=e.quoted,c=e.square,l=e.border,u=e.waitIdle,p=e.theme;t="number"==typeof n?n>0?n:M.SMALL:null!=n?n:M.SMALL;var b=i||T.LOW,j={height:w(t),width:w(t)};o&&(j.cursor="pointer");var E=(0,f.default)(m.default.avatar,{[m.default.status_v3]:"status_v3"===p,[m.default.avatarSquare]:c,[m.default.avatarBorder]:l}),y=L(a,d);return h.createElement(v.default,{id:a,onComplex:function(){var e=null,t=g.default.gadd(a).getProfilePicThumb();return t&&(e=b===T.HIGH?h.createElement(k,{profilePicThumb:t,defaultIcon:y,loader:r,onLoad:s}):h.createElement(R,{profilePicThumb:t,defaultIcon:y,loader:r,onLoad:s})),h.createElement("div",{className:E,style:j,onClick:o},e)},waitIdle:u},h.createElement("div",{className:E,style:j,onClick:o},y))};function L(e,t){var a="default-user";return C.default.isUser(e)&&!C.default.isPSA(e)&&t?a="default-user-square":C.default.isGroup(e)?a="default-group":C.default.isBroadcast(e)?a="default-broadcast":C.default.isPSA(e)&&(a="default-psa"),h.createElement("div",{className:m.default.avatarDefault,key:"default"},h.createElement(S.default,{name:a}))}D.Size=M,D.Quality=T;var U=D;t.default=U},dhhhjaejje:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("eaidjcib")),r=n(a("dgcdacjddi")),o=n(a("cgeeeeddea")),s=function(){function e(){(0,i.default)(this,e)}return(0,r.default)(e,null,[{key:"onMutator",value:function(e,t,a,n,i){(0,o.default)(!1,"Subclasses of `Serializer` must override `onMutator()`")}},{key:"onRoot",value:function(e,t){(0,o.default)(!1,"Subclasses of `Serializer` must override `onRoot()`")}},{key:"onText",value:function(e,t){(0,o.default)(!1,"Subclasses of `Serializer` must override `onText()`")}},{key:"onDelimiter",value:function(e,t){(0,o.default)(!1,"Subclasses of `Serializer` must override `onDelimiter()`")}}]),e}();t.default=s},dhiccjfja:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.contactFindQuery=function(e){var t=s.default.Contact,a=performance.now(),n={};return l.default.contactFindQuery(e.retry,function(e){n.binarySize=e.binarySize}).then(function(e){var s=e;return"preempted"===s.data?Promise.reject("contacts preempted"):(n.count=s.data&&s.data.length,n.timing=Math.ceil(performance.now()-a),t.trigger(i.default.COLLECTION_HAS_SYNCED,n),(0,c.mungePSAContact)(s.data),(r.default.supportsFeature(r.default.F.MD_BACKEND)?(0,d.bulkCreateOrUpdateContacts)(s.data):Promise.resolve()).then(function(){return s.checksum&&(t.setChecksum(s.checksum),o.default.log("Store:Contact:query update checksum "+s.checksum)()),Promise.resolve(s.data)}))})};var i=n(a("baagejbchg")),r=n(a("bjbdcigbdi")),o=n(a("bdiiahhjbe")),s=n(a("bhggeigghg")),d=a("dbhhjaecch"),c=a("dafafigeih"),l=n(a("bihdhbjih"))},dhigahgdjb:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ContactCollection=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("djecdhecha")),c=i(a("dbjagcfebh")),l=i(a("cjedcdbdii")),u=i(a("bjehdcaaj")),f=i(a("eaaagccfda")),h=n(a("cgcgbfbffj")),p=a("cajejegicg"),g=i(a("bbchdeehff")),m=i(a("baagejbchg")),b=i(a("ccfcjccjbg")),v=i(a("ccicaaeiaa")),j=a("ddjgcfjicj"),E=a("dhiccjfja"),y=a("cbecjajacd"),_=i(a("bdiiahhjbe")),S=n(a("ebggjhghhi")),C=i(a("cbeabehaca")),A=i(a("egjjcjcg")),M=n(a("bgeajihhc")),T=function(e){function t(){var e;return(0,r.default)(this,t),(e=(0,s.default)(this,(0,l.default)(t).call(this)))._contactHashes=new C.default,e.checksum=void 0,e._frequentContacts={},e._sort=(0,f.default)(function(){return(0,u.default)((0,l.default)(t.prototype),"sort",(0,d.default)(e)).call((0,d.default)(e))},1e3),e._silentSort=(0,f.default)(function(){return(0,u.default)((0,l.default)(t.prototype),"sort",(0,d.default)(e)).call((0,d.default)(e),{silent:!0})},1e3),e.listenTo(g.default,"locale_change",e.sort),e.listenTo((0,d.default)(e),"change:name",e.sort),e.listenTo(M.default,"change:stream",function(){M.default.stream===M.STREAM.RESUMING&&e.forEach(function(e){e.unset("verificationString"),e.unset("verificationBinary")})}),e.listenTo((0,d.default)(e),"add",e.contactAdded),e.listenTo((0,d.default)(e),"remove",e.contactRemoved),e}return(0,c.default)(t,e),(0,o.default)(t,[{key:"sort",value:function(e){return e&&e.silent?this._silentSort():this._sort()}},{key:"ensureSorted",value:function(){this._sort.flush()}},{key:"initializeFromCache",value:function(e){e&&(_.default.log("Store:Contact init from cache")(),this.add(e,{silent:!0,merge:!0}))}},{key:"contactAdded",value:function(e){this._contactHashes.put(e)}},{key:"contactRemoved",value:function(e){this._contactHashes.remove(e)}},{key:"delete",value:function(){(0,u.default)((0,l.default)(t.prototype),"delete",this).call(this),this.setChecksum(),delete this.checksum,this._frequentContacts={},(0,y.setFrequent)({}).catch(function(){}),this._contactHashes.clear()}},{key:"isFilteredContact",value:function(e){return!!e.name&&!e.isMe&&!e.isPSA&&e.isWAContact}},{key:"getFilteredContacts",value:function(){return this.filter(function(e){return e.name&&!e.isMe&&!e.isPSA&&e.isWAContact})}},{key:"_find",value:function(e){var t=this.get(e);return t?Promise.resolve(t):Promise.resolve({id:e})}},{key:"_findQuery",value:function(e){return(0,E.contactFindQuery)(e)}},{key:"sync",value:function(){return this.findQuery({}).catch(j.WapDrop,function(){}),S.waitForBBEvent(this,m.default.COLLECTION_HAS_SYNCED)}},{key:"updateFrequentContacts",value:function(e){this._frequentContacts=e}},{key:"frequentContacts",value:function(e,t){var a=this,n=e&&this._frequentContacts[e];if(n||(n=this._frequentContacts.message),!n)return[];var i=t&&t.id;return n.map(function(e){return a.get(e)}).filter(function(e){return!!e&&!e.id.equals(i)})}},{key:"getUserCount",value:function(){return this.map(function(e){return e.isUser?1:0}).reduce(function(e,t){return e+t},0)}},{key:"setChecksum",value:function(e){this.checksum=e,A.default.setContactChecksum(this.checksum),(0,p.setChecksum)(e).catch(function(){})}}]),t}(h.default);t.ContactCollection=T,T.model=b.default,T.comparator=v.default,T.cachePolicy={id:"contact",policy:h.CACHE_POLICY.IMMEDIATE,trigger:"add\n        sort\n        remove\n        reset\n        change:id\n        change:name\n        change:shortName\n        change:pushname\n        change:type\n        change:verifiedName\n        change:isBusiness\n        change:isEnterprise\n        change:verifiedLevel\n        change:statusMute\n        change:sectionHeader\n        change:isContactBlocked\n        change:labels"};var P=new T;t.default=P},dhjaadicdd:function(e,t,a){"use strict";var n=a("cfjecfhbfg")(a("bdiiahhjbe")),i={queryVideoPlaybackUrl:function(e){var t=this;return new Promise(function(a,i){var r=t.queryNode({type:"video",url:e},void 0);t.binSend("sendEphemeral",r,i,{onSend:t.binWrap(function(e){t.BinaryProtocol.read(e).then(function(e){n.default.logColor("green","bin-recv: response,video_playback_url",e)();var i=void 0;if("response"===t.N.tag(e)&&"video"===t.N.attr("type",e)){var r=t.N.attr("url",e);r&&(i={url:r})}a(i)}).catch(i)},a),onDrop:t.wrap(i)},{debugString:"query,video_playback_url",metricName:"QUERY_URL"})})}};e.exports=i},dhjeadeagb:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=n(a("ddhijeejag")),u=i(a("dbdfbgehgj")),f=i(a("bbchdeehff")),h=i(a("biddiiafgd")),p=i(a("fifhbjiec")),g=i(a("bcbahjefec")),m=i(a("cihiahfgbc")),b=a("cgjcdbggeb"),v=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).filter=function(e){var t=e.groupMetadata;return!(!e.isGroup||e.isGroup&&!t.participants.iAmMember())&&(t.participants.get(a.props.contact.id)?l10n.t(1482):!!t.participants.iAmAdmin()||l10n.t(300))},a.confirmAddToGroup=function(e){a.push(l.createElement(h.default,{onOK:a.addToGroup.bind(null,e),okText:l10n.t(1480),onCancel:a._pop,cancelText:l10n.t(1197)},l.createElement(p.default,{text:l10n.t(325,{participant:a.props.contact.formattedName,subject:e.contact.name})})))},a.addToGroup=function(e){(0,b.addParticipants)(e,[a.props.contact]).then(function(){f.default.openChatFromUnread(e).then(function(t){t&&f.default.focusChatTextInput(e)})}).catch(function(){}),a.end()},a._pop=function(){a.pop()},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){this.push(l.createElement(m.default,{chats:u.default.filter(function(e){return e.isGroup}),filter:this.filter,onCancel:this._pop,onGroup:this.confirmAddToGroup}))}}]),t}(g.default);t.default=v},dhjffabgfb:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.StickerCollection=t.FETCH_STATE=void 0;var i=n(a("eaidjcib")),r=n(a("dgcdacjddi")),o=n(a("ffceefejc")),s=n(a("cjedcdbdii")),d=n(a("dbjagcfebh")),c=n(a("cgcgbfbffj")),l=n(a("cgfidiajgj"));t.FETCH_STATE={PENDING:"PENDING",SUCCESS:"SUCCESS",ERROR:"ERROR"};var u=function(e){function t(){return(0,i.default)(this,t),(0,o.default)(this,(0,s.default)(t).apply(this,arguments))}return(0,d.default)(t,e),(0,r.default)(t,[{key:"fetch",value:function(e){throw new Error("".concat(this.constructor.name,".fetch is not implemented"))}}]),t}(c.default);t.StickerCollection=u,u.model=l.default;var f=new u;t.default=f},diafggiefe:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("hbddjfeei")),o=i(a("bhabhhjdch")),s=i(a("eaidjcib")),d=i(a("dgcdacjddi")),c=i(a("ffceefejc")),l=i(a("cjedcdbdii")),u=i(a("bjehdcaaj")),f=i(a("dbjagcfebh")),h=n(a("dcaifjegcg")),p=a("cajijabhgb"),g=i(a("bdiihbaeaj")),m=i(a("bdiiahhjbe")),b=a("ddgbhifaji"),v=i(a("bffjfbgbg")),j=a("daichdjff"),E=a("fabajdgab"),y=i(a("beeieigghj")),_=a("dgeebjciej");function S(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function C(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?S(Object(a),!0).forEach(function(t){(0,o.default)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):S(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var A=function(e){function t(){var e,a;(0,s.default)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=(0,c.default)(this,(e=(0,l.default)(t)).call.apply(e,[this].concat(i)))).id=(0,h.prop)(),a.type=(0,h.prop)(),a.mediaUrl=(0,h.prop)(),a.blobUrl=(0,h.session)(),a.mediaData=(0,h.session)(),a.fetchedFromServer=(0,h.prop)(),a.old=(0,h.session)(!1),a}return(0,f.default)(t,e),(0,d.default)(t,[{key:"initialize",value:function(){(0,u.default)((0,l.default)(t.prototype),"initialize",this).call(this),this.listenTo(this,"change:mediaUrl change:fetchedFromServer",this.triggerImageUpdate),this.triggerImageUpdate()}},{key:"triggerImageUpdate",value:function(){var e=this;if(this.fetchedFromServer&&this.mediaUrl){this.mediaData||this.addChild("mediaData",new v.default({mediaStage:j.STAGE.PREPARING}));var t={};(0,g.default)({retries:10,factor:1e3,maxTimeout:9e5,jitter:.25},function(t){return(0,E.fetchMedia)(e.mediaUrl).then(function(e){return e&&e.status>=200&&e.status<300?e:t(new p.CatalogImageDownloadError)})}).then(function(a){var n=a.result,i=y.default.createFromData(n,"image/jpeg");(0,b.prepRawMedia)(i,{}).waitForPrep().then(function(e){return t=C({},t,{mediaBlob:e.mediaBlob,type:e.type,mimetype:e.mimetype,fullWidth:e.fullWidth,fullHeight:e.fullHeight}),Promise.all([y.default.createFromBase64Jpeg(e.preview),y.default.createFromData(e.mediaBlob),(0,_.getHash)(e.mediaBlob)])}).then(function(a){var n=(0,r.default)(a,3),i=n[0],o=n[1],s=n[2];if(t=C({},t,{preview:i,mediaBlob:o,renderableUrl:o.url(),mediaStage:j.STAGE.RESOLVED,filehash:s}),s===e.mediaData.filehash)return Promise.resolve();e.mediaData.set(t)})}).catch(function(t){m.default.error("Failed to fetch ".concat(e.mediaUrl),t)(),e.mediaData.set({mediaStage:j.STAGE.ERROR_MISSING})})}}},{key:"markOld",value:function(){this.old=!0}}]),t}(h.default);A.Proxy="productImage";var M=(0,h.defineModel)(A);t.default=M},diajeiidei:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("bjehdcaaj")),l=i(a("dbjagcfebh")),u=i(a("cgcgbfbffj")),f=i(a("baagejbchg")),h=a("ddjgcfjicj"),p=n(a("cajijabhgb")),g=i(a("bfbggcdbfb")),m=i(a("cbcbdjdah")),b=i(a("biecbbiiee")),v="before",j="after",E=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).hasMediaBefore=!0,a.hasMediaAfter=!0,a}return(0,l.default)(t,e),(0,o.default)(t,[{key:"delete",value:function(){(0,c.default)((0,d.default)(t.prototype),"delete",this).call(this),this.stopListening()}},{key:"getAfter",value:function(e){var t=this.indexOf(e);return t<0||t===this.length-1?null:this.at(t+1)}},{key:"getBefore",value:function(e){var t=this.indexOf(e);return t<=0?null:this.at(t-1)}},{key:"loadEarlierMedias",value:function(){var e=this.head();e&&this.queryMedia(null,e)}},{key:"loadRecentMedias",value:function(){var e=this.last();e&&this.queryMedia(null,e,j)}},{key:"loadMoreAroundIfNeeded",value:function(e){if(e){var t=this.indexOf(e);t<20&&this.hasMediaBefore&&this.loadEarlierMedias(),this.length-t<20&&this.hasMediaAfter&&this.loadRecentMedias()}}},{key:"queryMedia",value:function(e,t){var a=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:v;if(!t&&e){var i=e.msgs;if(!i||0===i.length)return this.hasMediaBefore=!1,new Promise(function(e){e({eof:!0})});this.add(i.filter(function(e){return e.isMedia}),{at:0});var r=this.toArray();if(this.downloadMedias(r),e.msgs.msgLoadState.noEarlierMsgs)return this.hasMediaBefore=!1,new Promise(function(e){e({eof:!0})});if(r.length<=2*f.default.MEDIA_QUERY_LIMIT){var o=0===r.length?i.head():r[0];return this.queryMedia(e,o)}return new Promise(function(e){e({eof:!1})})}if(t&&n===v){if(this.queryMediaBefore)return this.queryMediaBefore;var s=0;return this.queryMediaBefore=b.default.queryMedia(t.id.remote,f.default.MEDIA_QUERY_LIMIT,n,t.isMedia?t.id:void 0).then(function(t){var n=t.messages;(!n||n.length<f.default.MEDIA_QUERY_LIMIT)&&(a.hasMediaBefore=!1);var i=[];n&&n.length>0&&(i=n.filter(function(e){return e.isMedia}),a.downloadMedias(i)),a.add(i,{at:0});var r={mediaCount:t.mediaCount,linkCount:t.linkCount,docCount:t.docCount};return e&&e.resetMediasCount(r),{length:s=i.length}}).catch(h.WapDrop,p.ProtoVersionUndefined,function(){}).catch(404,function(){}).finally(function(){a.queryMediaBefore=null,a.trigger("query_media_before",s)}),this.trigger("query_media_before",0),this.queryMediaBefore}if(t&&n===j)return this.queryMediaAfter?this.queryMediaAfter:this.queryMediaAfter=b.default.queryMedia(t.id.remote,f.default.MEDIA_QUERY_LIMIT,n,t.id).then(function(t){var n=t.messages;(!n||n.length<f.default.MEDIA_QUERY_LIMIT)&&(a.hasMediaAfter=!1);var i=[];n&&n.length>0&&(i=n.filter(function(e){return e.isMedia}),a.downloadMedias(i)),a.add(i);var r={mediaCount:t.mediaCount,linkCount:t.linkCount,docCount:t.docCount};return e&&e.resetMediasCount(r),{length:i.length}}).catch(h.WapDrop,p.ProtoVersionUndefined,function(){}).catch(404,function(){}).finally(function(){a.queryMediaAfter=null,a.trigger("query_media_after")})}},{key:"downloadMedias",value:function(e){e.forEach(function(e){e.downloadMedia(!1,g.default.WEBC_RMR_REASON_CODE.MSG_RENDER)})}}]),t}(u.default);t.default=E,E.model=m.default},dibagfjg:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=n(a("ddhijeejag")),u=i(a("dhbceejbjg")),f=i(a("bjgiedaj")),h=i(a("fifhbjiec")),p=i(a("eceadcicaf")),g=i(a("bijjhdhgfd")),m=i(a("cgbfcjgjcf")),b=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).state={active:!1},a.onActiveChange=function(e){a.setState({active:!!e})},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.active,a=e.listeners,n=e.product;t&&a.add(t,n.id.toString(),this.onActiveChange)}},{key:"render",value:function(){var e=this.props,t=e.product,a=e.onClick,n=e.theme,i=t.imageCdnUrl.productImageModel.mediaData,r=l.createElement(m.default,{theme:"list",onClick:a,mediaData:i}),o=l.createElement(h.default,{text:t.name,ellipsify:!0,titlify:!0}),s=[l.createElement("div",{className:g.default.description,key:"desc"},l.createElement(h.default,{text:t.description,ellipsify:!0})),t.currency&&null!=t.priceAmount1000&&0!==t.priceAmount1000?l.createElement("div",{className:g.default.price,key:"price"},l.createElement(h.default,{text:f.default.format(t.currency,t.priceAmount1000),ellipsify:!0})):null];return l.createElement(u.default,{key:t.id.toString(),customImage:!0,image:r,primary:o,onClick:a,secondary:s,theme:n,active:this.state.active})}}]),t}(l.Component);b.defaultProps={theme:"product"};var v=(0,p.default)(b);t.default=v},dibgadcjce:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("bacehaajgh")),o=i(a("eaidjcib")),s=i(a("dgcdacjddi")),d=i(a("ffceefejc")),c=i(a("cjedcdbdii")),l=i(a("dbjagcfebh")),u=i(a("cbfghigjc")),f=i(a("cbfccfjdie")),h=i(a("bgeijhbbad")),p=i(a("ceffhbhahb")),g=n(a("ddhijeejag")),m=i(a("cehjjfagii")),b=i(a("bfjbdahdag")),v=i(a("cfaacaccfj")),j=i(a("bbchdeehff")),E=i(a("baagejbchg")),y=i(a("biddiiafgd")),_=i(a("bjeccdffag")),S=i(a("dheiadgfhj")),C=i(a("fifhbjiec")),A=i(a("eiighchhi")),M=i(a("dfeecdfijg")),T=i(a("bffjfbgbg")),P=i(a("eiiicijcj")),N=i(a("cieaeggjg")),I=i(a("bfbggcdbfb")),k=a("behbjhhbg"),O=i(a("ihfccfgdf")),R=a("bheafeifce"),w=i(a("deibgadgic")),D=n(a("bfjajhbdf")),L=(0,h.default)(k.MIMETYPES,function(e){return"document"===e.msgType});function U(e){e&&(e.stopPropagation(),e.preventDefault())}var G=function(e){function t(){var e,a;(0,o.default)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=(0,d.default)(this,(e=(0,c.default)(t)).call.apply(e,[this].concat(i)))).showMediaMissing=function(e){U(e),j.default.openModal(g.createElement(P.default,{msg:a.props.msg}))},a.downloadMedia=function(e){if(U(e),Modernizr.adownload)a.props.msg.downloadMedia(!0,I.default.WEBC_RMR_REASON_CODE.MSG_CLICK).catch(function(){}).then(function(){switch(a.props.mediaData.mediaStage){case T.default.STAGE.RESOLVED:case T.default.STAGE.ERROR_UNSUPPORTED:a.displayToast(),A.default.initDownload((0,R.unproxy)(a.props.msg));break;case T.default.STAGE.ERROR_MISSING:a.showMediaMissing()}});else{var t=l10n.t(1470,{chrome_homepage:E.default.BROWSER_LINK.CHROME,firefox_homepage:E.default.BROWSER_LINK.FIREFOX,opera_homepage:E.default.BROWSER_LINK.OPERA});j.default.openModal(g.createElement(y.default,{onOK:function(){return j.default.closeModal()},okText:l10n.t(1331)},g.createElement("div",{dangerouslySetInnerHTML:{__html:t}})))}},a.cancelDownload=function(e){U(e),a.props.msg.cancelDownload()},a.cancelUpload=function(e){U(e),a.props.msg.cancelUpload()},a.resumeUpload=function(e){U(e),a.props.msg.resumeUpload()},a.resumeRemoteUpload=function(e){U(e),a.props.msg.resumeRemoteUpload()},a}return(0,l.default)(t,e),(0,s.default)(t,[{key:"displayToast",value:function(){var e=this.props.mediaData.filename||l10n.t(1117);j.default.openToast(g.createElement(D.default,{msg:l10n.t(397,{name:e}),id:(0,D.genId)()}))}},{key:"render",value:function(){var e,t,a,n=this.props,i=n.msg,o=n.mediaData,s=n.displayAuthor,d=n.displayType,c=s&&!i.isSentByMe&&i.isGroupMsg,l=i.showForwarded(),h=c?g.createElement("div",{className:S.default.author},g.createElement(m.default,{msg:i,contact:i.senderObj})):null,j=l?g.createElement(M.default,{msg:i,className:S.default.forwardedIndicator}):null,y=i.hsmEnabled&&i.caption?S.default.templateBubble:S.default.bubble,A=(0,p.default)(y,{[S.default.hasCaption]:i.hsmEnabled&&i.caption,[S.default.bubbleOut]:i.isSentByMe,[S.default.bubbleIn]:!i.isSentByMe,[S.default.hasAuthor]:c,[S.default.forwarded]:l,[S.default.isPreview]:this.props.displayType===E.default.DISP_TYPE.MSG_INFO,[S.default.isGallery]:this.props.displayType===E.default.DISP_TYPE.STARRED_MSGS||this.props.displayType===E.default.DISP_TYPE.GALLERY});if(o.pageCount>0){var P=l10n.t(1220,{count:o.pageCount,_plural:o.pageCount});e=g.createElement("span",{className:S.default.metaValue,title:P},P)}if(o.size>0){var I=l10n.filesize(o.size);t=g.createElement("span",{className:S.default.metaValue,title:I},I)}var O,R,D,U=S.default.filetypeIcon;if(L.hasOwnProperty(o.mimetype)&&(O=L[o.mimetype].ext,R=o.mimetype),o.filename){var G=o.filename.split(".");G.length>1&&(D=(0,f.default)(G[G.length-1]))}(!O||D&&O!==D)&&(O=D,R=(0,u.default)(k.EXT_TO_MIME,O)),U=(0,p.default)(U,R&&(0,u.default)(L,[R,"icon"])||"icon-doc-generic"),O&&(a=g.createElement("span",{"data-meta-key":"type",className:S.default.metaValue,title:O},O));var x=o.preview&&this.props.trusted?g.createElement("div",{className:S.default.thumb,style:{backgroundImage:'url("'.concat(o.preview.url(),'")')}}):null,F=o.filename||l10n.t(1117),B=null,V={onClick:function(){}};switch(o.mediaStage){case T.default.STAGE.RESOLVED:case T.default.STAGE.ERROR_UNSUPPORTED:V.onClick=this.downloadMedia,B=g.createElement(_.default.Download,{onClick:V.onClick});break;case T.default.STAGE.FETCHING:B=g.createElement(_.default.PendingCancel,{outgoingMsg:i.isSentByMe}),V.onClick=this.cancelDownload;break;case T.default.STAGE.NEED_POKE:case T.default.STAGE.INIT:V.onClick=this.downloadMedia,B=g.createElement(_.default.Download,{onClick:V.onClick});break;case T.default.STAGE.UPLOADING:B=g.createElement(_.default.PendingCancel,{outgoingMsg:i.isSentByMe}),V.onClick=this.cancelUpload;break;case T.default.STAGE.NEED_UPLOAD:B=g.createElement(_.default.Upload,null),V.onClick=this.resumeUpload;break;case T.default.STAGE.REMOTE_NEED_UPLOAD:B=g.createElement(_.default.Upload,null),V.onClick=this.resumeRemoteUpload;break;case T.default.STAGE.ERROR_TOO_LARGE:break;case T.default.STAGE.ERROR_MISSING:V.onClick=this.showMediaMissing;break;case T.default.STAGE.SENDING:B=i.isFailed?null:g.createElement(_.default.Pending,{outgoingMsg:i.isSentByMe});break;default:B=g.createElement(_.default.Pending,{outgoingMsg:i.isSentByMe})}var H,W,Y=d===E.default.DISP_TYPE.GALLERY?g.createElement("div",{className:S.default.meta},g.createElement(N.default,{msg:i,theme:"date"})):g.createElement("div",{className:S.default.meta},g.createElement(N.default,{msg:i})),$=this.props.quotedMsg?g.createElement("div",{className:S.default.quote},this.props.quotedMsg):null;i.hsmEnabled&&(H=i.caption?g.createElement("div",{className:S.default.caption},g.createElement(b.default,{msg:i,trusted:this.props.trusted,spacer:!i.footer})):null,W=g.createElement(w.default,{msg:i}));var K=i.hsmEnabled&&i.caption?null:g.createElement("div",{className:S.default.docMeta},e,a,t);return g.createElement("div",{className:A},h,j,$,g.createElement(v.default,(0,r.default)({className:S.default.container,title:l10n.t(1234,{name:F})},V),x,g.createElement("div",{className:S.default.body},g.createElement("div",{className:S.default.icon},g.createElement("div",{className:U})),g.createElement("div",{className:S.default.text},g.createElement(C.default,{text:F,dirMismatch:i.rtl!==l10n.isRTL(),direction:"auto"})),B)),K,H,W,Y)}}]),t}(g.PureComponent);G.CONCERNS={msg:["ack","caption","dir","footer","hsmEnabled","isFailed","isGroupMsg","isSentByMe","rtl","senderObj","subtype","type"],mediaData:["mediaStage","filename","pageCount","size","mimetype","preview"]};var x=(0,O.default)(G,G.CONCERNS);t.default=x},dibjgbdhfg:function(e,t){e.exports={emojiPanel:"_342qq",panelBody:"_3hg8T",panelDropdown:"_1mTBR"}},diccedcfdi:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=i(a("ceffhbhahb")),u=n(a("ddhijeejag")),f=i(a("fifhbjiec")),h=a("gaifbabbj"),p=i(a("fffdgbfji")),g=i(a("faeadiehh")),m=i(a("dbbbgjbbgf")),b=i(a("cfiighfhhg")),v=a("cicjibbhdb"),j=i(a("dbabefhajh")),E=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,(0,d.default)(t).apply(this,arguments))}return(0,c.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e,t=this.props.msg,a=(t.isTrusted()?h.Configuration.TrustedConversation:h.Configuration.UntrustedConversation)({mentions:t.mentionMap(),links:t.getLinks(),selectable:!0}),n=t.comment?u.createElement(m.default,{msg:t},u.createElement(f.default,{text:t.comment,formatters:a,selectable:!0,dirMismatch:t.rtl!==p.default.isRTL(),direction:t.dir})):null;if(this.props.quotedMsg){var i=(0,l.default)(g.default.quote,{[g.default.hasAuthor]:this.props.displayAuthor&&!t.isSentByMe&&t.isGroupMsg,[g.default.forwarded]:t.showForwarded()});e=u.createElement("div",{className:i},this.props.quotedMsg)}return u.createElement(j.default,{msg:t,displayAuthor:this.props.displayAuthor},e,u.createElement("div",{className:n?g.default.hasText:g.default.noText},u.createElement(b.default,{hasCaption:!!n,iconName:(0,v.liveLocationIcon)(!1),msg:this.props.msg,theme:"small-icon"},p.default.t(305))),n)}}]),t}(u.Component);t.default=E},dicdgcbidg:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return new Promise(function(t,a){var n=new r.default;n.onerror=function(e){n.terminate(),a(new o.DecodeWebpResultsError("worker error",e))},n.onmessageerror=function(e){n.terminate(),a(new o.DecodeWebpResultsError("worker message error",e))},n.onmessage=function(e){n.terminate();var a=e.data;t(a)},n.postMessage({webpBuffer:e},[e])})};var r=i(a("cejfhccbi")),o=n(a("cajijabhgb"))},dicfecifhd:function(e,t){e.exports={STREAM_END:2,LIST_EMPTY:0,DICTIONARY_0:236,DICTIONARY_1:237,DICTIONARY_2:238,DICTIONARY_3:239,JID_AD:247,LIST_8:248,LIST_16:249,JID_PAIR:250,HEX_8:251,BINARY_8:252,BINARY_20:253,BINARY_32:254,NIBBLE_8:255,SINGLE_BYTE_MAX:256,PACKED_MAX:254}},dicggaeied:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,c.default)(e,p)};var r=i(a("hbddjfeei")),o=i(a("cfjdfebffb")),s=i(a("bbhahjgijh")),d=i(a("bbchdeehff")),c=n(a("dideejhcch")),l=n(a("ebggjhghhi")),u=n(a("dcdiaahjj")),f=i(a("bgabgddgch")),h=new Set(["ar","bn","cs","de","en","es","fa","fr","gu","he","hi","hu","id","it","mr","ms","nl","pl","pt","pt-BR","ro","ru","sk","th","tr","uk","ur","zh-CN","zh-TW"]),p=null;var g=null,m=[];function b(){var e=(0,o.default)(["en",l10n.getLocale()]).filter(function(e){return h.has(e)});if(!(0,s.default)(m,e)){m=e;var t=Promise.map(e,function(e){return function(e){return Promise.loop(function(t,n,i){var o=Promise.delay(f.default.expBackoff(i,12e4,1e3,.1));return a("dhhbbdaceg")("./".concat(e))().then(function(e){var a=(0,r.default)(e,2)[1];return t(a)}).catch(function(){return o})}).catch(function(){return{}})}(e)}).then(function(e){g===t&&(p=(0,c.emojiLocaleDictsToTrie)(e))}).catch(function(){}).finally(function(){g===t&&(g=null)});g=t}}d.default.on("locale_change",function(){b()}),l.waitForBBEvent(u.default,"change:mode",function(){return u.default.mode===u.StreamMode.MAIN}).then(function(){b()})},didbbgcjac:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=n(a("ddhijeejag")),u=i(a("bfdcadbbif")),f=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,(0,d.default)(t).apply(this,arguments))}return(0,c.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=this.props.className;return l.createElement(u.default,{className:e,name:"sticker-placeholder"})}}]),t}(l.PureComponent);t.default=f},didcjefefh:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=n(a("ddhijeejag")),u=i(a("bcbahjefec")),f=n(a("cjcffhicea")),h=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).requestFocus=function(){var e,t;null===(e=a.refUIE)||void 0===e||null===(t=e.getRef())||void 0===t||t.onFocusList()},a._sendProducts=function(e){var t=a.props.chat;e.forEach(function(e,a){var n=0===a?t.composeQuotedMsg:null;e.sendToChat(t,n)}),t.composeQuotedMsg=null,a.end()},a._pop=function(){a.pop()},a._popNone=function(){a.pop("none")},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){this.push(l.createElement(f.default,{title:l10n.t(1050),onCancel:this._pop,onConfirm:this._sendProducts,listType:f.ListType.PRODUCT_SELECT_MODAL,enableSearchBox:!1}))}}]),t}(u.default);t.default=h},dideejhcch:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var a=[];if(e){var n=function(e,t){var a=function(e,t){if(!t)return[];if(e.length<=5)return t.getMatches(e);var a=e.substring(0,5).trim(),n=t.getMatches(a);return n=(0,f.default)(n,function(t){return t.keyword.startsWith(e)})}(e,t),n=(0,u.default)((0,f.default)(a,{keyword:e}),"value");a=(0,u.default)(a,"value");var i=(0,l.default)(g.default.map(function(e){return e.id}),a),r=(0,l.default)(v,a),h=(0,l.default)((0,c.default)(i,r),n);return h=(0,d.default)((0,s.default)(h,function(e){return p.default.getEmojiFromUnicode(e)})),n=E(n=(0,d.default)((0,s.default)(n,function(e){return p.default.getEmojiFromUnicode(e)}))),i=(0,d.default)((0,s.default)(i,function(e){return p.default.getEmojiFromUnicode(e)})),r=(0,d.default)((0,s.default)(r,function(e){return p.default.getEmojiFromUnicode(e)})),a=(0,d.default)((0,s.default)(a,function(e){return p.default.getEmojiFromUnicode(e)})),a=E(a=(0,o.default)(a,(0,c.default)(n,i,r))),(0,c.default)(h,n,i,r,a)}(e.toLowerCase(),t);a=(0,h.default)(n)}return a},t.emojiLocaleDictsToTrie=function(e){var t=e[0];e.length>1&&(t=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?b(Object(a),!0).forEach(function(t){(0,i.default)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):b(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},t,{},e[1]));return function(e,t){var a=m.default.fromForwardsStrings(e.map(function(e){return e[t]}),e);return{getMatches:function(e){return a.search(e)}}}((0,s.default)(t,function(e,t){var a=t.toLowerCase(),n=a.substring(0,5);return{value:e,keyword:a,shortKeyword:n}}),"shortKeyword")};var i=n(a("bhabhhjdch")),r=n(a("eicihhaba")),o=n(a("bhdddbafig")),s=n(a("dbafiicfja")),d=n(a("jcfacighg")),c=n(a("bgjcbiaddd")),l=n(a("bhdefefjjb")),u=n(a("gaaifgdgd")),f=n(a("iidhbgeed")),h=n(a("cfjdfebffb")),p=n(a("djegeegcbf")),g=n(a("bjfecgfdgj")),m=n(a("cjdfbfihbe"));function b(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}var v=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],j=["SMILEYS_PEOPLE","ANIMALS_NATURE","FOOD_DRINK","ACTIVITY","TRAVEL_PLACES","OBJECTS","SYMBOLS","FLAGS","VARIATION"];function E(e){var t={};return j.forEach(function(e){t[e]=[]}),e.forEach(function(e){var a=p.default.getCategoryString(e);t[a].push(e)}),(0,r.default)(t,function(e,a){e.length>0&&(t[a]=(0,l.default)(p.default.getEmojiListInCategory(a),e))}),(0,u.default)(t)}},dieafdcbjb:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=n(a("dcaifjegcg")),u=i(a("jccfhaecf")),f=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).id=(0,l.prop)(),a.status=(0,l.prop)(),a.stale=(0,l.session)(!0),a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"getCollection",value:function(){return a("gbbacfeci").default}}]),t}(l.default);f.Proxy="status",f.idClass=u.default;var h=(0,l.defineModel)(f);t.default=h},dieejegcge:function(e,t,a){"use strict";var n=(0,a("cfjecfhbfg")(a("chgaccicf")).default)({CONTACT_US:void 0,DELETE_OR_EXIT_CHAT:void 0,GO_TO_NEXT_CHAT:void 0,GO_TO_PREV_CHAT:void 0,LOGOUT:void 0,OPEN_NEW_CHAT:void 0,OPEN_NEW_GROUP:void 0,OPEN_PROFILE:void 0,OPEN_SETTINGS:void 0,SEARCH:void 0,SEARCH_IN_CHAT:void 0,TOGGLE_ARCHIVE:void 0,TOGGLE_MUTE:void 0,TOGGLE_UNREAD:void 0,ZOOM_IN:void 0,ZOOM_OUT:void 0,ZOOM_RESET:void 0});e.exports=n},diegbjcafg:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=n(a("ddhijeejag")),u=i(a("bbchdeehff")),f=i(a("baagejbchg")),h=i(a("biddiiafgd")),p=i(a("bjigbaghc")),g=i(a("dhigahgdjb")),m=i(a("bidfjbaebi")),b=a("facgccaif"),v=a("dgjddffcfg"),j=i(a("edbaidcaf")),E=i(a("jccfhaecf")),y=i(a("djbfhebjhe")),_=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).onVerificationClick=function(){var e=a.props.jid;e&&(u.default.closeModal(),u.default.verificationDrawer(e))},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e,t,a=null,n=null,i=function(){return u.default.closeModal()},r=l10n.t(1331),o=this.props,s=o.e2eSubtype,d=o.chatId;switch(s){case"info_encrypted":E.default.isGroup(d)?e=l10n.t(1263):E.default.isBroadcast(d)&&(e=l10n.t(1189)),t=(0,b.getE2EFaqUrl)();break;case"identity":var c=this.props.jid,_=c&&g.default.get(c);if(_&&_.isMe)e=l10n.t(1394);else{var S=_?_.formattedName:(0,y.default)(this.props.jid);e=l10n.t(1393,{name:S})}a=i,n=r,i=this.onVerificationClick,r=l10n.t(1441),t=(0,b.getCodeChangeFaqUrl)();break;case"encrypt":default:if(t=j.default.build(f.default.SECURITY_LINK,{lg:p.default.lg,lc:p.default.lc}),E.default.isGroup(d))e=l10n.t(1258);else if(E.default.isBroadcast(d))e=l10n.t(1187);else if(E.default.isOfficialBizAccount(d))e=l10n.t(1329),t=(0,b.getE2EEnterpriseFaqUrl)();else{var C=g.default.get(d);if(C&&C.isEnterprise){var A=(0,v.formatEnterpriseE2EName)(C);e=l10n.t(1302,{businessName:A}),t=(0,b.getE2EEnterpriseFaqUrl)()}else e=l10n.t(1301)}}var M=l.createElement(m.default,{href:t},l10n.t(644));return l.createElement(h.default,{onOK:i,okText:r,onCancel:a,cancelText:n},e,"",M)}}]),t}(l.Component);t.default=_},difacfecfb:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.shift().blocklist.map(function(e){return{id:e}});i.default.supportsFeature(i.default.F.MD_BACKEND)?r.Blocklist.clear().then(function(){return Promise.map(t,function(e){var t=e.id;return r.Blocklist.create({id:t.toString()})})}).then(function(){return o.default.Blocklist.set(t)}):o.default.Blocklist.set(t)};var i=n(a("bjbdcigbdi")),r=a("cefcddgdgg"),o=n(a("bhggeigghg"))},difbicaihd:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.StarredStickerCollection=t.STARRED_STICKERS_PAGE_SIZE=void 0;var i=n(a("bhabhhjdch")),r=n(a("eaidjcib")),o=n(a("dgcdacjddi")),s=n(a("ffceefejc")),d=n(a("cjedcdbdii")),c=n(a("bjehdcaaj")),l=n(a("dbjagcfebh")),u=n(a("cgcgbfbffj")),f=n(a("bjbdcigbdi")),h=n(a("bdiiahhjbe")),p=n(a("cgfidiajgj")),g=n(a("bihdhbjih"));function m(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}t.STARRED_STICKERS_PAGE_SIZE=24;var b=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i))))._checksum="",a._syncStatus="NONE",a._currentPage=0,a._total=0,a}return(0,l.default)(t,e),(0,o.default)(t,[{key:"_findQuery",value:function(){var e=this;return f.default.isStarredStickersEnabled()?g.default.queryStarredStickers(this._currentPage+1,24).then(function(t){var a=t.checksum,n=t.total,r=t.stickers;return e._checksum=a,e._currentPage+=1,e._total=n,r.map(function(t,a){return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?m(Object(a),!0).forEach(function(t){(0,i.default)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):m(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},t,{index:e.length+a})})}):Promise.reject(new Error("gk starred sticker sync unsupported"))}},{key:"add",value:function(e,a,n){return n&&(this._total+=1),(0,c.default)((0,d.default)(t.prototype),"add",this).call(this,e,a)}},{key:"remove",value:function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this._total-=1,(0,c.default)((0,d.default)(t.prototype),"remove",this).call(this,e,a)}},{key:"syncNextPage",value:function(){var e=this;return this.canLoadMore?this._sync(!1).then(function(){e.trigger("next_page_sync")}):Promise.resolve()}},{key:"sync",value:function(e){var t=this;return null==e||e!==this._checksum?(this.reset(),this._sync(!0).then(function(){t.trigger("sync")})):Promise.resolve()}},{key:"_sync",value:function(e){var t=this;return"INPROGRESS"===this._syncStatus?Promise.resolve():(this._syncStatus="INPROGRESS",this.findQuery({},{set:e}).then(function(){t._syncStatus="SUCCESS"}).catch(function(e){h.default.error("collection:starred_sticker:_sync error ")(e),t._syncStatus="FAILURE"}))}},{key:"isSynced",value:function(){return"SUCCESS"===this._syncStatus||"FAILURE"===this._syncStatus}},{key:"canLoadMore",value:function(){return 0!==this._total&&this.length<this._total}},{key:"getRemaining",value:function(){return this._total-this.length}},{key:"reset",value:function(){return this._syncStatus="NONE",this._currentPage=0,this._checksum="",this._total=0,(0,c.default)((0,d.default)(t.prototype),"reset",this).call(this)}}]),t}(u.default);t.StarredStickerCollection=b,b.model=p.default,b.comparator=function(e,t){return e.index>=t.index?1:-1};var v=new b;t.default=v},digaijibbh:function(e,t){e.exports={versionInfo:"_2MoEz"}},digcccheca:function(e,t,a){var n=a("eaidjcib"),i=a("dgcdacjddi"),r=function(){"use strict";function e(){n(this,e),this.internalHandlers=new Map}return i(e,[{key:"initialize",value:function(e){this.ctx=e}},{key:"registerHandler",value:function(e,t,a){var n=this.internalHandlers.get(t)||new Map;n.set(e,a),this.internalHandlers.set(t,n)}},{key:"unregisterHandler",value:function(e,t){var a=this.internalHandlers.get(t);a&&(a.delete(e),a.size||this.internalHandlers.delete(t))}},{key:"handle",value:function(e){var t,a,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=this.internalHandlers.get(e);return!!i&&(t=i,a=[],t.forEach(function(e){return a.push(e)}),a).some(function(e){return e.apply(null,n)})}}]),e}();e.exports=r},digfibghde:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.removeMessagesFromHistory=function(e){if(!r.default.supportsFeature(r.default.F.MD_BACKEND))return Promise.resolve();var t=e.map(function(e){return e.toString()});return Promise.resolve().then(function(){}).finally(function(){o.get().removeMessagesFromHistory(t)})};var r=i(a("bjbdcigbdi")),o=n(a("bhehfiebbd"));a("becbhcadc")},digjajabhb:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function e(t){var a=t.paymentStatus,n=t.expiryTimestamp;if(null==!a||a===e.UNKNOWN_STATUS)return null;var i,o;switch(a){case l.PaymentInfo.STATUS.PROCESSING:i=d.default.t(1365),o=f.PROCESSING;break;case l.PaymentInfo.STATUS.COMPLETE:i=d.default.t(1358),o=f.SUCCESS;break;case l.PaymentInfo.STATUS.SENT:i=d.default.t(1361),o=f.WAITING;break;case l.PaymentInfo.STATUS.NEED_TO_ACCEPT:i=h(n),o=f.WAITING;break;case l.PaymentInfo.STATUS.COULD_NOT_COMPLETE:case l.PaymentInfo.STATUS.REFUNDED:i=d.default.t(1359),o=f.FAILED;break;case l.PaymentInfo.STATUS.EXPIRED:i=d.default.t(1360),o=f.FAILED;break;case l.PaymentInfo.STATUS.REJECTED:i=d.default.t(1368),o=f.FAILED;break;case l.PaymentInfo.STATUS.CANCELLED:i=d.default.t(1357),o=f.FAILED;break;case l.PaymentInfo.STATUS.WAITING_FOR_PAYER:i=d.default.t(1372),o=f.WAITING;break;case l.PaymentInfo.STATUS.WAITING:i=h(n),o=f.WAITING;break;default:i="",o=f.PROCESSING}return s.createElement("span",{className:(0,r.default)(c.default.status,c.default[o])},i)};var r=i(a("ceffhbhahb")),o=i(a("dgdjiicfdg")),s=n(a("ddhijeejag")),d=i(a("fffdgbfji")),c=i(a("deceibabdd")),l=a("bbcaggdbc"),u=6e4,f={FAILED:"failed",PROCESSING:"processing",WAITING:"waiting",SUCCESS:"success"};function h(e){if(null==e)return d.default.t(1361);var t=1e3*e;if(t-Date.now()>u){var a=(0,o.default)().to((0,o.default)(t));return d.default.t(1363,{timeSpan:a})}return t-Date.now()>0?d.default.t(1364):d.default.t(1362)}},dihehaccca:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=i(a("ceffhbhahb")),u=n(a("ddhijeejag")),f=i(a("cffibfiejh")),h=i(a("cajbifjffe")),p=i(a("dfbbbjdejj")),g=i(a("bfdcadbbif")),m={SMALL:"SMALL",MEDIUM:"MEDIUM",LARGE:"LARGE",AUTO:"AUTO",NONE:"NONE"};function b(e){switch(e){case m.SMALL:return 49;case m.MEDIUM:return 100;case m.LARGE:return 200;case m.NONE:return;default:return e}}var v=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).state={isLoaded:!1},a.onLoad=function(){a.setState({isLoaded:!0})},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e,t=this.props,a=t.size,n=t.src,i=t.fallback,r=t.className,o=t.loader,s=this.state.isLoaded,d=(0,l.default)(p.default.avatarImage,{[p.default.isLoaded]:s}),c={height:b(a),width:b(a)};return o&&!s&&(e=u.createElement(f.default,null)),u.createElement("div",{className:(0,l.default)(p.default.avatar,r),style:c},e,u.createElement(h.default,{src:n,className:d,onLoad:this.onLoad}),u.createElement("div",{className:p.default.avatarDefault},u.createElement(g.default,{name:i})))}}]),t}(u.PureComponent);t.default=v,v.defaultProps={size:m.SMALL,loader:!1}},diigahjidi:function(e,t){e.exports={actions:"_1PENu",actionsBtn:"Ir_Ne",noDivider:"_K9qV"}},dijbgcccgc:function(e,t){e.exports={container:"_2UVJ5",containerFull:"_3Zium",icon:"_3-Rfz",containerCircleIconFull:"EdESZ",name:"_2UekJ",labelFilter:"_36d6G",iconContainer:"yKiIK",drawerTitle:"_21dcE",circleIcon:"_3AL1D"}},dijcicjfhc:function(e,t){e.exports={wrapper:"_1kjoa",icon:"exVc0",text:"_2SQDy"}},djaadchjch:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg"),r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=i(a("bgjcbiaddd")),u=i(a("cgcgbfbffj")),f=a("ddjgcfjicj"),h=n(a("cajijabhgb")),p=i(a("bjbdcigbdi")),g=i(a("fcfchiagj")),m=i(a("bdiiahhjbe")),b=a("bjcegba"),v=a("biigiejiib"),j=i(a("bhggeigghg")),E=i(a("bihdhbjih")),y=i(a("jccfhaecf")),_=a("dcbdjheea"),S=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,(0,d.default)(t).apply(this,arguments))}return(0,c.default)(t,e),(0,o.default)(t,[{key:"onResume",value:function(){var e=this;(0,l.default)(j.default.Chat.where({active:!0}).filter(function(e){return e.isGroup||e.isBroadcast}),j.default.Chat.where({isBroadcast:!0})).forEach(function(t){e.find(t.id).catch(f.WapDrop,h.ProtoVersionUndefined,function(){})})}},{key:"_find",value:function(e){var t=this;if(!y.default.isGroup(e)){if(y.default.isBroadcast(e))return E.default.contactFindBroadcast(e).then(function(a){if(200===a.status){var n=t.get(e);return n&&!n.stale?Promise.resolve(n):{id:e,participants:a.recipients}}return 404===a.status?(m.default.error("models:GroupMetadataCollection:_find:False broadcast list query")(),{id:e}):(m.default.error("models:GroupMetadataCollection:_find:bclist error: "+a.status)(),Promise.reject(new Error("models:GroupMetadataCollection:_find:bclist error: "+a.status)))});var a="groupMetadata:find trying to fetch non-group/bclist wid "+e.toString();return m.default.log(a)(),Promise.reject(new Error(a))}var n=j.default.Chat.get(e);return n&&n.isReadOnly?p.default.supportsFeature(p.default.F.MD_BACKEND)?void 0:(0,b.queryGroupFromPhone)(e):(0,v.sendQueryGroup)(e)}},{key:"_handle",value:function(e){return e}},{key:"handlePendingInvite",value:function(e){var t=e.gid,a=e.participants;this.add({id:(0,_.createWid)(t),pendingParticipants:a},{merge:!0})}}]),t}(u.default);S.model=g.default,S.staleCollection=!0,e.exports=new S},djachcgbii:function(e,t){e.exports={read_more:"_1Jc9f",readMore:"_1Jc9f"}},djahiefbec:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=n(a("ddhijeejag")),u=i(a("dbdfbgehgj")),f=i(a("bbchdeehff")),h=i(a("baagejbchg")),p=i(a("biddiiafgd")),g=i(a("dhigahgdjb")),m=i(a("dhhfaeacef")),b=i(a("fifhbjiec")),v=a("cicgeajfge"),j=a("ddjgcfjicj"),E=n(a("cajijabhgb")),y=a("bejbgaghc"),_=i(a("hhjiahbag")),S=i(a("dihehaccca")),C=a("chcadgfgad"),A=i(a("bjbedjfe")),M=a("bjcegba"),T={LOADING:0,SUCCESS:1,ERROR:2},P=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).state={state:T.LOADING,status:void 0,groupMetadata:void 0,subject:void 0},a.onViewGroup=function(e){var t;e?t=e:a.state.groupMetadata&&(t=a.state.groupMetadata.id),t&&f.default.openChatFromUnread(u.default.assertGet(t)),f.default.closeModal()},a.onJoinGroup=function(){(0,y.joinGroupViaInvite)(a.props.groupCode).then(function(e){f.default.openChatFromUnread(e).then(function(t){t&&f.default.focusChatTextInput(e)}),f.default.closeModal()}).checkpoint(a.props.rejectOnUnmount()).catch(E.Unmount,function(){}).catch(j.ServerStatusCodeError,function(e){a.setState({state:T.ERROR,status:e.status})})},a.onCancel=function(){f.default.closeModal()},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){var e=this;(0,M.queryGroupInviteInfo)(this.props.groupCode).checkpoint(this.props.rejectOnUnmount()).then(function(t){var a=t.status,n=t.subject,i=t.groupMetadata;t.inGroup?e.onViewGroup(i.id):e.setState({status:a,groupMetadata:i,subject:n,state:T.SUCCESS})}).catch(j.ServerStatusCodeError,function(t){e.setState({status:t.status,state:T.ERROR})}).catch(E.Unmount,function(){})}},{key:"render",value:function(){var e,t,a=this.props.groupCode,n=this.state,i=n.state,r=n.status,o=n.groupMetadata,s=n.subject,d={cancelText:l10n.t(534),onCancel:this.onCancel,onOK:void 0,okText:void 0};if(i===T.LOADING)e=l.createElement(v.LoadingWithText,{text:l10n.t(535)});else if(i===T.SUCCESS&&o){var c,f=o.participants,j=o.size||f.length,E=f.filter(function(e){return!!g.default.assertGet(e.id).name}),y=o.desc?l.createElement("div",{className:_.default.metadataDesc},o.desc):null;c=E.length?l.createElement("div",{className:_.default.participantList},l.createElement("div",{className:_.default.participantsTitle},l10n.t(546,{count:j,_plural:j})," ",""," ",l10n.t(536,{count:E.length,_plural:E.length})),l.createElement("div",{className:_.default.participantsContainer},E.map(function(e){return l.createElement("div",{key:e.id.toString(),className:_.default.participantWrapper},l.createElement(m.default,{id:e.id}),l.createElement(b.default,{className:_.default.participantText,text:e.contact.formattedName}))}))):l.createElement("div",{className:_.default.emptyContentContainer},l.createElement("span",{className:_.default.participantsText},l10n.t(546,{count:j,_plural:j})),l.createElement("span",{className:_.default.contactsText}," ",""," ",l10n.t(536,{count:E.length,_plural:E.length})));var A="".concat(h.default.GROUP_INVITE_URL).concat(a),M=g.default.gadd(o.owner).formattedName;e=l.createElement("div",null,l.createElement("div",{className:_.default.metadataContainer},l.createElement(S.default,{src:A,fallback:"default-group",size:82}),l.createElement("div",{className:_.default.metadataText},l.createElement(b.default,{className:_.default.metadataTitle,text:s}),l.createElement("span",{className:_.default.metadataSubtitle},l10n.t(537,{participant:M})),y)),c);var P=u.default.get(o.id),N=!!P&&!P.isReadOnly;d.onOK=N?this.onViewGroup:this.onJoinGroup,d.okText=N?l10n.t(558):l10n.t(541),t=C.FlexModalType}else{var I;switch(r){case 401:I=l10n.t(529);break;case 404:I=l10n.t(530);break;case 410:I=l10n.t(531);break;case 419:I=l10n.t(532);break;default:I=l10n.t(533)}d.cancelText=l10n.t(1331),e=l.createElement("div",null,I)}return l.createElement(p.default,{cancelText:d.cancelText,onCancel:d.onCancel,onOK:d.onOK,okText:d.okText,type:t},e)}}]),t}(l.Component),N=(0,A.default)(P);t.default=N},djbecaeiae:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=n(a("ddhijeejag")),u=i(a("dbdfbgehgj")),f=i(a("bbchdeehff")),h=i(a("biddiiafgd")),p=i(a("fifhbjiec")),g=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).onCancel=function(){f.default.closeModal()},a.onUnstar=function(){var e=a.props.chat,t=a.props.msgs;e&&e.pendingAction++,u.default.unstarAllMessages(t,e).finally(function(){e&&e.pendingAction--}),f.default.closeModal()},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){return l.createElement(h.default,{onOK:this.onUnstar,okText:l10n.t(1109),onCancel:this.onCancel},l.createElement("div",null,l.createElement(p.default,{text:l10n.t(1110)})))}}]),t}(l.Component);t.default=g},djbfhebjhe:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(e){var t;if(e instanceof d.default?t=e.user:(0,s.isString)(e)&&(t=e.split("@")[0]),t)return r.default.numAndPunc(c(t))}return""};var i=n(a("caejgeijci")),r=n(a("fffdgbfji")),o=n(a("beiebgdecj")),s=a("hjbbdjjdf"),d=n(a("jccfhaecf")),c=(0,i.default)(function(e){return"Server"===e?e:(0,o.default)(e)})},djbgihfhif:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=n(a("ddhijeejag")),u=i(a("fijafegab")),f=a("bgjddhffji"),h=a("bfajcggcdf"),p=i(a("bfbggcdbfb")),g=i(a("cgbfcjgjcf")),m=a("bheafeifce"),b=i(a("bfdcadbbif")),v=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).onProductDetail=function(e){var t=a.props,n=t.onProductDetail,i=t.sessionId;t.entryPoint===p.default.CATALOG_ENTRY_POINT.CATALOG_ENTRY_POINT_PROFILE&&(0,f.logProfileProductClick)((0,m.unproxy)(e),i),n(e,i)},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.entryPoint,a=e.catalog,n=e.sessionId;t===p.default.CATALOG_ENTRY_POINT.CATALOG_ENTRY_POINT_PROFILE&&(0,f.logBusinessProfileCatalogView)(a.id.toString(),n)}},{key:"render",value:function(){var e=this,t=this.props,a=t.catalog,n=t.onProductCatalog,i=t.filterProductId,r=t.title,o=t.animation,s=t.sessionId,d=a.productCollection.getProductModels().slice(0,7).filter(function(e){return e.id.toString()!==i}).map(function(t,a){return l.createElement(g.default,{key:t.id.toString(),onClick:function(){return e.onProductDetail(t)},mediaData:t.imageCdnUrl.productImageModel.mediaData})}).slice(0,6);if(!d.length)return null;var c=l.createElement(b.default,{name:"chevron-right-alt",directional:!0});return l.createElement(u.default,{title:r||l10n.t(918),titleOnClick:n.bind(this,s),subtitle:c,theme:"padding",animation:o},l.createElement(h.Gallery,{productMedias:d,mediaCollection:a.productCollection}))}}]),t}(l.Component);t.default=v},djbhiedbef:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("bacehaajgh")),o=i(a("dagbcgeifg")),s=i(a("eaidjcib")),d=i(a("dgcdacjddi")),c=i(a("ffceefejc")),l=i(a("cjedcdbdii")),u=i(a("dbjagcfebh")),f=i(a("bcdejiigcg")),h=i(a("ceffhbhahb")),p=n(a("ddhijeejag")),g=i(a("dhajfeafhd")),m=i(a("cicjcfabii")),b=function(e){function t(){return(0,s.default)(this,t),(0,c.default)(this,(0,l.default)(t).apply(this,arguments))}return(0,u.default)(t,e),(0,d.default)(t,[{key:"render",value:function(){var e=this.props,t=e.overflow,a=e.flatListControllers,n=e.children,i=(0,o.default)(e,["overflow","flatListControllers","children"]),s=(0,h.default)(g.default.container,{[g.default.noscroll]:"hidden"===t,[g.default.centerItem]:"center-content"===this.props.theme,[g.default.padding]:"padding"===this.props.theme});return a&&a.length?p.createElement(m.default,(0,r.default)({flatListControllers:a,className:s},(0,f.default)(i,["theme"])),n):p.createElement("div",(0,r.default)({className:s},i),n)}}]),t}(p.Component);t.default=b},djcchigfih:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=i(a("ceffhbhahb")),u=n(a("ddhijeejag")),f=i(a("ccegbieicj")),h=i(a("ccabcdcjec")),p=i(a("bahefhdbbb")),g=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).setDragAndDropRef=function(e){a.dragAndDropRef=e},a.onDragOver=function(e){a.dragAndDropRef&&a.dragAndDropRef.onDragOver(e)},a.onDragStart=function(e){a.dragAndDropRef&&a.dragAndDropRef.onDragStart(e)},a.onDragEnd=function(e){a.dragAndDropRef&&a.dragAndDropRef.onDragEnd(e)},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=this.props,t=e.children,a=e.onDrop,n=e.onDragChange,i=e.theme,r=(0,l.default)(p.default.drawer,{[p.default.white]:"invite"===i||"products"===i||"labels"===i||"settings"===i,[p.default.drawerCapture]:"capture"===i,[p.default.drawerEdit]:"edit"===i,[p.default.drawerMedia]:"media"===i,[p.default.drawerGallery]:"gallery"===i,"drawer-verification":"verification"===i});return u.createElement(f.default,{className:r,onDragOver:this.onDragOver,onDragStart:this.onDragStart,onDragEnd:this.onDragEnd},a&&u.createElement(h.default,{ref:this.setDragAndDropRef,disableFromWithin:!0,onDragChange:n,onDrop:a}),t)}}]),t}(u.PureComponent);t.default=g},djchfddccj:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("eaidjcib")),r=n(a("dgcdacjddi")),o=a("dbajccegac"),s=function(){function e(t){(0,i.default)(this,e),this.binary=new o(t)}return(0,r.default)(e,[{key:"readByte",value:function(){return this.binary.readUint8()}},{key:"readInt16",value:function(){return this.binary.readUint16()}},{key:"readInt20",value:function(){return((15&this.binary.readUint8())<<16)+(this.binary.readUint8()<<8)+this.binary.readUint8()}},{key:"readInt32",value:function(){return this.binary.readUint32()}},{key:"readString",value:function(e){return this.binary.readString(e)}},{key:"readBytes",value:function(e){return this.binary.readBuffer(e)}},{key:"debugInfo",value:function(){return"offset: ".concat(this.binary._readIndex," byte: ").concat(this.binary._buffer[this.binary._readIndex])}},{key:"debugInfoWithPadding",value:function(){var e=this.binary._buffer.slice(Math.max(0,this.binary._readIndex-20),this.binary._readIndex).toString(),t=this.binary._buffer.slice(this.binary._readIndex,Math.min(this.binary._buffer.length,this.binary._readIndex+20)).toString();return"offset: ".concat(this.binary._readIndex," byte: ").concat(this.binary._buffer[this.binary._readIndex]," previous 20 bytes: ").concat(e,"\n        following 20 bytes: ").concat(t,"\n        ")}}]),e}();t.default=s},djcjgfjggc:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.getGifDimensions=G,t.giphyResultsToGifs=x,t.default=t.Component=void 0;var r,o=i(a("hbddjfeei")),s=i(a("eaidjcib")),d=i(a("dgcdacjddi")),c=i(a("ffceefejc")),l=i(a("cjedcdbdii")),u=i(a("dbjagcfebh")),f=n(a("ddhijeejag")),h=a("bgiachiigg"),p=a("cicgeajfge"),g=n(a("cajijabhgb")),m=a("ddajbaceej"),b=a("ccgdfaeibd"),v=i(a("hbabifghf")),j=i(a("bhfeffjbfg")),E=i(a("igbbahaj")),y=i(a("dhfbfehaef")),_=i(a("bdiiahhjbe")),S=i(a("bfbggcdbfb")),C=i(a("bbgcdfeifh")),A=i(a("bjbedjfe")),M=i(a("dgdeceggdh")),T=n(a("ebggjhghhi")),P=i(a("bcddhhfhda")),N=i(a("ceddibdhdb")),I=i(a("chhcagejdh")),k=i(a("bjieiiccce"));r="3o85xmWDYKgihhIKSA";var O="DLAQBEYLJJIM",R={giphy:S.default.GIF_SEARCH_PROVIDER.GIPHY,tenor:S.default.GIF_SEARCH_PROVIDER.TENOR},w={giphy:h.VIDEO_MESSAGE_ATTRIBUTION.GIPHY,tenor:h.VIDEO_MESSAGE_ATTRIBUTION.TENOR},D=new M.default(function(e){switch((0,b.gifProvider)()){case"giphy":return function(e){var t,a=e===E.default.TRENDING;if(a)t=k.default.request("https://api.giphy.com/v1/gifs/trending","GET",{api_key:r,limit:100,rating:"pg-13"},"json");else{var n,i=l10n.getLocale();b.GIPHY_LOCALES.includes(i)&&(n=i),t=k.default.request("https://api.giphy.com/v1/gifs/search","GET",{q:e,api_key:r,limit:100,rating:"pg-13",lang:n},"json")}return t.catch(function(){return null}).then(function(e){return e&&e.status<300&&x(e.response,a)})}(e);case"tenor":return function(e){var t,a=e===E.default.TRENDING,n=l10n.lng().replace("-","_");t=a?k.default.request("https://wa.tenor.co/v1/trending","GET",{key:O,limit:50,contentfilter:"high",locale:n},"json"):k.default.request("https://wa.tenor.co/v1/search","GET",{q:e,key:O,limit:50,contentfilter:"high",locale:n},"json");return t.catch(function(){return null}).then(function(e){return e&&e.status<300&&function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e||!Array.isArray(e.results))return[];for(var a=e.results,n=[],i=0;i<a.length;i++){var r=a[i];if(r&&r.media&&r.media[0]){var s=r.media[0],d=s.tinymp4,c=s.previewmp4,l=s.previewgif;if(d){var u=(0,o.default)(d.dims,2),f=u[0],h=u[1];n.push(new b.GifInfo(n.length,d.url,d.size,c&&c.url||void 0,l&&l.url||void 0,Math.round(f*b.TARGET_GIF_HEIGHT/h),b.TENOR,t))}}}return n}(e.response)})}(e);default:throw new Error("Unrecognized provider ".concat((0,b.gifProvider)()))}},{maxCached:6,maxAge:36e4,shouldCache:function(e){return!(!e||!e.length)}}),L={UP:"UP",DOWN:"DOWN",LEFT:"LEFT",RIGHT:"RIGHT"},U=function(e){function t(e){var a;return(0,s.default)(this,t),(a=(0,c.default)(this,(0,l.default)(t).call(this,e)))._scrollTop=0,a._didSendGif=!1,a._onlineRestarter=null,a._pendingQuery=null,a.refGifs={},a.refGifsBySectionId={},a.setRefGif=function(e,t){var n=(0,o.default)(e,2),i=n[0],r=n[1];t?(a.refGifs[i]=t,a.refGifsBySectionId[r]=t):(delete a.refGifs[i],delete a.refGifsBySectionId[r])},a.setRefGifCache=new P.default(a.setRefGif),a.onSend=function(e){var t=R[e.attribution];new S.default.GifFromProviderSent({gifSearchProvider:t}).commit(),e.trending||"number"!=typeof e.rank||new S.default.GifSearchResultTapped({gifSearchProvider:t,rank:e.rank}).commit(),a._didSendGif=!0,a.props.onGif(e.url,w[e.attribution])},a.animateGif=function(){var e=a._animatingRow,t=a._scrollTop+b.GAP_SIZE;a._starredGifs&&(t-=a._starredGifs.getClientHeight()||0);var n=Math.round(t/(b.TARGET_GIF_HEIGHT+b.GAP_SIZE)),i=a.state.gifRows[n];if(i&&i.gifs.length&&i!==e){if(a._animatingRow=i,e)for(var r=0;r<e.gifs.length;r++)a.setGifAnimating(e.gifs[r].gifId,!1);for(var o=0;o<i.gifs.length;o++)a.setGifAnimating(i.gifs[o].gifId,!0)}[n+1,n-1].forEach(function(e){if(a.state.gifRows[e])for(var t=a.state.gifRows[e].gifs,n=0;n<t.length;n++)a.setGifAnimating(t[n].gifId,!1)})},a.searchForAndSetGifs=function(){var e=R[(0,b.gifProvider)()],t=a.props.searchText||a.props.selectedSectionId,n=D.getOrRun(t);n=n.then(),a._pendingQuery=n,n.checkpoint(a.props.rejectOnUnmount()).then(function(i){if(i&&0===i.length&&new S.default.GifSearchNoResults({gifSearchProvider:e}).commit(),n===a._pendingQuery&&(a._pendingQuery=null,i)){t||new S.default.GifTrendingViewed({gifSearchProvider:e}).commit();var r=a._containerDom&&a._containerDom.clientWidth||0;r-=2*b.GAP_SIZE,a._resetScroll=!0,a._animateTimer.debounce(0),a.setState({gifRows:F(i,r),width:r})}}).catch(g.Unmount,Promise.CancellationError,function(){}),setTimeout(function(){a.props.rejectOnUnmount().isPending()&&t===a.props.searchText&&new S.default.GifSearchPerformed({gifSearchProvider:e}).commit()},500)},a.onStarredGifsMount=function(e){a._starredGifs=e},a.onContainerMount=function(e){a._containerDom=e,null!=e&&e&&a._resetScroll&&(e.scrollTop=0)},a.initSelection=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];a._starredGifs&&a._starredGifs.hasGifs()&&!e?a._starredGifs&&a._starredGifs.component&&a._starredGifs.component.initSelection():(a.selection=[0,0],a.focusGif())},a.getNewColPostion=function(e){var t=a.state.gifRows,n=[a.selection[0],a.selection[1],t[Math.min(a.selection[0],t.length-1)].gifs.length-1,t[Math.min(a.selection[0]+1,t.length-1)].gifs.length-1,t[Math.max(a.selection[0]-1,0)].gifs.length-1],i=n[0],r=n[3],o=n[4],s=n[1]/n[2];switch(e){case L.UP:var d=Math.floor(o*s);return[Math.max(i-1,0),d];case L.DOWN:return[i+1,Math.floor(r*s)]}return[0,0]},a.contains=function(e){return!!a._containerDom&&a._containerDom.contains(e)},a.getStarredGifsRef=function(){return a._starredGifs},a.handleArrowKeys=function(e,t){var n=a.state.gifRows,i=[a.selection[0],a.selection[1]],r=i[0],o=i[1];switch(t){case L.UP:if(0===r)return;a.selection=a.getNewColPostion(L.UP);break;case L.DOWN:if(r===n.length-1)return;a.selection=a.getNewColPostion(L.DOWN);break;case L.LEFT:if(0===o&&0===r)return;a.selection=0===o?a.getNewSelection(r-1,n[r-1].gifs.length-1):a.getNewSelection(r,o-1);break;case L.RIGHT:n[r]?n[r].gifs.length===o+1?a.selection=a.getNewSelection(r+1,0):a.selection=a.getNewSelection(r,o+1):a.selection=[0,0]}a.stopEvent(e),a.focusGif()},a.stopEvent=function(e){e&&(e.preventDefault(),e.stopPropagation())},a.restoreFocus=function(){},a.focusGif=function(){var e=a.selection.join("_"),t=a.refGifsBySectionId[e];if(t){var n=t.messagePreviewRef;n&&((0,m.focus)(n),a.props.scrollGifIntoViewIfNeeded(n))}},a.handleUpArrow=function(e){a.handleArrowKeys(e,L.UP)},a.handleDownArrow=function(e){a.handleArrowKeys(e,L.DOWN)},a.handleLeftArrow=function(e){a.handleArrowKeys(e,L.LEFT)},a.handleRightArrow=function(e){a.handleArrowKeys(e,L.RIGHT)},a.handleEnter=function(e){a.stopEvent(e);var t=a.state.gifRows,n=[a.selection[0],a.selection[1],a.selection[2]],i=n[0],r=n[1];a.onSend(t[i].gifs[r])},a._scrollTop=0,a._animatingRow=null,a._containerDom=null,a._didSendGif=!1,a.state={gifRows:[],width:0},a}return(0,u.default)(t,e),(0,d.default)(t,[{key:"componentDidUpdate",value:function(e){e.searchText!==this.props.searchText&&this.scheduleQuery()}},{key:"shouldComponentUpdate",value:function(e,t){return e.onGif!==this.props.onGif||t.gifRows!==this.state.gifRows||e.selectedSectionId!==this.props.selectedSectionId||e.searchText!==this.props.searchText}},{key:"componentDidMount",value:function(){var e=this;this._searchTimer=new N.default(this.searchForAndSetGifs),this._animateTimer=new N.default(this.animateGif),this._onlineRestarter=Promise.loop(function(){return T.waitForBBEvent(C.default,"change:online",function(){return C.default.online}).then(function(){return e.scheduleQuery()})}).cancellable(),this._onlineRestarter.catch(Promise.CancellationError,function(){}),this.searchForAndSetGifs(),new S.default.GifSearchSessionStarted({gifSearchProvider:R[(0,b.gifProvider)()]}).commit()}},{key:"componentWillUnmount",value:function(){this._animateTimer.cancel(),this._searchTimer.cancel(),this._onlineRestarter&&this._onlineRestarter.cancel(),this._didSendGif||new S.default.GifSearchCancelled({gifSearchProvider:R[(0,b.gifProvider)()]}).commit()}},{key:"scheduleQuery",value:function(){this._searchTimer.debounceAndCap(200,2e3)}},{key:"animateOnScroll",value:function(e){this._scrollTop=e.scrollTop,this._animateTimer.debounce(200)}},{key:"setGifAnimating",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=this.refGifs[String(e)];a&&a.setShouldAnimate(t)}},{key:"getNewSelection",value:function(e,t){return[Math.max(0,e),Math.max(0,t)]}},{key:"render",value:function(){var e=this,t=this.state.gifRows,a={up:this.handleUpArrow,down:this.handleDownArrow,left:this.handleLeftArrow,right:this.handleRightArrow,enter:this.handleEnter},n=t.map(function(t,a){var n=t.gifs.map(function(t,n){return f.createElement(v.default,{key:t.gifId,ref:e.setRefGifCache.getRefSetter(["".concat(t.gifId),"".concat(a,"_").concat(n)]),gif:t,onSend:e.onSend})}),i=null;return t.blankStr&&(i=f.createElement("div",{className:j.default.blank,style:{flexBasis:t.blankStr}})),f.createElement("div",{key:a,className:j.default.row},n,i)}),i=this.props.selectedSectionId!==E.default.FAVORITES&&(0===n.length?f.createElement("div",{className:j.default.noResults},this.props.searchText?f.createElement(p.SearchWithoutKeyword,null):f.createElement(p.Loading,null)):f.createElement(y.default,{className:j.default.section,handlers:a},n)),r=!this.props.searchText&&this.props.selectedSectionId===E.default.FAVORITES&&f.createElement(I.default,{onSend:this.onSend,ref:this.onStarredGifsMount});return f.createElement("div",{className:j.default.searchContainer,ref:this.onContainerMount},i,r)}}]),t}(f.Component);function G(e,t){if(e){var a=parseInt(e.width,10),n=parseInt(e.height,10);if(a&&n)return{width:a,height:n};_.default.assert(!1,"gif_search:getGifDimensions fullContent does not have valid dimensions")()}if(t){var i=parseInt(t.width,10),r=parseInt(t.height,10);if(i&&r)return{width:b.TARGET_GIF_HEIGHT*i/r,height:b.TARGET_GIF_HEIGHT};_.default.assert(!1,"gif_search:getGifDimensions original does not have valid dimensions")()}return{width:b.TARGET_GIF_HEIGHT,height:b.TARGET_GIF_HEIGHT}}function x(e,t){if(!e||!Array.isArray(e.data))return[];if(!e.data.length&&t)return _.default.assert(!1,"gif_search: No trending gifs found, there might be a problem with Giphy")(),[];for(var a=e.data,n=[],i=0;i<a.length;i++){var r=a[i],o=r&&r.images;if(o){var s=o.original,d=o.preview,c=o.downsized_small,l=o.preview_webp,u=o.preview_gif;if(c){var f=c.mp4;if(f){var h=G(c,s),p=h.width,g=h.height;n.push(new b.GifInfo(n.length,f,parseInt(c.mp4_size,10),d&&d.mp4||void 0,l&&l.url||u&&u.url||void 0,Math.round(p*b.TARGET_GIF_HEIGHT/g),b.GIPHY,t))}}}}return 0===n.length&&a.length>0&&_.default.assert(!1,"gif_search: All the gifs were skipped, check if there is a change in giphys response")(),n}function F(e,t){for(var a=[],n=.9*t,i=e,r=null,o=.05;o<1&&i.length;o+=.05){i.sort(function(e,t){var a=e.rank-t.rank;return Math.abs(a)>8?a:t.width-e.width});for(var s=(1+o)*t,d=[],c=[],l=0;l<i.length;l++){for(var u=i[l],f=!1,h=Math.min(s-u.width,n),p=0;!f&&p<d.length;p++)d[p]<h&&(d[p]+=u.width+b.GAP_SIZE,c[p].push(u),f=!0);f||(d.push(u.width),c.push([u]))}if(1===c.length){i=[];var g=t-d[0]-b.GAP_SIZE;r={gifs:c[0],blankStr:g>0?"".concat(g,"px"):void 0}}else{i=[];for(var m=0;m<c.length;m++)d[m]>n?a.push(c[m]):i.push.apply(i,c[m])}}a.forEach(function(e){return e.sort(function(e,t){return e.rank-t.rank})}),a.sort(function(e,t){return e[0].rank-t[0].rank});var v=a.map(function(e){return{gifs:e,blankStr:void 0}});return r&&v.push(r),v}var B=U;t.Component=B;var V=function(e){function t(){var e,a;(0,s.default)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=(0,c.default)(this,(e=(0,l.default)(t)).call.apply(e,[this].concat(i)))).initSelection=function(e){a.getComponent().initSelection(e)},a.animateOnScroll=function(e){a.getComponent().animateOnScroll(e)},a.getStarredGifsRef=function(){return a.getComponent().getStarredGifsRef()},a}return(0,u.default)(t,e),(0,d.default)(t,[{key:"contains",value:function(e){return this.getComponent().contains(e)}}]),t}((0,A.default)(U));t.default=V},djdgcejjgf:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("eaidjcib")),r=n(a("dgcdacjddi")),o=n(a("ffceefejc")),s=n(a("cjedcdbdii")),d=n(a("dbjagcfebh")),c=new(function(e){function t(){var e;return(0,i.default)(this,t),(e=(0,o.default)(this,(0,s.default)(t).call(this))).openVoipWindow=function(){e.manager&&e.manager.openVoipWindow()},e.closeVoipWindow=function(){e.manager&&e.manager.closeVoipWindow()},e}return(0,d.default)(t,e),(0,r.default)(t,[{key:"register",value:function(e){this.manager=e}},{key:"unregister",value:function(){this.manager&&this.manager.closeVoipWindow(),this.manager=null}}]),t}(n(a("cccehdaiaf")).default));t.default=c},djdhjggcbi:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return r};var i=n(a("eaaagccfda")),r=window.innerHeight,o=(0,i.default)(function(e){r=window.innerHeight},500);window.addEventListener("resize",o)},djeajhjhb:function(e,t,a){"use strict";var n=a("cfjecfhbfg")(a("chgaccicf"));e.exports=(0,n.default)({SEARCH:void 0,INACTIVE:void 0,ENTER:void 0,TAB:void 0,DOWN:void 0,UP:void 0})},djebbfefcf:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=i(a("ceffhbhahb")),u=n(a("ddhijeejag")),f=i(a("ddfihebbjf")),h=i(a("cgchdicacf")),p=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).state={isAnimated:a.props.startAnimation,isReady:!1},a._setImgRef=function(e){a._imgRef=e},a._setUrlProviderRef=function(e){a._urlProviderRef=e},a._setCanvasRef=function(e){a._canvasRef=e},a._onImageLoad=function(){if(!a.state.isReady){var e=a._canvasRef,t=a._imgRef;e&&t&&(e.width=t.naturalWidth/2,e.height=t.naturalHeight/2,e.getContext("2d").drawImage(t,0,0,e.width,e.height)),a.props.startAnimation&&(a._startAnimationCountDown(),a.props.mediaData.animatedAsNewMsg=!0),a.setState({isReady:!0})}},a.onMouseEnter=function(){null==a._timeoutID&&(a.setState({isAnimated:!0}),a._startAnimationCountDown())},a._renderImage=function(e){return u.createElement("img",{className:(0,l.default)(a.props.className,{[h.default.hide]:!a.state.isReady||!a.state.isAnimated}),draggable:"false",src:e,ref:a._setImgRef,onLoad:a._onImageLoad})},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentWillUnmount",value:function(){null!=this._timeoutID&&clearTimeout(this._timeoutID)}},{key:"_startAnimationCountDown",value:function(){var e=this;this._timeoutID=window.setTimeout(function(){e._urlProviderRef&&e._urlProviderRef.refreshBlob(),e.setState({isAnimated:!1}),e._timeoutID=null},this.props.mediaData.animationDuration)}},{key:"_createRenderableUrl",value:function(){return URL.createObjectURL(new Blob([this.props.mediaData.mediaBlob.formData()]))}},{key:"render",value:function(){return u.createElement("div",{className:this.props.className,onMouseEnter:this.onMouseEnter,onClick:this.props.onClick},u.createElement(f.default,{ref:this._setUrlProviderRef,mediaData:this.props.mediaData,placeholderRenderer:this.props.placeholderRenderer,downloadMedia:this.props.downloadMedia},this._renderImage),u.createElement("canvas",{className:(0,l.default)(this.props.className,{[h.default.hide]:!this.state.isReady||this.state.isAnimated}),draggable:"false",ref:this._setCanvasRef}))}}]),t}(u.PureComponent);t.default=p},djeffaehji:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){switch(e){case f.APICmd.GROUP_INVITE:c.default.closeStatusViewer();var a=t;return c.default.openModal(o.createElement(u.default,{groupCode:a.code})),!0;case f.APICmd.MSG_SEND:c.default.closeStatusViewer();var n=t,i=n.text,y=n.phone,_=n.conversionTuple,S=n.businessOwnerJid,C=n.catalogOwnerJid,A=n.productId;if(null!=C){if(!j.default.productCatalogDeeplink)return!1;var M=(new m.default).toString();(0,h.logCatalogDeepLinkOpen)(C,M),c.default.openDrawerRight(o.createElement(b.default,{chat:(0,p.default)(s.default.active()),sessionId:M,catalogOwnerJid:C}),"slide-left")}else if(S&&A){if(!j.default.productCatalogDeeplink)return!1;var T=(new m.default).toString();(0,h.logProductDeepLinkOpen)(A,S,T),c.default.openDrawerRight(o.createElement(b.default,{chat:(0,p.default)(s.default.active()),productInfo:{productId:A,businessOwnerJid:S},refreshCarousel:!0,sessionId:T}),"slide-left")}else if(y){c.default.openModal(o.createElement(g.default,{phone:y,msgText:i,onSuccess:function(e){_&&l.default.add(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?E(Object(a),!0).forEach(function(t){(0,r.default)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):E(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},_,{id:e.id,timestamp:d.default.globalUnixTime()}),{merge:!0});i&&(e.urlText=!0);e.urlNumber=!0}}),{transition:"modal-flow"})}else c.default.openModal(o.createElement(v.default,{msgText:i,urlText:!0}),{transition:"modal-flow"});return!0;default:return!1}};var r=i(a("bhabhhjdch")),o=n(a("ddhijeejag")),s=i(a("dbdfbgehgj")),d=i(a("cfadcbbiie")),c=i(a("bbchdeehff")),l=i(a("ccbihadedf")),u=i(a("djahiefbec")),f=a("jgficfddf"),h=a("bgjddhffji"),p=i(a("cahfddcdga")),g=i(a("cigddfbici")),m=i(a("deabffecii")),b=i(a("cfegjiegcd")),v=i(a("cdeciahhed")),j=i(a("bfgbdiffgd"));function E(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}},djfbibifah:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var a=e.reduce(function(e,t){var a=t.hooks;return a?(Object.keys(a).forEach(function(n){e[n]||(e[n]=[]),e[n].push([t,a[n]])}),e):e},{});return Object.keys(a).reduce(function(e,n){return e[n]=function(e,t){return function(){for(var a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];e.forEach(function(e){var a=(0,i.default)(e,2),r=a[0],o=a[1];return o.call.apply(o,[r].concat(n,[t]))})}}(a[n],t),e},{})};var i=n(a("hbddjfeei"))},djfhiceeje:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.addStarredMsgs=function(e){r.add(e),e.forEach(function(e){e.chat.starredMsgs&&e.chat.starredMsgs.add(e)}),v.default.add(e)},t.removeStarredMsgs=y,t.default=t.StarredMsgCollection=void 0;var r,o=i(a("eaidjcib")),s=i(a("dgcdacjddi")),d=i(a("ffceefejc")),c=i(a("cjedcdbdii")),l=i(a("bjehdcaaj")),u=i(a("dbjagcfebh")),f=i(a("cgcgbfbffj")),h=i(a("baagejbchg")),p=i(a("bdiiahhjbe")),g=i(a("cbcbdjdah")),m=i(a("biecbbiiee")),b=i(a("cahfddcdga")),v=i(a("dfgeejdaib")),j=n(a("bgeajihhc")),E=function(e){function t(){var e;return(0,o.default)(this,t),(e=(0,d.default)(this,(0,c.default)(t).call(this))).syncPromise=null,e.isSynced=!1,e.listenTo(j.default,"change:stream",function(){j.default.stream===j.STREAM.DISCONNECTED?e.isSynced=!1:j.default.stream===j.STREAM.CONNECTED&&e.delete()}),e}return(0,u.default)(t,e),(0,s.default)(t,[{key:"process",value:function(e,t,a,n){n?this.delete():this.updateMsgs(e,t,a)}},{key:"sync",value:function(e){if(this.isSynced)return Promise.resolve();if(null!=this.syncPromise)return this.syncPromise;var t,a=this,n=this.last();return n&&(t=n.id),this.syncPromise=m.default.getStarred(e,h.default.PAGE_SIZE,t).then(function(e){e.length&&a.add(e,{silent:!0}),e.length<h.default.PAGE_SIZE&&(a.isSynced=!0)}).catch(function(e){p.default.error("starred msg sync error: ",e)()}).finally(function(){a.syncPromise=null,a.trigger("sync")}),this.trigger("sync"),(0,b.default)(this.syncPromise,"syncPromise can not be null")}},{key:"updateMsgs",value:function(e,t,a){var n=this,i=this.syncPromise||Promise.resolve();this.syncPromise=i.then(function(){return e?(t.length>0?m.default.incrementalStarredUpdate(t):Promise.resolve([])).then(function(e){var t=e.concat(a);n.isSynced&&(n.add(t,{silent:!0}),v.default.add(e)),t.forEach(function(e){e.chat.starredMsgs&&e.chat.starredMsgs.add(e)}),n.trigger("sync")}).catch(function(e){p.default.error("models:starred:update:error: ",e)()}):(y(t.concat(a).filter(function(e){return!e.star})),Promise.resolve())}).finally(function(){n.syncPromise=null})}},{key:"delete",value:function(){this.isSynced=!1,(0,l.default)((0,c.default)(t.prototype),"delete",this).call(this)}}]),t}(f.default);function y(e){r.remove(e),e.forEach(function(e){e.chat.starredMsgs&&e.chat.starredMsgs.remove(e)})}t.StarredMsgCollection=E,E.model=g.default,E.comparator=function(e,t){return t.t-e.t};var _=r=new E;t.default=_},djfhifiigg:function(e,t,a){"use strict";var n=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(!e||!(0,i.isString)(e))throw new Error("MsgKey fromString error: str is null or not a string");var t=e.split("_");t.length<3&&r.get().log(i.LogLevels.ERROR,"MsgKey error: cannot create MsgKey from "+e,!1);return{fromMe:"true"===t[0],remote:t[1],id:t[2],participant:t[4]?t[4]:void 0}};var i=a("hjbbdjjdf"),r=n(a("bhehfiebbd"))},djggfadejg:function(e,t){e.exports={container:"_3L6MW",isLinkMsg:"_3Lmfg",text:"_1tHfI"}},djgjhgjdcd:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("eaidjcib")),r=n(a("dgcdacjddi")),o=n(a("ceddibdhdb")),s=64,d=function(){function e(t){var a=this;(0,i.default)(this,e),this.ship=function(e){var t=a.bitmap;if(t){var n=Date.now();n>a.lastActiveInMS&&(a.bitmapLength=Math.min(s,Math.ceil(n/1e3-a.startTimeInSec)));var i={sessionId:a.sessionId,startTime:a.startTimeInSec,bitmap:t,bitmapLen:a.bitmapLength,sessionSeq:a.sequenceId,sessionCum:a.cumulativeBitsSet};(e||a.loggingCallback)(i),a.timer.cancel(),a.bitmap=null}},this.loggingCallback=t,this.timer=new o.default(this.ship),this._initSession(),this._initArray(Math.floor(Date.now()/1e3))}return(0,r.default)(e,[{key:"_initSession",value:function(){this.cumulativeBitsSet=0,this.sequenceId=-1,this.sessionId=Math.floor(2147483648*Math.random()).toString(36)}},{key:"_initArray",value:function(e){this.startTimeInSec=e,this.lastActiveInMS=1e3*this.startTimeInSec,this.bitmap=new Int32Array(2),this.bitmap[0]=1,this.bitmapLength=1,this.cumulativeBitsSet+=1,this.sequenceId+=1;var t=1e3*s;this.timer.debounceAndCap(t,t)}},{key:"_doUpdate",value:function(e){var t=e-this.startTimeInSec;this.bitmap&&(t<0||t>=s)&&this.ship(),this.bitmap?(this.bitmap[t>>5]|=1<<(31&t),this.bitmapLength=t+1,this.cumulativeBitsSet+=1,this.lastActiveInMS=1e3*e):this._initArray(e)}},{key:"update",value:function(e){e>=this.lastActiveInMS&&e-this.lastActiveInMS<1e3||this._doUpdate(Math.floor(e/1e3))}},{key:"shipAndEndSession",value:function(e){this.ship(e),this._initSession()}}]),e}();t.default=d},djhbejhbda:function(e,t){var a={statusQueryThumbnail:function(e){return this.profilePicFindThumbFromPhone(e,void 0,!0)}};e.exports=a},djhbfghcdb:function(e,t){e.exports={label:"kmyjo",input:"_1PSHh"}},djhfffbdac:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.HEIGHT=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=i(a("ceffhbhahb")),u=n(a("ddhijeejag")),f=i(a("effbcehec")),h=a("dghhefgjhc"),p=a("ddajbaceej"),g=n(a("dhfbfehaef")),m=i(a("fffdgbfji")),b=i(a("bdhbdihbca")),v=a("eagfdbhhhh"),j=i(a("bfdcadbbif")),E=i(a("bcjcbbafcj"));t.HEIGHT=56;var y=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).state={value:a.props.value||"",tabFocused:!!a.props.tabFocused},a._handleChange=function(e){var t=e.target.value;a.setState({value:t}),a.props.onChange&&a.props.onChange(t,e)},a._handleClearButtonClick=function(e){a.setState({value:""}),a.props.onChange&&a.props.onChange("",e)},a._handleDownKey=function(e){e.stopPropagation(),e.preventDefault(),a.props.onDownKey&&a.props.onDownKey(e)},a._handleEnterKey=function(e){e.preventDefault(),e.stopPropagation(),a.props.onEnterKey&&a.props.onEnterKey(e)},a._handleFocus=function(e){a.focus()},a._setRefInput=function(e){a._refInput=e},a._setRefInputContainer=function(e){a._refInputContainer=e},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"focus",value:function(e){this._refInput&&(this.hasFocus()||(e&&(0,g.shouldIndicateFocus)(),(0,p.focus)(this._refInput),e&&(0,g.indicateFocus)(this._refInputContainer,["#e0e1e2","#d9f3ff"])))}},{key:"hasFocus",value:function(){return!!document.activeElement&&this._refInput===document.activeElement}},{key:"render",value:function(){var e=null;return this.state.value&&!this.props.tabFocused&&(e=u.createElement("button",{className:b.default.cancelIcon,onClick:this._handleClearButtonClick},u.createElement(j.default,{name:"x-alt-small"}))),u.createElement(g.default,{handlers:{enter:this._handleEnterKey,down:this._handleDownKey},"data-tab":h.TAB_ORDERS.PANEL_SEARCH_INPUT,className:(0,l.default)(b.default.searchRow,{[b.default.ffFix]:E.default.isGecko,[b.default.rowShadow]:this.props.shadow}),key:"search-input",onFocus:this._handleFocus},u.createElement("label",{ref:this._setRefInputContainer,className:b.default.rowInput},u.createElement("div",{className:b.default.inputContainer},u.createElement("input",{"data-a8n":f.default.key("input-emoji-search"),ref:this._setRefInput,className:(0,l.default)(b.default.inputEmojiSearch,v.SELECTABLE_INPUT_CSS_CLASS),type:"text",dir:m.default.isRTL()?"rtl":"ltr",value:this.props.tabFocused?"":this.state.value,title:this.props.label,placeholder:this.props.label,onMouseDown:function(e){e.stopPropagation()},onChange:this._handleChange}),e)))}}],[{key:"getDerivedStateFromProps",value:function(e){return{value:e.value,tabFocused:e.tabFocused}}}]),t}(u.PureComponent);t.default=y},djhhbaegjb:function(e,t){e.exports={positioningContainer:"_15EmS",resultsContainer:"_3312R",overlayContainer:"_2j-wI",mediaCaption:"f2pyv"}},djhiiadbhh:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("eaidjcib")),r=n(a("ffceefejc")),o=n(a("cjedcdbdii")),s=n(a("dbjagcfebh")),d=n(a("cgcgbfbffj")),c=n(a("efajhdaja")),l=function(e){function t(){return(0,i.default)(this,t),(0,r.default)(this,(0,o.default)(t).apply(this,arguments))}return(0,s.default)(t,e),t}(d.default);t.default=l,l.model=c.default},djibdcebeh:function(e,t){e.exports={action:"_2GB6m",container:"_3O0po",wrapper:"_25f0v",butterbar:"_2-Q3h",icon:"_1Tv0N",body:"_3K1Z_",controls:"_1cvvW",title:"_28Bny",text:"_2JIoO",notification:"_1sFYw",update:"_3Dr0Q",computer:"_2xikZ",phone:"_1puWZ",battery:"_2t3oV",actionText:"_11zMf",actionLink:"_1bLBY",chevron:"_3vCgA"}},djibddbgic:function(e,t){e.exports={mediaPanelTools:"_3grs5",profileThumb:"btMYD",profileContainer:"_19YfI",media:"_11UqX",profileViewer:"_3SCfu",profileViewerImg:"_2p8um",container:"_1iNsf","media-viewer-animate":"_2pKlK",mediaViewerAnimate:"_2pKlK",headerContainer:"s4BtI"}},djicgijbjb:function(e,t){e.exports={messageText:"_2HHbr",composeBoxQuotedMsg:"hJLQA"}},djicifaabb:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ProductListDrawer=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=i(a("hhegggegb")),u=n(a("ddhijeejag")),f=i(a("ejegihaeh")),h=i(a("baagejbchg")),p=i(a("djcchigfih")),g=i(a("djbhiedbef")),m=n(a("dajffajabh")),b=n(a("cajijabhgb")),v=a("ddfgchbfej"),j=i(a("bhahchbic")),E=i(a("bggeiidigb")),y=i(a("chabbgefdj")),_=i(a("ecdjiddfjg")),S=a("bgjddhffji"),C=a("bhfdfhefca"),A=i(a("deahbiefdi")),M=i(a("eadgjjifdb")),T=i(a("cijihedhb")),P=i(a("bjbedjfe")),N=i(a("bfgbdiffgd")),I=i(a("ihfccfgdf")),k=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).catalogFlatListController=new E.default,a.state={loadingMore:!1,loadedProducts:0,stopLoading:!1,catalog:f.default.get(a.props.catalogId),catalogFetchState:f.default.get(a.props.catalogId)?"SUCCESS":"NONE"},a._handleScroll=function(e){a.state.loadingMore||e.scrollTop+h.default.SCROLL_FUDGE>e.scrollHeight-e.clientHeight&&a._loadMoreProduct()},a.handleScroll=(0,l.default)(a._handleScroll,100),a._loadMoreProduct=function(){var e=a.props.catalogId,t=a.state,n=t.stopLoading,i=t.loadedProducts;if(!n){var r=f.default.assertGet(e);if(r.afterCursor){var o=r.productCollection.getProductModels().length;a.setState({loadingMore:!0,loadedProducts:o}),f.default.update(e).checkpoint(a.props.rejectOnUnmount()).then(function(e){a.setState({loadingMore:!1}),(Array.isArray(e)?e[0]:e).productCollection.getProductModels().length===i&&a.setState({stopLoading:!0}),o*h.default.PRODUCT_LIST_ITEM_HEIGHT<window.innerHeight&&a._loadMoreProduct()}).catch(b.Unmount,function(){}).catch(function(e){a.setState({loadingMore:!1,stopLoading:!0})})}}},a.onScroll=function(e){a.handleScroll(e.currentTarget),a.props.setScrollOffset&&a.props.setScrollOffset(e.currentTarget.scrollTop)},a._onCatalogLinkClick=function(){var e=a.state.catalog;e&&a.props.onCatalogLinkClick(e,a.props.contact)},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.catalogId,a=e.sessionId;(0,S.logCatalogListView)(t.toString(),a),this.state.catalog?this._loadMoreProduct():this._findCatalog()}},{key:"_findCatalog",value:function(){var e=this;return f.default.find(this.props.catalogId).checkpoint(this.props.rejectOnUnmount()).then(function(t){e.setState({catalog:t,catalogFetchState:"SUCCESS"}),e._loadMoreProduct()}).catch(function(t){(0,v.parseErrorState)(t,function(t){return e.setState({catalogFetchState:t})})})}},{key:"_getDrawerContent",value:function(){var e=this.state.catalog;if(!e)return u.createElement(j.default,{fetchState:this.state.catalogFetchState});var t=this.props,a=t.contact,n=t.sessionId,i=t.businessProfile;return u.createElement(u.Fragment,null,i&&u.createElement("div",{className:M.default.header},u.createElement(T.default,{profilePicThumb:a.getProfilePicThumb(),contact:a,businessProfile:i})),u.createElement("div",{className:M.default.list},u.createElement(A.default,{onProductDetail:this.props.onProductDetail,flatListController:this.catalogFlatListController,catalog:e,sessionId:n}),this.state.loadingMore&&u.createElement(y.default,null)))}},{key:"render",value:function(){return u.createElement(p.default,{theme:"products",onDrop:this.props.onBack},u.createElement(m.default,{title:l10n.t(922),type:m.DRAWER_HEADER_TYPE.SMALL,onBack:this.props.onBack,menu:N.default.productCatalogDeeplink&&u.createElement(C.MenuBarItem,{a8nText:"menu-bar-catalog-link",icon:u.createElement(_.default,null),title:l10n.t(275),onClick:this._onCatalogLinkClick})}),u.createElement(g.default,{onScroll:this.onScroll,flatListControllers:[this.catalogFlatListController],scrollOffset:this.props.scrollOffset},this._getDrawerContent()))}}]),t}(u.Component);t.ProductListDrawer=k,k.CONCERNS={contact:["id"]};var O=(0,P.default)((0,I.default)(k,k.CONCERNS));t.default=O},djidacbicd:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("djecdhecha")),l=i(a("dbjagcfebh")),u=n(a("ddhijeejag")),f=i(a("bbchdeehff")),h=i(a("eceadcicaf")),p=i(a("cahfddcdga")),g=i(a("fbjjefaic")),m=i(a("bcjcbbafcj")),b=n(a("bgeajihhc")),v=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).startCheckForSuccess=function(){a.checkIteration=0,a.checkForSuccessInterval=a.props.setInterval(a.checkForSuccess,250)},a.clearCheckForSuccess=function(){a.checkForSuccessInterval&&(a.props.clearInterval(a.checkForSuccessInterval),a.checkForSuccessInterval=0,a.checkIteration=0)},a.checkForSuccess=function(){if(b.default.state===b.STATE.CONNECTED){a.checkIteration++;var e=a.props.url;if(a.checkIteration>40)a.onPlayerError({target:{src:e,error:{code:window.MediaError.MEDIA_ERR_NETWORK}}});else{var t=(0,p.default)(a._audioElement),n=t.buffered;n&&n.length&&n.end(0)>0&&a.onPlaying({target:t})}}},a.onPlayerError=function(e){a.clearCheckForSuccess(),a.props.onError&&a.props.onError(e.target.src)},a.onOtherPlaying=function(e){e!==(0,c.default)(a)&&(0,p.default)(a._audioElement).pause()},a.onPlaying=function(e){a.clearCheckForSuccess(),f.default.mediaPlaying((0,c.default)(a)),a.props.onPlay&&a.props.onPlay(e)},a._setRefAudio=function(e){a._audioElement=e},a}return(0,l.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){var e=this.props.listeners,t=(0,p.default)(this._audioElement);e.add(t,"error",this.onPlayerError,!0),e.add(t,"playing",this.onPlaying),e.add(f.default,"mediaPlaying",this.onOtherPlaying),(m.default.isGecko||m.default.isSafari)&&(this.props.autoPlay?(this.checkIteration=0,this.checkForSuccessInterval=this.props.setInterval(this.checkForSuccess,250)):this.props.autoPlay?this.startCheckForSuccess():e.add(t,"play",this.startCheckForSuccess))}},{key:"render",value:function(){return u.createElement("audio",{ref:this._setRefAudio,src:this.props.url,className:this.props.className,onClick:this.props.onClick,controls:this.props.controls,preload:this.props.preload,type:this.props.type,autoPlay:this.props.autoPlay},this.props.children)}}]),t}(u.Component),j=(0,h.default)((0,g.default)(v));t.default=j},djidhiidef:function(e,t){e.exports={text:"_12pGw",template:"_1K1bk",placeholderIn:"_2v02G",placeholderOut:"_3uHCS",spacer:"EopGb",icons1:"_3HIqo",icons2:"_2COY9",icons3:"_1sra5",icons4:"_3hYwe"}},djidjciehe:function(e,t,a){"use strict";var n=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("ddhijeejag")),r=a("eagfdbhhhh");function o(e){var t=e.href,a=e.children,n=e.selectable;return i.createElement(r.SelectableLink,{href:t,title:t,target:"_blank",rel:"noopener noreferrer",selectable:n},a)}o.defaultProps={children:""};var s=o;t.default=s},djiejaiah:function(e,t){e.exports={chatControls:"_2kYeZ",chatAvatar:"_1SwuT",chatHeader:"_3fs0K",chatBody:"_3V5x5",chatMain:"_1lpto",chatTitle:"_19vo_"}},djifeiaaea:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("bhabhhjdch")),r=n(a("eaidjcib")),o=n(a("dgcdacjddi")),s=a("bgiachiigg");function d(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}var c=a("cgbdhdjdcf"),l={};l[s.EXTENDED_TEXT_MESSAGE_FONTTYPE.SERIF]={google:{families:["Roboto"]}},l[s.EXTENDED_TEXT_MESSAGE_FONTTYPE.SANS_SERIF]={google:{families:["Droid Serif"]}},l[s.EXTENDED_TEXT_MESSAGE_FONTTYPE.NORICAN_REGULAR]={google:{families:["Norican"]}},l[s.EXTENDED_TEXT_MESSAGE_FONTTYPE.BRYNDAN_WRITE]={custom:{families:["Bryndan-Write"]}},l[s.EXTENDED_TEXT_MESSAGE_FONTTYPE.OSWALD_HEAVY]={google:{families:["Oswald:bold"]}};var u={};u[s.EXTENDED_TEXT_MESSAGE_FONTTYPE.BRYNDAN_WRITE]='@font-face {font-family:"Bryndan-Write"; src:url("'.concat(c,'") format("truetype");}');var f=new(function(){function e(){(0,r.default)(this,e),this.loadedFonts={},this.loadingPromise={}}return(0,o.default)(e,[{key:"load",value:function(e){var t=this;if(this.loadedFonts[e])return Promise.resolve();if(this.loadingPromise[e])return this.loadingPromise[e];var a=l[e],n=u[e],r=(n?new Promise(function(e,t){var a=document.createElement("style");a.appendChild(document.createTextNode(n)),a.onload=e,a.onerror=t,document.head&&document.head.appendChild(a)}):Promise.resolve()).then(function(){return new Promise(function(n,r){var o=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?d(Object(a),!0).forEach(function(t){(0,i.default)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):d(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},a,{active:function(){t.loadedFonts[e]=!0,n()},inactive:function(){t.loadingPromise[e]=void 0,r("Failed to load font: "+e)}});WebFont.load(o)})});return this.loadingPromise[e]=r,r}}]),e}());t.default=f},djigcbdaeh:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=n(a("ddhijeejag")),u=i(a("ccgchaejji")),f=i(a("bfdcadbbif")),h=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,(0,d.default)(t).apply(this,arguments))}return(0,c.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=this.props.onClose?l.createElement("div",{className:u.default.closeBtn,role:"button",onClick:this.props.onClose},l.createElement(f.default,{name:"x"})):null;return l.createElement("div",{className:u.default.subheader},l.createElement("div",{className:u.default.main},this.props.children),e)}}]),t}(l.PureComponent);t.default=h},djiibcjggg:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=i(a("ceffhbhahb")),u=n(a("ddhijeejag")),f=i(a("caghbagede")),h=i(a("bfdcadbbif")),p=i(a("didfdhbecg")),g=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).onToggle=function(e){e&&e.stopPropagation(),a.props.onChange()},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e,t;this.props.checked?(t="checkbox-round-checked",e="checked"):(e="unchecked",t=this.props.hover?"checkbox-round-unchecked":"checkbox-round-passive");var a=(0,l.default)(f.default.roundIcon,{[f.default.unchecked]:!this.props.checked&&this.props.hover,[f.default.passive]:!this.props.checked&&!this.props.hover});return u.createElement(p.default,{className:f.default.container,transitionName:"pop"},u.createElement("div",{className:a,key:e,onClick:this.onToggle},u.createElement(h.default,{name:t})))}}]),t}(u.Component);t.default=g},djiifidhej:function(e,t,a){"use strict";var n=a("cfjecfhbfg"),i=n(a("dbajccegac")),r=n(a("ccebfaijda")),o=n(a("bdiiahhjbe")),s=n(a("jccfhaecf"));e.exports=function(e){var t,a={},n=e.nibbleEncode;for(t=0;t<e.singleByte.length;t++)e.singleByte[t]&&(a[e.singleByte[t]]=t);for(t=0;t<e.doubleByte.length;t++)e.doubleByte[t]&&(a[e.doubleByte[t]]=t+r.default.SINGLE_BYTE_MAX);this.writeNode=function(e,t){if(t){if(3!==t.length)throw new Error("invalid node");var a=t[1]?2*Object.keys(t[1]).filter(function(e){return!!t[1][e]}).length:0;this.writeListStart(e,1+a+(t[2]?1:0)),this.writeString(e,t[0]),this.writeAttributes(e,t[1]),this.writeChildren(e,t[2])}},this.writeString=function(e,t,n){if("string"!=typeof t&&!(t instanceof s.default))throw o.default.error("writer:writeString passed non-string/wid type: ".concat(typeof t))(t),new Error("invalid string");if(t instanceof s.default)this.writeJid(e,t.user,t.server);else{var i,d,c=a.hasOwnProperty(t)?a[t]:void 0;if("c.us"!==t||n)if(void 0===c){var l=t.indexOf("@");if(l<1)this.writeStringRaw(e,t);else{var u=t.substring(0,l),f=t.substring(l+1);this.writeJid(e,u,f)}}else{if(c<r.default.SINGLE_BYTE_MAX)this.writeToken(e,c);else{var h=c-r.default.SINGLE_BYTE_MAX;switch(d=h%256,h>>8){case 0:i=r.default.DICTIONARY_0;break;case 1:i=r.default.DICTIONARY_1;break;case 2:i=r.default.DICTIONARY_2;break;case 3:i=r.default.DICTIONARY_3;break;default:throw new Error("double byte dictionary token out of range: "+t+" "+c)}}this.writeToken(e,i),this.writeToken(e,d)}else this.writeToken(e,a["s.whatsapp.net"])}},this.writeStringRaw=function(e,t){var a=i.default.numUtf8Bytes(t);if(a>=4294967296)throw new Error("string too large to encode (len = "+a+"): "+t);a>=1<<20?(e.pushByte(r.default.BINARY_32),e.pushInt32(a)):a>=256?(e.pushByte(r.default.BINARY_20),e.pushInt20(a)):(e.pushByte(r.default.BINARY_8),e.pushByte(a)),e.pushString(t)},this.writeJid=function(e,t,a){if(e.pushByte(r.default.JID_PAIR),t)try{this.writePackedBytes(e,t)}catch(a){o.default.warnVerbose('writer:encode-fallback "'.concat(a.message,'"'))(t),this.writeString(e,t)}else this.writeToken(e,r.default.LIST_EMPTY);this.writeString(e,a)},this.writeToken=function(e,t){if(t<245)e.pushByte(t);else if(t<=500)throw new Error("invalid token")},this.writeAttributes=function(e,t){if(t){for(var a in this.isAttr=!0,t)t[a]&&(this.writeString(e,a),this.writeString(e,t[a]));this.isAttr=!1}},this.writeChildren=function(e,t){var a;if(t)if("string"==typeof t)this.writeString(e,t,!0);else if(t instanceof ArrayBuffer){if((a=t.byteLength)>=4294967296)throw new Error("invalid children; too long (len = "+a);a>=1<<20?(e.pushByte(r.default.BINARY_32),e.pushInt32(a)):a>=256?(e.pushByte(r.default.BINARY_20),e.pushInt20(a)):(e.pushByte(r.default.BINARY_8),e.pushByte(a)),e.pushBytes(t)}else{if(!Array.isArray(t))throw new Error("invalid children");a=t.length,this.writeListStart(e,a);for(var n=0;n<a;n++)this.writeNode(e,t[n])}},this.writeListStart=function(e,t){0===t?e.pushByte(r.default.LIST_EMPTY):t<256?(e.pushByte(r.default.LIST_8),e.pushByte(t)):(e.pushByte(r.default.LIST_16),e.pushInt16(t))},this.writePackedBytes=function(e,t){try{this.writePackedBytesImpl(e,t,r.default.NIBBLE_8)}catch(a){o.default.warn('writer:enc nib fail, try hex "'.concat(a.message,'"'))(t),this.writePackedBytesImpl(e,t,r.default.HEX_8)}},this.writePackedBytesImpl=function(e,t,a){var n=i.default.numUtf8Bytes(t);if(n>r.default.PACKED_MAX)throw new Error("too many bytes to nibble-encode: len = "+n);var o,s=[],d=0;n%2>0&&(d=128);var c=d|Math.ceil(n/2);s.push(a),s.push(c);for(var l=Math.floor(n/2),u=0;u<l;u++)o=this.packBytePair(a,t[2*u],t[2*u+1]),s.push(o);d>0&&(o=this.packBytePair(a,t[n-1],"\0"),s.push(o));var f=new Uint8Array(s);e.pushUint8Array(f)},this.packBytePair=function(e,t,a){var n,i;switch(e){case r.default.NIBBLE_8:n=this.packNibble(t),i=this.packNibble(a);break;case r.default.HEX_8:n=this.packHex(t),i=this.packHex(a);break;default:throw new Error("invalid byte pack type: "+e)}return n<<4|i},this.packNibble=function(e){if(!n.hasOwnProperty(e))throw new Error("invalid byte to nibble-pack: "+e);return n[e]},this.packHex=function(e){switch(e){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"A":case"B":case"C":case"D":case"E":case"F":return parseInt(e,16);case"\0":return 15;default:throw new Error("packHex:invalid byte: "+e)}}}},djijgaefjc:function(e,t){e.exports={container:"C7Rx_",text:"_2wTpd",messageNewNumberButton:"P1xkW"}},djijjheei:function(e,t){e.exports={container:"_2EaHs"}},djjeicfhjb:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=n(a("ddhijeejag")),u=i(a("dacdidjdfi")),f=i(a("chgeeccada")),h=i(a("eceadcicaf")),p=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).state={selected:a.props.selections.isSelected(a.props.model)||!!a.props.checked},a.onSelectChange=function(e){a.state.selected!==e&&a.setState({selected:e})},a.onSelect=function(){if(!a.props.disabled){var e=a.props.onSelect;e&&e(a.props.model,!a.state.selected,!1)}},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){this.props.listeners.add(this.props.selections,this.props.model.id.toString(),this.onSelectChange)}},{key:"render",value:function(){var e=this.props,t=e.children,a=e.disabled;return l.createElement("div",{className:f.default.checkboxSelectableWrapper},l.createElement("div",{className:f.default.checkboxSelectableControl},l.createElement(u.default,{onChange:this.onSelect,checked:this.state.selected,disabled:a})),t)}}]),t}(l.Component),g=(0,h.default)(p);t.default=g},djjeigcdbe:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=new RegExp("[A-Za-z-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------]");t.default=n},djjgggigcf:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("bhfcfhafdj")),o=i(a("eaidjcib")),s=i(a("dgcdacjddi")),d=i(a("ffceefejc")),c=i(a("cjedcdbdii")),l=i(a("dbjagcfebh")),u=i(a("ceffhbhahb")),f=n(a("ddhijeejag")),h=i(a("cehjjfagii")),p=i(a("cadbaeefbb")),g=i(a("bbchdeehff")),m=i(a("baagejbchg")),b=i(a("fifhbjiec")),v=i(a("cieaeggjg")),j=a("bjhjaiccai"),E=i(a("deecfijhbf")),y=i(a("bcijadidjd")),_=i(a("bahgfcjcda")),S=i(a("dhefcajhhb")),C=i(a("ihfccfgdf")),A=i(a("cgfjebhhej")),M=function(e){function t(e){var a;return(0,o.default)(this,t),(a=(0,d.default)(this,(0,c.default)(t).call(this,e)))._showContactsModal=function(){if(a.props.msg.vcardList){var e=a.props.msg.vcardList.map(function(e){return e.vcard});g.default.openModal(f.createElement(y.default,{vcardList:e}))}},a.state={loading:!0,vcardData:a._getVcardDisplayData(e.msg.vcardList)},a}return(0,l.default)(t,e),(0,s.default)(t,[{key:"componentDidMount",value:function(){this._loadProfilePics()}},{key:"componentDidUpdate",value:function(e){e.msg.vcardList!==this.props.msg.vcardList&&(this.setState({loading:!0,vcardData:this._getVcardDisplayData(this.props.msg.vcardList)}),this._loadProfilePics())}},{key:"_getVcardDisplayData",value:function(e){return e.map(function(e){var t=e.displayName,a=e.vcard,n=A.default.parse(a);return{displayName:t,waids:A.default.vcardWAids(n),thumbnail:A.default.thumbnail(a)}})}},{key:"_loadProfilePics",value:function(){var e,t=this,a=(e=[]).concat.apply(e,(0,r.default)(this.state.vcardData.map(function(e){return e.waids}))).slice(0,10);Promise.map(a,function(e){return S.default.find(e)}).then(function(){t.setState({loading:!1,vcardData:t._sortVcardDisplayData()})})}},{key:"_sortVcardDisplayData",value:function(){var e=this;return this.state.vcardData.sort(function(t,a){var n=e._hasPic(t),i=e._hasPic(a);return n&&!i?-1:!n&&i?1:t.displayName<a.displayName?-1:t.displayName>a.displayName?1:0})}},{key:"_hasPic",value:function(e){return Boolean(A.default.thumbnailWAid(e.waids)||e.thumbnail)}},{key:"_renderProfilePics",value:function(e){for(var t=Math.min(e.length,3),a=[],n=0;n<t;n++){var i=e[n],r=i.waids,o=i.thumbnail,s=A.default.thumbnailWAid(r);this.state.loading||!s&&!o?a.push(f.createElement("div",{className:E.default.image,key:"default-pic-".concat(n)},f.createElement(_.default,{size:39,border:!0}))):a.push(f.createElement("div",{className:E.default.image,key:"profile-pic-".concat(n)},f.createElement(_.default,{waid:s,thumb:o,size:39,border:!0})))}return a}},{key:"render",value:function(){var e=this.props.msg,t=this.props.displayAuthor&&!e.isSentByMe&&e.isGroupMsg?f.createElement("div",{className:E.default.author},f.createElement(h.default,{msg:e,contact:e.senderObj})):null,a=this.state.vcardData,n=a.map(function(e){return e.displayName}),i=(0,j.getNameStringFromNames)(n),r=this._renderProfilePics(a),o=e.vcardList||e.chat.isTrusted(),s=this.props.quotedMsg?f.createElement("div",{className:E.default.quote},this.props.quotedMsg):null,d=(0,u.default)(E.default.bubble,{[E.default.hasAuthor]:t,[E.default.hasQuote]:s,[E.default.isPreview]:this.props.displayType===m.default.DISP_TYPE.MSG_INFO,[E.default.isGallery]:this.props.displayType===m.default.DISP_TYPE.STARRED_MSGS||this.props.displayType===m.default.DISP_TYPE.GALLERY});return f.createElement("div",{className:d},t,s,f.createElement("div",{className:E.default.vcard,role:o?"button":null,title:i,onClick:this._showContactsModal},f.createElement("div",{className:E.default.avatar},r),f.createElement("div",{className:E.default.body},f.createElement(b.default,{text:i,element:"div",className:E.default.name,dirMismatch:e.rtl!==l10n.isRTL(),direction:e.dir,wbr:15})),f.createElement("div",{className:E.default.meta},f.createElement(v.default,{msg:e}))),f.createElement(p.default,{items:[{label:l10n.t(780),onClick:this._showContactsModal}]}))}}]),t}(f.PureComponent);M.CONCERNS={msg:["rtl","dir","senderObj","vcardList","isSentByMe","isGroupMsg"]};var T=(0,C.default)(M,M.CONCERNS);t.default=T},eaaihhcibf:function(e,t){e.exports={mediaPanelHeader:"cGLoy",mediaPanelTools:"_1GdY6",info:"_15eME"}},eabhibhged:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.sendStarMsgs=function(e,t,a){var n;n=o.default.supportsFeature(o.default.F.MD_BACKEND)?Promise.resolve():d.default.sendMessageStarred(e,t.map(function(e){return e.id}),a).then(function(e){if(200!==e.status)return Promise.reject(new r.ServerStatusCodeError(e.status))});return n.then(function(){return l(t,a)})},t.sendUnstarAll=function(e,t){var a;a=o.default.supportsFeature(o.default.F.MD_BACKEND)?Promise.resolve():d.default.sendUnstarAll(t).then(function(e){if(200!==e.status)return Promise.reject(new r.ServerStatusCodeError(e.status))});return a.then(function(){return l(e,!1)})};var i=n(a("bhabhhjdch")),r=a("ddjgcfjicj"),o=n(a("bjbdcigbdi")),s=n(a("bjdejebbgc")),d=n(a("bihdhbjih"));function c(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function l(e,t){if(!o.default.supportsFeature(o.default.F.MD_BACKEND))return Promise.resolve();var a=e.map(function(e){var a=e.toJSON();return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?c(Object(a),!0).forEach(function(t){(0,i.default)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):c(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},a,{id:a.id.toString(),star:t})});return s.default.bulkCreateOrMerge(a)}},eacehgiidh:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=i(a("ceffhbhahb")),u=n(a("ddhijeejag")),f=i(a("cadbaeefbb")),h=i(a("jhcabjcaf")),p=i(a("bfjbdahdag")),g=i(a("bbchdeehff")),m=i(a("bjbdcigbdi")),b=i(a("dcebcbcdih")),v=i(a("fibdihid")),j=i(a("cjgafgfbff")),E=i(a("cfhehaefih")),y=i(a("cieaeggjg")),_=i(a("bahgfcjcda")),S=i(a("iiaihjfbi")),C=i(a("ihfccfgdf")),A=a("bheafeifce"),M=i(a("dbabefhajh")),T=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).onOpenInvite=function(){var e=a.props.msg;g.default.openModal(u.createElement(b.default,{msg:e}))},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=this.props,t=e.msg,a=e.displayAuthor,n=t.isGroupsV4InviteExpired,i=t.inviteGrpName;if(!m.default.supportsFeature(m.default.F.GROUPS_V_4_JOIN_PERMISSION))return u.createElement(j.default,{msg:(0,A.unproxy)(t),displayAuthor:a});var r,o=u.createElement(_.default,{size:49,thumb:this.props.msg.inviteGrpJpegThum}),s=t.comment?u.createElement("div",{className:v.default.caption},u.createElement(p.default,{msg:t,spacer:!0,trusted:t.isTrusted()})):null,d=n?null:u.createElement(f.default,{items:[{label:this.props.msg.isSentByMe?l10n.t(580):l10n.t(541),onClick:this.onOpenInvite}],theme:t.comment?void 0:"no-divider"}),c=!n||!s,g=c?u.createElement("div",{className:v.default.meta},u.createElement(y.default,{msg:t})):null,b=t.comment?l10n.t(578):u.createElement(S.default,{msg:t},l10n.t(578));if(n){var C=s?l10n.t(574):u.createElement(S.default,{msg:t},l10n.t(574));r=u.createElement("div",{className:v.default.status},C)}return u.createElement(M.default,{msg:t,displayAuthor:a,hideMeta:c},u.createElement(h.default,{contact:t.senderObj,msg:t,className:(0,l.default)(v.default.container,{[v.default.expired]:n,[v.default.noCaption]:!s})},u.createElement("div",{className:v.default.linkPreview},u.createElement(E.default,{description:b,invite:!0,isSentByMe:t.isSentByMe,onClick:n?void 0:this.onOpenInvite,thumbnail:o,title:i,theme:n?"extended":void 0})),r,s,g),d)}}]),t}(u.PureComponent);T.CONCERNS={msg:["id","inviteCode","inviteCodeExp","inviteGrp","inviteGrpName","inviteGrpJpegThum","senderObj","comment","isSentByMe","isGroupMsg","isPSA","isGroupsV4InviteExpired"]};var P=(0,C.default)(T,T.CONCERNS);t.default=P},eacifebjhe:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("eaidjcib")),r=n(a("dgcdacjddi")),o=n(a("ffceefejc")),s=n(a("cjedcdbdii")),d=n(a("dbjagcfebh")),c=function(e){function t(){var e,a;(0,i.default)(this,t);for(var n=arguments.length,r=new Array(n),d=0;d<n;d++)r[d]=arguments[d];return(a=(0,o.default)(this,(e=(0,s.default)(t)).call.apply(e,[this].concat(r))))._i=0,a._prev=0,a._curr=0,a}return(0,d.default)(t,e),(0,r.default)(t,[{key:"_next",value:function(){var e;return e=0===this._i?0:1===this._i?1:this._prev+this._curr,this._prev=this._curr,this._curr=e,this._i++,{done:!1,value:e}}}]),t}(n(a("cbgabiccd")).default);t.default=c},eadgafjbag:function(e,t){e.exports={container:"_2avTY"}},eadgjjifdb:function(e,t){e.exports={header:"_36Ctd",list:"_33P-O"}},eaecbgafff:function(e,t,a){"use strict";var n=a("cfjecfhbfg"),i=n(a("eaidjcib")),r=n(a("ffceefejc")),o=n(a("cjedcdbdii")),s=n(a("dbjagcfebh")),d=n(a("digcccheca")),c=n(a("cbghhhdedg")),l=n(a("jhjgghei")),u=function(e){function t(){var e,a;(0,i.default)(this,t);for(var n=arguments.length,s=new Array(n),d=0;d<n;d++)s[d]=arguments[d];return(a=(0,r.default)(this,(e=(0,o.default)(t)).call.apply(e,[this].concat(s)))).handlers={onBeforeInput:c.default,onKeyDown:l.default},a}return(0,s.default)(t,e),t}(d.default);e.exports=new u},eaehccahdc:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=n(a("ddhijeejag")),u=i(a("bcbahjefec")),f=i(a("dccdiajhdf")),h=i(a("cfegjiegcd")),p=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).onProductClick=function(e,t){a.push(l.createElement(h.default,{refreshCarousel:!0,chat:a.props.msg.chat,product:e,sessionId:t,onEnd:a._pop}))},a._pop=function(){a.pop()},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){this.push(l.createElement(f.default,{msg:this.props.msg,onProductClick:this.onProductClick}))}}]),t}(u.default);t.default=p},eaejdgfgif:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("ffceefejc")),s=i(a("cjedcdbdii")),d=i(a("dbjagcfebh")),c=n(a("dcaifjegcg")),l=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),d=0;d<n;d++)i[d]=arguments[d];return(a=(0,o.default)(this,(e=(0,s.default)(t)).call.apply(e,[this].concat(i)))).id=(0,c.prop)(),a.variant=(0,c.prop)(),a}return(0,d.default)(t,e),t}(c.default);l.Proxy="emojiVariant";var u=(0,c.defineModel)(l);t.default=u},eaejieeafc:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("ffceefejc")),s=i(a("cjedcdbdii")),d=i(a("dbjagcfebh")),c=n(a("dcaifjegcg")),l=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),d=0;d<n;d++)i[d]=arguments[d];return(a=(0,o.default)(this,(e=(0,s.default)(t)).call.apply(e,[this].concat(i)))).id=(0,c.prop)(),a.parentType=(0,c.prop)(),a.parentId=(0,c.prop)(),a.labelId=(0,c.prop)(),a}return(0,d.default)(t,e),t}(c.default);l.Proxy="labelItem";var u=(0,c.defineModel)(l);t.default=u},eafabiffad:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=n(a("ddhijeejag")),u=i(a("dbhidcdghb")),f=i(a("ihfccfgdf")),h=i(a("bfdcadbbif")),p=i(a("eedjbihej")),g=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,(0,d.default)(t).apply(this,arguments))}return(0,c.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=this.props.msg,t=e.numTimesForwarded,a=e.isFrequentlyForwarded;if(t<=0||a)return null;var n=l.createElement(h.default,{name:"forwarded",display:"inline"}),i=l10n.t(488,{count:t,_plural:t});return l.createElement("div",{className:u.default.title},n,l.createElement(p.default,{theme:"title",className:u.default.text},i))}}]),t}(l.PureComponent);g.CONCERNS={msg:["numTimesForwarded","isFrequentlyForwarded"]};var m=(0,f.default)(g,g.CONCERNS);t.default=m},eafejccch:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.sendSetBlock=function(e,t){var a;a=r.default.supportsFeature(r.default.F.MD_BACKEND)?Promise.reject(new Error("Should not reach here")):s.default.sendSetBlock(e,[{jid:t}]).then(function(e){if(200!==e.status)throw new i.ServerStatusCodeError(e.status);var t=!(e._duplicate||200!==e.status);return t});return a.then(function(a){if(a&&r.default.supportsFeature(r.default.F.MD_BACKEND)){var n=e?o.Blocklist.create({id:t.toString()}):o.Blocklist.remove(t.toString());return n.then(function(){return a})}return a})};var i=a("ddjgcfjicj"),r=n(a("bjbdcigbdi")),o=a("cefcddgdgg"),s=n(a("bihdhbjih"))},eafibdfg:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=n(a("ddhijeejag")),u=i(a("bbchdeehff")),f=i(a("bhhdeihhhf")),h=i(a("bdgjaajijj")),p=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).onCapture=function(){u.default.openModal(l.createElement(h.default,{onFinished:a.props.onImageTake}))},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){return l.createElement(f.default,{action:this.onCapture,a8n:"mi-take-photo",disabled:this.props.disabled},l10n.t(1091))}}]),t}(l.Component);t.default=p},eafjfadchb:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=n(a("ddhijeejag")),u=i(a("bbchdeehff")),f=i(a("biddiiafgd")),h=i(a("eiighchhi")),p=i(a("fffdgbfji")),g=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).onDownload=function(){u.default.closeModal(),h.default.initDownload(a.props.msg)},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){return l.createElement(f.default,{onCancel:function(){return u.default.closeModal()},onOK:this.onDownload,okText:p.default.t(1193),cancelText:p.default.t(1197),title:p.default.t(408)},p.default.t(407))}}]),t}(l.Component);t.default=g},eahbabfhi:function(e,t){e.exports={sticky:"_1GhQD"}},eahbfdfee:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.newMessageQueryEvent=function(e){return new r.default.WebcMessageQuery({webcResponseBytes:0,webcMessageCount:0,webcTextMessageCount:0,webcVideoMessageCount:0,webcPhotoMessageCount:0,webcAudioMessageCount:0,webcPttMessageCount:0,webcStickerMessageCount:0,webcDocumentMessageCount:0,webcOtherMessageCount:0,webcMessageQueryTrigger:e})},t.logMessageCounts=function(e,t){e.webcMessageCount+=t.length;for(var a=0,n=t[a];a<t.length;n=t[++a])switch(n.type){case i.MSG_TYPE.CHAT:case i.MSG_TYPE.LOCATION:case i.MSG_TYPE.PAYMENT:case i.MSG_TYPE.VCARD:case i.MSG_TYPE.CIPHERTEXT:case i.MSG_TYPE.MULTI_VCARD:case i.MSG_TYPE.REVOKED:case i.MSG_TYPE.OVERSIZED:e.webcTextMessageCount+=1;break;case i.MSG_TYPE.IMAGE:case i.MSG_TYPE.PRODUCT:e.webcPhotoMessageCount+=1;break;case i.MSG_TYPE.VIDEO:e.webcVideoMessageCount+=1;break;case i.MSG_TYPE.AUDIO:e.webcAudioMessageCount+=1;break;case i.MSG_TYPE.PTT:e.webcPttMessageCount+=1;break;case i.MSG_TYPE.STICKER:e.webcStickerMessageCount+=1;break;case i.MSG_TYPE.DOCUMENT:e.webcDocumentMessageCount+=1;break;default:e.webcOtherMessageCount+=1}};var i=a("baagejbchg"),r=n(a("bfbggcdbfb"))},eahbjifecd:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=n(a("ddhijeejag")),u=i(a("baagejbchg")),f=i(a("baijejebfi")),h=i(a("bbjadhadbg")),p=i(a("ihfccfgdf")),g=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i))))._renderImage=function(e){return l.createElement("div",{style:{backgroundImage:"url(".concat(e,")")},className:f.default.preview})},a._renderPreview=function(){var e=a.props.mediaData;if(e.preview&&e.preview.url){var t=e.preview.url();if(t)return a._renderImage(t)}return null},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=this.props.mediaData;return e.type===u.default.MSG_TYPE.IMAGE||e.type===u.default.MSG_TYPE.PRODUCT?l.createElement(h.default,{mediaData:e,placeholderRenderer:this._renderPreview},this._renderImage):this._renderPreview()}}]),t}(l.PureComponent);g.CONCERNS={mediaData:["filehash","type","preview","mediaStage"]};var m=(0,p.default)(g,g.CONCERNS);t.default=m},eahhieahd:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=n(a("ddhijeejag")),u=i(a("cfaiaibca")),f=i(a("dhfbfehaef")),h=i(a("fffdgbfji")),p=i(a("chcadgfgad")),g=i(a("cdaaeifjfh")),m=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).onCancel=function(){(0,a.props.onPopupCancel)()},a.onReport=function(){a.props.onReport()},a.onTellUsMore=function(){a.props.onTellUsMore()},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=h.default.t(974),t=l.createElement("div",{key:"ReportProductChoicePopup-desc"},h.default.t(972)),a=l.createElement(u.default,{a8nText:"popup-controls-more",type:"plain",onClick:this.onTellUsMore,key:"ReportProductChoicePopup-moreBtn"},h.default.t(975)),n=l.createElement(u.default,{a8nText:"popup-controls-report",type:"plain",onClick:this.onReport,key:"ReportProductChoicePopup-reportBtn"},h.default.t(971)),i=l.createElement(u.default,{type:"plain",onClick:this.onCancel,key:0},h.default.t(1197)),r={escape:this.onCancel},o=l.createElement("div",{className:g.default.buttons},l.createElement("div",{className:g.default.button},a),l.createElement("div",{className:g.default.button},n),l.createElement("div",{className:g.default.button},i));return l.createElement(f.default,{handlers:r},l.createElement(p.default,{title:e,actions:o,children:t}))}}]),t}(l.Component);t.default=m},eaibdijehg:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.queryProduct=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:100;return(0,n.queryProduct)(e,t,a,i)},t.queryCatalog=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:100,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:100;return(0,n.queryCatalog)(e,t,a,i,r)},t.reportProduct=function(e,t,a){return(0,n.reportProduct)(e,t,a)};var n=a("bhgfchijhg")},eaiefjeabj:function(e,t,a){"use strict";var n=a("cfjecfhbfg"),i=n(a("ddfeabiaci")),r=n(a("bdiiahhjbe")),o=n(a("bgeajihhc")),s=a("bbcaggdbc").WebMessageInfo,d=a("bgiachiigg").Message,c=a("ihiijcdag"),l={version:"15",M:{DEBUG_LOG:1,QUERY_RESUME:2,QUERY_RECEIPT:3,QUERY_MEDIA:4,QUERY_CHAT:5,QUERY_CONTACTS:6,QUERY_MESSAGES:7,PRESENCE:8,PRESENCE_SUBSCRIBE:9,GROUP:10,READ:11,CHAT:12,RECEIVED:13,PIC:14,STATUS:15,MESSAGE:16,QUERY_ACTIONS:17,BLOCK:18,QUERY_GROUP:19,QUERY_PREVIEW:20,QUERY_EMOJI:21,QUERY_MESSAGE_INFO:22,SPAM:23,QUERY_SEARCH:24,QUERY_IDENTITY:25,QUERY_URL:26,PROFILE:27,CONTACT:28,QUERY_VCARD:29,QUERY_STATUS:30,QUERY_STATUS_UPDATE:31,PRIVACY_STATUS:32,QUERY_LIVE_LOCATIONS:33,LIVE_LOCATION:34},parseMsgStubProto:function(e,t){var a=s.STUBTYPE;switch(e.messageStubType){case a.REVOKE:return t.type="revoked",t;case a.CIPHERTEXT:return t.type="ciphertext",t;case a.FUTUREPROOF:return t.subtype="phone",t;default:return this.parseMsgStubTemplate(e,t)}},parseMsgStubTemplate:function(e,t){var a=s.STUBTYPE;switch(t.type="notification_template",t.templateParams=Array.isArray(e.messageStubParameters)?e.messageStubParameters.map(this.decodeJid):void 0,e.messageStubType){case a.NON_VERIFIED_TRANSITION:t.subtype="non_verified_transition";break;case a.UNVERIFIED_TRANSITION:t.subtype="unverified_transition";break;case a.VERIFIED_TRANSITION:t.subtype="verified_transition";break;case a.VERIFIED_LOW_UNKNOWN:t.subtype="verified_low_unknown";break;case a.VERIFIED_HIGH:t.subtype="verified_high";break;case a.VERIFIED_INITIAL_UNKNOWN:t.subtype="verified_initial_unknown";break;case a.VERIFIED_INITIAL_LOW:t.subtype="verified_initial_low";break;case a.VERIFIED_INITIAL_HIGH:t.subtype="verified_initial_high";break;case a.VERIFIED_TRANSITION_ANY_TO_NONE:t.subtype="verified_transition_any_to_none";break;case a.VERIFIED_TRANSITION_ANY_TO_HIGH:t.subtype="verified_transition_any_to_high";break;case a.VERIFIED_TRANSITION_HIGH_TO_LOW:t.subtype="verified_transition_high_to_low";break;case a.VERIFIED_TRANSITION_HIGH_TO_UNKNOWN:t.subtype="verified_transition_high_to_unknown";break;case a.VERIFIED_TRANSITION_UNKNOWN_TO_LOW:t.subtype="verified_transition_unknown_to_low";break;case a.VERIFIED_TRANSITION_LOW_TO_UNKNOWN:t.subtype="verified_transition_low_to_unknown";break;case a.VERIFIED_TRANSITION_NONE_TO_LOW:t.subtype="verified_transition_none_to_low";break;case a.VERIFIED_TRANSITION_NONE_TO_UNKNOWN:t.subtype="verified_transition_none_to_unknown";break;default:t.templateParams=void 0}return t},subscribeLiveLocation:function(e,t){var a=this;return new Promise(function(n,i){var o=a.queryNode({type:"location",kind:"subscribe",jid:e,participant:t?"true":void 0},void 0);a.binSend("sendEphemeral",o,i,{onSend:a.binWrap(function(e){a.BinaryProtocol.read(e).then(function(e){var i=a.N.children(e),o={participants:[]};if(r.default.logColor("green","bin-recv: response,location",e)(),"response"===a.N.tag(e)&&"location"===a.N.attr("type",e)){var s=parseInt(a.N.attr("duration",e),10);if(o.duration=Number.isNaN(s)?void 0:s,!t||!Array.isArray(i))return t&&r.default.log("LiveLocation:response with no participants")(),void n(o);for(var c=i.length,l=0;l<c;l++){var u=i[l],f=a.N.attr("jid",u),h=parseInt(a.N.attr("expiration",u),10),p=parseInt(a.N.attr("elapsed",u),10)||0,g=a.N.children(u);if("participant"===a.N.tag(u)&&f){var m={id:f,expiration:Number.isNaN(h)?void 0:h,elapsed:p};if(g){var b=d.parse(g).liveLocationMessage;b&&a.parseLiveLocationMessageProto(m,b)}m.lat&&m.lng?r.default.log("LiveLocation:response with lat/lng")():r.default.log("LiveLocation:response without lat/lng")(),o.participants.push(m)}}n(o)}else n(o)}).catch(i)},n),onDrop:a.wrap(i)},{debugString:["query,location",e,t].join(),metricName:"QUERY_LIVE_LOCATIONS"})})},unsubscribeLiveLocation:function(e){var t=this;return new Promise(function(a,n){var i=t.actionNode("set",[["location",{type:"unsubscribe",jid:e},void 0]]);t.binSend("send",i,n,{clientCacheable:!0,onSend:t.wrap(a),onDrop:t.wrap(n)},{debugString:"action,location,unsubscribe,"+e,metricName:"LIVE_LOCATION"})})},queryActiveLiveLocation:function(e){var t=this;return new Promise(function(a,n){var i=t.queryNode({type:"location",kind:"participant",jid:e},void 0);t.binSend("sendEphemeral",i,n,{onSend:t.binWrap(function(e){t.BinaryProtocol.read(e).then(function(e){var n=t.N.children(e),i={participants:[]};if(r.default.logColor("green","bin-recv: response,location",e)(),"response"===t.N.tag(e)&&"location"===t.N.attr("type",e))if(Array.isArray(n)){for(var o=n.length,s=0;s<o;s++){var d=n[s],c=t.N.attr("jid",d),l=parseInt(t.N.attr("expiration",d),10);if("participant"===t.N.tag(d)&&c){var u={id:c,expiration:Number.isNaN(l)?void 0:l};i.participants.push(u)}}a(i)}else a(i);else a(i)}).catch(n)},a),onDrop:t.wrap(n)},{debugString:"query,location,participant,"+e,metricName:"QUERY_LIVE_LOCATIONS"})})},disableLiveLocation:function(e){var t=this;return new Promise(function(a,n){var i=t.actionNode("set",[["location",{type:"disable",jid:e},void 0]]);t.binSend("send",i,n,{clientCacheable:!0,onSend:t.wrap(a),onDrop:t.wrap(n)},{debugString:"action,location,disable,"+e,metricName:"LIVE_LOCATION"})})},parseLocation:function(e){if("location"===this.N.tag(e)){var t=this.N.attr("type",e),a=this.N.attr("jid",e),n=this.N.attr("author",e),i=parseInt(this.N.attr("elapsed",e),10)||0,o=parseInt(this.N.attr("id",e),10)||0,s=this.N.children(e),c={type:t};switch(t){case"update":if(c.jid=a,c.elapsed=i,s){var l=d.parse(s).liveLocationMessage;l&&this.parseLiveLocationMessageProto(c,l)}c.type="update",c.lat&&c.lng?r.default.log("LiveLocation:update with lat/lng")():r.default.log("LiveLocation:update without lat/lng")();break;case"disable":c.jid=n||a,c.chat=a,c.seq=o}this.pruneUndefinedProps(c);var u=["update"!==t&&"disable"!==t,!("update"!==t||a&&s),"disable"===t&&!a];return this.dropIfConditionMet(u,c)}},binSend:function(e,t,a,n,i){var r=this,s=n.epochIneligible?a:function(e){r.epochRecv(),a(e)};return delete n.epochIneligible,this.BinaryProtocol.write(t).then(function(a){i.debugObj||(i.debugObj=t),i.metric=r.M[i.metricName],i.ackRequest=!1,n.data=a,n.binaryOpts=i,o.default[e](n)}).catch(s)}};e.exports=(0,i.default)(l,c)},eaigijhjei:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("ddfeabiaci")),s=i(a("bccgihhja")),d=n(a("cajijabhgb")),c=i(a("bjbdcigbdi")),l=i(a("djchfddccj")),u=i(a("bdiiahhjbe")),f=i(a("dajhhehjhc")),h=function(e,t){if(Array.isArray(e)&&t)return e.concat(t)},p=function(e,t){if(e.Dictionary){var a={};(0,s.default)(a,t.Dictionary,e.Dictionary,h),e.Dictionary=a}return(0,o.default)(e,t)},g={OutputStream:f.default,Writer:a("djiifidhej"),InputStream:l.default,Reader:a("chaebfegeh"),Dictionary:a("dabcaghhah"),Crypto:a("ddcchcchag")},m=p({Dictionary:a("cbhhieidga")},g),b=p({Dictionary:a("dabidjgjaj")},m),v=p({Dictionary:a("bbijaajigb")},b),j=p({Dictionary:a("ceihfbbggi")},v),E=p({Dictionary:a("ddfgdjiacb")},j),y=p({Writer:a("bfidcjhfda"),Reader:a("cdjdachjig"),Dictionary:a("gjcabeieb")},E),_={"01":!0,"03":!0,"04":!0,"05":!0,"06":!0,v1:!0,v2:!0,v3:!0,v4:!0},S={v5:g,v6:m,v7:b,v8:v,v9:j,v10:E,v11:y};t.default=function e(t){(0,r.default)(this,e);var n="number"==typeof t?"v".concat(t):t;if(_[n])throw u.default.error("binaryProtocol deprecated version: ".concat(n))(),new d.DeprecatedProtocolVersion("bp_deprecated_version");var i=S[n];if(!i)throw u.default.error("binaryProtocol unknown version: "+n)(),new d.UpdateImmediately("bp_unknown_version");var o=i.OutputStream,s=new i.Writer(i.Dictionary),l=i.InputStream,f=new i.Reader(i.Dictionary),h=i.Crypto;this.Node=a("bcjjbcbjaa"),c.default.supportsFeature(c.default.F.MD_BACKEND)||(this.read=function(e){return h.decrypt(e).then(function(e){return f.readNode(new l(e))})}),this.write=function(e){return Promise.callSynchronously(function(){var t=new o;return s.writeNode(t,e),h.encrypt(t.toBuffer())})},this.dropAllBecauseLogout=function(){return h.dropAllBecauseLogout()}}},eaijjhejbf:function(e,t){e.exports={emojiSearch:"_2JTFh",searchBody:"h2Zsb",positioningContainer:"_3KUIv",overlayContainer:"_2mlOb",resultsContainer:"_IWON",mediaCaption:"aWTXv",emojiInput:"_1GTvX"}},eajcgecgjh:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.findSuspiciousCharacters=function(e,t,a,n){var i,r=e.split("."),o=!1;if(r.forEach(function(e){if(o=!e.match(g)){if(i)return null;i=e}}),!i||o)return null;for(var d=[],u=!0,f=(0,s.toArray)(i).map(function(e){return(0,s.codePointAt)(e,0)}),b=0;b<f.length;b++){var v=f[b];if(!(u=u&&p(v))&&c.get(v)){if(d.length>=m)return null;d.push(v)}}if(u)return h(a)||h(t)?null:n.some(function(e){return function(e){return l.has(e)}(e)})?null:new Set(f);if(!d.length)return null;var j=d.filter(function(e){var i=c.get(e);return!(!i||i.hasRegion(a)||i.hasRegion(t))&&!n.some(function(e){return i.hasLanguage(e)})});return j.length?new Set(j):null};var i=n(a("eaidjcib")),r=n(a("dgcdacjddi")),o=a("dcaffhdbgi"),s=a("chhhffajfi"),d=function(){function e(){(0,i.default)(this,e);for(var t=arguments.length,a=new Array(t),n=0;n<t;n++)a[n]=arguments[n];this.languages=new Set(a),this.regions=new Set(a.map(function(e){return o.LANGUAGE_TO_REGIONS.get(e)||[]}).reduce(function(e,t){return e.concat(t)},[]))}return(0,r.default)(e,[{key:"hasLanguage",value:function(e){return this.languages.has(e)}},{key:"hasRegion",value:function(e){return this.regions.has(e)}}]),e}(),c=new Map([[237,new d(o.LANGUAGES.ASTURIAN,o.LANGUAGES.BAFIA,o.LANGUAGES.BASA_CAMEROON,o.LANGUAGES.CATALAN,o.LANGUAGES.CZECH,o.LANGUAGES.DUALA,o.LANGUAGES.DUTCH,o.LANGUAGES.EWE,o.LANGUAGES.EWONDO,o.LANGUAGES.FAROESE,o.LANGUAGES.FRENCH,o.LANGUAGES.GALICIAN,o.LANGUAGES.GREENLANDIC,o.LANGUAGES.HUNGARIAN,o.LANGUAGES.ICELANDIC,o.LANGUAGES.IRISH,o.LANGUAGES.JOLA_FONYI,o.LANGUAGES.KABUVERDIANU,o.LANGUAGES.KAKO,o.LANGUAGES.KWASIO,o.LANGUAGES.LAKOTA,o.LANGUAGES.LANGI,o.LANGUAGES.LINGALA,o.LANGUAGES.LUBA_KATANGA,o.LANGUAGES.MASAI,o.LANGUAGES.NGIEMBOON,o.LANGUAGES.NGOMBA,o.LANGUAGES.PORTUGUESE,o.LANGUAGES.QUECHUA,o.LANGUAGES.SENA,o.LANGUAGES.SLOVAK,o.LANGUAGES.SPANISH,o.LANGUAGES.TONGAN,o.LANGUAGES.VAI,o.LANGUAGES.VIETNAMESE,o.LANGUAGES.WALSER,o.LANGUAGES.WELSH,o.LANGUAGES.WESTERN_FRISIAN,o.LANGUAGES.YANGBEN,o.LANGUAGES.YORUBA)],[238,new d(o.LANGUAGES.AFRIKAANS,o.LANGUAGES.AGHEM,o.LANGUAGES.AKOOSE,o.LANGUAGES.BAFUT,o.LANGUAGES.BASA_CAMEROON,o.LANGUAGES.BEKWARRA,o.LANGUAGES.BETE_BENDI,o.LANGUAGES.DUTCH,o.LANGUAGES.EBIRA,o.LANGUAGES.EWONDO,o.LANGUAGES.FRENCH,o.LANGUAGES.FRIULIAN,o.LANGUAGES.GADSUP,o.LANGUAGES.GBARI,o.LANGUAGES.GREENLANDIC,o.LANGUAGES.HYAM,o.LANGUAGES.IVBIE_NORTH_OKPELA_ARHE,o.LANGUAGES.JUKUN_TAKUM,o.LANGUAGES.KAKO,o.LANGUAGES.KHOEKHOE,o.LANGUAGES.KOLSCH,o.LANGUAGES.KURDISH,o.LANGUAGES.KWASIO,o.LANGUAGES.LIMBUM,o.LANGUAGES.LINGALA,o.LANGUAGES.MADA_NIGERIA,o.LANGUAGES.MALAGASY,o.LANGUAGES.MASAI,o.LANGUAGES.MUMUYE,o.LANGUAGES.NGOMBA,o.LANGUAGES.NINZO,o.LANGUAGES.OBOLO,o.LANGUAGES.ROMANIAN,o.LANGUAGES.SANGO,o.LANGUAGES.SICILIAN,o.LANGUAGES.SRANAN_TONGO,o.LANGUAGES.TAROK,o.LANGUAGES.TURKISH,o.LANGUAGES.WALLOON,o.LANGUAGES.WELSH,o.LANGUAGES.YANGBEN,o.LANGUAGES.YELE)],[252,new d(o.LANGUAGES.ANGOR,o.LANGUAGES.ASTURIAN,o.LANGUAGES.AZERBAIJANI,o.LANGUAGES.BRETON,o.LANGUAGES.CATALAN,o.LANGUAGES.CORSICAN,o.LANGUAGES.CZECH,o.LANGUAGES.DUTCH,o.LANGUAGES.EDOLO,o.LANGUAGES.ESTONIAN,o.LANGUAGES.FRENCH,o.LANGUAGES.GALICIAN,o.LANGUAGES.GERMAN,o.LANGUAGES.GIZRRA,o.LANGUAGES.GODIE,o.LANGUAGES.HUNGARIAN,o.LANGUAGES.KAKI_AE,o.LANGUAGES.KIRE,o.LANGUAGES.KOLSCH,o.LANGUAGES.KUNIMAIPA,o.LANGUAGES.LOW_GERMAN,o.LANGUAGES.LUXEMBOURGISH,o.LANGUAGES.MAPUCHE,o.LANGUAGES.OCCITAN,o.LANGUAGES.SANGO,o.LANGUAGES.SLOVAK,o.LANGUAGES.SPANISH,o.LANGUAGES.SWISS_GERMAN,o.LANGUAGES.TORO_SO_DOGON,o.LANGUAGES.TURKISH,o.LANGUAGES.TURKMEN,o.LANGUAGES.VOLAPUK,o.LANGUAGES.WALLOON,o.LANGUAGES.WALSER,o.LANGUAGES.WESTERN_FRISIAN,o.LANGUAGES.YIL)],[267,new d(o.LANGUAGES.MALTESE)],[299,new d(o.LANGUAGES.AGHEM,o.LANGUAGES.AKOOSE,o.LANGUAGES.BAFUT,o.LANGUAGES.BASA_CAMEROON,o.LANGUAGES.BEKWARRA,o.LANGUAGES.BETE_BENDI,o.LANGUAGES.DENDI_BENIN,o.LANGUAGES.EBIRA,o.LANGUAGES.ERAVE,o.LANGUAGES.ETKYWAN,o.LANGUAGES.GOURMANCHEMA,o.LANGUAGES.HAWAIIAN,o.LANGUAGES.HYAM,o.LANGUAGES.IBANI,o.LANGUAGES.IDOMA,o.LANGUAGES.JUKUN_TAKUM,o.LANGUAGES.KUTEP,o.LANGUAGES.KWASIO,o.LANGUAGES.LATVIAN,o.LANGUAGES.MADA_NIGERIA,o.LANGUAGES.MAORI,o.LANGUAGES.MASAI,o.LANGUAGES.MBELIME,o.LANGUAGES.NINZO,o.LANGUAGES.PRUSSIAN,o.LANGUAGES.SCOTTISH_GAELIC,o.LANGUAGES.TONGAN,o.LANGUAGES.YALA,o.LANGUAGES.YANGBEN)],[305,new d(o.LANGUAGES.AZERBAIJANI,o.LANGUAGES.CRIMEAN_TATAR,o.LANGUAGES.TURKISH)],[316,new d(o.LANGUAGES.LATVIAN)],[322,new d(o.LANGUAGES.LOWER_SORBIAN,o.LANGUAGES.NAVAJO,o.LANGUAGES.POLISH,o.LANGUAGES.UPPER_SORBIAN)],[353,new d(o.LANGUAGES.BOSNIAN,o.LANGUAGES.CROATIAN,o.LANGUAGES.CZECH,o.LANGUAGES.DAZAGA,o.LANGUAGES.ESTONIAN,o.LANGUAGES.FINNISH,o.LANGUAGES.INARI_SAMI,o.LANGUAGES.KIRE,o.LANGUAGES.KOYRA_CHIINI,o.LANGUAGES.KOYRABORO_SENNI,o.LANGUAGES.KUNAMA,o.LANGUAGES.LAKOTA,o.LANGUAGES.LATVIAN,o.LANGUAGES.LITHUANIAN,o.LANGUAGES.LOWER_SORBIAN,o.LANGUAGES.NORTHERN_SAMI,o.LANGUAGES.NORTHERN_SOTHO,o.LANGUAGES.PRUSSIAN,o.LANGUAGES.SERBIAN,o.LANGUAGES.SERBO_CROATIAN,o.LANGUAGES.SKOLT_SAMI,o.LANGUAGES.SLOVAK,o.LANGUAGES.SLOVENIAN,o.LANGUAGES.TAMASHEQ,o.LANGUAGES.TASAWAQ,o.LANGUAGES.TEDAGA,o.LANGUAGES.UPPER_SORBIAN,o.LANGUAGES.WALSER,o.LANGUAGES.ZARMA)],[409,new d(o.LANGUAGES.CIBAK,o.LANGUAGES.GOEMAI,o.LANGUAGES.HAUSA,o.LANGUAGES.IK,o.LANGUAGES.KAREKARE,o.LANGUAGES.LAMANG,o.LANGUAGES.MBULA_BWAZZA,o.LANGUAGES.NGAS,o.LANGUAGES.NINZO,o.LANGUAGES.PERO,o.LANGUAGES.TAL,o.LANGUAGES.TANGALE,o.LANGUAGES.WAJA,o.LANGUAGES.WARJI)],[448,new d(o.LANGUAGES.KHOEKHOE)],[449,new d(o.LANGUAGES.KHOEKHOE)],[559,new d(o.LANGUAGES.LIVONIAN)],[593,new d(o.LANGUAGES.FEFE,o.LANGUAGES.HUN_SAARE,o.LANGUAGES.TAMASHEK)],[595,new d(o.LANGUAGES.ADAMAWA_FULFULDE,o.LANGUAGES.AGWAGWUNE,o.LANGUAGES.BAKA_CAMEROON,o.LANGUAGES.BALANTA_GANJA,o.LANGUAGES.BALI_NIGERIA,o.LANGUAGES.BASA_CAMEROON,o.LANGUAGES.BASSA,o.LANGUAGES.BOMU,o.LANGUAGES.BORGU_FULFULDE,o.LANGUAGES.BURAK,o.LANGUAGES.BURA_PABIR,o.LANGUAGES.CAKFEM_MUSHERE,o.LANGUAGES.CENTRAL_EASTERN_NIGER_FULFULDE,o.LANGUAGES.CIBAK,o.LANGUAGES.CISHINGINI,o.LANGUAGES.DABA,o.LANGUAGES.DAN,o.LANGUAGES.DGHWEDE,o.LANGUAGES.DOYAYO,o.LANGUAGES.DUALA,o.LANGUAGES.ENGENNI,o.LANGUAGES.FULAH,o.LANGUAGES.GBARI,o.LANGUAGES.GBAYA_CENTRAL_AFRICAN_REPUBLIC,o.LANGUAGES.GBAYA_MBODOMO,o.LANGUAGES.GOEMAI,o.LANGUAGES.GUDE,o.LANGUAGES.GUINEA_KPELLE,o.LANGUAGES.GWAK,o.LANGUAGES.HAUSA,o.LANGUAGES.HUBA,o.LANGUAGES.IK,o.LANGUAGES.KAKO,o.LANGUAGES.KAMWE,o.LANGUAGES.KARANG,o.LANGUAGES.KAREKARE,o.LANGUAGES.KPELLE,o.LANGUAGES.KWASIO,o.LANGUAGES.LAMANG,o.LANGUAGES.MAASINA_FULFULDE,o.LANGUAGES.MBO_CAMEROON,o.LANGUAGES.MBULA_BWAZZA,o.LANGUAGES.MOFU_GUDUR,o.LANGUAGES.MUMUYE,o.LANGUAGES.MUNDANG,o.LANGUAGES.MWAGHAVUL,o.LANGUAGES.NGAS,o.LANGUAGES.NIGERIAN_FULFULDE,o.LANGUAGES.NINZO,o.LANGUAGES.NORTHERN_DAGARA,o.LANGUAGES.PARKWA,o.LANGUAGES.PERO,o.LANGUAGES.PULAR,o.LANGUAGES.RON,o.LANGUAGES.SAAFI_SAAFI,o.LANGUAGES.SERER,o.LANGUAGES.SISSALA,o.LANGUAGES.SOKORO,o.LANGUAGES.TAL,o.LANGUAGES.TANGALE,o.LANGUAGES.TAROK,o.LANGUAGES.TERA,o.LANGUAGES.TIKAR,o.LANGUAGES.TSIKIMBA,o.LANGUAGES.TSISHINGINI,o.LANGUAGES.VAI,o.LANGUAGES.VUTE,o.LANGUAGES.WAJA,o.LANGUAGES.WARJI,o.LANGUAGES.WESTERN_NIGER_FULFULDE,o.LANGUAGES.ZULGO_GEMZEK)],[7693,new d(o.LANGUAGES.CENTRAL_ATLAS_TAMAZIGHT,o.LANGUAGES.KABYLE,o.LANGUAGES.KIRIKE,o.LANGUAGES.TACHELHIT,o.LANGUAGES.TAMASHEK,o.LANGUAGES.TAMASHEQ)],[7771,new d(o.LANGUAGES.CENTRAL_ATLAS_TAMAZIGHT,o.LANGUAGES.KABYLE,o.LANGUAGES.TACHELHIT)],[7789,new d(o.LANGUAGES.CENTRAL_ATLAS_TAMAZIGHT,o.LANGUAGES.KABYLE,o.LANGUAGES.TACHELHIT,o.LANGUAGES.TAMASHEK,o.LANGUAGES.TAMASHEQ)],[7817,new d],[7841,new d(o.LANGUAGES.IZI_EZAA_IKWO_MGBO,o.LANGUAGES.LOKAA,o.LANGUAGES.TAI_DAM,o.LANGUAGES.VIETNAMESE)],[7865,new d(o.LANGUAGES.AGWAGWUNE,o.LANGUAGES.BEROM,o.LANGUAGES.BINI,o.LANGUAGES.CROSS_RIVER_MBEMBE,o.LANGUAGES.DAZAGA,o.LANGUAGES.EBIRA,o.LANGUAGES.ENGENNI,o.LANGUAGES.GOKANA,o.LANGUAGES.IBANI,o.LANGUAGES.IKA,o.LANGUAGES.IKWERE,o.LANGUAGES.IZI_EZAA_IKWO_MGBO,o.LANGUAGES.KIRIKE,o.LANGUAGES.LOKAA,o.LANGUAGES.TAI_DAM,o.LANGUAGES.TANGALE,o.LANGUAGES.TEDAGA,o.LANGUAGES.VIETNAMESE,o.LANGUAGES.YORUBA)],[7883,new d(o.LANGUAGES.AVOKAYA,o.LANGUAGES.CROSS_RIVER_MBEMBE,o.LANGUAGES.EBIRA,o.LANGUAGES.ENGENNI,o.LANGUAGES.IBANI,o.LANGUAGES.IGBO,o.LANGUAGES.IGEDE,o.LANGUAGES.IKA,o.LANGUAGES.IKWERE,o.LANGUAGES.IZI_EZAA_IKWO_MGBO,o.LANGUAGES.KIRIKE,o.LANGUAGES.TAI_DAM,o.LANGUAGES.TANGALE,o.LANGUAGES.VIETNAMESE)]]),l=new Set([o.LANGUAGES.ABAZA,o.LANGUAGES.ABKHAZIAN,o.LANGUAGES.ADYGHE,o.LANGUAGES.AVARIC,o.LANGUAGES.AZERBAIJANI,o.LANGUAGES.BASHKIR,o.LANGUAGES.BELARUSIAN,o.LANGUAGES.BOSNIAN,o.LANGUAGES.BULGARIAN,o.LANGUAGES.BURIAT,o.LANGUAGES.CHECHEN,o.LANGUAGES.CHUKOT,o.LANGUAGES.CHURCH_SLAVIC,o.LANGUAGES.CHUVASH,o.LANGUAGES.CRIMEAN_TATAR,o.LANGUAGES.DARGWA,o.LANGUAGES.DUNGAN,o.LANGUAGES.ERZYA,o.LANGUAGES.EVENKI,o.LANGUAGES.GAGAUZ,o.LANGUAGES.INGUSH,o.LANGUAGES.KABARDIAN,o.LANGUAGES.KALMYK,o.LANGUAGES.KARACHAY_BALKAR,o.LANGUAGES.KARA_KALPAK,o.LANGUAGES.KAZAKH,o.LANGUAGES.KHAKAS,o.LANGUAGES.KHANTY,o.LANGUAGES.KIRGHIZ,o.LANGUAGES.KOMI,o.LANGUAGES.KOMI_PERMYAK,o.LANGUAGES.KORYAK,o.LANGUAGES.KUMYK,o.LANGUAGES.LAK,o.LANGUAGES.LEZGHIAN,o.LANGUAGES.MACEDONIAN,o.LANGUAGES.MANSI,o.LANGUAGES.MARI,o.LANGUAGES.MOKSHA,o.LANGUAGES.MONGOLIAN,o.LANGUAGES.MUSLIM_TAT,o.LANGUAGES.NANAI,o.LANGUAGES.NENETS,o.LANGUAGES.NOGAI,o.LANGUAGES.OSSETIAN,o.LANGUAGES.RUSSIAN,o.LANGUAGES.RUSYN,o.LANGUAGES.SERBIAN,o.LANGUAGES.SERBO_CROATIAN,o.LANGUAGES.SHOR,o.LANGUAGES.SOUTHERN_ALTAI,o.LANGUAGES.TABASSARAN,o.LANGUAGES.TAJIK,o.LANGUAGES.TATAR,o.LANGUAGES.TSAKHUR,o.LANGUAGES.TURKMEN,o.LANGUAGES.TUVINIAN,o.LANGUAGES.UDIHE,o.LANGUAGES.UDMURT,o.LANGUAGES.UKRAINIAN,o.LANGUAGES.UZBEK,o.LANGUAGES.WESTERN_MARI,o.LANGUAGES.YAKUT]),u=new Set([o.REGIONS.ARMENIA,o.REGIONS.AZERBAIJAN,o.REGIONS.BELARUS,o.REGIONS.BOSNIA,o.REGIONS.BULGARIA,o.REGIONS.GEORGIA,o.REGIONS.KAZAKHSTAN,o.REGIONS.KOSOVO,o.REGIONS.KYRGYZSTAN,o.REGIONS.MACEDONIA,o.REGIONS.MOLDOVA,o.REGIONS.MONGOLIA,o.REGIONS.MONTENEGRO,o.REGIONS.RUSSIA,o.REGIONS.SERBIA,o.REGIONS.TAJIKISTAN,o.REGIONS.TURKMENISTAN,o.REGIONS.UKRAINE,o.REGIONS.UZBEKISTAN]),f=new Set([1072,1074,1075,1077,1082,1084,1085,1086,1088,1089,1090,1091,1093,1096,1097,1100,1109,1110,1112,1121,1141,1199,1211,1231,1281,1307,1309,1319,42649]);function h(e){return u.has(e)}function p(e){return f.has(e)}var g=new RegExp("^[a-z0-9-]+$"),m=2},eajefhgiag:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.findSuspiciousCharacters=function(e,t){if(!d.default.suspiciousLinks)return;if(t.equals(r.default.me))return;var a=r.default.me,n=(0,s.getRegion)(t.user),i=(0,s.getRegion)(a.user);if(!n||!i)return;var c=r.default.allLanguages;return o.findSuspiciousCharacters(e,n.toUpperCase(),i.toUpperCase(),c.map(function(e){return e.toLowerCase()}))};var r=i(a("bjigbaghc")),o=n(a("eajcgecgjh")),s=a("beiebgdecj"),d=i(a("bfgbdiffgd"))},eajjbbihhc:function(e,t,a){"use strict";var n=a("cfjecfhbfg"),i=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.mimeType,a=e.url;return r.createElement("div",{className:o.default.container,"data-animate-attach-media":!0},r.createElement("div",{className:o.default.media},r.createElement("audio",{controls:!0,type:t,src:a})))};var r=i(a("ddhijeejag")),o=n(a("cbfidcgebe"))},ebaacddagf:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=new MessageChannel,a=t.port1,n=t.port2;s.default.respondTo(a),i.default.init(),o.default.setConnectionManager(i.default),i.default.connectVia(a),e.postMessage((0,r.buildHandshakePayload)(n),[n])};var i=n(a("bhacdidjbh")),r=a("cifgeeeece"),o=n(a("cefaeicfec")),s=n(a("hgaedfgj"))},ebacfjjdeb:function(e,t){e.exports={metadataContainer:"ws2Cf",metadataText:"_2R0AT",metadataTitle:"_30aqP",metadataDesc:"_2oB8w",participantList:"Ni4TD",participantsTitle:"AgMOJ",participantsContainer:"Gwi7O",participantWrapper:"I_zKN",emptyContentContainer:"_111YX",participantsText:"VJRH_",contactsText:"_2DFcR",participantText:"_3mjJr",inviteExpiration:"_2CrtD",inviteExpirationIcon:"KYIjc"}},ebbeeceebe:function(e,t){e.exports={container:"_28v7x",list:"DZJGS",section:"kY7yF",action:"_2qxdj",shortcut:"u6ytL",key:"_1Y3mw"}},ebbfdafeec:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("djecdhecha")),l=i(a("dbjagcfebh")),u=n(a("ddhijeejag")),f=i(a("bbchdeehff")),h=a("bgddggdhc"),p=i(a("eceadcicaf")),g=a("bgjddhffji"),m=i(a("ieffcccfh")),b=i(a("bagahaffif")),v=i(a("cgbfcjgjcf")),j=a("bheafeifce"),E=i(a("bcifhbgija")),y=i(a("didfdhbecg")),_=function(e){function t(e){var a;(0,r.default)(this,t),(a=(0,s.default)(this,(0,d.default)(t).call(this,e))).onKeyDown=function(e){37===e.keyCode?a.onPrev():39===e.keyCode&&a.onNext()},a.onNext=function(e){if(e&&e.stopPropagation(),!a.state.imgZoomed){var t=a.props.productImageCollection.length,n=(a.state.activeImgIndex+1)%t;a.onSelectThumb(n)}},a.onPrev=function(e){if(e&&e.stopPropagation(),!a.state.imgZoomed){var t=a.props.productImageCollection.length,n=a.state.activeImgIndex,i=n-1<0?t-1:(n-1)%t;a.onSelectThumb(i)}},a.onImgZoomIn=function(e){a.setState({imgZoomed:e})},a.endFlow=function(){f.default.closeModalMedia()},a.willEndFlow=function(){a.refThumbsContainer&&(0,E.default)(a.refThumbsContainer,{opacity:[0,1],translateY:["100%","0%"]},{duration:300,easing:[.1,.82,.25,1]})},a.onSelectThumb=function(e){if(e!==a.state.activeImgIndex){var t=a.props,n=t.product,i=t.sessionId;(0,g.logImageNavigate)((0,j.unproxy)(n),i)}a.setState({activeImgIndex:e})},a.scrollToActive=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=a.refThumbsContainer,n=(0,h.forbiddenFindDOMNode)(a.refThumbs),i=(0,h.forbiddenFindDOMNode)(a.refActiveThumb);if(t&&n&&i){var r=0;i instanceof HTMLElement&&(r=i.clientWidth/2-t.clientWidth/2),(0,E.default)(n,"stop");var o=0;e&&(o=300),(0,E.default)(i,"scroll",{duration:o,container:n,offset:r,axis:"x",easing:[.1,.82,.25,1]})}},a.setRefActiveThumb=function(e){return a.refActiveThumb=e},a.setRefThumbsContainer=function(e){return a.refThumbsContainer=e},a.setRefThumbs=function(e){return a.refThumbs=e},a.getThumbs=function(){var e=a.props.productImageCollection.toArray().map(function(e,t){var n=t===a.state.activeImgIndex;return u.createElement(v.default,{theme:"viewerFlow",active:n,ref:n?a.setRefActiveThumb:null,key:"product-image-".concat(t),mediaData:e.mediaData,onClick:a.onSelectThumb.bind((0,c.default)(a),t)})});return[u.createElement("div",{className:m.default.thumbPadding,key:"padding-left"}),e,u.createElement("div",{className:m.default.thumbPadding,key:"padding-right"})]},a.zoomIn=!0;var n=a.props,i=n.activeProductImage,o=n.productImageCollection;return a.state={activeImgIndex:o.toArray().indexOf(i),imgZoomed:!1},a}return(0,l.default)(t,e),(0,o.default)(t,[{key:"UNSAFE_componentWillMount",value:function(){this.props.listeners.add(window,"keydown",this.onKeyDown)}},{key:"componentDidMount",value:function(){this.zoomIn=!1,this.scrollToActive(),this.refThumbsContainer&&(0,E.default)(this.refThumbsContainer,{opacity:[1,0],translateY:["0%","100%"]},{duration:300,delay:100,easing:[.1,.82,.25,1]});var e=this.props,t=e.product,a=e.sessionId;(0,g.logFullImageView)((0,j.unproxy)(t),a)}},{key:"componentDidUpdate",value:function(e,t){var a=e.product,n=e.sessionId;t.activeImgIndex!==this.state.activeImgIndex&&(this.scrollToActive(!0),(0,g.logFullImageView)((0,j.unproxy)(a),n))}},{key:"render",value:function(){var e=this.getThumbs(),t=this.props,a=t.product,n=t.productImageCollection,i=n.length,r=this.state.activeImgIndex,o=r>0?this.onPrev:null,s=r+1<i?this.onNext:null;return u.createElement("div",{className:this.state.imgZoomed?"img-zoomed-in":null},u.createElement("div",{className:m.default.thumbsContainer,ref:this.setRefThumbsContainer},u.createElement("div",{className:m.default.scrollContainer,dir:"ltr"},u.createElement(y.default,{className:m.default.viewerThumbs,ref:this.setRefThumbs,transitionName:"thumb-scale"},e))),u.createElement(b.default,{mediaData:n.toArray()[this.state.activeImgIndex].mediaData,onBack:this.endFlow,onExitAnimation:this.willEndFlow,onNext:s,onPrev:o,onImgZoomIn:this.onImgZoomIn,getZoomNode:this.props.getZoomNode,zoomIn:this.zoomIn,product:a}))}}]),t}(u.Component),S=(0,p.default)(_);t.default=S},ebbghebbdh:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=n(a("ddhijeejag")),u=a("ebjaejiaba"),f=i(a("djcchigfih")),h=i(a("djbhiedbef")),p=n(a("dajffajabh")),g=i(a("fifhbjiec")),m=i(a("dhfbfehaef")),b=i(a("fffdgbfji")),v=n(a("chcadgfgad")),j=i(a("cdjhjdcbeg")),E=i(a("bfdcadbbif")),y=i(a("cgfjebhhej")),_=i(a("dehfhdefdi")),S=i(a("dggeggcjcd")),C=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,(0,d.default)(t).apply(this,arguments))}return(0,c.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e,t=this,a=this.props,n=a.contactList,i=a.onSend,r=a.onBack,o=a.chat;switch(o.kind){case u.CHAT_KIND.CHAT:e=b.default.t(342,{chat:o.title(),count:b.default.n(n.length),_plural:n.length});break;case u.CHAT_KIND.GROUP:e=b.default.t(343,{chat:o.title(),count:b.default.n(n.length),_plural:n.length});break;case u.CHAT_KIND.BROADCAST:e=b.default.t(341,{chat:o.title(),count:b.default.n(n.length),_plural:n.length})}var s=e?l.createElement(g.default,{text:e,direction:"auto",titlify:!0,ellipsify:!0}):null;return l.createElement(v.default,{type:v.BoxModalType},l.createElement(f.default,null,l.createElement(p.default,{type:p.DRAWER_HEADER_TYPE.POPUP,onBack:r},s),l.createElement(h.default,null,l.createElement(m.default,null,l.createElement("div",{className:_.default.body},n.map(function(e,a){return t.renderVCard(y.default.fromContactModel(e),a.toString())})))),l.createElement("div",{className:_.default.btnContainer},l.createElement("div",{className:_.default.btnPosition},l.createElement(j.default,{large:!0,onClick:i},l.createElement(E.default,{name:"send-light",directional:!0}))))))}},{key:"renderVCard",value:function(e,t){var a=y.default.parse(e.vcard);return a?l.createElement("div",{key:t,className:_.default.vcardWrapper},l.createElement(S.default,{parsedVCard:a,thumbnail:y.default.thumbnail(e.vcard)})):null}}]),t}(l.Component);t.default=C},ebbjbbjjg:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.PresenceCollection=void 0;var i=n(a("eaidjcib")),r=n(a("dgcdacjddi")),o=n(a("ffceefejc")),s=n(a("cjedcdbdii")),d=n(a("dbjagcfebh")),c=n(a("cgcgbfbffj")),l=n(a("igjghefdb")),u=a("cbgjbaaigi"),f=n(a("jccfhaecf")),h=function(e){function t(){return(0,i.default)(this,t),(0,o.default)(this,(0,s.default)(t).apply(this,arguments))}return(0,d.default)(t,e),(0,r.default)(t,[{key:"_find",value:function(e){return!this.gadd(e).isUser||f.default.isServer(e)||f.default.isPSA(e)?Promise.resolve({id:e}):(0,u.subscribePresence)(e).then(function(){return{id:e}})}},{key:"clearAllPresence",value:function(){this.forEach(function(e){e.reset(),e.set({stale:!0,isSubscribed:!1})})}}]),t}(c.default);t.PresenceCollection=h,h.model=l.default,h.staleCollection=!0;var p=new h;t.default=p},ebcagbhefg:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg"),r=i(a("bhfcfhafdj")),o=i(a("eaidjcib")),s=i(a("dgcdacjddi")),d=i(a("ffceefejc")),c=i(a("cjedcdbdii")),l=i(a("bjehdcaaj")),u=i(a("dbjagcfebh")),f=n(a("cgcgbfbffj")),h=n(a("debjjaigad")),p=i(a("baagejbchg")),g=function(e){function t(){return(0,o.default)(this,t),(0,d.default)(this,(0,c.default)(t).apply(this,arguments))}return(0,u.default)(t,e),(0,s.default)(t,[{key:"initializeFromCache",value:function(e){var t=e||[];this.add([{id:h.DEFAULT_PREFERENCE,wallpaperColor:p.default.DEFAULT_CHAT_WALLPAPER,saveToCameraRoll:!0}].concat((0,r.default)(t)),{merge:!0})}},{key:"get",value:function(e){return(0,l.default)((0,c.default)(t.prototype),"get",this).call(this,e)||(0,l.default)((0,c.default)(t.prototype),"get",this).call(this,h.DEFAULT_PREFERENCE)}},{key:"delete",value:function(){(0,l.default)((0,c.default)(t.prototype),"delete",this).call(this),this.add({id:h.DEFAULT_PREFERENCE,wallpaperColor:p.default.DEFAULT_CHAT_WALLPAPER,saveToCameraRoll:!0})}}]),t}(f.default);g.model=h.default,g.cachePolicy={id:"chat_preference",policy:f.CACHE_POLICY.LOAD,delay:1e3},e.exports=new g},ebcfjdcbhh:function(e,t){var a=window.matchMedia("\nonly screen and (max-width: 1024px)\n"),n={column:a.matches?2:3};a.addListener(function(e){var t=e.matches?2:3;if(n.column!==t){n.column=t;var a=document.createEvent("Event");a.initEvent("columnChange",!0,!0),window.dispatchEvent(a)}}),e.exports=n},ebfbbaecji:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e.replace(/\//g,"_").replace(/\+/g,"-")}},ebffadhefa:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.buildInvocationPayload=function(e){var t=e.invocationId,a=e.method,n=e.args;return{__id:t,__command:o.INVOCATION_COMMAND,__method:a,__args:n}},t.unwrapInvocationPayload=function(e){if(null!=e&&e.__command===o.INVOCATION_COMMAND){(0,i.default)(e.__id,"Invocation ID missing");var t=(0,r.extractInvocationId)(e.__id);(0,i.default)(null!=t&&e.__method&&"string"==typeof e.__method&&e.__id&&e.__args&&Array.isArray(e.__args),"Malformed invocation message");var a=e,n=a.__method,s=a.__args;return{method:n,args:s,invocationId:t}}};var i=n(a("cgeeeeddea")),r=a("dbcbifhbge"),o=a("cejbjjbged")},ebffbebefe:function(e,t,a){"use strict";var n=a("cfjecfhbfg"),i=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.unstarAllMessages=function(e,t){return function e(t,a){var n=a?a.promises:p.default.Chat.promises;var i=a?a.id:void 0;if(n.sendUnstarAll)return n.sendUnstarAll;var h=n.sendUnstarAll=(0,l.sendUnstarAll)(t,i);var g=new o.ActionType(l10n.t(111));var m=h.then(function(){return new o.ActionType(l10n.t(109))}).catch(d.ServerStatusCodeError,function(e){if(e.statusCode>=400)return new o.ActionType(l10n.t(106))}).catch(function(n){return c.default.error("models:chat:sendUnstarAll dropped")(n),new o.ActionType(l10n.t(106),l10n.t(155),function(){return e(t,a)})});s.default.openToast(r.createElement(o.ActionToast,{id:(0,o.genId)(),initialAction:g,pendingAction:m}));return h.then(function(){t.forEach(function(e){e.set("star",!1)}),a?(0,f.removeStarredMsgs)(t):(f.default.reset(),u.default.reset(),p.default.Chat.forEach(function(e){e.starredMsgs&&e.starredMsgs.reset()}))}).finally(function(){n.sendUnstarAll=null})}(e,t?(0,h.unproxy)(t):t)};var r=i(a("ddhijeejag")),o=a("ccihhdchab"),s=n(a("bbchdeehff")),d=a("ddjgcfjicj"),c=n(a("bdiiahhjbe")),l=a("eabhibhged"),u=n(a("dfgeejdaib")),f=i(a("djfhiceeje")),h=a("bheafeifce"),p=n(a("bhggeigghg"))},ebfgabegga:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=i(a("ceffhbhahb")),u=n(a("ddhijeejag")),f=i(a("dhbceejbjg")),h=i(a("bbchdeehff")),p=i(a("dhhfaeacef")),g=i(a("fifhbjiec")),m=i(a("cajbifjffe")),b=i(a("fffdgbfji")),v=a("bhfdfhefca"),j=n(a("dgfecega")),E=i(a("djibddbgic")),y=i(a("ihfccfgdf")),_=i(a("bfdcadbbif")),S=i(a("caffijjhc")),C=i(a("bcifhbgija")),A=500,M=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).state={style:{visibility:"hidden"}},a.onScroll=function(e){Math.abs(e.deltaY)>3&&a.onClose()},a.onClose=function(){if(!a.closing){var e;if(a.closing=!0,a.props.getZoomNode(function(t){e=t}),!e)return h.default.closeModalMedia();var t=a.refImage;if(t){var n=t.getBoundingClientRect(),i=e.getBoundingClientRect(),r=i.top-n.top,o=i.left-n.left,s=e.clientWidth/t.clientWidth;(0,C.default)(t,{translateX:[o,0],translateY:[r,0],scale:[s,1]},{duration:200,easing:[.1,.82,.25,1]}).then(function(){h.default.closeModalMedia()})}}},a.onImageLoad=function(e){var t=e.target;a.setState({size:{width:t.naturalWidth,height:t.naturalHeight}},function(){a.props.getZoomNode(function(e){var n=t.getBoundingClientRect(),i=e.getBoundingClientRect(),r=i.top-n.top,o=i.left-n.left,s=e.clientWidth/t.clientWidth,d={visibility:"hidden",transform:"translateX(".concat(o,"px) translateY(").concat(r,"px) scale(").concat(s,")"),transition:"transform 0s",borderRadius:void 0};a.props.animateBorderRadius&&(d.borderRadius="50%"),a.setState({style:d},function(){var e={transform:"translateX(0px) translateY(0px) scale(1)",transition:"transform ".concat(A,"ms cubic-bezier(.1,.82,.25,1)")};a.props.animateBorderRadius&&(e={transform:"translateX(0px) translateY(0px) scale(1)",borderRadius:"0%",transition:"transform ".concat(A,"ms cubic-bezier(.1,.82,.25,1),\n                                         border-radius ").concat(A,"ms cubic-bezier(.1,.82,.25,1)")}),a.setState({style:e})})})})},a.setRefImage=function(e){a.refImage=e},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"shouldComponentUpdate",value:function(e,t){return!!e.profilePicThumb.imgFull||(this.onClose(),!1)}},{key:"render",value:function(){var e,t=this.props,a=t.contact,n=t.profilePicThumb;return n.imgFull&&(e=u.createElement(m.default,{src:n.imgFull,hasPrivacyChecks:!0,onLoad:this.onImageLoad,className:E.default.profileViewerImg})),u.createElement(S.default,{displayName:"PhotoViewer",escapable:!0,requestDismiss:this.onClose},u.createElement("div",{className:(0,l.default)("overlay",E.default.container),onWheel:this.onScroll,onClick:this.onClose},u.createElement("div",{className:E.default.headerContainer},u.createElement("div",{className:E.default.profileThumb},u.createElement(f.default,{image:u.createElement(p.default,{id:a.id,size:40}),theme:"plain",primary:u.createElement(g.default,{text:a.formattedUser})})),u.createElement("div",{className:E.default.mediaPanelTools},u.createElement(v.MenuBar,{key:"media-panel-header",theme:"strong"},u.createElement(v.MenuBarItem,{a8nText:"btn-close",icon:u.createElement(_.default,{name:"x-viewer"}),title:b.default.t(1202),onClick:this.onClose})))),u.createElement("div",{className:E.default.profileContainer,dir:"ltr"},u.createElement("div",{className:E.default.media},u.createElement(j.default,{type:j.FIT_TYPE.SCALE_DOWN,size:this.state.size},u.createElement("div",{className:E.default.profileViewer,"data-animate-profile-viewer":!0,ref:this.setRefImage,style:this.state.style},e))))))}}]),t}(u.Component);M.CONCERNS={contact:["formattedUser","id"],profilePicThumb:["imgFull"]};var T=(0,y.default)(M,M.CONCERNS);t.default=T},ebgbahdcjg:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(!e)return!1;var t=window.getSelection();if(1!==t.rangeCount)return!1;var a=t.getRangeAt(0);if(!a.collapsed||0!==a.startOffset)return!1;var n=a.startContainer;if(e===n)return!0;if(!e.contains(n))return!1;var i=n;do{if(i.previousSibling)return!1;i=i.parentNode}while(i!==e);return!0}},ebgedhejjf:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=n(a("ddhijeejag")),u=(i(a("baagejbchg")),i(a("fifhbjiec"))),f=a("gaifbabbj"),h=i(a("geegjgjdg")),p=i(a("dbbbgjbbgf")),g=i(a("cieaeggjg")),m=i(a("bceghabha")),b=i(a("ihfccfgdf")),v=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,(0,d.default)(t).apply(this,arguments))}return(0,c.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e,t=this.props.msg,a=t.paymentNoteMsg&&t.paymentNoteMsg.body,n=!a,i=null;if(a){var r=(t.isTrusted()?f.Configuration.TrustedConversation:f.Configuration.UntrustedConversation)({mentions:t.mentionMap(),links:t.getLinks()});i=l.createElement("div",{className:m.default.caption},l.createElement(p.default,{msg:t},l.createElement(u.default,{text:a,selectable:!0,formatters:r,dirMismatch:t.rtl!==l10n.isRTL(),direction:t.dir})))}else e=l.createElement("div",{className:m.default.meta},l.createElement(g.default,{msg:t}));return l.createElement(h.default,{displayAuthor:this.props.displayAuthor,displayType:this.props.displayType,hasCaption:!!i,msg:t,quotedMsg:this.props.quotedMsg,hideMeta:n},this.props.paymentInfo,e,i)}}]),t}(l.Component);v.CONCERNS={msg:["rtl","dir","isGroupMsg","isPSA","isSentByMe","senderObj","paymentNoteMsg"]};var j=(0,b.default)(v,v.CONCERNS);t.default=j},ebgjhfacdb:function(e,t,a){"use strict";var n=a("cfjecfhbfg")(a("chgaccicf"));e.exports=(0,n.default)({FILTER:void 0,INACTIVE:void 0,ENTER:void 0,TAB:void 0,DOWN:void 0,UP:void 0,BACKSPACE:void 0})},ebhdjgicgg:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=n(a("ddhijeejag")),u=i(a("bcadhjihfb")),f=i(a("dffedieagi")),h=i(a("cehjjfagii")),p=i(a("bbchdeehff")),g=(i(a("baagejbchg")),i(a("bffjfbgbg"))),m=i(a("eiiicijcj")),b=i(a("eafjfadchb")),v=i(a("bfbggcdbfb")),j=n(a("caafgbfcba")),E=i(a("ihfccfgdf")),y=a("bheafeifce"),_=i(a("bfdcadbbif")),S=function(e){function t(e){var a;return(0,r.default)(this,t),(a=(0,s.default)(this,(0,d.default)(t).call(this,e))).showMediaMissing=function(){p.default.openModal(l.createElement(m.default,{msg:a.props.msg}))},a.downloadMedia=function(){a.props.msg.downloadMedia(!1,v.default.WEBC_RMR_REASON_CODE.MSG_RENDER)},a._forceDownloadMedia=function(){a.props.msg.downloadMedia(!0,v.default.WEBC_RMR_REASON_CODE.MSG_CLICK)},a.cancelDownload=function(){a.props.msg.cancelDownload()},a.cancelUpload=function(){a.props.msg.cancelUpload()},a.resumeUpload=function(){a.props.msg.resumeUpload()},a.resumeRemoteUpload=function(){a.props.msg.resumeRemoteUpload()},a.downloadUnsupportedToDesktop=function(e){e&&e.stopPropagation(),p.default.openModal(l.createElement(b.default,{msg:(0,y.unproxy)(a.props.msg)}))},a.handleTimeUpdate=function(e){a.setState({currentTime:e})},a.handlePlayingUpdate=function(e){a.setState({autoPlay:!1,playing:e})},a.state={currentTime:0,playing:!1,autoPlay:!1},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){this.downloadMedia()}},{key:"render",value:function(){var e,t=this.props.msg,a=this.props.mediaData,n=this.state.playing?this.state.currentTime:a.duration;switch(a.mediaStage){case g.default.STAGE.RESOLVED:e=l.createElement(j.default,{mediaData:this.props.mediaData,downloadMedia:this.downloadMedia,duration:n,playing:this.state.playing,played:!0,autoPlay:!1,onPlayingUpdate:this.handlePlayingUpdate,onTimeUpdate:this.handleTimeUpdate,outgoingMsg:t.isSentByMe,displayType:this.props.displayType});break;case g.default.STAGE.NEED_POKE:e=l.createElement(j.AudioPlayerFrame,{icon:l.createElement(_.default,{name:"audio-download"}),outgoingMsg:t.isSentByMe,action:this._forceDownloadMedia});break;case g.default.STAGE.NEED_UPLOAD:e=l.createElement(j.AudioPlayerFrame,{icon:l.createElement(_.default,{name:"audio-upload"}),outgoingMsg:t.isSentByMe,action:this.resumeUpload});break;case g.default.STAGE.REMOTE_NEED_UPLOAD:e=l.createElement(j.AudioPlayerFrame,{icon:l.createElement(_.default,{name:"audio-upload"}),outgoingMsg:t.isSentByMe,action:this.resumeRemoteUpload});break;case g.default.STAGE.ERROR_MISSING:e=l.createElement(j.AudioPlayerFrame,{icon:l.createElement(_.default,{name:"audio-play",directional:!0}),outgoingMsg:t.isSentByMe,action:this.showMediaMissing});break;default:e=l.createElement(j.AudioPlayerFrame,{outgoingMsg:t.isSentByMe,spinner:!0})}var i=l.createElement("div",{className:u.default.icon},l.createElement(_.default,{name:"audio-file"})),r=this.props.displayAuthor&&!t.isSentByMe&&t.isGroupMsg?l.createElement(h.default,{msg:t,contact:t.senderObj}):null;return l.createElement(f.default,{msg:t,quotedMsg:this.props.quotedMsg,author:r,player:e,avatar:i,displayType:this.props.displayType})}}]),t}(l.PureComponent);S.CONCERNS={msg:["ack","isSentByMe","isGroupMsg","senderObj"],mediaData:["duration","type","mediaStage","renderableUrl"]};var C=(0,E.default)(S,S.CONCERNS);t.default=C},ebhfgcddae:function(e,t){e.exports={body:"_3yE2x",icon:"_3FWXq",wrapper:"_1KmPi",container:"_287WJ",focusBorder:"_27JTh",preview:"_2x9yi"}},ebibecaibi:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("djecdhecha")),l=i(a("dbjagcfebh")),u=i(a("hhegggegb")),f=n(a("ddhijeejag")),h=i(a("bbchdeehff")),p=i(a("baagejbchg")),g=n(a("cajijabhgb")),m=i(a("bjbdcigbdi")),b=i(a("eceadcicaf")),v=i(a("bdiiahhjbe")),j=i(a("bffjfbgbg")),E=(i(a("cifjfjfegc")),i(a("dcfaachegb"))),y=i(a("bdbdaahbdh")),_=i(a("iggbadgaj")),S=i(a("bfbggcdbfb")),C=i(a("cahfddcdga")),A=i(a("bjbedjfe")),M=i(a("bcifhbgija")),T=function(e){function t(e){var a;(0,r.default)(this,t),(a=(0,s.default)(this,(0,d.default)(t).call(this,e))).onKeyDown=function(e){37===e.keyCode?a.onPrev():39===e.keyCode&&a.onNext()},a.onImageLoad=function(){var e=(0,c.default)(a).uiActionEvent;e&&(e.markUiActionT(),e.commit(),delete a.uiActionEvent)},a.onScroll=function(e){a.handleScroll(e.currentTarget,a.mediaMsgs,e.currentTarget.scrollLeft,a.props.listeners)},a.onNext=function(e){if(e&&e.stopPropagation(),!a.state.imgZoomed){var t=a.state.activeMsg;if(t){var n=a.mediaMsgs.getAfter(t);n?a.onSelectThumb(n):a.mediaMsgs.hasMediaAfter&&(a._queryMediaAfter||(a._queryMediaAfter=a.mediaMsgs.queryMedia(t.chat,t,"after").checkpoint(a.props.rejectOnUnmount()).then(function(e){"number"==typeof e.length&&e.length>0&&a.state.activeMsg===t&&a.onNext()}).catch(g.Unmount,function(){}).catch(function(e){v.default.error("query media msgs error: ",e)()}).finally(function(){a._queryMediaAfter=null})))}}},a.onPrev=function(e){if(e&&e.stopPropagation(),!a.state.imgZoomed){var t=a.state.activeMsg;if(t){var n=a.mediaMsgs.getBefore(t);n?a.onSelectThumb(n):a.mediaMsgs.hasMediaBefore&&(a._queryMediaBefore||(a._queryMediaBefore=a.mediaMsgs.queryMedia(t.chat,t,"before").checkpoint(a.props.rejectOnUnmount()).then(function(e){"number"==typeof e.length&&e.length>0&&a.state.activeMsg===t&&a.onPrev()}).catch(g.Unmount,function(){}).catch(function(e){v.default.error("query media msgs error: ",e)()}).finally(function(){a._queryMediaBefore=null})))}}},a.onImgZoomIn=function(e){a.setState({imgZoomed:e})},a.endFlow=function(){h.default.closeModalMedia()},a.willEndFlow=function(){var e=function(e){e&&(0,M.default)(e,{opacity:[0,1],translateY:["100%","0%"]},{duration:300,easing:[.1,.82,.25,1]})};m.default.supportsFeature(m.default.F.MEDIA_VIEWER_THUMB_FLAT_LIST)?e(a.refThumbFlatListWrapper):e(a.refThumbsContainer)},a.onSelectThumb=function(e){a.props.listeners.uiIdle(function(){a.mediaMsgs.loadMoreAroundIfNeeded(e)}),a.setState({activeMsg:e})},a.scrollToActive=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=a.refThumbsContainer,n=a.refThumbs,i=a.refActiveThumb;if(t&&n&&i){var r=0;i instanceof HTMLElement&&(r=i.clientWidth/2-t.clientWidth/2),(0,M.default)(n,"stop");var o=0;e&&(o=300),(0,M.default)(i,"scroll",{duration:o,container:n,offset:r,axis:"x",easing:[.1,.82,.25,1]})}},a.setRefActiveThumb=function(e){a.refActiveThumb=e},a.setRefThumbsContainer=function(e){a.refThumbsContainer=e},a.setThumbFlatListWrapper=function(e){a.refThumbFlatListWrapper=e},a.setRefThumbs=function(e){a.refThumbs=e},a.isActiveMsgInAlbum=function(){var e=a.props.highlightedMsgIds;if(!e)return!1;if(!a.state.activeMsg)return!1;var t=a.state.activeMsg.id.toString();return e.has(t)},a.zoomIn=!0,a.prevScrollWidth=null;var n=a.props.msg;return a.mediaMsgs=n.chat.constructMediaMsgs(n),a.handleScroll=(0,u.default)(a._handleScroll.bind((0,c.default)(a)),100),n.type===p.default.MSG_TYPE.IMAGE&&(a.uiActionEvent=new S.default.UiAction({uiActionType:S.default.UI_ACTION_TYPE.IMAGE_OPEN,uiActionPreloaded:n.mediaData.mediaStage===j.default.STAGE.RESOLVED})),a.state={activeMsg:n,imgZoomed:!1},a}return(0,l.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.listeners.add(window,"keydown",this.onKeyDown),this.zoomIn=!1;var t=function(e){e&&(0,M.default)(e,{opacity:[1,0],translateY:["0%","100%"]},{duration:300,delay:100,easing:[.1,.82,.25,1]})};m.default.supportsFeature(m.default.F.MEDIA_VIEWER_THUMB_FLAT_LIST)?t(this.refThumbFlatListWrapper):(this.addListeners.bind(this)(this.props.listeners,this.mediaMsgs,function(){return e.state.activeMsg},this.onSelectThumb,this.endFlow),this.props.listeners.add(this.mediaMsgs,"query_media_before",function(){var t=e.refThumbs;t&&(e.prevScrollWidth=t.scrollWidth,t instanceof HTMLElement&&e.forceUpdate())}),this.scrollToActive(),t(this.refThumbsContainer))}},{key:"addListeners",value:function(e,t,a,n,i){var r=this;e.uiIdle(function(){var e=a();e&&t.loadMoreAroundIfNeeded(e)}),e.add(t,"remove",function(e,o,s){var d=a();if(t.includes(e)||null!=d&&null!=d.id&&d.id.toString()!==e.id.toString())r.forceUpdate();else{var c=s.index;0===t.length?i():t.length===c?n(t.at(c-1)):n(t.at(c))}}),e.add(t,"reset",function(){i()}),e.add(t,"query_media_after",function(){r.forceUpdate()})}},{key:"componentWillUnmount",value:function(){this.handleScroll.cancel()}},{key:"componentDidUpdate",value:function(e,t){if(!m.default.supportsFeature(m.default.F.MEDIA_VIEWER_THUMB_FLAT_LIST))if(t.activeMsg!==this.state.activeMsg)this.scrollToActive(!0);else{var a=this.refThumbs;if(!a||null==this.prevScrollWidth||0===this.prevScrollWidth)return;a instanceof HTMLElement&&(a.scrollLeft+=a.scrollWidth-this.prevScrollWidth),this.prevScrollWidth=null}}},{key:"_handleScroll",value:function(e,t,a,n){var i=this;if(0!==t.length&&null!=a){if(t.hasMediaBefore&&a<e.clientWidth){var r=(0,C.default)(t.head());n.uiIdle(function(){t.queryMedia(r.chat,r),i.forceUpdate()})}if(t.hasMediaAfter&&a+p.default.SCROLL_FUDGE>e.scrollWidth-2*e.clientWidth){var o=(0,C.default)(t.last());n.uiIdle(function(){t.queryMedia(o.chat,o,"after"),i.forceUpdate()})}}}},{key:"render",value:function(){var e=this.state.activeMsg;if(!e)return null;var t=this.mediaMsgs.last(),a=this.mediaMsgs.hasMediaAfter||this.state.activeMsg!==t?this.onNext:null,n=this.mediaMsgs.head(),i=this.mediaMsgs.hasMediaBefore||this.state.activeMsg!==n?this.onPrev:null,r=m.default.supportsFeature(m.default.F.MEDIA_VIEWER_THUMB_FLAT_LIST)?f.createElement(y.default,{activeMsg:e,mediaMsgs:this.mediaMsgs,highlightedMsgIds:this.props.highlightedMsgIds,onSelectThumb:this.onSelectThumb,onSetActiveThumb:this.setRefActiveThumb,handleScroll:this._handleScroll,setThumbFlatListWrapper:this.setThumbFlatListWrapper,setRefThumbs:this.setRefThumbs,endFlow:this.endFlow,addListeners:this.addListeners}):f.createElement(_.default,{activeMsg:e,mediaMsgs:this.mediaMsgs,highlightedMsgIds:this.props.highlightedMsgIds,onSelectThumb:this.onSelectThumb,onSetActiveThumb:this.setRefActiveThumb,onScroll:this.onScroll,setRefThumbsContainer:this.setRefThumbsContainer,setRefThumbs:this.setRefThumbs});return f.createElement("div",{className:this.state.imgZoomed?"img-zoomed-in":null},r,f.createElement(E.default,{msg:e,mediaData:e.mediaData,onBack:this.endFlow,onExitAnimation:this.willEndFlow,onNext:a,onPrev:i,onImgZoomIn:this.onImgZoomIn,getZoomNode:this.props.getZoomNode,startTime:this.props.startTime,zoomIn:this.zoomIn,onImageLoad:this.uiActionEvent?this.onImageLoad:null,isMsgInAlbum:this.isActiveMsgInAlbum()}))}}]),t}(f.Component),P=(0,A.default)((0,b.default)(T));t.default=P},ebidfedahj:function(e,t){e.exports={Action:"keyboard_action",Event:"keyboard_event",Events:{LOGGED_IN:"logged_in",LOGGED_OUT:"logged_out",ARCHIVE:"archived",MUTE:"muted",READ:"read",READ_ONLY:"read_only",CHAT_KIND:"chat_kind",ZOOM:"zoom",LAUNCH:"launch",BATCH_RENDER:"batch_render"}}},ebiheagbje:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){for(var o={children:[]},s=0,d=o,c=0,l=0;l<t.length;++l){for(var u=t[l],f=(0,i.default)(u,2),h=f[0],p=f[1];d.parent&&h>(c=d.match[2]);){if(s<=c&&d.children.push({type:"text",value:e.substring(s,c+1)}),s=d.match[3]+1,d.mutator.fragment){var g=d.parent.children;g.pop(),g.push.apply(g,d.children)}c!==d.match[3]&&d.parent.children.push({type:"delimiter",value:e.substring(c+1,s)}),d=d.parent}s<h&&d.children.push({type:"text",value:e.substring(s,h)});var m=(0,i.default)(n[u[4]],2),b=m[0],v=m[1],j=b.mutates;s=p,h!==p&&d.children.push({type:"delimiter",value:e.substring(h,p)});var E={children:[],match:u,mutator:b,opts:v,parent:d};if(j){var y=e.substring(u[1],u[2]+1),_=b.mutate(y,u[5]),S=r(b,n,E),C=a("dfgcaedggj")._parse,A=C(_,S);E.children=A.children,s=u[2]+1}d.children.push(E),d=E}do{if(d.match){var M=(0,i.default)(d.match,4),T=M[2],P=M[3];if(s<=T&&d.children.push({type:"text",value:e.substring(s,T+1)}),s=P+1,d.mutator.fragment){var N=d.parent.children;N.pop(),N.push.apply(N,d.children)}T!==P&&d.parent.children.push({type:"delimiter",value:e.substring(T+1,s)})}}while(d.parent&&(d=d.parent)&&d.parent);s!==e.length&&d.children.push({type:"text",value:e.substring(s)});return o};var i=n(a("hbddjfeei"));function r(e,t,a){for(var n=e.format,i=[],r=function(e){var t=e,a=[];do{t.mutator&&a.push(t.mutator)}while(t.parent&&(t=t.parent));return a}(a),o=0;o<t.length;++o)(n||t[o][0].compatibility)&&(r.includes(t[o][0])||i.push(t[o]));return i}},ebijaadcje:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=i(a("ceffhbhahb")),u=n(a("ddhijeejag")),f=i(a("baagejbchg")),h=i(a("bcdgdcghdi")),p=i(a("cbhhfeaigc")),g=i(a("bfdcadbbif")),m=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).state={hover:!1},a._onMouseEnter=function(){a.setState({hover:!0})},a._onMouseLeave=function(){a.setState({hover:!1})},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=(0,l.default)(p.default.container,{[p.default.compact]:this.props.displayType===f.default.DISP_TYPE.MSG_INFO});return u.createElement("div",{className:e,onMouseEnter:this._onMouseEnter,onMouseLeave:this._onMouseLeave},this.state.hover?u.createElement(h.default,null,this.props.tooltip):null,u.createElement("div",{className:p.default.error,onClick:this.props.onClick,role:"button"},u.createElement(g.default,{name:"error"})))}}]),t}(u.PureComponent);t.default=m},ebjaejiaba:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.CHAT_KIND=t.KIND=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("bjehdcaaj")),l=i(a("dbjagcfebh")),u=i(a("ddgaeajhag")),f=i(a("eicihhaba")),h=i(a("bhdddbafig")),p=i(a("bgejacgfdg")),g=i(a("bcdejiigcg")),m=i(a("ddfeabiaci")),b=i(a("begjbhhee")),v=i(a("iidhbgeed")),j=i(a("dbafiicfja")),E=i(a("bebajedcaf")),y=i(a("eaaagccfda")),_=n(a("ddhijeejag")),S=a("ccihhdchab"),C=i(a("djheacfeif")),A=a("dcaifjegcg"),M=i(a("bbehjhfdfe")),T=i(a("bdiiibjcij")),P=i(a("caedaejadb")),N=i(a("diajeiidei")),I=i(a("dbfjecijha")),k=i(a("becefacdff")),O=i(a("chbjajaddg")),R=i(a("cfadcbbiie")),w=i(a("bbchdeehff")),D=i(a("baagejbchg")),L=i(a("bjigbaghc")),U=i(a("beecadabde")),G=i(a("ccbihadedf")),x=a("ddjgcfjicj"),F=i(a("cijheiibhg")),B=n(a("cajijabhgb")),V=i(a("bjbdcigbdi")),H=i(a("ecjehifjdd")),W=i(a("bdiiahhjbe")),Y=i(a("edjgaiicj")),$=a("ddgbhifaji"),K=i(a("bfbggcdbfb")),q=i(a("cbcbdjdah")),z=i(a("biecbbiiee")),Q=a("eahbfdfee"),J=i(a("cffajefeag")),Z=a("ccbagdhfbb"),X=i(a("dagdiahdfi")),ee=a("bcjidabgad"),te=i(a("cahfddcdga")),ae=a("icbibjcg"),ne=i(a("dhefcajhhb")),ie=n(a("ebggjhghhi")),re=i(a("cfejjfjhca")),oe=a("bfabbhgjga"),se=a("cgddafdgie"),de=a("dcbafbaejf"),ce=a("eabhibhged"),le=i(a("bfgbdiffgd")),ue=n(a("djfhiceeje")),fe=i(a("bhggeigghg")),he=i(a("ccehadbeci")),pe=i(a("bgabgddgch")),ge=a("bhjegffigh"),me=a("dcjbdhhjge"),be=i(a("egjjcjcg")),ve=i(a("cgfjebhhej")),je=i(a("bihdhbjih")),Ee=i(a("jccfhaecf")),ye=i(a("bgeajihhc")),_e={GROUP:"group",BROADCAST:"broadcast",CHAT:"chat"};t.CHAT_KIND=t.KIND=_e;var Se=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).id=(0,A.prop)(),a.t=(0,A.prop)(),a.unreadCount=(0,A.prop)(0),a.archive=(0,A.prop)(),a.isReadOnly=(0,A.prop)(),a.isAnnounceGrpRestrict=(0,A.prop)(),a.modifyTag=(0,A.prop)(),a.muteExpiration=(0,A.prop)(0),a.name=(0,A.prop)(),a.notSpam=(0,A.prop)(),a.pin=(0,A.prop)(),a.labels=(0,A.prop)(),a.changeNumberOldJid=(0,A.prop)(),a.changeNumberNewJid=(0,A.prop)(),a.lastReceivedKey=(0,A.prop)(),a.ephemeralDuration=(0,A.prop)(),a.ephemeralSettingTimestamp=(0,A.prop)(),a.createdLocally=(0,A.session)(),a.pendingAction=(0,A.session)(),a.formattedTitle=(0,A.session)(),a.active=(0,A.session)(),a.pausedTimerId=(0,A.session)(),a.presenceResendTimerId=(0,A.session)(),a.recording=(0,A.session)(),a.typing=(0,A.session)(),a.colors=(0,A.session)(),a.composeContents=(0,A.session)(function(){return{}}),a.composeAttachMediaContents=(0,A.session)(),a.squelch=(0,A.session)(),a.pendingSeenCount=(0,A.session)(0),a.unreadMsgAnchor=(0,A.session)(),a.markedUnread=(0,A.session)(),a.trusted=(0,A.session)(),a.canSend=(0,A.session)(),a.promises=(0,A.session)(function(){return{}}),a.ftsCache=(0,A.session)(function(){return{}}),a.composeQuotedMsg=(0,A.session)(),a.composeQuotedMsgRemoteJid=(0,A.session)(),a.quotedMsgAdminGroupJid=(0,A.session)(),a.groupMetadata=(0,A.session)(),a.presence=(0,A.session)(),a.mute=(0,A.session)(),a.contact=(0,A.session)(),a.liveLocation=(0,A.session)(),a.liveLocationQueried=(0,A.session)(!1),a.ackedProps=(0,A.session)(function(){return{}}),a.mediaCount=(0,A.session)(0),a.linkCount=(0,A.session)(0),a.docCount=(0,A.session)(0),a.productCount=(0,A.session)(0),a.msgUnsyncedButtonReplyMsgs=(0,A.prop)(),a.vcardDismissed=(0,A.session)(!1),a.kind=(0,A.derived)(a._kind),a.isUser=(0,A.derived)(a._isUser),a.isPSA=(0,A.derived)(a._isPSA),a.isGroup=(0,A.derived)(a._isGroup),a.isBroadcast=(0,A.derived)(a._isBroadcast),a.canUnread=(0,A.derived)(a._canUnread),a.hasUnread=(0,A.derived)(a._hasUnread,["unreadCount"]),a.optimisticUnreadCount=(0,A.derived)(a._optimisticUnreadCount,["unreadCount","pendingSeenCount"]),a.shouldShowUnreadDivider=(0,A.derived)(a._shouldShowUnreadDivider,["unreadCount","unreadMsgAnchor"]),a.shouldAppearInList=(0,A.derived)(a._shouldAppearInList,["createdLocally","msgs","msgsLength"]),a.previewMessage=(0,A.derived)(a._previewMessage,["msgs","msgsChanged"]),a.showChangeNumberNotification=(0,A.derived)(a._showChangeNumberNotification,["changeNumberOldJid","changeNumberNewJid","id","isUser"]),a.shouldShowUnreadInTitle=(0,A.derived)(a._shouldShowUnreadInTitle,["isGroup","archive","unreadCount","muteExpiration"]),a}return(0,l.default)(t,e),(0,o.default)(t,[{key:"initialize",value:function(){var e=this;(0,c.default)((0,d.default)(t.prototype),"initialize",this).call(this),this.addQueue=new H.default,this.sendQueue=new H.default,this._ephemeralMessagesToDelete=new Set,this._ephemeralMessageTimerIds=new Map,this._promises=null,this.msgs.msgLoadState.contextLoaded=!0,this.addChild("presence",fe.default.Presence.gadd(this.id));var a=X.default.get(this.id);if(a?this.addChild("mute",a):this.addChild("mute",X.default.gadd({id:this.id,expiration:this.muteExpiration})),this.listenTo(this.mute,"change:expiration",this.updateMuteExpiration),this.addChild("contact",fe.default.Contact.gadd(this.id)),this.name&&!this.contact.name){var n={name:this.name};(0,me.updateLocal)(this.contact.id,n).then(function(){e.contact.set(n)})}if(this.listenTo(this.contact,"change:name",this.updateTitle),this.listenTo(this.contact,"change:isContactBlocked",this.updateCanSend),this.isGroup&&(this.trusted=!0),this.isGroup||this.isBroadcast){var i;this.isBroadcast&&!fe.default.GroupMetadata.get(this.id)&&(i=!0),this.addChild("groupMetadata",fe.default.GroupMetadata.gadd(this.id)),this.listenTo(this.groupMetadata,"change:stale change:announce",this.updateIsAnnounceGrpRestrict),this.listenTo(this.groupMetadata.participants,"change:isAdmin add remove",this.updateIsAnnounceGrpRestrict),this.listenTo(this.groupMetadata,"change:trusted change:stale",this.isTrusted),this.listenTo(this.groupMetadata,"change:participants change:stale",this.updateReadOnly),this.listenTo(this.groupMetadata.participants,"change:contact.formattedShortName",this.updateTitle),this.updateReadOnly(),this.updateIsAnnounceGrpRestrict();var r=this.id;this.listenTo(this,"change:isReadOnly",function(){this.isTrusted(),this.updateCanSend(),ne.default.update(r).catch(x.WapDrop,function(){}),fe.default.GroupMetadata.update(r).catch(x.WapDrop,function(){})}),this.listenTo(this,"change:isAnnounceGrpRestrict",this.updateCanSend),i&&fe.default.GroupMetadata.update(r).catch(x.WapDrop,function(){})}else this.listenTo(this.presence,"change:isOnline",function(){return(0,ae.presenceOnlineChanged)(e)}),this.listenTo(this.contact,"change:isMyContact",this.isTrusted);var o=this.getCollection();o.notSpam[this.id]&&!this.notSpam&&(0,de.sendNotSpam)(this).catch(function(){}),o.notSpam[this.id]=!!this.notSpam,this.notSpam||this.listenTo(this,"change:notSpam",this.onNotSpamChange),this.updateTitle(),this.isTrusted(),this.updateCanSend(),this.listenTo(this.msgs,"add",this.onNewMsg),this.listenTo(this.msgs,"update_sort_time",this.updateSortTime),this.listenTo(this.msgs,"bulk_add",this.addMediaMsgs),this.listenTo(this.msgs,"add remove change:ephemeralExpirationTimestamp",this._resetEphemeralMessageExpirationTimer),this.listenTo(this.msgs,"bulk_add",function(t){t.forEach(function(t){e._resetEphemeralMessageExpirationTimer(t)})}),this.listenTo(this,"change:msgs",this.resetMediaMsgs),this._saveAssignedColors=(0,y.default)(this.saveAssignedColors,1e3),this.listenTo(this,"change:active",this.onActiveUpdate),this.pendingAction=0,this.listenTo(this,"change:t change:modifyTag",this._clearFtsCache)}},{key:"_kind",value:function(){return Ee.default.isGroup(this.id)?_e.GROUP:Ee.default.isBroadcast(this.id)?_e.BROADCAST:Ee.default.isUser(this.id)?_e.CHAT:void W.default.log("chat:unknown kind id:".concat(this.id.toString()))()}},{key:"_isUser",value:function(){return Ee.default.isUser(this.id)}},{key:"_isPSA",value:function(){return Ee.default.isPSA(this.id)}},{key:"_isGroup",value:function(){return Ee.default.isGroup(this.id)}},{key:"_isBroadcast",value:function(){return Ee.default.isBroadcast(this.id)}},{key:"_canUnread",value:function(){return!this.isBroadcast}},{key:"_hasUnread",value:function(){return 0!==this.unreadCount}},{key:"_optimisticUnreadCount",value:function(){var e=this.unreadCount,t=this.pendingSeenCount;return-1===e?e:Math.max(0,e-t)}},{key:"_shouldShowUnreadDivider",value:function(){if(0===this.unreadCount)return!1;if(this.unreadMsgAnchor){var e=this.unreadMsgAnchor.msgChunk,t=e?e.getModelsArray():[];return this.unreadMsgAnchor!==t.find(function(e){return e.isUnreadType})}return!this.msgs.msgLoadState.noEarlierMsgs||this.msgs.filter(function(e){return e.isUnreadType}).length!==this.unreadCount}},{key:"_shouldAppearInList",value:function(){if(this._shouldAppearInListLatched)return!0;if(Ee.default.isStatusV3(this.id))return!1;var e=this.msgs.some(function(e){var t=e.type===D.default.MSG_TYPE.GROUPS_V4_INVITE&&e.from===L.default.me,a=e.type===D.default.MSG_TYPE.E2E_NOTIFICATION&&"encrypt"===e.subtype;return!t&&!a&&e.type!==D.default.MSG_TYPE.CALL_LOG&&!e.isBizNotification&&"change_number"!==e.subtype});return this._shouldAppearInListLatched=!this.createdLocally||e,this._shouldAppearInListLatched}},{key:"_previewMessage",value:function(){for(var e=this.msgs.length-1;e>=0;e--){var t=this.msgs.at(e);if(t&&t.type!==D.default.MSG_TYPE.E2E_NOTIFICATION)return t}if(1===this.msgs.length)return this.msgs.at(0)}},{key:"_showChangeNumberNotification",value:function(){if(!V.default.supportsFeature(V.default.F.CHANGE_NUMBER_V_2))return!1;var e=this.changeNumberOldJid,t=this.changeNumberNewJid,a=this.id;if(!this.isUser)return!1;if(!e&&!t)return!1;var n=t||a,i=fe.default.Contact.get(n);return!i||!i.isMyContact}},{key:"_shouldShowUnreadInTitle",value:function(){var e=!!this.muteExpiration;if(this.archive)return!1;if(this.unreadCount<=0)return!1;if(!this.isGroup)return!e;if(!e)return!0;if(!this.msgs||0===this.msgs.length)return!1;for(var t=!1,a=this.msgs,n=this.unreadCount,i=Math.max(0,a.length-n);i<a.length;i++){var r=this.msgs.at(i);if(r&&(r.isMentioned(L.default.me)||r.isQuoted(L.default.me))){var o=this.getCollection().get(r.sender);if(!o||!o.muteExpiration){t=!0;break}}}return t}},{key:"set",value:function(e,a,n){return"string"==typeof e?"muteExpiration"===e&&this.mute&&this.mute.setMute(a):e.hasOwnProperty("muteExpiration")&&this.mute&&this.mute.setMute(e.muteExpiration),(0,c.default)((0,d.default)(t.prototype),"set",this).call(this,e,a,n)}},{key:"addPendingAction",value:function(e){var t=this;if(e.isPending()){var a=function(){t.decPending()};e.then(a,a),this.pendingAction++}}},{key:"decPending",value:function(){this.pendingAction>0?this.pendingAction--:(W.default.log("chat:onPendingActionUpdate pendingAction value is invalid")(),this.pendingAction=0)}},{key:"onActiveUpdate",value:function(){var e=this;this.isGroup&&this.active&&(this.squelch=-1),this.presence.chatActive=this.active,this.active||this._ephemeralMessagesToDelete.forEach(function(t){e._ephemeralMessagesToDelete.delete(t),t.delete({skipUpdatingSortTime:!0})})}},{key:"onPendingActionUpdate",value:function(){this.pendingAction<0&&(W.default.log("chat:onPendingActionUpdate pendingAction value is invalid")(),this.pendingAction=0)}},{key:"onNotSpamChange",value:function(){this.getCollection().notSpam[this.id]=this.notSpam,this.isTrusted(),this.notSpam&&this.stopListening(this,"change:notSpam")}},{key:"hasMaybeSentMsgToChat",value:function(){return this.getAllMsgs().some(function(e){return e.isSentByMe})}},{key:"isTrusted",value:function(){var e=!1;return this.isGroup?e=this.isReadOnly||this.notSpam||this.groupMetadata.isTrusted():this.isBroadcast?e=!0:this.isUser&&(e=this.notSpam||this.contact.isMyContact),!e&&this.hasMaybeSentMsgToChat()&&(e=!0),this.trusted=e}},{key:"updateMuteExpiration",value:function(){var e=this,t=Number(this.mute.expiration);(0,ge.updateLocal)(this.id,{muteExpiration:t}).then(function(){return e.muteExpiration=t})}},{key:"updateTitle",value:function(){this.isBroadcast?this.formattedTitle=this.contact.name||this.groupMetadata.participants.map(function(e){return e.contact.formattedShortName}).join(", "):this.isUser?this.formattedTitle=this.contact.getFormattedUser()||"":this.isGroup&&(this.formattedTitle=this.contact.name)}},{key:"title",value:function(){return this.isGroup?this.formattedTitle||l10n.t(1103):this.formattedTitle}},{key:"updateCanSend",value:function(){return this.isReadOnly||this.isAnnounceGrpRestrict?this.canSend=!1:this.isUser?this.canSend=!(this.contact.isContactBlocked||this.isPSA):this.canSend=!0}},{key:"delete",value:function(){(0,c.default)((0,d.default)(t.prototype),"delete",this).call(this),this.getCollection().remove(this.id),this.cancelPendingPromises(),this.presence.delete(),this.liveLocation&&this.liveLocation.delete(),w.default.clearChat(this),this.groupMetadata&&this.groupMetadata.delete(),this.mediaMsgs&&this.mediaMsgs.delete(),this.linkMsgs&&this.linkMsgs.delete(),this.docMsgs&&this.docMsgs.delete(),this.productMsgs&&this.productMsgs.delete();var e=this.starredMsgs;e&&(e.delete(),e.stopListening(),e.reset()),this.receivedVCardMsgs&&this.receivedVCardMsgs.delete(),be.default.deleteComposeContents(this.id)}},{key:"isDirty",value:function(){return 0!==this.unreadCount}},{key:"resetMediaMsgs",value:function(){var e=this.mediaMsgs,t=this.linkMsgs,a=this.docMsgs,n=this.productMsgs;e&&(e.delete(),e.queryMedia(this)),t&&(t.delete(),t.queryLinks(this)),a&&(a.delete(),a.queryDocs(this)),n&&(n.delete(),n.queryProducts(this))}},{key:"addMediaMsgs",value:function(e,t){if(e){var a=Array.isArray(e)?e:[e],n=[],i=[],r=[],o=[];a.forEach(function(e){e.isMedia&&n.push(e),e.isDoc&&r.push(e),e.linkPreview&&i.push(e),e.isProduct&&o.push(e)}),this.mediaMsgs&&n.length&&this.mediaMsgs.add(n,t),this.linkMsgs&&i.length&&this.linkMsgs.add(i,t),this.docMsgs&&r.length&&this.docMsgs.add(r,t),this.productMsgs&&o.length&&this.productMsgs.add(o,t)}}},{key:"onNewMsg",value:function(e){var t=this;if(e){var a=Promise.resolve();e.isSentByMe&&!this.notSpam&&(a=(0,ge.updateLocal)(this.id,{notSpam:!0}).then(function(){return t.notSpam=!0})),"i"!==e.eventType&&a.then(function(){var a={};return a.t=e.t,t.promises.updateSortTime&&t.promises.updateSortTime.cancel(),t.updateMediasCountOnMsg(e),t.archive&&(a.archive=!1),t.promises.setArchive&&t.promises.setArchive.cancel(),e.isSentByMe?t.markedUnread=!1:((0,M.default)({id:t.id,participant:e.author,type:"paused"},!1),"a"!==e.eventType&&"d"!==e.eventType||(a.unreadCount=t.unreadCount+1||1)),(0,ge.updateLocal)(t.id,a).then(function(){return a})}).then(function(a){e.isSentByMeFromWeb&&e.promises.sendPromise?t.setAndKeepPrevious(a,e.promises.sendPromise):t.set(a);var n=G.default.get(t.id);if(n&&(n.timestamp=R.default.globalUnixTime()),"gp2"!==e.type||"add"!==e.subtype&&"create"!==e.subtype||fe.default.GroupMetadata.trigger("group_participant_change_".concat(L.default.me.toString()),t.id),!e.isSentByMe){switch(e.eventType){case"d":case"a":"d"===e.eventType&&w.default.alertNewMsg(e),t.msgs.length<D.default.MSG_PRELOAD_THRESHOLD&&t.loadEarlierMsgs(void 0,K.default.WEBC_QUERY_TRIGGER_TYPE.NEW_MESSAGE_PREFETCH).catch(x.E404,function(){}).catch(function(e){W.default.log("chat:onNewMsg failed")(),W.default.log(e)()});break;case"s":if("gp2"===e.type&&"add"===e.subtype&&L.default.me.equals(e.recipients[0])&&!t.contact.name)return;w.default.alertNewMsg(e),fe.default.GroupMetadata.trigger("group_participant_change_".concat(L.default.me.toString()),t.id)}var i=e.mediaData;!i||"image"!==i.type&&"video"!==i.type||w.default.newMediaMsg(e)}})}}},{key:"canPin",value:function(){if(this.archive)return!1;var e=this.promises&&this.promises.setArchive;return(!e||!e.archive)&&V.default.supportsFeature(V.default.F.PIN)}},{key:"canArchive",value:function(){return!this.isBroadcast||V.default.supportsFeature(V.default.F.ARCHIVE_BROADCAST)}},{key:"sendDismissChangeNumber",value:function(){var e=this;if(this.promises.sendDismissChangeNumber)return this.promises.sendDismissChangeNumber;var t=je.default.sendConversationDismissChangeNumber(this.id);this.promises.sendDismissChangeNumber=t;var a=new S.ActionType(l10n.t(24)),n=t.then(function(e){return 200===e.status?new S.ActionType(l10n.t(23)):e.status>=400?new S.ActionType(l10n.t(22)):void 0}).catch(function(t){return W.default.error("models:chat:sendDismissChangeNumber dropped")(t),new S.ActionType(l10n.t(22),l10n.t(155),e.sendDismissChangeNumber.bind(e))});return w.default.openToast(_.createElement(S.ActionToast,{id:(0,S.genId)(),initialAction:a,pendingAction:n})),t.then(function(t){if(200===t.status&&!t._duplicate)return(0,ge.updateLocal)(e.id,{changeNumberNewJid:void 0,changeNumberOldJid:void 0}).then(function(){e.changeNumberOldJid=e.changeNumberNewJid=void 0})}).finally(function(){e.promises.sendDismissChangeNumber=null})}},{key:"setComposeContents",value:function(e){this.composeContents=e}},{key:"getSessionPersistedComposeContents",value:function(){return be.default.getComposeContents(this.id)}},{key:"getComposeContents",value:function(){return(0,E.default)(this.composeContents)?this.getSessionPersistedComposeContents()||{}:this.composeContents}},{key:"setComposeAttachMediaContents",value:function(e){this.composeAttachMediaContents=e}},{key:"preload",value:function(){1===this.msgs.length&&this.loadEarlierMsgs().catch(x.E404,function(){}).catch(function(e){W.default.log("chat:preload failed")(),W.default.log(e)()})}},{key:"onEmptyMRM",value:function(){W.default.log("models:Chat:removeMsg 0 messages left, querying...")(),this.loadEarlierMsgs().catch(x.E404,function(){}).catch(function(e){W.default.log("chat:onEmptyMRM failed")(),W.default.log(e)()})}},{key:"loadEarlierMsgs",value:function(e,t){var a=this,n=e,i=null!=t?t:K.default.WEBC_QUERY_TRIGGER_TYPE.USER_SCROLL;if(n||(n=this.msgs),n.msgLoadState.noEarlierMsgs)return Promise.resolve();if(n.msgLoadState.isLoadingEarlierMsgs)return n.loadEarlierPromise;var r=n?n.head():null;return this._loadMsgs("before",n,i).then(function(e){var t=r?r.msgChunk:n;return t&&Array.isArray(e)&&e.length<D.default.PAGE_SIZE&&(t.msgLoadState.noEarlierMsgs=!0),t&&a.isMostRecentCMC(t)&&a.trigger("msgs:loadEarlier"),e})}},{key:"isMostRecentCMC",value:function(e){return this.msgs===e}},{key:"loadRecentMsgs",value:function(e){var t=e;return t||(t=this.msgs),this.isMostRecentCMC(t)?Promise.resolve():t.msgLoadState.isLoadingRecentMsgs?t.loadRecentPromise:this._loadMsgs("after",t,K.default.WEBC_QUERY_TRIGGER_TYPE.USER_SCROLL)}},{key:"_loadMsgs",value:function(e,t,a){var n,i={};(n="after"===e?t.last():t.head())?i=n.id.clone():i.remote=this.id,i.count=D.default.PAGE_SIZE,i.direction=e;var r=(0,Q.newMessageQueryEvent)(a);return this._loadMsgsPromiseLoop(n,t,z.default.findQuery.bind(z.default,i,{logOnSend:function(e){r.webcResponseBytes+=e.binarySize}}),e,r)}},{key:"_updateMsgLoadState",value:function(e,t,a){var n=e&&e.msgChunk&&e.msgChunk!==t;t.msgLoadState.contextLoaded=!0,e&&n&&((0,te.default)(e.msgChunk).msgLoadState.contextLoaded=!0),"after"===a?t.msgLoadState.isLoadingRecentMsgs=!1:"before"===a?t.msgLoadState.isLoadingEarlierMsgs=!1:"around"===a&&(t.msgLoadState.isLoadingAroundMsgs=!1)}},{key:"_loadMsgsPromiseLoop",value:function(e,t,a,n,i){var r=this,o=performance.now();"after"===n?(t.msgLoadState.isLoadingRecentMsgs=!0,i.webcMessageQueryType=K.default.WEBC_MESSAGE_QUERY_DIRECTION.LOAD_NEXT):"before"===n?(t.msgLoadState.isLoadingEarlierMsgs=!0,i.webcMessageQueryType=K.default.WEBC_MESSAGE_QUERY_DIRECTION.LOAD_PREV):"around"===n&&(t.msgLoadState.isLoadingAroundMsgs=!0,i.webcMessageQueryType=K.default.WEBC_MESSAGE_QUERY_DIRECTION.LOAD_AROUND),i.webcBrowserNetworkType=(0,ee.getEffectiveNetworkType)(),i.webcChatType=this.getWebcChatType(),"number"==typeof this.initialIndex&&(i.webcChatPosition=this.initialIndex);var s=Promise.loop(function(s,d,c){var l=Promise.delay(pe.default.expBackoff(c,12e4,1e3,.1));return("CONNECTED"===ye.default.stream?Promise.resolve():ie.waitForBBEvent(ye.default,"change:stream",function(){return"CONNECTED"===ye.default.stream})).then(function(){return r.regCancellablePromise(a()).then(function(a){var d;i.webcQueryT=Math.ceil(performance.now()-o),Array.isArray(a[0])?(d=a[0][0],a.forEach(function(e){return(0,Q.logMessageCounts)(i,e)})):(d=a[0],(0,Q.logMessageCounts)(i,a)),d&&(i.webcEarliestMessageT=d.t,d.msgChunk===r.msgs&&(i.webcEarliestMessageIndex=r.msgs.length-1)),(0,F.default)().then(function(e){e&&(i.webcBrowserStorageQuotaBytes=e.quota,i.webcBrowserStorageQuotaUsedBytes=e.usage)}).finally(function(){return i.commit()}),r._updateMsgLoadState(e,t,n),s(a)})}).catch(function(e){return!(e instanceof Promise.CancellationError)},function(a){return c>3||404===a?(r._updateMsgLoadState(e,t,n),W.default.error("chat:loadMsgs:error "+String(a))(),404===a?Promise.reject(new x.E404):Promise.reject(new B.GaveUpRetry("Gave up msg fetch after ".concat(c," tries")))):l})},0).catch(B.GaveUpRetry,function(e){return[]});return"after"===n?t.loadRecentPromise=s:"before"===n?t.loadEarlierPromise=s:"around"===n&&(t.loadAroundPromise=s),s}},{key:"getSearchContext",value:function(e,t){var a,n=this,i=null;e instanceof q.default?i=e:e instanceof J.default&&(a=e);var r=i?i.msgChunk:void 0,o=Math.trunc(D.default.PAGE_SIZE/3*2);if(!r||!r.msgLoadState.contextLoaded){r||(r=new I.default,this.msgChunks.push(r),i&&r.add(i));var s=i?i.id.clone():a.clone();s.count=o;var d=function(){if(i)return i.msgChunk;if(null!=a){var e=z.default.get(a);return e&&e.msgChunk?e.msgChunk:r}return r},c=(0,Q.newMessageQueryEvent)(K.default.WEBC_QUERY_TRIGGER_TYPE.SEARCH_RESULT_CLICK);this._loadMsgsPromiseLoop(i,r,z.default.getContext.bind(z.default,s,d,function(e){c.webcResponseBytes+=e.binarySize}),"around",c).then(function(e){var t=d();t&&r&&t!==r&&n.notifyMsgCollectionMerge(t,r,t);var s=e[0],c=a?z.default.get(a):i;c&&Array.isArray(s)&&s.length<o&&((0,te.default)(c.msgChunk).msgLoadState.noEarlierMsgs=!0,r&&c.msgChunk!==r&&(r.msgLoadState.noEarlierMsgs=!0))}).catch(function(){t&&(t.isQuotedMsgAvailable=!1)})}return{collection:r,msg:i,key:a,highlightMsg:!0}}},{key:"sendStarMsgs",value:function(e,t){var a=this;return this.promises.sendStarMsgs?this.promises.sendStarMsgs:this.promises.sendStarMsgs=(0,ce.sendStarMsgs)(this.id,e,t).then(function(){e.forEach(function(e){e.set("star",t)}),t?(0,ue.addStarredMsgs)(e):(0,ue.removeStarredMsgs)(e)}).finally(function(){a.promises.sendStarMsgs=null})}},{key:"sendRevokeMsgs",value:function(e,t){var a=this;return this.promises.sendRevokeMsgs?this.promises.sendRevokeMsgs:this.promises.sendRevokeMsgs=Promise.all(e.map(function(e){return(0,oe.sendRevoke)(e,t)})).finally(function(){a.promises.sendRevokeMsgs=null})}},{key:"handleEphemeralSetting",value:function(e){this.isGroup&&W.default.assert(!1,"handle-ephemeral-setting","chat.handleEphemeralSetting should not be called for group "+this.id.toString())(),this.ephemeralDuration=e,this.ephemeralSettingTimestamp+=1}},{key:"updateEphemeralSettingTimestamp",value:function(e){this.isGroup&&W.default.assert(!1,"update-ephemeral-setting-timestamp","chat.updateEphemeralSettingTimestamp should not be called for group "+this.id.toString())(),this.ephemeralSettingTimestamp=1e3*e}},{key:"changeEphemeralDuration",value:function(e){var t=this;this.isGroup&&W.default.assert(!1,"change-ephemeral-duration","chat.changeEphemeralDuration should not be called for group "+this.id.toString())();var a={id:new J.default({id:(0,re.default)(),remote:this.id,fromMe:!0}),from:L.default.me,to:this.id,t:R.default.globalUnixTime(),type:D.default.MSG_TYPE.PROTOCOL,subtype:"ephemeral_setting",ephemeralDuration:e,local:!0,isNewMsg:!0,self:"out"};return(0,se.addAndSendMsgToChat)(this,a)[1].then(function(){t.ephemeralDuration=e})}},{key:"handleEphemeralSyncResponse",value:function(e,t){this.isGroup&&W.default.assert(!1,"handle-ephemeral-sync-response","chat.handleEphemeralSyncResponse should not be called for group "+this.id.toString())();var a=this.ephemeralSettingTimestamp||0,n=this.ephemeralDuration||0;(t>a||!(t<a)&&(n!==e&&!L.default.me.isLessThan(this.id)))&&(this.ephemeralDuration=e,this.ephemeralSettingTimestamp=t)}},{key:"sendDeleteMsgs",value:function(e,t){var a=this;return this.promises.sendDeleteMsgs?this.promises.sendDeleteMsgs:this.promises.sendDeleteMsgs=je.default.sendMessageDelete(this.id,(0,j.default)(e,function(e){return e.id}),t).then(function(t){var a=[];return 200===t.status?(e.forEach(function(e){e.delete()}),e.length):(t.status>=400&&(a=(0,v.default)(e,function(e){return-1===e.ack&&(e.delete(),!0)})),a.length)}).finally(function(){a.promises.sendDeleteMsgs=null})}},{key:"deleteMsgs",value:function(e,t){this.deleteMsgsBeforeMsgInclusive(void 0,!e,t)}},{key:"deleteMsgsOlderThan",value:function(e,t,a){var n=this.msgs,i=n.head();if(i&&!(i.t>=e))if((i=n.last())&&i.t<e)this.deleteMsgs(t,a);else{this.deleteMsgsPartial(function(n,i,r){return n&&(a&&!(0,Z.msgMatchesType)(n,a)||n.star&&!t||n.t>=e||n.isPersistent)})}}},{key:"deleteMsgsBeforeMsgInclusive",value:function(e){var t,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0;if(e){if(!this.msgs.get(e.id))return;t=this.msgs.indexOf(e)}else t=this.msgs.length;this.deleteMsgsPartial(function(e,i,r){return n&&!(0,Z.msgMatchesType)(e,n)||e.msgChunk===this.msgs&&i>t||a&&e.star||e.isPersistent&&a},!0)}},{key:"deleteMsgsPartial",value:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.unreadCount;if(this.getAllCMCs().forEach(function(n){var i=n.filter(function(a,n,i){return!e.apply(t,[a,n,i])});n.remove(i,void 0,a),i.forEach(function(e){e.delete()})}),(0,b.default)(this.msgChunks).forEach(function(e){0===e.length&&t.removeMsgsCollection(e)}),this.msgs.length>0){var i=n>this.msgs.length?this.msgs.length:n;(0,ge.updateLocal)(this.id,{unreadCount:i}).then(function(){t.unreadCount=i,t.msgs.msgLoadState.noEarlierMsgs=!0})}}},{key:"getFirstMsgWithStatus",value:function(){return this.msgs.getModelsArray().find(function(e){return!e.isNotification&&(e.isSentByMe||e.type===D.default.MSG_TYPE.PTT||e.isEphemeral)})}},{key:"getLastReceivedMsg",value:function(){for(var e=this.msgs.length-1;e>=0;e--){var t=this.msgs.at(e);if(t&&(!t.local||t.ack>0))return t}}},{key:"getLastMsgKeyForAction",value:function(){var e,t=this.msgs.last();return t&&(e=!this.lastReceivedKey||t.id.fromMe&&t.local&&0===t.ack?t.id:this.lastReceivedKey),e||void 0}},{key:"getLastTimestampMsg",value:function(){for(var e=this.msgs.length-1;e>=0;e--){var t=this.msgs.at(e);if(t&&"i"!==t.eventTypeFromMsgType())return t}}},{key:"getWebcChatType",value:function(){switch(this.kind){case _e.CHAT:return K.default.WEBC_CHAT_TYPE.INDIVIDUAL;case _e.GROUP:return K.default.WEBC_CHAT_TYPE.GROUP;case _e.BROADCAST:return K.default.WEBC_CHAT_TYPE.BROADCAST_LIST;default:throw new TypeError("Invalid Chat.kind ".concat(String(this.kind)))}}},{key:"_resetEphemeralMessageExpirationTimer",value:function(e){var t=this;if(le.default.ephemeralMessages){C.default.clearTimeout(this._ephemeralMessageTimerIds.get(e)),this._ephemeralMessageTimerIds.delete(e),this._ephemeralMessagesToDelete.delete(e);var a=e.ephemeralExpirationTimestamp;if(null!=a&&this.msgs.includes(e)){var n=function(){t._ephemeralMessageTimerIds.delete(e),t.active?t._ephemeralMessagesToDelete.add(e):e.delete({skipUpdatingSortTime:!0})};if(e.isExpired())n();else{var i=C.default.setGlobalTimeout(n,1e3*a);this._ephemeralMessageTimerIds.set(e,i)}}}}},{key:"sendContact",value:function(e,t){var a=t&&t.msgContextInfo(this.id),n=(0,m.default)({ack:0,body:ve.default.fromContactModel(e).vcard,from:L.default.me,id:new J.default({from:L.default.me,to:this.id,id:(0,re.default)(),participant:void 0,selfDir:"out"}),local:!0,self:"out",subtype:e.formattedName,t:R.default.globalUnixTime(),to:this.id,type:"vcard",isNewMsg:!0},a||{});(0,se.addAndSendMsgToChat)(this,n)}},{key:"sendGroupInviteMessage",value:function(e,t,a,n,i,r){var o=(0,m.default)({ack:0,from:L.default.me,id:new J.default({from:L.default.me,to:this.id,id:(0,re.default)(),participant:void 0,selfDir:"out"}),local:!0,self:"out",t:R.default.globalUnixTime(),to:this.id,type:"groups_v4_invite",isNewMsg:!0,inviteGrpJpegThum:r,inviteCode:a,inviteCodeExp:n,inviteGrp:e,inviteGrpName:t,comment:i},{});return(0,se.addAndSendMsgToChat)(this,o)[1]}},{key:"sendContactList",value:function(e,t){var a=e.map(ve.default.fromContactModel,ve.default),n=t&&t.msgContextInfo(this.id),i=(0,m.default)({ack:0,from:L.default.me,id:new J.default({from:L.default.me,to:this.id,id:(0,re.default)(),participant:void 0,selfDir:"out"}),local:!0,self:"out",t:R.default.globalUnixTime(),to:this.id,type:"multi_vcard",vcardList:a,isNewMsg:!0},n||{});(0,se.addAndSendMsgToChat)(this,i)}},{key:"forwardMessages",value:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.id,i=this.contact;if(i.isUser&&i.isBlocked())return Promise.reject(new U.default("Forwarded to contact is blocked",i));var r=[];return Promise.each(e,function(e){if(e.isMMS)return(0,$.forwardMediaMsg)(e,t,a);var i=e.quotedMsg&&e.quotedMsg.type===D.default.MSG_TYPE.PRODUCT?e.toJSON():(0,g.default)(e.toJSON(),["quotedMsg","quotedParticipant","quotedRemoteJid","quotedStanzaID","footer","buttons","caption","broadcast"]),r=new J.default({from:L.default.me,to:n,id:(0,re.default)(),participant:void 0,selfDir:"out"});Object.assign(i,{id:r,from:L.default.me,t:R.default.globalUnixTime(),to:n,ack:0,participant:void 0,local:!0,self:"out",isNewMsg:!0,star:!1,isForwarded:e.isForwarded||!e.isSentByMe,forwardingScore:e.getForwardingScoreWhenForwarded(),multicast:a}),(0,se.addAndSendMsgToChat)(t,i)}).then(function(){return r})}},{key:"updateReadOnly",value:function(){var e=this,t=Promise.resolve();if(this.isGroup&&!this.groupMetadata.stale){var a;a=!this.groupMetadata.participants.get(L.default.me),t=(0,ge.updateLocal)(this.id,{isReadOnly:a}).then(function(){return e.isReadOnly=a})}t.then(function(){e.isBroadcast&&e.updateTitle()})}},{key:"updateIsAnnounceGrpRestrict",value:function(){var e=this;if(this.isGroup&&!this.groupMetadata.stale){var t=this.groupMetadata.participants.get(L.default.me),a=t&&!t.isAdmin&&this.groupMetadata.announce;(0,ge.updateLocal)(this.id,{isAnnounceGrpRestrict:a}).then(function(){return e.isAnnounceGrpRestrict=a})}}},{key:"sortMsgs",value:function(e){var t=e.map(function(e){var t=(0,te.default)(e.msgChunk);return{msg:e,chunkT:(0,te.default)(t.at(0)).t,index:t.indexOf(e)}});return(0,p.default)(t,["chunkT","index"]).map(function(e){return e.msg})}},{key:"_updateAssignedColor",value:function(){if(this.colors){var e=this.groupMetadata.participants,t=this.colors,a=(0,h.default)(Object.keys(t),e.map(function(e){return e.id.toString()}).map(Y.default));a.forEach(function(e){delete t[e]}),a.length&&this._saveAssignedColors()}}},{key:"loadAssignedColors",value:function(){return this.groupMetadata&&this.listenTo(this.groupMetadata.participants,"remove reset",this._updateAssignedColor),be.default.getGroupParticipantAssignedColor(this.id)||{}}},{key:"saveAssignedColors",value:function(){var e=this.colors;e&&be.default.setGroupParticipantAssignedColor(this.id,e)}},{key:"assignedColor",value:function(e){var t,a=this.colors||(this.colors=this.loadAssignedColors()),n=(0,Y.default)(e.toString());if(t=a[n])return t;var i={};(0,f.default)(a,function(e,t){i[e]?i[e].push(t):i[e]=[t]});for(var r=Number.POSITIVE_INFINITY,o=1;o<D.default.NUM_COLORS;o++){if(!i[o]){t=o;break}i[o].length<r&&(r=i[o].length,t=o)}return a[n]=t,this._saveAssignedColors(),t}},{key:"unstarAll",value:function(){var e=this.getAllMsgs();e.forEach(function(e){e&&(e.star=!1)}),(0,ue.removeStarredMsgs)(e)}},{key:"constructMediaMsgs",value:function(e){return e?(this.getMediaMsgs().includes(e)||e.msgChunk===this.msgs?(t=this.getMediaMsgs()).hasMediaAfter=!1:t=new N.default,t.includes(e)||(e.msgChunk?t.add(e.msgChunk.filter(function(e){return e.isMedia})):t.add(e)),t):this.getMediaMsgs();var t}},{key:"fts",value:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2?arguments[2]:void 0;if(1===a){var i=this.ftsCache[e];if(i)return i;var r=z.default.search(e,a,n,this.id);this.ftsCache[e]=r;var o=function(){t.ftsCache[e]=null};return setTimeout(o,3e5),r.catch(o),r}return z.default.search(e,a,n,this.id)}},{key:"_clearFtsCache",value:function(){this.ftsCache={}}},{key:"updateSortTime",value:function(){var e=this;this.promises.updateSortTime||(this.promises.updateSortTime=this.regCancellablePromise(Promise.delay(0)).then(function(){var t=e.getLastTimestampMsg();return t?(e.t=t.t,Promise.resolve()):e.msgs.msgLoadState.noEarlierMsgs?Promise.resolve():e.pendingMsgs?Promise.resolve():e.loadEarlierMsgs()}).then(function(t){if(t){var a=e.getLastTimestampMsg();e.t=a?a.t:void 0}}).catch(function(){}).finally(function(){e.promises.updateSortTime=void 0}))}},{key:"removeFromCollection",value:function(e){e.star&&(0,ue.removeStarredMsgs)([e]),e.isMedia&&this.mediaMsgs?this.mediaMsgs.remove(e):e.getLinks().length&&this.linkMsgs?this.linkMsgs.remove(e):e.isDoc&&this.docMsgs?this.docMsgs.remove(e):e.isProduct&&this.productMsgs&&this.productMsgs.remove(e),this.updateMediasCountOnMsg(e,!0)}},{key:"getMediaMsgs",value:function(){return this.mediaMsgs||(this.mediaMsgs=new N.default),this.mediaMsgs}},{key:"getLinkMsgs",value:function(){return this.linkMsgs||(this.linkMsgs=new P.default),this.linkMsgs}},{key:"getDocMsgs",value:function(){return this.docMsgs||(this.docMsgs=new T.default),this.docMsgs}},{key:"getProductMsgs",value:function(){return this.productMsgs||(this.productMsgs=new k.default),this.productMsgs}},{key:"getReceivedVCardMsgs",value:function(){return this.contact.isMyContact||!this.contact.isUser?null:(this.receivedVCardMsgs||(this.receivedVCardMsgs=new O.default,this.receivedVCardMsgs.parent=this),this.receivedVCardMsgs)}},{key:"dismissVCard",value:function(){this.vcardDismissed=!0}},{key:"updateMediasCountOnMsg",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(V.default.supportsFeature(V.default.F.MEDIAS_COUNT)){var a=t?-1:1;e.isMedia&&(this.mediaCount+=a);var n=e.getLinks().length;if(n){var i=a*n;this.linkCount+=i}e.isDoc&&(this.docCount+=a)}}},{key:"resetMediasCount",value:function(e){V.default.supportsFeature(V.default.F.MEDIAS_COUNT)&&(null!=e.mediaCount&&(this.mediaCount=e.mediaCount),null!=e.linkCount&&(this.linkCount=e.linkCount),null!=e.docCount&&(this.docCount=e.docCount))}},{key:"getStarredMsgs",value:function(){var e=this,t=this.starredMsgs;return t||(this.starredMsgs=t=new ue.StarredMsgCollection,this.starredMsgs.add(ue.default.filter(function(t){return t.chat===e}))),t}},{key:"setAndKeepPrevious",value:function(e,t){var a=this,n=Object.keys(e);n.forEach(function(e){e in a.ackedProps||(a.ackedProps[e]=a[e])}),t.finally(function(){n.forEach(function(e){delete a.ackedProps[e]})}),this.set(e)}},{key:"getAckedPhoneProps",value:function(){return{wid:this.id,mute:this.mute.expiration,active:this.active,isReadOnly:this.isReadOnly,modifyTag:this.modifyTag,unreadCount:this.unreadCount,changeNumberOldJid:this.changeNumberOldJid,changeNumberNewJid:this.changeNumberNewJid,archive:"archive"in this.ackedProps?this.ackedProps.archive:this.archive,notSpam:"notSpam"in this.ackedProps?this.ackedProps.notSpam:this.notSpam,pin:"pin"in this.ackedProps?this.ackedProps.pin:this.pin}}},{key:"regCancellablePromise",value:function(e){var t=this;return this._promises||(this._promises=[]),this._promises.push(e),e.cancellable().finally(function(){t._promises=(0,u.default)(t._promises,e),t._promises&&0===t._promises.length&&(t._promises=null)})}},{key:"cancelPendingPromises",value:function(){this._promises&&this._promises.length>0&&(this._promises.forEach(function(e){e.cancel()}),this._promises=null)}},{key:"matchFilter",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return!!(0,E.default)(e)||(e.label?this.labels&&this.labels.includes(e.label):e.kind===D.default.SMB_SEARCH_FILTERS.UNREAD?!!this.hasUnread:e.kind===this.kind)}},{key:"getEphemeralSetting",value:function(){return this.isGroup?this.groupMetadata.ephemeralDuration:this.ephemeralDuration}},{key:"isEphemeralSettingOn",value:function(){var e=this.getEphemeralSetting();return null!=e&&0!==e}},{key:"getCollection",value:function(){return a("dbdfbgehgj").default}}]),t}(he.default);Se.Proxy="chat",Se.idClass=Ee.default;var Ce=(0,A.defineModel)(Se);t.default=Ce},ecabefjaea:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var a=e.reduce(function(e,t){var a=t.handlers;return a?(Object.keys(a).forEach(function(n){e[n]||(e[n]=[]);var i=a[n];null!=i&&e[n].push([t,i])}),e):e},{});return Object.keys(a).reduce(function(e,n){var r=a[n];return e[n]=function(e,t){return function(a){e.some(function(e){var n=(0,i.default)(e,2),r=n[0],o=n[1],s=o.call(r,a,t);return!!a.defaultPrevented||!0===s&&(a.preventDefault&&a.preventDefault(),a.stopPropagation&&a.stopPropagation(),!0)})}}(r,t),e},{})};var i=n(a("hbddjfeei"))},ecahagbbfh:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=n(a("ddhijeejag")),u=i(a("efjajjbaf")),f=i(a("cfghbhcedd")),h=i(a("bbchdeehff")),p=n(a("cajijabhgb")),g=n(a("ffchhcfdj")),m=n(a("dcecgegjfc")),b=a("bhfdfhefca"),v=i(a("bjbedjfe")),j=a("bheafeifce"),E=i(a("bfdcadbbif")),y=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i))))._handleClick=function(e){a._checkForDrawerMid(e)},a._handleDropdownCaptureClick=function(){a._openCaptureFlow()},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"_checkForDrawerMid",value:function(e){h.default.existsDrawerMid(function(t){t&&e.preventDefault()})}},{key:"_openCaptureFlow",value:function(){var e=this,t=this.props.chat,a=m.start("camera");Promise.race([a,this.props.rejectOnUnmount()]).checkpoint(this.props.rejectOnUnmount()).then(function(a){a&&h.default.openDrawerMid(l.createElement(f.default,{chat:(0,j.unproxy)(t),stream:a}),"slide-up",e.context.uim,{noFocus:!0})}).catch(p.Unmount,function(){a.then(function(e){return m.stop(e)}).catch(function(){})}).catch(p.GUM.NotAllowedError,function(){h.default.openModal(l.createElement(g.default,{messaging:g.Messaging.CAMERA_FAIL,type:g.default.TYPE.GUIDE_UNBLOCK}))}).catch(p.GUM.GUMError,function(){h.default.openModal(l.createElement(g.default,{messaging:g.Messaging.CAMERA_MISSING,type:g.default.TYPE.GUIDE_NONE}))})}},{key:"render",value:function(){return l.createElement(b.MenuBarItem,{a8nText:"conversation-clip",icon:l.createElement(E.default,{name:"clip"}),title:l10n.t(728),transitionName:"menu",onClick:this._handleClick},l.createElement(u.default,{chat:this.props.chat,onCaptureClick:this._handleDropdownCaptureClick,getComposeContents:this.props.getComposeContents,onMenuComplete:this.props.onMenuComplete}))}}]),t}(l.PureComponent),_=(0,v.default)(y);t.default=_},ecbacgcajj:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.auth,a=e.directPath,n=e.encFilehash,c=e.hostname,l=e.type;return a&&t?function(e){var t=e.auth,a=e.directPath,n=e.encFilehash,i=e.hostname,o=e.query,c=new URL(a,"https://".concat(i));if(c.hostname!==i)throw r.default.assert(!1,"malicious directPath","url.hostname: ".concat(c.hostname,", hostname: ").concat(i,", directPath: ").concat(a))(),new Error("malicious directPath");var l=c.searchParams||new d.default(c.search);return l.set("auth",t),l.set("hash",(0,s.default)(n)),Object.keys(o).forEach(function(e){var t=o[e];l.set(e,t)}),"https://".concat(c.host).concat(c.pathname,"?").concat(l.toString())}({auth:t,encFilehash:n,hostname:c,directPath:a,query:{[o.MMS_URL_MEDIA_TYPE_SEARCH_PARAM]:l,[o.IS_MMS_URL_SEARCH_PARAM]:""}}):(0,i.default)({hostname:c,type:l,encFilehash:n,query:{[o.IS_MMS_URL_SEARCH_PARAM]:""}})};var i=n(a("hefjgabce")),r=n(a("bdiiahhjbe")),o=a("biddahcajc"),s=n(a("ebfbbaecji")),d=n(a("ddfjdghbjb"))},ecbafeecfe:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("bhfcfhafdj")),o=i(a("eaidjcib")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=n(a("ddhijeejag")),u=i(a("bcdafjgefj")),f=function(e){function t(){return(0,o.default)(this,t),(0,s.default)(this,(0,d.default)(t).apply(this,arguments))}return(0,c.default)(t,e),t}(i(a("dhhhjaejje")).default);function h(e){return e.reduce(function(e,t,a){var n="jsx-child-".concat(a);return void 0===t?e:[].concat((0,r.default)(e),"string"==typeof t?[t]:[l.cloneElement(t,{key:n})])},[])}t.default=f,f.onText=u.default,f.onDelimiter=function(e){},f.onRoot=function(e){return h(e)},f.onMutator=function(e,t,a,n){return e.jsx(h(t),a,n)}},ecbgeejjjh:function(e,t){e.exports={fullWidthShade:"_1_XHS",stripHeightShade:"_1y_mQ",lowerShade:"_3ieM9",upperShade:"_3Asgg",fullHeightShade:"_5yx6d",roundedCorners:"_3nuhn"}},ecbjchafdg:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("hbddjfeei")),o=i(a("eaidjcib")),s=i(a("dgcdacjddi")),d=i(a("ffceefejc")),c=i(a("cjedcdbdii")),l=i(a("dbjagcfebh")),u=n(a("ddhijeejag")),f=i(a("dieejegcge")),h=i(a("bbchdeehff")),p=i(a("baagejbchg")),g=i(a("biddiiafgd")),m=i(a("ebbeeceebe")),b=a("chcadgfgad"),v=a("ddjfcdfihc"),j=i(a("eedjbihej")),E=i(a("bcjcbbafcj")),y=[[l10n.t(858),(0,v.getWebKey)(f.default.OPEN_NEW_CHAT)],[l10n.t(859),(0,v.getWebKey)(f.default.OPEN_NEW_GROUP)],[l10n.t(860),(0,v.getWebKey)(f.default.OPEN_PROFILE)],[l10n.t(725),(0,v.getWebKey)(f.default.OPEN_SETTINGS)],[l10n.t(822),(0,v.getWebKey)(f.default.SEARCH)],[l10n.t(833),(0,v.getWebKey)(f.default.SEARCH_IN_CHAT)],[l10n.t(790),(0,v.getWebKey)(f.default.TOGGLE_ARCHIVE)],[l10n.t(857),(0,v.getWebKey)(f.default.TOGGLE_MUTE)],[l10n.t(800),(0,v.getWebKey)(f.default.TOGGLE_UNREAD)],[l10n.t(794),(0,v.getWebKey)(f.default.DELETE_OR_EXIT_CHAT)],[l10n.t(831),(0,v.getWebKey)(f.default.GO_TO_NEXT_CHAT)],[l10n.t(832),(0,v.getWebKey)(f.default.GO_TO_PREV_CHAT)]],_=function(e){function t(){var e,a;(0,o.default)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=(0,d.default)(this,(e=(0,c.default)(t)).call.apply(e,[this].concat(i)))).onClose=function(){h.default.closeModal()},a}return(0,l.default)(t,e),(0,s.default)(t,[{key:"render",value:function(){var e=y.map(function(e){var t,a=(0,r.default)(e,2),n=a[0],i=a[1];if(i)return t=-1===i.indexOf("Shift+")?u.createElement("span",{className:m.default.key},i):u.createElement(u.Fragment,null,u.createElement("span",{className:m.default.key},"Shift"),u.createElement("span",{className:m.default.key},i.substr("Shift+".length))),u.createElement("div",{key:"shortcut-".concat(i),className:m.default.section},u.createElement("div",{className:m.default.action,title:n},n),u.createElement("div",{className:m.default.shortcut},u.createElement("span",{className:m.default.key},E.default.os===p.default.OS_TYPE.MAC?"Cmd":"Alt"),u.createElement("span",{className:m.default.key},"Ctrl"),t))});return u.createElement(g.default,{onOK:this.onClose,okText:l10n.t(1331),type:b.FlexModalType},u.createElement("div",{className:m.default.container},u.createElement(j.default,{theme:"popup-title"},l10n.t(638)),u.createElement("div",{className:m.default.list},e)))}}]),t}(u.Component);t.default=_},ecciceaiej:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=n(a("ddhijeejag")),u=i(a("effbcehec")),f=i(a("hecjahfhf")),h=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,(0,d.default)(t).apply(this,arguments))}return(0,c.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){return l.createElement("div",{className:f.default.overlay,key:"avatar-overlay"},this.props.icon,l.createElement("div",{"data-a8n":u.default.key("avatar-text"),className:f.default.text},this.props.text))}}]),t}(l.Component);t.default=h},eccjbdjafd:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.BaseInput=void 0;var r=i(a("bacehaajgh")),o=i(a("hbddjfeei")),s=i(a("bhfcfhafdj")),d=i(a("eaidjcib")),c=i(a("dgcdacjddi")),l=i(a("ffceefejc")),u=i(a("cjedcdbdii")),f=i(a("djecdhecha")),h=i(a("dbjagcfebh")),p=i(a("ceffhbhahb")),g=n(a("ddhijeejag")),m=i(a("effbcehec")),b=i(a("digcccheca")),v=i(a("daffbcegjj")),j=a("dghhefgjhc"),E=i(a("ecabefjaea")),y=i(a("djfbibifah")),_=i(a("caeigadddg")),S=i(a("ihhfhbadh")),C=i(a("ebgbahdcjg")),A=i(a("dcjhajfghf")),M=i(a("ddajbaceej")),T=i(a("debfbiicee")),P=i(a("dhfbfehaef")),N=i(a("fffdgbfji")),I=i(a("cahfddcdga")),k=i(a("fchcjedjf")),O=a("eagfdbhhhh"),R=i(a("ddeihcgfbg")),w=i(a("babbeaeffj")),D=i(a("ceeggdegaf")),L=a("chhhffajfi"),U=13,G=function(e){function t(){var e,a;(0,d.default)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=(0,l.default)(this,(e=(0,u.default)(t)).call.apply(e,[this].concat(i)))).__changeDueToReset=!1,a.__isMounted=!0,a.__isComposing=!1,a.containerRef=null,a.selection=a.props.initialSelection,a.state={direction:F(a.props.initialValue||""),focused:!1,value:a.props.initialValue||""},a.trigger=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=a.hookMap[e];n&&n.apply(void 0,(0,s.default)(t))},a.serializeNode=function(e){return(0,R.default)(e,a.plugins)},a.serializeTextBeforeCursor=function(){return(0,w.default)(a.refInput||document.createElement("span"),window.getSelection())},a._hasFocus=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.refInput;if(!e)return!1;var t=document.activeElement;return!!t&&(t===e||e.contains(t))},a.forceFocus=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!a.props.readOnly&&a.__isMounted){var t=(0,f.default)(a).refInput;if(t){var n=a._hasFocus(t);if(!n||e)if(n||M.default.focus(t),!e&&a.selection)a.restoreSelection(a.selection);else{var i=window.getSelection();i&&i.rangeCount&&(i.selectAllChildren(t),i.collapseToEnd())}}}},a.focus=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];setTimeout(function(){a.forceFocus(e)},0)},a.reset=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";a.__changeDueToReset=!0,a.selection=null,a._setValue(e)},a._setValue=function(e){if(e!==a.state.value){var t=e||"";a.setState({value:t,direction:F(t)},function(){a.trigger(T.default.CHANGE,[t]),a.props.onChange&&a.props.onChange(t)})}},a.onSelect=function(){a.selection=a.getSelection(),a.props.onSelect&&a.props.onSelect(a.selection)},a.shouldComponentUpdate=function(e,t){var n=t.value,i=t.focused,r=t.direction;if(null!=a.refInput&&a.props.readOnly!==e.readOnly&&a.refInput.setAttribute("contentEditable",String(!e.readOnly)),i!==a.state.focused&&a.containerRef&&(i?a.containerRef.classList.add("focused"):a.containerRef.classList.remove("focused")),r!==a.state.direction&&a.refInput&&a.refInput.setAttribute("dir",r),a.__changeDueToReset){a.__changeDueToReset=!1;var o=(0,D.default)(n,a.plugins);a.refInput&&(a.refInput.innerHTML=o)}var s=!n.length&&!!a.state.value.length,d=!!n.length&&!a.state.value.length;if(!d&&!s)return!1;var c=d?"hidden":"visible";return a.refPlaceholder&&a.refPlaceholder.setAttribute("style","visibility: ".concat(c)),!1},a.componentWillUnmount=function(){a.__isMounted=!1,a.refInput&&(a.refInput.restoreFocus=null)},a.onInput=function(e){var t=null,n=a.refInput;n&&(t=(0,R.default)(n,a.plugins));var i="\n"===t?"":t||"",r=a.props.maxLength;if(null!=r&&(0,L.numCodepoints)(i)>r){var o=a.selection;return n&&(n.innerHTML=(0,D.default)(a.state.value,a.plugins)),void(o&&a.restoreSelection(o))}a.trigger(T.default.INPUT),a._setValue(i)},a.onPaste=function(e){e.preventDefault(),e.stopPropagation();var t=new A.default(e.clipboardData),n=a.props,i=n.onFiles,r=n.onTextPaste;t.hasFiles()&&i&&i(t)||t.hasText()&&t.getText(a.props.textPasteMimePriority).then(function(e){if(e&&(!r||!r(e))){var t=a.length-a.selectionLength,n=a.props.maxLength;if(null!=n&&t+(0,L.numCodepoints)(e)>n){var i=a.props.onMaxPasteExceeded;return i&&i()}a.replaceSelection(e)}})},a.onBeforeInput=function(e){if(a.props.readOnly)return!0;var t=a.props.maxLength;if(null==t)return!1;var n=e.data.charCodeAt(0);if(8===n||127===n)return!1;var i=(0,f.default)(a),r=t+i.selectionLength-i.length;return(0,L.numCodepoints)(e.data)>r},a.onKeyDown=function(e){return!(!a.props.onKeyDown||!a.props.onKeyDown(e))||e.which===U&&((!a.props.multiline||!function(e){return e.which===U&&(e.getModifierState("Shift")||e.getModifierState("Alt")||e.getModifierState("Control"))}(e))&&(a.props.onEnter&&a.props.onEnter(e),!0))},a.componentDidMount=function(){a.refInput&&(a.refInput.restoreFocus=a.focus),a.trigger(T.default.MOUNT)},a.onBlur=function(e){a.setState({focused:!1}),a.props.onBlur&&a.props.onBlur(e)},a.onFocus=function(e){a.setState({focused:!0}),a.props.onFocus&&a.props.onFocus(e)},a.onCompositionStart=function(e){return!(a.__isComposing=!0)},a.onCompositionEnd=function(){return a.__isComposing=!1},a.setRefContainer=function(e){a.containerRef=e},a.setRefPlaceholder=function(e){a.refPlaceholder=e},a.setRefInput=function(e){a.refInput=e},a}return(0,h.default)(t,e),(0,c.default)(t,[{key:"serialize",value:function(e){var t=e||this.state.value;return this.plugins.reduce(function(e,t){var a=(0,o.default)(e,2),n=a[0],i=a[1];return t.serialize?t.serialize(n,i):[n,i]},[t,{}])}},{key:"replaceSelection",value:function(e){if(!this.props.readOnly){var t=this.refInput;this._hasFocus(t)||(M.default.focus(t),this.selection&&this.restoreSelection(this.selection));var a=this.trimToFit(e);if(a.length){this.props.multiline||(a=a.replace(/\r?\n/g,""));var n,i,r,o,s=window.getSelection().getRangeAt(0);n=s,i=this.refInput,r=n.startOffset,o=n.startContainer,0===r&&o!==i&&o&&o.previousSibling&&"\n"===o.previousSibling.textContent.slice(-1)&&(a="\n".concat(a)),s.deleteContents();var d=t||{},c=d.scrollTop,l=d.scrollHeight;if(document.execCommand("insertHTML",!1,(0,D.default)(a,this.plugins)),this.onSelect(),t){var u=t.scrollHeight;if(u<=t.clientHeight)return;t.scrollTop=(c||0)+(u-l)}}}}},{key:"restoreSelection",value:function(e){var t=this.refInput;if(t){var a=e.anchorIndex,n=e.focusIndex,i=e.anchorOffset,r=e.focusOffset,o=t.childNodes,s=-1===a?t:o[a],d=-1===n?t:o[n];if(s&&d)try{if(s===d&&i>r){var c=[r,i];i=c[0],r=c[1]}var l=document.createRange();l.setStart(s,i),l.setEnd(d,r);var u=window.getSelection();u.removeAllRanges(),u.addRange(l);try{var f=document.createRange();f.setStart(d,r),f.setEnd(d,r);var h=f.getBoundingClientRect(),p=h.bottom,g=h.top,m=this.refInput&&this.refInput.getBoundingClientRect()||{},b=m.bottom,v=m.top;if(g>=v&&p<=b)return;this.refInput&&(this.refInput.scrollTop+=p<v?g-v:p-b)}catch(e){}}catch(e){this.focus(!0)}}}},{key:"getSelection",value:function(){var e=this.refInput;if(!e||document.activeElement!==e)return null;for(var t,a=window.getSelection(),n=a.anchorNode,i=a.anchorOffset,r=a.focusNode,o=a.focusOffset,s=e.childNodes,d=-1,c=-1,l=0;(d<0||c<0)&&(t=s[l++]);)n===t&&(d=l-1),r===t&&(c=l-1);return{anchorIndex:d,anchorOffset:i,focusIndex:c,focusOffset:o}}},{key:"trimToFit",value:function(e){var t=this.props.maxLength;if(null==t)return e;var a=t+this.selectionLength-this.length;return a<=0?"":(0,L.substring)(String(e),0,a)}},{key:"cursorIsAtEnd",value:function(){return!(!this.state.focused||""!==this.state.value)||(0,S.default)(this.refInput)}},{key:"cursorIsAtStart",value:function(){return!(!this.state.focused||""!==this.state.value)||(0,C.default)(this.refInput)}},{key:"isFocused",value:function(){return this.state.focused}},{key:"blur",value:function(){(0,I.default)(this.refInput).blur()}},{key:"select",value:function(){var e=(0,I.default)(this.refInput),t=document.createRange();t.selectNodeContents(e);var a=window.getSelection();a.removeAllRanges(),a.addRange(t)}},{key:"_getTabOrder",value:function(){return null!=this.props.tabOrder?this.props.tabOrder:this.props.readOnly?null:j.TAB_ORDERS.COMPOSE_BOX_INPUT}},{key:"render",value:function(){var e=this.props.placeholder,t=this.state,a=t.value,n=t.direction,i=a.length?"hidden":"visible",o=(0,p.default)(k.default.input,{[k.default.compose]:"compose"===this.props.theme,[k.default.default]:"default"===this.props.theme||"media-caption"===this.props.theme,[k.default.large]:"large"===this.props.theme,[k.default.media]:"media-caption"===this.props.theme,[k.default.invite]:"v4-invite-caption"===this.props.theme,[k.default.small]:"small"===this.props.theme,[k.default.status]:"status-reply"===this.props.theme,[k.default["list-search"]]:"list-search"===this.props.theme});return g.createElement(P.default,{className:o,handlers:this.hotKeyMap,onRef:this.setRefContainer},g.createElement("div",{"data-a8n":m.default.key("pluggable-input-placeholder"),className:k.default.placeholder,ref:this.setRefPlaceholder,style:{visibility:i}},e),g.createElement("div",(0,r.default)({},this.handlerMap,{"data-a8n":m.default.key("pluggable-input-body"),className:(0,p.default)(k.default.body,O.SELECTABLE_INPUT_CSS_CLASS),contentEditable:!this.props.readOnly,dangerouslySetInnerHTML:{__html:(0,D.default)(a,this.plugins)},"data-tab":this._getTabOrder(),dir:n,ref:this.setRefInput,spellCheck:this.props.spellCheck})))}},{key:"value",get:function(){return this.state.value}},{key:"selectionLength",get:function(){if(this.props.readOnly)return 0;this._hasFocus(this.refInput)||M.default.focus(this.refInput);var e=window.getSelection();return e.rangeCount?(0,L.numCodepoints)((0,R.default)(e.getRangeAt(0).cloneContents(),this.plugins)):0}},{key:"length",get:function(){return(0,L.numCodepoints)(this.state.value)}},{key:"isComposing",get:function(){return this.__isComposing}}]),t}(g.Component);t.BaseInput=G;t.default=function(e){return function(t){function a(){var t,n,i,r,o;(0,d.default)(this,a);for(var c=arguments.length,h=new Array(c),p=0;p<c;p++)h[p]=arguments[p];return(n=(0,l.default)(this,(t=(0,u.default)(a)).call.apply(t,[this].concat(h)))).plugins=[].concat((0,s.default)(e.map(function(e){return e instanceof b.default&&e.initialize((0,f.default)(n)),e})),[(o=(0,f.default)(n),{handlers:(i=o,r=x,r.reduce(function(e,t){return Array.isArray(t)?e[t[0]]=i[t[1]]:e[t]=i[t],e},{}))})]),n.handlerMap=(0,E.default)(n.plugins,(0,f.default)(n)),n.hookMap=(0,y.default)(n.plugins,(0,f.default)(n)),n.hotKeyMap=(0,_.default)(n.plugins,(0,f.default)(n)),n}return(0,h.default)(a,t),a}(G)};var x=["onBeforeInput","onBlur","onCompositionEnd","onCompositionStart","onFocus","onInput","onKeyDown","onPaste","onSelect"];function F(e){return v.default.dir(e)||N.default.LR("ltr","rtl")}},eccjgeceej:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.queryBusinessProfile=function(e){var t;t=i.default.supportsFeature(i.default.F.MD_BACKEND)?Promise.reject(new Error("Should not reach here")):r.default.queryBusinessProfile(e);return t};var i=n(a("bjbdcigbdi")),r=n(a("bihdhbjih"))},eccjjjfhdj:function(e,t){e.exports={container:"r7sRK"}},ecdffdifib:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.default,a=null,n=function(n){return null!=a&&t(a.params,n)?a.params=n:a={params:n,result:e.call(this,n)},a.result};return n.clear=function(){a=null},n};var i=n(a("cdbddjfbcd"))},ecdfgaagba:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"addMessagesToHistory",{enumerable:!0,get:function(){return n.addMessagesToHistory}}),Object.defineProperty(t,"appendMessage",{enumerable:!0,get:function(){return n.appendMessage}}),Object.defineProperty(t,"storeMessages",{enumerable:!0,get:function(){return n.storeMessages}}),Object.defineProperty(t,"getMsgByMsgKey",{enumerable:!0,get:function(){return i.getMsgByMsgKey}}),Object.defineProperty(t,"getBefore",{enumerable:!0,get:function(){return i.getBefore}}),Object.defineProperty(t,"removeMessagesFromHistory",{enumerable:!0,get:function(){return r.removeMessagesFromHistory}});var n=a("ddjdjjicid"),i=a("caijdjeaba"),r=a("digfibghde")},ecdifdiid:function(e,t){e.exports={container:"_1HpUW",gridContainer:"_3a12b",lastColumn:"_3W3rd",shrinkUp:"_1J9DT","container-animateShrinkUp":"_5vpXV",containerAnimateShrinkUp:"_5vpXV",numberText:"_1Lq_-"}},ecdjdjeihf:function(e,t,a){"use strict";var n=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0});var i={};Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r.default}});var r=n(a("dbhbjbfadb"));Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(i,e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}}))})},ecdjiddfjg:function(e,t,a){"use strict";var n=a("cfjecfhbfg"),i=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return r.createElement(s.default,{name:"link",className:o.default.linkIcon})};var r=i(a("ddhijeejag")),o=n(a("ecibeahcbh")),s=n(a("bfdcadbbif"))},eceejifaac:function(e,t){e.exports={mentionsResult:"_1Yz8K",selected:"XSeqj",resultImage:"_3xRlR",mediaCaption:"_1oocP",textContact:"_1B_hp",textPushname:"_3SW-z"}},ecfbchagde:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.hasText=function(){return se},t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=i(a("ceffhbhahb")),u=n(a("ddhijeejag")),f=i(a("effbcehec")),h=i(a("dcggjjdeaj")),p=i(a("bgfcjjddjf")),g=a("cebdcdcgja"),m=i(a("bbchdeehff")),b=a("dacicgjcai"),v=i(a("bjdjbcefcc")),j=i(a("baagejbchg")),E=i(a("biddiiafgd")),y=i(a("bjigbaghc")),_=i(a("cbedjffdai")),S=i(a("ccegbieicj")),C=a("bgiachiigg"),A=a("ddjgcfjicj"),M=n(a("cajijabhgb")),T=a("cgffhfegce"),P=a("bgddggdhc"),N=i(a("bjbdcigbdi")),I=n(a("dhfbfehaef")),k=i(a("dgjacfgggf")),O=i(a("cfdejhjab")),R=i(a("ifeefbdg")),w=i(a("cfhehaefih")),D=n(a("dbcedfihd")),L=i(a("eceadcicaf")),U=i(a("bdiiahhjbe")),G=a("bfbggcdbfb"),x=n(a("dehacgjjde")),F=i(a("cchefegdjj")),B=i(a("dgcbhjfhad")),V=a("icbibjcg"),H=i(a("ddcbhjdfdg")),W=i(a("jjbcbhhjh")),Y=i(a("hichbacjh")),$=a("biiiheaiih"),K=i(a("bfifafibjc")),q=a("dbbhhgjjbg"),z=i(a("ceddibdhdb")),Q=i(a("cbcgbajadc")),J=i(a("ihfccfgdf")),Z=a("bheafeifce"),X=i(a("bfdcadbbif")),ee=i(a("fbjjefaic")),te=n(a("bfjajhbdf")),ae=i(a("caffijjhc")),ne=i(a("edbaidcaf")),ie=i(a("bbegbfcgh")),re=i(a("bjieiiccce")),oe=/^https?:\/\/media\.giphy\.com\/media\/([a-zA-Z0-9]+)/,se=!1;var de=parseInt(O.default["-overlay-border-left"].replace(/px$/,""),10),ce="urn:schemas-microsoft-com:office",le="urn:schemas-microsoft-com:office:excel",ue="<meta name=ProgId content=PowerPoint.Slide>",fe=700,he=function(e){function t(e){var a;(0,r.default)(this,t),(a=(0,s.default)(this,(0,d.default)(t).call(this,e))).height=0,a.pendingLinkPreviewPromises=[],a.pasteTriggeredOnChange=!1,a._wasCleared=!1,a.dismissVCardPanel=function(){(0,Z.unproxy)(a.props.chat).dismissVCard()},a.saveComposeContent=function(){a.props.chat.setComposeContents({text:a.text,selection:a.selection,omittedURL:a.omittedURL})},a.onTextSizeChange=function(e){a.setState({textsize:e})},a.pasteEmojiInput=function(e){if(" "===e&&!a.hasText())return m.default.scrollMessages();a.refInput&&(a.refInput.focus(!0),a.refInput&&a.refInput.replaceSelection(e))},a.handleRoutedPaste=function(e){a.refInput&&(a.refInput.focus(!0),a.refInput&&a.refInput.onPaste(e))},a.onMaxPasteExceeded=function(){m.default.openModal(u.createElement(E.default,{title:l10n.t(749),onOK:function(){m.default.closeModal()},okText:l10n.t(1331)},l10n.t(748)))},a.restoreFocus=function(){a.refInput&&a.refInput.focus()},a.clearLinkPreview=function(){a.preview=null,a.omitLinkPreview()},a.cancelPendingLinkPreviews=function(){a.pendingLinkPreviewPromises.forEach(function(e){return e.cancel()}),a.pendingLinkPreviewPromises=[]},a.omitLinkPreview=function(){!0!==(arguments.length>0&&void 0!==arguments[0]&&arguments[0])&&a.state.linkPreview&&(a.omittedURL=a.preview,a.setState({linkPreview:null}))},a.omitQuotedPreview=function(){!0!==(arguments.length>0&&void 0!==arguments[0]&&arguments[0])&&(a.props.chat.composeQuotedMsg=null)},a.omitQuotedMsgAdminGroupNamePreview=function(){!0!==(arguments.length>0&&void 0!==arguments[0]&&arguments[0])&&(a.props.chat.quotedMsgAdminGroupJid=null)},a._findFirstWebLink=function(){var e=(0,b.removeCodeBlocks)(a.text);return D.findLinks(e,!0)[0]},a.scanForLinksTimer=new z.default(function(){if(a.state.hasText){var e=a._findFirstWebLink();if(e){var t=e.url;if(!a.preview||a.preview!==t){a.preview=t,a.omittedURL=null;var n=(0,R.default)(t).cancellable().tap(function(e){e&&a.preview&&a.preview===e.url&&e.data&&(e.data.title||e.data.description)&&a.setState({linkPreview:e})});a.pendingLinkPreviewPromises.push(n),n.catch(M.Unmount,A.WapDrop,Promise.CancellationError,function(){})}}else a.clearLinkPreview()}else a.clearLinkPreview()}),a.onInputFocus=function(){a.indicateFocus(),a.addEmojisToTouchBar()},a.onInputBlur=function(e){a.removeEmojisFromTouchBar()},a.indicateFocus=function(){var e=a.refContainer;e&&e.activate(),(0,I.indicateFocus)(a.refInputHotkey,["#FFFFFF","#D9F3FF"],void 0,{borderColor:["#FFFFFF","#CBE4EF"]}),a.refInput&&a.refInput.focus(!1)},a.addEmojisToTouchBar=function(){},a.removeEmojisFromTouchBar=function(){},a.onPageUpDown=function(e){a.props.onPageUpDown&&(e.stopPropagation(),a.props.onPageUpDown(e),e.persist(),a.restoreFocusTimer.debounce(0))},a.restoreFocusTimer=new z.default(function(){a.refInput&&a.refInput.focus(!1)}),a.handleEmoji=function(e){a.refInput&&a.refInput.replaceSelection(e)},a.handleGif=function(e,t,n){var i=re.default.get(e,re.default.RESP_TYPE.BLOB,{Accept:"video/mp4"}).then(function(e){if(200!==e.status)throw U.default.error("failed loading gif (status: ".concat(e.status,")"))(),new M.MediaFileFailedLoad;return e.response}).then(function(e){return k.default.generateVideoThumbAndDuration(e,j.default.IMG_THUMB_MAX_EDGE).then(function(a){var i=a.thumb,r=a.duration;return{file:e,filename:t,mimetype:e.type,isGif:!0,gifAttribution:n,fullPreview:window.URL.createObjectURL(e),fullPreviewSize:{width:i.fullWidth,height:i.fullHeight},preview:ne.default.parseDataURL(i.url).data,duration:r}})});return a.saveComposeContentDebounced.flush(),m.default.attachMediaDrawer({chat:a.props.chat,attachments:[i],initCaption:a.getCurrentComposeContent(),fileOrigin:G.MEDIA_PICKER_ORIGIN_TYPE.CHAT_GIF_INAPP,onComplete:function(e,t){a.updateTextAfterMediaDrawerClose(e,!!t),e&&a.closeEmojiPanel()}}),i.catch(function(){}),i},a.setRefPanels=function(e){a.refPanels=e},a.handlePanelsDisplayCache=function(e){a.panelsDisplayCache=e},a.handlePanelsGif=function(e,t){a.handleGif(e,e,t)},a.handlePanelsSticker=function(e){e.sendToChat((0,Z.unproxy)(a.props.chat))},a.handlePanelsFocusRelease=function(){(0,I.shouldIndicateFocus)(),a.restoreFocus()},a.openEmojiPanel=function(){a._setSelectedPanelId(x.PANELS.EMOJI)},a.closeEmojiPanel=function(){a._setSelectedPanelId(null),a.restoreFocus()},a.onPTTRecState=function(e){a.setState({recording:e})},a.preventBlur=function(e){var t=e.target,n=(0,P.forbiddenAssertDOMNode)(a.refInput),i=(0,P.forbiddenAssertDOMNode)(a.refContainer);do{if(t===n)return}while(t!==i&&t instanceof HTMLElement&&(t=t.parentNode));be(e),a.refInput&&a.refInput.focus(!1)},a.onChange=function(e){var t=(0,P.forbiddenAssertDOMNode)(a.refComposeBlock).clientHeight,n=t-a.height;n&&a.props.onComposeHeightChange({input:n},!1),a.height=t;var i=a.hasText();a.text=e||"",""===e&&(a._wasCleared=!0);var r=a.hasText();r!==i&&a.setState({hasText:r}),r?(a.props.chat.presence.subscribe().catch(A.WapDrop,function(){}),(0,V.markComposing)(a.props.chat)):(0,V.markPaused)(a.props.chat);var o=a._findFirstWebLink();(!o&&a.preview||o&&o.url!==a.preview)&&a.clearLinkPreview(),a.pasteTriggeredOnChange?a.scanForLinksTimer.onOrBefore(1):a.scanForLinksTimer.debounce(fe),a.pasteTriggeredOnChange=!1,a.saveComposeContentDebounced()},a.renderSendButton=function(){var e=navigator.mediaDevices&&navigator.mediaDevices.getUserMedia&&window.AudioContext;if(a.state.hasText||!e)return u.createElement("button",{"data-a8n":f.default.key("compose-btn-send"),className:O.default.btnSend,onClick:a.onSendText,disabled:!a.hasText},u.createElement(X.default,{name:"send",directional:!0}));var t=a.props.chat;return u.createElement(H.default,{key:"ptt",chat:t,onRecState:a.onPTTRecState})},a.renderPopupPanel=function(){var e;if(a.state.linkPreview){var t=a.state.linkPreview.data,n=t.title,i=t.canonicalUrl,r=t.description,o=t.thumbnail;e=u.createElement(ae.default,{displayName:"ComposeBoxLinkPreview",escapable:!0,requestDismiss:a.omitLinkPreview},u.createElement(B.default,{onOmit:a.omitLinkPreview},u.createElement(w.default,{title:n,compose:!0,canonicalUrl:i,description:r,thumbnailJpeg:o})))}var s,d=a.props.chat.composeQuotedMsg,c=a.props.chat.quotedMsgAdminGroupJid,l=a.props.chat.composeQuotedMsgRemoteJid;d?s=u.createElement(ae.default,{displayName:"ComposeBoxQuotedMsg",escapable:!0,requestFocus:a.restoreFocus,requestDismiss:a.omitQuotedPreview},u.createElement(B.default,{onOmit:a.omitQuotedPreview},u.createElement(W.default,{msg:d,composeQuotedMsgRemoteJid:l,theme:"composeBox",key:d.id.toString(),chat:d.chat}))):c&&(s=u.createElement(ae.default,{displayName:"QuotedMsgAdminGroupName",escapable:!0,requestFocus:a.restoreFocus,requestDismiss:a.omitQuotedPreview},u.createElement(B.default,{onOmit:a.omitQuotedMsgAdminGroupNamePreview},u.createElement(Y.default,{isComposePreview:!0,quotedGroupJid:c,key:c.toString()}))));var f=(0,Z.unproxy)(a.props.chat),g=!f.isPSA&&f.shouldAppearInList&&f.msgs&&f.msgs.length>0,m=null;if(g){var b=p.default.get(f.id),v=f.getReceivedVCardMsgs(),j=!b&&v&&v.length&&!f.vcardDismissed;null!=j&&0!==j&&(m=u.createElement(ie.default,{chat:f,dismissVCardPanel:a.dismissVCardPanel}))}var E=null;!f.trusted&&g&&null==m&&(E=u.createElement(Q.default,{chat:f,contact:f.contact}));var y=null;return a.state.selectedPanelId&&null!=a.state.width&&(y=u.createElement(K.default,{onResize:a._handleResize},u.createElement(x.default,{displayCache:a.panelsDisplayCache,width:a.state.width,onDisplayCache:a.handlePanelsDisplayCache,onEmoji:a.handleEmoji,onFocusRelease:a.handlePanelsFocusRelease,onGif:a.handlePanelsGif,onPanelChange:a.handlePanelChange,onSticker:a.handlePanelsSticker,requestDismiss:a.closeEmojiPanel,ref:a.setRefPanels,selectedPanelId:a.state.selectedPanelId}))),u.createElement("div",{className:O.default.positioningContainer},u.createElement("div",{className:O.default.overlayContainer},u.createElement(h.default,{onHeightChange:a.onHeightChange},E,m,y,s,e)))},a.onHeightChange=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];a.props.onComposeHeightChange({overlay:e},t)},a.onFiles=function(e){var t=e.getFiles().filter(function(e){var t=(0,T.typeFromMimetype)(e.type);return"image"===t||"video"===t});if(e.hasType("text/html")){var n=e.getData("text/html");if(n){if(n.includes(ue))return!1;var i=n.includes(ce),r=n.includes(le);if(i&&!r)return!1}}if(t.length)return a.saveComposeContentDebounced.flush(),m.default.attachMediaDrawer({chat:a.props.chat,attachments:t.map(function(e){return{file:e}}),fileOrigin:G.MEDIA_PICKER_ORIGIN_TYPE.PASTE,initCaption:a.getCurrentComposeContent(),onComplete:a.updateTextAfterMediaDrawerClose}),!0},a.updateTextAfterMediaDrawerClose=function(e,t){e&&t&&a.refInput&&a.refInput.reset()},a.getCurrentComposeContent=function(){return a.props.chat.getComposeContents()},a.onTextPaste=function(e){var t=oe.exec(e);if(t){var n="https://media.giphy.com/media/".concat(t[1],"/200w.mp4");return a.handleGif(n,e,C.VIDEO_MESSAGE_ATTRIBUTION.GIPHY).catch(function(t){m.default.closeDrawerMid(),a.refInput&&(a.refInput.focus(!0),a.refInput&&a.refInput.replaceSelection(e)),m.default.openToast(u.createElement(te.default,{msg:l10n.t(706),id:(0,te.genId)()}))}),!0}return a.pasteTriggeredOnChange=!0,!1},a.onSelectionChange=function(e){a.selection=e},a.hasText=function(){return se=a.text.trim().length>0},a.onEnter=function(e){e&&e.repeat||a.onSendText()},a.onSendText=function(){(0,$.reconnect)();var e=a.refInput,t=a.props.chat;if(e){var n=e.serialize(),i=[n[0].trim(),n[1]],r=i[0],o=i[1];if(r.length){a.cancelPendingLinkPreviews();var s=t.composeQuotedMsg,d=t.quotedMsgAdminGroupJid,c=a.state.linkPreview&&a.state.linkPreview.data,l=o.mentionedJidList||[],u=a._wasCleared;a._setSelectedPanelId(null),a.setState({hasText:!1,linkPreview:null},function(){if(u){var e=(0,Z.unproxy)(t);e.urlText&&(e.urlText=void 0)}(0,q.sendTextMsgToChat)(t,r,{linkPreview:c,quotedMsg:s,mentionedJidList:l,quotedMsgAdminGroupJid:d}),a._wasCleared=!1}),t.composeQuotedMsg=null,t.quotedMsgAdminGroupJid=null,t.composeQuotedMsgRemoteJid=null,t.setComposeContents({}),e.reset(),a.text="",a.hasText()}}},a.handlePanelChange=function(e){a._setSelectedPanelId(e)},a.handleTab=function(e){a.state.selectedPanelId&&(a.refPanels&&a.refPanels.restoreFocus(!0),be(e))},a.setRefContainer=function(e){a.refContainer=e},a.setRefComposeBlock=function(e){a.refComposeBlock=e},a.setRefInputHotkey=function(e){a.refInputHotkey=e},a.setRefInput=function(e){a.refInput=e},a._handleResize=function(e){var t=e.width;a.state.width!==t&&a.setState({width:t})};var n=e.chat.getComposeContents();return a.text=n.text||"",a.selection=n.selection,a.preview=a.omittedURL=n.omittedURL,a.saveComposeContentDebounced=a.props.debounce(a.saveComposeContent,200),a.state={hasText:!!a.text,recording:!1,linkPreview:null,selectedPanelId:null,textsize:_.default.get().textsize,width:null},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props,a=t.listeners,n=t.chat;if(this.props.listeners.add(p.default,"add remove reset",function(){e.forceUpdate()}),N.default.supportsFeature(N.default.F.INDEX_RECEIVED_VCARD)){var i=n.getReceivedVCardMsgs();i&&a.add(i,"add remove reset",function(){e.forceUpdate()})}this.height=(0,P.forbiddenAssertDOMNode)(this.refComposeBlock).clientHeight,this.scanForLinksTimer.debounceAndCap(50,50)}},{key:"componentWillUnmount",value:function(){this.scanForLinksTimer.cancel(),this.restoreFocusTimer.cancel(),this.saveComposeContent(),this.removeEmojisFromTouchBar()}},{key:"_setSelectedPanelId",value:function(e){var t=null==this.state.selectedPanelId&&null!=e;this.setState({selectedPanelId:e,width:t&&null!=this.refComposeBlock?this.refComposeBlock.offsetWidth-de:this.state.width})}},{key:"render",value:function(){return u.createElement(ae.default,{displayName:"ComposeBox",ref:this.setRefContainer,state:ae.default.State.PASSIVE,requestFocus:this.restoreFocus},u.createElement(I.default,{component:"footer",handlers:{pagedown:this.onPageUpDown,pageup:this.onPageUpDown},className:O.default.footer,onMouseDown:this.preventBlur,onContextMenu:this.preventBlur},u.createElement(S.default,{className:(0,l.default)(O.default.blockCompose,ve(this.state.textsize)),onRef:this.setRefComposeBlock},u.createElement("div",{style:{willChange:"width"},className:O.default.childPadding},u.createElement(F.default,{selectedPanelId:this.state.selectedPanelId,onChange:this.handlePanelChange})),u.createElement(I.default,{onRef:this.setRefInputHotkey,className:(0,l.default)(O.default.inputContainer,{[O.default.disabled]:this.state.recording}),handlers:{tab:this.handleTab,"shift+tab":this.handleTab},onFocus:this.onInputFocus,onBlur:this.onInputBlur},u.createElement(v.default,{placeholder:l10n.t(1097),readOnly:this.state.recording,ref:this.setRefInput,initialValue:this.text,initialSelection:this.selection,spellCheck:!0,multiline:!0,maxLength:j.default.MAX_TXT_MSG_SIZE,onMaxPasteExceeded:this.onMaxPasteExceeded,onEnter:this.onEnter,onFiles:this.onFiles,onTextPaste:this.onTextPaste,onChange:this.onChange,onSelect:this.onSelectionChange,textPasteMimePriority:[g.APP_TEXT_MIMETYPE,"text/plain"],theme:"compose"})),u.createElement("div",{className:O.default.childPadding},this.renderSendButton())),this.renderPopupPanel(),u.createElement(v.default.EmojiSuggestions,{chat:(0,Z.unproxy)(this.props.chat)}),u.createElement(me,{key:this.props.chat.id.toString(),parent:this,chatId:this.props.chat.id}),u.createElement(v.default.Suggestions,{chat:(0,Z.unproxy)(this.props.chat)}),y.default.isSMB&&N.default.supportsFeature(N.default.F.QUICK_REPLIES_QUERY)&&u.createElement(v.default.QuickRepliesSuggestions,{chat:(0,Z.unproxy)(this.props.chat)})))}}]),t}(u.PureComponent);he.CONCERNS={chat:["id","trusted","composeContents","composeQuotedMsg","isPSA","shouldAppearInList","presence","contact","composeAttachMediaContents","quotedMsgAdminGroupJid","receivedVCardMsgs","vcardDismissed","composeQuotedMsgRemoteJid"]};var pe=(0,ee.default)((0,L.default)((0,J.default)(he,he.CONCERNS)));t.default=pe;var ge=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).restoreFocus=function(){a.props.parent.restoreFocus()},a.pasteEmojiInput=function(e){a.props.parent.pasteEmojiInput(e)},a.handleRoutedPaste=function(e){a.props.parent.handleRoutedPaste(e)},a.onSendText=function(){a.props.parent.onSendText()},a.onTextSizeChange=function(e){a.props.parent.onTextSizeChange(e)},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"UNSAFE_componentWillMount",value:function(){var e=this.props,t=e.chatId,a=e.listeners;a.add(m.default,"focus_chat_text_input_".concat(t.toString()),this.restoreFocus),a.add(m.default,"paste_chat_text_input_".concat(t.toString()),this.pasteEmojiInput),a.add(m.default,"send_paste_to_compose_".concat(t.toString()),this.handleRoutedPaste),a.add(m.default,"enter_chat_text_input_".concat(t.toString()),this.onSendText),a.add(m.default,"focus_chat_text_input",this.restoreFocus),a.add(m.default,"textsize_change",this.onTextSizeChange)}},{key:"render",value:function(){return null}}]),t}(u.PureComponent),me=(0,L.default)(ge);function be(e){e&&(e.preventDefault(),e.stopPropagation())}function ve(e){for(var t=j.default.TEXTSIZE_CLASS_MAP,a=0;a<t.length;a++)if(t[a].scale===e)return t[a].classname}},ecfbhafded:function(e,t){e.exports={"-width-picture-bubble-inner":"330px",widthPictureBubbleInner:"330px","-padding-picture-bubble":"3px",paddingPictureBubble:"3px",bubble:"_2iEEP",vendor:"_2AMkE",meta:"_3hsuL",hasCaption:"_3pGIB",author:"_13lcO",forwarded:"_1o9Eg",forwardedIndicator:"_1T9rN",hasAuthor:"_1p_x4",quote:"_7RgFD",thumb:"_3KBs6",caption:"_2PQ0u",isPSA:"KfOVJ",isPsa:"KfOVJ",thumbVideo:"_16iRL",thumbImage:"_3zi7t",isGallery:"_2ye2k",isInfo:"_3PBoC"}},ecffadehg:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.markExited=function(e){if(o.default.supportsFeature(o.default.F.MD_BACKEND))return i.default.merge(e.toString(),{isReadOnly:!0});return Promise.resolve()},t.sendExitGroup=function(e){var t;if(o.default.supportsFeature(o.default.F.MD_BACKEND))return Promise.reject(new Error("sendExitGroup: not supported when not build with MD_BACKEND"));t=s.default.leaveGroup(e).then(function(e){return 200!==e.status?Promise.reject(new r.ServerStatusCodeError(e.status)):{_duplicate:e._duplicate}});return t};var i=n(a("begbbgieee")),r=a("ddjgcfjicj"),o=n(a("bjbdcigbdi")),s=n(a("bihdhbjih"))},ecfgejfiia:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("bhabhhjdch")),o=i(a("eaidjcib")),s=i(a("dgcdacjddi")),d=i(a("ffceefejc")),c=i(a("cjedcdbdii")),l=i(a("djecdhecha")),u=i(a("dbjagcfebh")),f=i(a("gcfidijgh")),h=i(a("eaaagccfda")),p=n(a("ddhijeejag")),g=i(a("bbchdeehff")),m=i(a("baagejbchg")),b=i(a("eceadcicaf")),v=i(a("egjjcjcg")),j=i(a("dbdjchfgia"));function E(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}var y=(0,h.default)(function(e){v.default.setVideoVolumeSetting(e)},500),_=(0,h.default)(function(e){v.default.setVideoMutedSetting(e)},500),S={UNSTARTED:-1,ENDED:0,PLAYING:1,PAUSED:2,BUFFERING:3,CUED:5},C={width:"100%",height:"100%",playerVars:{cc_load_policy:1,iv_load_policy:3,controls:0,playsinline:1,rel:0,modestbranding:0,autoplay:0}},A=function(e){function t(){var e,a;(0,o.default)(this,t);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return(a=(0,d.default)(this,(e=(0,c.default)(t)).call.apply(e,[this].concat(i)))).updateInterval=null,a.player=void 0,a.currentTime=0,a.videoLoadedFraction=0,a.getPlayerState=function(){return a.player?a.player.getPlayerState():void 0},a.setStartTime=function(){a.player&&"number"==typeof a.props.startTime&&a.player.seekTo(a.props.startTime,!0)},a.onOtherPlaying=function(e){e!==(0,l.default)(a)&&a.player&&a.player.pauseVideo()},a.onReady=function(e){a.player=e.target;var t,n,i=a.player,r=v.default.getVideoVolumeSettings();r&&("number"==typeof r.volume&&(t=r.volume),"boolean"==typeof r.muted&&(n=r.muted));var o=i.getDuration(),s=null!=t?t:.01*i.getVolume(),d=null!=n?n:i.isMuted(),c=i.getIframe().getBoundingClientRect(),l=c.width,u=c.height;a.videoTagMetadata={duration:o,volume:s,muted:d,videoWidth:l,videoHeight:u},a.props.onLoadedMetadata(a.videoTagMetadata),a.currentTime=i.getCurrentTime(),a.updateInterval=setInterval(a.update,250),null!=a.props.startTime&&a.setStartTime(),null!=t&&a.setVolume(t),null!=n&&a.setMuted(n)},a.update=function(){var e=a.player;if(e){var t=e.getCurrentTime();t!==a.currentTime&&(a.currentTime=t,a.props.onTimeUpdate(t));var n=e.getVideoLoadedFraction();if(n!==a.videoLoadedFraction){a.videoLoadedFraction=n;var i=a.videoTagMetadata?a.videoTagMetadata.duration*n:0;a.props.onProgress([[0,i]])}var o=a.videoTagMetadata;if(o){var s=.01*e.getVolume(),d=e.isMuted();s===o.volume&&d===o.muted||(a.videoTagMetadata=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?E(Object(a),!0).forEach(function(t){(0,r.default)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):E(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},o,{volume:s,muted:d}),a.props.onVolumeChange({volume:s,muted:d}))}}},a.onPlay=function(e){g.default.mediaPlaying((0,l.default)(a)),a.props.onPlaying()},a.onPause=function(e){a.props.onPause()},a.onEnd=function(e){a.props.onEnded();var t=a.player;t&&(t.playVideo(),t.pauseVideo())},a.onError=function(e){a.props.onError()},a.onStateChange=function(e){e.target.getPlayerState()!==S.PLAYING&&a.props.onPause()},a.play=function(){a.player&&a.player.playVideo()},a.pause=function(){a.player&&a.player.pauseVideo()},a.getPaused=function(){return!a.player||a.getPlayerState()!==S.PLAYING},a.getCurrentTime=function(){return a.player?a.player.getCurrentTime():0},a.setCurrentTime=function(e){a.player&&a.player.seekTo(e,!0)},a.getDuration=function(){return a.player?a.player.getDuration():0},a.getVolume=function(){return a.player?.01*a.player.getVolume():0},a.setVolume=function(e){a.player&&(a.player.setVolume(100*e),y(e))},a.getMuted=function(){return!!a.player&&a.player.isMuted()},a.setMuted=function(e){var t=a.player;t&&(e?t.mute():t.unMute(),_(e))},a}return(0,u.default)(t,e),(0,s.default)(t,[{key:"componentDidMount",value:function(){this.props.listeners.add(g.default,"mediaPlaying",this.onOtherPlaying),this.props.listeners.add(g.default,"pttRecording",this.pause)}},{key:"componentWillUnmount",value:function(){this.updateInterval&&clearInterval(this.updateInterval)}},{key:"componentDidUpdate",value:function(e){e.startTime!==this.props.startTime&&this.setStartTime()}},{key:"render",value:function(){var e=(0,f.default)({},C,{playerVars:{autoplay:this.props.autoPlay?1:0,widget_referrer:m.default.WHATSAPP_ORIGIN,origin:window.location.origin}});return p.createElement(j.default,{videoId:this.props.youtubeVideoId,opts:e,onReady:this.onReady,onPlay:this.onPlay,onPause:this.onPause,onEnd:this.onEnd,onError:this.onError,onStateChange:this.onStateChange})}}]),t}(p.PureComponent),M=function(e){function t(){var e,a;(0,o.default)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=(0,d.default)(this,(e=(0,c.default)(t)).call.apply(e,[this].concat(i)))).play=function(){a.getComponent().play()},a.pause=function(){a.getComponent().pause()},a.getPaused=function(){return a.getComponent().getPaused()},a.getCurrentTime=function(){return a.getComponent().getCurrentTime()},a.setCurrentTime=function(e){a.getComponent().setCurrentTime(e)},a.getDuration=function(){return a.getComponent().getDuration()},a.getVolume=function(){return a.getComponent().getVolume()},a.setVolume=function(e){a.getComponent().setVolume(e)},a.getMuted=function(){return a.getComponent().getMuted()},a.setMuted=function(e){a.getComponent().setMuted(e)},a}return(0,u.default)(t,e),t}((0,b.default)(A));t.default=M},ecgeiijacj:function(e,t,a){"use strict";var n=a("cfjecfhbfg"),i=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("ddhijeejag")),o=n(a("effbcehec")),s=n(a("cbiciaafaf")),d=function(e){var t=e.children;return r.createElement("div",{"data-a8n":o.default.key("tooltip"),className:s.default.tooltip},t)};t.default=d},ecgfaicjah:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=n(a("ddhijeejag")),u=i(a("bifahbdaeg")),f=i(a("ihfccfgdf")),h=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,(0,d.default)(t).apply(this,arguments))}return(0,c.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=this.props.msg;return l.createElement(u.default,{msg:e,chat:e.chat,author:this.props.contact.formattedShortName,searchText:this.props.searchText,onClick:this.props.onClick,active:this.props.active,key:e.id.toString()})}}]),t}(l.Component);h.CONCERNS={msg:["id","chat"],contact:["formattedShortName"]};var p=(0,f.default)(h,h.CONCERNS);t.default=p},ecgfheibgg:function(e,t){e.exports={wrapper:"_3cNlM",icon:"_3C_ON",verifiedText:"_36_SM",divider:"_3F9pD"}},echbdbadad:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=n(a("ddhijeejag")),u=i(a("effbcehec")),f=a("ebjaejiaba"),h=i(a("dacdidjdfi")),p=i(a("dhcejciehh")),g=i(a("bbchdeehff")),m=i(a("biddiiafgd")),b=i(a("fifhbjiec")),v=i(a("bjbdcigbdi")),j=a("cjciachhej"),E=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).state={keepStarred:!0},a.onCancel=function(){g.default.closeModal()},a.onClear=function(){var e=a.props.chat;e.pendingAction++,(0,j.sendClear)(e,v.default.supportsFeature(v.default.F.CHAT_CLEAR_STARRED)&&a.state.keepStarred).finally(function(){e.pendingAction--}),g.default.closeModal()},a.onToggleStarred=function(){a.setState({keepStarred:!a.state.keepStarred})},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"getText",value:function(){var e=this.props.chat;switch(e.kind){case f.CHAT_KIND.GROUP:return l10n.t(313,{name:e.title()});case f.CHAT_KIND.CHAT:return l10n.t(312,{name:e.title()});case f.CHAT_KIND.BROADCAST:return l10n.t(311);default:return""}}},{key:"render",value:function(){var e;return v.default.supportsFeature(v.default.F.CHAT_CLEAR_STARRED)&&(e=l.createElement("div",{className:p.default.section,onClick:this.onToggleStarred},l.createElement("div",{"data-a8n":u.default.key("menu-icon-clear-chat"),className:p.default.control},l.createElement(h.default,{onChange:this.onToggleStarred,checked:this.state.keepStarred})),l.createElement("div",{className:p.default.label},l10n.t(637)))),l.createElement(m.default,{onOK:this.onClear,okText:l10n.t(308),onCancel:this.onCancel},l.createElement("div",null,l.createElement(b.default,{text:this.getText()}),e))}}]),t}(l.Component);t.default=E},ecibddhig:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.Pending=function(){return o.createElement("div",{className:s.default.controls},o.createElement("div",{className:(0,r.default)(s.default.icon,s.default.cursorPointer)},o.createElement("div",{className:s.default.spinner},o.createElement(d.default,{size:50,stroke:3,color:"white"})),o.createElement("div",{className:s.default.cancel},o.createElement(c.default,{name:"media-disabled"}))))},t.PendingCancel=function(){return o.createElement("div",{className:s.default.controls},o.createElement("div",{className:(0,r.default)(s.default.icon,s.default.cursorPointer)},o.createElement("div",{className:s.default.spinner},o.createElement(d.default,{size:50,stroke:3,color:"white"})),o.createElement("div",{className:s.default.cancel},o.createElement(c.default,{name:"media-cancel"}))))},t.Download=function(e){var t=e.filesize,a=void 0===t?0:t,n=e.onClick;return a>0?o.createElement("div",{className:s.default.controls},o.createElement("button",{className:(0,r.default)(s.default.btnMeta,s.default.cursorPointer),onClick:n},o.createElement(c.default,{name:"media-download",className:s.default.iconMeta}),o.createElement("span",null,l10n.filesize(a)))):o.createElement("div",{className:s.default.controls},o.createElement("button",{className:(0,r.default)(s.default.button,s.default.cursorPointer),onClick:n},o.createElement(c.default,{name:"media-download"})))},t.Upload=function(e){var t=e.filesize,a=void 0===t?0:t;return a>0?o.createElement("div",{className:s.default.controls},o.createElement("button",{className:(0,r.default)(s.default.btnMeta,s.default.cursorPointer)},o.createElement(c.default,{name:"media-upload",className:s.default.iconMeta}),o.createElement("span",null,l10n.filesize(a)))):o.createElement("div",{className:s.default.controls},o.createElement("div",{className:s.default.button},o.createElement(c.default,{name:"media-upload"})))},t.Play=function(){return o.createElement("div",{className:s.default.controls},o.createElement("div",{className:s.default.button},o.createElement(c.default,{name:"media-play",className:s.default.play})))},t.GifIcon=function(e){var t=e.onClick;return o.createElement("div",{className:s.default.controls,onClick:t},o.createElement("div",{className:s.default.button},o.createElement(c.default,{name:"media-gif"})))};var r=i(a("ceffhbhahb")),o=n(a("ddhijeejag")),s=i(a("daeidjcaja")),d=i(a("becfabjeeg")),c=i(a("bfdcadbbif"))},ecibeahcbh:function(e,t){e.exports={linkIcon:"_1FHoR"}},ecidgeifdi:function(e,t,a){"use strict";var n=a("cfjecfhbfg"),i=n(a("bhabhhjdch")),r=n(a("bjbdcigbdi")),o=n(a("bdiiahhjbe"));function s(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}var d={queryStickerPacks:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50;return new Promise(function(n,i){var s={type:r.default.isThirdPartyStickersEnabled()?"sticker_pack_v2":"sticker_pack",page:t.toString(),count:a.toString()},d=e.queryNode(s,void 0);e.binSend("sendEphemeral",d,i,{onSend:e.binWrap(function(t){e.BinaryProtocol.read(t).then(function(t){var a={};if(o.default.logColor("green","bin-recv: response,sticker_pack",t)(),"response"===e.N.tag(t)&&"sticker_pack"===e.N.attr("type",t)){var i=parseInt(e.N.attr("code",t),10)||200;a.status=i,a.data=[],a.checksum=e.N.attr("checksum",t);var r=e.N.attr("count",t);a.count=null==r?null:parseInt(r);var s=e.N.children(t);if(Array.isArray(s))for(var d=0;d<s.length;d++){var c=e.parseStickerPack(s[d]);c&&a.data.push(c)}}n(a)}).catch(i)},n),onDrop:e.wrap(i)},{debugString:"query,sticker_pack",metricName:"QUERY_STICKER_PACKS"})})},queryStickersInStickerPack:function(e){return this.queryStickers({id:e})},queryStickers:function(e){var t=this;return new Promise(function(a,n){var r=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?s(Object(a),!0).forEach(function(t){(0,i.default)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):s(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({type:"sticker"},e),d=t.queryNode(r,void 0);t.binSend("sendEphemeral",d,n,{onSend:t.binWrap(function(e){t.BinaryProtocol.read(e).then(function(e){var n={};if(o.default.logColor("green","bin-recv: response,sticker",e)(),"response"===t.N.tag(e)&&"sticker"===t.N.attr("type",e)){var i=parseInt(t.N.attr("code",e),10)||200;n.status=i,n.data=[];var r=t.N.children(e);if(Array.isArray(r))for(var s=0;s<r.length;s++){var d=t.parseSticker(r[s]);d&&n.data.push(d)}}a(n)}).catch(n)},a),onDrop:t.wrap(n)},{debugString:"query,sticker,".concat(e.id),metricName:"QUERY_STICKERS"})})},parseSticker:function(e){if("sticker"===this.N.tag(e)){var t={url:this.N.attr("url",e),directPath:this.N.attr("direct_path",e),mediaKey:this.N.attr("media_key",e),filehash:this.N.attr("filehash",e),encFilehash:this.N.attr("enc_filehash",e),mimetype:this.N.attr("mimetype",e),width:parseInt(this.N.attr("width",e)||125,10),height:parseInt(this.N.attr("height",e)||125,10),size:parseInt(this.N.attr("size",e)||0,10)||null};return t.filehash?t:void 0}},parseStickerPack:function(e){if("sticker_pack"===this.N.tag(e)){var t={id:this.N.attr("id",e),name:this.N.attr("name",e),url:this.N.attr("url",e),directPath:this.N.attr("direct_path",e),mediaKey:this.N.attr("media_key",e),filehash:this.N.attr("filehash",e),encFilehash:this.N.attr("enc_filehash",e),mimetype:this.N.attr("mimetype",e)};return t.id?t:void 0}},parseStickerPackUpdate:function(e){if("sticker_pack"===this.N.tag(e)){var t=this.N.attr("type",e),a={type:t},n=[!t];return this.dropIfConditionMet(n,a)}}};e.exports=d},ecidjifge:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg"),r=i(a("bacehaajgh")),o=i(a("eaidjcib")),s=i(a("dgcdacjddi")),d=i(a("ffceefejc")),c=i(a("cjedcdbdii")),l=i(a("dbjagcfebh")),u=n(a("ddhijeejag"));e.exports=function(e,t){var a,n;return n=a=function(a){function n(){return(0,o.default)(this,n),(0,d.default)(this,(0,c.default)(n).apply(this,arguments))}return(0,l.default)(n,a),(0,s.default)(n,[{key:"render",value:function(){return u.createElement(e,(0,r.default)({},this.props,t))}}]),n}(u.Component),a.displayName="Wrapper(".concat(e.displayName||e.name,")"),n}},eciicfcjdi:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("bjehdcaaj")),l=i(a("dbjagcfebh")),u=n(a("dcaifjegcg")),f=i(a("cjcghajbag")),h=i(a("jccfhaecf")),p=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).id=(0,u.prop)(),a.afterCursor=(0,u.prop)(),a.index=(0,u.prop)(),a.fetchedFromServer=(0,u.session)(),a._products=(0,u.session)(),a._msgs=(0,u.session)(),a}return(0,l.default)(t,e),(0,o.default)(t,[{key:"initialize",value:function(){(0,c.default)((0,d.default)(t.prototype),"initialize",this).call(this),this.productCollection=new f.default,this.msgProductCollection=new f.default,this.listenTo(this,"change:_products",this.triggerProductUpdate),this.listenTo(this,"change:_msgs",this.triggerMsgUpdate),this.triggerProductUpdate(),this.triggerMsgUpdate()}},{key:"triggerProductUpdate",value:function(){this._products&&this.productCollection.add(this._products,{merge:!0}),this._products=void 0}},{key:"triggerMsgUpdate",value:function(){this._msgs&&this.msgProductCollection.add(this._msgs,{merge:!0}),this._msgs=void 0}},{key:"markProductCollectionOld",value:function(){this.productCollection.forEach(function(e){return e.markOld()})}},{key:"getCollection",value:function(){return a("ejegihaeh").default}}]),t}(u.default);p.Proxy="catalog",p.idClass=h.default;var g=(0,u.defineModel)(p);t.default=g},ecjegjabde:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return Object.keys(e).reduce(function(t,a){var n=e[a];return null!=n&&(t[a]=e[a]),t},{})}},edgfejedb:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.handleVideoStreamingRequest=function(e){var t=e.action,n=e.message;switch(t){case d.default.REQUEST_STREAMING_INFO:return function(e){var t=f.default.get(e);return t?(0,l.videoStreamingInfo)(t):null}(n.key);case d.default.EXP_BACKOFF:var i=a("bgabgddgch");return i.expDelaySec(n.generation,60).then(function(){return h.default.waitIfOffline({signal:(new s.default).signal})});case d.default.REQUEST_RMR:return function(e){var t=f.default.get(e.key);return t?t.downloadMedia(!0,u.default.WEBC_RMR_REASON_CODE.VIDEO_STREAMING).then(function(){return Promise.reject("downloaded media instead of streaming")}):null}(n);case d.default.SEND_STREAMING_CHUNK:var r,o=n.msgKey,c=f.default.get(o);if(!c)return void delete g[o.toString()];g.hasOwnProperty(o)?r=g[o.toString()]:g[o.toString()]=r=new p(c.size),r.push(n.data),r.isComplete()&&((0,l.manuallySetMedia)(c,r.serialize(),u.default.WEBC_RMR_REASON_CODE.VIDEO_STREAMING),delete g[o.toString()]);break;default:return Promise.reject("Invalid Video Streaming Action")}};var i=n(a("hbddjfeei")),r=n(a("eaidjcib")),o=n(a("dgcdacjddi")),s=n(a("cgeedcdffb")),d=n(a("bbaibbdgdj")),c=n(a("bdiiahhjbe")),l=a("ddgbhifaji"),u=n(a("bfbggcdbfb")),f=n(a("biecbbiiee")),h=n(a("bbgcdfeifh")),p=function(){function e(t){(0,r.default)(this,e),this.ranges=[],this.buffer=[],this.size=t,t||c.default.error("video buffer falsy size: ".concat(t))()}return(0,o.default)(e,[{key:"push",value:function(e){this.buffer.push(e),this.add(e.start,e.end)}},{key:"add",value:function(e,t){for(var a=e,n=this.ranges,r=0;r<n.length;r++){var o=(0,i.default)(n[r],2),s=o[0],d=o[1];if(!(a>d+1)){if(t+1<s)return n.splice(r,0,[a,t]);for(;r+1<n.length;){var c=(0,i.default)(n[r+1],2),l=c[0],u=c[1];if(t+1<l)break;a=Math.min(a,s),n.splice(r,1),s=l,d=u}return void(n[r]=[Math.min(a,s),Math.max(t,d)])}}return n.push([a,t])}},{key:"isComplete",value:function(){var e=this.ranges,t=this.size;return!!t&&(1===e.length&&0===e[0][0]&&e[0][1]===t-1)}},{key:"serialize",value:function(){for(var e=new Uint8Array(this.size),t=this.buffer,a=0;a<t.length;a++){var n=t[a],i=n.start,r=n.buffer;e.set(new Uint8Array(r),i)}return e}}]),e}();var g={}},edjfhjcce:function(e,t){e.exports={container:"_7YAGC"}},eecehffbj:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.SKIN_TONE_VARIATIONS=void 0;var i=n(a("djegeegcbf")),r=[""].concat(i.default.skinToneVariations);t.SKIN_TONE_VARIATIONS=r},eedjbihej:function(e,t,a){"use strict";var n=a("cfjecfhbfg"),i=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.theme?s.default[e.theme]:null,a=e.color?s.default[e.color]:null,n=(0,o.default)(t,a,e.className);return e.block?r.createElement("div",{className:n},e.children):r.createElement("span",{className:n},e.children)};var r=i(a("ddhijeejag")),o=n(a("ceffhbhahb")),s=n(a("dbahdjadcb"))},eeghcebdh:function(e,t){e.exports={bubble:"_1YfLQ",productInfo:"_2_fsu",author:"_1y-BH",title:"_1ypng",subtitle:"_38osG",thumb:"Il57F",productContainer:"dfwro",productCta:"_3k2jA"}},eehjjeabe:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"BoldFirstWord",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"Bold",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"Code",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"Emoji",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"Emoticon",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(t,"Highlight",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(t,"Intern",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"Italic",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"Link",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(t,"Mention",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(t,"RawMention",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(t,"Strikethrough",{enumerable:!0,get:function(){return g.default}}),Object.defineProperty(t,"TextMention",{enumerable:!0,get:function(){return m.default}});var i=n(a("dbaedajgf")),r=n(a("bfifighhia")),o=n(a("dacicgjcai")),s=n(a("idgifdccc")),d=n(a("beagfhhiea")),c=n(a("bedcejaea")),l=n(a("dbbfeecced")),u=n(a("dfehedcfdb")),f=n(a("bbeifbebhh")),h=n(a("cbhbjajgac")),p=n(a("ccfjghjbdi")),g=n(a("dfaebdhdda")),m=n(a("bbacdcchfi"))},efajhdaja:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("ffceefejc")),s=i(a("cjedcdbdii")),d=i(a("dbjagcfebh")),c=n(a("dcaifjegcg")),l=i(a("cffajefeag")),u=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),d=0;d<n;d++)i[d]=arguments[d];return(a=(0,o.default)(this,(e=(0,s.default)(t)).call.apply(e,[this].concat(i)))).id=(0,c.prop)(),a.unsyncedButtonReplies=(0,c.prop)(),a}return(0,d.default)(t,e),t}(c.default);u.Proxy="msgButtonReplyMsg",u.idClass=l.default;var f=(0,c.defineModel)(u);t.default=f},efgfgjab:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=n(a("ddhijeejag")),u=i(a("bebjeaagc")),f=i(a("jccfhaecf")),h=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).state={isBusy:u.default.isBusy()},a.onIdle=function(){a.setState({isBusy:!1})},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){this.props.waitIdle&&(this.idleTaskId=u.default.enqueue(this.onIdle))}},{key:"componentDidUpdate",value:function(e){if(!f.default.equals(e.id,this.props.id)||!this.props.waitIdle){this.state.isBusy&&u.default.dequeue(this.idleTaskId);var t=u.default.isBusy();t&&this.props.waitIdle&&(this.idleTaskId=u.default.enqueue(this.onIdle)),this.setState({isBusy:t})}}},{key:"componentWillUnmount",value:function(){this.props.waitIdle&&u.default.dequeue(this.idleTaskId)}},{key:"render",value:function(){var e=this.props,t=e.children,a=e.onComplex,n=e.waitIdle;return this.state.isBusy&&n?l.createElement(l.Fragment,null,t):a()}}]),t}(l.PureComponent);t.default=h},efgideggi:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.StatusV3MsgNotFound=t.StatusV3LoadingError=t.InvalidStatusV3Iterator=void 0;var i=n(a("eaidjcib")),r=n(a("ffceefejc")),o=n(a("cjedcdbdii")),s=n(a("dbjagcfebh")),d=n(a("dbahhcabjf")),c=n(a("cfjdfebffb")),l=n(a("dbafiicfja")),u=n(a("iffjgahba")),f=n(a("bdiiahhjbe")),h=n(a("bgcdajbhif")),p=n(a("bgabgddgch")),g=function(e){function t(){return(0,i.default)(this,t),(0,r.default)(this,(0,o.default)(t).apply(this,arguments))}return(0,s.default)(t,e),t}((0,u.default)("InvalidStatusV3Iterator"));t.InvalidStatusV3Iterator=g;var m=function(e){function t(){return(0,i.default)(this,t),(0,r.default)(this,(0,o.default)(t).apply(this,arguments))}return(0,s.default)(t,e),t}((0,u.default)("StatusV3LoadingError"));t.StatusV3LoadingError=m;var b=function(e){function t(){return(0,i.default)(this,t),(0,r.default)(this,(0,o.default)(t).apply(this,arguments))}return(0,s.default)(t,e),t}((0,u.default)("StatusV3MsgNotFound"));t.StatusV3MsgNotFound=b;t.default=function e(t,a){var n=this;if((0,i.default)(this,e),this.printInfo=function(){n.statuses.forEach(function(e){f.default.log("Total count: ".concat(e.totalCount,", unread count: ").concat(e.unreadCount,", msgs length: ").concat(e.msgs.length))()})},this.getFirstUnread=function(e,t,a){var i=n.statuses.findIndex(function(t){return t.statusV3===e});if(-1!==i){var r,o=n.statuses[i],s=o.readMsgKeys;return a?(r=o.msgs?o.msgs.findIndex(function(e){return a&&e.id.toString()===a.toString()}):-1)>=0?Promise.resolve({msgIdx:r,statusIdx:i}):Promise.reject(new g):-1===(r=o.msgs?o.msgs.findIndex(function(e){return!s.includes(e.id.toString())}):-1)&&e.msgs.msgLoadState.noEarlierMsgs?(r=t?0:o.msgs.length-1,Promise.resolve({msgIdx:r,statusIdx:i})):-1!==r?Promise.resolve({msgIdx:r,statusIdx:i}):0===o.unreadCount&&t&&o.msgs.length>0?Promise.resolve({msgIdx:0,statusIdx:i}):n.fetchMore(e).then(function(){return n.getFirstUnread(e,t,a)}).catch(function(e){return f.default.error("error while getting first unread status: ".concat(String(e)))(),Promise.reject(new g)})}return Promise.reject(new g)},this.hasNext=function(e){var t=n.statuses[e.statusIdx];return e.msgIdx+1<t.totalCount||e.statusIdx+1<n.statuses.length},this.getNext=function(e){var t=n.statuses[e.statusIdx],a=t.statusV3;if(e.msgIdx+1<t.totalCount&&e.msgIdx+1<t.msgs.length)return Promise.resolve({msgIdx:e.msgIdx+1,statusIdx:e.statusIdx});if(e.msgIdx+1<t.totalCount)return a.msgs.msgLoadState.noEarlierMsgs?(f.default.error("Loaded ".concat(t.msgs.length," messages with total count ").concat(t.totalCount,", but noEarlierMsgs set"))(),Promise.reject(new g)):n.fetchMore(a).then(function(){return n.getNext(e)}).catch(function(t){if(f.default.error("error while loading more status msgs: ".concat(String(t)))(),e.statusIdx+1<n.statuses.length){var a=n.statuses[e.statusIdx+1].statusV3;return n.getFirstUnread(a,!0)}return Promise.reject(new g)});if(e.statusIdx+1<n.statuses.length){var i=n.statuses[e.statusIdx+1].statusV3;return n.getFirstUnread(i,!0)}return Promise.reject(new g)},this.hasPrev=function(e){return e.msgIdx>0||e.statusIdx>0},this.getPrev=function(e){if(e.msgIdx>0)return Promise.resolve({msgIdx:e.msgIdx-1,statusIdx:e.statusIdx});if(e.statusIdx>0){var t=n.statuses[e.statusIdx-1].statusV3;return n.getFirstUnread(t,!1)}return Promise.reject(new g)},this.statusAt=function(e,t){var a=n.statuses[e.statusIdx],i=a.statusV3;return t<a.msgs.length?Promise.resolve({msgIdx:t,statusIdx:e.statusIdx}):i.msgs.msgLoadState.noEarlierMsgs?Promise.reject(new g):n.fetchMore(i).then(function(){return n.statusAt(e,t)}).catch(function(e){return f.default.error("error while loading more status msgs: ".concat(String(e)))(),Promise.reject(new g)})},this.fetchMore=function(e){return Promise.loop(function(t,a,i){var r=Promise.delay(p.default.expBackoff(i,12e4,1e3,.1));return e.loadMore().then(function(){var a=n.statuses.findIndex(function(t){return t.statusV3===e});if(-1!==a){var o=n.statuses[a],s=o.totalCount,u=o.unreadCount,f=e.msgs.getModelsArray().slice(0,s),h=s-u,p=f.slice(0,h),g=(0,l.default)(p,function(e){return e.id.toString()});o.msgs=f,o.readMsgKeys=(0,c.default)((0,d.default)(o.readMsgKeys,g)),t(!0)}else{if(!(i>=4))return r;t(!1)}}).catch(function(e){if(!(i>=4))return r;t(!1)})}).then(function(e){if(!e)throw new m})},a){var r=t.msgs.getModelsArray().find(function(e){return a&&e.id.toString()===a.toString()});if(!r)throw new b;this.statuses=[{statusV3:t,totalCount:1,unreadCount:0,msgs:[r],readMsgKeys:[r.id.toString()]}]}else if(t.unreadCount>0&&!t.contact.isMe&&!t.contact.statusMute){var o=h.default.getUnexpired(!0),s=[];o.forEach(function(e){if(!e.contact.statusMute){var t=e.msgs.getModelsArray(),a=e.totalCount-e.unreadCount,n=t.slice(0,a),i=(0,l.default)(n,function(e){return e.id.toString()});s.push({statusV3:e,totalCount:e.totalCount,unreadCount:e.unreadCount,msgs:t,readMsgKeys:i})}}),this.statuses=s}else{var u=t.msgs.getModelsArray(),v=t.totalCount-t.unreadCount,j=u.slice(0,v),E=(0,l.default)(j,function(e){return e.id.toString()}),y=[{statusV3:t,totalCount:t.totalCount,unreadCount:t.unreadCount,msgs:u,readMsgKeys:E}];this.statuses=y}this.printInfo()}},efhjefegg:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("bhfcfhafdj")),o=i(a("eaidjcib")),s=i(a("dgcdacjddi")),d=i(a("ffceefejc")),c=i(a("cjedcdbdii")),l=i(a("dbjagcfebh")),u=n(a("ddhijeejag")),f=i(a("ebjaejiaba")),h=n(a("iaibjaeb")),p=i(a("dbdfbgehgj")),g=i(a("djjeicfhjb")),m=i(a("bbchdeehff")),b=i(a("dhigahgdjb")),v=a("cicgeajfge"),j=n(a("bbhhbdicgc")),E=i(a("ddajbaceej")),y=i(a("dgjddffcfg")),_=i(a("bjbdcigbdi")),S=i(a("fffdgbfji")),C=i(a("cbcdicdeeb")),A=i(a("cbgeijgefb")),M=n(a("bfjajhbdf")),T=i(a("deabjbejhf")),P={SEC_FREQUENT_CONTACTS:"SEC_FREQUENT_CONTACTS",SEC_CHATS:"SEC_CHATS",SEC_CONTACTS:"SEC_CONTACTS"},N={ROW_FREQUENT_CONTACTS:"ROW_FREQUENT_CONTACTS",ROW_CHATS:"ROW_CHATS",ROW_CONTACTS:"ROW_CONTACTS"},I=function(e){function t(){var e,a;(0,o.default)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=(0,d.default)(this,(e=(0,c.default)(t)).call.apply(e,[this].concat(i)))).setSearch=function(e){a.search=e},a.setList=function(e){a.list=e},a.state={filteredData:a.calculateFilteredData(a.props.searchText)},a._handleRef=function(e){a._refHotKey=e},a.onCancelSelection=function(){a.props.selections.unsetAll()},a._handleSelect=function(e,t,n){var i=a.props,r=i.selections,o=i.maxChats,s=i.active,d=i.onSelectionChanged,c=i.hasFrequentlyForwarded;if(t&&"number"==typeof o&&r.getSelected().length>=o){var l=c?S.default.t(484,{count:o,_plural:o}):S.default.t(483,{count:o,_plural:o});m.default.openToast(u.createElement(M.default,{id:(0,M.genId)(),msg:l}))}else r.setVal(e,t,n),s.setVal(e,n),d&&d(e,t)},a._handleIndexChange=function(e){var t;null===(t=a.list)||void 0===t||t.scrollIntoViewIfNeeded(e)},a._renderItem=function(e){switch(e.type){case P.SEC_FREQUENT_CONTACTS:return u.createElement(A.default,{header:S.default.t(1240)});case P.SEC_CHATS:return u.createElement(A.default,{header:S.default.t(1387)});case P.SEC_CONTACTS:return u.createElement(A.default,{header:S.default.t(1332)});case N.ROW_FREQUENT_CONTACTS:case N.ROW_CHATS:case N.ROW_CONTACTS:var t,n=e.data,i=!1;a.props.hasFrequentlyForwarded&&n.groupMetadata&&n.groupMetadata.noFrequentlyForwarded&&(i=!0,t=S.default.t(489));var r=function(){return a._onChatClick(n)};return u.createElement(g.default,{key:n.id.toString(),model:n,selections:a.props.selections},n instanceof f.default?u.createElement(h.default,{theme:i?"chat-checkbox-no-delete":"chat-checkbox",active:a.props.active,chat:n,mode:h.Mode.INFO,noContext:!0,onClick:r,secondary:t}):u.createElement(T.default,{contact:n,onSelect:r,customSecondaryText:t,active:a.props.active}));default:throw new j.UnknownDataError(e)}},a}return(0,l.default)(t,e),(0,s.default)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.active.init(this._flattenData(this.state.filteredData)),this.props.getInitialItems&&this.props.getInitialItems().forEach(function(t){return e.props.selections.setVal(t,!0)})}},{key:"componentDidUpdate",value:function(e){if(this.props.searchText!==e.searchText){var t=this.calculateFilteredData(this.props.searchText);this.setState({filteredData:t}),this.props.active.init(this._flattenData(t))}}},{key:"calculateFrequentContacts",value:function(e){var t=this.props,a=t.msgType,n=t.excludeChat;return e||!_.default.supportsFeature(_.default.F.FREQUENT_CONTACTS)?[]:b.default.frequentContacts(a,n)}},{key:"calculateFilteredChats",value:function(e){var t=e;if(t){t=S.default.accentFold(t);var a=y.default.numberSearch(t);return p.default.filter(function(e){return e.canSend&&e.shouldAppearInList&&e.contact.searchMatch(t,a)})}return p.default.filter(function(e){return e.canSend&&e.shouldAppearInList})}},{key:"calculateFilteredContacts",value:function(e){var t=e,a=b.default.getFilteredContacts();if(!t)return a;t=S.default.accentFold(e);var n=y.default.numberSearch(t);return a.filter(function(e){return e.searchMatch(t,n)})}},{key:"calculateFilteredData",value:function(e){var t={};return{frequentContacts:this.calculateFrequentContacts(e).map(function(e){var a=e.isGroup||e.isBroadcast?p.default.get(e.id):e;return a&&(t[a.id]=!0),a}).filter(Boolean),chats:this.calculateFilteredChats(e).map(function(e){var a=e.isGroup||e.isBroadcast?e:e.contact;return t[a.id]?null:(t[a.id]=!0,a)}).filter(Boolean),contacts:this.calculateFilteredContacts(e).map(function(e){return t[e.id]?null:e}).filter(Boolean)}}},{key:"_flattenData",value:function(e){var t=e.frequentContacts,a=e.chats,n=e.contacts;return t.concat(a,n)}},{key:"_isEmpty",value:function(){var e=this.state.filteredData,t=e.frequentContacts,a=e.chats,n=e.contacts;return!t.length&&!a.length&&!n.length}},{key:"_getData",value:function(){var e=[],t=this.state.filteredData,a=t.frequentContacts,n=t.chats,i=t.contacts;return a.length&&(e.push({itemKey:P.SEC_FREQUENT_CONTACTS,type:P.SEC_FREQUENT_CONTACTS}),e.push.apply(e,(0,r.default)(a.map(function(e){return{itemKey:e.id.toString(),type:N.ROW_FREQUENT_CONTACTS,data:e}})))),n.length&&(e.push({itemKey:P.SEC_CHATS,type:P.SEC_CHATS}),e.push.apply(e,(0,r.default)(n.map(function(e){return{itemKey:e.id.toString(),type:N.ROW_CHATS,data:e}})))),i.length&&(e.push({itemKey:P.SEC_CONTACTS,type:P.SEC_CONTACTS}),e.push.apply(e,(0,r.default)(i.map(function(e){return{itemKey:e.id.toString(),type:N.ROW_CONTACTS,data:e}})))),e}},{key:"toggleFirst",value:function(e){var t,a=this.state.filteredData,n=a.frequentContacts,i=a.chats,r=a.contacts;if(n.length)t=n[0];else if(i.length)t=i[0];else{if(!r.length)return;t=r[0]}var o=!this.props.selections.isSelected(t);this._handleSelect(t,o,e)}},{key:"focus",value:function(){this._refHotKey&&E.default.focus(this._refHotKey)}},{key:"_onChatClick",value:function(e){var t=this.props.selections.isSelected(e);this._handleSelect(e,!t,!1)}},{key:"_renderList",value:function(){return this._isEmpty()?this.props.searchText?u.createElement(v.Search,null):u.createElement(v.ListChats,null):u.createElement(j.default,{ref:this.setList,flatListController:this.props.flatListController,direction:"vertical",forceConsistentRenderCount:!1,data:this._getData(),renderItem:this._renderItem})}},{key:"render",value:function(){return u.createElement(C.default,{active:this.props.active,onLeave:this.props.onLeaveList,onRef:this._handleRef,onIndexChange:this._handleIndexChange},this._renderList())}}]),t}(u.Component);t.default=I},efjajjbaf:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=n(a("ddhijeejag")),u=i(a("decebhabae")),f=i(a("didcjefefh")),h=i(a("cfigdibdj")),p=i(a("bbchdeehff")),g=i(a("baagejbchg")),m=i(a("biddiiafgd")),b=i(a("bjigbaghc")),v=i(a("dbgdaechch")),j=i(a("bhhdeihhhf")),E=i(a("fifhbjiec")),y=n(a("cajijabhgb")),_=a("cgffhfegce"),S=i(a("cieccfhhib")),C=i(a("bjbdcigbdi")),A=i(a("jheedhagg")),M=i(a("cieaaiahhf")),T=a("bfbggcdbfb"),P=i(a("behbjhhbg")),N=i(a("bfgbdiffgd")),I=i(a("bfdcadbbif")),k=i(a("ecgeiijacj")),O=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).setDocPicker=function(e){return a.docPicker=e},a.setMediaPicker=function(e){return a.mediaPicker=e},a.onDocumentPick=function(e){if(e){e.stopPropagation();var t=null==e.target.files?[]:Array.from(e.target.files);if(a.dismiss(),t.length){var n=t.map(function(e){return{file:e,type:_.FILETYPE.DOCUMENT}});a.canSendDocument()?p.default.attachMediaDrawer({chat:a.props.chat,attachments:n,fileOrigin:T.MEDIA_PICKER_ORIGIN_TYPE.CHAT_PHOTO_LIBRARY}):a.showCantSendDocument()}}else a.dismiss()},a.onMediaPick=function(e){if(e){e.stopPropagation();var t=null==e.target.files?[]:Array.from(e.target.files);a.dismiss(),t.length&&p.default.attachMediaDrawer({chat:a.props.chat,attachments:t.map(function(e){return{file:e}}),fileOrigin:T.MEDIA_PICKER_ORIGIN_TYPE.CHAT_PHOTO_LIBRARY,initCaption:a.props.getComposeContents&&a.props.getComposeContents(),onComplete:function(e,t){a.props.onMenuComplete&&a.props.onMenuComplete(e,t)}})}else a.dismiss()},a.onMediaClick=function(e){if(e.preventDefault(),a.mediaPicker)return a.mediaPicker.open(),!1},a.onDocumentClick=function(e){if(e.preventDefault(),a.canSendDocument()&&a.docPicker)return a.docPicker.open(),!1;a.showCantSendDocument()},a.onContactClick=function(e){e.preventDefault(),p.default.openModal(l.createElement(h.default,{chat:a.props.chat}))},a.onProductCatalogClick=function(e){e.preventDefault(),p.default.openModal(l.createElement(f.default,{chat:a.props.chat}))},a.showCantSendDocument=function(e){var t;if(e instanceof y.InvalidMediaFileType)t=l10n.t(271);else if(e instanceof M.default)t=l10n.t(735,{maxSize:l10n.filesize(N.default.media)});else{var n=a.props.chat;t=n.isUser?l10n.t(269,{contact:n.title()}):l10n.t(270,{group:n.title()})}p.default.openModal(l.createElement(m.default,{key:"doc_cant_send",onOK:function(){return p.default.closeModal()}},l.createElement(E.default,{text:t})))},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"canSendDocument",value:function(){return C.default.supportsFeature(C.default.F.ENC_DOC)}},{key:"canSendProductCatalog",value:function(){return C.default.supportsFeature(C.default.F.PRODUCT_CATALOG_ATTACHMENT)&&b.default.isSMB}},{key:"dismiss",value:function(){var e=this.props.uim;e&&e.uie.requestDismiss()}},{key:"renderAttachDocDropdownItem",value:function(){return C.default.supportsFeature(C.default.F.ENC_DOC)?l.createElement(j.default,{type:"icon",tooltip:l.createElement(k.default,null,l10n.t(188)),a8n:"mi-attach-document",action:this.onDocumentClick},l.createElement("button",{className:u.default.iconsItem,"data-animate-menu-icons-item":!0},l.createElement(I.default,{name:"document"}),l.createElement(S.default,{ref:this.setDocPicker,mimes:P.default.DOC_MIMES,onChange:this.onDocumentPick}))):null}},{key:"renderAttachProductCatalogDropdownItem",value:function(){return this.canSendProductCatalog()?l.createElement(j.default,{type:"icon",tooltip:l.createElement(k.default,null,l10n.t(192)),a8n:"mi-attach-product-catalog",action:this.onProductCatalogClick},l.createElement("button",{className:u.default.iconsItem,"data-animate-menu-icons-item":!0},l.createElement(I.default,{name:"product"}))):null}},{key:"render",value:function(){return l.createElement("div",{className:u.default.attachMenuContainer},l.createElement(I.default,{name:"attach-shadow"}),l.createElement(v.default,{type:"menu",key:"AttachMenuDropdown"},l.createElement(j.default,{type:"icon",tooltip:l.createElement(k.default,null,l10n.t(191)),a8n:"mi-attach-media",action:this.onMediaClick},l.createElement("button",{className:u.default.iconsItem,"data-animate-menu-icons-item":!0},l.createElement(I.default,{name:"image"}),l.createElement(S.default,{ref:this.setMediaPicker,mimes:[g.default.IMAGE_MIMES,g.default.VIDEO_MIMES].join(","),onChange:this.onMediaPick}))),l.createElement(j.default,{type:"icon",tooltip:l.createElement(k.default,null,l10n.t(186)),a8n:"mi-attach-camera",action:this.props.onCaptureClick,disabled:!(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia)},l.createElement("button",{className:u.default.iconsItem,"data-animate-menu-icons-item":!0},l.createElement(I.default,{name:"camera"}))),this.renderAttachDocDropdownItem(),l.createElement(j.default,{type:"icon",tooltip:l.createElement(k.default,null,l10n.t(193)),a8n:"mi-attach-contact",action:this.onContactClick},l.createElement("button",{className:u.default.iconsItem,"data-animate-menu-icons-item":!0},l.createElement(I.default,{name:"contact"}))),this.renderAttachProductCatalogDropdownItem()))}}]),t}(l.Component),R=(0,A.default)(O);t.default=R},egfffcbhi:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=n(a("ddhijeejag")),u=i(a("bbchdeehff")),f=i(a("baagejbchg")),h=i(a("dhigahgdjb")),p=i(a("fffdgbfji")),g=i(a("eceadcicaf")),m=a("bhfdfhefca"),b=i(a("bgcdajbhif")),v=i(a("cdebbfjhbf")),j=i(a("bfdcadbbif")),E=function(e){function t(){var e;(0,r.default)(this,t),(e=(0,s.default)(this,(0,d.default)(t).apply(this,arguments))).onUnreadChange=function(){var t=b.default.getUnexpired(!0).some(function(t){var a=e.lastViewerTimestamps[t.id.toString()],n=!a||t.t>a;return!t.contact.statusMute&&t.unreadCount>0&&n});t!==e.state.hasUnread&&e.setState({hasUnread:t})},e.updateViewerTimestamps=function(){b.default.getUnexpired(!0).forEach(function(t){e.lastViewerTimestamps[t.id.toString()]=t.t})},e.onFlowEnd=function(){e.updateViewerTimestamps(),e.setState({hasUnread:!1})},e.onStatus=function(t){t.preventDefault(),u.default.openModalMedia(l.createElement(v.default,{onFlowEnd:e.onFlowEnd,removeTopDrawer:!1}),{transition:"status-v3-modal"})};var a=b.default.getUnexpired(!0).some(function(e){return e.unreadCount>0&&!e.contact.statusMute});return e.state={hasUnread:a},e.lastViewerTimestamps={},e}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){this.props.listeners.add(b.default,"add remove change:unreadCount change:t",this.onUnreadChange),this.props.listeners.add(h.default,f.default.COLLECTION_HAS_SYNCED,this.onUnreadChange)}},{key:"render",value:function(){var e=this.state.hasUnread?l.createElement(j.default,{name:"status-v3-unread",directional:!0}):l.createElement(j.default,{name:"status-v3"});return l.createElement(m.MenuBarItem,{a8nText:"menu-bar-status",icon:e,title:p.default.t(1311),onClick:this.onStatus})}}]),t}(l.PureComponent);E.CONCERNS={statusV3:["unreadCount"]};var y=(0,g.default)(E);t.default=y},egibbfjcd:function(e,t){e.exports={action:"_3gGZl"}},ehaaiddhe:function(e,t){e.exports={addLabelBtContainer:"_2kvFV"}},ehfgacedb:function(e,t,a){"use strict";var n=a("cfjecfhbfg"),i=n(a("bhabhhjdch")),r=n(a("ddfeabiaci")),o=n(a("dbafiicfja")),s=n(a("begjbhhee")),d=n(a("gcfidijgh")),c=n(a("dgdjiicfdg")),l=n(a("hgjcbccfg")),u=n(a("bjigbaghc")),f=n(a("bdiiahhjbe")),h=a("bffjfbgbg"),p=n(a("cffajefeag")),g=n(a("djafcfdghc")),m=a("hjbbdjjdf"),b=n(a("edbaidcaf")),v=n(a("jccfhaecf")),j=n(a("bgeajihhc"));function E(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function y(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?E(Object(a),!0).forEach(function(t){(0,i.default)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):E(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var _=a("cbebjghfgg"),S={version:"09",BinaryProtocol:null,N:null,M:{DEBUG_LOG:1,QUERY_RESUME:2,QUERY_RECEIPT:3,QUERY_MEDIA:4,QUERY_CHAT:5,QUERY_CONTACTS:6,QUERY_MESSAGES:7,PRESENCE:8,PRESENCE_SUBSCRIBE:9,GROUP:10,READ:11,CHAT:12,RECEIVED:13,PIC:14,STATUS:15,MESSAGE:16,QUERY_ACTIONS:17,BLOCK:18,QUERY_GROUP:19,QUERY_PREVIEW:20,QUERY_EMOJI:21,QUERY_MESSAGE_INFO:22,SPAM:23,QUERY_SEARCH:24,QUERY_IDENTITY:25,QUERY_URL:26,PROFILE:27,CONTACT:28},addContact:function(e){var t=this;return new Promise(function(a,n){var i=t.actionNode("set",[["contacts",{type:"add"},e]]);t.binSend("send",i,n,{clientCacheable:!0,onSend:t.binWrap(a,a),onDrop:t.wrap(n)},{debugString:"action,contact,add",metricName:"CONTACT",ackRequest:!0})})},addParticipants:function(e,t){return this.setGroupParticipants("add",e,t)},changeSubject:function(e,t){var a=this;return new Promise(function(n,i){var r=j.default.tag(),o=a.wrap(n);o.tag=r;var s=["group",{id:r,jid:e,type:"subject",author:u.default.me,subject:t},void 0],d=a.actionNode("set",[s]);a.binSend("send",d,i,{clientCacheable:!0,onSend:o,onDrop:a.wrap(i)},{debugString:"action,group,subject",metricName:"GROUP",ackRequest:!1,expires:(0,c.default)().unix()})})},chatFindQuery:function(e,t){var a=this;return new Promise(function(n,i){var r={type:"chat"};"boolean"==typeof e&&e?r.kind="retry":"string"==typeof e&&(r.jid=e);var o=a.queryNode(r,void 0);a.binSend("sendEphemeral",o,i,{onSend:a.binWrap(function(e){a.BinaryProtocol.read(e).then(function(e){var t=[],i=a.N.children(e);if("response"===a.N.tag(e)&&"chat"===a.N.attr("type",e))if("true"===a.N.attr("duplicate",e))t="preempted";else if(Array.isArray(i)){var r,o=i.length;for(r=0;r<o;r++){var s=a.parseChat(i[r]);s&&t.push(s)}}n(t)}).catch(i)},n),logOnSend:t,onDrop:a.wrap(i)},{debugString:["query","chat",e].join(),metricName:"QUERY_CHAT",ackRequest:!1})})},contactFindQuery:function(e,t){var a=this;return new Promise(function(n,i){var r=a.queryNode({type:"contacts",kind:e?"retry":void 0},void 0);a.binSend("send",r,i,{onSend:a.binWrap(function(e){a.BinaryProtocol.read(e).then(function(e){var t=[],i=a.N.children(e);if("response"===a.N.tag(e)&&"contacts"===a.N.attr("type",e))if("true"===a.N.attr("duplicate",e))t="preempted";else if(Array.isArray(i)){var r,o=i.length;for(r=0;r<o;r++){var s=a.parseContact(i[r]);s&&t.push(s)}}n({checksum:a.N.attr("checksum",e),data:t})}).catch(i)},n),logOnSend:t,onDrop:a.wrap(i)},{debugString:"query,contacts, "+String(e),metricName:"QUERY_CONTACTS",ackRequest:!1})})},createGroup:function(e,t){var a=this;return new Promise(function(n,i){var r=j.default.tag(),o=a.wrap(n);o.tag=r;var s=t.map(function(e){return["participant",{jid:e},void 0]});f.default.log("create group tag",r)();var d=["group",{id:r,type:"create",author:u.default.me,subject:e},s],l=a.actionNode("set",[d]);a.binSend("send",l,i,{clientCacheable:!0,onSend:o,onDrop:a.wrap(i)},{debugString:"action,group,create",metricName:"GROUP",ackRequest:!1,expires:(0,c.default)().unix()})})},deletePicture:function(e){var t=this;return new Promise(function(a,n){var i=j.default.tag(),r=t.wrap(a);r.tag=i;var o=["picture",{id:i,jid:e,type:"delete"},void 0],s=t.actionNode("set",[o]);t.binSend("send",s,n,{clientCacheable:!0,onSend:r,onDrop:t.wrap(n)},{debugString:"action,delete_pic,"+e,metricName:"PIC",ackRequest:!1,expires:(0,c.default)().unix()})})},groupMetadataFindFromPhone:function(e){var t=this;return new Promise(function(a,n){var i=t.queryNode({type:"group",jid:e},[]);t.binSend("sendEphemeral",i,n,{onSend:t.binWrap(function(i){t.BinaryProtocol.read(i).then(function(n){if("response"===t.N.tag(n)&&"group"===t.N.attr("type",n)){var i=t.N.children(n),r=i&&i[0];if(r)if("missing"!==t.N.attr("type")){var o,s=[],d=t.N.children(r);Array.isArray(d)&&d.forEach(function(e){switch(t.N.tag(e)){case"participant":s.push({id:t.N.attr("jid",e),isAdmin:"admin"===t.N.attr("type",e)});break;case"description":o=t.N.dataStr(e)}}),a({status:"ok",data:{id:e,owner:t.N.attr("creator",r),creation:parseInt(t.N.attr("create",r),10)||void 0,participants:s,desc:o}})}else a({status:"missing"});else a({status:"error",info:"bad format: no group node"})}else a({status:"error",info:"bad format: response incorrect"})}).catch(n)},a),onDrop:t.wrap(n)},{debugString:"query,group,"+e,metricName:"QUERY_GROUP",ackRequest:!1})})},leaveGroup:function(e){var t=this;return new Promise(function(a,n){var i=j.default.tag(),r=t.wrap(a);r.tag=i;var o=["group",{id:i,jid:e,type:"leave",author:u.default.me},void 0],s=t.actionNode("set",[o]);t.binSend("send",s,n,{clientCacheable:!0,onSend:r,onDrop:t.wrap(n)},{debugString:"action,group,delete",metricName:"GROUP",ackRequest:!1,expires:(0,c.default)().unix()})})},msgCreateRecord:function(e,t){var a=this;return new Promise(function(n,i){var r,o,s=e.id.id;if("chat"===e.type){var c=[["body",void 0,e.body]];"url"===e.subtype&&c.push(["media",{type:"url",title:e.title,description:e.description,"canonical-url":e.canonicalUrl,"matched-text":e.matchedText,preview:e.richPreviewType,encoding:"raw"},e.thumbnail?l.default.decode(e.thumbnail):void 0]),o=Promise.resolve(["message",{type:"text",to:e.to,id:e.id.id,t:e.t.toString()},c])}else if("location"===e.type)r=e.body?l.default.decode(e.body):void 0,o=Promise.resolve(["message",{type:"media",to:e.to,id:e.id.id,t:e.t.toString()},[["media",{type:"location",latitude:e.lat||void 0,longitude:e.lng||void 0,name:e.loc&&e.clientUrl?e.loc:void 0,url:e.loc&&e.clientUrl?e.clientUrl:void 0,encoding:e.body?"raw":void 0},r]]]);else if("vcard"===e.type){var u=["vcard",{name:e.subtype},e.body];o=Promise.resolve(["message",{type:"media",to:e.to,id:e.id.id,t:e.t.toString()},[["media",{type:"vcard"},[u]]]])}else{var h=e.mediaKey;r=e.body?l.default.decode(e.body):void 0;var p="ptt"===e.type?"audio":e.type,g={};o=(t&&!h?a.sendMedia(e.avparams):Promise.resolve((0,d.default)({status:200,type:p},e.avparams))).then(function(t){if(200===t.status)return Promise.resolve(["message",y({type:"media",to:e.to,id:e.id.id,t:e.t.toString()},g),[["media",{encoding:e.body?"raw":void 0,origin:"ptt"===e.type?"live":void 0,seconds:"ptt"===e.type&&e.duration?e.duration.toString():void 0,type:t.type,mimetype:e.mimetype||t.mimetype||void 0,size:e.size?e.size.toString():void 0,filehash:t.filehash,url:t.url,duration:t.duration?t.duration.toString():void 0,vcodec:t.vcodec||void 0,width:t.width?t.width.toString():void 0,height:t.height?t.height.toString():void 0,fps:t.fps?t.fps.toString():void 0,vbitrate:t.vbitrate?t.vbitrate.toString():void 0,acodec:t.acodec||void 0,asampfreq:t.asampfreq?t.asampfreq.toString():void 0,asampfmt:t.asampfmt||void 0,abitrate:t.abitrate?t.abitrate.toString():void 0,caption:"video"!==e.type&&"image"!==e.type&&"document"!==e.type||!e.caption?void 0:e.caption,page_count:"number"!=typeof e.pageCount||isNaN(e.pageCount)?void 0:e.pageCount.toString(),media_key:h,filename:t.filename},r]]]);var a="wap:msgCreateRecord:sendMedia error ".concat(t.status);return f.default.error(a)(),Promise.reject(a)}).catch(function(){return f.default.error("wap:msgCreateRecord:sendMedia dropped")(),Promise.reject("wap:msgCreateRecord:sendMedia dropped")})}o.then(function(t){var r=a.actionNode("relay",[t]),o=a.wrap(n);o.tag=s,o.meta={type:"message",key:e.id},a.binSend("send",r,i,{onSend:o,onDrop:a.wrap(i)},{debugString:["action","message",e.type,e.subtype].join(),metricName:"MESSAGE",ackRequest:!1})}).catch(function(){f.default.error("wap:msgCreateRecord mPromise error")(),i("wap:msgCreateRecord mPromise error")})})},msgFindQuery:function(e,t,a,n){var i=this,r=e;return new Promise(function(e,o){var s,d="";switch(r){case"after":t.id||(r="before");case"before":s={type:"message",kind:r,jid:t.remote,count:t.count.toString(),index:t.id,owner:void 0===t.fromMe?void 0:t.fromMe.toString(),participant:t.participant},d=[t.toString(),t.count].join();break;case"search":s={type:"search",search:t.searchTerm,page:t.page.toString(),count:t.count.toString(),canceled:t.tagToCancel},d=["search",t.page,t.count].join();break;case"star":s={type:"star",chat:t.chat,count:t.count.toString(),jid:t.remote,index:t.id,owner:void 0===t.fromMe?void 0:t.fromMe.toString(),participant:t.participant},d="starred";break;case"media":s={type:"media_message",count:t.count.toString(),kind:t.direction,jid:t.remote,index:t.id,owner:void 0===t.fromMe?void 0:t.fromMe.toString(),participant:t.participant},d="media"}var c=i.queryNode(s,void 0);i.binSend("sendEphemeral",c,o,{onSend:i.binWrap(function(t){i.BinaryProtocol.read(t).then(function(t){var a=[],n=i.N.children(t);if(f.default.logColor("green","bin-recv: response,msg",t)(),"response"===i.N.tag(t)&&("message"===i.N.attr("type",t)||"star"===i.N.attr("type",t)||"search"===i.N.attr("type",t)||"media_message"===i.N.attr("type",t))){if(Array.isArray(n)){var o,s=n.length;for(o=0;o<s;o++){var d=i.parseMsg(n[o],"response");d&&a.push(d)}}"search"===i.N.attr("type",t)?a={eof:"true"===i.N.attr("last",t),messages:a}:"media"===r&&(a={messages:a})}e(a)}).catch(o)},e),onDrop:i.wrap(o),logOnSend:a,onTag:n,tagToCancel:t.tagToCancel},{debugString:"query,message,"+d,metricName:"search"===r?"QUERY_SEARCH":"QUERY_MESSAGES",ackRequest:!1})})},parseAck:function(e){if("received"===this.N.tag(e)){var t,a=this.N.attr("type",e),n=this.N.attr("id",e),i=this.N.attr("to",e);switch(a){case"message":t=2;break;case"read":t=3;break;case"played":t=4;break;case"error":t=-1;break;case"pending":default:t=0}var r={cmd:"ack",id:n,ack:t,from:u.default.me,to:i},o=[!n,!i,"message"!==a&&"read"!==a&&"played"!==a&&"error"!==a&&"pending"!==a];return this.dropIfConditionMet(o,r)}f.default.assert(!1,"wap-unexpected-tag","expected tag: received, received tag: ".concat(this.N.tag(e),", tag id: ").concat(this.N.attr("id",e)))()},parseBattery:function(e){if("battery"===this.N.tag(e)){var t=Math.min(parseInt(this.N.attr("value",e),10)||-1,100),a=this.N.attr("live",e),n={battery:t<0?void 0:t,plugged:a?"true"===a:void 0},i=[t<0&&!a];return this.dropIfConditionMet(i,n)}f.default.assert(!1,"wap-unexpected-tag","expected tag: battery, received tag: ".concat(this.N.tag(e),", tag id: ").concat(this.N.attr("id",e)))()},parseBCUpdate:function(e){if("broadcast"===this.N.tag(e)&&"modify"===this.N.attr("type",e)){var t=this.N.attr("jid",e),a=this.N.children(e),n=[];if(Array.isArray(a)){var i,r,o,s=a.length;for(i=0;i<s;i++)r=a[i],o=this.N.attr("jid",r),"recipient"===this.N.tag(r)&&o&&v.default.isUser(o)&&n.push({id:o})}var d={id:t,participants:n},c=[!t,!v.default.isBroadcast(t),0===n.length];return this.dropIfConditionMet(c,d)}f.default.assert(!1,"wap-unexpected-tag","expected tag: broadcast, received tag: ".concat(this.N.tag(e),", tag id: ").concat(this.N.attr("id",e)))()},parseChat:function(e){if("chat"===this.N.tag(e)){var t=this.N.attr("kind",e),a=this.N.attr("type",e),n=this.N.attr("jid",e),i=parseInt(this.N.attr("t",e),10)||void 0,r=parseInt(this.N.attr("mute",e),10),o=parseInt(this.N.attr("before",e),10)||void 0,s="true"===this.N.attr("archive",e),d="true"===this.N.attr("read_only",e),c=parseInt(this.N.attr("modify_tag",e),10)||void 0,l=this.N.attr("name",e)||void 0,u=this.safeParseInt(e,"count"),h="true"===this.N.attr("message",e),p="true"===this.N.attr("star",e),g="false"===this.N.attr("spam",e),m=parseInt(this.N.attr("pin",e),10)||0,b=this.N.attr("old_jid",e),j=this.N.attr("new_jid",e),E=parseInt(this.N.attr("ephemeral",e))||void 0,y=parseInt(this.N.attr("eph_setting_ts",e))||void 0;switch(t){case"text":case"image":case"video":case"gif":case"audio":case"ptt":case"document":case"location":case"vcard":case"url":case"sticker":break;default:t=void 0}"ahead"===a&&(a="clear");var _,S,C=this.N.children(e);if(Array.isArray(C)){var A,M;_=[],S=[];var T=C.length;for(A=0;A<T;A++)if(M=C[A],"item"===this.N.tag(M)){var P=this.N.attr("index",M);P&&_.push([P,"true"===this.N.attr("owner",M),this.N.attr("participant",M)])}else if("label"===this.N.tag(M)){var N=this.N.attr("id",M);N&&S.push(N)}else{var I=this.parseMsgMessage(M,"response");I&&_.push(I)}}var k={id:n,t:i,type:a,kind:t,keys:_,before:o,archive:s,isReadOnly:d,unreadCount:u,muteExpiration:isNaN(r)?void 0:r,modifyTag:c,name:l,pendingMsgs:h,star:p,notSpam:g,pin:m,changeNumberOldJid:b,changeNumberNewJid:j,ephemeralDuration:v.default.isUser(n)?E:void 0,ephemeralSettingTimestamp:v.default.isUser(n)?y:void 0,labels:S};this.pruneUndefinedProps(k);var O=[a&&"delete"!==a&&"clear"!==a&&"archive"!==a&&"unarchive"!==a&&"mute"!==a&&"star"!==a&&"unstar"!==a&&"spam"!==a&&"modify_tag"!==a&&"pin"!==a&&"modify"!==a,!a&&!n,s&&a&&"clear"!==a,"clear"!==a&&o&&o>0,"clear"!==a&&"star"!==a&&"unstar"!==a&&_&&_.length>0];return this.dropIfConditionMet(O,k)}f.default.assert(!1,"wap-unexpected-tag","expected tag: chat, received tag: ".concat(this.N.tag(e),", tag id: ").concat(this.N.attr("id",e)))()},parseMsg:function(e,t){switch(this.N.tag(e)){case"message":return this.parseMsgMessage(e,t);case"groups_v2":return this.parseMsgGp2(e);case"broadcast":return this.parseMsgBroadcast(e);case"notification":return this.parseMsgNotification(e);case"call_log":return this.parseMsgCallLog(e);case"security":return this.parseMsgSecurity(e);default:return void f.default.assert(!1,"wap-unknown-tag","received tag: ".concat(this.N.tag(e),", tag id: ").concat(this.N.attr("id",e)))()}},parseMsgBroadcast:function(e){if("broadcast"===this.N.tag(e)){var t,a,n,i=this.N.attr("type",e),r=this.N.attr("id",e),o=parseInt(this.N.attr("t",e),10)||0,s=this.N.attr("jid",e),d="true"===this.N.attr("owner",e),c=this.N.attr("participant",e);switch(i){case"create":t=""+(parseInt(this.N.attr("count",e),10)||0);break;case"add":case"remove":(a=this.N.child("participant",e))&&(t=this.N.attr("jid",a))}try{n=new p.default({fromMe:d,remote:s,id:r,participant:c})}catch(e){return void f.default.error("drop: cannot create MsgKey: "+e.stack)()}var l={id:n,t:o,participant:c,type:"broadcast_notification",subtype:i,from:d?u.default.me:s,to:d?s:u.default.me,body:t||void 0},h=[!r,!o,!s,!v.default.isBroadcast(s),"create"!==i&&"add"!==i&&"remove"!==i,("add"===i||"remove"===i)&&!v.default.isWid(t)];return this.dropIfConditionMet(h,l)}f.default.assert(!1,"wap-unexpected-tag","expected tag: broadcast, received tag: ".concat(this.N.tag(e),", tag id: ").concat(this.N.attr("id",e)))()},parseMsgCallLog:function(e){if("call_log"===this.N.tag(e)){var t,a=parseInt(this.N.attr("t",e),10)||0,n=this.N.attr("id",e),i=this.N.attr("jid",e),r="true"===this.N.attr("owner",e),o=this.N.attr("participant",e),s=this.N.attr("type",e);s;try{t=new p.default({fromMe:r,remote:i,id:n,participant:o})}catch(e){return void f.default.error("drop: cannot create MsgKey: "+e.stack)()}var d={id:t,t:a,participant:o,type:"call_log",subtype:s,from:r?u.default.me:i,to:r?i:u.default.me},c=[!n,!a,!i,"miss"!==s];return this.dropIfConditionMet(c,d)}},parseMsgGp2:function(e){if("groups_v2"===this.N.tag(e)){var t,a,n=parseInt(this.N.attr("t",e),10)||0,i=this.N.attr("id",e),r=this.N.attr("jid",e),o="invis"===this.N.attr("web",e),s="true"===this.N.attr("owner",e),d=this.N.attr("type",e),c=this.N.attr("author",e),l=this.N.children(e),h=this.N.attr("participant",e),g=[];switch(d){case"create":case"subject":t=this.N.attr("subject",e);break;case"picture":t=this.N.attr("picture",e)}if(Array.isArray(l)){var m,b=l.length;for(m=0;m<b;m++){var j=l[m],E=this.N.attr("jid",j);"participant"===this.N.tag(j)&&E&&g.push(E)}}try{a=new p.default({fromMe:s,remote:r,id:i,participant:h})}catch(e){return void f.default.error("drop: cannot create MsgKey: "+e.stack)()}var y={t:n,id:a,from:s?u.default.me:r,to:s?r:u.default.me,author:c,participant:h,body:t?t.toString():void 0,type:"gp2",subtype:d,invis:o,recipients:g},_=[!i,!n,"subject"!==d&&"add"!==d&&"invite"!==d&&"remove"!==d&&"leave"!==d&&"picture"!==d&&"modify"!==d&&"create"!==d&&"delete"!==d&&"promote"!==d&&"demote"!==d&&"revoke_invite"!==d,"subject"===d&&!t,("add"===d||"invite"===d||"remove"===d||"leave"===d||"promote"===d||"demote"===d||"modify"===d)&&0===g.length,!r,!v.default.isGroup(r)];return this.dropIfConditionMet(_,y)}f.default.assert(!1,"wap-unexpected-tag","expected tag: groups_v2, received tag: ".concat(this.N.tag(e),", tag id: ").concat(this.N.attr("id",e)))()},parseMsgMessage:function(e,t){if("message"===this.N.tag(e)){var a;u.default.me.equals(this.N.attr("from",e))&&!this.N.attr("to",e)?a="in":u.default.me.equals(this.N.attr("to",e))&&!this.N.attr("from",e)&&(a="out");var n,i=this.N.attr("id",e),r=parseInt(this.N.attr("t",e),10)||0,o=this.N.attr("to",e)||u.default.me,s=this.N.attr("from",e)||u.default.me,c=v.default.isBroadcast(s),l=this.N.attr("participant",e),g=c?l:s,b=c?void 0:l,j=!c&&(this.N.child("broadcast",e)&&u.default.me.equals(s)),E="invis"===this.N.attr("web",e),y=this.N.attr("notify",e)||"",_=parseInt(this.N.attr("status",e))||0,S=[],C=this.N.child("broadcast",e),A="true"===this.N.attr("star",e);if("broadcast"!==o){var M;try{M=new p.default({from:g,to:o,id:i,participant:l,selfDir:a})}catch(e){return void f.default.error("drop: cannot create MsgKey: "+e.stack)()}switch(t){case"fresh":n=1;break;default:n=_>=-1&&_<=4?_:1}if(Array.isArray(C)){var T,P=C.length;for(T=0;T<P;T++){var N=C[T],I=this.N.attr("jid",N);"to"===this.N.tag(N)&&I&&S.push(I)}}var k,O=[],R=this.N.attr("type",e);switch(R){case"ciphertext":case"unknown":k={id:M,type:R,t:r,notifyName:y,from:g,to:o,self:a,author:b,participant:l,invis:E,ack:n,broadcast:j,recipients:S,star:A},O=[!i,!r,!g,!o];break;case"text":k={id:M,body:this.N.dataStr(this.N.child("body",e))||"",type:"chat",t:r,notifyName:y,from:g,to:o,self:a,author:b,participant:l,invis:E,ack:n,broadcast:j,recipients:S,star:A};var w=this.N.child("media",e);w&&"url"===this.N.attr("type",w)&&(0,d.default)(k,{subtype:"url",title:this.N.attr("title",w),description:this.N.attr("description",w),canonicalUrl:this.N.attr("canonical-url",w),matchedText:this.N.attr("matched-text",w),thumbnail:this.thumbFromMediaXml(w),richPreviewType:this.N.attr("preview",w),doNotPlayInline:"true"===this.N.attr("do-not-play-inline",w)}),O=[!i,!r,!g,!o];break;case"media":var D,L,U,G,x,F=this.N.child("media",e),B=this.N.attr("type",F),V=this.N.attr("media_key",F),H=this.N.attr("mimetype",F);if("retry"===this.N.attr("reason",F))return;switch(B){case"image":case"video":case"document":var W=parseInt(this.N.attr("page_count",F),10)||0,Y=(0,h.cleanIncomingFilename)(this.N.attr("filename",F));x=(0,h.cleanIncomingFilename)(this.N.attr("caption",F)),D=this.thumbFromMediaXml(F),L=this.N.attr("url",F),L=(0,m.isString)(L)&&L.indexOf("/u/")>0?void 0:L,U=this.N.attr("filehash",F),G=parseInt(this.N.attr("size",F),10)||0,k={id:M,body:D,type:B,t:r,notifyName:y,from:g,to:o,self:a,author:b,participant:l,invis:E,ack:n,clientUrl:L,duration:this.N.attr("seconds",F),broadcast:j,recipients:S,filehash:U,size:G,caption:x,mediaKey:V,star:A,pageCount:W,mimetype:H,filename:Y},O=[!i,!r,!g,!o];break;case"location":var $=this.N.attr("latitude",F),K=this.N.attr("longitude",F),q=this.N.attr("name",F);k={id:M,body:D=this.thumbFromMediaXml(F),type:B,t:r,notifyName:y,from:g,to:o,self:a,author:b,participant:l,invis:E,ack:n,clientUrl:L=this.N.attr("url",F),loc:q,lat:$,lng:K,broadcast:j,recipients:S,star:A},O=[!i,!r,!g,!o,!$||!K];break;case"audio":var z="live"===this.N.attr("origin",F)?"ptt":B;L=this.N.attr("url",F),L=(0,m.isString)(L)&&L.indexOf("/u/")>0?void 0:L,U=this.N.attr("filehash",F),G=parseInt(this.N.attr("size",F),10)||0,k={id:M,type:z,t:r,notifyName:y,from:g,to:o,self:a,author:b,participant:l,invis:E,ack:n,clientUrl:L,duration:this.N.attr("seconds",F),broadcast:j,recipients:S,filehash:U,size:G,star:A,mediaKey:V,mimetype:H},O=[!i,!r,!g,!o];break;case"vcard":var Q=this.N.child("vcard",F),J=this.N.dataStr(Q),Z=this.N.attr("name",Q);k={id:M,body:J,type:B,subtype:Z,t:r,notifyName:y,from:g,to:o,self:a,author:b,participant:l,invis:E,ack:n,broadcast:j,recipients:S,star:A},O=[!i,!r,!g,!o,!J,!Z];break;default:f.default.error("wap:parseMsgMessage unknown media type: "+this.N.toString(e),e)()}break;default:f.default.error("wap:parseMsgMessage unknown message type: "+this.N.toString(e),e)()}return this.dropIfConditionMet(O,k)}}else f.default.assert(!1,"wap-unexpected-tag","expected tag: message, received tag: ".concat(this.N.tag(e),", tag id: ").concat(this.N.attr("id",e)))()},parseMsgNotification:function(e){if("notification"===this.N.tag(e)){var t,a=this.N.attr("id",e),n=parseInt(this.N.attr("t",e),10)||0,i=this.N.attr("jid",e),r=this.N.attr("participant",e),o="invis"===this.N.attr("web",e),s=this.N.dataStr(e),d="true"===this.N.attr("owner",e);try{t=new p.default({fromMe:d,remote:i,id:a,participant:r})}catch(e){return void f.default.error("drop: cannot create MsgKey: "+e.stack)()}var c={id:t,type:"notification",t:n,invis:o,from:d?u.default.me:i,to:d?i:u.default.me,participant:r,body:s},l=[!a,!n,!i];return this.dropIfConditionMet(l,c)}f.default.assert(!1,"wap-unexpected-tag","expected tag: notification, received tag: ".concat(this.N.tag(e),", tag id: ").concat(this.N.attr("id",e)))()},parseMsgSecurity:function(e){if("security"===this.N.tag(e)){var t,a,n=parseInt(this.N.attr("t",e),10)||0,i=this.N.attr("id",e),r=this.N.attr("jid",e),o="true"===this.N.attr("owner",e),s=this.N.attr("participant",e),d=this.N.attr("type",e);switch(d){case"identity":var c=this.N.child("participant",e);c&&(t=this.N.attr("jid",c))}try{a=new p.default({fromMe:o,remote:r,id:i,participant:s})}catch(e){return void f.default.error("drop: cannot create MsgKey: "+e.stack)()}var l={id:a,t:n,participant:s,type:"e2e_notification",subtype:d,from:o?u.default.me:r,to:o?r:u.default.me,body:t},h=[!i,!n,!r,"identity"!==d&&"encrypt"!==d,"identity"===d&&!t];return this.dropIfConditionMet(h,l)}},parseCmd:function(e){switch(this.N.tag(e)){case"read":var t=this.N.attr("jid",e),a={type:"false"===this.N.attr("type",e)?"unread":"read",jid:t},n=[!t];return this.dropIfConditionMet(n,a);case"identity":var i=this.parseIdentity(e);return i?(i.type="identity",i):void 0;default:return}},parseContact:function(e){if("user"===this.N.tag(e)){var t=this.N.attr("jid",e),a=this.N.attr("name",e),n=this.N.attr("short",e)||void 0,i=this.N.attr("type",e)||"in",r={id:t,name:a,type:i,shortName:n},o=[!t,"in"!==i&&"out"!==i&&!!i];return this.dropIfConditionMet(o,r)}f.default.assert(!1,"wap-unexpected-tag","expected tag: user, received tag: ".concat(this.N.tag(e),", tag id: ").concat(this.N.attr("id",e)))()},parseIdentity:function(e){var t=this.N.child("raw",e),a=this.N.child("text",e);if(t&&a&&this.N.children(t)instanceof ArrayBuffer&&this.N.dataStr(a))return{jid:this.N.attr("jid",e),binary:this.N.children(t),string:this.N.dataStr(a)}},profilePicFindThumbFromPhone:function(e,t,a){var n=this;return new Promise(function(i,r){var o={type:"preview",jid:e};t&&t.tag&&t.raw&&(o.id=t.tag),a&&(o.kind="status");var s=n.queryNode(o,[]);n.binSend("sendEphemeral",s,r,{onSend:n.binWrap(function(a){n.BinaryProtocol.read(a).then(function(a){"response"===n.N.tag(a)&&"preview"===n.N.attr("type",a)||r("Not response or preview");var o=n.N.children(a),s=o&&o[0];if(s||r("Missing preview node"),"missing"===n.N.attr("type",s))i({id:e,tag:void 0,raw:void 0});else{var d,c=n.N.attr("id",s);if(t&&c===t.tag&&t.raw)d=t.raw;else{var u=n.N.children(s);d=u?l.default.encode(u):void 0}i({id:e,tag:c,raw:d})}}).catch(r)},i),onDrop:n.wrap(r)},{debugString:"query,thumb,"+e,metricName:"QUERY_PREVIEW",ackRequest:!1})})},promoteParticipants:function(e,t){return this.setGroupParticipants("promote",e,t)},queryIdentity:function(e){var t=this;return new Promise(function(a,n){var i=t.queryNode({type:"identity",jid:e},void 0);t.binSend("sendEphemeral",i,n,{onSend:t.binWrap(function(e){t.BinaryProtocol.read(e).then(function(e){var n=void 0;f.default.logColor("green","bin-recv: response,identity",e)(),"response"===t.N.tag(e)&&"identity"===t.N.attr("type",e)&&(n=t.parseIdentity(e)),a(n)}).catch(n)},a),onDrop:t.wrap(n)},{debugString:"query,identity,".concat(e),metricName:"QUERY_IDENTITY",ackRequest:!1})})},queryLinkPreview:function(e){var t=this;return new Promise(function(a,n){var i=t.queryNode({type:"url",url:e},void 0);t.binSend("sendEphemeral",i,n,{onSend:t.binWrap(function(e){t.BinaryProtocol.read(e).then(function(e){var n=void 0;if(f.default.logColor("green","bin-recv: response,url",e)(),"response"===t.N.tag(e)&&"url"===t.N.attr("type",e)){var i=t.N.children(e);n={title:t.N.attr("title",e),description:t.N.attr("description",e),canonicalUrl:t.N.attr("canonical-url",e),matchedText:t.N.attr("matched-text",e),preview:t.N.attr("preview",e),thumbnail:i?l.default.encode(i):void 0,doNotPlayInline:"true"===t.N.attr("do-not-play-inline",e)}}a(n)}).catch(n)},a),onDrop:t.wrap(n)},{debugString:"query,url",metricName:"QUERY_URL",ackRequest:!1})})},queryMsgInfo:function(e){var t=this,a=function(e){var a,n,i=[];if(Array.isArray(e)){a=e.length;for(var r=0;r<a;r++)n=e[r],"item"===t.N.tag(n)&&t.N.attr("jid",n)&&t.N.attr("t",n)&&i.push({id:t.N.attr("jid",n),t:parseInt(t.N.attr("t",n),10)||0})}return i};return new Promise(function(n,i){var r=t.queryNode({type:"message_info",index:e.id,jid:e.remote},void 0);t.binSend("sendEphemeral",r,i,{onSend:t.binWrap(function(e){t.BinaryProtocol.read(e).then(function(e){var i={played:[],playedRemaining:0,read:[],readRemaining:0,delivery:[],deliveryRemaining:0};if(f.default.logColor("green","bin-recv: response,msg,info",e)(),"response"===t.N.tag(e)&&"message_info"===t.N.attr("type",e)){var r=t.N.child("played",e),o=t.N.child("read",e),s=t.N.child("delivery",e),d=t.N.children(r),c=t.N.children(o),l=t.N.children(s),u=parseInt(t.N.attr("count",e),10)||0;i.played=a(d),i.read=a(c),i.delivery=a(l);var h=u-i.played.length,p=u-i.played.length-i.read.length,g=u-i.played.length-i.read.length-i.delivery.length;i.playedRemaining=h<0?0:h,i.readRemaining=p<0?0:p,i.deliveryRemaining=g<0?0:g}n(i)}).catch(i)},n),onDrop:t.wrap(i)},{debugString:["query,msg,info",e.id,e.remote,e.fromMe].join(),metricName:"QUERY_MESSAGE_INFO",ackRequest:!1})})},queryReceivedActions:function(e){var t=this;return new Promise(function(a,n){var i=e.map(function(e){return["item",{id:e},void 0]}),r=t.queryNode({type:"action"},i);t.binSend("sendEphemeral",r,n,{onSend:t.binWrap(function(e){t.BinaryProtocol.read(e).then(function(e){var n=[],i=t.N.children(e);if(f.default.logColor("green","bin-recv: response,actions",e)(),"response"===t.N.tag(e)&&"action"===t.N.attr("type",e))if(Array.isArray(i)){var r,o=i.length;for(r=0;r<o;r++){var s=i[r],d=t.N.attr("id",s),c=parseInt(t.N.attr("code",s),10)||0;"item"===t.N.tag(s)&&d&&0!==c&&n.push({id:d,code:c})}}else"true"===t.N.attr("replaced",e)&&(n="replaced");a(n)}).catch(n)},a),onDrop:t.wrap(n),serverCacheable:!0},{debugString:"query,actions",metricName:"QUERY_ACTIONS",ackRequest:!1})})},recentEmojiQuery:function(e){var t=this;return new Promise(function(a,n){var i=Array.isArray(e)?e.map(function(e){return["item",{code:e.id,value:e.weight.toString()},void 0]}):void 0,r=t.queryNode({type:"emoji"},i);t.binSend("sendEphemeral",r,n,{onSend:t.binWrap(function(e){t.BinaryProtocol.read(e).then(function(e){var n=[],i=t.N.children(e);if(f.default.logColor("green","bin-recv: response,emoji",e)(),"response"===t.N.tag(e)&&"emoji"===t.N.attr("type",e)&&Array.isArray(i)){var r,o=i.length;for(r=0;r<o;r++){var s=i[r],d=t.N.attr("code",s),c=parseFloat(t.N.attr("value",s))||0;"item"===t.N.tag(s)&&d&&c&&!isNaN(c)&&n.push({id:d,weight:c})}}a(n)}).catch(n)},a),onDrop:t.wrap(n)},{debugString:"query,emoji",metricName:"QUERY_EMOJI",ackRequest:!1})})},removeParticipants:function(e,t){return this.setGroupParticipants("remove",e,t)},requestMediaReupload:function(e){var t=this;return new Promise(function(a,n){var i=e.id,r=t.queryNode({type:"media",index:i.id,jid:i.remote,owner:i.fromMe.toString(),participant:i.participant},void 0);t.binSend("sendEphemeral",r,n,{onSend:t.binWrap(function(e){t.BinaryProtocol.read(e).then(function(e){var n;if(f.default.logColor("green","bin-recv: response,media",e)(),"response"===t.N.tag(e)&&"media"===t.N.attr("type",e)){var i=parseInt(t.N.attr("code",e))||400,r=t.N.attr("url",e);i>=500&&502!==i?(f.default.error("wap:requestMediaReupload:error "+i)(),n={status:i}):200===i&&r?n={status:200,url:r,mediaKey:t.N.attr("media_key",e)}:200!==i||r?(f.default.error("wap:requestMediaReupload:error "+i)(),n={status:i}):n={status:400}}else f.default.error("wap:requestMediaReupload:malformed")(),n={status:400};a(n)}).catch(n)},a),onDrop:t.wrap(n)},{debugString:"query,media",metricName:"QUERY_MEDIA",ackRequest:!1})})},resyncMessages:function(e){var t=this;return new g.default(function(a,n){var i=e.map(function(e){var t={jid:e.wid,index:e.id,owner:e.fromMe,participant:e.participant,archive:(!!e.archive).toString(),spam:(!e.notSpam).toString(),old_jid:e.changeNumberOldJid,new_jid:e.changeNumberNewJid};return e.mute&&(t.mute=e.mute.toString()),v.default.isUser(e.wid)&&e.ephemeralDuration&&(t.ephemeral=e.ephemeralDuration.toString()),v.default.isUser(e.wid)&&null!=e.ephemeralSettingTimestamp&&(t.eph_setting_ts=e.ephemeralSettingTimestamp.toString()),e.active&&(t.active="true"),v.default.isGroup(e.wid)&&(t.read_only=(!!e.isReadOnly).toString()),e.modifyTag&&(t.modify_tag=e.modifyTag.toString()),e.unreadCount&&(t.count=e.unreadCount.toString()),e.pin&&(t.pin=e.pin.toString()),["last",t,void 0]}),r=t.queryNode({type:"resume"},i);t.binSend("sendEphemeral",r,n,{onSend:t.binWrap(function(e){t.BinaryProtocol.read(e).then(function(e){var n=[],i=t.N.children(e);if(f.default.logColor("green","bin-recv: response,resume",e)(),"response"===t.N.tag(e)&&"resume"===t.N.attr("type",e)&&Array.isArray(i)){var r,o=i.length;for(r=0;r<o;r++){var s=t.parseChat(i[r]);s&&n.push(s)}}a({checksum:t.N.attr("checksum",e),statusChecksum:t.N.attr("status",e),labelsChecksum:t.N.attr("label",e),quickRepliesChecksum:t.N.attr("quick_reply",e),stickerPackChecksum:t.N.attr("sticker_pack",e),recentStickersChecksum:t.N.attr("recent_stickers",e),starredStickersChecksum:t.N.attr("starred_stickers",e),data:n})}).catch(n)},a),onDrop:t.wrap(n),serverCacheable:!0},{debugString:"query,resume",metricName:"QUERY_RESUME",ackRequest:!1})})},resyncReceipts:function(e){var t=this;return new Promise(function(a,n){var i=e.map(function(e){return["last",{jid:e.remote,index:e.id,owner:e.fromMe.toString(),participant:e.participant,t:e.t.toString(),pay_t:e.payT&&e.payT.toString()},void 0]}),r=t.queryNode({type:"receipt"},i);t.binSend("sendEphemeral",r,n,{onSend:t.binWrap(function(e){t.BinaryProtocol.read(e).then(function(e){var n=[],i=t.N.children(e);if(f.default.logColor("green","bin-recv: response,receipt",e)(),"response"===t.N.tag(e)&&"receipt"===t.N.attr("type",e)&&Array.isArray(i)){var r,o,s,d=i.length;for(r=0;r<d;r++){o=i[r],s=t.N.children(o);var c=t.N.attr("jid",o),l=t.N.attr("t",o),u=t.N.attr("pay_t",o);if("receipt"===t.N.tag(o)&&c&&(l||u)&&Array.isArray(s)){var h=void 0,p=[],g=[],m=s.length;for(h=0;h<m;h++){var b=s[h];if("item"===t.N.tag(b)){var v=t.N.attr("index",b),j="true"===t.N.attr("owner",b),E=parseInt(t.N.attr("status",b),10)||0,y=t.N.attr("participant",b),_=parseInt(t.N.attr("t",b),10)||void 0;v&&0!==E&&E<=4&&p.push({id:v,fromMe:j,participant:y,status:E,t:_})}else if("message"===t.N.tag(b)){var S=t.parseMsgMessage(b);S&&g.push(S)}}p.length>0&&n.push({id:c,t:l&&parseInt(l,10),payT:u&&parseInt(u,10),acks:p,msgs:g})}}}a(n)}).catch(n)},a),onDrop:t.wrap(n),serverCacheable:!0},{debugString:"query,receipt",metricName:"QUERY_RECEIPT",ackRequest:!1})})},sendChatstateUpdate:function(e,t){var a=this;if(["composing","paused","recording"].includes(e))return new Promise(function(n,i){var r=n,o=a.actionNode("set",[["presence",{type:e,to:t},void 0]],!0);a.binSend("sendEphemeralIgnore",o,i,{onSend:r,onDrop:i,epochIneligible:!0},{debugString:"action,chatstate,"+e,metricName:"PRESENCE",skipOffline:!0,ackRequest:!1})})},sendConversationArchive:function(e,t,a){return this.sendConversationOpWithKey(t?"archive":"unarchive",e,a)},sendConversationClear:function(e,t,a){return this.sendConversationOpWithKey("clear",e,t,a)},sendConversationDelete:function(e,t){return this.sendConversationOpWithKey("delete",e,t)},sendConversationMute:function(e,t,a){var n=this;return new Promise(function(i,r){var o=t?t.toString():void 0,s=a?a.toString():void 0,d=n.actionNode("set",[["chat",{type:"mute",mute:o,previous:s,jid:e},void 0]]);n.binSend("send",d,r,{clientCacheable:!0,onSend:n.wrap(i),onDrop:n.wrap(r)},{debugString:"action,chat,"+e+", "+(o?"mute,"+o:"unmute"),metricName:"CHAT",ackRequest:!0})})},sendConversationNotSpam:function(e){return this.sendConversationOpWithKey("spam",e,void 0,!1)},sendConversationOpWithKey:function(e,t,a,n){var i=this;return new Promise(function(r,o){var s,d;switch(e){case"clear":s=(!!n).toString();break;case"spam":d=(!!n).toString()}var c=i.actionNode("set",[["chat",{type:e,jid:t,index:a?a.id:void 0,owner:a?a.fromMe.toString():void 0,participant:a?a.participant:void 0,star:void 0!==s?s:void 0,spam:void 0!==d?d:void 0},void 0]]);i.binSend("send",c,o,{clientCacheable:!0,onSend:i.wrap(r),onDrop:i.wrap(o)},{debugString:"action,chat,"+[e,a,n].join(),metricName:"CHAT",ackRequest:!0})})},sendConversationSeen:function(e,t,a){var n=this;return new Promise(function(i,r){var o=n.actionNode("set",[["read",{jid:e,index:t?t.id:void 0,owner:t?t.fromMe.toString():void 0,participant:t?t.participant:void 0,count:a&&t?a.toString():void 0},void 0]]);n.binSend("send",o,r,{clientCacheable:!0,onSend:n.wrap(i),onDrop:n.wrap(r)},{debugString:"action,chat,read,"+JSON.stringify(t)+","+a,metricName:"READ",ackRequest:!0})})},sendConversationUnseen:function(e,t){return this.sendConversationSeen(e,t,-2)},sendMedia:function(e){var t=this;return new Promise(function(a,n){var i=(0,s.default)(e);j.default.send({data:["query","sendMedia",i.url],onSend:t.wrap02(function(e){a((0,d.default)(i,e))}),onDrop:n})})},sendMessageDelete:function(e,t,a){var n=this;return new Promise(function(i,r){var o=t.map(function(e){return["item",{index:e.id,owner:e.fromMe.toString(),participant:e.participant},void 0]}),s=n.actionNode("set",[["chat",{type:"clear",jid:e,media:a.toString()},o]]);n.binSend("send",s,r,{clientCacheable:!0,onSend:n.wrap(i),onDrop:n.wrap(r)},{debugString:"action,msgs,delete,"+[e,a,t.length].join(),metricName:"CHAT",ackRequest:!0})})},sendMessagePlayed:function(e){var t=this;return new Promise(function(a,n){var i=t.wrap(a),r=t.actionNode("set",[["received",{type:"played",index:e.id,from:e.remote,participant:e.participant},void 0]]);t.binSend("send",r,n,{onSend:i,onDrop:t.wrap(n)},{debugString:"action,played,"+e.toString(),metricName:"RECEIVED",ackRequest:!0})})},sendMessageStarred:function(e,t,a){var n=this;return new Promise(function(i,r){var o=t.map(function(e){return["item",{index:e.id,owner:e.fromMe.toString(),participant:e.participant},void 0]}),s=n.actionNode("set",[["chat",{type:a?"star":"unstar",jid:e},o]]);n.binSend("send",s,r,{clientCacheable:!0,onSend:n.wrap(i),onDrop:n.wrap(r)},{debugString:"action,msgs,star,"+[e,a,t.length].join(),metrics:"CHAT",ackRequest:!0})})},sendPresenceUpdate:function(e){var t=this;if(["available","unavailable"].includes(e))return new Promise(function(a,n){var i="available"===e,r=t.actionNode("set",[["presence",{type:e},void 0]],!i),o=i?"sendEphemeral":"sendEphemeralIgnore";t.binSend(o,r,n,{onSend:i?t.wrap(a):a,onDrop:i?t.wrap(n):a,epochIneligible:!i},{debugString:"action,presence,"+e,metricName:"PRESENCE",available:"available"===e,ackRequest:i})})},sendSetBlock:function(e,t){var a=this;return new Promise(function(n,i){var r=t.map(function(e){return["user",{jid:e.jid},void 0]}),s=["block",{type:e?"add":"remove"},r],d=a.actionNode("set",[s]);a.binSend("send",d,i,{clientCacheable:!0,onSend:a.wrap(n),onDrop:a.wrap(i)},{debugString:"action,block,"+e+","+(0,o.default)(t,"jid").join(","),metricName:"BLOCK",ackRequest:!1,expires:(0,c.default)().unix()})})},sendSetPicture:function(e,t,a){var n=this;return new Promise(function(i,r){var o=b.default.parseDataURL(t).data,s=b.default.parseDataURL(a).data,d=l.default.decode(o),u=l.default.decode(s),f=j.default.tag(),h=n.wrap(i);h.tag=f;var p=["picture",{id:f,jid:e,type:"set"},[["image",void 0,u],["preview",void 0,d]]],g=n.actionNode("set",[p]);n.binSend("send",g,r,{clientCacheable:!0,onSend:h,onDrop:n.wrap(r)},{debugString:"action,set_pic,"+e,metricName:"PIC",ackRequest:!1,expires:(0,c.default)().unix()})})},sendSetStatus:function(e){var t=this;return new Promise(function(a,n){var i=t.wrap(a),r=t.actionNode("set",[["status",void 0,e]]);t.binSend("send",r,n,{clientCacheable:!0,onSend:i,onDrop:t.wrap(n)},{debugString:"action,status,set",metricName:"STATUS",ackRequest:!1,expires:(0,c.default)().unix()})})},sendSpamReport:function(e){var t=this;return new Promise(function(a,n){var i=t.actionNode("set",[["spam",{jid:e},void 0]]);t.binSend("send",i,n,{onSend:t.wrap(a),onDrop:t.wrap(n)},{debugString:"action,spam,"+e,metricName:"SPAM",ackRequest:!1,expires:(0,c.default)().unix()})})},sendUnstarAll:function(e){var t=this;return new Promise(function(a,n){var i=t.actionNode("set",[["chat",{type:"unstar",jid:e||void 0},void 0]]);t.binSend("send",i,n,{clientCacheable:!0,onSend:t.binWrap(a,a),onDrop:t.wrap(n)},{debugString:"action,unstar,all,"+e,metrics:"CHAT",ackRequest:!0,expires:(0,c.default)().unix()})})},setGroupParticipants:function(e,t,a){var n=this;return new Promise(function(i,r){var o=j.default.tag(),s=n.wrap(i),d=a.map(function(e){return["participant",{jid:e},void 0]}),l=["group",{id:o,jid:t,type:e,author:u.default.me},d],f=n.actionNode("set",[l]);n.binSend("send",f,r,{tag:o,clientCacheable:!0,onSend:s,onDrop:n.wrap(r)},{debugString:["action,group,participant",e,t].concat(a).join(),metricName:"GROUP",ackRequest:!1,expires:(0,c.default)().unix()})})},setPushname:function(e){var t=this;return new Promise(function(a,n){var i=t.actionNode("set",[["profile",{name:e},void 0]]);t.binSend("send",i,n,{onSend:t.binWrap(a,a),onDrop:t.wrap(n)},{debugString:"action,pushname",metricName:"PROFILE",ackRequest:!1})})}};e.exports=(0,r.default)(S,_)},ehjcaiibe:function(e,t){e.exports={"-total-search-height":"62px",totalSearchHeight:"62px","-scrollbar-width":"6px",scrollbarWidth:"6px","-windows-scrollbar-width":"8px",windowsScrollbarWidth:"8px","-section-bottom-margin":"12px",sectionBottomMargin:"12px","-title-height":"27px",titleHeight:"27px",container:"_1mJO-",title:"_2lKjK"}},eifaagjjg:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.MediaEntryList=t.MediaEntry=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("hgjcbccfg")),d=n(a("cajijabhgb")),c=i(a("ecbacgcajj")),l=i(a("bdiiahhjbe")),u=i(a("ecdjdjeihf")),f=i(a("cadedacjj")),h=i(a("ibdgibccg")),p=i(a("dfjfejdjjh")),g={PROBABLY_ON_SERVER:"PROBABLY_ON_SERVER",PROBABLY_OFF_SERVER:"PROBABLY_OFF_SERVER",UNKNOWN:"UNKNOWN"},m=function(){function e(t,a,n,i,o,s,d,c){(0,r.default)(this,e),this.useBackupUrl=!1,this._uploadHashPromise=null,this.mmsUrl=t,this.mediaKey=a,this.mediaKeyTimestamp=n,this.uploadHash=i,this.serverStatus=g.UNKNOWN,this.sidecar=s,this.directPath=d,this.firstFrameSidecar=c,this.type=o}return(0,o.default)(e,[{key:"getUploadHash",value:function(){var e=this;if(this._uploadHashPromise)return this._uploadHashPromise;if(this.uploadHash)return this._uploadHashPromise=Promise.resolve(this.uploadHash);var t=p.default.headRetry(this.mmsUrl).then(function(t){if(200!==t.status)throw e.serverStatus=g.PROBABLY_OFF_SERVER,new d.MediaNeedsReupload;var a=t.getResponseHeader("X-WA-Metadata"),n=/\bfilehash=([A-Za-z0-9+\/]+=?=?)(?:;|$)/.exec(a||"");if(n)return e.serverStatus=g.PROBABLY_ON_SERVER,e.uploadHash=n[1];throw l.default.assert(!1,"wa-metadata-header-missing","HEAD ".concat(e.mmsUrl," got ").concat(t.status," (header=").concat(a,")"))(),e.serverStatus=g.PROBABLY_OFF_SERVER,new d.MediaNeedsReupload});return t.catch(function(){e._uploadHashPromise=null}),this._uploadHashPromise=t}},{key:"url",value:function(e){var t=this,a=e||{},n=a.useFallback,i=a.forceHashUrl,r=this.uploadHash;if(!r)throw new Error("encFilehash is required");return u.default.getHostsInfo({operation:f.default.DOWNLOAD,encFilehash:r,type:this.type}).then(function(e){var a=e.auth,o=e.selectedHost,s=e.fallbackHost,d=n&&s?s:o;return(0,c.default)({auth:a,directPath:i?null:t.directPath,encFilehash:r,hostname:d.hostname,type:t.type})})}},{key:"markWhetherOnServer",value:function(e){this.serverStatus=e?g.PROBABLY_ON_SERVER:g.PROBABLY_OFF_SERVER}}]),e}();t.MediaEntry=m;var b=function(){function e(){(0,r.default)(this,e),this.entries=[]}return(0,o.default)(e,[{key:"_findEntry",value:function(e){return this.entries.find(function(t){return t.mmsUrl===e})}},{key:"_updateEntry",value:function(e,t,a,n,i,r,o){if(t&&!s.default.equal(e.mediaKey,t))throw new Error("media-fault: mediaKey is changed for the same MMS3 url");null!=a&&(e.mediaKeyTimestamp=a),n&&(l.default.assert(!e.uploadHash||s.default.equal(e.uploadHash,n),"media-fault: same entry has multiple upload hashes")(),e.uploadHash=n),i&&(e.sidecar=i),o&&(e.firstFrameSidecar=o),e.directPath=r}},{key:"updateEntry",value:function(e,t,a,n,i,r,o,s){var d=this._findEntry(e);if(d)return this._updateEntry(d,t,a,n,r,o,s),d}},{key:"addEntry",value:function(e,t,a,n,i,r,o,s){var d=this.entries,c=this._findEntry(e);if(c)return this._updateEntry(c,t,a,n,r,o,s),c;if(!t)return null;var l=new m(e,t,a,n,i,r,o,s);return d.push(l),l}},{key:"knowsUrl",value:function(e){return!!this.getEntryFromUrl(e)}},{key:"getEntryFromUrl",value:function(e){for(var t=this.entries,a=0;a<t.length;a++)if(t[a].mmsUrl===e)return t[a];return null}},{key:"getUploadEntry",value:function(){return v(this),this.entries.find(function(e){return(0,h.default)(e.mediaKeyTimestamp)})||null}},{key:"getDownloadEntry",value:function(){v(this);var e=this.entries[0];return e&&e.serverStatus!==g.PROBABLY_OFF_SERVER?e:null}}]),e}();function v(e){e.entries.sort(function(e,t){var a=j(t)-j(e);return 0===a?t.mediaKeyTimestamp-e.mediaKeyTimestamp:a})}function j(e){var t=0;switch(e.serverStatus){case g.PROBABLY_ON_SERVER:t+=200;break;case g.PROBABLY_OFF_SERVER:break;case g.UNKNOWN:t+=100}return e.uploadHash?t+=20:e._uploadHashPromise&&(t+=10),t}t.MediaEntryList=b},eigdejjai:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.MsgInfoCollection=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=i(a("cgcgbfbffj")),u=i(a("bdhgicebce")),f=a("cjggfjjegd"),h=a("fcaefbfaf"),p=i(a("cffajefeag")),g=i(a("bhggeigghg")),m=n(a("bgeajihhc")),b=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,(0,d.default)(t).apply(this,arguments))}return(0,c.default)(t,e),(0,o.default)(t,[{key:"_initializeStaleCollection",value:function(){var e=this;this.listenTo(m.default,"change:stream",function(){m.default.stream===m.STREAM.DISCONNECTED&&e.forEach(function(e){e.settled||e.set("stale",!0)})})}},{key:"_find",value:function(e){var t=g.default.Msg.get(e);return t?t.isSentByMe?(0,f.sendQueryMsgInfo)(t):Promise.reject("message not sent by me"):Promise.reject("No message found for id: ".concat(e))}},{key:"updateInfo",value:function(e,t,a,n,i,r){var o=new p.default({from:t,to:a,id:e,participant:i}),s=new p.default({from:t,to:a,id:e}),d=this.get(o)||this.get(s);if(d)return(0,h.updateMsgInfo)(d,n,i,r)}}]),t}(l.default);t.MsgInfoCollection=b,b.model=u.default,b.staleCollection=!0;var v=new b;t.default=v},eighdgacb:function(e,t){e.exports={revoked:"pST37",product:"_wGZ7",last:"_1Wn_k"}},eihchghee:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.sendCreateGroup=function(e,t,a,n,s,d){var c;if(r.default.supportsFeature(r.default.F.MD_BACKEND))return Promise.reject(new Error("queryGroupInvite: not supported when not build with MD_BACKEND"));c=o.default.createGroup(e,t,a,n,s,d).then(function(e){return 200===e.status?e:Promise.reject(new i.ServerStatusCodeError(e.status))});return c};var i=a("ddjgcfjicj"),r=n(a("bjbdcigbdi")),o=n(a("bihdhbjih"))},eihefeaje:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ParticipantsList=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=n(a("ddhijeejag")),u=i(a("bjdfbiahbi")),f=i(a("eceadcicaf")),h=i(a("ceddibdhdb")),p=i(a("ihfccfgdf")),g="sort remove reset add",m=function(e){function t(e){var a;(0,r.default)(this,t),(a=(0,s.default)(this,(0,d.default)(t).call(this,e))).onParticipantsUpdate=function(){a.recalculateParticipantsTimer.debounce(100)},a.recalculateParticipantsTimer=new h.default(function(){a.setState({participants:E(a.props.groupMetadata.participants)})});var n=e.listeners,i=e.groupMetadata.participants;return a.state={participants:E(i)},n.add(i,g,a.onParticipantsUpdate),a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){this.ensureParticipantsSorted()}},{key:"componentDidUpdate",value:function(e){this.ensureParticipantsSorted();var t=e.groupMetadata.participants,a=this.props.groupMetadata.participants;if(a!==t){var n=this.props.listeners;n.remove(t,g,this.onParticipantsUpdate),n.add(a,g,this.onParticipantsUpdate),this.recalculateParticipantsTimer.cancel(),this.setState({participants:E(a)})}}},{key:"componentWillUnmount",value:function(){this.recalculateParticipantsTimer.cancel()}},{key:"ensureParticipantsSorted",value:function(){this.props.groupMetadata.participants.ensureSorted()}},{key:"render",value:function(){var e=this.props.overridingText||this.state.participants.join(l10n.t(426))||this.props.placeholder;return e?l.createElement(u.default,{text:e,location:this.props.location}):null}}]),t}(l.PureComponent);m.CONCERNS={groupMetadata:["participants"]};var b=(0,f.default)((0,p.default)(m,m.CONCERNS));t.ParticipantsList=b;var v=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,(0,d.default)(t).apply(this,arguments))}return(0,c.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=this.props,t=e.presence.withholdDisplay?e.placeholder:e.presence.getFormattedString();return l.createElement(b,{groupMetadata:e.groupMetadata,overridingText:t,placeholder:e.placeholder,location:e.location})}}]),t}(l.PureComponent);v.CONCERNS={chatstate:["id","type","deny","t"],groupMetadata:["announce","participants"],presence:["forceDisplay","withholdDisplay"]};var j=(0,p.default)(v,v.CONCERNS);function E(e){return e.map(function(e){return e.contact.formattedShortNameWithNonBreakingSpaces})}t.default=j},eiighchhi:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=n(a("ddhijeejag")),d=i(a("bbchdeehff")),c=i(a("biddiiafgd")),l=a("dgbdibgaje"),u=i(a("dfijbgdefb")),f=i(a("fffdgbfji")),h=i(a("bdiiahhjbe")),p=i(a("cjieghfgda")),g=i(a("cfdjcihjjd")),m=a("bfigfgcaaj"),b=a("bbhejgbajf"),v=a("dgdjiicfdg"),j=a("baagejbchg"),E=new(function(){function e(){(0,r.default)(this,e)}return(0,o.default)(e,[{key:"_getDownloadData",value:function(e){var t=this,a=Array.isArray(e)?e:[e];return Promise.map(a,function(e){if(e.isGif)return t._mp4ToGif(e);if(e.type===j.MSG_TYPE.VCARD)return t._getVcardDownloadData(e);if(e.mediaData.mediaBlob)return{name:u.default.getDefaultName(e),url:e.mediaData.renderableUrl,blob:e.mediaData.mediaBlob.forceToBlob()};var a=e.mediaData.filehash,n=p.default.get(a);return n?{name:u.default.getDefaultName(e),url:p.default.getOrCreateURL(a),blob:n}:Promise.reject("Unable to download because blob cannot be found")}).then(function(e){return e.length>1?b(e).then(function(e){var t={t:Math.round(Date.now()/1e3),type:"unknown",mimetype:"application/zip"};return{blob:e,name:u.default.getDefaultName(t)}}):e[0]}).catch(function(e){h.default.error("Failed to get download data!")(e)})}},{key:"_mp4ToGif",value:function(e){return new Promise(function(e,t){throw new Error("unimplemented")}).then(function(t,a){return{url:t,blob:a,name:"WhatsApp-Image-".concat(v.unix(e.t).format("YYYYMMDD"),".gif")}}).catch(function(){return{url:e.mediaData.renderableUrl,blob:e.mediaData.mediaBlob.forceToBlob(),name:u.default.getDefaultName(e)}})}},{key:"_getVcardDownloadData",value:function(e){return{name:u.default.getDefaultName(e),blob:new Blob([e.body],{type:"text/vcard"})}}},{key:"initDownload",value:function(e){var t=e;if(!window.Modernizr.adownload){var a=f.default.t(1470,{chrome_homepage:j.BROWSER_LINK.CHROME,firefox_homepage:j.BROWSER_LINK.FIREFOX,opera_homepage:j.BROWSER_LINK.OPERA});return d.default.openModal(s.createElement(c.default,{onOK:function(){return d.default.closeModal()},okText:f.default.t(1331)},a)),void h.default.assert(!1,"safari, adownload is false in download mgr")()}m.startDownloading(),this._getDownloadData(t).then(function(e){h.default.assert(e.url||e.blob,"download-url-creation-error",Array.isArray(t)?"download a zip file":"download ".concat(t.id.toString()," type ").concat(t.type," with state ").concat(t.mediaData&&t.mediaData.mediaStage))();var a=e.url||window.URL.createObjectURL(e.blob),n=(0,l.createDataLink)(a);n.download=e.name,n.style.display="none",Array.isArray(t)&&1===t.length&&(t=t[0]),h.default.assert(n.href,"no-download-url",Array.isArray(t)?"download a zip file":"download ".concat(t.id.toString()," type ").concat(t.type," with state ").concat(t.mediaData&&t.mediaData.mediaStage))(),document.body&&document.body.appendChild(n),n.click(),document.body&&document.body.removeChild(n),e.url||(0,g.default)(100).then(function(){window.URL.revokeObjectURL(n.href)})}).catch(function(e){h.default.error("Download failed, error: ".concat(String(e)))()})}}]),e}());t.default=E},eiiicijcj:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=n(a("ddhijeejag")),u=i(a("bbchdeehff")),f=i(a("baagejbchg")),h=i(a("biddiiafgd")),p=i(a("fffdgbfji")),g=i(a("bdiiahhjbe")),m=i(a("ihfccfgdf")),b=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,(0,d.default)(t).apply(this,arguments))}return(0,c.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e,t,a=this.props.msg.type;switch(a){case f.default.MSG_TYPE.VIDEO:this.props.msg.isGif?(e=p.default.t(761),t=p.default.t(760)):(e=p.default.t(771),t=p.default.t(770));break;case f.default.MSG_TYPE.AUDIO:e=p.default.t(755),t=p.default.t(754);break;case f.default.MSG_TYPE.IMAGE:e=p.default.t(766),t=p.default.t(765);break;case f.default.MSG_TYPE.DOCUMENT:e=p.default.t(758),t=p.default.t(757);break;case f.default.MSG_TYPE.STICKER:e=p.default.t(768),t=p.default.t(767);break;default:e=p.default.t(763),g.default.assert(!1,"MediaMissingModal: unexpected message type","type: ".concat(a))()}return l.createElement(h.default,{title:e,onOK:function(){u.default.closeModal()},okText:p.default.t(1331)},t)}}]),t}(l.PureComponent);b.CONCERNS={msg:["type","isGif"]};var v=(0,m.default)(b,b.CONCERNS);t.default=v},ejdjhbacj:function(e,t){e.exports={container:"_3qPa0",section:"_2vOyW",sectionWide:"_2RCUQ",control:"_3231I",label:"lz4Mo",disabled:"_26EsD",select:"Fzl83"}},ejeehdija:function(e,t){e.exports={container:"MCTeI",body:"_3BYwr",imageContainer:"BIM-V",lazyLoadRetry:"_2Zvyc",defaultIcon:"_3tZTj"}},ejegihaeh:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.CatalogCollection=void 0;var i=n(a("eaidjcib")),r=n(a("dgcdacjddi")),o=n(a("ffceefejc")),s=n(a("cjedcdbdii")),d=n(a("bjehdcaaj")),c=n(a("dbjagcfebh")),l=n(a("cgcgbfbffj")),u=n(a("eciicfcjdi")),f=a("eaibdijehg"),h=a("hjbbdjjdf"),p=a("dcbdjheea"),g=function(e){function t(){return(0,i.default)(this,t),(0,o.default)(this,(0,s.default)(t).apply(this,arguments))}return(0,c.default)(t,e),(0,r.default)(t,[{key:"addMsgAsproduct",value:function(e){var a=e.businessOwnerJid&&(0,p.createWid)(e.businessOwnerJid);if(a){var n=this.get(a),i=n&&e.productId&&n.msgProductCollection.get(e.productId),r=n&&e.productId&&n.productCollection.get(e.productId);if(!(r&&r.t&&r.t>=e.t||i&&i.fetchedFromServer)){var o={id:e.productId,url:e.url,name:e.title,description:e.description,imageCdnUrl:{rawUrl:e.mediaData.renderableUrl},catalogWid:a,reviewStatus:"",currency:e.currencyCode,priceAmount1000:e.priceAmount1000,retailerId:e.retailerId,productMsgMediaData:e.mediaData,imageCount:null!=e.productImageCount&&0!==e.productImageCount?e.productImageCount:1,fetchedFromServer:!1,t:e.t};return(0,d.default)((0,s.default)(t.prototype),"add",this).call(this,{id:a,afterCursor:void 0,_msgs:[o],stale:!0,fetchedFromServer:!!r},{merge:!0})}}}},{key:"_queryProduct",value:function(e){var a=this,n=e.catalogWid,i=e.productId,r=e.productMsgMediaData;return(0,f.queryProduct)(n,i).then(function(e){if(!e.data)return(0,d.default)((0,s.default)(t.prototype),"add",a).call(a,{id:n,afterCursor:void 0});var i=e.data;if(!i.image_cdn_urls||i.image_cdn_urls[0].value.includes("https://static.whatsapp.net"))return Promise.reject(new Error("CatalogCollection:findProduct:_queryProduct ".concat(i.image_cdn_urls?"Product image contains static image":"Could not find image_cdn_urls for product")));var o=[{id:i.id,url:i.url,name:i.name,description:i.description,additionalImageCdnUrl:i.additional_image_cdn_urls.map(function(e){return{rawUrl:e[1].value}}),imageCdnUrl:{rawUrl:i.image_cdn_urls[1].value},catalogWid:n,reviewStatus:i.capability_to_review_status.length&&i.capability_to_review_status[0].value,currency:i.currency,priceAmount1000:null==i.price?null:10*i.price,retailerId:i.retailer_id,productMsgMediaData:r,imageCount:i.additional_image_cdn_urls.length+1,fetchedFromServer:!0,t:Date.now()/1e3}];return(0,d.default)((0,s.default)(t.prototype),"add",a).call(a,{id:n,afterCursor:void 0,_products:o,_msgs:o},{merge:!0})})}},{key:"findProduct",value:function(e){var t=e.catalogWid,a=e.productId,n=e.productMsgMediaData;return a?this._queryProduct({catalogWid:t,productId:a,productMsgMediaData:n}):Promise.reject(new Error("CatalogCollection:findProduct Received productId type ".concat(void 0===a?"undefined":"null")))}},{key:"_queryCatalog",value:function(e,t,a){var n=e?e.index:0;return(0,f.queryCatalog)(t,a,10).then(function(e){if(!e.data.length)return{id:t,afterCursor:void 0};var a=[];return e.data.forEach(function(e,i){e.image_cdn_urls&&!e.image_cdn_urls[0].value.includes("https://static.whatsapp.net")&&a.push({id:e.id,url:e.url,name:e.name,description:e.description,additionalImageCdnUrl:e.additional_image_cdn_urls.map(function(e){return{rawUrl:e[1].value}}),imageCdnUrl:{rawUrl:e.image_cdn_urls[1].value},catalogWid:t,reviewStatus:e.capability_to_review_status.length?e.capability_to_review_status[0].value:null,currency:e.currency,priceAmount1000:null==e.price?null:10*e.price,retailerId:e.retailer_id,productMsgMediaData:null,imageCount:e.additional_image_cdn_urls.length+1,fetchedFromServer:!0,t:Date.now()/1e3,old:!1,index:n+i})}),{id:t,afterCursor:e.paging.cursors.after,_products:a,fetchedFromServer:!0,index:n+a.length}})}},{key:"_findQuery",value:function(e){var t=this.get(e),a=t&&!t.stale?t.afterCursor:void 0;return this._queryCatalog(t,e,a)}},{key:"_find",value:function(e){return this._findQuery(e)}},{key:"findCarouselCatalog",value:function(e){var a=this,n=this.get(e),i=(0,h.isString)(e)?(0,p.createWid)(e):e;return n&&n.set({index:0}),this._queryCatalog(n,i,void 0).then(function(e){return n&&n.markProductCollectionOld(),(0,d.default)((0,s.default)(t.prototype),"add",a).call(a,e,{merge:!0})})}},{key:"findNextProductPage",value:function(e){return this.update(e).then(function(e){return(Array.isArray(e)?e[0]:e).productCollection.getProductModels()})}}]),t}(l.default);t.CatalogCollection=g,g.model=u.default,g.staleCollection=!0;var m=new g;t.default=m},ejeidfcga:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=n(a("ddhijeejag")),u=n(a("dbgdaechch")),f=i(a("ddchcbhaia")),h=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,(0,d.default)(t).apply(this,arguments))}return(0,c.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=this.props,t=e.chat,a=e.onSelectMessages;return l.createElement(u.default,{type:"dropdown_menu",key:"BroadcastMenuDropdown",flipOnRTL:!0,dirX:u.DirX.LEFT},f.default.broadcast(t,a))}}]),t}(l.Component);t.default=h},ejiicdbii:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.BusinessProfileCollection=void 0;var r=i(a("hbddjfeei")),o=i(a("eaidjcib")),s=i(a("dgcdacjddi")),d=i(a("ffceefejc")),c=i(a("cjedcdbdii")),l=i(a("dbjagcfebh")),u=i(a("cgcgbfbffj")),f=n(a("defecifdhg")),h=a("bfgacchdii"),p=a("bechdajic"),g=i(a("ejegihaeh")),m=i(a("dhigahgdjb")),b=i(a("bdiiahhjbe")),v=function(e){function t(){return(0,o.default)(this,t),(0,d.default)(this,(0,c.default)(t).apply(this,arguments))}return(0,l.default)(t,e),(0,s.default)(t,[{key:"parseBusinessHours",value:function(e){var t=e.config,a={};return t.forEach(function(e){var t=e.day_of_week,n=e.mode;if(n===p.BUSINESS_HOUR_MODES.SPECIFIC_HOURS){var i=e.open_time,r=e.close_time;a[t]||(a[t]={mode:n,hours:[]}),null!=i&&null!=r&&a[t].hours&&a[t].hours.push([i,r])}else a[t]={mode:n}}),{config:a}}},{key:"_find",value:function(e){var t=this,a=this.gadd(e);return(0,h.queryBusinessProfile)([{wid:a.id,tag:a.tag}]).then(function(a){if(!Array.isArray(a))return b.default.error("Received invalid business profile response")(a),null;if(0===a.length)return b.default.info("Store:BusinessProfile:find No businessProfile found for ".concat(String(e)))(),{id:e};var n=a[0],i={id:n.wid,tag:n.tag},r=n.profile;if(r){var o=r.business_hours,s=r.catalog_status,d=r.structured_address;o&&(r.business_hours=void 0,r.businessHours=t.parseBusinessHours(o)),s&&"catalog_exists"===s&&(r.catalog_status=void 0,r.catalogStatus=s,g.default.findCarouselCatalog(e).then(function(t){var a=Array.isArray(t)?t[0]:t;m.default.assertGet(e).businessCatalog=a}).catch(function(e){return b.default.warn("Store:BusinessProfile:missing catalog")(e)})),d&&(r.structured_address=void 0,r.structuredAddress={streetAddress:d.street_address,cityId:d.city_id,localizedCityName:d.localized_city_name,zipCode:d.zip_code}),Object.assign(i,f.DEFAULTS,r)}return i})}},{key:"onResume",value:function(){var e=this;this.filter(function(e){return e.stale&&e.hasObservers()}).map(function(t){return e.find(t.id)})}},{key:"handle",value:function(e){var t=(0,r.default)(e,1)[0];t&&null!=t.tag||b.default.error("Store:BusinessProfile:handle Received invalid update from server")(t);var a=this.gadd(t.wid);t.tag!==a.tag&&a.markStale()}}]),t}(u.default);t.BusinessProfileCollection=v,v.model=f.default,v.staleCollection=!0;var j=new v;t.default=j},fabajdgab:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.getImageWidthHeight=function(e){return G(function(t){var a;return t(e),new Promise(function(t,n){(a=new Image).onload=t,a.onabort=function(){n(new Error("getImageWidthHeight onabort"))},a.onerror=function(){n(new Error("getImageWidthHeight onerror"))},a.src=e.url()}).then(function(){return{width:a.naturalWidth,height:a.naturalHeight}})})},t.getImageWidthHeightNoOpaque=O,t.opaqueDataToArrayBuffer=function(e){return G(function(t){t(e);var a=e._blob;if(a)return R(a);var n=e._b64;return s.default.decode(n)})},t.decodeWebpToRGBANoOpaque=w,t.parseWebpNoOpaque=D,t.videoWidthHeightDuration=L,t.videoWidthHeightDurationNoOpaque=U,t.processRawImage=function(e){var t=e.forceToBlob();return g.default.rotateAndResize(t,M.default.imageMaxEdge,g.default.BLOB|g.default.CANVAS).then(function(e){var t=e.width,a=e.height,n=e.images,i=n.blob,r=n.canvas;return g.default.rotateAndResize(r,d.default.IMG_THUMB_MAX_EDGE,g.default.DATA_URL).then(function(e){var n=e.images.dataUrl;return{blob:i,width:t,height:a,preview:T.default.parseDataURL(n).data}})})},t.processRawAudioVideo=function(e,t,a,n,i,r){var o=e.forceToBlob();return b.default.checkAndRepair(o,!!n).then(function(e){if(!e)return m.default.error("processRawAudioVideo bad video file ".concat(o.type))(o),Promise.reject(new f.InvalidMediaFileType);var r=e.type,s=e.file,c=n||e.isGif;switch((0,h.typeFromMimetype)(r)){case h.FILETYPE.VIDEO:if(t)return m.default.assert(!1,"media-fault: ptt became video")(),Promise.reject(new f.InvalidMediaFileType);var l={type:E.OUTWARD_TYPES.VIDEO,mediaBlob:s,mimetype:r,isGif:c,gifAttribution:c?i||0:void 0};return a&&null!=a.duration&&null!=a.fullHeight&&0!==a.fullHeight&&null!=a.fullWidth&&0!==a.fullWidth&&a.preview?Promise.resolve(k({},l,{fullWidth:a.fullWidth,fullHeight:a.fullHeight,preview:a.preview,duration:a.duration.toString()})):g.default.generateVideoThumbAndDuration(s,d.default.IMG_THUMB_MAX_EDGE).then(function(e){var t=e.thumb,a=e.duration;return k({},l,{fullWidth:t.fullWidth,fullHeight:t.fullHeight,preview:T.default.parseDataURL(t.url).data,duration:a.toString()})});case h.FILETYPE.AUDIO:return(a&&null!=a.duration?Promise.resolve(a.duration):(0,h.getAudioDuration)(s)).then(function(e){return{type:t?E.OUTWARD_TYPES.PTT:E.OUTWARD_TYPES.AUDIO,mediaBlob:s,mimetype:r,duration:e.toString()}});default:throw m.default.assert(!1,"media-fault: audio/video became other")(),new Error("audio/video became ".concat(r))}})},t.processRawDocument=function(e,t){var a,n=e.forceToBlob(),i=n.type,r=n.name||t||void 0;if(r=(0,v.cleanFilename)(r),i){if("*"!==_.default.DOC_MIMES&&!_.default.DOC_MIMES.includes(i))return Promise.reject(new f.InvalidMediaFileType("disallowed mimetype ".concat(i)));a=Promise.resolve(i)}else a=R(n).then(function(e){var t=(0,o.default)(new Uint8Array(e,0,Math.min(262,e.byteLength)));if(t&&t.mime){var a=_.default.isAllowedDocumentMimetype(t.mime,r,!0);if(a)return a}else if(r){var i=(0,h.getMimeTypeForFilepath)(r);if(i)return i}return Promise.reject(new f.InvalidMediaFileType("type: ".concat(String(n.type)," name: ").concat(String(r))))});return a.then(function(e){return u.enrich(n,e).then(function(t){return{type:E.OUTWARD_TYPES.DOCUMENT,mediaBlob:n,mimetype:e,filename:r||void 0,documentPreview:t,preview:t&&T.default.parseDataURL(t.thumbUrl).data,pageCount:t&&t.pdfPages}})})},t.fetchMedia=function(e){return A.getResponseIfOnline(e,"GET",null,N.default.RESP_TYPE.ARRAY_BUFFER).then(function(e){return e?Promise.resolve({result:e.response,status:e.status}):Promise.resolve(null)})},t.canPlayOgg=function(){return!!j.default.canPlayOgg},t.gatherAndSetMetadata=function(e,t){t.retain();var a=Promise.resolve().then(function(){var n,i,r;switch(t.autoreleaseWhenPromiseCompletes(a),e.type){case E.TYPE.VIDEO:n=L(t).then(function(e){return{mediaBlob:t,renderableUrl:t.url(),fullWidth:e.width,fullHeight:e.height,duration:void 0!==e.duration?"".concat(Math.ceil(e.duration)):void 0,durationFloat:e.duration}});break;case E.TYPE.AUDIO:n=(i=t,G(function(e){return e(i),j.default.transcode(i.forceToBlob(),r).then(function(e){return S.default.createFromData(e,e.type)}).then(function(t){return e(t),t.autorelease(),t})})).then(function(e){return e.retain(),e.autoreleaseWhenPromiseCompletes(a),{mediaBlob:e,renderableUrl:e.url()}});break;default:e.type!==E.TYPE.IMAGE&&e.type!==E.TYPE.STICKER||m.default.assert(!1,"Entering gatherAndSetMetadata (with OpaqueData) unexpectedly","object type: ".concat(e.type||""))(),n=Promise.resolve({mediaBlob:t,renderableUrl:t.url()})}return n.catch(f.MediaUnsupportedError,function(){e.consolidate({mediaBlob:t,renderableUrl:t.url()})}),n}).then(function(t){e.consolidate(t)});return a},t.gatherAndSetMetadataNoOpaque=function(e,t){return Promise.resolve().then(function(){switch(e.type){case E.TYPE.VIDEO:return U(t).then(function(e){return{fullWidth:e.width,fullHeight:e.height,duration:void 0!==e.duration?"".concat(Math.ceil(e.duration)):void 0,durationFloat:e.duration}});case E.TYPE.IMAGE:return null!=e.contentInfo.fullHeight&&null!=e.contentInfo.fullWidth&&e.size===t.size?null:O(t).then(function(e){return{fullWidth:e.width,fullHeight:e.height,size:t.size}});case E.TYPE.STICKER:return(0,l.default)().then(function(e){return e?Promise.props({widthHeight:O(t),webpData:D(t)}).then(function(e){return{fullWidth:e.widthHeight.width,fullHeight:e.widthHeight.height,animationDuration:e.webpData.animationDuration,firstFrameLength:e.webpData.firstFrameLength,isAnimated:e.webpData.animationDuration>0,size:t.size}}):D(t).then(function(e){var a=e.animationDuration,n=e.firstFrameLength;return a>0?{animationDuration:a,firstFrameLength:n,isAnimated:!0,size:t.size}:w(t).then(function(e){return{animationDuration:a,rgbaBuffer:e.rgbaBuffer,rgbaWidth:e.width,rgbaHeight:e.height,size:t.size}})})});case E.TYPE.AUDIO:default:return{}}}).catch(f.MediaUnsupportedError,function(t){throw e.consolidate({}),t}).then(function(t){null!=t&&e.consolidate(t)})},t.shouldUseMediaCache=function(e){return e===y.default.STICKER||e===y.default.IMAGE||e===y.default.PRODUCT||e===y.default.PTT||e===y.default.AUDIO},t.shouldUseLruMediaStore=function(e){var t=p.default.supportsFeature(p.default.F.LRU_MEDIA_STORE)&&(e===y.default.STICKER||e===y.default.IMAGE),a=p.default.supportsFeature(p.default.F.LRU_MEDIA_STORE_OTHER_MEDIA_TYPES)&&(e===y.default.AUDIO||e===y.default.DOCUMENT||e===y.default.GIF||e===y.default.PPIC||e===y.default.PRODUCT||e===y.default.PTT||e===y.default.VIDEO||e===y.default.TEMPLATE);return(t||a)&&P.default.getRememberMe()};var r=i(a("bhabhhjdch")),o=i(a("ddeicfhhch")),s=i(a("hgjcbccfg")),d=i(a("baagejbchg")),c=i(a("bffbhdadij")),l=i(a("dcaiaeaebb")),u=n(a("dhgbabghaf")),f=n(a("cajijabhgb")),h=a("cgffhfegce"),p=i(a("bjbdcigbdi")),g=i(a("dgjacfgggf")),m=i(a("bdiiahhjbe")),b=i(a("jahgaeib")),v=a("bffjfbgbg"),j=i(a("baffhfhhda")),E=a("daichdjff"),y=i(a("gbjefdbgb")),_=i(a("behbjhhbg")),S=i(a("beeieigghj")),C=i(a("dbjchhfjhj")),A=n(a("ebggjhghhi")),M=i(a("bfgbdiffgd")),T=i(a("edbaidcaf")),P=i(a("egjjcjcg")),N=i(a("bjieiiccce"));function I(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function k(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?I(Object(a),!0).forEach(function(t){(0,r.default)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):I(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function O(e){return new Promise(function(t,a){var n=new Image,i=window.URL.createObjectURL(e);n.onload=function(){var e={width:n.naturalWidth,height:n.naturalHeight};window.URL.revokeObjectURL(i),t(e)},n.onabort=function(){window.URL.revokeObjectURL(i),a(new Error("getImageWidthHeight onabort"))},n.onerror=function(){window.URL.revokeObjectURL(i),a(new Error("getImageWidthHeight onerror"))},n.src=i})}function R(e){return(0,h.blobToArrayBuffer)(e).catch(function(e){throw m.default.error("MediaUtils error: ".concat(e))(e),e})}function w(e){return R(e).then(function(e){return(0,c.default)(e)})}function D(e){return R(e).then(C.default)}function L(e){return G(function(t){return t(e),j.default.videoWidthHeightDuration(e.forceToBlob())})}function U(e){return j.default.videoWidthHeightDuration(e)}function G(e){var t=[];return Promise.callSynchronously(e,null,function(e){e.retain(),t.push(e)}).finally(function(){for(var e=0;e<t.length;e++)t[e].autorelease()})}},fabjefgai:function(e,t){e.exports={icon:"_1ZMSM",iconPinned:"_3DxjC",archived:"_2WwbV"}},faeabghda:function(e,t){e.exports={container:"jkZx4"}},faeabjacf:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,a,n,l,u){var f,h=e.msg,p=e.date,g=e.unread,m=e.album,b=[],v=0;for(v=0;!f&&v<t.length;v++)f=t[v];v--;var j=!1,E=!1,y=f?(0,o.default)(f):0,_=0,S=v;for(;f;){E||b.push(p(f,_++)),f===n&&g&&b.push(g(l));for(var C=void 0,A=v+1;!C&&A<t.length;A++)C=t[A];var M=void 0,T=void 0,P=void 0,N=[],I=!1,k=void 0,O=!1,R=null;if(s.default.supportsFeature(s.default.F.GROUPED_STICKERS)&&f.isValidGroupedSticker&&!d(f,u)){N.push(f),O=f===a,R=0;var w=t[S=v+1];w&&w.isValidGroupedSticker&&(0,i.canBeGroupedAsAlbum)(f,w)&&w!==n&&!d(w,u)&&(N.push(w),C=t[S+1],I=!0,k=!0,w===a&&(O=!0,R=1))}if(s.default.supportsFeature(s.default.F.ALBUMS)&&f.isValidAlbumAsset&&!d(f,u)){N.push(f);var D=f,L=void 0;for(O=f===a,S=v;S<t.length-1&&N.length<r.default.ALBUM_MAX_SIZE&&(D=t[S],(L=t[S+1])&&L.isValidAlbumAsset&&(0,i.canBeGroupedAsAlbum)(D,L)&&L!==n&&!d(L,u));S++)N.push(L),L===a&&(O=!0);N.length>=r.default.ALBUM_MIN_SIZE&&(I=!0,k=!1,C=t[S+1])}if(C?(P=(0,o.default)(C),M=(T=P===y)&&(0,i.canBeGroupedWithNext)(f,C)&&C!==n):(M=!1,T=!1,P=0),I){var U=void 0;U=k?N.reduce(function(e,t){return"".concat(e,"-").concat(t.id.toString())},"grouped-sticker-"):c(N),b.push(m(N,U,j,M,O,R)),f=t[v=S+1],j=M,E=T,y=P}else b.push(h(f,f===a,j,M)),v++,j=M,E=T,y=P,f=C}return b};var i=a("dejbbcaghh"),r=n(a("baagejbchg")),o=n(a("cdagfedaaf")),s=n(a("bjbdcigbdi"));function d(e,t){return null==t||e.t>t.t}function c(e){var t=e.length,a=e[0]?e[0].id.toString():"",n=e[t-1]?e[t-1].id.toString():"";return"album-".concat(a,"-").concat(n,"-").concat(t)}},faeadiehh:function(e,t){e.exports={hasText:"_2U4vq",noText:"_30g2M",quote:"bXSaQ",hasAuthor:"_2VXAV",forwarded:"_3ZlHZ"}},fagbfehid:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.StickerPackCollection=t.PAGE_FETCH_STATE=t.PAGE_SIZE=void 0;var i=n(a("bhabhhjdch")),r=n(a("eaidjcib")),o=n(a("dgcdacjddi")),s=n(a("ffceefejc")),d=n(a("djecdhecha")),c=n(a("cjedcdbdii")),l=n(a("bjehdcaaj")),u=n(a("dbjagcfebh")),f=n(a("dfacahcafg")),h=n(a("ccjgiajgj")),p=n(a("cgcgbfbffj")),g=n(a("bdiiahhjbe")),m=n(a("cdaedfafjc")),b=n(a("bihdhbjih"));function v(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}t.PAGE_SIZE=9;var j={PENDING:"PENDING",SUCCESS:"SUCCESS",ERROR:"ERROR"};t.PAGE_FETCH_STATE=j;var E=function(e){function t(){var e;return(0,r.default)(this,t),(e=(0,s.default)(this,(0,c.default)(t).call(this))).checksum=null,e._pageFetchPromises={},e.pageFetchStates={},e._handleChecksumChange=function(t){Object.keys(e.pageFetchStates).forEach(function(t){return e._resetFetchPageStateAndPromise(parseInt(t,10))}),e._resetRangeWithPlaceholders(0,e.length),e.fetchAt(0,!1,!0)},e.listenTo((0,d.default)(e),"change:checksum",e._handleChecksumChange),e}return(0,u.default)(t,e),(0,o.default)(t,[{key:"createPlaceholder",value:function(e){return t.createPlaceholder(e)}},{key:"fetchAt",value:function(e,t,a){this._fetchPageWithIndex(e,Boolean(t),Boolean(a))}},{key:"hasFetchedData",value:function(){var e=this;return Object.keys(this.pageFetchStates).some(function(t){return e.pageFetchStates[parseInt(t,10)]===j.SUCCESS})}},{key:"isFetchingData",value:function(){var e=this;return Object.keys(this.pageFetchStates).some(function(t){return e.pageFetchStates[parseInt(t,10)]===j.PENDING})}},{key:"pageWithIndex",value:function(e){return t.pageWithIndex(e)}},{key:"reset",value:function(){var e=this;return this.setChecksum(null,{silent:!0}),Object.keys(this.pageFetchStates).forEach(function(t){return e._resetFetchPageStateAndPromise(parseInt(t,10))}),(0,l.default)((0,c.default)(t.prototype),"reset",this).call(this)}},{key:"sync",value:function(e){this.setChecksum(e)}},{key:"setChecksum",value:function(e,t){return this.checksum!==e&&(this.checksum=e,t&&t.silent||this.trigger("change:checksum",e),!0)}},{key:"_fetchPageWithIndex",value:function(e,t,a){var n=this.pageWithIndex(e);return this._fetchPage(n,t,a)}},{key:"_fetchPage",value:function(e,t,a){var n,i=this,r=this.pageFetchStates[e];if(t&&r!==j.PENDING&&(n=this._pageFetchPromises[e])&&(n.cancel(),delete this._pageFetchPromises[e]),n=this._pageFetchPromises[e])return n;var o=this.length;return this._insertPagePlaceholders(e),this._setFetchPageState(e,j.PENDING),this._pageFetchPromises[e]=b.default.queryStickerPacks(e,9).cancellable().then(function(t){var n=i._parseStickerPacksRes(e,t),r=a||i.setChecksum(t.checksum,{silent:!0}),s=9*(e-1),d=9*(e+0);i._resetRange(s,d,n),r&&(i._resetRangeWithPlaceholders(0,s),i._resetRangeWithPlaceholders(Math.min(s+n.length,d),t.count));var c=i.length;o!==c&&i.trigger("change:length",c),i._setFetchPageState(e,j.SUCCESS)}).catch(function(t){if(t instanceof Promise.CancellationError)return g.default.log("StickerPack page fetch promise cancelled: "+e)(),void i._unsetFetchPageStateAndPromise(e);i._setFetchPageState(e,j.ERROR)}),this._pageFetchPromises[e]}},{key:"_insertPagePlaceholders",value:function(e){var t=e-1;this._resetRangeWithPlaceholders(9*t,9*(t+1))}},{key:"_parseStickerPacksRes",value:function(e,t){if(200!==t.status||!t.data)throw new Error("sticker packs query error");return t.data.map(function(t,a){return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?v(Object(a),!0).forEach(function(t){(0,i.default)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):v(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},(0,h.default)(t,["id","mimetype","name","url","mediaKey","filehash","directPath"]),{uploadhash:t.encFilehash,page:e,index:9*(e-1)+a})})}},{key:"_resetRangeWithPlaceholders",value:function(e,a){this._resetRange(e,a,(0,f.default)(a-e,function(a){return t.createPlaceholder(e+a)}))}},{key:"_resetRange",value:function(e,t,a){var n=this;this._forEachInRange(e,t,function(t,i){var r=a[i-e];if(t)if(r)t.id===r.id?(n.remove(t,{silent:!0}),n.add(r)):(n.remove(t),n.add(r));else for(var o=t;o;)n.remove(o),o=n.at(i);else r&&n.add(r)})}},{key:"_forEachInRange",value:function(e,t,a){for(var n=e;n<t;n++){a(this.at(n),n)}}},{key:"_resetFetchPageStateAndPromise",value:function(e){e in this.pageFetchStates&&(this.pageFetchStates[e]===j.PENDING?this._pageFetchPromises[e].cancel():this._unsetFetchPageStateAndPromise(e))}},{key:"_setFetchPageState",value:function(e,t){this.pageFetchStates[e]!==t&&(this.pageFetchStates[e]=t,this.trigger("change:pageFetchStates",e,t))}},{key:"_unsetFetchPageState",value:function(e){e in this.pageFetchStates&&(delete this.pageFetchStates[e],this.trigger("change:pageFetchStates",e))}},{key:"_unsetFetchPageStateAndPromise",value:function(e){delete this._pageFetchPromises[e],this._unsetFetchPageState(e)}}]),t}(p.default);t.StickerPackCollection=E,E.model=m.default,E.comparator=function(e,t){return e.index<t.index?-1:e.index>t.index?1:0},E.createPlaceholder=function(e){return m.default.createPlaceholder({index:e,page:this.pageWithIndex(e)})},E.pageWithIndex=function(e){return Math.floor(e/9)+1};var y=new E;t.default=y},fahgabfbb:function(e,t,a){"use strict";var n=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("ddhijeejag")),r=a("eagfdbhhhh");function o(e){var t=e.children,a=e.selectable;return i.createElement(r.SelectableCode,{selectable:a,appTextTemplate:"```${appText}```"},t)}o.defaultProps={children:""};var s=o;t.default=s},fbdhjahjj:function(e,t){e.exports={animation:"_3XqhJ","play-ltr":"_1GxgH",playLtr:"_1GxgH","play-rtl":"bB2Q8",playRtl:"bB2Q8",versionInfo:"_2Q9zG"}},fbfedehbb:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("bhfcfhafdj")),o=i(a("eaidjcib")),s=i(a("dgcdacjddi")),d=i(a("ffceefejc")),c=i(a("cjedcdbdii")),l=i(a("dbjagcfebh")),u=a("cfabbaghh"),f=n(a("ddhijeejag")),h=i(a("bjghfcjch")),p=n(a("dgfecega")),g=i(a("bgjhfgcbb")),m=function(e){function t(e){var a;return(0,o.default)(this,t),(a=(0,d.default)(this,(0,c.default)(t).call(this,e))).initCanvas=function(){var e=a.props.editedMedia.originalImage;e.complete?a.onImageLoad():e.onload=a.onImageLoad},a.onImageLoad=function(){var e=a.props.editedMedia.editData;a.props.editedMedia.editedImage=null;var t=a.props.editedMedia.originalImage;if(e.width||e.height||(e.width=t.naturalWidth,e.height=t.naturalHeight),!e.baseItem){var n=new u.Easel.Bitmap(t);e.baseItem=n}a.drawCanvas(!0)},a.maybeInitStage=function(e){var t;return a.state.stage?t=a.state.stage:(t=new u.Easel.Stage(e)).enableMouseOver(),a.props.mediaEditController.stage=t,t},a.drawCanvas=function(e,t){if(a.refStaticCanvas&&a.refStaticCanvas.refCanvas){var n=a.refStaticCanvas.refCanvas;t&&a.props.mediaPickerStatsLogger&&a.props.mediaPickerStatsLogger.logChange(a.props.activeMediaId||-1,t);var i=a.props.editedMedia,o=i.editData,s=a.maybeInitStage(n);e&&(n.width=o.width,n.height=o.height),s.removeAllChildren(),s.addChild(o.baseItem),o.items&&s.addChild.apply(s,(0,r.default)(o.items));var d=i.originalImage.naturalWidth,c=i.originalImage.naturalHeight;s.regX=d/2,s.regY=c/2,s.rotation=o.rotation,o.width&&o.height&&(s.x=o.width/2+o.scale*o.offsetX,s.y=o.height/2+o.scale*o.offsetY),s.scaleX=o.scale,s.scaleY=o.scale,s.update(),a.setState({canvasSize:{width:n.width,height:n.height},stage:s})}},a.saveCanvas=function(){a.drawCanvas(!0);var e=a.refStaticCanvas&&a.refStaticCanvas.refCanvas;e&&a.props.editedMedia.saveEditsFromCanvas(e)},a.clearStage=function(e){e&&(e.children.forEach(function(e){e.removeAllEventListeners()}),e.removeAllEventListeners(),e.removeAllChildren(),e.enableMouseOver(0),e.clear())},a.setRefStaticCanvas=function(e){a.refStaticCanvas=e},a.setRefMediaContainer=function(e){a.refMediaContainer=e},a.setRefCropOverlay=function(e){a.refCropOverlay=e},a.updateCanvasSize=function(e,t){a.setState({canvasSize:{width:e,height:t}})},a.state={canvasSize:{height:1,width:1},stage:null,mediaContainer:null},a}return(0,l.default)(t,e),(0,s.default)(t,[{key:"componentDidMount",value:function(){this.initCanvas(),this.setState({mediaContainer:this.refMediaContainer}),this.cropOverlay=new u.Easel.Stage(this.refCropOverlay),this.cropOverlay.autoClear=!1,this.cropOverlay.enableMouseOver(),this.refMediaContainer&&(this.props.mediaEditController.mediaContainer=this.refMediaContainer),this.props.mediaEditController.cropOverlay=this.cropOverlay}},{key:"componentWillUnmount",value:function(){var e=this.props.editedMedia.originalImage;e.complete||(e.onload=void 0),this.saveCanvas(),this.clearStage(this.state.stage),this.clearStage(this.cropOverlay)}},{key:"render",value:function(){var e=f.createElement("canvas",{ref:this.setRefCropOverlay,className:h.default.cropOverlay});return f.createElement("div",{className:this.props.className,ref:this.setRefMediaContainer},f.createElement(p.default,{type:this.props.fitType||p.FIT_TYPE.SCALE_DOWN,size:this.state.canvasSize},e,f.createElement(g.default,{ref:this.setRefStaticCanvas,className:h.default.mediaViewerImg})))}}]),t}(f.Component);t.default=m},fcaefbfaf:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.updateMsgInfo=function(e,t,a,n){r.default.supportsFeature(r.default.F.MD_BACKEND);return function(e,t,a,n){var i=e.id;if(!s.default.isUser(i.remote)){if(t!==d.RECEIVED){var r=e.delivery.get(a);r&&e.delivery.remove(r)}if(t!==d.READ){var o=e.read.get(a);o&&e.read.remove(o)}if(t!==d.PLAYED){var c=e.played.get(a);c&&e.played.remove(c)}}t===d.PLAYED?(e.played.get(a)||(e.playedRemaining-=1),e.played.add({id:a,t:n})):t===d.READ?(e.delivery.get(a)||(e.readRemaining-=1),e.read.add({id:a,t:n})):t===d.RECEIVED&&(e.delivery.get(a)||(e.deliveryRemaining-=1),e.delivery.add({id:a,t:n}))}((0,o.unproxy)(e),t,a,n)};var i=n(a("baagejbchg")),r=n(a("bjbdcigbdi")),o=a("bheafeifce"),s=n(a("jccfhaecf")),d=i.default.ACK},fccahhfch:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=n(a("ddhijeejag")),u=i(a("iabebjcej")),f=i(a("dbdfbgehgj")),h=i(a("cfaacaccfj")),p=i(a("bbchdeehff")),g=i(a("baagejbchg")),m=i(a("biddiiafgd")),b=i(a("dhigahgdjb")),v=i(a("diegbjcafg")),j=i(a("fifhbjiec")),E=a("bidfjbaebi"),y=i(a("dgjddffcfg")),_=i(a("bhcdbgbbad")),S=i(a("gbgcehdj")),C=i(a("ihfccfgdf")),A=a("bheafeifce"),M=i(a("bfdcadbbif")),T=i(a("jccfhaecf")),P=i(a("djbfhebjhe"));var N=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,(0,d.default)(t).apply(this,arguments))}return(0,c.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e,t,a,n,i=this.props.msg;switch(i.type){case g.default.MSG_TYPE.NOTIFICATION:t=i.body;break;case g.default.MSG_TYPE.GP2:case g.default.MSG_TYPE.GROUP_NOTIFICATION:return l.createElement(_.default,{msg:i,clickable:!0});case g.default.MSG_TYPE.BROADCAST_NOTIFICATION:return l.createElement(u.default,{msg:i,clickable:!0});case g.default.MSG_TYPE.E2E_NOTIFICATION:t=y.default.formatE2ENotification((0,A.unproxy)(i));var r=i.subtype,o=i.body,s=i.id.remote;n=function(){!function(e,t,a){p.default.openModal(l.createElement(v.default,{e2eSubtype:e,jid:t,chatId:a}))}(r,o,s)},e=l.createElement("div",{className:S.default.iconE2E},l.createElement(M.default,{name:"lock-small"}));break;case g.default.MSG_TYPE.CALL_LOG:e="miss_video"===i.subtype||"miss_group_video"===i.subtype?l.createElement(M.default,{name:"miss_video"}):l.createElement(M.default,{name:"miss"}),e=l.createElement("div",{className:S.default.icon},e),t=y.default.formatCallLog((0,A.unproxy)(i),!0);break;case g.default.MSG_TYPE.NOTIFICATION_TEMPLATE:if("change_number"===i.subtype){var d=i.templateParams[0],c=i.templateParams[1],C=b.default.get(d),N=C&&C.isMyContact?C.formattedName:(0,P.default)(d),I=T.default.equals(i.chat.id,d);t=I?l10n.t(280,{name:N}):l10n.t(278,{name:N}),I&&(n=function(){return function(e){var t=f.default.gadd(e);p.default.openChatFromUnread(t).then(function(e){e&&p.default.focusChatTextInput(t)})}(c)})}else if(t=y.default.formatNotificationTemplateText((0,A.unproxy)(i)),a=y.default.formatNotificationTemplateOnClickText((0,A.unproxy)(i))){var k=y.default.notificationTemplateFAQ(i.subtype);n=function(){!function(e,t){var a;a=l.createElement(h.default,{onClick:function(e){e.preventDefault(),p.default.closeModal("none"),setTimeout(function(){return(0,E.openExternalLink)(t)},10)}},l10n.t(644));var n=l.createElement(m.default,{onOK:function(){return p.default.closeModal()},okText:l10n.t(1331)},e,"  ",a);p.default.openModal(n)}(a,k)}}}var O=l.createElement("span",null,e,l.createElement(j.default,{direction:l10n.isRTL()?"rtl":"ltr",text:t}));return n?l.createElement("div",{role:"button",onClick:n},O):l.createElement("span",null,O)}}]),t}(l.PureComponent);N.CONCERNS={contact:["isEnterprise","verifiedLevel","verifiedName"],msg:["id","body","chat","type","subtype","templateParams"]};var I=(0,C.default)(N,N.CONCERNS);t.default=I},fcedgihic:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("bhabhhjdch")),r=n(a("eaidjcib")),o=n(a("dgcdacjddi")),s=n(a("ffceefejc")),d=n(a("cjedcdbdii")),c=n(a("dbjagcfebh")),l=n(a("cccehdaiaf")),u=n(a("bdiiahhjbe"));function f(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function h(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?f(Object(a),!0).forEach(function(t){(0,i.default)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):f(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var p=function(e){function t(e){var a,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,r.default)(this,t),a=(0,s.default)(this,(0,d.default)(t).call(this)),n.parent&&(a.parent=n.parent);var i=a.constructor,o=i.model,c=i.comparator;if(!o)throw new Error("Collection initialized without model!");return a.modelClass=o,c&&(a._comparator=c),a._reset(),a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"add",value:function(e,t){var a;return a=Array.isArray(e)?e.slice():e?[e]:[],this.set(a,h({merge:!1,add:!0,remove:!1},t))}},{key:"set",value:function(e,t){if(!e)return u.default.error("collection:set called with no models")(),[];for(var a,n,i,r,o,s,d=h({add:!0,remove:!0,merge:!0},t),c=this._comparator&&!1!==d.sort,l=[],f=[],p={},g=d.add,m=d.merge,b=d.remove,v=null!=d.at?d.at:void 0,j=!(c||!g||!b)&&[],E=0,y=e.length;E<y;E++)if(r=e[E],this.isModel(r)&&(n=r),a=r.id){if(i=this.get(a))b&&(p[i.id.toString()]=!0),m&&(r=n&&r===n?n.attributes:r,i.set(r,d)),e[E]=i;else if(g){if(!(n=e[E]=this._prepareModel(r,d)))continue;l.push(n),this._addReference(n)}(n=i||n)&&(!j||n.id&&p[n.id.toString()]||j.push(n),p[n.id.toString()]=!0)}else u.default.error("collection:set model has no id")();if(b){for(var _=0,S=this.length;_<S;_++)p[(n=this._models[_]).id.toString()]||f.push(n);f.length&&this.remove(f,h({},d))}if(l.length||j&&j.length)if(c&&(o=!0),"number"==typeof v)(s=this._models).splice.apply(s,[v,0].concat(l));else for(var C=j||l,A=0,M=C.length;A<M;A++)this._models.push(C[A]);if(o&&this.sort({silent:!0}),!d.silent){for(var T=0,P=l.length;T<P;T++)(n=l[T]).trigger?n.trigger("add",n,this,d):this.trigger("add",n,this,d);(o||j&&j.length)&&this.trigger("sort",this,d)}return e}},{key:"remove",value:function(e){for(var t,a,n,i,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=Array.isArray(e)?e.slice():[e],s=[],d=0,c=o.length;d<c;d++)(i=o[d])&&(n=i instanceof this.modelClass?i.id:i,(t=s[d]=this.get(n))&&(this._deIndex(t),a=this._models.indexOf(t),this._models.splice(a,1),r.silent||(r.index=a,t.trigger?t.trigger("remove",t,this,r):this.trigger("remove",t,this,r)),this._removeReference(t)));return s}},{key:"reset",value:function(){for(var e=0,t=this._models.length;e<t;e++)this._removeReference(this._models[e]);this._reset(),this.trigger("reset",this)}},{key:"sort",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this._comparator)throw new Error("Cannot sort without comparator");return this._models.sort(this._comparator.bind(this)),e.silent||this.trigger("sort",this,e),this}},{key:"replaceId",value:function(e,t){var a=this.get(e);a&&(this._removeFromIndex(e),a.set({id:t}),this._addIndex(a))}},{key:"get",value:function(e){return this._index[e]}},{key:"assertGet",value:function(e){var t=this._index[e];return t||u.default.assert(!1,"Collection:assertGet no result")(),t}},{key:"at",value:function(e){return this._models[e]}},{key:"serialize",value:function(){return this.map(function(e){return e.toJSON()})}},{key:"toJSON",value:function(){return this.serialize()}},{key:"isModel",value:function(e){return e instanceof this.modelClass}},{key:"includes",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return 0===t?e instanceof this.modelClass&&null!=this.get(e.id):this._models.includes(e,t)}},{key:"indexOf",value:function(e,t){return this._models.indexOf(e,t)}},{key:"lastIndexOf",value:function(e,t){return this._models.lastIndexOf(e,t)}},{key:"every",value:function(e){return this._models.every(e)}},{key:"some",value:function(e){return this._models.some(e)}},{key:"forEach",value:function(e){this._models.forEach(e)}},{key:"map",value:function(e){return this._models.map(e)}},{key:"filter",value:function(e){return this._models.filter(e)}},{key:"reduce",value:function(e,t){return this._models.reduce(e,t)}},{key:"slice",value:function(e,t){return this._models.slice(e,t)}},{key:"where",value:function(e){return this.filter(function(t){for(var a in e)if(e[a]!==t.get(a))return!1;return!0})}},{key:"head",value:function(){return this._models[0]}},{key:"last",value:function(){return this._models[this._models.length-1]}},{key:"toArray",value:function(){return this._models.slice()}},{key:"getModelsArray",value:function(){return this._models}},{key:"_reset",value:function(){this._models=[],this._index={}}},{key:"_prepareModel",value:function(e,t){if(this.isModel(e))return e.collection||(e.collection=this),e;var a=h({},t,{collection:this});try{return new this.modelClass(e,a)}catch(e){return void u.default.error("collection:_prepareModel exception: ",e.stack)()}}},{key:"_addReference",value:function(e){this._addIndex(e),e.collection||(e.collection=this),e.on&&e.on("all",this._onModelEvent,this)}},{key:"_removeReference",value:function(e){this===e.collection&&delete e.collection,this._deIndex(e),e.off&&e.off("all",this._onModelEvent,this)}},{key:"_addIndex",value:function(e){this._index[e.id]=e}},{key:"_deIndex",value:function(e){delete this._index[e.id]}},{key:"_removeFromIndex",value:function(e){this.get(e)&&delete this._index[e]}},{key:"_onModelEvent",value:function(e,t,a,n){var i=e.indexOf(":"),r=-1===i?e:e.slice(0,i);("add"!==r&&"remove"!==r||a===this)&&("destroy"===r&&this.remove(t,n),this.trigger.apply(this,arguments))}},{key:"length",get:function(){return this._models.length}},{key:"isCollection",get:function(){return!0}},{key:"models",get:function(){return this._models}}]),t}(l.default);t.default=p},fcfchiagj:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("bjehdcaaj")),l=i(a("dbjagcfebh")),u=n(a("dcaifjegcg")),f=i(a("baagejbchg")),h=i(a("bjigbaghc")),p=i(a("dhigahgdjb")),g=a("ddjgcfjicj"),m=i(a("bjbdcigbdi")),b=i(a("bdiiahhjbe")),v=i(a("dfhgffbdig")),j=i(a("dhhbbaegif")),E=i(a("bihdhbjih")),y=i(a("jccfhaecf")),_=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).participants=(0,u.collection)(v.default),a.pendingParticipants=(0,u.collection)(j.default),a.id=(0,u.prop)(),a.creation=(0,u.prop)(),a.owner=(0,u.prop)(),a.desc=(0,u.prop)(),a.descId=(0,u.prop)(),a.descTime=(0,u.prop)(),a.descOwner=(0,u.prop)(),a.restrict=(0,u.prop)(),a.announce=(0,u.prop)(),a.noFrequentlyForwarded=(0,u.prop)(),a.ephemeralDuration=(0,u.prop)(),a.size=(0,u.prop)(),a.stale=(0,u.session)(!0),a.trusted=(0,u.session)(!0),a.inviteCode=(0,u.session)(),a.groupInviteCodePromise=(0,u.session)(),a.revokeGroupInvitePromise=(0,u.session)(),a.revokeGroupV4AddInvitePromise=(0,u.session)(),a.groupInviteLink=(0,u.derived)(a._groupInviteLink,["inviteCode"]),a}return(0,l.default)(t,e),(0,o.default)(t,[{key:"_groupInviteLink",value:function(){return this.inviteCode?"".concat(f.default.GROUP_INVITE_LINK_URL).concat(this.inviteCode):null}},{key:"delete",value:function(){(0,c.default)((0,d.default)(t.prototype),"delete",this).call(this),this.getCollection().remove(this.id),this.participants.delete()}},{key:"canSetSubject",value:function(){return!!this.participants.iAmMember()&&(!!this.participants.iAmAdmin()||(!m.default.supportsFeature(m.default.F.GROUPS_V_3)||!0!==this.restrict))}},{key:"canSetDescription",value:function(){return!!m.default.supportsFeature(m.default.F.GROUPS_V_3)&&!(!this.participants.iAmMember()||!this.participants.iAmAdmin()&&this.restrict)}},{key:"canSetGroupProperty",value:function(){return!!m.default.supportsFeature(m.default.F.GROUPS_V_3)&&!!this.participants.iAmAdmin()}},{key:"initialize",value:function(){u.default.prototype.initialize.call(this),this.listenTo(this.participants,"change:isAdmin change:isSuperAdmin change:contact.isMyContact sort remove reset",this.isTrusted),this.listenTo(this.participants,"add remove reset",this.triggerParticipantsChange),this.listenTo(this,"change:owner",this.isTrusted),this.isTrusted()}},{key:"triggerParticipantsChange",value:function(){this.trigger("change:participants")}},{key:"isTrusted",value:function(){if(this.stale)return this.trusted;if(!this.owner)return this.trusted=!1;if(y.default.equals(this.owner,h.default.me))return this.trusted=!0;var e=p.default.get(this.owner);if(e&&e.isMyContact)return this.trusted=!0;for(var t=this.participants.toArray(),a=0,n=t.length;a<n;++a){var i=t[a];if(i.isAdmin&&(!y.default.equals(i.id,h.default.me)&&i.contact.isMyContact))return this.trusted=!0}return this.trusted=!1}},{key:"revokeGroupV4AddInvite",value:function(e){var t=this;if(this.revokeGroupV4AddInvitePromise)return this.revokeGroupV4AddInvitePromise;var a=this.id.toString(),n=h.default.me.toString(),i=this.pendingParticipants;return this.revokeGroupV4AddInvitePromise=E.default.revokeGroupV4Invite(e,a,n).then(function(t){return t.status>=200&&t.status<300&&i.remove(e),t.status}).catch(function(e){b.default.error("models:groupMetadata:participantCollection:revokeGroupV4AddInvite failed")(e)}).finally(function(){t.revokeGroupV4AddInvitePromise=null})}},{key:"queryGroupV4PendingInvite",value:function(){var e=this,t=h.default.me.toString(),a=this.id.toString();return E.default.findGroupPendingInvitesFromPhone(t,a).then(function(t){e.collection&&e.collection.add({id:e.id,pendingParticipants:t.participants},{merge:!0})}).catch(g.WapDrop,function(){})}},{key:"getCollection",value:function(){return a("djaadchjch")}}]),t}(u.default);_.Proxy="groupMetadata",_.idClass=y.default;var S=(0,u.defineModel)(_);t.default=S},fchcjedjf:function(e,t){e.exports={input:"_3FeAD",placeholder:"wjdTm",body:"_3u328",default:"_2YgjU",compose:"_1PRhq",large:"_3jJ43",status:"_2nW8k",media:"_1pSqv",invite:"_2uNpC",small:"_3HUPQ","list-search":"uu8jX",listSearch:"uu8jX"}},fciifhbdb:function(e,t){e.exports={pane:"_1_keJ",selectable:"_2AqZl",empty:"_3-kxx",incoming:"_3KRbU",ffFix:"_3sLGI",unread:"_1KNhm"}},fdacbigid:function(e,t){e.exports={icon:"_12oog",success:"_2M6IA",failed:"_2r4oW",waiting:"_3w6Ie",processing:"_3Nk46",iconSymbol:"_1kHkF",IDR:"jRxbn",idr:"jRxbn",compact:"_2CmmA"}},fdcfhecbj:function(e,t,a){"use strict";var n=a("cfjecfhbfg"),i=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return r.createElement("div",{className:(0,o.default)(s.default.icon,{[s.default.transparent]:e.theme&&"transparent"===e.theme})},e.children)};var r=i(a("ddhijeejag")),o=n(a("ceffhbhahb")),s=n(a("cjjjgbhjif"))},fdghiidhc:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"AbortError",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"HttpInvalidResponseError",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"HttpNetworkError",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"HttpStatusCodeError",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"HttpTimedOutError",{enumerable:!0,get:function(){return d.default}});var i=n(a("cgijjjgici")),r=n(a("cdadhagibj")),o=n(a("cddgaecgia")),s=n(a("iiegbbgja")),d=n(a("bciccjdabc"))},fdhajffgc:function(e,t,a){e.exports=function(){return new Worker(a.p+"opus.8af08ec9cad94869b6c2.js")}},feacbgeaf:function(e,t,a){"use strict";var n=a("cfjecfhbfg"),i=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var a=function(e){return(0,d.default)(e,{[c.default.AUDIO]:function(){return"WhatsApp Audio Keys"},[c.default.DOCUMENT]:function(){return"WhatsApp Document Keys"},[c.default.GIF]:function(){return"WhatsApp Video Keys"},[c.default.IMAGE]:function(){return"WhatsApp Image Keys"},[c.default.PPIC]:function(){throw new Error("Cannot create media keys for profile pics")},[c.default.PRODUCT]:function(){return"WhatsApp Image Keys"},[c.default.PTT]:function(){return"WhatsApp Audio Keys"},[c.default.STICKER]:function(){return"WhatsApp Image Keys"},[c.default.VIDEO]:function(){return"WhatsApp Video Keys"},[c.default.TEMPLATE]:function(){return"WhatsApp Template Keys"},[c.default.HISTORY_SYNC]:function(){return"WhatsApp HistorySync Key"}})}(e);if(!t||!a)throw new r.MediaEncryptionError("createKeys fail: !!mediakey: ".concat(!!t," info: ").concat(a," type: ").concat(e));return s.default.extractAndExpand(o.default.decode(t),a,112).then(function(e){if(!e||e.byteLength<112)throw new r.MediaEncryptionError("computeMediaKeys: hkdf error");return{iv:e.slice(0,16),encKey:e.slice(16,48),macKey:e.slice(48,80),refKey:e.slice(80,112)}})};var r=i(a("cajijabhgb")),o=n(a("hgjcbccfg")),s=n(a("bbccjbfjfe")),d=n(a("cgabfhdfbj")),c=n(a("gbjefdbgb"))},febicjijd:function(e,t){e.exports={panelContainer:"_3LFRS"}},fehbggfdh:function(e,t){e.exports={textInput:"_7w-84",labelText:"_1wt6r",hideFloatingLabel:"_3vTVM",float:"_2orhV",spacer:"_3Xs1j",noPlaceholder:"_-3Ijj",wrapper:"_3hnO5",locked:"_3K9Sw",textError:"oCQ29",errorText:"_3q759",textActive:"_3Hgym",iconMainContainer:"_2xHOS",iconsEditContainer:"_3F9q9",invite:"_1N6NG",emojiBtn:"_2asZk",charCounter:"_3Yulp",iconMain:"_30prC",iconSpinner:"_3CfRk",infoStrip:"_3YmEG",inputLarge:"_2daOi",active:"_5UNoc",emptyValPlaceholder:"_1be_K",more:"_3THW4",emojiText:"_5KVVe",groupInfoName:"_1jo6p",small:"liawM"}},ffchhcfdj:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Messaging=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=i(a("ceffhbhahb")),u=n(a("ddhijeejag")),f=i(a("cfaiaibca")),h=i(a("bbchdeehff")),p=i(a("baagejbchg")),g=i(a("biddiiafgd")),m=i(a("daiaacfgce")),b=i(a("djhbegbdaf")),v=i(a("chcadgfgad")),j=i(a("bfdcadbbif")),E=i(a("bcjcbbafcj"));t.Messaging={NOTIFICATIONS:"NOTIFICATIONS",CAMERA_FAIL:"CAMERA_FAIL",CAMERA_MISSING:"CAMERA_MISSING",MIC_FAIL:"MIC_FAIL",MIC_MISSING:"MIC_MISSING",CAMERA:"CAMERA",MIC:"MIC"};var y={GUIDE_ALLOW:"guide-allow",GUIDE_UNBLOCK:"guide-unblock",GUIDE_NONE:"guide-none"},_={CHROME_MEDIA_ERROR:"chrome_media_error",FIREFOX_LOCK:"firefox_lock",OPERA_MEDIA:"opera_media"},S=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,(0,d.default)(t).apply(this,arguments))}return(0,c.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=this.props,t=e.type,a=e.onCancel,n=e.onConfirm,i=e.messaging,r=u.createElement(A,{messaging:i});if(t===y.GUIDE_ALLOW){var o;switch(E.default.browser){case p.default.BROWSER_TYPE.CHROME:case p.default.BROWSER_TYPE.FIREFOX:o=m.default.topLeft;break;case p.default.BROWSER_TYPE.EDGE:o=m.default.bottomCenter;break;default:o=m.default.topCenter}return u.createElement(v.default,{type:"guide"},u.createElement("div",{className:(0,l.default)(m.default.containerAllow,o)},u.createElement("div",{className:m.default.icon},u.createElement(j.default,{name:"back-light"})),u.createElement("div",{className:m.default.title},u.createElement(C,{messaging:i})),u.createElement("div",{className:m.default.description},r),u.createElement("div",{className:m.default.controls},u.createElement(f.default,{onClick:n,type:"primary"},l10n.t(890)))))}return u.createElement(g.default,{title:u.createElement(C,{messaging:i}),onOK:n,okText:l10n.t(890),onCancel:a,cancelText:a?l10n.t(644):void 0},u.createElement("div",{className:m.default.description},r))}}]),t}(u.Component);function C(e){var t=e.messaging;switch(t){case"NOTIFICATIONS":return u.createElement(b.default,{id:607});case"CAMERA_FAIL":return u.createElement(b.default,{id:593});case"CAMERA_MISSING":return u.createElement(b.default,{id:592});case"MIC_MISSING":return u.createElement(b.default,{id:602});case"CAMERA":return u.createElement(b.default,{id:593});case"MIC_FAIL":case"MIC":return u.createElement(b.default,{id:603});default:throw new Error("Invalid messaging: ".concat(t))}}function A(e){var t=e.messaging,a=E.default.browser,n={[_.CHROME_MEDIA_ERROR]:u.createElement("span",{className:"chrome-media-icon"}),[_.FIREFOX_LOCK]:u.createElement("span",{className:"firefox-lock-icon"}),[_.OPERA_MEDIA]:u.createElement("span",{className:"opera-media-icon"})};switch(t){case"NOTIFICATIONS":return"edge"===a?u.createElement(b.default,{id:605,params:n}):"firefox"===a?u.createElement(b.default,{id:606,params:n}):u.createElement(b.default,{id:604,params:n});case"CAMERA_FAIL":return"edge"===a?u.createElement(b.default,{id:587,params:n}):"firefox"===a?u.createElement(b.default,{id:588,params:n}):"safari"===a?u.createElement(b.default,{id:590,params:n}):"opera"===a?u.createElement(b.default,{id:589,params:n}):u.createElement(b.default,{id:586,params:n});case"CAMERA_MISSING":return u.createElement(b.default,{id:591,params:n});case"MIC_FAIL":return"edge"===a?u.createElement(b.default,{id:597,params:n}):"firefox"===a?u.createElement(b.default,{id:598,params:n}):"safari"===a?u.createElement(b.default,{id:600,params:n}):"opera"===a?u.createElement(b.default,{id:599,params:n}):u.createElement(b.default,{id:596,params:n});case"MIC_MISSING":return u.createElement(b.default,{id:601,params:n});case"CAMERA":return"edge"===a?u.createElement(b.default,{id:585,params:n}):u.createElement(b.default,{id:584,params:n});case"MIC":return"edge"===a?u.createElement(b.default,{id:595,params:n}):u.createElement(b.default,{id:594,params:n});default:throw new Error("Invalid messaging type: ".concat(t))}}t.default=S,S.TYPE=y,S.defaultProps={type:y.GUIDE_NONE,onConfirm:function(){return h.default.closeModal()}}},ffebdchi:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i.default}});var i=n(a("dgijhbdidg"))},fffjbcghd:function(e,t){e.exports={imageGallery:"_3PC6k",imageGalleryList:"t3bMe",imageGalleryItem:"eHzbo",imageGalleryItemSpacer:"oa6vo",imageGalleryItemImage:"_1NF26",imageGalleryItemOverlay:"Nv0tf",selected:"_3kd8T",imageGalleryFooter:"_3N7QG"}},ffgjgcghi:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.setupStatusV3Controller=function(e,t){if(e){if(e.type===c.default.TYPE.IMAGE){var a=u;return(0,o.default)(t.caption)||(a+=f*Math.min(t.caption.length/150,1)),new g(a)}return e.type===c.default.TYPE.VIDEO?t.isGif?new v:new l.default:new g(h)}if(t.type===s.default.MSG_TYPE.CHAT){var n=p+60*Math.min(t.body.length,1e3);return new g(n)}return new g(h)},t.StatusV3GifController=t.StatusV3CountdownController=void 0;var i=n(a("eaidjcib")),r=n(a("dgcdacjddi")),o=n(a("bebajedcaf")),s=n(a("baagejbchg")),d=n(a("bdiiahhjbe")),c=n(a("bffjfbgbg")),l=n(a("deijdcaadj")),u=4500,f=2e3,h=3e3,p=2e3,g=function(){function e(t){var a=this;(0,i.default)(this,e),this.addListeners=function(e,t,n){a._onStart=e,a._onPause=t,a._onEnded=n},this.removeListeners=function(){a._onStart=void 0,a._onPause=void 0,a._onEnded=void 0},this.play=function(){if(a._timer)d.default.info("Duplicate timer start")();else{a._timer=setTimeout(a._onTimeup,a._timeout),a._start=(new Date).getTime();var e=a._onStart;e&&e(a._timeout,a._duration)}},this.stop=function(){if(a._timer){clearTimeout(a._timer),a._timer=null;var e=(new Date).getTime();a._timeout-=e-a._start;var t=a._onPause;t&&t()}else d.default.info("Timer stop called on stopped timer")()},this.resume=function(){a.play()},this.pause=function(){a.stop()},this._onTimeup=function(){var e=a._onEnded;e&&e()},this._duration=t,this._timeout=this._duration,this._start=0}return(0,r.default)(e,[{key:"duration",get:function(){return this._duration}}]),e}();t.StatusV3CountdownController=g;var m=6e3,b=3,v=function(){function e(){var t=this;(0,i.default)(this,e),this.removeListeners=function(){t._onStart=void 0,t._onPause=void 0,t._onEnded=void 0,t._videoController.removeListeners(),t._countdownController.removeListeners()},this.setVideo=function(e,a){t._video=e,null!=a&&(t._duration=a),t._videoController.setVideo(e)},this._onVideoStartHandler=function(){var e=t._onStart,a=t._video.duration||t._duration,n=Math.max(b*a*1e3,m);e&&e(n-1e3*a*t._playCounter-1e3*t._video.currentTime,n)},this._onVideoPauseHandler=function(){var e=t._onPause;e&&e()},this._onVideoEndedHandler=function(){t._playCounter++;var e=t._onEnded;t._playCounter===b&&(t._videoEnded=!0,t._timerEnded&&e&&e()),t._video.currentTime=0,t._videoEnded&&t._timerEnded||setTimeout(function(){t._videoController.play()},0)},this._onTimerEndedHandler=function(){var e=t._onEnded;t._timerEnded=!0,e&&t._videoEnded&&e()},this.play=function(){t._videoController.play(),t._countdownController.play()},this.stop=function(){t._videoController.stop(),t._countdownController.stop()},this.resume=function(){t._videoController.resume(),t._countdownController.resume()},this.pause=function(){t._videoController.pause(),t._countdownController.pause()},this._playCounter=0,this._timerEnded=!1,this._videoEnded=!1,this._videoController=new l.default,this._countdownController=new g(m),this._videoController.addListeners(this._onVideoStartHandler,this._onVideoPauseHandler,this._onVideoEndedHandler),this._countdownController.addListeners(void 0,void 0,this._onTimerEndedHandler)}return(0,r.default)(e,[{key:"addListeners",value:function(e,t,a){this._onStart=e,this._onPause=t,this._onEnded=a}},{key:"duration",get:function(){return Math.max(b*(this._video.duration||this._duration)*1e3,m)}}]),e}();t.StatusV3GifController=v},ffhghhcgf:function(e,t){e.exports={bubble:"_2Zgm-",hasAuthor:"_7U2w9",forwardedIndicator:"_1EYt6",hasQuote:"nINd1",meta:"J26d7",bubbleOut:"_2R63d",bubbleIn:"_2g0bm",body:"_1-4qJ",player:"wJW7M",avatar:"TMd-Z",status:"_3l9hL",author:"_11ZKc",isForwarded:"qJm9j",quote:"_1PNK0",isGallery:"asmex"}},ffhhggjcj:function(e,t){e.exports={container:"_3Durm",preview:"Q5IMh",caption:"_2_Q45",img:"_1lU4-"}},fgeddfbg:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"NoMediaHostsError",{enumerable:!0,get:function(){return c.NoMediaHostsError}}),Object.defineProperty(t,"AbortError",{enumerable:!0,get:function(){return l.AbortError}}),Object.defineProperty(t,"HttpNetworkError",{enumerable:!0,get:function(){return l.HttpNetworkError}}),Object.defineProperty(t,"HttpInvalidResponseError",{enumerable:!0,get:function(){return l.HttpInvalidResponseError}}),Object.defineProperty(t,"HttpStatusCodeError",{enumerable:!0,get:function(){return l.HttpStatusCodeError}}),t.MMSThrottleError=t.MMSForbiddenError=t.MMSUnauthorizedError=t.MediaInvalidError=t.MediaTooLargeError=t.MediaNotFoundError=void 0;var i=n(a("eaidjcib")),r=n(a("ffceefejc")),o=n(a("cjedcdbdii")),s=n(a("dbjagcfebh")),d=a("fdghiidhc"),c=a("beifdajhid"),l=a("fdghiidhc"),u=function(e){function t(e,a){var n;return(0,i.default)(this,t),(n=(0,r.default)(this,(0,o.default)(t).call(this,404,e,a))).name="MediaNotFoundError",n}return(0,s.default)(t,e),t}(d.HttpStatusCodeError);t.MediaNotFoundError=u;var f=function(e){function t(e,a){var n;return(0,i.default)(this,t),(n=(0,r.default)(this,(0,o.default)(t).call(this,413,e,a))).name="MediaTooLargeError",n}return(0,s.default)(t,e),t}(d.HttpStatusCodeError);t.MediaTooLargeError=f;var h=function(e){function t(e,a){var n;return(0,i.default)(this,t),(n=(0,r.default)(this,(0,o.default)(t).call(this,415,e,a))).name="MediaInvalidError",n}return(0,s.default)(t,e),t}(d.HttpStatusCodeError);t.MediaInvalidError=h;var p=function(e){function t(e,a){var n;return(0,i.default)(this,t),(n=(0,r.default)(this,(0,o.default)(t).call(this,401,e,a))).name="MMSUnauthorizedError",n}return(0,s.default)(t,e),t}(d.HttpStatusCodeError);t.MMSUnauthorizedError=p;var g=function(e){function t(e,a){var n;return(0,i.default)(this,t),(n=(0,r.default)(this,(0,o.default)(t).call(this,403,e,a))).name="MMSForbiddenError",n}return(0,s.default)(t,e),t}(d.HttpStatusCodeError);t.MMSForbiddenError=g;var m=function(e){function t(e,a){var n;return(0,i.default)(this,t),(n=(0,r.default)(this,(0,o.default)(t).call(this,507,e,a))).name="MMSThrottleError",n}return(0,s.default)(t,e),t}(d.HttpStatusCodeError);t.MMSThrottleError=m},fgiejiccg:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.buildResponsePayload=function(e,t){return{__id:e,__command:o.RESPONSE_COMMAND,__result:t}},t.unwrapResponsePayload=function(e){if(null!=e&&e.__command===o.RESPONSE_COMMAND){(0,i.default)(null!=e.__id,"Invocation ID missing");var t=(0,r.extractInvocationId)(e.__id);(0,i.default)(null!=t&&e.hasOwnProperty("__result"),"Malformed response message");var a=e,n=a.__result;return{result:n,invocationId:t}}};var i=n(a("cgeeeeddea")),r=a("dbcbifhbge"),o=a("cejbjjbged")},fhdffdech:function(e,t,a){"use strict";var n=a("cfjecfhbfg"),i=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.fullPreview,a=e.fullPreviewSize,n=e.pdfPages,i=e.mimeType,c=e.filename;if(t&&a&&null!=n&&n>0){var l=l10n.t(189,{count:n,_plural:n});return r.createElement("div",{className:s.default.container,"data-js-attach-preview":!0},r.createElement("div",{className:s.default.preview},r.createElement(d.default,{type:d.FIT_TYPE.SCALE_DOWN,size:a},r.createElement("img",{src:t,className:s.default.img}))),r.createElement("div",{className:s.default.caption},l))}return r.createElement(o.default,{mimeType:i,filename:c})};var r=i(a("ddhijeejag")),o=n(a("becegcbegb")),s=n(a("ffhhggjcj")),d=i(a("dgfecega"))},fibdihid:function(e,t){e.exports={container:"_1ikwU",status:"YDD6v",caption:"_3IJiH",linkPreview:"BWe1v",expired:"_3D6Pq",noCaption:"_2tpON",meta:"_1SFZJ"}},fidbefhib:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=n(a("ddhijeejag")),u=i(a("bffbahfgga")),f=i(a("bbchdeehff")),h=i(a("baagejbchg")),p=i(a("biddiiafgd")),g=i(a("dhfbfehaef")),m=i(a("fffdgbfji")),b=a("bbjjjbicfb"),v=n(a("bijffg")),j=a("bddhdheedf"),E=a("icghcjegh"),y=i(a("bfbggcdbfb")),_=i(a("becfabjeeg")),S=i(a("hfhhcchgj")),C=function(e){function t(e){var a;return(0,r.default)(this,t),(a=(0,s.default)(this,(0,d.default)(t).call(this,e))).labelModel=null,a.onOk=function(){(0,j.logLabelOperationEvent)(y.default.LABEL_OPERATIONS.CLICK_POSITIVE,1,a.props.onAddLabel?y.default.LABEL_TARGETS.ADD_LABEL_DIALOG:y.default.LABEL_TARGETS.EDIT_LABEL_DIALOG);var e=a.state,t=e.labelName,n=e.labelColor;if(!e.labelNameError){var i=t&&t.trim(),r=a.validateLabelName(i||"");r.passed?(a.props.labelId&&a.props.onUpdateLabel?a.props.onUpdateLabel({id:a.props.labelId,color:n,name:t},v.LABEL_PROPERTIES.NAME):a.props.onAddLabel&&a.props.onAddLabel(t||"",n),a.props.onCancel?a.props.onCancel():f.default.closeModal()):a.setState({labelNameError:r.error})}},a.onCancel=function(){(0,j.logLabelOperationEvent)(y.default.LABEL_OPERATIONS.CLICK_NEGATIVE,1,a.props.onAddLabel?y.default.LABEL_TARGETS.ADD_LABEL_DIALOG:y.default.LABEL_TARGETS.EDIT_LABEL_DIALOG),a.props.onCancel?a.props.onCancel():f.default.closeModal()},a.onLabelNameChange=function(e){var t=a.validateLabelName(e);a.setState({labelName:e,labelNameError:t.passed?void 0:t.error})},a.validateLabelName=function(e){var t=!0,n=null;return e&&""!==e.trim()||(t=!1),a.labelModel&&a.labelModel.name===e||0===v.default.where({name:e}).length||(t=!1,n=m.default.t(170)),{passed:t,error:n}},a.stopPropagation=function(e){e.stopPropagation()},a.props.labelId&&(a.labelModel=v.default.assertGet(a.props.labelId)),a.state={labelColor:a.labelModel&&a.labelModel.color||void 0,labelName:a.labelModel&&a.labelModel.name||"",labelNameError:void 0},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.onAddLabel?(v.default.getNewLabelColor().then(function(t){e.setState({labelColor:t||h.default.DEFAULT_SMB__NEW_LABEL_COLOR})}),(0,j.logLabelOperationEvent)(y.default.LABEL_OPERATIONS.VIEW,1,y.default.LABEL_TARGETS.ADD_LABEL_DIALOG)):this.props.onUpdateLabel&&(0,j.logLabelOperationEvent)(y.default.LABEL_OPERATIONS.VIEW,1,y.default.LABEL_TARGETS.EDIT_LABEL_DIALOG)}},{key:"render",value:function(){var e={enter:this.stopPropagation},t=!this.validateLabelName(this.state.labelName.trim()).passed;return l.createElement(p.default,{title:this.props.onUpdateLabel?m.default.t(412):m.default.t(174),okText:m.default.t(1331),onOK:this.onOk,okDisabled:t,onCancel:this.onCancel},l.createElement("div",{className:u.default.inputContainer},l.createElement("div",{className:u.default.label},this.state.labelColor?(0,E.renderLabelSvg)((0,b.intColorToHex)(this.state.labelColor)):l.createElement(_.default,{stroke:5,size:20})),l.createElement("div",{className:u.default.input},l.createElement(g.default,{handlers:e},l.createElement(S.default,{hideFloatingLabel:!0,showRemaining:!0,supportsEmoji:!0,value:this.state.labelName,error:this.state.labelNameError,maxLength:h.default.SMB_LABELS.MAX_LABEL_LENGTH,onChange:this.onLabelNameChange,placeholder:m.default.t(173)})))))}}]),t}(l.Component);t.default=C},fifhbjiec:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.EMOJI_SIZE=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("djecdhecha")),l=i(a("dbjagcfebh")),u=i(a("ceffhbhahb")),f=n(a("ddhijeejag")),h=i(a("daffbcegjj")),p=i(a("bbchdeehff")),g=i(a("djegeegcbf")),m=i(a("bhcdgaheib")),b=a("bgddggdhc"),v=i(a("daabecicc")),j=a("gaifbabbj"),E=i(a("eceadcicaf")),y=i(a("cahfddcdga")),_=i(a("cecdfacjga")),S=i(a("eagfdbhhhh")),C=a("cdejbeiiha"),A=i(a("fbjjefaic")),M=i(a("bcjcbbafcj")),T={SMALL:"SMALL",LARGE:"LARGE"};t.EMOJI_SIZE=T;var P=4096,N=12,I=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).state={text:(0,_.default)(a.props.text||""),ellipsified:null},a.registeredListener=!1,a.registerResizeListener=function(){a.registeredListener||(a.registeredListener=!0,a.props.listeners.add(window,"resize",a.recompute),a.props.listeners.add(p.default,"resize",a.recompute))},a.unregisterResizeListener=function(){a.registeredListener&&(a.registeredListener=!1,a.props.listeners.remove(window,"resize",a.recompute),a.props.listeners.remove(p.default,"resize",a.recompute))},a.containsEmoji=function(){return g.default.containsEmoji((a.state.text||"").substring(0,P))},a.recompute=a.props.debounce(function(){a.setState({ellipsified:null},a.ellipsify)},10),a.ellipsifyCheck=function(){return a.containsEmoji()&&a.ellipsify()},a.ellipsify=function(){var e=(0,b.forbiddenFindDOMNode)((0,c.default)(a));if(e){var t=(0,y.default)(e.parentNode),n=e.querySelectorAll("img");if(n.length){var i=e.clientWidth;e.style.overflow="visible";var r=e.clientWidth!==i;if(e.style.overflow="hidden",r){var o=Boolean(l10n.isRTL())===Boolean(a.props.dirMismatch),s=n[function(e,t,a){var n=0;for(;n<e.length;){var i=e[n];if(a&&i.offsetLeft+i.clientWidth>=t)break;if(!a&&i.offsetLeft<=t)break;n++}return n}(n,o?t.clientWidth-function(e,t){for(var a=0,n=e.childNodes,i=0;i<n.length;i++){var r=n[i];if(r===t)break;a+=r.clientWidth}return a}(t,e)-N:N,o)];a.setState({ellipsified:O(e,s)})}}}},a.buildBidiModel=function(e){return e.reduce(function(e,t){if("string"==typeof t){var a=t.split(/(\r?\n|\r)/g).map(function(e,t){return{dir:h.default.dir(e),content:e}});return e.concat(a)}return e.push({content:t}),e},[])},a.explodeOutputByLines=function(e){for(var t=a.props.direction,n=[],i=a.buildBidiModel(e),r=[],o=null,s=function(e){var a=null==o||null==t||o===t,i=a?null:o,s=!a||"rtl"===o!==l10n.isRTL()?m.default.dirMismatch:null;n.push(f.createElement("span",{key:e,dir:i,className:s},r))},d=0;d<i.length;d++){var c=i[d];o!==c.dir&&null!=o&&void 0!==c.dir&&(s(d),r=[]),void 0!==c.dir&&(o=c.dir),r.push(c.content)}return s(i.length),n},a.UNSAFE_componentWillMount=function(){!M.default.supportsEmojiEllipsification&&a.props.ellipsify&&a.containsEmoji()&&a.registerResizeListener()},a.componentDidMount=function(){!M.default.supportsEmojiEllipsification&&a.props.ellipsify&&a.ellipsifyCheck()},a.UNSAFE_componentWillReceiveProps=function(e){var t=e.text,n=(0,_.default)(t||"");a.setState({text:n});var i=a.props.ellipsify;if(!M.default.supportsEmojiEllipsification&&i&&n!==a.state.text){var r=(n||"").substring(0,P);g.default.containsEmoji(r)?(a.recompute(),a.registerResizeListener()):(a.setState({ellipsified:null}),a.unregisterResizeListener())}},a.render=function(){if(!a.state.text)return null;var e=a.props,t=e.onClick,n=e.ellipsify,i=e.dirMismatch,r=e.inferLinesDirection,o=e.inlineblock,s=e.direction,d=e.textLimit,c=a.state.ellipsified?a.state.ellipsified:a.state.text,l="inherit"===s?null:s||"auto",h=!!a.props.selectable,p=a.props.formatters||j.Configuration.EmojiOnly({selectable:h}),g=d||1/0;n&&c.length>P&&g>P&&(g=P);var b=i&&!r,E=(0,u.default)(a.props.className,{[m.default.ellipsify]:!!n,[m.default.inlineblock]:!!o,[m.default.clickable]:!!t,[m.default.dirMismatch]:b}),y=(0,v.default)(c,p,C.JSXSerializer,void 0,g),_=a.props.inferLinesDirection?a.explodeOutputByLines(y):y;return f.createElement(S.default,{className:E,dir:l,element:a.props.element,onClick:t,selectable:h,title:a.props.titlify?a.state.text:void 0,noInvisibleSpace:a.props.noInvisibleSpace},_,a.state.ellipsified||c.length>g?"":null)},a}return(0,l.default)(t,e),(0,o.default)(t,[{key:"getWidth",value:function(){var e=(0,b.forbiddenFindDOMNode)(this);return e?e.getBoundingClientRect().width:0}}]),t}(f.PureComponent);I.defaultProps={element:"span",emojiSize:T.SMALL,textLimit:1/0};var k=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,(0,d.default)(t).apply(this,arguments))}return(0,l.default)(t,e),(0,o.default)(t,[{key:"getWidth",value:function(){return this.getComponent().getWidth()}}]),t}((0,E.default)((0,A.default)(I)));function O(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{found:!1};if(e===t)return a.found=!0,"";if(e instanceof HTMLImageElement)return e.alt;if(e.nodeType===Node.TEXT_NODE)return e.nodeValue;for(var n=function(e){switch(e.tagName){case"CODE":return"```";case"STRONG":return"*";case"EM":return"_";case"DEL":return"~";default:return""}}(e),i="",r=0;r<e.childNodes.length&&(i+=O(e.childNodes[r],t,a),!a.found);)r++;return n?"".concat(n).concat(i).concat(n):i}t.default=k},fijafegab:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=i(a("ceffhbhahb")),u=n(a("ddhijeejag")),f=i(a("effbcehec")),h=i(a("bfjegcdcag")),p=i(a("bhifaggjcb")),g=i(a("eedjbihej")),m=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,(0,d.default)(t).apply(this,arguments))}return(0,c.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e,t=this.props,a=t.children,n=t.title,i=t.subtitle,r=t.titleOnClick,o=t.a8nText,s=t["data-list-scroll-offset"],d=t.theme,c=t.animation,m=d?h.default[d]:null,b=(0,l.default)(h.default.container,{[h.default.animate]:c},m);return n&&(e=u.createElement("div",{className:h.default.title,"data-a8n":f.default.key(o),role:r?"button":null,onClick:r},u.createElement(p.default,{side:i,ellipsify:!0},u.createElement(g.default,{theme:"section-title"},n)))),u.createElement("div",{className:b,"data-list-scroll-offset":s},e,a)}}]),t}(u.PureComponent);t.default=m,m.defaultProps={animation:!0}},fjeagagdf:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("bjehdcaaj")),o=i(a("eaidjcib")),s=i(a("dgcdacjddi")),d=i(a("ffceefejc")),c=i(a("cjedcdbdii")),l=i(a("dbjagcfebh")),u=i(a("bebajedcaf")),f=n(a("ddhijeejag")),h=i(a("ejiicdbii")),p=i(a("ebcagbhefg")),g=i(a("bbchdeehff")),m=i(a("baagejbchg")),b=i(a("dabbjcaadh")),v=a("ddjgcfjicj"),j=i(a("dbbijbhaai")),E=i(a("eceadcicaf")),y=i(a("biecbbiiee")),_=i(a("dcdiaahjj")),S=i(a("fbjjefaic")),C=function(e){function t(){var e;return(0,o.default)(this,t),(e=(0,d.default)(this,(0,c.default)(t).apply(this,arguments)))._refContainer=f.createRef(),e.msgCollectionChanged=function(t,a,n,i){var r=e.state.msgCollection;r!==t&&r!==a||e.setState({msgCollection:n,focusCtx:i&&(i.msg||i.collection)?i:e.state.focusCtx})},e.windowGainedFocus=function(){_.default.markAvailable();var t=e.state.chat;t&&t.isUser&&t.presence.subscribe().catch(v.WapDrop,function(){})},e.windowLostFocus=function(){_.default.markUnavailable(m.default.SEND_UNAVAILABLE_WAIT)},e.handleClearChat=function(t){e.state.chat===t&&e.setState({chat:void 0,msgCollection:void 0,focusCtx:void 0})},e._handleOpenChatId=0,e.handleOpenChat=function(t,a,n){g.default.updateChatlistSelection(t);var i=e.openedChatInfo,r={};e.openedChatInfo=r;var o=a?a.collection:t.msgs;e._handleOpenChatId++;var s=e._handleOpenChatId,d=function(){return s===e._handleOpenChatId},c=!1,l=function(){d()&&(c=!0,n(e.newChatScrollInfo(i,a)))},u=a&&a.msg&&a.msg.id||a&&a.key;e.setState({chat:t,msgCollection:o,focusCtx:a,notifyChatRendered:function(e){!c&&d()&&(u?e.some(function(e){return e.id.equals(u)})&&l():l())},updateOpenedChatInfo:function(e){Object.assign(r,e)}})},e.newChatScrollInfo=function(e,t){var a=t?t.msg||y.default.get(t.key):void 0;if(t&&a&&e){var n=e.chat,i=e.renderedMsgsInfo,r=e.visibleMsgOrder;if(n&&i&&r&&!(0,u.default)(i)&&!(0,u.default)(r)){var o=i[r[0].toString()],s=Object.keys(i).find(function(e){return e===a.id.toString()}),d=s?i[s]:null;if(d)return{wasVisible:!0,offset:d.offset};if(n===a.chat)return o&&a.t<o.t?{wasVisible:!1,alignAt:"top"}:{wasVisible:!1,alignAt:"bottom"}}}return{wasVisible:!1,alignAt:"center"}},e.state={chat:void 0,msgCollection:void 0,focusCtx:void 0},e}return(0,l.default)(t,e),(0,s.default)(t,[{key:"componentDidMount",value:function(){this.props.listeners.add(g.default,"open_chat",this.handleOpenChat),this.props.listeners.add(g.default,"clear_chat",this.handleClearChat),this.props.listeners.add(window,"focus",this.windowGainedFocus),this.props.listeners.add(window,"blur",this.windowLostFocus)}},{key:"shouldComponentUpdate",value:function(e,t){return t!==this.state||e.animate!==this.props.animate}},{key:"componentDidUpdate",value:function(e,t){var a=this.state.chat,n=t.chat;if(a&&n!==a){if(this.props.listeners.add(a,"change:cmc:merge",this.msgCollectionChanged),n&&this.props.listeners.remove(n,"change:cmc:merge",this.msgCollectionChanged),!a.contact.isBusiness)return;var i=h.default.get(a.id);i&&!i.stale||h.default.find(a.id)}}},{key:"animatePanel",value:function(e,t){var a;return!(null===(a=this._refContainer)||void 0===a||!a.current)&&this._refContainer.current.animatePanel(e,t)}},{key:"containsDOMNode",value:function(e){var t;return!(null===(t=this._refContainer)||void 0===t||!t.current)&&this._refContainer.current.containsDOMNode(e)}},{key:"render",value:function(){var e=this.state,t=e.chat,a=e.msgCollection,n=e.focusCtx;return t&&a?f.createElement(b.default,{chat:t,groupMetadata:t.groupMetadata,chatPreference:p.default.assertGet("defaultPreference"),focusCtx:n,msgCollection:a,notifyChatRendered:this.state.notifyChatRendered||function(){},updateOpenedChatInfo:this.state.updateOpenedChatInfo||function(){},key:t.id.toString(),ref:this._refContainer}):f.createElement(j.default,{animate:this.props.animate,ref:this._refContainer})}}]),t}(f.Component),A=function(e){function t(){return(0,o.default)(this,t),(0,d.default)(this,(0,c.default)(t).apply(this,arguments))}return(0,l.default)(t,e),(0,s.default)(t,[{key:"animatePanel",value:function(e,a){return(0,r.default)((0,c.default)(t.prototype),"getComponent",this).call(this).animatePanel(e,a)}},{key:"containsDOMNode",value:function(e){return this.getComponent().containsDOMNode(e)}}]),t}((0,E.default)((0,S.default)(C)));t.default=A},gabccaieg:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("eaidjcib")),r=n(a("dgcdacjddi")),o=n(a("ffceefejc")),s=n(a("cjedcdbdii")),d=n(a("djecdhecha")),c=n(a("dbjagcfebh")),l=n(a("cgcgbfbffj")),u=n(a("bjigbaghc")),f=n(a("ccicaaeiaa")),h=n(a("bjgdagjjci")),p=function(e){function t(){var e;return(0,i.default)(this,t),(e=(0,o.default)(this,(0,s.default)(t).call(this))).listenTo((0,d.default)(e),"change:disabled",function(t){t.disabled&&e.removeParticipant(t)}),e}return(0,c.default)(t,e),(0,r.default)(t,[{key:"delete",value:function(){var e=this;this.forEach(function(t){return e.removeParticipant(t)})}},{key:"validLocations",value:function(){return this.filter(function(e){return e.valid})}},{key:"removeParticipant",value:function(e){this.remove(e),e.delete()}}]),t}(l.default);t.default=p,p.model=h.default,p.comparator=function(e,t){return e.contact.id.equals(u.default.me)?-1:t.contact.id.equals(u.default.me)?1:(0,f.default)(e.contact,t.contact)}},gaifbabbj:function(e,t,a){"use strict";var n=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.Configuration=void 0;var i=n(a("cehdgbej"));t.Configuration=i},gajigdged:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.FooterType=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=i(a("dbafiicfja")),u=i(a("bhdefefjjb")),f=i(a("bhdddbafig")),h=i(a("ceffhbhahb")),p=n(a("ddhijeejag")),g=i(a("ebjaejiaba")),m=i(a("dgjdeicghc")),b=i(a("fifhbjiec")),v=i(a("fffdgbfji")),j=i(a("eceadcicaf")),E=i(a("idbcfjbae")),y=i(a("cdjhjdcbeg")),_=i(a("bfdcadbbif")),S=i(a("didfdhbecg")),C={MANAGE_ADMINS:"MANAGE_ADMINS"};t.FooterType=C;var A=function(e){function t(e){var a;return(0,r.default)(this,t),(a=(0,s.default)(this,(0,d.default)(t).call(this,e))).forwardIsEnabled=!0,a.handleForwardClick=function(){a.forwardIsEnabled&&(a.forwardIsEnabled=!1,a.props.onForward())},a.firstRenderActive=e.startActive||!1,a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.listeners.add(this.props.selections,"all",function(){e.forceUpdate()}),0===this.props.selections.getSelected().length&&(this.firstRenderActive=!1)}},{key:"componentDidUpdate",value:function(){0===this.props.selections.getSelected().length&&(this.firstRenderActive=!1)}},{key:"render",value:function(){var e,t=this.props.type,a=t===C.MANAGE_ADMINS?p.createElement(_.default,{name:"checkmark-light"}):p.createElement(_.default,{directional:!0,name:"send-light"});return this.props.selections.getSelected().length>0&&(e=p.createElement("div",{className:(0,h.default)(m.default.controlsSummary,{[m.default.adminSetting]:t===C.MANAGE_ADMINS})},t!==C.MANAGE_ADMINS&&p.createElement(T,{chats:this.props.selections.getSelected()}),p.createElement("div",{"data-animate-btn":!0,className:this.firstRenderActive?m.default.btnActive:m.default.btnAction},p.createElement(y.default,{large:!0,onClick:this.handleForwardClick},a)))),p.createElement(S.default,{transitionName:"slide-up-down-footer",className:m.default.container},e)}}]),t}(p.Component),M=(0,j.default)(A);t.default=M;var T=function(e){function t(e){var a;return(0,r.default)(this,t),(a=(0,s.default)(this,(0,d.default)(t).call(this,e))).state={chats:a.props.chats},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){for(var e=(0,l.default)(this.state.chats,function(e){return e instanceof g.default?e.formattedTitle:e instanceof E.default?e.name:e.formattedShortNameWithNonBreakingSpaces}),t=[],a=e.length-1;a>=0;a--)t.push(p.createElement(b.default,{className:m.default.item,key:a,text:e[a]})),a>0&&t.push(p.createElement("span",{key:"comma-".concat(a)},v.default.t(426)));return p.createElement(S.default,{transitionName:"pop",className:m.default.summaryText},t)}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a=t.chats,n=e.chats;return{chats:a=n&&n.length>a.length?a.concat((0,f.default)(n,a)):(0,u.default)(a,n)}}}]),t}(p.Component)},gbbacfeci:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.StatusCollection=void 0;var i=n(a("hbddjfeei")),r=n(a("eaidjcib")),o=n(a("dgcdacjddi")),s=n(a("ffceefejc")),d=n(a("cjedcdbdii")),c=n(a("dbjagcfebh")),l=n(a("cgcgbfbffj")),u=a("ddjgcfjicj"),f=n(a("dieafdcbjb")),h=a("bijjheifie"),p=n(a("jccfhaecf")),g=a("dcbdjheea"),m=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,(0,d.default)(t).apply(this,arguments))}return(0,c.default)(t,e),(0,o.default)(t,[{key:"onResume",value:function(){var e=this;this.filter(function(e){return e.hasObservers()}).forEach(function(t){e.find(t.id).catch(u.WapDrop,function(){})})}},{key:"_find",value:function(e){var t=e instanceof p.default?e:(0,g.createWid)(e);return(0,h.getStatus)(t)}},{key:"handle",value:function(e){var t=(0,i.default)(e,1)[0],a=this.get(t.id);a&&(a.status=t.status,a.stale=!1)}}]),t}(l.default);t.StatusCollection=m,m.model=f.default,m.idClass=p.default,m.staleCollection=!0,m.resumeOnAvailable=!0;var b=new m;t.default=b},gbbfhbhhc:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=i(a("ceffhbhahb")),u=n(a("ddhijeejag")),f=i(a("ejegihaeh")),h=i(a("djbgihfhif")),p=i(a("dbdfbgehgj")),g=i(a("bbchdeehff")),m=i(a("bjigbaghc")),b=i(a("bjjiehdfge")),v=i(a("djcchigfih")),j=i(a("djbhiedbef")),E=n(a("dajffajabh")),y=a("ddjgcfjicj"),_=n(a("cajijabhgb")),S=i(a("fffdgbfji")),C=i(a("eceadcicaf")),A=a("bgjddhffji"),M=i(a("bdiiahhjbe")),T=a("cbcbdjdah"),P=a("cjcghajbag"),N=i(a("jdehfjbjc")),I=i(a("bhfgbcfeae")),k=i(a("cacbgbjgef")),O=i(a("bjbedjfe")),R=i(a("gicgagfjj")),w=n(a("becfabjeeg")),D=i(a("ihfccfgdf")),L=a("bheafeifce"),U=i(a("eedjbihej")),G=function(e){function t(e){var a;(0,r.default)(this,t),(a=(0,s.default)(this,(0,d.default)(t).call(this,e))).onReportProduct=function(){var e=a.props,t=e.product,n=e.sessionId;g.default.openModal(u.createElement(R.default,{product:t,sessionId:n}))},a._onProductLinkClick=function(){a.props.onProductLinkClick(a.props.product)},a.onSendChat=function(){var e=a.props.product,t=e.catalogWid,n=f.default.get(t);if(n){var i=n.productCollection.get(e.id),r=i?(0,L.unproxy)(i):(0,L.unproxy)(e);if(r){if(t.toString()===m.default.me.toString())return a.onSendProduct();var o=r.productImageCollection.head(),s=o&&o.mediaData;s&&p.default.find(t).then(function(e){g.default.openChatFromUnread(e).then(function(a){if(a){var n=(0,L.unproxy)((0,T.createProductInquiry)(r,t,s));e.composeQuotedMsg=n,g.default.focusChatTextInput(e),window.innerWidth<=1024&&g.default.closeDrawerRight()}})})}}},a.onSendProduct=function(){var e=a.props.product,t=e.catalogWid,n=f.default.get(t);if(n){var i=n.productCollection.get(e.id),r=i?(0,L.unproxy)(i):(0,L.unproxy)(e);g.default.attachProduct({product:r})}},a.onBack=function(){var e=a.props.onBack;if(e)return e()},a.onProductCatalog=function(){var e=a.props,t=e.onProductCatalog,n=e.sessionId,i=e.product;t&&t(i.catalogWid,n)},a.onProductDetail=function(e){var t=a.props,n=t.onProductDetail,i=t.sessionId;if(n)return n(e,i)},a.isRejected=function(){return a.props.product.reviewStatus===P.PRODUCT_REVIEW_STATUS.REJECTED},a.isAvailable=function(){var e=a.state.productFetchState;return"ERROR"!==e&&"NOT_FOUND"!==e&&!a.isRejected()};var n=e.product.fetchedFromServer?"SUCCESS":"PENDING",i=null,o="NONE";return e.refreshCarousel&&((i=f.default.get(e.product.catalogWid))&&i.productCollection&&i.fetchedFromServer?o="SUCCESS":(i=null,o="PENDING")),a.state={productCatalog:i,productFetchState:n,productCatalogFetchState:o},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.product,a=e.sessionId,n=t.catalogWid,i=t.id.toString();n&&i&&(this._fetchProduct(),"PENDING"===this.state.productCatalogFetchState&&this._fetchProductCatalog(),(0,A.logProductDetailView)((0,L.unproxy)(t),a))}},{key:"_fetchProduct",value:function(){var e=this,t=this.props,a=t.product,n=t.rejectOnUnmount,i=a.catalogWid,r=a.id.toString();f.default.findProduct({catalogWid:i,productId:r,productMsgMediaData:(0,L.unproxy)(a).productMsgMediaData}).checkpoint(n()).then(function(){e.setState({productFetchState:"SUCCESS"})}).catch(_.Unmount,function(){}).catch(y.ServerStatusCodeError,function(t){"not_found"===t.status?e.setState({productFetchState:"NOT_FOUND"}):(e.setState({productFetchState:"ERROR"}),M.default.error("Failed to fetch product from server",t)())}).catch(y.WapDrop,function(t){e.setState({productFetchState:"ERROR"}),M.default.error("Failed to fetch product",t)()})}},{key:"_fetchProductCatalog",value:function(){var e=this,t=this.props,a=t.product,n=t.rejectOnUnmount,i=a.catalogWid;f.default.findCarouselCatalog(i).checkpoint(n()).then(function(t){var a=Array.isArray(t)?t[0]:t;e.setState({productCatalog:a||null,productCatalogFetchState:a?"SUCCESS":"NONE"})}).catch(_.Unmount,function(){}).catch(y.ServerStatusCodeError,function(t){"not_found"===t.status?e.setState({productCatalog:null,productCatalogFetchState:"NOT_FOUND"}):(e.setState({productCatalog:null,productCatalogFetchState:"ERROR"}),M.default.error("Failed to fetch product catalog from server",t)())}).catch(y.WapDrop,function(t){e.setState({productCatalog:null,productCatalogFetchState:"ERROR"}),M.default.error("Failed to fetch product catalog",t)()})}},{key:"componentWillUnmount",value:function(){var e=this.props.product,t=e.catalogWid,a=e.id.toString();if(t&&a){var n=f.default.get(t),i=n&&n.msgProductCollection.get(a);i&&i.fetchedFromServer&&n&&n.msgProductCollection.remove(i)}}},{key:"renderTopBar",value:function(){var e,t=this.state,a=t.productFetchState,n=t.productCatalogFetchState,i=this.isAvailable();e="ERROR"===a?u.createElement(U.default,{className:N.default.text,theme:"small",color:"danger"},S.default.t(921)):i?[u.createElement(w.default,{size:14,color:w.colorOptions.highlight,key:"DetailDrawer-loadingBar-spinner"}),u.createElement(U.default,{className:(0,l.default)(N.default.text,N.default.loadingText),theme:"small",key:"DetailDrawer-loadingBar-msg"},S.default.t(940))]:u.createElement(U.default,{className:N.default.text,theme:"small",color:"danger"},S.default.t(927));var r="PENDING"===a||"PENDING"===n||!i;return u.createElement("div",{className:(0,l.default)({[N.default.loadingContainer]:r,[N.default.shiftUp]:!r})},e)}},{key:"renderDrawerMenu",value:function(){return this.isAvailable()?u.createElement(b.default,{onSendProduct:this.onSendProduct,onReportProduct:this.onReportProduct,onProductLinkClick:this._onProductLinkClick}):null}},{key:"renderDrawerHeader",value:function(){return u.createElement(E.default,{a8n:"drawer-title-profile",title:S.default.t(923),onBack:this.onBack,type:E.DRAWER_HEADER_TYPE.SMALL,menu:this.renderDrawerMenu()})}},{key:"render",value:function(){var e=this.props,t=e.product,a=e.sessionId,n=this.state,i=n.productCatalog,r=n.productFetchState,o=this.isAvailable();return u.createElement(v.default,{onDrop:this.onBack,key:"product-details-drawer"},this.renderDrawerHeader(),u.createElement(j.default,null,this.renderTopBar(),u.createElement(k.default,{product:t,isAvailable:o,fetching:"PENDING"===r,sessionId:a}),u.createElement(I.default,{product:t,onSendChat:this.onSendChat,isAvailable:o,sessionId:a}),i?u.createElement(h.default,{catalog:i,onProductCatalog:this.onProductCatalog,onProductDetail:this.onProductDetail,filterProductId:t.id.toString(),title:S.default.t(919),animation:!1,sessionId:a}):null))}}]),t}(u.Component);G.CONCERNS={product:["id","catalogWid","productImageCollection","fetchedFromServer","name","reviewStatus"]};var x=(0,O.default)((0,C.default)((0,D.default)(G,G.CONCERNS)));t.default=x},gbfcbchfd:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("eaidjcib")),r=n(a("ffceefejc")),o=n(a("cjedcdbdii")),s=n(a("dbjagcfebh")),d=function(e){function t(){return(0,i.default)(this,t),(0,r.default)(this,(0,o.default)(t).apply(this,arguments))}return(0,s.default)(t,e),t}(n(a("dhhhjaejje")).default);t.default=d,d.onDelimiter=function(e){return e},d.onMutator=function(e,t){return t.join("")},d.onRoot=function(e){return e.join("")},d.onText=function(e){return e}},gbgcehdj:function(e,t){e.exports={icon:"_3-N0F",iconE2E:"_2VVfP"}},gbjefdbgb:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.castToV4=function(e){var t;if(null==e)t=o.DOCUMENT;else{if(!(e in o))throw new Error("castToV4: unexpected mmsv3 type ".concat(e));t=o[e]}return t},t.msgToMediaType=function(e){var t=e.type,a=e.isGif,n=e.subtype;switch(t){case r.MSG_TYPE.IMAGE:return o.IMAGE;case r.MSG_TYPE.VIDEO:return a?o.GIF:o.VIDEO;case r.MSG_TYPE.AUDIO:return o.AUDIO;case r.MSG_TYPE.PTT:return o.PTT;case r.MSG_TYPE.DOCUMENT:return o.DOCUMENT;case r.MSG_TYPE.STICKER:return o.STICKER;case r.MSG_TYPE.PRODUCT:return o.PRODUCT;case r.MSG_TYPE.TEMPLATE:switch(n){case"image":return o.IMAGE;case"video":return o.VIDEO;case"document":return o.DOCUMENT;default:throw new Error("template media msg is missing subtype")}default:throw new Error("msg is not a media msg: ".concat(t,", isGif=").concat(String(a)))}},t.MEDIA_TYPE_VALUES=t.MEDIA_TYPES_INVERTED=t.default=void 0;var i=n(a("cehcfaibji")),r=a("baagejbchg"),o=Object.freeze({AUDIO:"audio",DOCUMENT:"document",GIF:"gif",IMAGE:"image",PPIC:"ppic",PRODUCT:"product",PTT:"ptt",STICKER:"sticker",VIDEO:"video",TEMPLATE:"template",HISTORY_SYNC:"history"}),s=o;t.default=s;var d=Object.freeze({audio:"AUDIO",document:"DOCUMENT",gif:"GIF",image:"IMAGE",ppic:"PPIC",product:"PRODUCT",ptt:"PTT",sticker:"STICKER",video:"VIDEO",template:"TEMPLATE",history:"HISTORY_SYNC"});t.MEDIA_TYPES_INVERTED=d;var c=(0,i.default)(o);t.MEDIA_TYPE_VALUES=c},gcbiehega:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg"),r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=i(a("ceffhbhahb")),u=n(a("ddhijeejag")),f=i(a("bbchdeehff")),h=i(a("baagejbchg")),p=a("ddjgcfjicj"),g=n(a("cajijabhgb")),m=i(a("djifeiaaea")),b=i(a("dhfbfehaef")),v=i(a("fffdgbfji")),j=i(a("bdiiahhjbe")),E=i(a("bffjfbgbg")),y=i(a("bfbggcdbfb")),_=i(a("bjbedjfe")),S=i(a("becfabjeeg")),C=i(a("hjbcfjaai")),A=n(a("efgideggi")),M=i(a("cccjfjdgcj")),T=i(a("bfdcadbbif")),P=n(a("bfjajhbdf")),N=i(a("didfdhbecg")),I=function(e){function t(){var e;(0,r.default)(this,t),(e=(0,s.default)(this,(0,d.default)(t).apply(this,arguments))).onClickProgressBar=function(t){var a=e.state.iterator;if((!a||t!==a.msgIdx)&&a){var n=e.statusV3Snapshot.statusAt(a,t);n.isFulfilled()||e.setState({loading:!0}),n.checkpoint(e.props.rejectOnUnmount()).then(function(t){e.setState({iterator:t})}).catch(g.Unmount,function(){}).catch(p.EphemeralDrop,function(){}).catch(A.InvalidStatusV3Iterator,function(){j.default.error("Invalid iterator while getting next status msg")()}).catch(A.StatusV3LoadingError,function(){j.default.error("No more status v3 while preloading next status")()}).finally(function(){e.setState({loading:!1})})}},e.preloadNextStatus=function(){var t=e.state.iterator;t&&e.statusV3Snapshot.hasNext(t)&&e.statusV3Snapshot.getNext(t).checkpoint(e.props.rejectOnUnmount()).then(function(t){var a=e.statusV3Snapshot.statuses[t.statusIdx].msgs[t.msgIdx];if(!a)throw new A.StatusV3MsgNotFound;if(a.type===h.default.MSG_TYPE.CHAT)m.default.load(a.font).catch(function(){});else{var n=a.mediaData;n&&n.mediaStage!==E.default.STAGE.RESOLVED&&a.downloadMedia(!0,y.default.WEBC_RMR_REASON_CODE.STATUS_V3)}}).catch(g.Unmount,function(){}).catch(p.EphemeralDrop,function(){}).catch(A.InvalidStatusV3Iterator,function(){j.default.error("Invalid iterator while preloading next status")()}).catch(A.StatusV3MsgNotFound,function(){j.default.error("Error finding next status while preloading next status")()}).catch(A.StatusV3LoadingError,function(){j.default.error("No more status v3 while preloading next status")()})},e.onPrev=function(){var t=e.state.iterator;if(t&&e.statusV3Snapshot.hasPrev(t)){var a=t.statusIdx;e.statusV3Snapshot.getPrev(t).checkpoint(e.props.rejectOnUnmount()).then(function(t){t.statusIdx===a?e.setState({iterator:t}):(e.setState({transitioning:!0}),Promise.delay(200).checkpoint(e.props.rejectOnUnmount()).then(function(){e.setState({iterator:t,transitioning:!1})}).catch(g.Unmount,function(){}))}).catch(g.Unmount,function(){}).catch(p.EphemeralDrop,function(){}).catch(A.InvalidStatusV3Iterator,function(){j.default.error("Invalid iterator while getting previous status msg")()}).catch(A.StatusV3LoadingError,function(){j.default.error("No more status v3 while preloading next status")()})}},e.onNext=function(){var t=e.state.iterator;if(t&&e.statusV3Snapshot.hasNext(t)){var a=t.statusIdx,n=e.statusV3Snapshot.getNext(t);n.isFulfilled()||e.setState({loading:!0}),n.checkpoint(e.props.rejectOnUnmount()).then(function(t){t.statusIdx===a?e.setState({iterator:t}):(e.setState({transitioning:!0,loading:!1}),Promise.delay(200).checkpoint(e.props.rejectOnUnmount()).then(function(){e.setState({iterator:t,transitioning:!1})}).catch(g.Unmount,function(){}))}).catch(g.Unmount,function(){}).catch(p.EphemeralDrop,function(){}).catch(A.InvalidStatusV3Iterator,function(){j.default.error("Invalid iterator while getting next status msg")(),e.closeStatusViewer()}).catch(A.StatusV3LoadingError,function(){j.default.error("No more status v3 while preloading next status")()}).finally(function(){e.setState({loading:!1})})}else e.closeStatusViewer()},e.markRead=function(t,a){if(a){var n=t.unreadCount,i=t.totalCount;t.msgs.getModelsArray().findIndex(function(e){return e===a})>=i-n&&t.sendReadStatus(a.id,a.author);var r=e.statusV3Snapshot.statuses.find(function(e){return e.statusV3===t});r&&r.readMsgKeys.push(a.id.toString())}},e.closeStatusViewer=function(t){e.setState({transitioning:!0}),Promise.delay(200).checkpoint(e.props.rejectOnUnmount()).then(function(){e.props.closeStatusViewer(t)}).catch(g.Unmount,function(){})};var a=e.props.initialStatusV3;if(e.props.quotedMsgKey){e.state={};var n=e.props.quotedMsgKey;if(-1!==a.msgs.getModelsArray().findIndex(function(e){return e.id.toString()===n.toString()}))e.statusV3Snapshot=new A.default(a,n),e.statusV3Snapshot.getFirstUnread(a,!0,n).checkpoint(e.props.rejectOnUnmount()).then(function(t){e.setState({iterator:t,loading:!1})}).catch(g.Unmount,function(){}).catch(p.EphemeralDrop,function(){}).catch(A.InvalidStatusV3Iterator,function(){j.default.error("Invalid iterator while loading first unread msg")(),f.default.openToast(u.createElement(P.default,{msg:v.default.t(1069),id:(0,P.genId)()})),e.props.closeStatusViewer()});else e.state={loading:!0},a.loadMore(a.totalCount).then(function(){(e.setState({loading:!1}),-1!==a.msgs.getModelsArray().findIndex(function(e){return e.id.toString()===n.toString()}))?(e.statusV3Snapshot=new A.default(a,n),e.statusV3Snapshot.getFirstUnread(a,!0,n).checkpoint(e.props.rejectOnUnmount()).then(function(t){e.setState({iterator:t,loading:!1})}).catch(g.Unmount,function(){}).catch(p.EphemeralDrop,function(){}).catch(A.InvalidStatusV3Iterator,function(){j.default.error("Invalid iterator while loading first unread msg")(),f.default.openToast(u.createElement(P.default,{msg:v.default.t(1069),id:(0,P.genId)()})),e.props.closeStatusViewer()})):(e.props.onMsgNotFound&&e.props.onMsgNotFound(),f.default.openToast(u.createElement(P.default,{msg:v.default.t(1069),id:(0,P.genId)()})),e.props.closeStatusViewer())}).catch(function(){f.default.openToast(u.createElement(P.default,{msg:v.default.t(1069),id:(0,P.genId)()})),e.props.closeStatusViewer()}).finally(function(){e.setState({loading:!1})})}else{var i=e.props.initialStatusMsg;e.statusV3Snapshot=new A.default(a);var o=e.statusV3Snapshot.getFirstUnread(a,!0,i&&i.id);o.isFulfilled()?e.state={}:e.state={loading:!0},o.checkpoint(e.props.rejectOnUnmount()).then(function(t){e.setState({iterator:t,loading:!1})}).catch(g.Unmount,function(){}).catch(p.EphemeralDrop,function(){}).catch(A.InvalidStatusV3Iterator,function(){j.default.error("Invalid iterator while loading first unread msg")(),f.default.openToast(u.createElement(P.default,{msg:v.default.t(1069),id:(0,P.genId)()})),e.props.closeStatusViewer()})}return e}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){this.preloadNextStatus()}},{key:"componentDidUpdate",value:function(){this.preloadNextStatus()}},{key:"render",value:function(){var e,t,a,n,i,r,o,s,d=this,c=this.state.iterator;c&&(r=(i=this.statusV3Snapshot).statuses[c.statusIdx],o=r.statusV3,s=r.msgs[c.msgIdx],i.hasPrev(c)&&(a=u.createElement("div",{className:M.default.chevronLeft},u.createElement(T.default,{name:"chevron-left"})),n=u.createElement("div",{className:M.default.chevronLeftBg,onClick:this.onPrev})),i.hasNext(c)&&(e=u.createElement("div",{className:M.default.chevronRight},u.createElement(T.default,{name:"chevron-right"})),t=u.createElement("div",{className:M.default.chevronRightBg,onClick:function(){d.onNext(),d.markRead(o,s)}})));var f,h={left:this.onPrev,right:this.onNext};!this.state.transitioning&&!this.state.loading&&s&&c&&r&&o&&(f=u.createElement("div",{className:M.default.playerContainer,key:s.id},u.createElement(C.default,{key:s.id,statusV3:o,msg:s,mediaData:s.mediaData,msgIdx:c.msgIdx,totalMsgs:r.totalCount,markRead:this.markRead,closeStatusViewer:this.closeStatusViewer,onClickProgressBar:this.onClickProgressBar,onNext:this.onNext,onPrev:this.onPrev,sessionId:this.props.sessionId,rowIdx:this.props.rowIdx})));var p,g=(0,l.default)(M.default.v3X,{}),m=u.createElement("button",{className:g,onClick:function(){return d.props.closeStatusViewer(!0)}},u.createElement(T.default,{name:"status-v3-x"})),v=(0,l.default)(M.default.backIcon,{}),j=u.createElement("button",{className:v,onClick:function(){return d.props.closeStatusViewer()}},u.createElement(T.default,{name:"back-light",directional:!0}));return this.state.loading&&(p=u.createElement("div",{className:M.default.mediaStateControls},u.createElement("button",null,u.createElement(S.default,{size:50,stroke:4,color:"white"})))),u.createElement(b.default,{handlers:h},u.createElement("div",{className:M.default.viewer,"data-animate-status-v3-viewer":!0},m,j,n,a,t,e,p,u.createElement(N.default,{transitionName:"status-v3-player",transitionAppear:!0},f)))}}]),t}(u.Component);e.exports=(0,_.default)(I)},gcdabficb:function(e,t){e.exports={container:"_2U-0s",wallpaperColorCanvas:"_1FReI",wallpaperColorEmpty:"_2SFLd",canvasActive:"_3QlfT",canvasHover:"_3Mhyi"}},gcdfcghe:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,a){var n=Math.ceil(e/o)*o,s=t.slice(0,i.IV_LENGTH+n);return new r.default(a).sign(s,i.HMAC_LENGTH)};var i=a("bdfbijjhda"),r=n(a("bbejegbieb")),o=16},gcehifbbc:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.formatRemoveResult=function(e,t){return s(e,u,f,h,t)},t.formatResult=s,t.formatParticipantActionString=d,t.formatGroupStatusReasonString=c,t.formatParticipantStatusReasonString=l,t.addSuccessString=function(e,t){return l10n.t(116,{participantNames:e,_plural:t})},t.addFailedString=function(e,t,a){return l10n.t(114,{participantNames:e,_plural:t})},t.addPartialFailedString=function(){return l10n.t(115)},t.removeSuccessString=u,t.removeFailedString=f,t.removePartialFailedString=h,t.promoteSuccessString=function(e,t){return l10n.t(130,{participantNames:e,_plural:t})},t.promoteFailedString=function(e,t,a){return l10n.t(128,{participantNames:e,_plural:t})},t.promotePartialFailedString=function(){return l10n.t(129)},t.demoteFailedString=function(e,t,a){switch(a){case 406:return l10n.t(119,{participant:e});default:return l10n.t(118,{participantNames:e,_plural:t})}},t.demoteSuccessString=function(e,t){return l10n.t(121,{participantNames:e,_plural:t})},t.demotePartialFailedString=function(){return l10n.t(120)};var i=n(a("dhigahgdjb")),r=n(a("bjbdcigbdi")),o=n(a("jccfhaecf"));function s(e,t,a,n,s){var u;if(207===e.status){var f={};for(var h in e)if(o.default.isWid(h)){var p=e[h];if((403!==p||!r.default.supportsFeature(r.default.F.GROUPS_V_4_JOIN_PERMISSION))&&207!==p){f[p]||(f[p]=[]);var g=i.default.get(h);g&&f[p].push(g)}}var m=[];for(var b in f){var v=d(t,a,l,parseInt(b,10),f[b]);v&&m.push(v)}u=m.length>0?m.join("\n"):n()}else u=d(t,a,c,e.status,s);return u}function d(e,t,a,n,i){var r=i.map(function(e){return e.formattedShortName}).join(l10n.t(426)),o=200===n;return(o?e(r,i.length):t(r,i.length,n))+(o?"":a(n,i.length))}function c(e,t){var a="";switch(e){case 403:a=" "+l10n.t(67);break;case 408:a=" "+l10n.t(124);break;case 404:a=" "+l10n.t(68);break;case 429:a=" "+l10n.t(69)}return a}function l(e,t){var a="";switch(e){case 401:case 406:case 409:break;case 404:a=" "+l10n.t(123,{_plural:t});break;case 408:a=" "+l10n.t(124,{_plural:t});break;case 500:a=" "+l10n.t(125);break;default:a=" "+l10n.t(127)}return a}function u(e,t){return l10n.t(135,{participantNames:e,_plural:t})}function f(e,t,a){switch(a){case 406:return l10n.t(134,{participant:e});default:return l10n.t(132,{participantNames:e,_plural:t})}}function h(){return l10n.t(133)}},gchhabjba:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(e.byteLength!==t.byteLength)return!1;for(var a=new DataView(e),n=new DataView(t),i=0;i<a.byteLength;i++)if(a.getUint8(i)!==n.getUint8(i))return!1;return!0}},gddafccec:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=n(a("ddhijeejag")),u=(i(a("baagejbchg")),i(a("bjbdcigbdi"))),f=i(a("bdechjiebj")),h=i(a("bebbajcbbb")),p=i(a("ebgedhejjf")),g=i(a("ihfccfgdf")),m=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,(0,d.default)(t).apply(this,arguments))}return(0,c.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=this.props,t=e.msg,a=e.displayAuthor,n=e.displayType,i=e.quotedMsg;if(!u.default.supportsFeature(u.default.F.PAYMENTS))return l.createElement(h.default,{msg:t,displayAuthor:a,displayType:n,quotedMsg:i});var r=!(!t.paymentNoteMsg||!t.paymentNoteMsg.body);if(!(t.paymentAmount1000&&t.paymentCurrency))return l.createElement(h.default,{msg:t,displayAuthor:a,displayType:n,quotedMsg:i});var o=l.createElement(f.default,{isSentByMe:t.isSentByMe,currency:t.paymentCurrency,amount1000:t.paymentAmount1000,receiverJid:t.paymentMessageReceiverJid,paymentStatus:t.paymentStatus,expiryTimestamp:t.paymentExpiryTimestamp,subtype:t.subtype,hasCaption:r,msg:t});switch(t.subtype){case"ciphertext":return l.createElement(h.default,{msg:t,displayAuthor:a,displayType:n,quotedMsg:i,paymentInfo:o,placeholderText:l10n.t(1344)});case"futureproof":return l.createElement(h.default,{msg:t,displayAuthor:a,displayType:n,quotedMsg:i,paymentInfo:o,placeholderText:l10n.t(1346)});case"send":case"request":return l.createElement(p.default,{msg:t,displayAuthor:a,displayType:n,quotedMsg:i,paymentInfo:o});default:return l.createElement(h.default,{msg:t,displayAuthor:a,displayType:n,quotedMsg:i})}}}]),t}(l.Component);m.CONCERNS={msg:["paymentAmount1000","paymentCurrency","id","isSentByMe","paymentNoteMsg","paymentStatus","paymentExpiryTimestamp","paymentMessageReceiverJid","subtype"]};var b=(0,g.default)(m,m.CONCERNS);t.default=b},gdeficihh:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=n(a("ddhijeejag")),u=(i(a("baagejbchg")),i(a("dfjgaaeeeb"))),f=i(a("bbccbjiaeb")),h=i(a("ihfccfgdf")),p=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,(0,d.default)(t).apply(this,arguments))}return(0,c.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=this.props,t=e.displayType,a=e.msg;return a.mediaData?l.createElement(u.default,{displayType:t,mediaData:a.mediaData,msg:a}):l.createElement(f.default,{msg:a,displayType:t})}}]),t}(l.PureComponent);p.CONCERNS={msg:["mediaData"]};var g=(0,h.default)(p,p.CONCERNS);t.default=g},gdfgjiffc:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.requireBundle=E,t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=i(a("bfejgijfbh")),u=n(a("ddhijeejag")),f=i(a("cbhegcchgg")),h=i(a("cffibfiejh")),p=i(a("dghhefgjhc")),g=a("cicgeajfge"),m=i(a("bdiiahhjbe")),b=i(a("ejeehdija")),v=i(a("cdcaigjjii")),j=i(a("bfdcadbbif"));function E(){return Promise.resolve().then(function(){return(0,l.default)(a("dbbiihddig"))}).then(function(e){return e.default})}function y(e){return u.createElement("div",{className:b.default.container},u.createElement("div",{className:b.default.body,dir:"ltr"},u.createElement("div",{className:b.default.imageContainer},u.createElement("div",{className:b.default.defaultIcon},u.createElement(j.default,{name:e.svgName}))),e.error?u.createElement(g.LazyLoadRetry,{className:b.default.lazyLoadRetry,onClick:e.retry}):u.createElement(h.default,null)))}var _=(0,f.default)({loader:function(){return E().catch(function(e){throw m.default.assert(!1,"loadable:PhotoPicker loading error")(e),e})},loading:e=>u.createElement(y,{svgName:"default-user",error:Boolean(e.error),retry:e.retry}),delay:p.default.LOADABLE_DELAY}),S=(0,f.default)({loader:function(){return E().catch(function(e){throw m.default.assert(!1,"loadable:PhotoPicker loading error")(e),e})},loading:e=>u.createElement(y,{svgName:"default-group",error:Boolean(e.error),retry:e.retry}),delay:p.default.LOADABLE_DELAY}),C=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,(0,d.default)(t).apply(this,arguments))}return(0,c.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){return this.props.type===v.default.PROFILE?u.createElement(_,this.props):u.createElement(S,this.props)}}]),t}(u.PureComponent);t.default=C},gdhdegbhg:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=n(a("ddhijeejag")),u=i(a("baagejbchg")),f=i(a("ihfccfgdf")),h=i(a("bggdbeiaie")),p=a("hjbcfjaai"),g=i(a("cihhicgaca")),m=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,(0,d.default)(t).apply(this,arguments))}return(0,c.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e,t,a=this,n=this.props,i=n.statusV3,r=n.contact,o=i.lastStatus;return e=o&&o.type===u.default.MSG_TYPE.CHAT?l.createElement(b,{msg:o}):l.createElement(v,{renderedThumbnail:i.renderedThumbnail}),r.statusMute||(t=l.createElement(h.default,{statusV3:i})),l.createElement("div",{className:g.default.container,role:this.props.role||"",onClickCapture:function(e){a.props.onClick&&a.props.onClick(),e.stopPropagation(),e.preventDefault()}},t,e)}}]),t}(l.PureComponent);m.CONCERNS={statusV3:["renderedThumbnail","lastStatus"],contact:["statusMute"]};var b=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,(0,d.default)(t).apply(this,arguments))}return(0,c.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=this.props.msg,t={backgroundColor:e.statusV3TextBg};return l.createElement("div",{className:g.default.statusImage,style:t},l.createElement("div",{className:g.default.textThumb},l.createElement(p.StatusV3Text,{msg:e,theme:"status-thumbnail"})))}}]),t}(l.PureComponent),v=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,(0,d.default)(t).apply(this,arguments))}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){var e=this.props.renderedThumbnail;e&&e.retain()}},{key:"componentDidUpdate",value:function(e){var t=e.renderedThumbnail,a=this.props.renderedThumbnail;t!==a&&(t&&t.autorelease(),a&&a.retain())}},{key:"componentWillUnmount",value:function(){var e=this.props.renderedThumbnail;e&&e.autorelease()}},{key:"render",value:function(){var e=this.props.renderedThumbnail,t={backgroundImage:e&&"url(".concat(e.url(),")")};return l.createElement("div",{className:g.default.statusImage,style:t})}}]),t}(l.PureComponent),j=(0,f.default)(m,m.CONCERNS);t.default=j},geegjgjdg:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=!1!==e.displayAuthor?!e.msg.isSentByMe&&e.msg.isGroupMsg:null,a=e.msg.showForwarded(),n=t?o.createElement("div",{className:l.default.author},o.createElement(s.default,{msg:e.msg,contact:e.msg.senderObj})):null,i=e.displayType===d.default.DISP_TYPE.GALLERY||e.hideMeta?null:o.createElement("div",{className:l.default.meta},o.createElement(u.default,{msg:e.msg})),f=a?o.createElement(c.default,{msg:e.msg,className:l.default.forwardedIndicator}):null,h=e.quotedMsg?o.createElement("div",{className:l.default.quote},e.quotedMsg):null,p=(0,r.default)(l.default.bubble,{[l.default.forwarded]:a,[l.default.hasAuthor]:t,[l.default.hasCaption]:e.hasCaption,[l.default.isPSA]:e.msg.isPSA});return o.createElement("div",{className:p},n,f,h,e.children,i)};var r=i(a("ceffhbhahb")),o=n(a("ddhijeejag")),s=i(a("cehjjfagii")),d=i(a("baagejbchg")),c=i(a("dfeecdfijg")),l=i(a("bafjbifhgj")),u=i(a("cieaeggjg"))},gegihfgbf:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=i(a("ceffhbhahb")),u=n(a("ddhijeejag")),f=i(a("fifhbjiec")),h=a("gaifbabbj"),p=i(a("bcjbggbah")),g=i(a("ihfccfgdf")),m=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,(0,d.default)(t).apply(this,arguments))}return(0,c.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=this.props,t=e.quickReply,a=t.shortcut,n=t.message,i=e.query,r=e.selected,o=e.onMouseDown,s=e.onMouseEnter,d=e.onMouseUp,c=a.slice(i.length);return u.createElement("div",{className:(0,l.default)(p.default.result,{[p.default.selected]:r}),onMouseDown:o,onMouseUp:d,onMouseEnter:s},u.createElement("span",{className:p.default.slash},"/"),u.createElement(f.default,{className:p.default.shortcutPrefix,text:i}),u.createElement(f.default,{className:p.default.shortcutSuffix,text:c}),u.createElement(f.default,{className:p.default.message,ellipsify:!0,text:n,formatters:h.Configuration.QuickReply()}))}}]),t}(u.Component);m.CONCERNS={quickReply:["shortcut","message"]};var b=(0,g.default)(m,m.CONCERNS);t.default=b},geiiceahh:function(e,t,a){"use strict";var n=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("ddhijeejag")),r=a("eagfdbhhhh");function o(e){var t=e.children,a=e.selectable;return i.createElement(r.SelectableDel,{selectable:a,appTextTemplate:"~${appText}~"},t)}o.defaultProps={children:""};var s=o;t.default=s},gejffefga:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("bhabhhjdch")),o=i(a("eaidjcib")),s=i(a("dgcdacjddi")),d=i(a("ffceefejc")),c=i(a("cjedcdbdii")),l=i(a("dbjagcfebh")),u=i(a("echehdcaii")),f=i(a("dhgeffcgbg")),h=i(a("ccjgiajgj")),p=i(a("eaaagccfda")),g=i(a("ceffhbhahb")),m=n(a("ddhijeejag")),b=i(a("bbchdeehff")),v=n(a("cajijabhgb")),j=i(a("eceadcicaf")),E=i(a("dhbjfhjgbc")),y=i(a("cahfddcdga")),_=i(a("bjbedjfe")),S=i(a("ceddibdhdb")),C=i(a("bcifhbgija"));function A(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function M(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?A(Object(a),!0).forEach(function(t){(0,r.default)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):A(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var T=0,P=1,N=2,I=3,k=4,O=5,R=6,w=7,D=0,L=1,U=2,G=3,x=200,F=function(e){function t(e){var a,n;(0,o.default)(this,t),(a=(0,d.default)(this,(0,c.default)(t).call(this,e))).setStateTimer=new S.default(function(e){a.setState(e)}),a.setRefComponent=function(e){a.refComponent=e},a.addListeners=function(){window.addEventListener("mousemove",a.onMouseMove),window.addEventListener("mouseup",a.onMouseUp),window.addEventListener("resize",a.handleResize),a.props.listeners.add(b.default,"floater_escape_overlap",a.escapeOverlapMove)},a.getInitialStyle=function(){return a.props.initialStyle?{width:a.props.initialStyle.width,left:a.props.initialStyle.left,bottom:a.props.initialStyle.bottom}:{width:a.props.minWidth,left:a.props.margin.x,bottom:a.props.margin.y}},a.getResizerCallback=function(e){return function(t){0===t.button&&a.setState({resizeDirection:e,currentAction:L,resizeStartPiPStyle:{width:a.state.width,left:a.state.left,bottom:a.state.bottom},resizeStartMousePosition:{x:t.clientX,y:t.clientY}}),t.stopPropagation()}},a.onMoveStart=function(e){0===e.button&&a.setState({currentAction:U,moveStartPositionStyle:{left:a.state.left,bottom:a.state.bottom},moveStartMousePosition:{x:e.clientX,y:e.clientY}}),e.stopPropagation()},a.handleResize=(0,p.default)(function(){var e=window.innerHeight-2*a.props.margin.y,t=window.innerWidth-2*a.props.margin.x,n=a.state.width,i=n/a.props.aspectRatio,r=a.state.bottom,o=a.state.left;i>e&&(i=e,n=e*a.props.aspectRatio),n>t&&(i=t/a.props.aspectRatio,n=t),r+i>e+a.props.margin.y&&(r=e+a.props.margin.y-i),o+n>t+a.props.margin.x&&(o=t+a.props.margin.x-n),a.state.previousWindowSize.width<o+n+a.props.margin.x+G&&(o=t+a.props.margin.x-n),a.state.previousWindowSize.height<r+i+a.props.margin.y+G&&(r=e+a.props.margin.y-i);var s,d=null!=a.state.previousConvPanelRightBorder&&a.state.previousConvPanelRightBorder>0&&Math.abs(a.state.left+n+a.props.margin.x-a.state.previousConvPanelRightBorder)<G;b.default.getConversationHeaderOffset(function(e){s=e.right});var c=s&&s<window.innerWidth;d&&null!=s&&0!==s&&c&&(o=s-a.props.margin.x-n);var l={bottom:Math.max(a.props.margin.y,r),left:Math.max(a.props.margin.x,o),width:Math.max(a.props.minWidth,n),previousWindowSize:{height:window.innerHeight,width:window.innerWidth},previousConvPanelRightBorder:s},u=(0,h.default)(a.state,["bottom","left","width","previousWindowSize","previousConvPanelRightBorder"]);(0,f.default)(l,u)||a.setState(l)},50),a.validateMoveResize=function(e,t,n,i){var r=e,o=t,s=n,d=0,c=0,l=0;switch(i){case L:d=a.state.resizeStartPiPStyle.width,c=a.state.resizeStartPiPStyle.left,l=a.state.resizeStartPiPStyle.bottom;break;case U:d=a.state.width,c=a.state.moveStartPositionStyle.left,l=a.state.moveStartPositionStyle.bottom}var f=window.innerHeight,h=window.innerWidth,p=d+r,g=p/a.props.aspectRatio,m=l+s,b=(0,u.default)(m,2),v=c+o,j=(0,u.default)(v,2),E=a.props.minWidth,y=(0,u.default)(a.props.margin.y,2),_=(0,u.default)(f-g-a.props.margin.y,2),S=(0,u.default)(a.props.margin.x,2),C=(0,u.default)(h-p-a.props.margin.x,2);if(y>b||b>_)switch(i){case L:s=0,o=0,r=0;break;case U:s=0}if(S>j||j>C)switch(i){case L:s=0,o=0,r=0;break;case U:o=0}if(r&&m+g+a.props.margin.y>f)switch(i){case L:s=0,o=0,r=0}if(r&&v+p+a.props.margin.x>h)switch(i){case L:s=0,o=0,r=0}return(p<E||g+2*a.props.margin.y>f||p+2*a.props.margin.x>h)&&(s=0,o=0,r=0),{deltaWidth:r,deltaBottom:s,deltaLeft:o}},a.onMouseMove=function(e){var t,n=0,i=0,r=0,o=0;switch(a.state.currentAction){case D:return;case L:switch(a.state.resizeDirection){case T:n=(i=a.state.resizeStartMousePosition.y-e.clientY)*a.props.aspectRatio;break;case P:n=(i=e.clientY-a.state.resizeStartMousePosition.y)*a.props.aspectRatio,o=-i;break;case I:o=-(i=(n=e.clientX-a.state.resizeStartMousePosition.x)/a.props.aspectRatio);break;case N:o=-(i=(n=a.state.resizeStartMousePosition.x-e.clientX)/a.props.aspectRatio),r=-n;break;case k:i=(n=Math.max(e.clientX-a.state.resizeStartMousePosition.x,a.props.aspectRatio*(a.state.resizeStartMousePosition.y-e.clientY)))/a.props.aspectRatio;break;case O:i=(n=Math.max(a.state.resizeStartMousePosition.x-e.clientX,a.props.aspectRatio*(a.state.resizeStartMousePosition.y-e.clientY)))/a.props.aspectRatio,r=-n;break;case R:o=-(i=(n=Math.max(e.clientX-a.state.resizeStartMousePosition.x,a.props.aspectRatio*(e.clientY-a.state.resizeStartMousePosition.y)))/a.props.aspectRatio);break;case w:o=-(i=(n=Math.max(a.state.resizeStartMousePosition.x-e.clientX,a.props.aspectRatio*(e.clientY-a.state.resizeStartMousePosition.y)))/a.props.aspectRatio),r=-n}var s=0,d=0,c=0;if(0===(t=a.validateMoveResize(n,r,o,L)).deltaWidth&&0===t.deltaLeft&&0===t.deltaBottom){if(n<0)switch(a.state.resizeDirection){case T:case k:n=a.props.minWidth-a.state.resizeStartPiPStyle.width,o=0,r=0;break;case O:r=-(n=a.props.minWidth-a.state.resizeStartPiPStyle.width),o=0;break;case P:case I:case R:o=-(i=(n=a.props.minWidth-a.state.resizeStartPiPStyle.width)/a.props.aspectRatio),r=0;break;case N:case w:o=-(i=(n=a.props.minWidth-a.state.resizeStartPiPStyle.width)/a.props.aspectRatio),r=-n}else if(n>0){var l=a.state.resizeStartPiPStyle.width/a.props.aspectRatio;switch(a.state.resizeDirection){case T:case k:n=Math.min(window.innerWidth-a.props.margin.x-a.state.resizeStartPiPStyle.width-a.state.resizeStartPiPStyle.left,a.props.aspectRatio*(window.innerHeight-a.props.margin.y-l-a.state.resizeStartPiPStyle.bottom))-.1;break;case O:i=(n=Math.min(a.state.resizeStartPiPStyle.left-a.props.margin.x,a.props.aspectRatio*(window.innerHeight-a.props.margin.y-l-a.state.resizeStartPiPStyle.bottom))-.1)/a.props.aspectRatio,r=-n;break;case P:case I:case R:o=-(i=(n=Math.min(window.innerWidth-a.props.margin.x-a.state.resizeStartPiPStyle.width-a.state.resizeStartPiPStyle.left,a.props.aspectRatio*(a.state.resizeStartPiPStyle.bottom-a.props.margin.y))-.1)/a.props.aspectRatio);break;case N:case w:o=-(i=(n=Math.min(a.state.resizeStartPiPStyle.left-a.props.margin.x,a.props.aspectRatio*(a.state.resizeStartPiPStyle.bottom-a.props.margin.y))-.1)/a.props.aspectRatio),r=-n}}s=a.state.resizeStartPiPStyle.width+n,d=a.state.resizeStartPiPStyle.left+r,c=a.state.resizeStartPiPStyle.bottom+o,a.setState({width:s,left:d,bottom:c})}else s=a.state.resizeStartPiPStyle.width+t.deltaWidth,d=a.state.resizeStartPiPStyle.left+t.deltaLeft,c=a.state.resizeStartPiPStyle.bottom+t.deltaBottom,a.setState({width:s,left:d,bottom:c});a.props.onResize&&a.props.onResize(s,d,c);break;case U:r=e.clientX-a.state.moveStartMousePosition.x,o=a.state.moveStartMousePosition.y-e.clientY,t=a.validateMoveResize(n,r,o,U);var u=0,f=0;u=0!==r&&0===t.deltaLeft?r>0?window.innerWidth-a.state.width-a.props.margin.x:a.props.margin.x:a.state.moveStartPositionStyle.left+t.deltaLeft,f=0!==o&&0===t.deltaBottom?o>0?window.innerHeight-a.state.width/a.props.aspectRatio-a.props.margin.y-.1:a.props.margin.y:a.state.moveStartPositionStyle.bottom+t.deltaBottom,a.setState({left:u,bottom:f}),a.props.onMove&&a.props.onMove(u,f)}},a.onMouseUp=function(e){a.setState({currentAction:D})},a.getRect=function(){return{top:window.innerHeight-a.state.bottom-a.state.width/a.props.aspectRatio,left:a.state.left,bottom:window.innerHeight-a.state.bottom,right:a.state.left+a.state.width}},a.escapeOverlapMove=function(e,t){var n=e.getBoundingClientRect(),i={left:n.left-t,top:n.top-t,right:n.right+t,bottom:n.bottom+t},r=a.getRect();if(a.doOverlap(r,i)){var o,s,d=a.escapeDistance(r,i);if(a.isTranslationOutOfBound(-d.toLeftDistance,0)||(void 0===o||d.toLeftDistance<o)&&(o=d.toLeftDistance,s=N),a.isTranslationOutOfBound(0,-d.toBottomDistance)||(void 0===o||d.toBottomDistance<o)&&(o=d.toBottomDistance,s=P),a.isTranslationOutOfBound(d.toRightDistance,0)||(void 0===o||d.toRightDistance<o)&&(o=d.toRightDistance,s=I),a.isTranslationOutOfBound(0,d.toTopDistance)||(void 0===o||d.toTopDistance<o)&&(o=d.toTopDistance,s=T),void 0!==o){var c={};switch(s){case N:c={left:a.state.left-d.toLeftDistance};break;case P:c={bottom:a.state.bottom-d.toBottomDistance};break;case I:c={left:a.state.left+d.toRightDistance};break;case T:c={bottom:a.state.bottom+d.toTopDistance}}var l=(0,C.default)((0,y.default)(a.refComponent),c,{duration:x});Promise.race([l,a.props.rejectOnUnmount()]).checkpoint(a.props.rejectOnUnmount()).then(function(){a.setState(c)}).catch(v.Unmount,function(){})}}},b.default.getConversationHeaderOffset(function(e){n=e.right});var i={resizeDirection:T,currentAction:D,resizeStartMousePosition:{x:0,y:0},resizeStartPiPStyle:{width:0,bottom:0,left:0},moveStartMousePosition:{x:0,y:0},moveStartPositionStyle:{left:0,bottom:0},previousWindowSize:{height:window.innerHeight,width:window.innerWidth},previousConvPanelRightBorder:n};return a.props.animationStartStyle?a.state=M({},i,{},a.props.animationStartStyle):a.state=M({},i,{},a.getInitialStyle()),a}return(0,l.default)(t,e),(0,s.default)(t,[{key:"componentWillUnmount",value:function(){this.setStateTimer.cancel(),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("resize",this.handleResize)}},{key:"componentDidMount",value:function(){var e=this;if(!this.props.animationStartStyle)return this.addListeners(),void this.handleResize();var t=this.props.animationStartStyle,a=this.getInitialStyle(),n=t.width/this.props.aspectRatio,i=t.height,r=i/n,o=(n-i)/2/r,s=M({},a,{height:a.width/this.props.aspectRatio,scaleY:[1,r],translateY:[0,o]}),d=(0,C.default)((0,y.default)(this.refComponent),s,{easing:"easeInOutQuart",duration:400});this.initialAnimationPromise=Promise.race([d,this.props.rejectOnUnmount()]).checkpoint(this.props.rejectOnUnmount()).then(function(){e.initialAnimationPromise=null,e.setState(a),e.addListeners(),e.handleResize()}).catch(v.Unmount,function(){})}},{key:"componentDidUpdate",value:function(e){if(this.props.aspectRatio!==e.aspectRatio&&this.props.initialStyle){if(this.initialAnimationPromise)return void this.setStateTimer.onOrAfter(400,this.props.initialStyle);var t=this.props.initialStyle.width,a=this.props.initialStyle.left+t-(this.state.width+this.state.left),n=this.props.initialStyle.bottom+t/this.props.aspectRatio-(this.state.bottom+this.state.width/this.props.aspectRatio);Math.abs(a)<.1&&Math.abs(n)<.1?this.setState(this.props.initialStyle):this.setState({width:t})}}},{key:"getDimensions",value:function(){return{width:this.state.width,height:this.state.width/this.props.aspectRatio}}},{key:"doOverlap",value:function(e,t){return!(e.right<=t.left||e.left>=t.right)&&!(e.bottom<=t.top||e.top>=t.bottom)}},{key:"escapeDistance",value:function(e,t){return{toLeftDistance:e.right-t.left,toBottomDistance:t.bottom-e.top,toRightDistance:t.right-e.left,toTopDistance:e.bottom-t.top}}},{key:"isTranslationOutOfBound",value:function(e,t){var a=window.innerWidth,n=window.innerHeight,i=this.state.left+e,r=this.state.bottom+t,o=this.state.width,s=o/this.props.aspectRatio,d=this.props.margin.x,c=a-o-this.props.margin.x,l=this.props.margin.y,u=n-s-this.props.margin.y;return l>r||r>u||(d>i||i>c)}},{key:"render",value:function(){var e=this.getDimensions(),t={width:e.width,height:e.height,bottom:this.state.bottom+"px",left:this.state.left+"px"};return m.createElement("div",{ref:this.setRefComponent,className:(0,g.default)(this.props.className,E.default.moveResizeComponentContainer),style:t},m.createElement("div",{className:(0,g.default)(E.default.topResizer,E.default.resizer,{[E.default.defaultCursor]:this.state.currentAction===L}),onMouseDown:this.getResizerCallback(T)}),m.createElement("div",{className:(0,g.default)(E.default.bottomResizer,E.default.resizer,{[E.default.defaultCursor]:this.state.currentAction===L}),onMouseDown:this.getResizerCallback(P)}),m.createElement("div",{className:(0,g.default)(E.default.leftResizer,E.default.resizer,{[E.default.defaultCursor]:this.state.currentAction===L}),onMouseDown:this.getResizerCallback(N)}),m.createElement("div",{className:(0,g.default)(E.default.rightResizer,E.default.resizer,{[E.default.defaultCursor]:this.state.currentAction===L}),onMouseDown:this.getResizerCallback(I)}),m.createElement("div",{className:(0,g.default)(E.default.topRightResizer,E.default.resizer,{[E.default.defaultCursor]:this.state.currentAction===L}),onMouseDown:this.getResizerCallback(k)}),m.createElement("div",{className:(0,g.default)(E.default.topLeftResizer,E.default.resizer,{[E.default.defaultCursor]:this.state.currentAction===L}),onMouseDown:this.getResizerCallback(O)}),m.createElement("div",{className:(0,g.default)(E.default.bottomRightResizer,E.default.resizer,{[E.default.defaultCursor]:this.state.currentAction===L}),onMouseDown:this.getResizerCallback(R)}),m.createElement("div",{className:(0,g.default)(E.default.bottomLeftResizer,E.default.resizer,{[E.default.defaultCursor]:this.state.currentAction===L}),onMouseDown:this.getResizerCallback(w)}),m.createElement("div",{className:(0,g.default)(E.default.moveable,{[E.default.defaultCursor]:this.state.currentAction===L}),onMouseDown:this.onMoveStart},this.props.children))}}]),t}(m.Component),B=(0,j.default)((0,_.default)(F));t.default=B},gfdchbigi:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("eaidjcib")),r=n(a("gcfidijgh")),o=a("cgffhfegce"),s=n(a("edbaidcaf"));t.default=function e(t,a,n,d){var c=this;(0,i.default)(this,e),this.updateEditData=function(e){c.saveEdits(),c.editData=(0,r.default)({},c.editData,e)},this.updateEditItems=function(e,t){c.saveEdits();var a=[];c.editData.items&&c.editData.items.forEach(function(e){e!==t&&a.push(e)}),a.push(e),c.editData.items=a},this.saveEdits=function(){var t=new e(c.media,c.originalImage,c.editData,c.previous);c.previous=t},this.revertEdit=function(){c.previous&&(c.editData=c.previous.editData,c.previous=c.previous.previous)},this.saveEditsFromCanvas=function(e){var t=e.toDataURL();c.editedImage||(c.editedImage=new Image),c.editedImage.src=t},this.exportEditedMedia=function(){if(c.hasEdits()&&c.editedImage){var e=c.editedImage.src;return s.default.dataURLtoFile(e)}return c.media instanceof File?c.media:(0,o.createFile)([c.media],"",{type:c.media.type})},this.hasEdits=function(){return!!c.previous&&c.editedImage},this.cleanUp=function(){window.URL.revokeObjectURL(c.originalImage.src)},this.media=t,a?this.originalImage=a:(this.originalImage=new Image,this.originalImage.src=window.URL.createObjectURL(t)),this.previous=d,this.editData={height:0,width:0,offsetX:0,offsetY:0,rotation:0,scale:1,items:[],baseItem:null},(0,r.default)(this.editData,n)}},gfgihaeab:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("eaidjcib")),r=n(a("dgcdacjddi")),o=n(a("ffceefejc")),s=n(a("cjedcdbdii")),d=n(a("dbjagcfebh")),c=function(e){function t(e){var a;return(0,i.default)(this,t),(a=(0,o.default)(this,(0,s.default)(t).call(this))).isSelectable=e,a}return(0,d.default)(t,e),(0,r.default)(t,[{key:"setSelectable",value:function(e){return this.isSelectable=e,this.trigger("update-selectable",e),this.isSelectable}}]),t}(n(a("cccehdaiaf")).default);t.default=c},gfhdfcfge:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(r.default.supportsFeature(r.default.F.MD_BACKEND)){Promise.resolve();return Promise.reject(new Error("should never get here: MD_BACKEND GK pass but pragma not defined."))}return o.default.setPushname(e).then(function(e){if(e.status&&200!==e.status)throw new i.ServerStatusCodeError(e.status);return{_duplicate:e._duplicate}})};var i=a("ddjgcfjicj"),r=n(a("bjbdcigbdi")),o=n(a("bihdhbjih"))},ggdiceega:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("eaidjcib")),r=n(a("ffceefejc")),o=n(a("cjedcdbdii")),s=n(a("dbjagcfebh")),d=n(a("cgcgbfbffj")),c=n(a("cbcbdjdah")),l=function(e){function t(){return(0,i.default)(this,t),(0,r.default)(this,(0,o.default)(t).apply(this,arguments))}return(0,s.default)(t,e),t}(d.default);t.default=l,l.model=c.default,l.comparator=function(e,t){return t.t-e.t}},ggfcffeaf:function(e,t){e.exports={"-color-bg-light":"#f7f7f7",colorBgLight:"#f7f7f7",panelBody:"_1Kstu",searchSpinner:"jqdrp",panelSearch:"a5vst"}},ghbbeafj:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=n(a("ddhijeejag")),u=i(a("dbdfbgehgj")),f=i(a("bbchdeehff")),h=i(a("baagejbchg")),p=i(a("biddiiafgd")),g=i(a("bcbahjefec")),m=i(a("bihjahgcja")),b=i(a("dhgdjhdfdh")),v=n(a("cjcffhicea")),j=i(a("bfgbdiffgd")),E=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).requestFocus=function(){var e=a.refUIE;if(e){var t=e.getRef();t&&t.onFocusList&&t.onFocusList()}},a.onForwardConfirmed=function(e){var t=a.props,n=t.msgs,i=t.onForward;u.default.forwardMessagesToChats(n,e).catch(m.default,function(e){a.showMediaSendError(e.reasons)}),a.end(),i&&i(n),f.default.openChatFromUnread(e[0])},a.showMediaSendError=function(e){var t=e.map(function(e){var t=e.chat,a=e.reason;return l.createElement("p",{key:t.id.toString()},t.formattedTitle," : ",a)});f.default.openModal(l.createElement(p.default,{onOK:function(){return f.default.closeModal()},okText:l10n.t(1331)},t),void 0)},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){var e,t=this.props.msgs,a=l10n.t(486,{_plural:t.length||1}),n=t[0],i=n&&n.chat;e="video"!==n.type&&"image"!==n.type?"message":n.type;var r,o=t.some(function(e){return e.isFrequentlyForwarded}),s=t.filter(function(e){return!e.isFrequentlyForwarded&&e.getForwardingScoreWhenForwarded()===h.default.FREQUENTLY_FORWARDED_SENTINEL});j.default.frequentlyForwardedMessages&&s.length&&(r=l.createElement(b.default,{frequentlyForwardedCount:s.length,totalCount:t.length}));var d=j.default.frequentlyForwardedMessages&&o?j.default.frequentlyForwardedMax:j.default.multicastLimitGlobal;this.push(l.createElement(v.default,{onConfirm:this.onForwardConfirmed,maxItems:d,excludeChat:i,msgType:e,title:a,listType:v.ListType.CHAT_SELECT_MODAL,customHeader:r,hasFrequentlyForwarded:o}))}}]),t}(g.default);t.default=E},gicgagfjj:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=n(a("ddhijeejag")),u=a("ccihhdchab"),f=i(a("bbchdeehff")),h=i(a("bcbahjefec")),p=a("bgjddhffji"),g=i(a("bdiiahhjbe")),m=a("eaibdijehg"),b=i(a("eahhieahd")),v=i(a("cjbicbfaej")),j=a("bheafeifce"),E=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).submitReason=function(e){var t=a.props,n=t.product,i=t.sessionId;return(0,p.logReportProduct)((0,j.unproxy)(n),i),(0,m.reportProduct)(n.catalogWid,n.id.toString(),e)},a.onDelete=function(){a.end()},a.onReport=function(e){a.onShowSubmittedToast(e)},a.onTellUsMore=function(){a.push(l.createElement(v.default,{onTellUsMoreSubmit:a.onReport,onCancel:a.onCancel}),"none")},a.onPopupCancel=function(){a.end()},a.onCancel=function(){a.end()},a.onReportSubmitted=function(){a.end()},a.onShowSubmittedToast=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(0,u.genId)(),n=a.submitReason(e),i=new u.ActionType(l10n.t(938)),r=n.then(function(){return new u.ActionType("".concat(l10n.t(937),". ").concat(l10n.t(973)))}).catch(function(n){return g.default.error("error submitting product report",n)(),new u.ActionType(l10n.t(936),l10n.t(981),function(){return a.onShowSubmittedToast(e,t)})});return f.default.openToast(l.createElement(u.ActionToast,{id:t,initialAction:i,pendingAction:r})),a.onReportSubmitted(),n},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){this.push(l.createElement(b.default,{onTellUsMore:this.onTellUsMore,onReport:this.onReport,onPopupCancel:this.onPopupCancel,onCancel:this.onCancel}))}}]),t}(h.default);t.default=E},gigbjdedj:function(e,t){e.exports={hover:"_1ySpe",quotedMsg:"_2aWeC",composeBoxQuotedMsg:"_3SwSG",msg:"OuwTy",colorBar:"_11Kl0",msgBody:"vuD1j"}},gigddihfd:function(e,t){e.exports={wrapper:"_2ks1A"}},gigfajjic:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.sendConversationSeen=function(e,t,a){var n;n=r.default.supportsFeature(r.default.F.MD_BACKEND)?Promise.reject(new Error("Should not reach here")):s.default.sendConversationSeen(e.id,t,a).then(function(e){var t=e.status,a=e._duplicate;return 200!==t?Promise.reject(new i.ServerStatusCodeError(t)):{_duplicate:a}});return n},t.sendConversationUnseen=function(e,t){return r.default.supportsFeature(r.default.F.MD_BACKEND)?Promise.resolve():s.default.sendConversationUnseen(e,t).then(function(e){var t=e.status;if(200!==t)return Promise.reject(new i.ServerStatusCodeError(t))})},t.markConversationSeen=function(e,t){if(r.default.supportsFeature(r.default.F.MD_BACKEND))return o.Chat.merge(e.toString(),{unreadCount:t});return Promise.resolve()},t.markConversationUnseen=function(e){if(r.default.supportsFeature(r.default.F.MD_BACKEND))return o.Chat.merge(e.toString(),{unreadCount:-1});return Promise.resolve()};var i=a("ddjgcfjicj"),r=n(a("bjbdcigbdi")),o=a("cefcddgdgg"),s=n(a("bihdhbjih"))},gigggciff:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=n(a("ddhijeejag")),u=i(a("dffedieagi")),f=i(a("cehjjfagii")),h=i(a("bbchdeehff")),p=i(a("baagejbchg")),g=i(a("dhhfaeacef")),m=a("cgbdcdhgig"),b=i(a("bffjfbgbg")),v=i(a("eiiicijcj")),j=i(a("bfbggcdbfb")),E=i(a("ddadaeidcc")),y=n(a("caafgbfcba")),_=i(a("ihfccfgdf")),S=i(a("bfdcadbbif")),C=function(e){function t(e){var a;return(0,r.default)(this,t),(a=(0,s.default)(this,(0,d.default)(t).call(this,e))).showMediaMissing=function(){h.default.openModal(l.createElement(v.default,{msg:a.props.msg}))},a.downloadMedia=function(){a.props.msg.downloadMedia(!1,j.default.WEBC_RMR_REASON_CODE.MSG_RENDER)},a._forceDownloadMedia=function(){a.props.msg.downloadMedia(!0,j.default.WEBC_RMR_REASON_CODE.MSG_CLICK)},a.cancelDownload=function(){a.props.msg.cancelDownload()},a.cancelUpload=function(){a.props.msg.cancelUpload()},a.resumeUpload=function(){a.props.msg.resumeUpload()},a.resumeRemoteUpload=function(){a.props.msg.resumeRemoteUpload()},a.handleTimeUpdate=function(e){a.setState({currentTime:e})},a.handlePlayingUpdate=function(e){var t=a.props.msg;e&&(0,m.canMarkPlayed)(t)&&(0,m.markPlayed)(t),a.setState({autoPlay:!1,playing:e})},a.state={currentTime:0,playing:!1,autoPlay:!1},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){this.downloadMedia()}},{key:"render",value:function(){var e,t=this.props,a=t.msg,n=t.mediaData,i=a.ack===p.default.ACK_PLAYED,r=i?a.isSentByMe?"ptt-out-blue":"ptt-in-blue":a.isSentByMe?"ptt-out-gray":"ptt-in-green",o=l.createElement("div",{className:E.default.icon,key:"status"},l.createElement(S.default,{name:r})),s=this.state.playing?this.state.currentTime:n.duration;switch(n.mediaStage){case b.default.STAGE.RESOLVED:e=l.createElement(y.default,{mediaData:this.props.mediaData,downloadMedia:this.downloadMedia,autoPlay:this.state.autoPlay,duration:s,onPlayingUpdate:this.handlePlayingUpdate,onTimeUpdate:this.handleTimeUpdate,outgoingMsg:a.isSentByMe,playing:this.state.playing,played:i,displayType:this.props.displayType,getSequentialMsg:this.props.getSequentialMsg,currMsgId:a.id});break;case b.default.STAGE.NEED_POKE:e=l.createElement(y.AudioPlayerFrame,{icon:l.createElement(S.default,{name:"audio-download"}),outgoingMsg:a.isSentByMe,action:this._forceDownloadMedia});break;case b.default.STAGE.NEED_UPLOAD:e=l.createElement(y.AudioPlayerFrame,{icon:l.createElement(S.default,{name:"audio-upload"}),outgoingMsg:a.isSentByMe,action:this.resumeUpload});break;case b.default.STAGE.REMOTE_NEED_UPLOAD:e=l.createElement(y.AudioPlayerFrame,{icon:l.createElement(S.default,{name:"audio-upload"}),outgoingMsg:a.isSentByMe,action:this.resumeRemoteUpload});break;case b.default.STAGE.ERROR_MISSING:e=l.createElement(y.AudioPlayerFrame,{icon:l.createElement(S.default,{name:"audio-play",directional:!0}),outgoingMsg:a.isSentByMe,action:this.showMediaMissing});break;case b.default.STAGE.UPLOADING:case b.default.STAGE.SENDING:e=l.createElement(y.AudioPlayerFrame,{spinner:!0,outgoingMsg:a.isSentByMe,fileSize:n.size});break;default:e=l.createElement(y.AudioPlayerFrame,{spinner:!0,outgoingMsg:a.isSentByMe})}var d=this.props.displayAuthor&&!a.isSentByMe&&a.isGroupMsg?l.createElement(f.default,{msg:a,contact:a.senderObj}):null,c=l.createElement(g.default,{id:a.senderObj.id,size:55});return l.createElement(u.default,{msg:a,quotedMsg:this.props.quotedMsg,author:d,status:o,player:e,avatar:c,displayType:this.props.displayType})}}]),t}(l.PureComponent);C.CONCERNS={msg:["ack","isSentByMe","isGroupMsg","senderObj","id"],mediaData:["duration","type","mediaStage","renderableUrl","size"]};var A=(0,_.default)(C,C.CONCERNS);t.default=A},gjcabeieb:function(e,t){e.exports={singleByte:["quick_reply","sticker","pay_t","accept","reject","sticker_pack","invalid","canceled","missed","connected","result","audio","video","recent"]}},gjhhbhigc:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("eaidjcib")),r=n(a("dgcdacjddi")),o=n(a("cgeeeeddea")),s=function(){function e(){(0,i.default)(this,e)}return(0,r.default)(e,null,[{key:"match",value:function(e,t,a){(0,o.default)(!1,"Subclasses of `Mutator` must override `match()`")}},{key:"mutate",value:function(e,t,a){return e}}]),e}();t.default=s,s.nestable=!0,s.format=!0,s.fragment=!1,s.compatibility=!1,s.mutates=!1},habcbfced:function(e,t){e.exports={body:"_1fhyI",bubbleIn:"_1H_gm",bubbleOut:"_2_ZNx",bodyIcon:"Eb9Tn",bodyIconMultiline:"kgI2A",bodyText:"_37ii8"}},habccggff:function(e,t){e.exports={videoFloater:"_1p-0O",bgImg:"_20Y2q",bottomLayer:"_2MK_3"}},hadecdfeb:function(e,t,a){"use strict";var n=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("ddhijeejag")),r=a("eagfdbhhhh");function o(e){var t=e.children,a=e.selectable;return i.createElement(r.SelectableEm,{selectable:a,appTextTemplate:"_${appText}_"},t)}o.defaultProps={children:""};var s=o;t.default=s},haehdhfbi:function(e,t){e.exports={verified:"_3ATTl",psa:"_3E_9T",icon:"ChMwW",hasLabels:"_3NWy8",labels:"_2Ol0p"}},hagbbjbah:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TLD=void 0;t.TLD="abbott|abudhabi|ac|academy|accountant|accountants|actor|ad|adult|ae|aero|af|africa|ag|agency|ai|al|alsace|am|amsterdam|ao|apartments|app|apple|ar|archi|army|art|as|asia|associates|at|attorney|au|auction|audi|audio|auto|aws|ax|axa|az|ba|baby|band|bank|bar|barcelona|barclays|basketball|bayern|bb|bd|be|beer|berlin|best|bet|bf|bg|bh|bi|bible|bid|bike|bingo|bio|biz|bj|black|blog|blue|bm|bn|bnpparibas|bo|bot|boutique|box|br|bradesco|brother|brussels|bs|bt|build|builders|business|buzz|bw|by|bz|bzh|ca|cab|cafe|cam|camera|camp|canon|capetown|capital|car|cards|care|careers|cars|casa|cash|casino|cat|cbs|cc|cd|ceb|center|ceo|cern|cf|cg|ch|chat|cheap|chrome|church|ci|city|cl|click|clinic|clothing|cloud|club|cm|cn|co|coach|codes|coffee|college|com|community|company|computer|construction|consulting|contractors|cool|coop|corsica|country|coupons|courses|cr|credit|cricket|crs|cu|cv|cw|cx|cy|cymru|cz|dance|date|dating|de|deals|degree|delivery|dental|desi|design|dev|dhl|diamonds|diet|digital|direct|directory|discount|dj|dk|dm|do|doctor|dog|domains|download|dz|earth|ec|eco|edu|education|ee|eg|email|energy|engineer|engineering|enterprises|equipment|erni|es|estate|et|eu|eus|events|exchange|expert|exposed|express|fail|faith|family|fan|fans|farm|fashion|fi|film|finance|financial|fish|fit|fitness|fj|flights|florist|flowers|fm|fo|football|forex|forsale|foundation|fr|frl|fun|fund|furniture|futbol|fyi|ga|gal|gallery|game|games|garden|gd|gdn|ge|gf|gg|gh|gi|gift|gifts|gl|glass|gle|global|gm|gmbh|gn|gold|golf|goog|google|gop|gov|gp|gq|gr|graphics|gratis|green|group|gs|gt|guide|guru|gy|hamburg|haus|health|healthcare|help|here|hiphop|hitachi|hk|hn|holdings|holiday|homes|honda|horse|hospital|host|hosting|hot|house|how|hr|ht|hu|icu|id|ie|il|im|immo|immobilien|in|inc|info|ink|institute|insure|int|international|investments|io|iq|ir|irish|is|ismaili|ist|istanbul|it|jcb|je|jewelry|jm|jo|jobs|jp|ke|kg|kh|ki|kim|kitchen|kiwi|kn|komatsu|kp|kpmg|kr|krd|kred|kw|ky|kyoto|kz|la|land|lat|law|lawyer|lb|lc|lease|leclerc|legal|lgbt|li|life|link|live|lk|llc|loan|loans|lol|london|love|lr|ls|lt|ltd|lu|luxury|lv|ly|ma|madrid|management|market|marketing|markets|mba|mc|md|me|media|men|menu|mg|mh|miami|mil|mk|ml|mm|mn|mo|mobi|moda|moe|moi|mom|monash|money|monster|mortgage|moscow|movie|mp|mr|ms|mt|mu|museum|mv|mw|mx|my|mz|na|nagoya|name|nc|ne|net|network|neustar|news|nf|ng|ngo|ni|nico|ninja|nl|no|np|nrw|ntt|nu|nyc|nz|observer|office|okinawa|om|one|ong|onl|online|ooo|orange|org|osaka|ovh|pa|page|paris|partners|parts|party|pe|pet|pf|pg|ph|pharmacy|photo|photography|photos|pics|pictet|pictures|pink|pizza|pk|pl|place|plus|pm|pn|poker|porn|post|pr|press|pro|productions|promo|properties|property|ps|pt|pub|pw|py|qa|quebec|radio|re|realestate|realtor|realty|recipes|red|ren|rent|rentals|repair|report|rest|restaurant|review|reviews|ricoh|rio|rip|ro|rocks|rs|ru|rugby|run|rw|rwe|ryukyu|sa|saarland|sale|salon|sandvik|sap|sarl|saxo|sb|sbi|sc|school|schule|science|scot|sd|se|security|services|sex|sexy|sg|sh|sharp|shiksha|shoes|shop|shopping|show|si|singles|site|sk|ski|sl|sm|sn|sncf|so|soccer|social|softbank|software|solar|solutions|sony|soy|space|sport|spot|sr|srl|st|stockholm|storage|store|stream|studio|study|style|su|sucks|supply|support|surf|sv|swiss|sx|sy|sydney|systems|sz|taipei|tatar|tattoo|tax|taxi|tc|td|team|tech|technology|tel|tf|tg|th|theater|tickets|tips|tj|tk|tl|tm|tn|to|today|tokyo|tools|top|tours|town|toyota|toys|tr|trade|trading|training|travel|tt|tube|tv|tw|tz|ua|ug|uk|university|uno|uol|us|uy|uz|va|vacations|vc|ve|vegas|ventures|vet|vg|vi|video|villas|vin|vip|vision|vlaanderen|vn|vote|voto|voyage|vu|wales|wang|watch|webcam|weber|website|wedding|weir|wf|wien|wiki|win|wine|work|works|world|ws|wtf|xin|xyz|yandex|ye|yoga|yokohama|yt|za|zip|zm|zone|zw||||||||||||||||"},haidjjcae:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=i(a("dgdjiicfdg")),u=n(a("ddhijeejag")),f=i(a("cfadcbbiie")),h=i(a("bbchdeehff")),p=i(a("fifhbjiec")),g=i(a("eceadcicaf")),m=a("caceaafdic"),b=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).state={hide:!1},a.rerender=function(){a.forceUpdate()},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){this.maybeRegMidnight()}},{key:"componentDidUpdate",value:function(){this.maybeRegMidnight()}},{key:"getTimestamp",value:function(){return this.props.timestamp}},{key:"hide",value:function(e){this.state.hide!==e&&this.setState({hide:e})}},{key:"maybeRegMidnight",value:function(){this.props.listeners.remove(h.default,"midnight",this.rerender);var e=(0,l.default)().startOf("day").subtract(7,"day");this.props.timestamp>=e.unix()&&this.props.listeners.add(h.default,"midnight",this.rerender)}},{key:"render",value:function(){var e,t=this.state.hide;if(!t){var a=f.default.relativeDateStr(this.props.timestamp);e=u.createElement(p.default,{direction:"auto",text:a.toUpperCase()})}return u.createElement(m.SystemBubble,{hidden:t},e)}}]),t}(u.PureComponent),v=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,(0,d.default)(t).apply(this,arguments))}return(0,c.default)(t,e),(0,o.default)(t,[{key:"getTimestamp",value:function(){return this.getComponent().getTimestamp()}},{key:"hide",value:function(e){return this.getComponent().hide(e)}}]),t}((0,g.default)(b));t.default=v},hbabifghf:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=n(a("ddhijeejag")),u=i(a("ebhfgcddae")),f=i(a("bfdcadbbif")),h=i(a("bcjcbbafcj")),p=function(e){function t(e){var a;return(0,r.default)(this,t),(a=(0,s.default)(this,(0,d.default)(t).call(this,e))).setRefVideo=function(e){a._videoRef=e,a.synchronizeVideo()},a.synchronizeVideo=function(){var e=a._videoRef;e&&(a.state.animate?e.paused&&e.play():e.paused||(e.pause(),e.currentTime=0))},a.setShouldAnimate=function(e){a.state.animate===e&&a.state.show||a.setState({animate:e,show:!0},a.synchronizeVideo)},a.handleClick=function(){a.props.onSend(a.props.gif)},a.setRefHotKeys=function(e){a.messagePreviewRef=e},a.onFocus=function(e){e.preventDefault(),e.stopPropagation(),a.setState({focused:!0})},a.onBlur=function(e){e.preventDefault(),e.stopPropagation(),a.setState({focused:!1})},a._videoRef=null,a.state={animate:!1,show:!1,focused:!1},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e,t=this.props.gif,a=null;return this.state.show&&(a=h.default.troublesWithLotsOfVideos&&t.nonVideoUrl?l.createElement("img",{className:u.default.body,onClick:this.handleClick,src:t.nonVideoUrl}):l.createElement("video",{className:u.default.body,onClick:this.handleClick,controls:!1,autoPlay:this.state.animate,loop:!0,muted:!0,ref:this.setRefVideo,src:t.previewUrl})),this.props.isStarred&&this.props.onUnstarMsg&&(e=l.createElement("button",{className:u.default.icon,onClick:this.props.onUnstarMsg},l.createElement(f.default,{name:"star-light"}))),l.createElement("div",{ref:this.setRefHotKeys,className:u.default.preview,tabIndex:"-1",onFocus:this.onFocus,onBlur:this.onBlur,style:{flexBasis:t.widthStr}},this.state.focused&&l.createElement("div",{style:{flexBasis:t.widthStr},className:u.default.focusBorder}),l.createElement("div",{style:{width:t.widthStr},className:u.default.wrapper},l.createElement("div",{style:{paddingBottom:t.ratioStr},className:u.default.container},a)),e)}}]),t}(l.Component);t.default=p},hbciiabei:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=n(a("ddhijeejag")),u=i(a("bbchdeehff")),f=i(a("biddiiafgd")),h=i(a("djcchigfih")),p=i(a("djbhiedbef")),g=n(a("dajffajabh")),m=i(a("fffdgbfji")),b=i(a("ehaaiddhe")),v=a("bddhdheedf"),j=i(a("eceadcicaf")),E=i(a("bfbggcdbfb")),y=i(a("dahdbbghjd")),_=i(a("cbcfgjhjhj")),S=i(a("dceicchccd")),C=i(a("cdjhjdcbeg")),A=i(a("bfdcadbbif")),M=function(e){function t(){var e;return(0,r.default)(this,t),(e=(0,s.default)(this,(0,d.default)(t).call(this))).onMultiSelect=function(){var t=e.multiSelection.getSelected().length;e.setState({selectedCount:t})},e.shouldScrollIntoViewAndSelect=function(e){return{shouldScrollIntoView:!0,shouldSelect:!1}},e.onDeleteLabel=function(t){u.default.closeModal(),e.multiSelection.unsetAll(),e.props.onDeleteLabel(t)},e.confirmDeleteSelectedLabels=function(){var t=e.multiSelection.getSelected();(0,v.logLabelOperationEvent)(E.default.LABEL_OPERATIONS.VIEW,t.length,E.default.LABEL_TARGETS.DELETE_LABEL_DIALOG),u.default.openModal(l.createElement(f.default,{title:m.default.t(374,{_plural:t.length}),okText:m.default.t(1456),cancelText:m.default.t(1326),onCancel:function(){(0,v.logLabelOperationEvent)(E.default.LABEL_OPERATIONS.CLICK_NEGATIVE,1,E.default.LABEL_TARGETS.DELETE_LABEL_DIALOG),u.default.closeModal()},onOK:function(){(0,v.logLabelOperationEvent)(E.default.LABEL_OPERATIONS.CLICK_POSITIVE,1,E.default.LABEL_TARGETS.DELETE_LABEL_DIALOG),e.onDeleteLabel(t)}}))},e.onCancelSelection=function(){e.multiSelection.unsetAll(),e.setState({selectedCount:0})},e.multiSelection=new S.default([],function(e){return e.id}),e.state={selectedCount:0},e}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){(0,v.logLabelOperationEvent)(E.default.LABEL_OPERATIONS.VIEW,void 0,E.default.LABEL_TARGETS.LABELS_SCREEN)}},{key:"render",value:function(){var e=null;return e=this.state.selectedCount>0?l.createElement(y.default,{selectedModels:this.multiSelection,onCancel:this.onCancelSelection,onDelete:this.confirmDeleteSelectedLabels,theme:"drawer-header"}):l.createElement(g.default,{title:m.default.t(643),onBack:this.props.onClose,type:g.DRAWER_HEADER_TYPE.LARGE}),l.createElement(h.default,{theme:"settings"},e,l.createElement(p.default,null,l.createElement(_.default,{shouldScrollIntoViewAndSelect:this.shouldScrollIntoViewAndSelect,selectedLabels:this.multiSelection,renderContex:"label-list",onMultiSelect:this.onMultiSelect,onLabelClick:this.props.onLabelClick})),l.createElement("div",{className:b.default.addLabelBtContainer},l.createElement(C.default,{large:!0,onClick:this.props.openAddLabel},l.createElement(A.default,{name:"plus-large"}))))}}]),t}(l.PureComponent),T=(0,j.default)(M);t.default=T},hbfbchadb:function(e,t){e.exports={chatSubtitle:"_3Q3ui",chatSubtitleHeader:"i1XSV",chatSubtitleText:"_315-i"}},hbhjdibhf:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.findCommonGroups=function(e){var t=(0,s.unproxy)(e),a=t.commonGroups,n=t.id,l=t.promises;if(l.findCommonGroups)return l.findCommonGroups;if(a&&!a.stale)return Promise.resolve();return l.findCommonGroups=c.default.commonGroupsFind(n).then(function(e){if(200===e.status){var s=(0,i.default)(e.groups.map(function(e){return d.default.Chat.get(e)}));return a?(a.set(s),a.stale=!1):t.commonGroups=new r.default(s,n),!0}return o.default.error("models:Contact:findCommonGroups error: "+e.status)(),Promise.reject(new Error("models:Contact:findCommonGroups error: "+e.status))}).finally(function(){l.findCommonGroups=null})};var i=n(a("jcfacighg")),r=n(a("cjabddhidj")),o=n(a("bdiiahhjbe")),s=a("bheafeifce"),d=n(a("bhggeigghg")),c=n(a("bihdhbjih"))},hcbfjecci:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if("starred_stickers"!==t.tag(e))return;var a=t.attr("type",e);if("delete"!==a&&"add"!==a)return;var n=t.attr("filehash",e)||"";if("add"===a){var i={id:n,clientUrl:t.attr("url",e)||"",directPath:t.attr("direct_path",e)||"",filehash:n,uploadhash:t.attr("enc_filehash",e),mediaKey:t.attr("media_key",e)||"",width:parseInt(t.attr("width",e)||"0"),height:parseInt(t.attr("height",e)||"0"),size:parseInt(t.attr("size",e)||"0"),mimetype:t.attr("mimetype",e),index:0};return{filehash:n,type:a,sticker:i}}return{filehash:n,type:a}}},hcfegac:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(e.__playPromise)return e.__playPromise;var t=new Promise(function(t,a){function n(a){e.removeEventListener("playing",n),e.removeEventListener("error",i),e.videoHeight&&e.videoWidth||n(a),delete e.__playPromise,t(a)}function i(t){e.removeEventListener("playing",n),e.removeEventListener("error",i),delete e.__playPromise,a(t)}e.addEventListener("playing",n),e.addEventListener("error",i);var r,o=e.play();(r=o)&&"function"==typeof r.then&&(e.removeEventListener("playing",n),e.removeEventListener("error",i),o.then(function(){delete e.__playPromise,t()}).catch(function(t){delete e.__playPromise,a(t)}))});return e.__playPromise=t,t}},hciaejfjd:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,a){t&&t.length>0&&t.forEach(function(t){var n=i.default.Label.gadd({id:t});n.labeltemColleciton.gadd({id:r(e,t,a),labelId:t,parentId:e,parentType:a})})},t.removeLabelFromCollection=function(e,t,a){var n=i.default.Label.get(t),o=r(e,t,a);n&&n.labeltemColleciton&&n.labeltemColleciton.remove(o)};var i=n(a("bhggeigghg"));function r(e,t,a){return"".concat(e,"_").concat(t,"_").concat(a)}},hcjfjhdic:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=n(a("dcghjbcbii")),u=i(a("bcbahjefec")),f=i(a("chbcihghjd")),h=n(a("ddhijeejag")),p=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).onImageSelected=function(e,t){a.push(h.createElement(l.default,{onCancel:a._handleCancel,attributionUrl:t,onFinished:a.onFinished,onRetake:a._pop,retryText:l.RETRY_OPTIONS.NONE,img:e}))},a._handleCancel=function(){a.end()},a._pop=function(){a.pop()},a.onFinished=function(e,t){a.props.onFinished(e,t),a.end()},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){this.push(h.createElement(f.default,{onCancel:this._pop,onImageSelected:this.onImageSelected}))}}]),t}(u.default);t.default=p},hdccjfbbg:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Component=t.FREQUENT_PREFIX=t.Type=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=i(a("ceffhbhahb")),u=n(a("ddhijeejag")),f=i(a("effbcehec")),h=i(a("dgibicjjj")),p=i(a("ccfcjccjbg")),g=i(a("cedaiijige")),m=i(a("dhhfaeacef")),b=a("cgejchjdhj"),v=i(a("fifhbjiec")),j=i(a("ddajbaceej")),E=i(a("dhfbfehaef")),y=i(a("eceadcicaf")),_=i(a("bdiiahhjbe")),S=i(a("bhheahajjg")),C=a("caijdggfg"),A=i(a("ihfccfgdf")),M=a("bheafeifce"),T=i(a("ibeajfihb")),P=i(a("bfdcadbbif")),N=i(a("jccfhaecf")),I={SMALL:"SMALL",DEFAULT:"DEFAULT"};t.Type=I;t.FREQUENT_PREFIX="freq_";var k=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i))))._setCellRef=function(e){a._cellRef=e},a._setHotKeysRef=function(e){a._hotKeysRef=e},a.state={active:!1,searchText:"",contextMenu:!1},a.onSearch=function(){a.props.searchQuery?a.setState({searchText:a.props.searchQuery.trimmed}):_.default.error("Contact: prop searchQuery is undefined")()},a.onActiveChange=function(e,t){if("focus"===e){var n=a._hotKeysRef;n&&(j.default.focus(n),t&&(0,b.scrollIntoViewIfNeeded)(n))}a.setState({active:!!e})},a.onDelete=function(e){e.stopPropagation();var t=a.props.onDelete;t&&t(e,(0,M.unproxy)(a.props.contact))},a.onClick=function(e){var t=a.props,n=t.onClick,i=t.contact;n&&n(e,(0,M.unproxy)(i))},a.onMouseDown=function(e){0===e.button&&a.onClick(e)},a.onEnter=function(e){e.preventDefault(),e.stopPropagation(),a.onClick(e)},a.onContext=function(e){a.props.onContext&&a.props.onContext(e,a.props.contact)},a.indicateFocus=function(e){var t;e.stopPropagation(),e.preventDefault(),null===(t=a._cellRef)||void 0===t||t.indicateFocus(a.onBlur)},a.onBlur=function(e){a._cellRef&&a._cellRef.reset()},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){var e=this;this.initListeners(this.props);var t=this.props,a=t.listenForAdminChange,n=t.listeners,i=t.participantCollection,r=t.contact;a&&i&&n.add(i,"change:isAdmin change:isSuperAdmin",function(t){N.default.equals(t.id,r.id)&&e.forceUpdate()})}},{key:"componentDidUpdate",value:function(e){this.initListeners(this.props,e)}},{key:"initListeners",value:function(e,t){var a=e.listeners,n=e.active,i=e.contact,r=e.searchQuery,o=e.frequent;if(t&&t.searchQuery&&t.searchQuery!==r&&a.remove(t.searchQuery,C.SEARCH_EVENT,this.onSearch),!r||t&&r===t.searchQuery||a.add(r,C.SEARCH_EVENT,this.onSearch),(!t||!i.id.equals(t.contact.id))&&(t&&t.active&&a.remove(t.active,t.contact.id.toString(),this.onActiveChange),n)){var s=(o?"freq_":"")+i.id.toString();a.add(n,s,this.onActiveChange)}}},{key:"contextEnabled",value:function(){return!1}},{key:"render",value:function(){var e,t,a,n=this.props,i=n.contact,r=n.secondary,o=n.onContext,s=n.onDelete,d=n.contextEnabled,c=n.contextMenu,p=n.admin,b=n.showNotifyName,j=n.waitIdle,y=n.theme,_=n.useShortName,C=n.detail,A=n.listenForAdminChange,M=n.participantCollection,N=n.isPendingParticipant,k=this.state,O=k.active,R=k.searchText,w=(0,l.default)({[g.default.contactSmall]:this.props.type===I.SMALL});if(!i.name&&b&&i.notifyName&&(a=u.createElement("span",{className:g.default.screenName},u.createElement(v.default,{direction:"auto",text:i.notifyName}))),(p||A&&M&&M.assertGet(i.id).isAdmin)&&(t=u.createElement("div",{className:g.default.markerAdmin},l10n.t(1242))),N&&(t=u.createElement("div",{className:g.default.markerInvited},l10n.t(579))),C)e=C;else if(s){var D=this.props.type===I.SMALL?"x-alt-small":"x-alt";e=u.createElement("div",{"data-a8n":f.default.key("chat-controls"),className:g.default.chatControls,role:"button",onClick:this.onDelete},u.createElement(P.default,{name:D}))}var L,U=r;U||(U=u.createElement(T.default,{id:i.id,waitIdle:j})),o&&(L=this.onContext);var G=this.props.type===I.SMALL?26:null,x={enter:this.onEnter},F=this.props.mouseDownAsClick,B=u.createElement(S.default,{contact:i,useShortName:_,highlightText:R,showLabel:!0,titlify:!0,ellipsify:!0,you:!0}),V="list-names"!==y||s?y:"list-names-no-delete";return u.createElement(E.default,{onRef:this._setHotKeysRef,handlers:x,onFocus:this.indicateFocus,onBlur:this.onBlur,className:w},u.createElement(h.default,{ref:this._setCellRef,theme:V,active:O,contextEnabled:d||this.contextEnabled,contextMenu:c,pendingAction:i.pendingAction,detail:e,image:u.createElement(m.default,{id:i.id,size:G,waitIdle:j}),primary:B,primaryDetail:t,secondary:U,secondaryDetail:a,onClick:F?null:this.onClick,onMouseDown:F?this.onMouseDown:null,onContext:L}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a=e.active,n=e.contact,i=e.searchQuery,r={},o=a&&a.value instanceof p.default&&n.isProxyOf(a.value);t.active!==o&&(r.active=o);var s=i?i.trimmed:"";return t.searchText!==s&&(r.searchText=s),r}}]),t}(u.Component);k.CONCERNS={contact:["id","pendingAction","notifyName","name"]};var O=k;t.Component=O;var R=(0,y.default)((0,A.default)(k,k.CONCERNS));t.default=R},hddadiifa:function(e,t){e.exports={container:"_26JG5",containerNoIcon:"_10L7G",containerListAligned:"pgYve",icon:"_1tyVr",bodyContainer:"_27Ie2",body:"_1SYAj"}},hddfjdhii:function(e,t){e.exports={SMILEYS_PEOPLE:[1937,1940,1941,1938,1943,1942,1939,2373,79,1947,1944,2003,2004,1946,1949,1950,2587,1961,1960,1962,1963,1948,1964,1966,1965,2397,2395,2772,2322,1951,2396,2589,1952,1955,1967,1957,1968,1958,2002,78,1972,1959,1980,1978,2593,1971,1982,1973,1969,1970,2399,2402,1988,2591,2592,1986,1977,1985,1974,1956,2326,2323,2400,2398,2375,1991,1953,1954,1981,2005,1984,1975,1976,1983,1987,1989,2374,1979,1990,2319,2590,2372,2401,2394,1992,2321,2324,2320,2370,1945,1542,1531,1532,2371,1668,1533,1543,70,1540,1541,2325,630,1995,1993,1994,1996,1997,1998,2001,2e3,1999,2415,989,2081,983,2357,971,977,953,159,2345,2351,2358,171,2364,2327,965,941,947,929,935,64,165,2339,1893,1905,959,2333,1669,1899,177,2123,2653,2647,1586,1632,927,2659,928,915,921,1013,913,912,3117,1927,1014,1015,1501,1022,2943,1016,1197,2773,1028,1361,1167,1355,1161,1449,1448,1373,1179,1367,1173,2955,1495,2949,1489,1465,1473,1472,2961,1422,1421,1509,1508,1564,1563,1862,1861,1203,1034,1221,1052,1227,1058,1233,1064,1239,1070,1251,1082,1257,1088,1263,1094,1269,1100,1275,1106,1281,1112,1245,1076,1293,1124,1215,1046,1287,1118,1209,1040,1441,2433,1525,2427,2662,2661,2680,2679,2439,632,3023,3022,3095,3094,3059,3058,3116,3115,3113,3112,3077,3076,3041,3040,1534,2403,2409,2044,2043,1546,1545,2008,2007,2026,2025,2065,2064,2378,2377,2447,2446,2107,2106,2089,2088,1613,1612,1595,1594,2969,2968,1587,2421,1580,1882,1440,1439,1854,2236,2235,696,695,1417,1419,1418,1643,1644,1642,1638,1639,1637,1402,1404,1405,1403,1406,1412,1414,1415,1413,1416,1397,1399,1400,1398,1401,1407,1409,1410,1408,1411,1392,1394,1395,1393,1396,3139,3138,3122,2595,1004,999,1e3,998,1001,1003,1002,2598,1010,1011,1012,1008,1009,2597,3123,3121,3120,668,3119,996,651,122,995,1634,1007,1005,1006,1692,650,3136,997,1878,2596,503],ANIMALS_NATURE:[902,897,893,905,896,2609,907,908,888,895,2600,894,903,909,904,901,2060,2061,2062,865,867,887,886,884,883,885,2605,2604,2608,2606,906,871,900,2603,877,875,2610,859,878,876,2630,2622,1879,1880,2601,882,860,2613,2621,2620,873,2616,2615,2629,2599,881,880,879,892,899,858,2607,857,852,853,2618,2612,872,2626,2614,890,891,2617,2623,850,849,851,861,870,862,864,2624,863,2611,868,889,855,866,2602,2625,2627,2633,1822,854,2628,2632,848,847,911,2619,910,856,898,552,631,549,550,551,548,562,63,563,645,643,566,565,564,567,874,561,1640,554,556,2540,557,555,559,558,531,530,528,529,527,522,523,524,525,518,519,520,521,526,515,514,516,1675,215,532,189,110,58,1664,1796,541,509,54,535,118,536,55,537,538,119,540,539,192,57,117,543,1667,1666,1665,61,56,511,542],FOOD_DRINK:[578,577,579,573,574,575,572,570,582,571,581,580,2584,576,2576,2568,568,569,2556,2577,2583,2557,553,560,2560,2559,595,2555,2586,593,2561,2579,2707,2565,614,2569,2558,2580,586,585,2646,544,583,594,584,2581,2564,545,546,2562,2563,2582,592,591,613,590,598,612,2570,599,588,589,587,600,2571,2585,597,596,602,603,601,2578,2708,611,629,609,608,607,606,626,604,605,547,2567,610,2566,623,62,616,2575,617,621,622,2542,618,2543,619,620,625,2544,615,624,2574,2572,2573,2709],ACTIVITY:[115,691,738,116,2553,689,797,739,2554,676,800,839,799,798,2552,796,2545,130,840,662,2549,2550,688,2297,2295,134,2551,690,133,693,760,759,2502,2501,2465,2464,137,136,2499,2523,2522,778,777,732,3005,3004,714,713,742,741,2505,2504,2166,2165,2987,2986,2218,2217,2200,2199,731,2546,2547,2548,730,652,837,653,670,658,669,2483,2482,672,667,671,663,666,687,684,2541,682,685,683,686,677,92,674,678,673,675,3126],TRAVEL_PLACES:[2152,2150,2154,2141,2143,795,2148,2146,2147,2145,2155,2156,2157,2292,2196,2293,794,2186,2149,2142,2153,2151,2162,2161,2160,2132,2140,2159,2158,2133,2134,2137,2131,2135,2136,2139,2138,157,2288,2289,2287,1690,2290,2129,2296,2130,2294,132,2182,2286,2291,131,2163,102,154,2185,2184,2183,2144,1931,1936,1934,1933,829,828,812,660,661,659,129,128,803,810,809,512,127,801,1932,802,153,813,814,805,807,804,826,815,825,816,817,818,819,821,823,824,822,1645,808,126,1824,1825,1823,125,2285,2284,1935,649,811,506,505,533,639,638,508,507,806,504,513,510,502],OBJECTS:[27,1745,1746,1691,29,1912,1913,1914,1915,1881,1923,1693,1694,1695,1696,1756,1751,1752,1753,664,1757,657,1726,59,1727,1728,1754,1755,654,655,656,3130,39,40,38,1852,28,41,1729,1770,1771,1660,1797,1851,3132,2283,1688,1685,1684,1686,1687,1680,1683,1635,104,3133,1798,1799,101,2281,121,1800,106,3134,123,3135,1802,1662,3125,1801,1926,103,2282,2190,113,114,841,1805,1758,3148,1629,105,1804,1803,1853,1631,1630,3129,2631,3128,3127,534,3142,3143,3144,2258,2194,2260,2267,2261,3145,3146,3137,2275,1776,1924,2188,2272,2276,2273,3141,1916,2274,2279,628,640,647,627,642,641,646,827,648,3124,158,1737,1736,1735,1633,1733,1732,1734,838,1738,1739,1740,1741,1742,1743,1724,1699,1700,1713,3147,1706,1704,1705,1921,1922,1702,1701,1920,1703,1918,1930,1919,1707,1697,1698,1917,1925,1744,1715,1716,1714,1717,1719,1720,1721,1722,1718,1781,3140,1782,1710,1888,1712,1711,3131,1708,1709,155,1889,1890,184,1891,1892,1725,183,1772,1773,1774,1775,1777,1778],SYMBOLS:[201,3118,1654,1653,1652,1655,1911,1647,200,1648,1657,1646,1650,1649,1651,1656,1658,75,187,74,1821,77,188,1806,1826,76,73,2277,120,80,81,82,83,84,85,86,87,88,89,90,91,231,107,500,71,72,1748,1747,494,488,496,498,495,191,237,1678,499,220,219,492,493,497,490,223,224,227,228,225,235,194,216,2278,124,1723,2189,1679,1661,97,2252,2193,2197,2195,1789,1749,2191,199,198,196,197,15,16,1764,1765,218,109,2253,1808,108,1807,98,156,489,1689,193,190,195,517,1659,45,501,1663,820,2259,100,226,491,487,2268,2269,2270,2271,2254,2255,2257,2256,2192,665,1750,486,1794,18,1795,1792,1791,233,234,236,229,232,230,3,4,5,6,7,8,9,10,11,12,1790,1793,1,2,30,48,42,37,43,44,35,36,31,32,33,34,49,1819,1820,205,210,211,212,22,23,24,21,20,19,26,25,208,209,1759,1760,1761,1763,1762,680,681,202,203,204,186,99,1682,1681,17,13,14,914,1785,1784,1786,1788,1787,217,206,207,185,60,1783,111,112,1811,1812,1817,1818,1815,1816,1813,1814,1810,1809,46,47,53,52,51,50,213,214,1767,1766,1768,1769,1779,1780,1731,1730,1676,1677,1929,93,94,95,96,222,679,221,1827,1828,1829,1830,1831,1832,1833,1834,1835,1836,1837,1838,1839,1840,1841,1842,1843,1844,1845,1846,1847,1848,1849,1850],FLAGS:[830,832,833,692,2187,831,3165,467,240,252,243,298,248,238,245,242,246,241,247,244,251,250,249,253,269,260,256,255,272,257,273,262,264,270,266,254,271,268,343,474,265,259,258,261,354,283,274,337,288,267,361,277,450,282,284,290,275,285,356,278,276,281,286,280,334,287,289,291,292,295,294,296,297,299,301,445,325,303,300,305,306,309,311,308,307,312,317,411,451,313,322,316,293,319,320,326,321,315,324,329,328,318,323,330,331,335,333,332,336,346,342,338,345,344,339,341,340,347,349,351,644,348,350,362,352,355,480,360,353,363,372,364,369,368,373,366,370,371,384,380,378,392,394,391,381,389,379,386,387,390,482,393,310,376,375,383,377,388,374,395,382,396,405,404,402,397,407,401,398,400,406,399,358,385,403,408,414,421,419,409,412,422,410,413,417,415,420,418,423,424,425,427,428,479,439,444,429,440,426,431,438,434,446,437,436,327,430,441,483,359,443,304,367,263,435,357,365,416,472,432,442,448,433,279,447,463,454,464,453,456,452,455,459,461,458,460,457,449,462,475,466,465,239,314,834,835,836,468,469,470,477,471,473,476,478,302,481,484,485]}},hdgfdagbc:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=s.default.formatToParts(e.currency,e.amount1000);return o.createElement("div",{className:(0,r.default)(d.default.container,{[d.default.isQuoted]:e.isQuoted,[d.default.isQuotedInComposeBox]:e.isQuotedInComposeBox})},o.createElement("div",{className:(0,r.default)(d.default.thumb,{"bg-payments":!e.isQuoted})},o.createElement("div",{className:d.default.amount},o.createElement("span",{className:d.default.amountCurrency},t.symbol),o.createElement("span",{className:d.default.amountInteger},t.integer),o.createElement("span",{className:d.default.amountDecimal},t.decimal))))};var r=i(a("ceffhbhahb")),o=n(a("ddhijeejag")),s=i(a("bjgiedaj")),d=i(a("bhihgacbic"))},hecjahfhf:function(e,t){e.exports={overlay:"_1JS2G",text:"_12KQN"}},hefjgabce:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.hostname,a=e.type,n=e.encFilehash,s=e.query,d=o[a],c=new URL("https://".concat(t).concat(d,"/").concat((0,i.default)(n))),l=new r.default(s).toString();l&&(l="?".concat(l));return"https://".concat(c.host).concat(c.pathname).concat(l)};var i=n(a("ebfbbaecji")),r=n(a("ddfjdghbjb")),o={audio:"/mms/audio",document:"/mms/document",gif:"/mms/gif",image:"/mms/image",ppic:"/pps/photo",product:"/mms/image",ptt:"/mms/ptt",sticker:"/mms/sticker",video:"/mms/video"}},hehdicceb:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=n(a("ddhijeejag")),u=n(a("dbgdaechch")),f=i(a("ddchcbhaia")),h=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,(0,d.default)(t).apply(this,arguments))}return(0,c.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=this.props,t=e.chat,a=e.onSelectMessages;return l.createElement(u.default,{type:"dropdown_menu",key:"GroupMenuDropdown",flipOnRTL:!0,dirX:u.DirX.LEFT},f.default.group(t,a))}}]),t}(l.Component);t.default=h},hfcihgigj:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=n(a("ddhijeejag")),u=i(a("bbjadhadbg")),f=i(a("ihfccfgdf")),h=i(a("dgacgafafa")),p=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i))))._downloadMedia=function(){return a.props.stickerPack.downloadMedia()},a._renderStickerPackIcon=function(e){var t=a.props.stickerPack,n=t.id,i=t.name;return l.createElement(h.default,{id:n,name:i,url:e})},a._renderPlaceholder=function(){return a._renderStickerPackIcon(null)},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){this._downloadMedia()}},{key:"render",value:function(){return l.createElement(u.default,{mediaData:this.props.mediaData,placeholderRenderer:this._renderPlaceholder,downloadMedia:this._downloadMedia},this._renderStickerPackIcon)}}]),t}(l.PureComponent);p.CONCERNS={stickerPack:["id","name"],mediaData:["renderableUrl","mediaStage"]};var g=(0,f.default)(p,p.CONCERNS);t.default=g},hfdeaaddb:function(e,t,a){e.exports=function(){return new Worker(a.p+"milan.6b36f44fb25415f2b9b3.js")}},hfgahggjd:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.AudioSession=t.OUTPUT_DEVICES=t.AUDIO_EVENTS=void 0;var i=n(a("ffceefejc")),r=n(a("cjedcdbdii")),o=n(a("dbjagcfebh")),s=n(a("eaidjcib")),d=n(a("dgcdacjddi")),c=n(a("cccehdaiaf"));t.AUDIO_EVENTS={OUTPUT_ROUTES_CHANGED:"OUTPUT_ROUTES_CHANGED"};t.OUTPUT_DEVICES={UNKNOWN:0,LINE_OUT:1,HEADPHONES:2,BLUETOOTH:3,INTERNAL_RECEIVER:4,INTERAL_SPEAKER:5,HDMI:6,REMOTE:7,BLUETOOTH_LE:8,BLUETOOTH_HANDS_FREE:9,USB:10,CAR:11};var l=function(){function e(t){(0,s.default)(this,e)}return(0,d.default)(e,[{key:"startUse",value:function(){}},{key:"endUse",value:function(){}}]),e}();t.AudioSession=l;var u=new(function(e){function t(){return(0,s.default)(this,t),(0,i.default)(this,(0,r.default)(t).call(this))}return(0,o.default)(t,e),(0,d.default)(t,[{key:"startAudioSession",value:function(e,t){}},{key:"isRoutingToOutput",value:function(e){return!1}},{key:"overrideOutputRoute",value:function(e){return Promise.resolve()}},{key:"isRoutingToSpeaker",get:function(){return null}},{key:"outputRoutes",get:function(){return[]}},{key:"isBluetoothInputAvailable",get:function(){return null}}]),t}(c.default));t.default=u},hfhhcchgj:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.TextInputCustomStyleThemes=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=i(a("ceffhbhahb")),u=n(a("ddhijeejag")),f=a("dbgdaechch"),h=i(a("dbjhghahdd")),p=i(a("bjbggbjed")),g=a("cdheafhdbh"),m=n(a("fifhbjiec")),b=a("ejbdjaifi"),v=i(a("dhfbfehaef")),j=i(a("chgaccicf")),E=i(a("becfabjeeg")),y=i(a("bfdcadbbif")),_=i(a("fehbggfdh")),S=i(a("caffijjhc")),C=i(a("dbjbhajgfd")),A=a("chhhffajfi"),M=i(a("didfdhbecg")),T=(0,j.default)({groupInfoName:null});t.TextInputCustomStyleThemes=T;var P=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).state={active:!1,locked:!!a.props.lockable,emojiPicker:null},a.emojiInputComponent=(0,h.default)(),a.isSkinTonePickerOpen=!1,a.onEmojiPicker=function(e){e&&(e.preventDefault(),e.stopPropagation());var t=u.createElement(p.default,{onEmoji:a.onEmoji,onFocusNext:a.restoreFocus,onFocusPrev:a.restoreFocus});a.setState({emojiPicker:{menu:t,dirY:f.DirY.TOP,type:"emoji_picker",anchor:e.target}}),a.restoreFocus()},a.onEmojiPickerClose=function(){a.setState({emojiPicker:null})},a.onRestoreEmojiPickerFocus=function(){if(a.refEmojiPickerUIE){var e=a.refEmojiPickerUIE.getRef();if(e){var t=e.getElement();t&&t.restoreFocus()}}},a.onEmoji=function(e){a.inputLine&&a.inputLine.replaceSelection(e)},a.onEnter=function(e){a.props.lockable&&a.onSaveAndLock(),a.props.onEnter&&!a.props.multiline&&(e.persist(),a.props.onEnter(e))},a.onChange=function(e){a.props.onChange&&a.props.onChange(e)},a.restoreFocus=function(){a.inputLine&&a.inputLine.focus()},a.onBlur=function(e){a.isSkinTonePickerOpen||(a.state.active&&a.setState({active:!1}),a.props.onBlur&&a.props.onBlur(e))},a.onFocus=function(e){e.stopPropagation(),a.state.active||a.setState({active:!0}),a.props.onFocus&&a.props.onFocus(e)},a.onSkinTonePicker=function(e){a.isSkinTonePickerOpen=e},a.onUnlock=function(){a.props.onBeginEdit&&a.props.onBeginEdit(),a.setState({locked:!1})},a.onSaveAndLock=function(){var e=!(!a.props.lowProfile&&a.props.error);a.props.validate&&e&&(e=a.props.validate(a.props.value)),e?(a.props.onSave&&a.props.onSave(),a.setState({locked:!0})):a.props.onError&&a.props.onError()},a.onCancel=function(){a.props.onCancel&&a.props.onCancel(),a.setState({locked:!0})},a.setRefEmojiPickerUIE=function(e){a.refEmojiPickerUIE=e},a.showEmptyValuePlaceholder=function(){var e=a.props.value;return(!e||""===e)&&a.props.emptyValuePlaceholder&&a.state.locked},a.isEditing=function(){return a.props.editable&&!a.state.locked},a.renderEmojiText=function(){var e=a.props,t=e.renderEmojiTextInLockMode,n=e.value;if(t&&n){var i=t.textLimit,r=t.readMoreText,o=t.onReadMore,s=t.formatters;return u.createElement("div",{className:_.default.emojiText},u.createElement(m.default,{text:n,selectable:!0,emojiSize:m.EMOJI_SIZE.SMALL,textLimit:i,formatters:s}),(0,A.numCodepoints)(n)>i&&u.createElement("span",{className:_.default.more,role:"button",onClick:o}," ".concat(r)))}},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){this.props.focusOnMount&&this.restoreFocus()}},{key:"componentDidUpdate",value:function(e,t){t.locked||!e.editable||this.props.editable||this.onCancel(),this.inputLine&&!this.isEditing()&&this.inputLine.value!==this.props.value&&this.inputLine.reset(this.props.value||"")}},{key:"render",value:function(){var e,a,n=this.props.maxLength||t.defaultProps.maxLength,i=this.isEditing(),r=i&&!!this.props.error&&!this.props.lowProfile,o=this.props.customStyleThemes,s=void 0===o?[]:o,d={container:(0,l.default)(_.default.textInput,s&&s.map(function(e){return _.default[e]}),{[_.default.noPlaceholder]:!this.props.placeholder,[_.default.invite]:"v4-invite-caption"===this.props.theme,[_.default.active]:i,[_.default.small]:"small"===this.props.theme,[_.default.inputLarge]:"large"===this.props.theme}),label:(0,l.default)(_.default.labelText,{[_.default.float]:!!this.props.value,[_.default.hideFloatingLabel]:!!this.props.hideFloatingLabel}),inputWrapper:(0,l.default)(_.default.wrapper,{[_.default.textError]:r,[_.default.invite]:"v4-invite-caption"===this.props.theme,[_.default.textActive]:this.state.active,[_.default.locked]:this.state.locked}),infoWrapper:(0,l.default)(_.default.infoStrip,{[_.default.textError]:r,[_.default.textActive]:this.state.active})};this.props.lockable&&(this.props.pending?a=u.createElement("div",{className:(0,l.default)(_.default.iconSpinner,_.default.iconMain),key:"spinner"},u.createElement(E.default,{size:18,stroke:6,color:"highlight"})):this.state.locked?this.props.editable?a=u.createElement("div",{className:_.default.iconMain,onClick:this.onUnlock,key:"btn-edit",title:l10n.t(410)},u.createElement(y.default,{name:"pencil",directional:!0})):this.props.editRestrictionInfo&&!this.props.editable&&(a=u.createElement("div",{className:_.default.iconMain,onClick:this.props.editRestrictionInfo,key:"btn-info"},u.createElement(y.default,{name:"info"}))):a=u.createElement("div",{className:_.default.iconMain,onClick:this.onSaveAndLock,key:"btn-done",title:l10n.t(319)},u.createElement(y.default,{name:"checkmark"})),e=this.props.lockable?u.createElement(M.default,{className:_.default.iconMainContainer,transitionName:"pop"},a):null);var c,f=i&&this.props.supportsEmoji?u.createElement("div",{className:(0,l.default)(_.default.emojiBtn),onClick:this.onEmojiPicker,key:"emoji-btn"},u.createElement(y.default,{name:"emoji-input"})):null;if(this.props.showRemaining){var h=(0,A.numCodepoints)(this.props.value||"");c=n-h<50&&i?u.createElement("div",{className:(0,l.default)(_.default.charCounter),key:"counter"},l10n.n(n-h)):null}var p,m,j=this.props.supportsEmoji||this.props.showRemaining?u.createElement(M.default,{className:_.default.iconsEditContainer,transitionName:"pop"},c,f):null,T=this.props.lowProfile?null:u.createElement("div",{className:d.infoWrapper},u.createElement("div",{className:_.default.errorText},r?this.props.error:null));this.props.lockable&&!this.state.locked?(this.state.emojiPicker&&(m=u.createElement(S.default,{displayName:"EmojiPicker",escapable:!0,popable:!0,ref:this.setRefEmojiPickerUIE,requestDismiss:this.onEmojiPickerClose,requestFocus:this.onRestoreEmojiPickerFocus},u.createElement(C.default,{contextMenu:this.state.emojiPicker}))),p=u.createElement(S.default,{displayName:"TextInput",escapable:!0,requestFocus:this.restoreFocus,requestDismiss:this.onCancel},u.createElement("div",null,m))):!this.props.lockable&&this.state.emojiPicker&&(p=u.createElement(S.default,{displayName:"EmojiPicker",escapable:!0,popable:!0,ref:this.setRefEmojiPickerUIE,requestDismiss:this.onEmojiPickerClose,requestFocus:this.onRestoreEmojiPickerFocus},u.createElement(C.default,{contextMenu:this.state.emojiPicker})));var P,N,I=this.props.editable&&!this.state.locked,k=this.props,O=k.emptyValuePlaceholder,R=k.renderEmojiTextInLockMode,w=this.emojiInputComponent,D=I||!R,L=D?u.createElement(w,{ref:(0,b.GetRef)("inputLine",this),initialValue:this.props.value,theme:this.props.theme||"default",multiline:this.props.multiline,onChange:this.onChange,onFocus:this.onFocus,onBlur:this.onBlur,onEnter:this.onEnter,onFiles:this.props.onFiles,spellCheck:this.props.spellCheck,maxLength:this.props.maxLength,readOnly:!I}):this.renderEmojiText();return this.props.placeholder&&(P=(!this.props.value||!this.props.hideFloatingLabel)&&u.createElement("span",{className:d.label},this.props.placeholder),N=u.createElement("div",{className:_.default.spacer})),u.createElement(v.default,{className:d.container,onFocus:this.restoreFocus},P,N,u.createElement("div",{className:d.inputWrapper},L,this.showEmptyValuePlaceholder()&&u.createElement("div",{className:_.default.emptyValPlaceholder},O),j,e),D&&u.createElement(w.EmojiSuggestions,{theme:g.ThemeOptions.EMOJI_INPUT,onSkinTonePicker:this.onSkinTonePicker}),T,p)}}]),t}(u.Component);t.default=P,P.defaultProps={maxLength:25,editable:!0}},hfifjaejc:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.queryServerProps=function(){return(0,r.queryServerProps)().then(function(e){o.default.updateProps(e)}).catch(i.ServerStatusCodeError,function(e){}).catch(i.WapDrop,function(e){})};var i=a("ddjgcfjicj"),r=a("ciggibedij"),o=n(a("bfgbdiffgd"))},hfjchijff:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=n(a("ddhijeejag")),u=i(a("djcchigfih")),f=i(a("djbhiedbef")),h=n(a("dajffajabh")),p=i(a("jheedhagg")),g=i(a("iibcehaia")),m=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).onClose=function(){a.props.onClose?a.props.onClose():a.props.uim.uie.requestDismiss()},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=this.props.chat.getReceivedVCardMsgs(),t=e&&e.map(function(e){return l.createElement(g.default,{key:e.id.toString(),msg:e})});return l.createElement(u.default,null,l.createElement(h.default,{title:l10n.t(352,{_plural:e?e.length:0}),onBack:this.onClose,type:h.DRAWER_HEADER_TYPE.LARGE}),l.createElement(f.default,null,t))}}]),t}(l.Component),b=(0,p.default)(m);t.default=b},hfjhcgage:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=i(a("ceffhbhahb")),u=n(a("ddhijeejag")),f=i(a("bbchdeehff")),h=i(a("fifhbjiec")),p=i(a("bjidaciaje")),g=a("gaifbabbj"),m=n(a("dbcedfihd")),b=i(a("bfifafibjc")),v=i(a("ihfccfgdf")),j=i(a("eedjbihej")),E=function(e){function t(e){var a;return(0,r.default)(this,t),(a=(0,s.default)(this,(0,d.default)(t).call(this,e))).setBodyRef=function(e){a.bodyRef=e},a.setDescRef=function(e){a.descRef=e},a.handleResize=function(e){var t=e.width,n=a.state.descWidth;n<=0||a.setState({truncated:t<n})},a.onReadMore=function(){var e=a.props.chat;f.default.chatInfoDrawer(e,!0)},a.state={desc:_(e.groupMetadata),descWidth:0,truncated:!1,hidden:!0},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){this.onDescWidthObtained()}},{key:"componentDidUpdate",value:function(e,t){t.desc!==this.state.desc&&this.onDescWidthObtained()}},{key:"onDescWidthObtained",value:function(){var e=this.bodyRef,t=this.descRef;if(e&&t){var a=e.clientWidth,n=t.getWidth();this.setState({descWidth:n,truncated:a<n,hidden:!1})}}},{key:"render",value:function(){var e=this.state.desc;if(!e)return null;var t=this.state,a=t.truncated,n=t.hidden,i=this.props.chat.isTrusted()?g.Configuration.TrustedGroupDesc({links:m.findLinks(e)}):g.Configuration.UntrustedGroupDesc();return u.createElement(u.Fragment,null,u.createElement(j.default,{theme:"title",block:!0},l10n.t(1256)),u.createElement(b.default,{onRef:this.setBodyRef,onResize:this.handleResize,className:p.default.body},u.createElement(j.default,{theme:"small",className:(0,l.default)(p.default.text,{[p.default.hidden]:n})},u.createElement(h.default,{ref:this.setDescRef,text:e,selectable:!0,formatters:i,className:p.default.desc}),a&&u.createElement("div",{className:p.default.more,role:"button",onClick:this.onReadMore},l10n.t(949)))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a=_(e.groupMetadata);return a===t.desc?null:{desc:a,descWidth:0,truncated:!1,hidden:!0}}}]),t}(u.Component);E.CONCERNS={groupMetadata:["desc"]};var y=(0,v.default)(E,E.CONCERNS);function _(e){return e&&e.desc}t.default=y},hgaedfgj:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("bhfcfhafdj")),o=i(a("eaidjcib")),s=i(a("dgcdacjddi")),d=a("ebffadhefa"),c=n(a("bhehfiebbd")),l=a("fgiejiccg"),u=new(function(){function e(){(0,o.default)(this,e),this._onMessage=function(e,t){var a=t.data,n=(0,d.unwrapInvocationPayload)(a);if(null!=n){var i=n.method,o=n.args,s=n.invocationId,u=c.get();u[i].apply(u,(0,r.default)(o)).then(function(t){e.postMessage((0,l.buildResponsePayload)(s,t))})}}}return(0,s.default)(e,[{key:"respondTo",value:function(e){var t=this;e.addEventListener("message",function(a){return t._onMessage(e,a)}),e.start()}}]),e}());t.default=u},hgeacfdgi:function(e,t,a){"use strict";var n=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"OUTPUT_DEVICES",{enumerable:!0,get:function(){return i.OUTPUT_DEVICES}}),Object.defineProperty(t,"CALL_TYPES",{enumerable:!0,get:function(){return r.CALL_TYPES}}),Object.defineProperty(t,"CALL_UI_STATES",{enumerable:!0,get:function(){return s.CALL_UI_STATES}}),t.default=void 0;var i=a("hfgahggjd"),r=n(a("bgdcgdigif")),o=a("dcaifjegcg"),s=a("cgejjichfa"),d=new((0,o.defineModel)(r.default));t.default=d},hhaafceic:function(e,t){e.exports={body:"Xemqt",callTitle:"_2tCuY",participantName:"_1-Lhx",actionRow:"ABUh8",btnGroup:"_1vOB0",btnAccept:"_1zQJv",btnReject:"_346oG",btnEnd:"lu5_G",btnMute:"_2dT7d",webrtcCanvas:"_2Wa2B",webrtcVideo:"_1gxrr",webrtcAudio:"_2ElAO",videoContainer:"_1D0FS",previewVideoContainer:"_1Axfd",outputVideoContainer:"y92Cf"}},hhbhaabfi:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=i(a("ddgaeajhag")),u=i(a("dbafiicfja")),f=i(a("eaaagccfda")),h=i(a("ceffhbhahb")),p=n(a("ddhijeejag")),g=i(a("cgfjiaegih")),m=i(a("dbdfbgehgj")),b=i(a("cefeghcbch")),v=i(a("cgbdjhghfb")),j=i(a("bbaaddaiah")),E=i(a("bbchdeehff")),y=i(a("baagejbchg")),_=i(a("dhigahgdjb")),S=i(a("cbedjffdai")),C=a("cicgeajfge"),A=n(a("cajijabhgb")),M=a("hbhjdibhf"),T=i(a("cicjcfabii")),P=i(a("bggeiidigb")),N=i(a("ddajbaceej")),I=i(a("dgjddffcfg")),k=i(a("dacfecidja")),O=i(a("bjbdcigbdi")),R=a("ejbdjaifi"),w=n(a("dhfbfehaef")),D=i(a("fffdgbfji")),L=i(a("bijffg")),U=i(a("dbciicjiad")),G=i(a("eceadcicaf")),x=i(a("bfbggcdbfb")),F=i(a("dahdbbghjd")),B=i(a("biecbbiiee")),V=i(a("dceicchccd")),H=i(a("dagdiahdfi")),W=i(a("bjbedjfe")),Y=i(a("caijdggfg")),$=i(a("gfgihaeab")),K=i(a("ceddibdhdb")),q=i(a("dcaibchbg")),z=i(a("bjaehhfffd")),Q=i(a("becfabjeeg")),J=i(a("fbjjefaic")),Z=i(a("caffijjhc")),X=a("chhhffajfi"),ee=i(a("bcifhbgija")),te={THROTTLE:450},ae=50,ne=75,ie=5,re=10,oe=function(e){function t(e){var a;(0,r.default)(this,t),(a=(0,s.default)(this,(0,d.default)(t).call(this,e))).refPanel=null,a.flatListController=new P.default,a._batchState={},a.setRefSearch=function(e){a.refSearch=e},a._setRefInputHotkey=function(e){a._refInputHotkey=e},a.smbFilterSession=new z.default,a.hasLabelEditGK=!1,a._refContainer=p.createRef(),a._debounceSetState=new K.default(function(){a.setState(a._batchState),a._batchState={}}),a.debounceSetState=function(e,t,n){Object.assign(a._batchState,e),void 0===t?a._debounceSetState.onOrBeforeRepaint():void 0===n?a._debounceSetState.debounce(t):a._debounceSetState.debounceAndCap(t,n)},a.updateLabelFeatureFlagChange=function(){!a.hasLabelEditGK&&O.default.supportsFeature(O.default.F.LABELS_EDIT)&&(a.hasLabelEditGK=!0,a.props.listeners.add(L.default,"bulk_msg_chat_label_change",function(){a.searchQuery&&!a.searchQuery.isEmptyQuery&&(a.ftsMsgs.updateFtsAfterMsgLabelUpdate(),a.onSearch(a.searchQuery.trimmed,{label:a.searchQuery.filter.label,kind:a.searchQuery.filter.kind}))}),a.selectableState=new $.default(a.props.selectable||!1),a.props.listeners.add(a._multiSelection,"all",a.updateShowMultiselectBar),a.setState({chatlistKeyId:1}))},a.updateShowMultiselectBar=function(){var e=a.state.showMultiSelectBar,t=a._multiSelection&&a._multiSelection.getSelected().length>0&&!a.props.hideMultiSelectBar;!1===e&&t&&a.setState({showMultiSelectBar:!0})},a.scrollChatListToTop=function(){var e=a.refPanel;if(e){var t=e.scrollTop;0!==e.scrollTop&&(t<e.clientHeight?(0,ee.default)(e,"scroll",{duration:300,container:e,offset:-(e.scrollTop+e.getBoundingClientRect().top)}):e.scrollTop=0)}},a.getFilteredContacts=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=(e||"").trim();if(!i&&a.isEmptyFilterQuery(t))return[];i=D.default.accentFold(i);var r=I.default.numberSearch(i);return _.default.getFilteredContacts().filter(function(e){if(!e.searchMatch(i,r,t.label))return!1;if(!n){var a=m.default.get(e.id);if(a&&a.shouldAppearInList)return!1}return!0})},a.getFilteredChats=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=(e||"").trim();if(n||!a.isEmptyFilterQuery(t)){n=D.default.accentFold(n);var i=I.default.numberSearch(n);return O.default.supportsFeature(O.default.F.LABELS_DISPLAY)?m.default.filter(function(e){var a=t.label&&e.contact.searchMatch(n,i,t.label),r=!n||e.contact.searchMatch(n,i),o=!t.kind&&!t.label||e.matchFilter(t);return a||r&&o}):m.default.filter(function(e){return e.contact.searchMatch(n,i)&&e.shouldAppearInList})}return m.default.filter(function(e){return!e.archive&&e.shouldAppearInList})},a.fullTextSearch=function(e,t){var n=(e||a.searchQuery.query).trim();(0,X.numCodepoints)(n)>=y.default.FTS_MIN_CHARS||t&&t.label?(a.state.searching||a.debounceSetState({searching:!0}),a._fts()):a.isFTSSearching()?a.cancelSearch():a.ftsMsgs.reset()},a.shouldFTSSearch=function(e){return!(!a.ftsMsgs.hasMoreMsgs||a.isFTSSearching()||(0,X.numCodepoints)(a.searchQuery.query||"")<y.default.FTS_MIN_CHARS)&&e.scrollTop+y.default.SCROLL_FUDGE>e.scrollHeight-e.clientHeight},a.mapGroupToContacts=function(e,t){for(var a=new Map,n=function(n){var i=e[n];i&&i.forEach(function(e){e&&(a.has(e)||a.set(e,[]),a.get(e).push(t[n]))})},i=0;i<e.length;i++)n(i);var r=[];return a.forEach(function(e,t,a){r.push([t,e])}),r.sort(function(e,t){return e[1].length===t[1].length?null!=e[0].t&&null!=t[0].t?t[0].t-e[0].t:null!=e[0].t?-1:1:t[1].length-e[1].length}),r.slice(0,re)},a.onSearch=function(e,t){var n=O.default.supportsFeature(O.default.F.LABELS_DISPLAY)?t:{};if(!e&&a.isEmptyFilterQuery(n))return a.searchQuery.updateQuery(e),a.searchQuery.updateLabelQuery({}),void a.onStopSearch();e===a.searchQuery.query&&a.isEmptyFilterQuery(n)||(a.fullTextSearch(e,n),a.commonGroupSearch(),a.throttledFilteredChats(e,n),a.throttledFilteredContacts(e,n),a.searchQuery.updateQuery(e),a.searchQuery.updateLabelQuery(n))},a.hasSearchText=function(){return O.default.supportsFeature(O.default.F.LABELS_DISPLAY)?!!a.searchQuery.query||!a.isEmptyFilterQuery(a.searchQuery.filter):!!a.searchQuery.query},a.isFTSSearching=function(){var e=a._batchState;return"searching"in e?e.searching:a.state.searching},a.cancelSearch=function(){a._fts.cancel(),a.commonGroupSearch.cancel(),a.ftsMsgs.resetSearch(),a.ftsMsgs.reset(),a._ftsPromise&&a._ftsPromise.cancel(),a._findCommonGroupsPromise&&a._findCommonGroupsPromise.cancel(),a.setState({groupChats:[]}),a.isFTSSearching()&&a.debounceSetState({searching:!1},ne)},a.cancelThrottled=function(){a.throttledFilteredChats.cancel(),a.throttledFilteredContacts.cancel(),a.throttledOnScroll.cancel()},a.onStopSearch=function(){return new Promise(function(e){var t;a.isEmptyFilterQuery(a.searchQuery.filter)||(t=a.smbFilterSession.sessionId,new x.default.ChatFilterEvent({actionType:x.default.CHAT_FILTER_ACTION_TYPES.SEARCH_WITH_FILTER,filterType:x.default.CHAT_FILTER_TYPES.OTHER_LABELS,sessionId:t}).commit()),a.cancelSearch(),a.searchQuery.clear(),a.cancelThrottled(),null!=a.refSearch&&a.refSearch.reset(),a.setState({chats:a.getFilteredChats(),contacts:a.getFilteredContacts(),searching:!1},function(){return e()})})},a.onFocusList=function(e){e.repeat||a.chatlist&&(a.refSearch&&!a.refSearch.cursorIsAtEnd()||(e.preventDefault(),e.stopPropagation(),(0,w.shouldIndicateFocus)(),a.chatlist.focusFirst()))},a.onOpenFirst=function(e){e.preventDefault();var t=a.searchQuery.query,n=a.searchQuery.filter,i=a.getFilteredChats(t,n)[0]||a.getFilteredContacts(t,n)[0];i&&m.default.find(i.id).then(function(e){a.onStopSearch(),(0,w.shouldIndicateFocus)(),E.default.openChatFromUnread(e).then(function(t){t&&E.default.focusChatTextInput(e)})})},a.onFocusSearch=function(){E.default.existsDrawerLeft(function(e){e||((0,w.shouldIndicateFocus)(),N.default.focus(a.refSearch))})},a.indicateFocus=function(){(0,w.indicateFocus)(a._refInputHotkey,["#FBFBFB","#D9F3FF"])},a.onScroll=function(e){a.throttledOnScroll(e.target)},a.getEmptyChatlistState=function(e,t,n){return e&&e.length||t&&t.length||n&&n.length?null:a.props.labelFilter?a.state.searching?p.createElement("span",null):p.createElement(C.NoResultForLabel,{labelId:a.props.labelFilter}):a.searchQuery.query?a.state.searching?p.createElement(C.Searching,null):p.createElement(C.Search,null):m.default.some(function(e){return e.shouldAppearInList})?p.createElement(C.AllArchived,null):p.createElement(C.ListChats,null)},a.setRefPanel=function(e){a.refPanel=e},a.onCancelLabelSelection=function(){a.setState({showMultiSelectBar:!1}),a._multiSelection&&a._multiSelection.unsetAll(),a.selectableState&&a.selectableState.setSelectable(!!a.props.selectable)},a.ftsMsgs=new k.default,a.selection=new q.default([],function(e){return e.id.toString()}),a.searchQuery=new Y.default,a._multiSelection=a.props.multiSelection||new V.default([],function(e){return e.id.toString()}),a._fts=a.props.debounce(function(){var e=a.searchQuery.trimmed;a._ftsPromise&&a._ftsPromise.cancel(),a._ftsPromise=Promise.resolve().then(function(){a.isFTSSearching()||a.debounceSetState({searching:!0},ne)}).then(function(){return a.ftsMsgs.search({count:y.default.FTS_NUM_RESULTS,filter:a.searchQuery.filter,searchTerm:e})}).checkpoint(a.props.rejectOnUnmount()).then(function(e){e&&!e.canceled&&a.debounceSetState({searching:!1},ne)}).catch(A.Unmount,function(){}).catch(Promise.CancellationError,function(){}).finally(function(){a._ftsPromise=void 0}).catch(function(){a.isFTSSearching()&&a.debounceSetState({searching:!1},ne)})},y.default.FTS_TYPING_DELAY),a.throttledFilteredChats=a.props.throttle(function(e,t){var n=a.getFilteredChats(e,t);a.debounceSetState({chats:n},ne,ae)},te.THROTTLE,{leading:!1,trailing:!0}),a.throttledFilteredContacts=a.props.throttle(function(e,t){var n=a.getFilteredContacts(e,t);a.debounceSetState({contacts:n},ne,ae)},te.THROTTLE,{leading:!1,trailing:!0}),a.throttledOnScroll=a.props.throttle(function(e){a.shouldFTSSearch(e)&&a.fullTextSearch()},100),a.commonGroupSearch=(0,f.default)(function(){var e=a.searchQuery.trimmed;if(e){var t=a.getFilteredContacts(e,{},!0);if(0===t.length||t.length>ie)a.setState({groupChats:[]});else{var n=(0,u.default)(t,function(e){return(0,M.findCommonGroups)(e).then(function(){return e.commonGroups})});a._findCommonGroupsPromise&&a._findCommonGroupsPromise.cancel(),a._findCommonGroupsPromise=Promise.all(n).then(function(n){if(e===a.searchQuery.trimmed){var i=a.mapGroupToContacts(n,t);a.setState({groupChats:i})}}).catch(function(){}).finally(function(){a._findCommonGroupsPromise=null})}}else a.setState({groupChats:[]})},750);var n=a.props.labelFilter,i=a.props.labelFilter?{label:n}:void 0;return a.state={searching:!!i,chats:a.getFilteredChats("",i),contacts:a.getFilteredContacts("",i),groupChats:[],showMultiSelectBar:!1,chatlistKeyId:0,filterPreset:i,textsize:S.default.get().textsize},a.searchQuery.updateLabelQuery(i),a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props,a=t.labelFilter,n=t.listeners;a&&this.onSearch("",{label:a}),this.updateLabelFeatureFlagChange(),n.add(O.default,O.default.FEATURE_CHANGE_EVENT,this.updateLabelFeatureFlagChange),this.props.listeners.add(m.default,"remove",function(t){if(e.searchQuery.query){var a=(0,l.default)(e.state.chats,t);e.state.chats&&a.length!==e.state.chats.length&&e.debounceSetState({chats:a})}else e.throttledFilteredChats.cancel(),e.debounceSetState({chats:e.getFilteredChats()})}),this.props.listeners.add(_.default,"remove",function(t){if(e.searchQuery.query||!e.isEmptyFilterQuery(e.searchQuery.filter)){var a=(0,l.default)(e.state.contacts,t);e.state.contacts&&a.length!==e.state.contacts.length&&e.debounceSetState({contacts:a})}else e.throttledFilteredContacts.cancel(),e.debounceSetState({contacts:e.getFilteredContacts()})}),this.props.listeners.add(m.default,"sort change:archive",function(){!e.searchQuery.query&&e.isEmptyFilterQuery(e.searchQuery.filter)&&(e.throttledFilteredChats.cancel(),e.debounceSetState({chats:e.getFilteredChats()}))}),this.props.listeners.add(_.default,"sort",function(){!e.searchQuery.query&&e.isEmptyFilterQuery(e.searchQuery.filter)&&(e.throttledFilteredContacts.cancel(),e.debounceSetState({contacts:e.getFilteredContacts()}))}),this.props.listeners.add(this.ftsMsgs,"bulk_remove reset",function(){!e.searchQuery.query&&e.isEmptyFilterQuery(e.searchQuery.filter)&&(e.throttledFilteredChats.cancel(),e.debounceSetState({chats:e.getFilteredChats()}))}),this.props.listeners.add(E.default,"focus_chat_search",this.onFocusSearch),this.props.listeners.add(E.default,"textsize_change",function(t){e.debounceSetState({textsize:t})}),this.props.listeners.add(B.default,"new_msg_sent",function(){e.hasSearchText()||!e.isEmptyFilterQuery(e.searchQuery.filter)?e.onStopSearch().then(function(){return e.scrollChatListToTop()}):e.scrollChatListToTop()})}},{key:"getClientWidth",value:function(){var e,t;return null===(e=this._refContainer)||void 0===e?void 0:null===(t=e.current)||void 0===t?void 0:t.clientWidth}},{key:"containsDOMNode",value:function(e){var t;return!(null===(t=this._refContainer)||void 0===t||!t.current)&&this._refContainer.current.contains(e)}},{key:"componentWillUnmount",value:function(){this.cancelSearch(),this.cancelThrottled(),this._debounceSetState.cancel()}},{key:"isEmptyFilterQuery",value:function(e){return!e||!(e.label||e.kind)}},{key:"_showUnread",value:function(){}},{key:"render",value:function(){var e=this,t=this.state,a=t.chats,n=t.contacts,i=t.groupChats,r=t.filterPreset,o=this.ftsMsgs.toArray(),s=this.getEmptyChatlistState(a,n,o);null==s&&(s=p.createElement(b.default,{key:this.state.chatlistKeyId,ref:(0,R.GetRef)("chatlist",this),flatListController:this.flatListController,chats:a,contacts:n||[],filterPreset:r,groupChats:i,isSearching:!!this.hasSearchText(),searchQuery:this.searchQuery,ftsResult:o,selection:this.selection,onFocusSearch:this.onFocusSearch,multiSelection:this._multiSelection,selectableState:this.selectableState}));var d,c={down:this.onFocusList},l=this.state.searching&&this.props.labelFilter||this.state.searching&&this.ftsMsgs.length?p.createElement("div",{key:"spinner",className:j.default.spinner},p.createElement(Q.default,{stroke:6,size:24})):null,u=y.default.TEXTSIZE_CLASS_MAP.find(function(t){return t.scale===e.state.textsize});u&&(d=u.classname);var f,m,E,_=(0,h.default)(j.default.chatListPanel,d),S=this.ftsMsgs.hasMoreMsgs&&o.length||this._showUnread()?this.onScroll:void 0;return this.state.showMultiSelectBar?f=p.createElement(Z.default,{key:"multiSelectBar",displayName:"MultiSelect",escapable:!0,requestDismiss:this.onCancelLabelSelection},p.createElement(F.default,{theme:"chatlist-panel",selectedModels:this._multiSelection,labelEditEnabled:!0,iconColor:"#8d9194",onCancel:this.onCancelLabelSelection})):E=p.createElement(w.default,{key:"ListSearchHotKey",handlers:c,onFocus:this.indicateFocus,onRef:this._setRefInputHotkey,className:j.default.panelSearch},p.createElement(U.default,{ref:this.setRefSearch,onSearch:this.onSearch,onEnter:this.onOpenFirst,loading:this.state.searching,smbFilterSession:this.smbFilterSession,listFilterEnabled:!0})),this.props.labelFilter||(m=p.createElement(p.Fragment,null,p.createElement(v.default,{mute:H.default.globalMute()}),p.createElement(g.default,null),E,f)),p.createElement("div",{id:"side",className:_,ref:this._refContainer},m,p.createElement(T.default,{flatListControllers:[this.flatListController],onRef:this.setRefPanel,className:j.default.panelBody,onScroll:S,id:"pane-side"},s,l))}}]),t}(p.Component);var se=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,(0,d.default)(t).apply(this,arguments))}return(0,c.default)(t,e),(0,o.default)(t,[{key:"getClientWidth",value:function(){return this.getComponent().getClientWidth()}},{key:"containsDOMNode",value:function(e){return this.getComponent().containsDOMNode(e)}}]),t}((0,W.default)((0,J.default)((0,G.default)(oe))));t.default=se},hhcfehghc:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.updateParticipants=function(e,t){i.default.supportsFeature(i.default.F.MD_BACKEND);return Promise.resolve()},t.addParticipants=function(e,t){i.default.supportsFeature(i.default.F.MD_BACKEND);return Promise.resolve()},t.removeParticipants=function(e,t){i.default.supportsFeature(i.default.F.MD_BACKEND);return Promise.resolve()};var i=n(a("bjbdcigbdi"))},hhjiahbag:function(e,t){e.exports={metadataContainer:"XOIaT",metadataText:"_3luN5",metadataTitle:"_3yN2_",metadataSubtitle:"_3WFBR",metadataDesc:"vJCph",participantList:"_18tvF",participantsTitle:"_3xWWz",participantsContainer:"_2qj30",participantWrapper:"_89Cym",emptyContentContainer:"_1LQrs",participantsText:"_1WSDe",contactsText:"_2oG62",participantText:"_3Z_4g"}},hicgdccej:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=n(a("ddhijeejag")),u=i(a("dbdfbgehgj")),f=i(a("bbchdeehff")),h=i(a("beecadabde")),p=a("dbgdaechch"),g=i(a("dbjhghahdd")),m=i(a("bjbggbjed")),b=a("cdheafhdbh"),v=i(a("dgjddffcfg")),j=a("ejbdjaifi"),E=i(a("fffdgbfji")),y=i(a("bjbedjfe")),_=i(a("jjbcbhhjh")),S=a("dbbhhgjjbg"),C=i(a("bihdbbidff")),A=i(a("bfdcadbbif")),M=n(a("bfjajhbdf")),T=i(a("caffijjhc")),P=i(a("dbjbhajgfd")),N=i(a("didfdhbecg")),I=function(e){function t(){var e;return(0,r.default)(this,t),(e=(0,s.default)(this,(0,d.default)(t).apply(this,arguments))).emojiInputComponent=(0,g.default)(),e.isSkinTonePickerOpen=!1,e.onSend=function(t){if(t.preventDefault(),e.inputLine){var a=e.inputLine.value.trim();if(a.length){var n=(0,M.genId)();u.default.find(e.props.msg.sender).then(function(t){return f.default.openToast(l.createElement(M.default,{msg:E.default.t(1077),id:n})),(0,S.sendTextMsgToChat)(t,v.default.emojify(a),{quotedMsg:e.props.msg})}).then(function(){e.props.onSend()}).catch(h.default,function(){var t=e.state.chat;t&&f.default.openToast(l.createElement(M.default,{msg:E.default.t(1199,{contact:t.contact.formattedName}),id:n}))}),e.inputLine&&e.inputLine.reset(),e.props.dismissReply()}}},e.onFocus=function(t){e.setState({focused:!0})},e.onBlur=function(t){e.isSkinTonePickerOpen||document.activeElement===document.body&&e.setState({focused:!1})},e.onSkinTonePicker=function(t){e.isSkinTonePickerOpen=t},e.isFocused=function(){return e.state.focused},e.onEmojiPicker=function(t){t&&(t.preventDefault(),t.stopPropagation());var a=l.createElement(m.default,{onEmoji:e.onEmoji,onFocusNext:e.restoreFocus,onFocusPrev:e.restoreFocus});e.setState({emojiPicker:{menu:a,dirY:p.DirY.TOP,type:"emoji_picker",anchor:t.target}})},e.onEmoji=function(t){e.inputLine&&e.inputLine.replaceSelection(t)},e.restoreFocus=function(){e.inputLine&&e.inputLine.focus()},e.restoreEmojiPickerFocus=function(){if(e.refEmojiPickerUIE){var t=e.refEmojiPickerUIE.getRef();if(t){var a=t.getElement();a&&a.restoreFocus()}}},e.emojiPickerClose=function(){e.setState({emojiPicker:void 0})},e.setRefEmojiPickerUIE=function(t){e.refEmojiPickerUIE=t},e.state={replyCaption:"",focused:!1,emojiPicker:void 0,chat:void 0},u.default.find(e.props.msg.sender).checkpoint(e.props.rejectOnUnmount()).then(function(t){e.setState({chat:t})}),e}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentDidUpdate",value:function(e,t){this.shouldPausePlayback(t)&&!this.shouldPausePlayback(this.state)?this.props.play():!this.shouldPausePlayback(t)&&this.shouldPausePlayback(this.state)&&this.props.pause()}},{key:"shouldPausePlayback",value:function(e){return e.emojiPicker||e.focused}},{key:"isPaused",value:function(){return this.shouldPausePlayback(this.state)}},{key:"render",value:function(){var e,t,a;this.state.emojiPicker&&(e=l.createElement(T.default,{displayName:"EmojiPicker",escapable:!0,popable:!0,ref:this.setRefEmojiPickerUIE,requestDismiss:this.emojiPickerClose,requestFocus:this.restoreEmojiPickerFocus},l.createElement(P.default,{contextMenu:this.state.emojiPicker})),t=l.createElement(T.default,{displayName:"EmojiPicker",escapable:!0,requestFocus:this.restoreEmojiPickerFocus},l.createElement("div",null,e)));var n=this.state.chat;n&&this.state.focused&&!this.state.emojiPicker&&(a=l.createElement(T.default,{displayName:"StatusV3Reply",escapable:!0,requestDismiss:this.props.dismissReply},l.createElement("div",{className:C.default.popupPanel},l.createElement(_.default,{msg:this.props.msg,theme:"statusV3",key:this.props.msg.id.toString(),chat:n}))));var i=this.emojiInputComponent;return l.createElement("div",{className:C.default.container},l.createElement(N.default,{transitionName:"status-v3-quoted-msg",transitionAppear:!0},a),l.createElement("div",{className:C.default.wrapper},l.createElement("button",{className:C.default.emojiIcon,onClick:this.onEmojiPicker},l.createElement(A.default,{name:"status-v3-smiley"})),l.createElement("div",{className:C.default.lineWrapper},l.createElement(i.EmojiSuggestions,{theme:b.ThemeOptions.EMOJI_INPUT,onSkinTonePicker:this.onSkinTonePicker}),l.createElement(i,{ref:(0,j.GetRef)("inputLine",this),theme:"status-reply",spellCheck:!0,onFocus:this.onFocus,onBlur:this.onBlur,onEnter:this.onSend,placeholder:E.default.t(1098),editable:!0,multiline:!0})),l.createElement("button",{className:C.default.sendIcon,onClick:this.onSend},l.createElement(A.default,{name:"send-light",directional:!0})),t))}}]),t}(l.Component),k=(0,y.default)(I);t.default=k},hichbacjh:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=i(a("ceffhbhahb")),u=n(a("ddhijeejag")),f=i(a("dbdfbgehgj")),h=i(a("bbchdeehff")),p=i(a("fifhbjiec")),g=i(a("gigbjdedj")),m=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).state={hover:!1},a.onMouseOver=function(e){a.setState({hover:!0})},a.onMouseEnter=function(e){a.setState({hover:!0})},a.onMouseLeave=function(e){a.setState({hover:!1})},a.getGroupName=function(){var e=a.props.quotedGroupJid,t=f.default.get(e);return t&&t.formattedTitle},a.onClick=function(){var e=a.props.quotedGroupJid;f.default.find(e).then(function(e){return h.default.openChatBottom(e)})},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"hoverable",value:function(){return!this.state.hover&&!this.props.isComposePreview}},{key:"render",value:function(){var e=this.props.isComposePreview,t=this.getGroupName();if(!t)return null;var a=(0,l.default)(g.default.quotedMsg,{[g.default.hover]:this.state.hover,[g.default.composeBoxQuotedMsg]:!!e});return u.createElement("div",{onMouseOver:this.onMouseOver,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,className:a},u.createElement("div",{className:g.default.msg,role:e?"none":"button",onClick:this.onClick},u.createElement("span",{className:g.default.colorBar}),u.createElement("div",{className:g.default.msgBody},u.createElement(p.default,{className:"quoted-mention",text:l10n.t(948,{groupName:t}),direction:"auto",key:"status"}))))}}]),t}(u.PureComponent);t.default=m},hjbcfjaai:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.StatusV3Text=t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("djecdhecha")),l=i(a("dbjagcfebh")),u=i(a("eaaagccfda")),f=i(a("ceffhbhahb")),h=n(a("ddhijeejag")),p=i(a("bccfigihcf")),g=i(a("dbdfbgehgj")),m=i(a("cfadcbbiie")),b=i(a("bbchdeehff")),v=i(a("baagejbchg")),j=i(a("dhhfaeacef")),E=i(a("fifhbjiec")),y=n(a("cajijabhgb")),_=i(a("ddajbaceej")),S=i(a("djifeiaaea")),C=i(a("bjbdcigbdi")),A=a("ejbdjaifi"),M=i(a("dhfbfehaef")),T=i(a("cajbifjffe")),P=a("gaifbabbj"),N=i(a("eceadcicaf")),I=i(a("bdiiahhjbe")),k=i(a("bffjfbgbg")),O=i(a("bbjadhadbg")),R=i(a("bfbggcdbfb")),w=n(a("dgfecega")),D=i(a("bjbedjfe")),L=i(a("becfabjeeg")),U=i(a("ihfccfgdf")),G=i(a("hicgdccej")),x=a("ffgjgcghi"),F=i(a("cjegehjigc")),B=i(a("dedicfgaca")),V=i(a("caffijjhc")),H=a("chhhffajfi"),W=i(a("cbigbjjigh")),Y=function(e){function t(){var e;return(0,r.default)(this,t),(e=(0,s.default)(this,(0,d.default)(t).apply(this,arguments))).refProgressBar=h.createRef(),e.refProgressBarComponent=h.createRef(),e.refMeasuringProfile=h.createRef(),e.refWrapper=h.createRef(),e.componentWillUnmount=function(){if(e.playbackController.removeListeners(),null!=e.props.sessionId){var t=Math.round(e.playbackController.duration||0);e.statusViewEvent.webcStatusPlaybackT=t;var a=(0,c.default)(e).playStartTime;null!=a&&(e.statusViewEvent.webcStatusViewT+=Math.round(window.performance.now()-a),e.playStartTime=void 0),e.statusViewEvent.commit()}},e.onWindowResize=function(){var t=e.refMeasuringProfile&&e.refMeasuringProfile.current,a=e.refProgressBar&&e.refProgressBar.current;if(t&&a){var n=t.getBoundingClientRect(),i=a.getBoundingClientRect();!l10n.isRTL()&&n.right>i.left-5||l10n.isRTL()&&n.left<i.right+5?e.setState({narrow:!0}):e.setState({narrow:!1})}},e.onTab=function(t){(t&&(t.stopPropagation(),t.preventDefault()),e.props.statusV3.contact.isMe)||(e.composeBox.isFocused()?e.dismissReply():e.startReply())},e.onWindowGainedFocus=function(){e.windowFocused=!0,e.play()},e.onWindowLostFocus=function(){e.windowFocused=!1,e.pause()},e.onClickProfile=function(){var t=e.props.statusV3.contact.id;g.default.find(t).then(function(e){return b.default.openChatBottom(e)}).then(function(){e.props.closeStatusViewer(!0)})},e.play=function(){var t=e.props.mediaData;if(t){if(t.mediaStage!==k.default.STAGE.RESOLVED)return;e.statusViewEvent.webcStatusLoadT||(e.statusViewEvent.markWebcStatusLoadT(),e.statusViewEvent.webcStatusLoaded=!0)}var a=e.composeBox;a&&a.isPaused()||e.windowFocused&&(e.playStartTime=window.performance.now(),e.playbackController.resume())},e.pause=function(){var t=e.props.mediaData;if(!t||t.mediaStage===k.default.STAGE.RESOLVED){var a=(0,c.default)(e).playStartTime;null!=a&&(e.statusViewEvent.webcStatusViewT+=Math.round(window.performance.now()-a),e.playStartTime=void 0),e.playbackController.pause()}},e.onMouseDown=function(){e.pause()},e.onMouseUp=function(){e.play()},e.dismissReply=function(){var t=e.refWrapper&&e.refWrapper.current;t&&_.default.focus(t)},e.startReply=function(){e.composeBox.restoreFocus()},e.onSend=function(){e.statusViewEvent.webcStatusReplyCount++},e.state={chat:void 0,narrow:!1},e.windowFocused=!0,e.playbackController=(0,x.setupStatusV3Controller)(e.props.mediaData,e.props.msg),e.statusViewEvent=new R.default.WebcStatusView({webcStatusLoaded:!1,webcStatusReplyCount:0,webcStatusViewT:0}),e}return(0,l.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props,a=t.statusV3,n=t.msg,i=t.mediaData,r=t.msgIdx,o=t.sessionId;if(null!=o){var s;s=a.contact.isMe?R.default.WEBC_STATUS_ROW_SECTION.MY:a.contact.statusMute?R.default.WEBC_STATUS_ROW_SECTION.MUTED:a.hasUnread?R.default.WEBC_STATUS_ROW_SECTION.RECENT:R.default.WEBC_STATUS_ROW_SECTION.VIEWED;var d,c=this.props.rowIdx||0,l=a.msgs.length-1-r<a.unreadCount;i?d=i.isGif?R.default.WEBC_STATUS_MEDIA_TYPE.GIF:"video"===i.type?R.default.WEBC_STATUS_MEDIA_TYPE.VIDEO:R.default.WEBC_STATUS_MEDIA_TYPE.IMAGE:(d=n.getLinks().length?R.default.WEBC_STATUS_MEDIA_TYPE.URL:R.default.WEBC_STATUS_MEDIA_TYPE.TEXT,this.statusViewEvent.markWebcStatusLoadT(),this.statusViewEvent.webcStatusLoaded=!0),this.statusViewEvent.webcStatusSessionId=o,this.statusViewEvent.webcStatusRowSection=s,this.statusViewEvent.webcStatusRowIndex=c,this.statusViewEvent.webcStatusMediaType=d,this.statusViewEvent.webcStatusUnread=l}this.refProgressBarComponent&&this.refProgressBarComponent.current&&this.playbackController.addListeners(function(t,a){var n=e.refProgressBarComponent&&e.refProgressBarComponent.current;n&&n.onStart(t,a)},function(){var t=e.refProgressBarComponent&&e.refProgressBarComponent.current;t&&t.onPause()},function(){var t=e.refProgressBarComponent&&e.refProgressBarComponent.current;t&&t.onEnded().checkpoint(e.props.rejectOnUnmount()).then(function(){e.props.onNext()}).catch(y.Unmount,function(){})}),i?(this.play(),i&&i.mediaStage===k.default.STAGE.RESOLVED&&this.props.markRead(this.props.statusV3,this.props.msg)):(this.props.msg.type,v.default.MSG_TYPE.CHAT,this.play(),this.props.markRead(this.props.statusV3,this.props.msg));var f=this.refWrapper&&this.refWrapper.current;f&&f.focus();var h=this.props.listeners;h.add(window,"focus",this.onWindowGainedFocus),h.add(window,"blur",this.onWindowLostFocus),h.add(window,"resize",(0,u.default)(this.onWindowResize)),this.onWindowResize()}},{key:"render",value:function(){var e,t,a=this,n=this.props,i=n.msg,r=n.mediaData,o=n.statusV3;if(r&&r.preview)e={backgroundImage:"url(".concat(r.preview.url(),")")};else if(i.type===v.default.MSG_TYPE.CHAT){e={backgroundColor:i.statusV3TextBg}}if(r)switch(r.type){case k.default.TYPE.IMAGE:t=h.createElement(K,{msg:i,statusV3:o,mediaData:r,markRead:this.props.markRead,play:this.play,pause:this.pause,onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp});break;case k.default.TYPE.VIDEO:t=h.createElement(z,{msg:i,statusV3:o,mediaData:r,markRead:this.props.markRead,play:this.play,pause:this.pause,playbackController:this.playbackController,onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp});break;default:I.default.error("Invalid status v3 image type: "+r.type)()}else t=i.type===v.default.MSG_TYPE.CHAT?h.createElement(Q,{msg:i,onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp}):h.createElement(J,{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp});var s,d=h.createElement("div",{ref:this.refProgressBar},h.createElement(B.default,{ref:this.refProgressBarComponent,current:this.props.msgIdx,total:this.props.totalMsgs,onClick:this.props.onClickProgressBar}));i.type!==v.default.MSG_TYPE.CHAT&&(s=h.createElement("div",{className:F.default.captionBackdrop},h.createElement(E.default,{className:F.default.mediaCaption,text:i.caption,formatters:P.Configuration.StatusV3Caption()})));var c,l,u=(0,f.default)(F.default.profile,{[F.default.nonClickProfile]:i.isSentByMe,[F.default.profileNarrow]:this.state.narrow}),p=(0,f.default)(F.default.profile,F.default.measuringProfile,{}),g=h.createElement("div",{className:u,onClick:i.isSentByMe?null:this.onClickProfile},h.createElement("div",{className:F.default.playerAvatar},h.createElement(j.default,{id:o.contact.id,theme:"status_v3",size:40})),h.createElement("div",{className:F.default.msgInfo},h.createElement(E.default,{className:F.default.msgInfoName,text:o.contact.formattedName}),h.createElement("div",{className:F.default.timestamp},m.default.relativeDateAndTimeStr(i.t)))),b=h.createElement("div",{ref:this.refMeasuringProfile,className:p},h.createElement("div",{className:F.default.playerAvatar},h.createElement(j.default,{id:o.contact.id,theme:"status_v3",size:40})),h.createElement("div",{className:F.default.msgInfo},h.createElement(E.default,{className:F.default.msgInfoName,text:o.contact.formattedName}),h.createElement("div",{className:F.default.timestamp},m.default.relativeDateAndTimeStr(i.t)))),y={tab:this.onTab,"shift+tab":this.onTab},_=function(e){return e.stopPropagation()},S={left:_,right:_};r&&(c=h.createElement(X,{mediaData:r})),this.props.statusV3.contact.isMe||(l=h.createElement(M.default,{handlers:S},h.createElement(G.default,{msg:this.props.msg,dismissReply:this.dismissReply,onSend:this.onSend,pause:this.pause,play:this.play,ref:(0,A.GetRef)("composeBox",this)})));var C,T=(0,f.default)(F.default.playerBackground,{[F.default.media]:r}),N=(0,f.default)(F.default.progresBarBackdrop,{[F.default.progressBarBackdropNarrow]:this.state.narrow});return i.type!==v.default.MSG_TYPE.CHAT&&(C=h.createElement("div",{className:N})),h.createElement(V.default,{displayName:"StatusV3Player",escapable:!0,requestDismiss:function(e){e||a.props.closeStatusViewer()},requestFocus:this.dismissReply},h.createElement(M.default,{handlers:y},h.createElement("div",{className:F.default.playerWrapper,key:i.id.toString(),tabIndex:-1,ref:this.refWrapper},b,g,C,d,s,h.createElement("div",{className:T,style:e}),t,c,l)))}}]),t}(h.Component),$=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i))))._renderImage=function(e){var t=a.props,n=t.msg,i=t.mediaData,r=(0,f.default)(F.default.playerContent,F.default.v3Image);return h.createElement("div",{className:r,onMouseDown:a.props.onMouseDown,onMouseUp:a.props.onMouseUp,onDragEnd:a.props.onMouseUp},h.createElement(w.default,{type:w.FIT_TYPE.CONTAIN,size:{width:i.fullWidth,height:i.fullHeight}},h.createElement("div",{className:F.default.mediaViewer},h.createElement(T.default,{src:e}),C.default.supportsFeature(C.default.F.INTERACTIVE_ANNOTATIONS)&&n&&n.interactiveAnnotations&&n.interactiveAnnotations.length>0&&h.createElement(p.default,{annotations:n.interactiveAnnotations,onTooltipDisplay:a.props.onMouseDown,onTooltipDismiss:a.props.onMouseUp}))))},a._renderPreviewImage=function(){var e=a.props.mediaData,t=(0,f.default)(F.default.playerContent,F.default.v3Image,F.default.loading);return h.createElement("div",{className:t,onMouseDown:a.props.onMouseDown,onMouseUp:a.props.onMouseUp},h.createElement(w.default,{type:w.FIT_TYPE.CONTAIN,size:{width:e.aspectRatio,height:1}},h.createElement(T.default,{src:e.preview&&e.preview.url()})))},a._downloadMedia=function(){return a.props.msg.downloadMedia(!0,R.default.WEBC_RMR_REASON_CODE.STATUS_V3)},a}return(0,l.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){this.props.mediaData.mediaStage!==k.default.STAGE.RESOLVED&&this.props.msg.downloadMedia(!0,R.default.WEBC_RMR_REASON_CODE.STATUS_V3)}},{key:"componentDidUpdate",value:function(){this.props.play();var e=this.props.mediaData;e&&e.mediaStage===k.default.STAGE.RESOLVED&&this.props.markRead(this.props.statusV3,this.props.msg)}},{key:"componentWillUnmount",value:function(){this.props.pause()}},{key:"render",value:function(){return h.createElement(O.default,{mediaData:this.props.mediaData,placeholderRenderer:this._renderPreviewImage,downloadMedia:this._downloadMedia},this._renderImage)}}]),t}(h.PureComponent);$.CONCERNS={mediaData:["mediaStage","renderableUrl","preview","fullWidth","fullHeight","aspectRatio"]};var K=(0,U.default)($,$.CONCERNS),q=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).refVideo=h.createRef(),a.setRefVideo=function(e){(a.refVideo=e,a.refVideo.current)&&a.props.playbackController.setVideo(a.refVideo.current)},a}return(0,l.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){this.props.mediaData.mediaStage!==k.default.STAGE.RESOLVED&&this.props.msg.downloadMedia(!0,R.default.WEBC_RMR_REASON_CODE.STATUS_V3)}},{key:"componentDidUpdate",value:function(){this.props.play();var e=this.props.mediaData;e&&e.mediaStage===k.default.STAGE.RESOLVED&&this.props.markRead(this.props.statusV3,this.props.msg)}},{key:"componentWillUnmount",value:function(){this.props.pause()}},{key:"render",value:function(){var e=this.props,t=e.msg,a=e.mediaData,n=e.onMouseDown,i=e.onMouseUp,r=a.mediaStage!==k.default.STAGE.RESOLVED,o=(0,f.default)(F.default.playerContent,F.default.v3Video,{loading:r}),s=a.preview?a.preview.url():void 0;return h.createElement("div",{className:o,onMouseDown:n,onMouseUp:i},h.createElement(w.default,{type:w.FIT_TYPE.CONTAIN,size:{width:a.fullWidth,height:a.fullHeight}},h.createElement("div",{className:F.default.mediaViewer},h.createElement(W.default,{msg:t,mediaData:a,autoPlay:!0,refVideo:this.setRefVideo,poster:s},l10n.t(1151)),C.default.supportsFeature(C.default.F.INTERACTIVE_ANNOTATIONS)&&t&&t.interactiveAnnotations&&t.interactiveAnnotations.length>0&&h.createElement(p.default,{annotations:t.interactiveAnnotations,onTooltipDisplay:this.props.onMouseDown,onTooltipDismiss:this.props.onMouseUp}))))}}]),t}(h.PureComponent);q.CONCERNS={mediaData:["preview","mediaStage","fullWidth","fullHeight"]};var z=(0,U.default)(q,q.CONCERNS),Q=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,(0,d.default)(t).apply(this,arguments))}return(0,l.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){S.default.load(this.props.msg.font).catch(function(){})}},{key:"render",value:function(){var e,t,a=(0,H.numCodepoints)(this.props.msg.body),n={[F.default["font_".concat(this.props.msg.font||0)]]:!0};return a<=60?(e=(0,f.default)(F.default.text,F.default.textLarge,n),t=P.Configuration.StatusV3Text({links:this.props.msg.getLinks()})):a<=240?(e=(0,f.default)(F.default.text,F.default.textMedium,n),t=P.Configuration.StatusV3Text({links:this.props.msg.getLinks()})):e=(0,f.default)(F.default.text,F.default.textSmall,n),h.createElement("div",{className:(0,f.default)(F.default.playerContent,{[F.default.statusPanelPlayerContent]:"status-panel"===this.props.theme,[F.default.statusThumbnailPlayerContent]:"status-thumbnail"===this.props.theme,[F.default.textThumbnailPlayerContent]:"text-thumb"===this.props.theme}),onMouseDown:this.props.onMouseDown,onMouseUp:this.props.onMouseUp},h.createElement("div",{className:e},h.createElement(E.default,{text:this.props.msg.body,formatters:t})))}}]),t}(h.PureComponent);t.StatusV3Text=Q;var J=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,(0,d.default)(t).apply(this,arguments))}return(0,l.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){return h.createElement("div",{className:F.default.playerContent,onMouseDown:this.props.onMouseDown,onMouseUp:this.props.onMouseUp},h.createElement("div",{className:F.default.unknown},l10n.t(1078)))}}]),t}(h.PureComponent),Z=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,(0,d.default)(t).apply(this,arguments))}return(0,l.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){return this.props.mediaData.mediaStage!==k.default.STAGE.RESOLVED?h.createElement("div",{className:F.default.mediaStateControls},h.createElement("button",{className:"icon-media-disabled"},h.createElement(L.default,{size:50,stroke:4,color:"white"}))):null}}]),t}(h.Component);Z.CONCERNS={mediaData:["mediaStage"]};var X=(0,U.default)(Z,Z.CONCERNS),ee=(0,D.default)((0,N.default)(Y));t.default=ee},iabebjcej:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=n(a("ddhijeejag")),u=a("jegbhjbde"),f=i(a("djhbegbdaf")),h=i(a("ihfccfgdf")),p=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,(0,d.default)(t).apply(this,arguments))}return(0,c.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=this.props.msg,t=e.subtype,a=e.body,n=e.recipients;if("create"===t){var i=parseInt(a,10);return l.createElement(f.default,{id:1460,params:{count:i},plural:i,wrapInHiddenToken:!0})}return"add"===t?l.createElement(f.default,{id:1304,params:{name:(0,u.getFormattedNames)(n,!0)},plural:n.length,wrapInHiddenToken:!0}):"remove"===t?l.createElement(f.default,{id:1305,params:{name:(0,u.getFormattedNames)(n,!0)},plural:n.length,wrapInHiddenToken:!0}):null}}]),t}(l.PureComponent);p.CONCERNS={msg:["type","subtype","body","recipients"]};var g=(0,h.default)(p,p.CONCERNS);t.default=g},iaejfgacj:function(e,t){e.exports={confirmationText:"BJa6O"}},iagahbjff:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=i(a("dfacahcafg")),u=i(a("ceffhbhahb")),f=n(a("ddhijeejag")),h=i(a("dfhebgbhja")),p=i(a("fffdgbfji")),g=n(a("jdigiabic")),m=i(a("cgfidiajgj")),b=i(a("cjfhhbcfdh")),v=i(a("bdjihaecid")),j=i(a("faeabghda")),E=i(a("dfcihdhibf")),y=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).state={isCollectionReady:g.default.isSynced()},a._setRefScrollGrid=function(e){a._refScrollGrid=e},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){var e=this;this.state.isCollectionReady||g.default.sync().then(function(){e.setState({isCollectionReady:!0})})}},{key:"focus",value:function(e){this._refScrollGrid&&this._refScrollGrid.focus(e)}},{key:"render",value:function(){return this.state.isCollectionReady?0===g.default.length?f.createElement("div",{className:(0,u.default)(h.default.emptyContainer,h.default.contentContainer)},f.createElement("div",{className:h.default.emptySticker,style:{backgroundImage:"url(".concat(b.default,")")}}),f.createElement("p",{className:h.default.emptyText},p.default.t(1084))):f.createElement(E.default,{ref:this._setRefScrollGrid,onFocusPrev:this.props.onFocusPrev,onScroll:this.props.onScroll,onStickerClick:this.props.onStickerClick,onStickerEnter:this.props.onStickerEnter,stickers:g.default.toArray()}):f.createElement("div",{className:j.default.container},(0,l.default)(g.RECENT_STICKERS_LIMIT,function(e){return f.createElement(v.default,{key:e,sticker:m.default.getPlaceholder()})}))}}]),t}(f.PureComponent);t.default=y},iaibjaeb:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Component=t.Mode=void 0;var r=i(a("eaidjcib")),o=i(a("ffceefejc")),s=i(a("cjedcdbdii")),d=i(a("djecdhecha")),c=i(a("dgcdacjddi")),l=i(a("dbjagcfebh")),u=n(a("ddhijeejag")),f=i(a("bgjaficfde")),h=i(a("dgibicjjj")),p=i(a("ebjaejiaba")),g=i(a("dbdfbgehgj")),m=i(a("bifjfdedi")),b=i(a("bbchdeehff")),v=i(a("baagejbchg")),j=i(a("biddiiafgd")),E=n(a("bjigbaghc")),y=a("hdccjfbbg"),_=i(a("dcjhajfghf")),S=i(a("dcjaicbbhg")),C=i(a("dhhfaeacef")),A=a("cgejchjdhj"),M=i(a("bhhdeihhhf")),T=a("ddjgcfjicj"),P=a("cfffidafid"),N=n(a("cajijabhgb")),I=i(a("ddajbaceej")),k=i(a("bjbdcigbdi")),O=i(a("djaadchjch")),R=a("eihefeaje"),w=n(a("dhfbfehaef")),D=i(a("dggbjaijga")),L=i(a("bebjeaagc")),U=i(a("fffdgbfji")),G=i(a("eceadcicaf")),x=i(a("bdiiahhjbe")),F=i(a("cfhgffgbcb")),B=i(a("bjghdijfjd")),V=a("bfbggcdbfb"),H=i(a("degifadiej")),W=(i(a("dagdiahdfi")),i(a("dhhcghbjeb"))),Y=i(a("bhheahajjg")),$=i(a("cfchhaeaaf")),K=a("caijdggfg"),q=i(a("ihfccfgdf")),z=a("bheafeifce"),Q=i(a("fbjjefaic")),J=i(a("cbeecgcage")),Z=i(a("caffijjhc")),X=i(a("dbjbhajgfd")),ee=i(a("cjcaccbiih")),te=i(a("jccfhaecf")),ae={LAST:"LAST",INFO:"INFO"};t.Mode=ae;var ne=function(e){function t(e){var a;return(0,r.default)(this,t),(a=(0,o.default)(this,(0,s.default)(t).call(this,e))).hoverCounter=0,a.setCellRef=function(e){a.cellRef=e},a.setHotKeysRef=function(e){a.hotKeysRef=e},a.state={active:!1,dragging:!1,searchText:"",contextMenu:null,chatId:null,unreadCount:0},a._setUnreadCount=function(){var e=a.props.chat.optimisticUnreadCount;e!==a.state.unreadCount&&a.setState({unreadCount:e})},a.preFetchGroupMetadata=function(){var e=a.props.chat;e.groupMetadata&&e.groupMetadata.stale&&O.default.find(e.id).catch(T.WapDrop,N.ProtoVersionUndefined,function(){})},a.onSearch=function(){a.props.searchQuery?a.setState({searchText:a.props.searchQuery.trimmed}):x.default.error("Chat: prop searchQuery is undefined")()},a.onActiveChange=function(e,t){if("focus"===e){var n=a.hotKeysRef;n&&(I.default.focus(n),t&&(0,A.scrollIntoViewIfNeeded)(n))}a.setState({active:!!e})},a.contextEnabled=function(){return!a.props.noContext},a.editLabel=function(){var e=a.props,t=e.selectableState,n=e.multiSelection;!a.props.searchQuery||a.props.searchQuery.isEmptyQuery?t&&n&&(t.setSelectable(!0),n.setVal((0,z.unproxy)(a.props.chat))):a.addOrRemoveLabelOnSelected()},a.addOrRemoveLabelOnSelected=function(){var e=[(0,z.unproxy)(a.props.chat)];b.default.openModal(u.createElement(F.default,{modelsToUpdate:e}))},a.onMenu=function(e){if(a.state.contextMenu)a.setState({contextMenu:null});else{var t=a.props.chat,n=[];t.canArchive()&&n.push(u.createElement(f.default,{key:"archive",onArchive:a.onArchive,chat:(0,z.unproxy)(t)})),t.mute.canMute()&&n.push(u.createElement(W.default,{key:"mute",onMute:a.onMute,mute:t.mute})),n.push(u.createElement(S.default,{key:"delete",onDeleteOrExit:a.onDeleteOrExit,chat:(0,z.unproxy)(t)})),E.default.platform===E.PLATFORMS.IPHONE&&t.isBroadcast||!t.canPin()||n.push(u.createElement($.default,{key:"pin",onPinOrUnpin:a.onPinOrUnpin,chat:t})),k.default.supportsFeature(k.default.F.LABELS_EDIT)&&n.push(u.createElement(M.default,{a8n:"mi-edit-label",action:a.editLabel,key:"EditLabel"},U.default.t(412))),t.canUnread&&n.push(u.createElement(B.default,{key:"mark_unread",onMarkUnread:a.onMarkUnread,chat:(0,z.unproxy)(t)})),e.event&&e.event.persist(),a.setState({contextMenu:{menu:n,event:e.event,anchor:e.anchor}})}},a.removeContext=function(){a.setState({contextMenu:null})},a.onMute=function(e){b.default.muteChat((0,z.unproxy)(a.props.chat),e)},a.onArchive=function(e){b.default.archiveChat((0,z.unproxy)(a.props.chat),e)},a.onDeleteOrExit=function(){b.default.deleteOrExitChat((0,z.unproxy)(a.props.chat),(0,d.default)(a))},a.onPinOrUnpin=function(e){!e||g.default.filter(function(e){return e.pin}).length<3?b.default.pinChat((0,z.unproxy)(a.props.chat),e):b.default.openModal(u.createElement(j.default,{onOK:function(){return b.default.closeModal()},okText:U.default.t(1331)},U.default.t(35)))},a.onMarkUnread=function(e){b.default.markChatUnread((0,z.unproxy)(a.props.chat),e)},a.onClick=function(e){var t=a.props,n=t.onClick,i=t.chat;n&&n(e,(0,z.unproxy)(i))},a.onMouseDown=function(e){0===e.button&&a.onClick(e)},a.onEnter=function(e){e.preventDefault(),e.stopPropagation(),(0,w.shouldIndicateFocus)(),a.onClick(e)},a.onDragEnter=function(e){a.props.chat.canSend&&(new _.default(e.dataTransfer).hasType(v.default.DRAG_TYPE_FILE)&&(0===a.hoverCounter&&a.setState({dragging:!0}),a.hoverCounter+=1))},a.onDragLeave=function(e){a.props.chat.canSend&&(new _.default(e.dataTransfer).hasType(v.default.DRAG_TYPE_FILE)&&(a.hoverCounter-=1,0===a.hoverCounter&&a.setState({dragging:!1})))},a.onDrop=function(e){var t=a.props.chat;if(t.canSend){a.setState({dragging:!1});var n=new _.default(e.dataTransfer);(n.hasType(v.default.DRAG_TYPE_FILE)||n.hasType("text/uri-list")||n.hasType("text/html"))&&(0,P.getFiles)(e).then(function(e){b.default.openChatFromUnread(t).then(function(a){a&&b.default.attachMediaDrawer({chat:t,attachments:e.map(function(e){return{file:e}}),fileOrigin:V.MEDIA_PICKER_ORIGIN_TYPE.CHAT_PHOTO_LIBRARY})})}).catch(N.MediaDragDropError,function(e){b.default.openChatFromUnread(t).then(function(a){a&&e.src&&b.default.pasteChatTextInput(t,e.src)})})}},a.indicateFocus=function(e){var t;e.stopPropagation(),e.preventDefault(),null===(t=a.cellRef)||void 0===t||t.indicateFocus(a.onBlur)},a.onBlur=function(e){a.cellRef&&a.cellRef.reset()},a.openContextMenu=function(){a.cellRef&&a.cellRef.openContextMenu()},a._throttledSetUnreadCount=a.props.throttle(a._setUnreadCount,0,{leading:!1,tailing:!0}),a}return(0,l.default)(t,e),(0,c.default)(t,null,[{key:"getDerivedStateFromProps",value:function(e,t){var a={},n=e.active&&e.active.value instanceof p.default&&te.default.equals(e.active.value.id,e.chat.id);t.active!==n&&(a.active=n);var i=e.searchQuery?e.searchQuery.trimmed:"";t.searchText!==i&&(a.searchText=i);var r=e.chat.id;return t.chatId!==r&&(a.chatId=r,a.unreadCount=e.chat.optimisticUnreadCount),a}}]),(0,c.default)(t,[{key:"componentDidMount",value:function(){var e=this.props.chat;this.initListeners(this.props),k.default.supportsFeature(k.default.F.GROUPS_V_3)&&e.isGroup&&e.groupMetadata&&e.groupMetadata.stale&&L.default.enqueue(this.preFetchGroupMetadata)}},{key:"componentDidUpdate",value:function(e){this.props.chat.optimisticUnreadCount!==this.state.unreadCount&&this._throttledSetUnreadCount(),this.initListeners(this.props,e)}},{key:"initListeners",value:function(e,t){var a=e.listeners,n=e.active,i=e.chat,r=e.searchQuery,o=e.frequent;t&&t.searchQuery&&t.searchQuery!==r&&a.remove(t.searchQuery,K.SEARCH_EVENT,this.onSearch),!r||t&&r===t.searchQuery||a.add(r,K.SEARCH_EVENT,this.onSearch);var s=t&&t.chat.id;if(!i.id.equals(s)&&(t&&t.active&&a.remove(t.active,t.chat.id.toString(),this.onActiveChange),n)){var d=(o?y.FREQUENT_PREFIX:"")+i.id.toString();a.add(n,d,this.onActiveChange)}}},{key:"render",value:function(){var e,t,a=this.props,n=a.chat,i=a.mode,r=a.secondary,o=a.theme,s=a.filterPreset,d=this.state,c=d.searchText,l=d.active,f=d.dragging,p=d.contextMenu,g=d.unreadCount,b={};switch(i){case ae.LAST:e=u.createElement(J.default,{chat:n}),r||(r=u.createElement(m.default,{chat:n}),t=u.createElement(D.default,{chat:n,mute:n.mute,unreadCount:g})),b.enter=this.onEnter,b[U.default.LR("right","left")]=this.openContextMenu;break;case ae.INFO:r||(r=n.isGroup||n.isBroadcast?u.createElement(R.ParticipantsList,{groupMetadata:n.groupMetadata}):u.createElement(ee.default,{presence:n.presence,chatstate:n.presence.chatstate,location:"list"})),b.enter=this.onEnter}var v,j=u.createElement(C.default,{id:n.id,waitIdle:!0}),E=this.props.mouseDownAsClick;p&&(v=u.createElement(Z.default,{displayName:"ChatContextMenu",escapable:!0,popable:!0,requestDismiss:this.removeContext},u.createElement(X.default,{contextMenu:p})));var y=n.contact.labels;(null==s?void 0:s.label)&&(0,H.default)(y,s.label);var _=u.createElement(Y.default,{chat:n,labels:y,highlightText:c,showLabel:!0,titlify:!0,ellipsify:!0});return u.createElement(w.default,{onRef:this.setHotKeysRef,handlers:b,onFocus:this.indicateFocus,onBlur:this.onBlur,onDragEnter:this.onDragEnter,onDragLeave:this.onDragLeave,onDrop:this.onDrop},u.createElement(h.default,{id:n.id,ref:this.setCellRef,theme:o,contextEnabled:this.contextEnabled,pendingAction:n.pendingAction,contextMenu:!!p,unread:0!==g,active:!!l,isMuted:!1,dragging:!!f,image:j,primary:_,primaryDetail:e,secondary:r,secondaryDetail:t,onClick:E?void 0:this.onClick,onMouseDown:E?this.onMouseDown:void 0,onContext:this.onMenu}),v)}}]),t}(u.PureComponent);ne.CONCERNS={chat:["id","isReadOnly","isGroup","pendingAction","canSend","isUser","contact","presence","groupMetadata","mute","isBroadcast","canUnread","optimisticUnreadCount"]},ne.defaultProps={mode:ae.LAST};var ie=ne;t.Component=ie;var re=(0,Q.default)((0,G.default)((0,q.default)(ne,ne.CONCERNS)));t.default=re},iajeehcac:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("bjehdcaaj")),l=i(a("dbjagcfebh")),u=n(a("dcaifjegcg")),f=i(a("dhigahgdjb")),h=i(a("jccfhaecf")),p=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).id=(0,u.prop)(),a.isAdmin=(0,u.prop)(),a.isSuperAdmin=(0,u.prop)(),a.contact=(0,u.session)(),a.hasSenderKey=(0,u.session)(!1),a}return(0,l.default)(t,e),(0,o.default)(t,[{key:"initialize",value:function(){(0,c.default)((0,d.default)(t.prototype),"initialize",this).call(this),this.addChild("contact",f.default.gadd(this.id))}}]),t}(u.default);p.Proxy="participant",p.idClass=h.default;var g=(0,u.defineModel)(p);t.default=g},ibdgibccg:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return i.default.globalUnixTime()-e<r.default.mmsMediaKeyTTL+Math.floor(86400*Math.random())};var i=n(a("cfadcbbiie")),r=n(a("bfgbdiffgd"))},ibeajfihb:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=n(a("ddhijeejag")),u=i(a("dhigahgdjb")),f=i(a("fifhbjiec")),h=i(a("efgfgjab")),p=i(a("ihfccfgdf")),g=a("bheafeifce"),m=i(a("chccggajbc")),b=i(a("gbbacfeci")),v=i(a("jccfhaecf")),j=l.createElement("span",{className:m.default.statusLoading},l10n.t(356)),E=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,(0,d.default)(t).apply(this,arguments))}return(0,c.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=this.props.status,t=l.createElement(f.default,{direction:"auto",ellipsify:!0,titlify:!0,text:e.status}),a=(0,g.unproxy)(e).stale?j:t;return l.createElement(h.default,{id:e.id,onComplex:function(){return b.default.find(e.id),void 0!==e.status?t:j},waitIdle:this.props.waitIdle},a)}}]),t}(l.PureComponent);E.WEAK_CONCERNS={status:["id","stale","status"]};var y=(0,p.default)(E,void 0,E.WEAK_CONCERNS),_=function(e){function t(e){var a;return(0,r.default)(this,t),(a=(0,s.default)(this,(0,d.default)(t).call(this,e))).state={status:b.default.get(e.id)},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){if(!this.state.status){var e=u.default.gadd(this.props.id);this.setState({status:e.getStatus()})}}},{key:"componentDidUpdate",value:function(e){if(!v.default.equals(this.props.id,e.id)){var t=u.default.gadd(this.props.id);this.setState({status:t.getStatus()})}}},{key:"render",value:function(){var e=this.state.status;return e?l.createElement(y,{status:e,waitIdle:this.props.waitIdle}):j}}]),t}(l.PureComponent);t.default=_},ibebafhjb:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=n(a("ddhijeejag")),u=a("cgecdbiihg"),f=i(a("dagibffcjf")),h=i(a("bcfiaiddii")),p=i(a("ihfccfgdf")),g=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,(0,d.default)(t).apply(this,arguments))}return(0,c.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=this.props,t=e.msg,a=e.mediaData,n=a.preview?"url(".concat(a.preview.url(),")"):void 0;return l.createElement(f.default,{aspectRatio:a.aspectRatio,previewUrl:n,animationStartStyle:this.props.animationStartStyle},l.createElement(h.default,{msg:t,mediaData:a,startTime:this.props.startTime,onClose:this.props.onClose,onError:this.props.onError,onOpenMediaViewer:this.props.onOpenMediaViewer,onMissingMedia:this.props.onMissingMedia,onUnsupportedMedia:this.props.onUnsupportedMedia,autoPlay:this.props.autoPlay,type:u.PLAYER_TYPE.FLOATER}))}}]),t}(l.Component);g.CONCERNS={mediaData:["preview","aspectRatio"]};var m=(0,p.default)(g,g.CONCERNS);t.default=m},ibjjdihbi:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=a("cjedbbhjhh");a("ccijeahddj").loadCollections(t),a("chihfebbce").initialize(),a("ccfjgbibc").startMemoryWamStat();var n=a("gcbhjhjhg").default,i=a("dhefcajhhb").default,r=a("bbaibbdgdj"),o=a("chiaeadhif");n.supported&&i.on("change:tag",function(e){var t=navigator.serviceWorker;t&&t.controller&&!e.tag&&o.request(t.controller,r.REMOVE_PP,e.id).catch(function(){})});var s=a("bgidiahdfc").default,d=a("bbicdddbdj").EMOJI_TYPE;s("iphone"===e?d.APPLE:d.WHATSAPP);var c=a("chgfegiddc");return{MainComponent:c.default,hasPending:c.hasPending,notificationBackend:a("dgjifchfde"),execApiCmd:a("djeffaehji").default}}},icaahcghc:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=n(a("ddhijeejag")),u=i(a("dcbfjbeaad")),f=n(a("dfhjacfbjg")),h=i(a("bjigbaghc")),p=i(a("bcbahjefec")),g=i(a("ciebcgbegd")),m=i(a("bafdafhgja")),b=i(a("bajidgjehj")),v=i(a("dhefcajhhb")),j=i(a("cacaidhjb")),E=i(a("gbbacfeci")),y=i(a("ijecjcidg")),_=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).showWallpaperDrawer=function(){a.push(l.createElement(y.default,{onClose:a._pop}))},a.showBlockedDrawer=function(){a.push(l.createElement(u.default,{onClose:a._pop}))},a.showProfileDrawer=function(){var e=E.default.assertGet(h.default.me),t=v.default.assertGet(h.default.me);a.push(l.createElement(b.default,{status:e,profilePicThumb:t,conn:h.default,onClose:a._pop}))},a.showNotifications=function(){a.push(l.createElement(m.default,{onClose:a._pop}))},a.showHelp=function(){f.upload("help-page-opened"),a.push(l.createElement(g.default,{onClose:a._pop}))},a._pop=function(){a.pop()},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){this.push(l.createElement(j.default,{profileId:h.default.me,onWallpaper:this.showWallpaperDrawer,onBlocked:this.showBlockedDrawer,onProfile:this.showProfileDrawer,onNotifications:this.showNotifications,onHelp:this.showHelp,onClose:this._pop}))}}]),t}(p.default);t.default=_},icadbbfej:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=n(a("ddhijeejag")),u=i(a("dbdfbgehgj")),f=i(a("bbchdeehff")),h=i(a("dhigahgdjb")),p=i(a("cfafieaaec")),g=i(a("bcbahjefec")),m=i(a("ccjabfdeje")),b=i(a("bheehfahbe")),v=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).onClick=function(e,t){u.default.find(t.id).then(f.default.openChatFromUnread.bind(f.default)),a.end()},a.onNewGroup=function(e){a.push(l.createElement(b.default,{onBack:a.pop,onContinue:a.onSetGroupInfo}))},a.onSetGroupInfo=function(e){a.push(l.createElement(m.default,{participants:e,onBack:function(){a.popAndUpdate({participants:e})},onContinue:a.end}))},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){h.default.ensureSorted(),this.push(l.createElement(p.default,{title:l10n.t(864),onBack:this.end,onClick:this.onClick,onNewGroup:this.onNewGroup}))}}]),t}(g.default);t.default=v},icbjhhidg:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.MSG_HEIGHT=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=i(a("ceffhbhahb")),u=n(a("ddhijeejag")),f=i(a("cehjjfagii")),h=i(a("jhcabjcaf")),p=i(a("bfjbdahdag")),g=i(a("cfadcbbiie")),m=i(a("bbchdeehff")),b=i(a("dhhfaeacef")),v=i(a("bjbdcigbdi")),j=i(a("eceadcicaf")),E=i(a("ciifehaief")),y=i(a("diccedcfdi")),_=i(a("cfhcfebgda")),S=i(a("behbcejhad")),C=i(a("cieaeggjg")),A=a("cicjibbhdb"),M=i(a("bfgbdiffgd")),T=i(a("ihfccfgdf")),P=i(a("bfdcadbbif"));t.MSG_HEIGHT=220;var N=function(e){function t(e){var a;return(0,r.default)(this,t),(a=(0,s.default)(this,(0,d.default)(t).call(this,e))).openLiveLocationDrawer=function(){var e=a.props.msg,t=e.chat,n=e.sender;m.default.liveLocationDrawer(t,n)},a.openExpiredLocationDrawer=function(){m.default.expiredLocationDrawer(a.props.msg)},a.stopSharing=function(){var e=a.props.msg.chat;m.default.openModal(u.createElement(_.default,{chat:e}))},a.onMapLoad=function(){a.setState({mapLoaded:!0})},a.state={mapLoaded:!1},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"getExpiration",value:function(){var e=this.props.msg,t=e.t,a=e.shareDuration;return null==a?t:t+a}},{key:"isExpired",value:function(){return g.default.globalUnixTime()>=this.getExpiration()}},{key:"render",value:function(){var e=this.props,t=e.msg,a=e.trusted,n=e.displayAuthor,i=e.quotedMsg;if(v.default.supportsFeature(v.default.F.LIVE_LOCATIONS)){var r=n&&!t.isSentByMe&&t.isGroupMsg?u.createElement("div",{className:E.default.author},u.createElement(f.default,{msg:t,contact:t.senderObj})):null,o=i?u.createElement("div",{className:E.default.quote},i):null,s=this.isExpired(),d=v.default.supportsFeature(v.default.F.LIVE_LOCATIONS_FINAL)&&M.default.finalLiveLocation,c=s&&void 0!==t.finalLat&&void 0!==t.finalLng,m=t.lat,j=t.lng,_=s?void 0:this.openLiveLocationDrawer;d&&(_||(_=this.openExpiredLocationDrawer),c&&(m=t.finalLat,j=t.finalLng));var T,N,I,k,O={height:150},R=u.createElement("div",{className:E.default.thumb,onClick:_,style:O},u.createElement("div",{className:E.default.map},u.createElement(S.default,{lat:m,lng:j,width:270,height:150,className:E.default.thumbBody,linkify:!1,showMarker:!1,onLoad:this.onMapLoad})),u.createElement("div",{className:(0,l.default)(E.default.avatar,{[E.default.hidden]:!this.state.mapLoaded})},u.createElement(b.default,{id:t.sender,size:40,border:!0})),u.createElement("div",{className:E.default.overlay})),w=this.getExpiration(),D=s?l10n.t(652):l10n.t(658,{time:g.default.timestampStr(w),_plural:g.default.timestampHour(w)}),L=u.createElement("div",{className:E.default.status,onClick:_},u.createElement("span",{className:E.default.statusIcon},u.createElement(P.default,{name:(0,A.liveLocationIcon)(!s),display:"inline"})),u.createElement("span",{className:E.default.statusText},D)),U=t.comment?u.createElement("div",{className:E.default.caption},u.createElement(p.default,{msg:t,trusted:a})):null,G=u.createElement("div",{className:E.default.meta},u.createElement(C.default,{msg:t}));if(!s)t.isSentByMe?(N=this.stopSharing,I=E.default.stopLocation,k=l10n.t(675)):(N=this.openLiveLocationDrawer,I=E.default.viewLocation,k=l10n.t(682)),T=u.createElement("div",{className:E.default.actionButton,onClick:N},u.createElement("span",{className:I},k));return u.createElement("div",{className:(0,l.default)({[E.default.expired]:s,[E.default.hasCaption]:!!t.comment})},u.createElement(h.default,{className:(0,l.default)(E.default.container,{[E.default.clickable]:!!_}),contact:t.senderObj,msg:t},r,o,R,L,U,G),T)}return u.createElement(y.default,{msg:t,displayAuthor:n,quotedMsg:i})}}]),t}(u.Component);N.CONCERNS={msg:["chat","comment","dir","finalLat","finalLng","isGroupMsg","isPSA","isSentByMe","lat","lng","rtl","sender","senderObj","shareDuration","t"]};var I=(0,j.default)((0,T.default)(N,N.CONCERNS));t.default=I},icghcjegh:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.renderLabelSvg=j,t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=i(a("ceffhbhahb")),u=n(a("ddhijeejag")),f=i(a("fifhbjiec")),h=i(a("bjbdcigbdi")),p=i(a("bijffg")),g=i(a("dijbgcccgc")),m=i(a("eceadcicaf")),b=i(a("bfdcadbbif")),v=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).updateLabels=function(){a.forceUpdate()},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){this.props.listeners.add(p.default,"label_updated_".concat(this.props.labels[0]),this.updateLabels)}},{key:"render",value:function(){var e=this.props,t=e.labels,a=e.showName,n=e.renderAsCircle;if(!h.default.supportsFeature(h.default.F.LABELS_DISPLAY))return null;var i=t[0],r=p.default.get(i);if(!r||!r.name)return null;if(1===t.length){var o=a?u.createElement("span",{className:g.default.name},u.createElement(f.default,{text:r.name})):null,s=(0,l.default)({[g.default.container]:!a&&!n,[g.default.containerCircleIconFull]:!!n,[g.default.containerFull]:a&&!n,[g.default.labelFilter]:"label-filter"===this.props.theme,[g.default.drawerTitle]:"drawer-title"===this.props.theme}),d=n?{backgroundColor:r.hexColor}:{},c=n?u.createElement(b.default,{name:"label",className:g.default.icon}):j(r.hexColor);return u.createElement("div",{className:s},u.createElement("div",{className:(0,l.default)(g.default.iconContainer,{[g.default.circleIcon]:n}),style:d},c),o)}return u.createElement("div",{className:g.default.container},u.createElement("svg",{width:"18px",height:"15px",viewBox:"0 0 18 15"},u.createElement("path",{fill:r.hexColor,d:"M11.208,3.925H2.236C1.556,3.925,1,4.565,1,5.357v7.213C1,13.362,1.556,14,2.236,14h8.972 c0.414,0,0.785-0.237,1.007-0.604l2.701-4.433L12.215,4.53C11.993,4.162,11.622,3.925,11.208,3.925z"}),u.createElement("path",{opacity:"0.4",fill:"#263238",d:"M15.541,7.832L13.164,3.93 c-0.423-0.698-1.15-1.142-1.956-1.142H2.595V2.432C2.595,1.64,3.151,1,3.831,1h9.1c0.414,0,0.782,0.237,1.005,0.605l2.696,4.433 L15.541,7.832z"})))}}]),t}(u.PureComponent);function j(e){return u.createElement("svg",{key:2,width:"18px",height:"12px",viewBox:"0 0 18 12",className:g.default.icon},u.createElement("path",{fill:e||"#ffffff",d:"M11.208,0.925H2.236C1.556,0.925,1,1.565,1,2.357V9.57C1,10.362,1.556,11,2.236,11h8.972 c0.414,0,0.785-0.237,1.007-0.604l2.701-4.433L12.215,1.53C11.993,1.162,11.622,0.925,11.208,0.925z"}))}var E=(0,m.default)(v);t.default=E},ichcjagij:function(e,t){e.exports={labelRow:"aQhyH",labelContainer:"_26f5k"}},ichdigdd:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.mediaKey,a=e.plaintext,n=e.type;return new Promise(function(e,b){var v={mediaKey:t.slice(0,10),type:n};if(f.default.log("encryptMedia: start",v)(),!n)throw new l.MediaEncryptionError('encryptMedia: missing "type"');if(!t)throw new l.MediaEncryptionError('encryptMedia: missing "mediaKey"');var j=new p.default.WebcCryptoMedia({webcCryptoType:p.default.WEBC_CRYPTO_TYPE_CODE.ENCRYPT,webcCryptoLibrary:p.default.WEBC_CRYPTO_LIBRARY_CODE.WEBCRYPTO});(0,c.default)(n,t).then(function(e){var t=e.iv,c=e.encKey,l=e.macKey;return(0,i.aesCbcEncrypt)(c,a,t).then(function(e){var i=e.slice(t.byteLength),c=new u.default(l);return c.sign(e,m).then(function(t){var c=Promise.resolve();if(n===h.default.VIDEO||n===h.default.AUDIO){var u=(0,d.default)(e,t);c=(0,s.default)(u,l)}var f=Promise.resolve();if(n===h.default.STICKER){var p=(0,g.default)(a),m=p.firstFrameLength;if(null!=m){var b=(0,d.default)(e,t);f=(0,o.default)(m,b,l)}}var v=(0,d.default)(i,t);return Promise.props({ciphertextHmac:v,hash:(0,r.default)(v),sidecar:c,firstFrameSidecar:f})})})}).then(function(t){j.webcCryptoFileSize=t.ciphertextHmac.byteLength,j.markWebcCryptoElapsedT(),j.commit(),f.default.log("encryptMedia: success",v)(),e(t)}).catch(function(e){if(f.default.error("encryptMedia: error",v,e)(),e instanceof l.MediaEncryptionError)throw e;throw new l.MediaEncryptionError("encryption error: ".concat(String(e),"; stack: ").concat(e.stack))}).catch(b)})};var i=a("eaiigfgagg"),r=n(a("baeghbhigj")),o=n(a("gcdfcghe")),s=n(a("bdfbijjhda")),d=n(a("cdfccifhg")),c=n(a("feacbgeaf")),l=a("cajijabhgb"),u=n(a("bbejegbieb")),f=n(a("bdiiahhjbe")),h=n(a("gbjefdbgb")),p=n(a("bfbggcdbfb")),g=n(a("dbjchhfjhj")),m=10},ichhibhgh:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("eaidjcib")),r=n(a("dgcdacjddi")),o=n(a("ffceefejc")),s=n(a("cjedcdbdii")),d=n(a("dbjagcfebh")),c=new(function(e){function t(){var e;return(0,i.default)(this,t),(e=(0,o.default)(this,(0,s.default)(t).call(this))).openPiP=function(t,a,n){e.manager&&e.manager.openPiP(t,a,n)},e.closePiP=function(){e.manager&&e.manager.closePiP()},e.pausePiP=function(){e.manager&&e.manager.pausePiP()},e.openYoutubePiP=function(t,a,n,i){e.manager&&e.manager.openYoutubePiP(t,a,n,i)},e.closeYoutubePiP=function(){e.manager&&e.manager.closeYoutubePiP()},e.openOgVideoPiP=function(t,a,n,i,r){e.manager&&e.manager.openOgVideoPiP(t,a,n,i,r)},e.closeOgVideoPiP=function(){e.manager&&e.manager.closeOgVideoPiP()},e.isOpened=function(t){return!!e.manager&&e.manager.isOpened(t)},e}return(0,d.default)(t,e),(0,r.default)(t,[{key:"register",value:function(e){this.manager=e}},{key:"unregister",value:function(){this.manager=null}},{key:"didOpen",value:function(e){this.trigger("".concat(e.id.toString(),"_pip_did_open"))}},{key:"didClose",value:function(e){this.trigger("".concat(e.id.toString(),"_pip_did_close"))}},{key:"didError",value:function(e){this.trigger("".concat(e.id.toString(),"_pip_did_error"))}}]),t}(n(a("cccehdaiaf")).default));t.default=c},idbcfjbae:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("bhabhhjdch")),o=i(a("hbddjfeei")),s=i(a("eaidjcib")),d=i(a("dgcdacjddi")),c=i(a("ffceefejc")),l=i(a("cjedcdbdii")),u=i(a("bjehdcaaj")),f=i(a("dbjagcfebh")),h=a("biheibdage"),p=i(a("dbjacfjdhg")),g=n(a("dcaifjegcg")),m=i(a("dghhefgjhc")),b=a("cgffhfegce"),v=i(a("bffjfbgbg")),j=a("daichdjff"),E=a("bfbggcdbfb"),y=i(a("cahfddcdga")),_=i(a("biedfadfag"));function S(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}var C=function(e){function t(){var e,a;(0,s.default)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=(0,c.default)(this,(e=(0,l.default)(t)).call.apply(e,[this].concat(i)))).old=(0,g.session)(!1),a.id=(0,g.prop)(),a.catalogWid=(0,g.prop)(),a.additionalImageCdnUrl=(0,g.prop)(),a.imageCdnUrl=(0,g.prop)(),a.url=(0,g.prop)(),a.name=(0,g.prop)(),a.description=(0,g.prop)(),a.reviewStatus=(0,g.prop)(),a.currency=(0,g.prop)(),a.priceAmount1000=(0,g.prop)(),a.retailerId=(0,g.prop)(),a.productImageCollection=(0,g.session)(),a.imageCount=(0,g.prop)(),a.index=(0,g.prop)(),a.productMsgMediaData=(0,g.session)(),a.fetchedFromServer=(0,g.session)(),a.t=(0,g.prop)(),a}return(0,f.default)(t,e),(0,d.default)(t,[{key:"initialize",value:function(){(0,u.default)((0,l.default)(t.prototype),"initialize",this).call(this),this.productImageCollection=new _.default,this.listenTo(this,"change:imageCdnUrl",this.triggerImageUpdate),this.triggerImageUpdate()}},{key:"triggerImageUpdate",value:function(){var e=this;if(this.markProductImagesOld(),this.fetchedFromServer||!this.productMsgMediaData)this.imageCdnUrl.productImageModel=this.productImageCollection.gadd({id:"_0",mediaUrl:this.imageCdnUrl.rawUrl,fetchedFromServer:this.fetchedFromServer,old:!1},{merge:!0}),this.additionalImageCdnUrl&&this.additionalImageCdnUrl.forEach(function(t,a){t.productImageModel=e.productImageCollection.gadd({id:"_".concat(a+1),mediaUrl:t.rawUrl,fetchedFromServer:e.fetchedFromServer,old:!1},{merge:!0})});else{this.imageCdnUrl.productImageModel=this.productImageCollection.gadd({id:"_0",type:"product",mediaData:new v.default({mediaStage:j.STAGE.PREPARING}),fetchedFromServer:this.fetchedFromServer,old:!1},{merge:!0});for(var t=1;t<this.imageCount;t++)this.productImageCollection.gadd({id:"_".concat(t),type:"product",mediaData:new v.default({mediaStage:j.STAGE.PREPARING}),fetchedFromServer:this.fetchedFromServer,old:!1},{merge:!0})}}},{key:"markOld",value:function(){this.old=!0}},{key:"markProductImagesOld",value:function(){this.productImageCollection.forEach(function(e){return e.markOld()})}},{key:"_getHeadImageFile",value:function(){var e,t=this.productImageCollection,a=this.name,n=t.head();if(n&&(n.mediaData&&n.mediaData.mediaBlob&&n.mediaData.mediaBlob._blob&&(e=n.mediaData.mediaBlob._blob),e))return(0,b.createFile)([e],"".concat(a,".jpg"),{type:"image/jpeg"})}},{key:"_getMedia",value:function(e,t){var a=(0,y.default)(new p.default({chatParticipantCount:t}));return a.processAttachments([{file:e}],E.MEDIA_PICKER_ORIGIN_TYPE.CHAT_PHOTO_LIBRARY).then(function(){if(a.canSend()){var e=a.getPreviewableMedias();if(1===e.length){var t=(0,o.default)(e,1)[0];return t.caption||(t.caption=void 0),t}}})}},{key:"sendToChat",value:function(e,t){var a=this,n=this._getHeadImageFile();if(!n)return Promise.resolve();var i=e.groupMetadata&&e.groupMetadata.participants.length||1;return this._getMedia(n,i).then(function(n){if(n){var i={quotedMsg:t,caption:n.caption,addEvenWhilePreparing:n.previewable&&n.state===h.ATTACH_MEDIA_STATE.PROCESSING,useBasePropsType:!0},o={businessOwnerJid:a.catalogWid.toString({legacy:!0}),productId:a.id.toString(),url:a.url,productImageCount:a.productImageCollection.length,title:a.name,description:a.description,currencyCode:a.currency,priceAmount1000:a.priceAmount1000,type:m.default.MSG_TYPE.PRODUCT};0===a.priceAmount1000&&(o.priceAmount1000=null,o.currencyCode=null),n.sendToChat(e,function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?S(Object(a),!0).forEach(function(t){(0,r.default)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):S(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},i,{productMsgOptions:o}))}})}}]),t}(g.default);C.Proxy="product";var A=(0,g.defineModel)(C);t.default=A},idecbbghf:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){window.getSelection().removeAllRanges();var t=document.getElementById(e),a=document.createRange();t&&a.selectNode(t),window.getSelection().addRange(a);try{var n=document.execCommand("copy");return window.getSelection().removeAllRanges(),n}catch(e){return!1}}},idgdhfbea:function(e,t){e.exports={multiControls:"_2aUit",multiselectIcon:"_3f5U8",multiCount:"nGgVY",mediaGalleryTheme:"_2XHj8"}},idgifdccc:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("hbddjfeei")),o=i(a("eaidjcib")),s=i(a("dgcdacjddi")),d=i(a("ffceefejc")),c=i(a("cjedcdbdii")),l=i(a("bjehdcaaj")),u=i(a("dbjagcfebh")),f=n(a("ddhijeejag")),h=i(a("ceggedffg")),p=i(a("djegeegcbf")),g=i(a("ddcbeeeahg")),m=a("chhhffajfi"),b=p.default.getEmojiFromUnicode,v=p.default.emojiRegex,j=function(e){function t(){return(0,o.default)(this,t),(0,d.default)(this,(0,c.default)(t).apply(this,arguments))}return(0,u.default)(t,e),(0,s.default)(t,null,[{key:"jsx",value:function(e,t,a){var n=(0,r.default)(t,1)[0],i=a.size,o=a.selectable,s=void 0!==o&&o;return f.createElement(g.default,{emoji:n,size:i,selectable:s})}},{key:"match",value:function(e,a,n){var i=null!=n&&0!==n?n:e.length,r=(0,m.firstNCodepoints)(e,i);return(0,l.default)((0,c.default)(t),"match",this).call(this,r)}}]),t}((0,h.default)(v(),0,function(e,t){return b(e[0])?e:null}));t.default=j,j.compatibility=!0},ieddhhghi:function(e,t){e.exports={vcard:"_2oNQN",controls:"_1t6xD"}},ieffcccfh:function(e,t){e.exports={thumbsContainer:"_14vUG",scrollContainer:"_20OzW",viewerThumbs:"_2bBH2",thumbPadding:"_3k5IR"}},ifbjhfegj:function(e,t){e.exports={container:"_3nET-",border:"_2spUf"}},ifeefbdg:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return o.hasOwnProperty(e)?o[e]:o[e]=r.default.queryLinkPreview(e).then(function(t){var a=t.title,n=t.description,r=t.canonicalUrl,o=t.matchedText,s=t.preview,d=t.thumbnail,c=t.doNotPlayInline;return o&&(a||n)?{url:e,data:{title:a||void 0,description:n||void 0,canonicalUrl:r||void 0,matchedText:o,richPreviewType:"video"===s?i.EXTENDED_TEXT_MESSAGE_PREVIEWTYPE.VIDEO:i.EXTENDED_TEXT_MESSAGE_PREVIEWTYPE.NONE,thumbnail:d||void 0,doNotPlayInline:c}}:null})};var i=a("bgiachiigg"),r=n(a("bihdhbjih")),o={}},ifgdgjdid:function(e,t){e.exports={multiControls:"_2xXfe",chatListPanel:"_1KMCw",drawerHeader:"Zva3R",multiselectIcon:"_2dv8F",multiCount:"OKAWo",mediaGalleryTheme:"_4TamA"}},ifijdebbd:function(e,t,a){"use strict";var n=a("cfjecfhbfg"),i=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.wallpaperColor;if(t===o.default.DEFAULT_CHAT_WALLPAPER)return r.createElement("div",{className:s.default.tile,"data-asset-chat-background":!0});var a={background:t};return r.createElement("div",{className:s.default.backgroundColor,style:a})};var r=i(a("ddhijeejag")),o=n(a("baagejbchg")),s=n(a("bhgjdccfde"))},igaagcbbj:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("bhabhhjdch")),o=i(a("eaidjcib")),s=i(a("dgcdacjddi")),d=i(a("ffceefejc")),c=i(a("cjedcdbdii")),l=i(a("dbjagcfebh")),u=i(a("eaaagccfda")),f=i(a("ceffhbhahb")),h=n(a("ddhijeejag")),p=i(a("bigcibhibh")),g=i(a("dbfiijcdie")),m=i(a("chbfbiahhb")),b=i(a("eceadcicaf")),v=i(a("cgajhcgiji")),j=a("beddiafhbh"),E=i(a("bcjcbbafcj")),y=i(a("didfdhbecg")),_=i(a("bjhhaacbib")),S=i(a("cggchheahd")),C=i(a("ecfgejfiia"));function A(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function M(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?A(Object(a),!0).forEach(function(t){(0,r.default)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):A(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var T=function(e){function t(e){var a;return(0,o.default)(this,t),(a=(0,d.default)(this,(0,c.default)(t).call(this,e))).setRefContainer=function(e){a.refContainer=e},a.setRefVideo=function(e){a.refVideo=e},a.resetMouseMoveRecently=(0,u.default)(function(){a.setState({mouseMoveRecently:!1})},j.FULLSCREEN_CONTROLS_DISPLAY_TIMEOUT),a.mouseDownCoor=null,a.handleEnded=function(){a.props.onVideoEnded&&a.props.onVideoEnded();var e=a.refVideo;e&&(e.play(),e.pause()),a.setState({isVideoPlaying:!1})},a.handleError=function(){a.props.onError&&a.props.onError()},a.handlePause=function(){var e=a.refVideo?a.refVideo.getCurrentTime():null,t=null;a.state.videoMetadata&&null!=e&&(t=M({},a.state.videoMetadata,{currentTime:e})),a.setState({isVideoPlaying:!1,videoMetadata:t}),a.blockTimeUpdateOnce=!0},a.handlePlaying=function(){var e=a.refVideo?a.refVideo.getCurrentTime():null,t=null;a.state.videoMetadata&&null!=e&&(t=M({},a.state.videoMetadata,{currentTime:e})),a.setState({isVideoPlaying:!0,videoMetadata:t}),a.blockTimeUpdateOnce=!0},a.handleLoadedMetadata=function(e){var t=null!=a.props.startTime?a.props.startTime:0;a.setState({videoMetadata:{duration:e.duration,currentTime:t,volume:e.volume,muted:e.muted,bufferedTime:0}})},a.handleVolumeChange=function(e){var t=null;a.state.videoMetadata&&(t=M({},a.state.videoMetadata,{volume:e.volume,muted:e.muted})),a.setState({videoMetadata:t})},a.handleTimeUpdate=function(e){if(a.blockTimeUpdateOnce)a.blockTimeUpdateOnce=!1;else{var t=null;a.state.videoMetadata&&(t=M({},a.state.videoMetadata,{currentTime:e})),a.setState({videoMetadata:t})}},a.handleSetCurrentTimeByControls=function(e){if(a.refVideo){var t=e;a.state.videoMetadata&&e>=a.state.videoMetadata.duration-1&&a.state.videoMetadata.duration>1&&(t=a.state.videoMetadata.duration-1),a.refVideo.setCurrentTime(t)}},a.handleProgress=function(e){var t=e[0][1],n=null;a.state.videoMetadata&&(n=M({},a.state.videoMetadata,{bufferedTime:t})),a.setState({videoMetadata:n})},a.state={videoMetadata:void 0,isVideoPlaying:!1,isMouseOver:!1,mouseMoveRecently:!1,isFullscreenMode:!1,exposeIframeInPiP:!1},a}return(0,l.default)(t,e),(0,s.default)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.listeners.add(g.default,"fullscreen_change",function(){g.default.isFullscreenMode&&g.default.fullscreenElement===e.refContainer?e.setState({isFullscreenMode:!0}):g.default.isFullscreenMode||e.setState({isFullscreenMode:!1})})}},{key:"componentWillUnmount",value:function(){this.resetMouseMoveRecently.cancel()}},{key:"renderVideoControls",value:function(){var e=this,t=null,a=this.state.videoMetadata;if(a){var n=(0,f.default)(S.default.strippedVideoControls,S.default.opacityTransition,{[S.default.dimmed]:!this.state.mouseMoveRecently});t=h.createElement(_.default,{refVideo:this.refVideo,videoMetadata:a,isFullscreenMode:this.state.isFullscreenMode,isVideoPlaying:this.state.isVideoPlaying,handleSetCurrentTimeByControls:this.handleSetCurrentTimeByControls,controlsClassName:this.state.isFullscreenMode?n:void 0}),this.state.isFullscreenMode||(t=h.createElement("div",{className:S.default.videoControlsWrapper,onMouseDown:function(t){e.mouseDownCoor={x:t.clientX,y:t.clientY}},onMouseUp:function(t){var a=t.clientX,n=t.clientY,i=e.mouseDownCoor?e.mouseDownCoor.x:void 0,r=e.mouseDownCoor?e.mouseDownCoor.y:void 0;null!=i&&null!=r&&Math.abs(a-i)+Math.abs(n-r)<4&&e.setState({exposeIframeInPiP:!0})}},t))}return t}},{key:"render",value:function(){var e,t=this,a=this.state.exposeIframeInPiP||this.state.isFullscreenMode?null:h.createElement("div",{className:S.default.blockYoutube}),n=h.createElement("div",{className:(0,f.default)(S.default.youtubeContainer,{[S.default.fullscreen]:this.state.isFullscreenMode})},a,h.createElement(C.default,{ref:this.setRefVideo,youtubeVideoId:this.props.youtubeVideoId,startTime:this.props.startTime,onEnded:this.handleEnded,onError:this.handleError,onLoadedMetadata:this.handleLoadedMetadata,onPause:this.handlePause,onPlaying:this.handlePlaying,onProgress:this.handleProgress,onTimeUpdate:this.handleTimeUpdate,onVolumeChange:this.handleVolumeChange,autoPlay:this.props.autoPlay})),i=this.renderVideoControls();E.default.isSafari||(e=h.createElement(m.default,{isFullscreenMode:this.state.isFullscreenMode,onClick:this.state.isFullscreenMode?function(e){e.stopPropagation(),g.default.exitFullscreen()}:function(e){e.stopPropagation(),g.default.requestFullscreen(t.refContainer)}}));var r=h.createElement(v.default,{theme:"full-rounded"}),o=this.state.isFullscreenMode?h.createElement(h.Fragment,null,n,i,h.createElement("div",{className:(0,f.default)(S.default.widgetsWrapper,S.default.opacityTransition,{[S.default.dimmed]:!this.state.mouseMoveRecently})},e,h.createElement(p.default,{isFullscreenMode:this.state.isFullscreenMode,onClick:function(e){e.stopPropagation(),t.props.onClose()}}))):h.createElement(h.Fragment,null,n,h.createElement(y.default,{transitionName:"fade-fast"},this.state.isMouseOver&&this.state.mouseMoveRecently&&!this.state.exposeIframeInPiP?h.createElement(h.Fragment,null,r,i,e,h.createElement(p.default,{isFullscreenMode:this.state.isFullscreenMode,onClick:function(e){e.stopPropagation(),t.props.onClose()}})):null));return h.createElement("div",{ref:this.setRefContainer,key:"elementsWrapped",className:(0,f.default)(S.default.container,{[S.default.fullscreen]:this.state.isFullscreenMode}),onMouseEnter:function(e){if(t.state.exposeIframeInPiP){if(E.default.isGecko&&t.state.isMouseOver)return;t.setState({exposeIframeInPiP:!1})}t.setState({isMouseOver:!0})},onMouseLeave:function(e){t.setState({isMouseOver:!1})},onMouseDown:function(e){t.state.isFullscreenMode&&e.stopPropagation()},onMouseMove:function(e){t.state.isMouseOver||t.setState({isMouseOver:!0}),t.state.mouseMoveRecently||t.setState({mouseMoveRecently:!0}),t.resetMouseMoveRecently()}},o)}}]),t}(h.Component),P=(0,b.default)(T);t.default=P},igahgcaag:function(e,t){e.exports={actionButton:"_2UQuA",actionText:"_1l0hO",disabled:"_2zef_",buttonContainer:"_1FtiB",firstButton:"_3i4z-",quickReply:"_1_HX7",callUrl:"_1PZFK",icon:"_2TVSB"}},igbbahaj:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.ORDERED_TAB_SECTION_IDS=t.default=void 0;var i=n(a("bfggfbdghf")),r={FAVORITES:"FAVORITES",[i.default.TRENDING]:i.default.TRENDING,[i.default.HAHA]:i.default.HAHA,[i.default.SAD]:i.default.SAD,[i.default.LOVE]:i.default.LOVE,[i.default.REACTIONS]:i.default.REACTIONS,[i.default.SPORTS]:i.default.SPORTS,[i.default.TV]:i.default.TV},o=r;t.default=o;var s={[r.FAVORITES]:r.FAVORITES,[r.TRENDING]:r.TRENDING,[r.HAHA]:r.HAHA,[r.SAD]:r.SAD,[r.LOVE]:r.LOVE,[r.REACTIONS]:r.REACTIONS,[r.SPORTS]:r.SPORTS,[r.TV]:r.TV},d=[s.FAVORITES,s.TRENDING,s.HAHA,s.SAD,s.LOVE,s.REACTIONS,s.SPORTS,s.TV];t.ORDERED_TAB_SECTION_IDS=d},igdjeffe:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.FALLBACK=void 0;var r=i(a("bhabhhjdch")),o=i(a("eaidjcib")),s=i(a("dgcdacjddi")),d=i(a("ffceefejc")),c=i(a("cjedcdbdii")),l=i(a("dbjagcfebh")),u=n(a("dcaifjegcg")),f=i(a("baagejbchg")),h=i(a("bjigbaghc")),p=i(a("bjbdcigbdi")),g=i(a("bhggeigghg")),m=i(a("edbaidcaf")),b=i(a("jccfhaecf")),v=i(a("gcbhjhjhg"));function j(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}var E={SINGLE:"SINGLE",GROUP:"GROUP"};t.FALLBACK=E;var y=function(e){function t(){var e,a;(0,o.default)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=(0,d.default)(this,(e=(0,c.default)(t)).call.apply(e,[this].concat(i)))).id=(0,u.prop)(),a.tag=(0,u.prop)(),a.raw=(0,u.prop)(),a.eurl=(0,u.prop)(),a.stale=(0,u.session)(!0),a.eurlStale=(0,u.session)(!1),a.pendingPic=(0,u.session)(),a.img=(0,u.derived)(a._img,["tag","raw","stale","eurl","eurlStale"]),a.imgFull=(0,u.derived)(a._imgFull,["tag","raw","stale","eurl","eurlStale"]),a.fallbackType=(0,u.derived)(a._fallbackType,["id"]),a}return(0,l.default)(t,e),(0,s.default)(t,[{key:"_img",value:function(){return this.raw?"data:image/jpeg;base64,"+this.raw:!this.tag&&this.stale?null:this.tag?(p.default.supportsFeature(p.default.F.MD_BACKEND),this.generateUrl("s")):void 0}},{key:"_imgFull",value:function(){return!this.raw&&this.tag||!this.stale?!this.raw&&this.tag?(p.default.supportsFeature(p.default.F.MD_BACKEND),this.generateUrl("l")):void 0:null}},{key:"_fallbackType",value:function(){return b.default.isUser(this.id)?E.SINGLE:(b.default.isGroup(this.id),E.GROUP)}},{key:"markStale",value:function(e){this.stale=!0,e&&e.eurl&&(this.eurlStale=!0)}},{key:"validate",value:function(){(this.stale||this.eurlStale)&&this.getCollection().update(this.id)}},{key:"generateUrl",value:function(e){var t={t:e,u:this.id.toString(),i:this.tag||""};return v.default.alive&&this.eurl&&!this.eurlStale&&(t=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?j(Object(a),!0).forEach(function(t){(0,r.default)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):j(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({e:this.eurl},t)),m.default.build(f.default.PP_URL,t)}},{key:"canSet",value:function(){if(b.default.isGroup(this.id)){var e=g.default.Chat.get(this.id);return!(e&&e.groupMetadata&&e.groupMetadata.participants.iAmRestrictedMember())}return!!this.id.equals(h.default.me)}},{key:"canDelete",value:function(){if(b.default.isGroup(this.id)&&this.tag){var e=g.default.Chat.assertGet(this.id);return!(e&&e.groupMetadata&&e.groupMetadata.participants.iAmRestrictedMember())}return!(!this.id.equals(h.default.me)||!this.tag)}},{key:"getCollection",value:function(){return a("dhefcajhhb").default}}]),t}(u.default);y.Proxy="profilePicThumb",y.idClass=b.default;var _=(0,u.defineModel)(y);t.default=_},iggbadgaj:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=i(a("hhegggegb")),u=n(a("ddhijeejag")),f=i(a("bgcibhihaj")),h=i(a("bdiiahhjbe")),p=i(a("cifjfjfegc")),g=i(a("cajddbdaie")),m=i(a("becfabjeeg")),b=function(e){function t(e){var a;return(0,r.default)(this,t),(a=(0,s.default)(this,(0,d.default)(t).call(this,e))).setThumbRef=function(e,t){a.thumbRefs[t]=e},a.isPreviewPreferred=function(e){var t=a.thumbRefs[e];if(!t)return!1;var n=t.getBoundingClientRect(),i=(n.left+n.right)/2;return!(i>-1*window.innerWidth&&i<2*window.innerWidth)},a.getMsgIdToPreferPreview=function(){var e=new Map;return a.props.mediaMsgs.forEach(function(t){var n=t.id.toString();e.set(n,a.isPreviewPreferred(n))}),e},a.onScroll=function(e){a.handleScroll(),a.props.onScroll(e)},a._handleScroll=function(){var e=a.getMsgIdToPreferPreview();(0,f.default)(a.state.msgIdToPreferPreview,e)||a.setState({msgIdToPreferPreview:e})},a.getThumbs=function(){var e=a.props.highlightedMsgIds,t=e&&e.size>0&&e.has(a.props.activeMsg.id.toString()),n=[];return a.props.mediaMsgs.forEach(function(i){if(null!=i.mediaData){var r=t&&e&&!e.has(i.id.toString())?"viewerFlowTransparent":"viewerFlow";n.push(u.createElement(p.default,{theme:r,active:i===a.props.activeMsg,msg:i,containerRef:function(e){a.setThumbRef(e,i.id.toString()),i===a.props.activeMsg&&a.props.onSetActiveThumb(e)},key:"media-".concat(i.id.id),onClick:function(){a.props.onSelectThumb(i)},preferPreview:!!a.state.msgIdToPreferPreview.get(i.id.toString())}))}else{var o=a.props.activeMsg;h.default.errorVerbose("MediaViewerFlow: attempted to render a msg without mediaData: ".concat(JSON.stringify({type:i.type,isMedia:i.isMedia,startMsgType:o.type,startMsgIsMedia:o.isMedia})))()}}),n.push(u.createElement("div",{className:g.default.mediaThumb,key:"spinner-right"},a.props.mediaMsgs.queryMediaAfter?u.createElement(m.default,{stroke:6,size:24}):null)),n.unshift(u.createElement("div",{className:g.default.mediaThumb,key:"spinner-left"},a.props.mediaMsgs.queryMediaBefore?u.createElement(m.default,{stroke:6,size:24}):null)),n.push(u.createElement("div",{className:g.default.thumbPadding,key:"padding-right"})),n.unshift(u.createElement("div",{className:g.default.thumbPadding,key:"padding-left"})),n},a.thumbRefs={},a.handleScroll=(0,l.default)(a._handleScroll,100),a.state={msgIdToPreferPreview:a.getMsgIdToPreferPreview()},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentWillUnmount",value:function(){this.handleScroll.cancel()}},{key:"render",value:function(){var e=this.getThumbs();return u.createElement("div",{className:g.default.thumbsContainer,ref:this.props.setRefThumbsContainer},u.createElement("div",{className:g.default.scrollContainer,dir:"ltr"},u.createElement("div",{onScroll:this.onScroll,className:g.default.viewerThumbs,ref:this.props.setRefThumbs},e)))}}]),t}(u.Component);t.default=b},igiffibee:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.getDirectionUrl=function(e,t){var a=l10n.getLocale(),n="".concat(e,",").concat(t);return"".concat(i.G_MAPS_DIR_URL,"/").concat("","/").concat(n,"?hl=").concat(a)},t.getSearchUrl=function(e){var t=l10n.getLocale();return"".concat(i.G_MAPS_SEARCH_URL,"/").concat(encodeURIComponent(e),"/z?hl=").concat(t)},t.getMapUrl=function(e,t,a){var n=l10n.getLocale();return a?"".concat(i.G_MAPS_SEARCH_URL,"/").concat(encodeURIComponent(a),"/@").concat(e,",").concat(t,",").concat(i.SEARCH_ZOOM,"z?hl=").concat(n):r.default.build(i.G_MAPS_URL,{q:"".concat(e,",").concat(t),z:i.SEARCH_ZOOM,hl:n})};var i=a("dghhefgjhc"),r=n(a("edbaidcaf"))},igjghefdb:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.Chatstate=t.default=t.ChatstateCollection=void 0;var r=i(a("dgcdacjddi")),o=i(a("bjehdcaaj")),s=i(a("eaidjcib")),d=i(a("ffceefejc")),c=i(a("cjedcdbdii")),l=i(a("dbjagcfebh")),u=i(a("eaaagccfda")),f=i(a("cgcgbfbffj")),h=n(a("dcaifjegcg")),p=i(a("cfadcbbiie")),g=i(a("dhigahgdjb")),m=i(a("jccfhaecf")),b=function(e){function t(){var e,a;(0,s.default)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=(0,d.default)(this,(e=(0,c.default)(t)).call.apply(e,[this].concat(i)))).id=(0,h.prop)(),a.type=(0,h.prop)(),a.t=(0,h.prop)(),a.deny=(0,h.prop)(),a.updateTime=(0,h.session)(),a.expireTimerId=(0,h.session)(),a}return(0,l.default)(t,e),t}(h.default);b.Proxy="chatstate",b.idClass=m.default;var v=(0,h.defineModel)(b);t.Chatstate=v;var j=function(e){function t(){return(0,s.default)(this,t),(0,d.default)(this,(0,c.default)(t).apply(this,arguments))}return(0,l.default)(t,e),t}(f.default);t.ChatstateCollection=j,j.model=v;var E=function(e){function t(){var e,a;(0,s.default)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=(0,d.default)(this,(e=(0,c.default)(t)).call.apply(e,[this].concat(i)))).id=(0,h.prop)(),a.isOnline=(0,h.session)(!1),a.stale=(0,h.session)(!0),a.hasData=(0,h.session)(!1),a.isSubscribed=(0,h.session)(!1),a.withholdDisplay=(0,h.session)(!0),a.forceDisplay=(0,h.session)(!1),a.chatActive=(0,h.session)(!1),a.withholdDisplayTimer=(0,h.session)(),a.forceDisplayTimer=(0,h.session)(),a.chatstate=(0,h.session)(),a.chatstates=(0,h.collection)(j),a.isGroup=(0,h.derived)(a._isGroup),a.isUser=(0,h.derived)(a._isUser),a}return(0,l.default)(t,e),(0,r.default)(t,[{key:"_isGroup",value:function(){return m.default.isGroup(this.id)}},{key:"_isUser",value:function(){return m.default.isUser(this.id)}},{key:"initialize",value:function(){var e=this;(0,o.default)((0,c.default)(t.prototype),"initialize",this).call(this);var a=this.isGroup?{id:"",type:"unavailable"}:{id:this.id};this.addChild("chatstate",new v(a)),this.isGroup?this.listenTo(this.chatstates,"add change",(0,u.default)(function(){var t,a=!1;e.chatstates.forEach(function(e){"composing"!==e.type&&"recording"!==e.type||t&&!(t.updateTime<e.updateTime)||(t=e),a=a||"unavailable"!==e.type}),e.set({isOnline:a}),e.chatstate.set({id:t?t.id:"",type:t?t.type:"unavailable"})})):this.listenTo(this.chatstate,"change:type",function(){e.isOnline="unavailable"!==e.chatstate.type}),this.listenTo(this,"change:chatActive",this.onChatActiveChange)}},{key:"delete",value:function(){(0,o.default)((0,c.default)(t.prototype),"delete",this).call(this),this.getCollection().remove(this.id),this.chatstate.delete(),this.chatstates.forEach(function(e){return e.delete()})}},{key:"reset",value:function(){this.hasData=!1,this.isGroup?this.chatstates.forEach(function(e){e.type="unavailable"}):this.isUser&&(this.chatstate.unset("t"),this.chatstate.unset("deny")),this.chatstate.set({id:this.isGroup?"":this.id,type:"unavailable",t:void 0,deny:void 0})}},{key:"isActive",value:function(){var e=this.chatstate.type;return this.hasData&&("composing"===e||"recording"===e)}},{key:"getFormattedString",value:function(){if(!this.hasData)return null;if(this.isGroup){var e=this.chatstate.id;if(!e)return null;var t=g.default.get(e);if(!t)return null;var a=t.formattedShortName;return"composing"===this.chatstate.type?l10n.t(1216,{participant:a}):l10n.t(1217,{participant:a})}if(!this.isUser)return null;var n=this.chatstate;switch(n.type){case"available":return l10n.t(1209);case"composing":return l10n.t(1210);case"recording":return l10n.t(1211);case"unavailable":return n.deny||null==n.t?null:p.default.lastSeenStr(n.t)}}},{key:"onChatActiveChange",value:function(){var e=this;this.chatActive?(this.hasData?this.withholdDisplay=!1:this.withholdDisplayTimer=setTimeout(function(){e.set({withholdDisplay:!1,withholdDisplayTimer:void 0})},1500),this.forceDisplayTimer=setTimeout(function(){e.set({forceDisplay:!0,forceDisplayTimer:void 0})},2e3)):(this.withholdDisplayTimer&&(clearTimeout(this.withholdDisplayTimer),this.withholdDisplayTimer=void 0),this.forceDisplayTimer&&(clearTimeout(this.forceDisplayTimer),this.forceDisplayTimer=void 0))}},{key:"subscribe",value:function(){return this.getCollection().find(this.id)}},{key:"getCollection",value:function(){return a("ebbjbbjjg").default}}]),t}(h.default);E.Proxy="presence",E.idClass=m.default;var y=(0,h.defineModel)(E);t.default=y},ihfbgdebe:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.playNotification=function(){r.play().catch(function(){})},t.cachePath=function(e){return Promise.resolve(e)};var i=n(a("baagejbchg")),r=new window.Audio(i.default.NOTIFICATION_TONE_PATH)},ihfccfgdf:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,a){var n,i,f=(0,b.default)(e.name);m.default.assert(t||a,"StateHOC wrapping class with no concerns, check ".concat(f))();var h=[];if(t)for(var v in t)h.push(new E(f,v,t[v],!0));if(a)for(var j in a)m.default.assert(!(t&&t.hasOwnProperty(j)),'Component has marked "'.concat(j,'" as both a normal and weak concern, check ').concat(f))(),h.push(new E(f,j,a[j],!1));return i=n=function(t){function a(e){var t;(0,c.default)(this,a),(t=(0,o.default)(this,(0,s.default)(a).call(this,e))).hasBroken=!1,t.rr=function(e,a){t.setState({[e.name]:new e.whitelistedProxyClass(a)})};for(var n=t.state={},i=0;i<h.length;i++){var r=h[i],d=r.name,l=r.getModelAndValidate(t._getModelOrProxy(d));l?n[d]=r.attachConcern(l,t.rr):t.hasBroken=!0}return t}return(0,d.default)(a,t),(0,l.default)(a,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){if(!this.hasBroken){for(var t=null,a=0;a<h.length;a++){var n=h[a],i=n.name,r=n.getModel(this._getModelOrProxy(i)),o=n.getModelAndValidate(this._getModelOrProxy(i,e));r!==o&&(n.detachConcern(r,this.rr),o?(t||(t={}),t[i]=n.attachConcern(o,this.rr)):this.hasBroken=!0)}t&&this.setState(t)}}},{key:"componentWillUnmount",value:function(){if(!this.hasBroken)for(var e=0;e<h.length;e++){var t=h[e];t.detachConcern(t.getModel(this._getModelOrProxy(t.name)),this.rr)}}},{key:"_getComponent",value:function(){return g._getComponent.call(this)}},{key:"_getModelOrProxy",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.props;return t[e]}},{key:"render",value:function(){return this.hasBroken?null:u.createElement(e,(0,r.default)({ref:this.setComponent},this.props,this.state))}}]),a}(g.WrappedComponent),n.displayName="State(".concat((0,p.default)(e),")"),i};var r=i(a("bacehaajgh")),o=i(a("ffceefejc")),s=i(a("cjedcdbdii")),d=i(a("dbjagcfebh")),c=i(a("eaidjcib")),l=i(a("dgcdacjddi")),u=n(a("ddhijeejag")),f=a("jjbajibff"),h=i(a("dcaifjegcg")),p=i(a("bfjbhiddag")),g=a("ejbdjaifi"),m=i(a("bdiiahhjbe")),b=i(a("cahfddcdga")),v=a("ceidcegjgi"),j=n(a("dcdiaahjj"));var E=function(){function e(t,a,n,i){(0,c.default)(this,e),this.componentName=t,this.name=a,this.isStrong=i,this.keys=n;var r=v.ProxyStates[a];r||m.default.assert(!1,"state-hoc-error",'Unknown StateHOC concern type "'.concat(a,'"'))(),this.proxyClass=r,this.whitelistedProxyClass=function(e,t,a){for(var n={_ProxyState$ComponentName:{value:e},proxyBitMask:{value:(0,f.genBitMask)(t.prototype.mirrorMask,a)}},i=function(e){var t=a[e];n[t]={enumerable:!0,get(){return this._ProxyState$state.get(t)},set(e){this._ProxyState$state.set(t,e)}}},r=0;r<a.length;r++)i(r);function o(e){t.call(this,e)}return o.prototype=Object.create(t.prototype,n),o.prototype.constructor=o,o}(t,r,n)}return(0,l.default)(e,[{key:"getModel",value:function(e){return e instanceof this.proxyClass?e._ProxyState$state:e}},{key:"getModelAndValidate",value:function(e){var t,a=e instanceof this.proxyClass?e._ProxyState$state:e;return a?a instanceof h.default?a:(m.default.assert(!1,"state-hoc-error","".concat(this.componentName," given invalid object for ").concat(this.name,": ").concat("string"==typeof(t=a)?t:t.toString?t.toString():"Invalid Object"))(),null):(m.default.assert(j.default.mode!==j.StreamMode.MAIN,"state-hoc-error","".concat(this.componentName," was not supplied the ").concat(this.name," model with keys ").concat(String(this.keys),"."))(),null)}},{key:"attachConcern",value:function(e,t){e.incObservers(!this.isStrong);var a=new this.whitelistedProxyClass(e);return e.mirror.addListener(t,a.proxyBitMask,this),a}},{key:"detachConcern",value:function(e,t){e.decObservers(),e.mirror.removeListener(t)}}]),e}()},ihfgagaij:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("ffceefejc")),s=i(a("cjedcdbdii")),d=i(a("dgcdacjddi")),c=i(a("dbjagcfebh")),l=n(a("ddhijeejag")),u=a("biheibdage"),f=i(a("ijdibihbi")),h=i(a("jfbdejdfi")),p=i(a("eajjbbihhc")),g=i(a("bahefiaghi")),m=i(a("becegcbegb")),b=i(a("cjcecfgaji")),v=i(a("fhdffdech")),j=i(a("cfaacaccfj")),E=i(a("bbchdeehff")),y=i(a("baagejbchg")),_=i(a("biddiiafgd")),S=i(a("dcjhajfghf")),C=i(a("djcchigfih")),A=i(a("djbhiedbef")),M=n(a("dajffajabh")),T=a("cfffidafid"),P=n(a("cajijabhgb")),N=a("cgffhfegce"),I=i(a("ddajbaceej")),k=i(a("dhfbfehaef")),O=i(a("eceadcicaf")),R=i(a("jgcieiibj")),w=a("bfbggcdbfb"),D=i(a("behbjhhbg")),L=i(a("bjbedjfe")),U=i(a("cdjhjdcbeg")),G=i(a("becfabjeeg")),x=i(a("bfdcadbbif")),F=n(a("bfjajhbdf")),B=i(a("didfdhbecg")),V=y.default.MSG_TYPE,H=V.IMAGE,W=V.VIDEO,Y=V.DOCUMENT,$=V.AUDIO,K=200,q=u.ATTACH_MEDIA_STATE.PROCESSING,z=function(e){function t(e){var a;return(0,r.default)(this,t),(a=(0,o.default)(this,(0,s.default)(t).call(this,e))).attachMediaRefMap=new Map,a.setRefContainer=function(e){a.refContainer=e},a.setRefInput=function(e){a.refInput=e},a.setAttachMediaRef=function(e,t){a.attachMediaRefMap.set(e,t)},a.onMediaProcessUpdate=function(){var e=a.props.mediaCollection;if(e.canSend()){var t=e.uiProcessMsgs().errorMsgs,n=e.getPreviewableMedias();t&&n.length>0&&E.default.openToast(l.createElement(F.default,{msg:t,id:(0,F.genId)()})),a.forceUpdate()}},a.onFilesNotSupported=function(){var e=a.props.mediaCollection.filter(function(e){return e.exception});e.length>0&&a.props.onFailedMedias(e)},a.showIgnoredToast=function(e){if(e>0){var t=l10n.t(1094,{number:e,_plural:e});E.default.openToast(l.createElement(F.default,{msg:t,id:(0,F.genId)()}))}},a.onDrop=function(e){a.onFilePick(e)},a.onDragLeave=function(e){a.props.mediaCollection.length||a.props.onBack()},a.onDragChange=function(e,t){a.setState({isDragging:e}),e||t||a.props.mediaCollection.length||a.props.onBack()},a.onEnter=function(e){a.state.activeMedia&&(e.repeat||e.shiftKey||a.onSend())},a.onArrowLeft=function(e){if(a.state.activeMedia&&!e.repeat){var t=a.state.activeMedia&&!a.state.activeMedia.caption,n=a.refCaptionInput&&a.refCaptionInput.refInput;(t||n&&!n.isFocused()||n&&n.cursorIsAtStart())&&a.onPrev()}},a.onArrowRight=function(e){if(a.state.activeMedia&&!e.repeat){var t=a.state.activeMedia&&!a.state.activeMedia.caption,n=a.refCaptionInput&&a.refCaptionInput.refInput;(t||n&&!n.isFocused()||n&&n.cursorIsAtEnd())&&a.onNext()}},a.onNext=function(){a.props.mediaCollection.setNextAsActive()&&(a.refSendButton&&I.default.focus(a.refSendButton),a._scrollIntoView())},a.onPrev=function(){a.props.mediaCollection.setPrevAsActive()&&(a.refSendButton&&I.default.focus(a.refSendButton),a._scrollIntoView())},a._scrollIntoView=function(){var e=a.props.mediaCollection.getActive();if(e){var t=a.attachMediaRefMap.get(e.id);t&&t.scrollIntoView()}},a.onSelectThumb=function(e){a.props.mediaCollection.setActive(e)},a.onSend=function(e){if(e&&e.preventDefault(),(!e||!e.shiftKey)&&a.props.mediaCollection.canSend()){Promise.all([]).then(function(){var e=a.props.mediaCollection.getPreviewableMedias();if(0!==e.length){var t=e.map(function(e){var t=e.caption,n=[],i=a.refCaptionInput&&a.refCaptionInput.refInput;if(t&&i){var r=i.serialize(t),o=[r[0].trim(),r[1]],s=o[0],d=o[1];s.length&&(t=s,n=d.mentionedJidList||[])}return e.caption=t||void 0,{media:e,mentionedJidList:n}});a.props.onSendMedia(t,a.state.isInitCaptionUsed)}})}},a.onAddFileClick=function(){a.refInput&&a.refInput.click()},a.onFilePick=function(e){(0,T.getFiles)(e).then(function(e){return a.props.mediaCollection.processAttachments(e.map(function(e){return{file:e}}),w.MEDIA_PICKER_ORIGIN_TYPE.CHAT_PHOTO_LIBRARY)}).checkpoint(a.props.rejectOnUnmount()).catch(P.Unmount,function(){}).catch(P.MediaDragDropError,function(e){a.props.mediaCollection.length||a.props.onDropText(e.src)}),e.target&&e.target.value&&(e.target.value="")},a.onRemoveThumb=function(e,t){t.stopPropagation(),t.preventDefault(),a.props.mediaCollection.remove(e),0===a.props.mediaCollection.getValidMedias().length?a.delayedClose=setTimeout(function(){a.props.onBack()},K):a.refSendButton&&I.default.focus(a.refSendButton)},a.onCaptionChange=function(e){var t=a.state,n=t.activeMedia,i=t.isInitCaptionUsed;if(n){var r=a.props.mediaCollection.indexOf(n);n.caption=e,0===r&&""===e&&i?a.setState({isInitCaptionUsed:!1}):a.forceUpdate()}},a.onPaste=function(e){e.preventDefault(),e.stopPropagation();var t=new S.default(e.clipboardData);t.hasFiles()&&a.onFiles(t)},a.onFiles=function(e){var t=e.getFiles().filter(function(e){var t=(0,N.typeFromMimetype)(e.type);return"image"===t||"video"===t}).map(function(e){return{file:e}});a.props.mediaCollection.processAttachments(t,w.MEDIA_PICKER_ORIGIN_TYPE.PASTE)},a.setRefCaptionInput=function(e){a.state.activeMedia&&!e||(a.refCaptionInput=e)},a.getMedia=function(e){var t,n,i;switch(e.type){case H:case W:t||(t=l.createElement(b.default,{mimeType:e.mimetype,url:e.fullPreview,isGif:e.isGif,size:e.fullPreviewSize,processing:e.state===q,preview:e.preview})),n=l.createElement("div",{className:f.default.captionInput,"data-animate-media-caption":!0},l.createElement(R.default,{ref:a.setRefCaptionInput,value:e.caption,placeholder:l10n.t(160),maxLength:y.default.MAX_CAPTION_LENGTH,onEnter:a.onSend,onChange:a.onCaptionChange,onFiles:a.onFiles,chat:a.props.chat,showRemaining:!0,spellCheck:!0,multiline:!0,supportsEmoji:!0}));break;case $:t=l.createElement(p.default,{mimeType:e.mimetype,url:e.fullPreview});break;case Y:switch(D.default.previewType(e.mimetype)){case"pdf":t=l.createElement(v.default,{fullPreview:e.fullPreview,fullPreviewSize:e.fullPreviewSize,pdfPages:e.pdfPages,mimeType:e.mimetype,filename:e.filename});break;case"msoffice":t=l.createElement(g.default,{fullPreview:e.fullPreview,fullPreviewSize:e.fullPreviewSize,mimeType:e.mimetype,filename:e.filename});break;default:t=l.createElement(m.default,{mimeType:e.mimetype,filename:e.filename})}}return"image/gif"===e.originalMimetype&&(i=l.createElement("div",{className:f.default.mediaWarning,"data-animate-attach-media":!0},l10n.t(707)," ",l.createElement(j.default,{onClick:a.onWarningCtaClick},l10n.t(644)))),l.createElement("div",{className:f.default.mediaBody,key:e.id},t,i,n)},a.onWarningCtaClick=function(e){e.preventDefault(),E.default.openModal(l.createElement(_.default,{onOK:function(){return E.default.closeModal()}},l10n.t(503)))},a.getThumbs=function(e){return e.map(function(e,t){return l.createElement(h.default,{id:e.id,key:"media-"+e.id,active:e===a.state.activeMedia,attachMedia:e,onClick:a.onSelectThumb,onClose:a.onRemoveThumb,onRef:a.setAttachMediaRef})})},a.setRefSendButton=function(e){a.refSendButton=e},a.state={activeMedia:null,prevActiveMedia:null,isInitCaptionUsed:!1,isDragging:!1},a}return(0,c.default)(t,e),(0,d.default)(t,null,[{key:"getDerivedStateFromProps",value:function(e,t){var a=e.mediaCollection.getActive(),n=e.initCaption&&e.initCaption.text,i=t.isInitCaptionUsed;return i||t.activeMedia||!n||!a||a.type!==H&&a.type!==W||(a.caption=n,i=!0),{prevActiveMedia:t.activeMedia,activeMedia:a,isInitCaptionUsed:i}}}]),(0,d.default)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props,a=t.mediaCollection,n=t.listeners;n.add(a,"add remove reset",function(){e.forceUpdate()}),n.add(a,"active-change change:state change:previewable",this.onMediaProcessUpdate),n.add(a,"files_not_supported",this.onFilesNotSupported),n.add(a,"max_upload_limit",this.showIgnoredToast),a.mediaPickerStatsLogger.resumeTimer()}},{key:"componentDidUpdate",value:function(e,t){var a=this;!t.activeMedia&&this.state.activeMedia&&this.refCaptionInput?this.props.listeners.uiIdle(function(){a.refCaptionInput&&a.refCaptionInput.restoreFocus()}):this.refSendButton&&this.refContainer&&!this.refContainer.contains(document.activeElement)&&I.default.focus(this.refSendButton)}},{key:"componentWillUnmount",value:function(){this.delayedClose&&clearTimeout(this.delayedClose),this.props.mediaCollection.mediaPickerStatsLogger.pauseTimer()}},{key:"render",value:function(){var e,t,a,n=this.props.mediaCollection,i=this.state,r=i.activeMedia,o=i.prevActiveMedia,s=0,d=!0,c=n.getPreviewableMedias();c.length>y.default.MAX_FILES&&(c=c.slice(0,y.default.MAX_FILES)),n.canSend()?r?e=this.getMedia(r):0===c.length&&n.errorMsgs&&(e=l.createElement("div",{className:f.default.invalidContainer,key:"pending"},l.createElement("div",{className:f.default.invalidMedia},n.errorMsgs))):(d=!1,e=l.createElement(G.default,{key:"processing",color:"highlight"})),c.length>0&&(t=this.getThumbs(c),s=1===c.length?400:400+(150+15*c.length),a=d?l.createElement("div",{className:f.default.btnSend,tabIndex:"-1",ref:this.setRefSendButton,onKeyPress:function(e){return e.preventDefault()}},l.createElement(U.default,{large:!0,onClick:this.onSend},l.createElement(x.default,{name:"send-light",directional:!0}))):null);var u=this.state.isDragging?l.createElement("div",{key:"container",className:f.default.dropOverlay},l.createElement("div",{className:f.default.dropOverlayOutline},l10n.t(409))):null,h=c.length<y.default.MAX_FILES?l.createElement("div",{className:f.default.btnAdd,key:"media-more",onClick:this.onAddFileClick,role:"button"},l.createElement(x.default,{name:"add-alt"}),l.createElement("div",{className:f.default.btnAddText},l10n.t(167))):null,p={enter:this.onEnter,left:this.onArrowLeft,right:this.onArrowRight},g="*"===D.default.DOC_MIMES?"*":[y.default.IMAGE_MIMES,y.default.VIDEO_MIMES,D.default.DOC_MIMES].join(),m="media-scale";return r&&o&&r!==o&&(m=n.indexOf(r)>n.indexOf(o)?"media-slide-forward":"media-slide-back"),l.createElement(k.default,{handlers:p,onRef:this.setRefContainer},l.createElement(C.default,{key:"attach-image-modal",theme:"media",onDrop:this.onDrop,onDragChange:this.onDragChange},l.createElement(M.default,{title:l10n.t(1385),type:M.DRAWER_HEADER_TYPE.OFFSET,onCancel:this.props.onBack}),l.createElement(A.default,{tabIndex:"-1",overflow:"hidden",onPaste:this.onPaste},u,l.createElement("div",{className:f.default.body},l.createElement(B.default,{transitionName:m},e)),l.createElement("div",{className:f.default.thumbs},l.createElement(B.default,{transitionAppear:!0,transitionName:"thumb-scale",className:f.default.thumbsContainer},t),h),l.createElement(B.default,{transitionAppear:!0,transitionName:"btn",delay:s},a),l.createElement("input",{ref:this.setRefInput,type:"file",accept:g,style:{display:"none"},onChange:this.onFilePick,multiple:!0}))))}}]),t}(l.Component),Q=(0,L.default)((0,O.default)(z));t.default=Q},ihgbiaiaa:function(e,t){e.exports={item:"_24rpv",overlay:"dSmPg",numberText:"_14Diy",loadingImageContainer:"_38jO3",loadingImage:"_65oJx"}},ihgefacbb:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("hbddjfeei")),r=n(a("eaidjcib")),o=n(a("dgcdacjddi")),s=500;var d=new(function(){function e(){var t=this;(0,r.default)(this,e),this._trackers=[],this._currFPS=0,this._numSamples=0,this._totalTime=0,this._startTracking=function(){t._frameId||(t._prevFrameTS=t._prevUpdateTS=window.performance.now(),t._frameId=requestAnimationFrame(t._handleFrame))},this._stopTracking=function(){t._frameId&&(t._prevFrameTS=t._prevUpdateTS=void 0,cancelAnimationFrame(t._frameId),t._frameId=void 0)},this._handleFrame=function(){if(t._trackers.length){var e=t._prevFrameTS,a=t._prevUpdateTS;if(null!=e&&null!=a){var n=window.performance.now();t._numSamples+=1,t._totalTime+=n-e,n-a>=s&&t._update(n),t._prevFrameTS=n,t._frameId=requestAnimationFrame(t._handleFrame)}}}}return(0,o.default)(e,[{key:"whenLessThan",value:function(e,t){var a=this;if(e<0||e>60)throw new RangeError("fps must be between 0 and ".concat(60));return this._insertTracker([e,t]),function(){a._removeTracker(t)}}},{key:"_insertTracker",value:function(e){var t=e[0],a=function(e,t){var a=0,n=e.length-1,i=Math.floor((a+n)/2);for(;e[i]!==t&&a<n;)t<e[i]?n=i-1:a=i+1,i=Math.floor((a+n)/2);if(e[i]<t)return i+1;return i}(this._trackers.map(function(e){return e[0]}),t);this._trackers.splice(a,0,e),1===this._trackers.length&&(this._addEventListeners(),this._startTracking())}},{key:"_removeTracker",value:function(e){for(var t=this._trackers.length,a=0;a<t;a++)if(e===this._trackers[a][1]){this._trackers.splice(a,1),0===this._trackers.length&&(this._removeEventListeners(),this._stopTracking());break}}},{key:"_update",value:function(e){var t=1e3/(this._totalTime/this._numSamples),a=Math.min(t,60);if(Math.abs(a-this._currFPS)>1){this._currFPS=a;var n=this._filterCallbacks();n.length&&this._triggerCallbacks(n,a)}this._numSamples=0,this._totalTime=0,this._prevUpdateTS=e}},{key:"_filterCallbacks",value:function(){for(var e=[],t=this._trackers.length-1;t>=0;t--){var a=(0,i.default)(this._trackers[t],2),n=a[0],r=a[1];if(n<=this._currFPS)break;e.push(r)}return e}},{key:"_triggerCallbacks",value:function(e,t){var a=window.performance.now(),n=function(){e.forEach(function(e){return e(t,a)})};window.requestIdleCallback?window.requestIdleCallback(n):window.setTimeout(n,0)}},{key:"_addEventListeners",value:function(){window.addEventListener("focus",this._startTracking),window.addEventListener("blur",this._stopTracking)}},{key:"_removeEventListeners",value:function(){window.removeEventListener("focus",this._startTracking),window.removeEventListener("blur",this._stopTracking)}}]),e}());t.default=d},ihhfhbadh:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(!e)return!1;var t=window.getSelection();if(1!==t.rangeCount)return!1;var a=t.getRangeAt(0);if(!a.collapsed)return!1;var n=a.endContainer;if(a.startOffset!==function(e){return(0,i.default)(e)?e.textContent.length:e.childNodes.length}(n))return!1;if(e===n)return!0;if(!e.contains(n))return!1;var r=n;do{if(r.nextSibling)return!1;r=r.parentNode}while(r!==e);return!0};var i=n(a("bgeafedbjd"))},ihiijcdag:function(e,t,a){"use strict";var n=a("cfjecfhbfg")(a("ddfeabiaci")),i=a("bcbeeajhgb"),r={version:"14",sendConversationPin:function(e,t,a){var n=this;return new Promise(function(i,r){var o=n.actionNode("set",[["chat",{type:"pin",pin:t?t.toString():void 0,previous:a?a.toString():void 0,jid:e},void 0]]);n.binSend("send",o,r,{clientCacheable:!0,onSend:n.wrap(i),onDrop:n.wrap(r)},{debugString:["action","chat",e,t?"pin,"+t:"unpin,"+a].join(),metricName:"CHAT",ackRequest:!0})})}};e.exports=(0,n.default)(r,i)},iiaihjfbi:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=i(a("ceffhbhahb")),u=n(a("ddhijeejag")),f=i(a("bjbdcigbdi")),h=i(a("djidhiidef")),p=i(a("ihfccfgdf")),g=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,(0,d.default)(t).apply(this,arguments))}return(0,c.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=this.props,t=e.children,a=e.className,n=e.msg;if(!n)return u.createElement(u.Fragment,null,t);var i=[n.broadcast,n.isEphemeral,n.isSentByMe,n.labels&&n.labels.length&&f.default.supportsFeature(f.default.F.LABELS_DISPLAY),n.star].filter(Boolean).length,r=[h.default.icons1,h.default.icons2,h.default.icons3,h.default.icons4],o=i>0?r[i-1]:"";return u.createElement("span",{className:a},t,u.createElement("span",{className:(0,l.default)(h.default.spacer,o)}))}}]),t}(u.PureComponent);g.CONCERNS={msg:["broadcast","isEphemeral","isSentByMe","labels","star"]};var m=(0,p.default)(g,g.CONCERNS);t.default=m},iibcehaia:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=n(a("ddhijeejag")),u=i(a("cfadcbbiie")),f=i(a("baagejbchg")),h=i(a("dhigahgdjb")),p=i(a("dhhfaeacef")),g=a("cgejchjdhj"),m=i(a("fifhbjiec")),b=i(a("ddajbaceej")),v=i(a("dheeebbech")),j=i(a("dhfbfehaef")),E=i(a("eceadcicaf")),y=a("ddbddjjgia"),_=i(a("bcebbbdfff")),S=i(a("bfdcadbbif")),C=i(a("djbfhebjhe")),A=i(a("caceaafdic")),M=function(e){function t(e){var a;(0,r.default)(this,t),(a=(0,s.default)(this,(0,d.default)(t).call(this,e)))._setWrapperRef=function(e){a._wrapperRef=e},a._setGalleryMsgRef=function(e){a._galleryMsgRef=e},a._setHotKeysRef=function(e){a._hotKeysRef=e},a.onSelectionChange=function(e,t){var n="focus"===e;if(n){var i=a._hotKeysRef;i&&(b.default.focus(i),t&&(0,g.scrollIntoViewIfNeeded)(i))}a.setState({current:n})},a.onActiveChange=function(e,t){if("focus"===e){var n=a._hotKeysRef;n&&(b.default.focus(n),t&&(0,g.scrollIntoViewIfNeeded)(n))}a.setState({active:!!e})},a.mouseOver=function(){a.state.hover||a.setState({hover:!0})},a.mouseEnter=function(){a.state.hover||a.setState({hover:!0})},a.mouseLeave=function(){a.state.hover&&a.setState({hover:!1})},a.onEnter=function(e){e.stopPropagation(),e.preventDefault(),a.props.onClickMsg&&a.props.onClickMsg(a.props.msg)},a.openContextMenu=function(){a._wrapperRef&&a._wrapperRef.contextOpen()},a.onFocus=function(e){a.setState({focus:!0}),a.indicateFocus()},a.onBlur=function(e){a.finishFocusIndication(),a.setState({focus:!1})},a.indicateFocus=function(){var e,t=a.state.active?"#d6d7d8":"#e2e3e3";null===(e=a._galleryMsgRef)||void 0===e||e.indicateFocus([t,"#cbdde7"],a.finishFocusIndication)},a.finishFocusIndication=function(){a._galleryMsgRef&&a._galleryMsgRef.reset()},a.getWrapperRef=function(){return a._wrapperRef};var n=e.currSelection,i=e.activeSelection,o=e.msg;return a.state={hover:!1,current:!!n&&n.value===o,active:!!i&&i.value===o,focus:!1},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.msg,a=e.currSelection,n=e.activeSelection,i=e.listeners;a&&i.add(a,t.id.toString(),this.onSelectionChange),n&&i.add(n,t.id.toString(),this.onActiveChange)}},{key:"render",value:function(){var e=this,t=this.props,a=t.msg,n=t.selectedMessages,i=t.displayType,r=a.senderObj.formattedName,o=a.chat.isUser?h.default.assertGet(a.to).formattedName?h.default.assertGet(a.to).formattedName:(0,C.default)(a.to):a.chat.title(),s=i===f.default.DISP_TYPE.GALLERY?null:l.createElement("div",{className:_.default.title},l.createElement("div",{className:_.default.titleMain},l.createElement("div",{className:_.default.avatar},l.createElement(p.default,{id:a.senderObj.id,size:26})),l.createElement(m.default,{className:_.default.author,text:r,direction:"auto",titlify:!0}),l.createElement("span",{className:_.default.divider}),l.createElement(m.default,{className:_.default.chat,text:o,direction:"auto",titlify:!0})),l.createElement("div",{className:_.default.meta,dir:"auto"},u.default.relativeStr(a.t)),l.createElement("div",{className:_.default.chevron},l.createElement(S.default,{name:"chevron-right-alt",directional:!0}))),d={enter:this.onEnter};d[l10n.LR("right","left")]=this.openContextMenu;var c=this.props.selectable||this.state.hover&&i===f.default.DISP_TYPE.GALLERY;return l.createElement(j.default,{onRef:this._setHotKeysRef,handlers:d,onFocus:this.onFocus,onBlur:this.onBlur},l.createElement(v.default,{ref:this._setGalleryMsgRef,hover:this.state.hover,current:this.state.current&&this.state.focus,active:this.state.active,onClick:function(){return e.props.onClickMsg&&e.props.onClickMsg(a,n&&!n.isSelected(a))},onMouseEnter:this.state.hover?null:this.mouseEnter,onMouseOver:this.state.hover?null:this.mouseOver,onMouseLeave:this.state.hover?this.mouseLeave:null},s,l.createElement(A.default,{msg:a,key:a.id.toString(),ref:this._setWrapperRef,current:this.state.current&&this.state.focus,displayType:i||f.default.DISP_TYPE.STARRED_MSGS,isMsgVisible:this.props.isMsgVisible,selectable:c,selectedMessages:n,onMessageSelect:this.props.onMessageSelect,position:y.MsgPosition.END,tailOverride:"left",onProductClick:this.props.onProductClick})))}}]),t}(l.Component),T=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,(0,d.default)(t).apply(this,arguments))}return(0,c.default)(t,e),(0,o.default)(t,[{key:"getWrapperRef",value:function(){return this.getComponent().getWrapperRef()}}]),t}((0,E.default)(M));t.default=T},iibiehcaf:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=i(a("ceffhbhahb")),u=n(a("ddhijeejag")),f=i(a("bbchdeehff")),h=i(a("eceadcicaf")),p=i(a("bgcdajbhif")),g=i(a("dggicghjch")),m=i(a("cbhejdgihi")),b=i(a("bgajdijche")),v=i(a("bfdcadbbif")),j=function(e){function t(e){var a;return(0,r.default)(this,t),(a=(0,s.default)(this,(0,d.default)(t).call(this,e))).onStatusAddRemove=function(){a.setState({status:p.default.getMyStatus()})},a.state={status:p.default.getMyStatus()},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"shouldComponentUpdate",value:function(e,t){return t.status!==this.state.status}},{key:"componentDidMount",value:function(){var e=this,t=this.props,a=t.sessionId,n=t.listeners;n.add(p.default,"add remove",this.onStatusAddRemove),n.add(f.default,"dismiss_status_v3_viewer",function(){e.props.closeStatusViewer(!0)}),null!=a&&p.default.logMetrics({type:"session",sessionId:a})}},{key:"render",value:function(){var e=this,t=this.props.onOpenStatus,a=(0,l.default)(m.default.v3_x,{});return u.createElement("div",{className:m.default.modalBackground,"data-animate-status-v3-modal-background":!0},u.createElement("div",{className:m.default.mainWrapper},u.createElement(g.default,{onOpenStatus:t}),u.createElement(b.default,{status:this.state.status,onOpenStatus:t}),u.createElement("button",{className:a,onClick:function(){return e.props.closeStatusViewer(!0)}},u.createElement(v.default,{name:"status-v3-x"}))))}}]),t}(u.Component),E=(0,h.default)(j);t.default=E},iiegbbgja:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("eaidjcib")),r=n(a("ffceefejc")),o=n(a("cjedcdbdii")),s=n(a("dbjagcfebh")),d=function(e){function t(e,a,n){var s;(0,i.default)(this,t);var d=null!=n&&null!=n.url?"".concat(a,": ").concat(e," ").concat(n.url):"".concat(a,": ").concat(e);return(s=(0,r.default)(this,(0,o.default)(t).call(this,d))).status=e,s}return(0,s.default)(t,e),t}((0,n(a("iffjgahba")).default)("HttpStatusCodeError"));t.default=d},ijbagjdgc:function(e,t){e.exports={icon:"_33gYI",text:"_1Sxbg"}},ijdibihbi:function(e,t){e.exports={body:"_2CDPn",thumbs:"NeQRT",thumbsContainer:"_1xNi6",btnSend:"iA40b",captionInput:"_3cDQo",mediaBody:"_3NANR",invalidContainer:"dW6GK",invalidMedia:"azEEh",mediaWarning:"_1u0aP",dropOverlay:"lC2xi",dropOverlayOutline:"_8C3uJ",btnAdd:"_3fktq",btnAddText:"A_Kh_"}},ijecjcidg:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=i(a("ceffhbhahb")),u=n(a("ddhijeejag")),f=i(a("effbcehec")),h=i(a("ebcagbhefg")),p=i(a("bbchdeehff")),g=i(a("baagejbchg")),m=i(a("djcchigfih")),b=i(a("djbhiedbef")),v=n(a("dajffajabh")),j=i(a("fffdgbfji")),E=i(a("ihfccfgdf")),y=n(a("bfjajhbdf")),_=i(a("ddhbfebjfb")),S=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).state={hover:!1},a.onClick=function(e){var t=a.encodeColor(a.props.colorHex),n=h.default.get("defaultPreference");n&&t!==n.wallpaperColor&&(n.set("wallpaperColor",t),p.default.openToast(u.createElement(y.default,{msg:j.default.t(1182),id:(0,y.genId)()})))},a.onMouseOver=function(e){a.state.hover||(a.setState({hover:!0}),h.default.trigger("wallpaper_color_preview",a.encodeColor(a.props.colorHex)))},a.onMouseEnter=function(e){a.state.hover||(a.setState({hover:!0}),h.default.trigger("wallpaper_color_preview",a.encodeColor(a.props.colorHex)))},a.onMouseLeave=function(e){a.state.hover&&(a.setState({hover:!1}),h.default.trigger("wallpaper_color_preview"))},a.encodeColor=function(e){return"#ede9e4"===e?g.default.DEFAULT_CHAT_WALLPAPER:e},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=this.props.isDefault?u.createElement("span",{"data-a8n":f.default.key("wallpaper-default-title"),className:_.default.wallpaperDefaultTitle},j.default.t(369)):null,t=(0,l.default)(_.default.wallpaperColorCanvas,{[_.default.canvasHover]:this.state.hover,[_.default.canvasActive]:this.props.isSelected});return u.createElement("span",{className:t,style:{backgroundColor:this.props.colorHex},onMouseOver:this.onMouseOver,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,onClick:this.onClick},e)}}]),t}(u.Component),C=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,(0,d.default)(t).apply(this,arguments))}return(0,c.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){for(var e=this.props,t=e.chatPreference,a=e.colors,n=!0,i=t&&t.wallpaperColor,r=a.map(function(e){var t=!1,a=!1;return(i===e||i===g.default.DEFAULT_CHAT_WALLPAPER&&n)&&(t=!0),n&&(a=!0,n=!1),u.createElement(S,{colorHex:e,isSelected:t,isDefault:a,key:e})}),o=0;o<2;o++)r.push(u.createElement("div",{key:"emptyEl"+o,className:_.default.wallpaperColorEmpty}));return u.createElement("div",{className:_.default.wallpaperColorGrid},r)}}]),t}(u.Component);C.CONCERNS={chatPreference:["wallpaperColor"]};var A=(0,E.default)(C,C.CONCERNS),M=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,(0,d.default)(t).apply(this,arguments))}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentWillUnmount",value:function(){h.default.trigger("wallpaper_color_preview")}},{key:"render",value:function(){return u.createElement(m.default,null,u.createElement(v.default,{title:j.default.t(1183),onBack:this.props.onClose,type:v.DRAWER_HEADER_TYPE.LARGE}),u.createElement(b.default,null,u.createElement(A,{colors:g.default.WALLPAPER_COLOR,chatPreference:h.default.get("defaultPreference")})))}}]),t}(u.Component);t.default=M},ijhhjedi:function(e,t,a){"use strict";var n=a("cfjecfhbfg"),i=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return r.createElement(o.default,e,e.children)};var r=i(a("ddhijeejag")),o=n(a("djidjciehe"))},ijiafihgg:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=i(a("eaaagccfda")),u=n(a("bdfbccfifg")),f=i(a("bjbdcigbdi")),h=function(e){function t(e,a){var n;return(0,r.default)(this,t),(n=(0,s.default)(this,(0,d.default)(t).call(this,e,a.id)))._trigger=a.trigger||"all",n._saveToCache=(0,l.default)(n.saveToCache,0),n}return(0,c.default)(t,e),(0,o.default)(t,[{key:"saveToCache",value:function(){f.default.supportsFeature(f.default.F.MD_BACKEND)}},{key:"enableCaching",value:function(){this.listenTo(this.collection,this._trigger,this._saveToCache)}},{key:"disableCaching",value:function(){this.stopListening(this.collection,this._trigger,this._saveToCache)}}]),t}(u.default);t.default=h,h.policy=u.CACHE_POLICY_TYPE.IMMEDIATE},jahgaeib:function(e,t,a){"use strict";var n,i=a("cfjecfhbfg")(a("bdiiahhjbe")),r=a("hfdeaaddb"),o=a("bfbggcdbfb");e.exports={checkAndRepair:function(e,t){var a,s,d=new o.WebcMediaAnalyzed;return(a={type:"prep",file:e,asGif:t},new Promise(function(e,t){i.default.log("MediaAnalyzer:sendMessageToWorker")(),s=n||new r,n=void 0,s.onmessage=function(a){try{a.data&&"log"===a.data.type?i.default.log("(via Milan) ".concat(a.data.msg))():e(a.data)}catch(e){t(e)}},s.onerror=function(e){t("Milan.onerror = ".concat(e&&e.message?e.message:e))},s.postMessage(a)}).finally(function(){s&&(s.terminate(),n=new r)})).then(function(e){var t=e.type,a=e.result,n=e.error,r=e.filename,o=e.file;switch(t){case"result":return i.default.log("MediaAnalyzer:checkAndRepair approved file")(),a;case"parsingError":return i.default.info("trouble parsing file ".concat(o," (fossil ").concat(r,") ").concat(String(n)))(),o&&i.default.assert(!1,"media-parsing-error","MediaAnalyzer:checkAndRepair got parsing error! ".concat(String(n)))(),void i.default.log("MediaAnalyzer:checkAndRepair rejected file (".concat(String(n),")"))()}}).catch(function(e){i.default.assert(!1,"media-detection-error","MediaAnalyzer:checkAndRepair got error! ".concat(String(e)))()}).finally(function(t){if(d){var a=void 0;if(e.name){var n=e.name.split(".");n.length>1&&(a=n[n.length-1])}d.set({webcMediaSupported:!!t,webcMediaExtensions:a}),d.markWebcMediaAnalyzeT(),d.commit()}})}}},jajcehbed:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("eaidjcib")),r=n(a("dgcdacjddi")),o=n(a("hbddjfeei")),s=n(a("dbajccegac")),d=n(a("bhagdhdadd")),c=33639248,l=101010256,u=67324752,f=46,h=22,p=30,g=0,m=0,b=10;function v(e){return(e.getHours()<<6|e.getMinutes())<<5|e.getSeconds()/2}function j(e){return(e.getFullYear()-1980<<4|e.getMonth()+1)<<5|e.getDate()}var E=/[^\x00-\x7F]/g;var y=function(){function e(){(0,i.default)(this,e),this.files=[],this.filenameCount={}}return(0,r.default)(e,[{key:"add",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Date,n=function(e){return e.replace(/\\/,"/").replace(E,"")}(t);this.filenameCount[n]>=0?(this.filenameCount[n]+=1,n=n.replace(/\.(\w+)$/," ("+this.filenameCount[n]+").$1")):this.filenameCount[n]=0,this.files.push([e,{crc:(0,d.default)(e),path:n,date:a}])}},{key:"create",value:function(){var e=0,t=0,a=0,n=[],i=[];this.files.forEach(function(r,d){var l=(0,o.default)(r,1)[0],h=l.size(),E=function(e){var t=(0,o.default)(e,2),a=t[0],n=t[1],i=n.path,r=n.crc,d=n.date,c=new s.default(void 0,!0);return c.ensureCapacity(p+i.length),c.writeUint32(u),c.writeUint8(b),c.writeUint8(m),c.writeUint16(0),c.writeUint16(g),c.writeUint16(v(d)),c.writeUint16(j(d)),c.writeUint32(r),c.writeUint32(a.size()),c.writeUint32(a.size()),c.writeUint16(i.length),c.writeUint16(0),c.writeString(i),c}(r),y=function(e,t){var a=(0,o.default)(e,2),n=a[0],i=a[1],r=i.path,d=i.crc,l=i.date,u=new s.default(void 0,!0);return u.ensureCapacity(f+r.length),u.writeUint32(c),u.writeUint8(b),u.writeUint8(m),u.writeUint8(b),u.writeUint8(m),u.writeUint16(0),u.writeUint16(g),u.writeUint16(v(l)),u.writeUint16(j(l)),u.writeUint32(d),u.writeUint32(n.size()),u.writeUint32(n.size()),u.writeUint16(r.length),u.writeUint16(0),u.writeUint16(0),u.writeUint16(0),u.writeUint16(0),u.writeUint32(0),u.writeUint32(t),u.writeString(r),u}(r,a),_=E.size()+h;a+=_,e+=_+y.size(),t+=y.size(),i.push(E,l),n.push(y)});var r,d,E,y,_=(r=this.files.length,d=t,E=a,(y=new s.default(void 0,!0)).ensureCapacity(h),y.writeUint32(l),y.writeUint16(0),y.writeUint16(0),y.writeUint16(r),y.writeUint16(r),y.writeUint32(d),y.writeUint32(E),y.writeUint16(0),y),S=new s.default(void 0,!0);return S.ensureCapacity(e+_.size()),S.write.apply(S,i.concat(n,[_])),S}}]),e}();t.default=y},jcdghfjgd:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=n(a("ddhijeejag")),u=i(a("dhbceejbjg")),f=i(a("dhigahgdjb")),h=i(a("dhhfaeacef")),p=i(a("fifhbjiec")),g=a("bhfdfhefca"),m=i(a("bhheahajjg")),b=i(a("cjihajjici")),v=i(a("ihfccfgdf")),j=i(a("bfdcadbbif")),E=i(a("eedjbihej")),y=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,(0,d.default)(t).apply(this,arguments))}return(0,c.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e,t=this.props.product,a=f.default.get(t.catalogWid);if(a){var n=l.createElement(m.default,{contact:a,selectable:!0,showBusinessCheckmark:!0}),i=l.createElement(h.default,{id:a.id,size:40}),r=l.createElement("div",{className:b.default.productName},l.createElement(j.default,{name:"business-description",display:"inline"}),l.createElement(p.default,{text:t.name,titlify:!0,ellipsify:!0}));e=l.createElement(u.default,{idle:!0,image:i,primary:n,secondary:r,theme:"media"})}else e=l.createElement(E.default,{theme:"large",className:b.default.infoName},l.createElement(p.default,{text:t.name,titlify:!0,ellipsify:!0}));return l.createElement("div",{className:b.default.mediaPanelHeader},l.createElement("div",{className:b.default.info},e),l.createElement("div",{className:b.default.mediaPanelTools},l.createElement(g.MenuBar,{key:"media-panel-header",theme:"strong"},l.createElement(g.MenuBarItem,{a8nText:"btn-close",icon:l.createElement(j.default,{name:"x-viewer"}),title:l10n.t(1202),onClick:this.props.onClose}))))}}]),t}(l.PureComponent);y.CONCERNS={mediaData:["renderableUrl"],product:["name","catalogWid"]};var _=(0,v.default)(y,y.CONCERNS);t.default=_},jcfhjhibi:function(e,t,a){"use strict";var n=a("cfjecfhbfg"),i=n(a("bhabhhjdch")),r=n(a("eaidjcib")),o=n(a("dgcdacjddi")),s=a("dejbbcaghh"),d=n(a("bjigbaghc")),c=n(a("bjbdcigbdi")),l=n(a("djdhjggcbi")),u=n(a("bdecdecede")),f=n(a("bdiiahhjbe"));function h(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}var p=a("baagejbchg"),g={BEFORE:"before",AFTER:"after"},m=2,b=12,v=19,j=65,E=2;function y(e,t,a){var n=t,i=e.toArray(),r=a===g.BEFORE?-1:1;return{hasNext:()=>n>=0&&n<i.length,next(){var e=i[n];return e||f.default.error("Invalid cursor at ".concat(n,", array.length = ").concat(i.length,", element = ").concat(e))(),n+=r,e}}}function _(e,t,a){for(var n,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,r=arguments.length>4?arguments[4]:void 0,o=(0,l.default)()*i,d=y(e,t,a),f=0,h=0;d.hasNext();){var g=d.next(),v=(0,u.default)(g),j=2*(g.isNotification?1:0)+g.isSentByMe;if(h++,(f+=v+(j&&j===n?m:b))>o)break;if(h>=r)break;var E=c.default.supportsFeature(c.default.F.GROUPED_STICKERS)&&g.isValidGroupedSticker,_=c.default.supportsFeature(c.default.F.ALBUMS)&&g.isValidAlbumAsset;if(E||_){var S=[],C=!1,A=1;if(E){var M=void 0;if(d.hasNext()){if(M=d.next(),S.push(M),++h>=r)break;(0,s.canBeGroupedAsAlbum)(g,M)&&M.isValidGroupedSticker&&(C=!0)}}if(_)for(var T=g,P=void 0;d.hasNext()&&A<p.ALBUM_MAX_SIZE&&(P=d.next(),S.push(P),!(++h>=r))&&(0,s.canBeGroupedAsAlbum)(T,P)&&P.isValidAlbumAsset;)A++,T=P;if(E&&!C||_&&A<p.ALBUM_MIN_SIZE)if((f+=S.reduce(function(e,t){return e+(0,u.default)(t)},0))>o)break}n=j}return h}function S(e,t,a){for(var n,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,r=arguments.length>4?arguments[4]:void 0,o=(0,l.default)()*i,f=y(e,t,a),h=0,g=0;f.hasNext();){var j=f.next(),E=(0,u.default)(j),_=j.author||(j.isSentByMe?d.default.me:void 0);if(g++,(h+=E+(_&&!j.isSentByMe&&_!==n?v:0)+(_&&_===n?m:b))>o)break;if(g>=r)break;var S=c.default.supportsFeature(c.default.F.GROUPED_STICKERS)&&j.isValidGroupedSticker,C=c.default.supportsFeature(c.default.F.ALBUMS)&&j.isValidAlbumAsset;if(S||C){var A=[],M=!1,T=1;if(S){var P=void 0;if(f.hasNext()){if(P=f.next(),A.push(P),++g>=r)break;(0,s.canBeGroupedAsAlbum)(j,P)&&P.isValidGroupedSticker&&(M=!0)}}if(C)for(var N=j,I=void 0;f.hasNext()&&T<p.ALBUM_MAX_SIZE&&(I=f.next(),A.push(I),!(++g>=r))&&(0,s.canBeGroupedAsAlbum)(N,I)&&I.isValidAlbumAsset;)T++,N=I;if(S&&!M||C&&T<p.ALBUM_MIN_SIZE)if((h+=A.reduce(function(e,t){return e+(0,u.default)(t)},0))>o)break}n=_}return g}function C(e,t,a){for(var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,i=arguments.length>4?arguments[4]:void 0,r=(0,l.default)()*n,o=y(e,t,a),s=0,d=0;o.hasNext();){var c=o.next();if(d++,(s+=(0,u.default)(c)+j)>r)break;if(d>=i)break}return d}function A(e,t){for(var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:g.AFTER,n=(0,l.default)()*E,i=y(e,t,a),r=0,o=!0,s=null;i.hasNext();){var d=i.next(),c=(0,u.default)(d),f=2*(d.isNotification?1:0)+d.isSentByMe;if((r+=c+(f&&f===s?m:b))>n){o=!1;break}s=f}return o}var M=function(){function e(t){(0,r.default)(this,e);var a=t.type,n=t.before,i=t.after,o=t.focusedMsgKey,s=t.prevFocusedMsgKey;this._type=a,this._focusedMsgKey=o,this._prevFocusedMsgKey=s,this.before=n||0,this.after=i||0}return(0,o.default)(e,null,[{key:"create",value:function(t){var a=t.msgCollection,n=t.focusedMsgKey,i=t.type,r=t.maxInitialCount,o=void 0===r?Number.MAX_SAFE_INTEGER:r;return new e({type:i}).init(n,a,o)}}]),(0,o.default)(e,[{key:"_cloneWith",value:function(t){return new e(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?h(Object(a),!0).forEach(function(t){(0,i.default)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):h(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({type:this._type,before:this.before,after:this.after,focusedMsgKey:this._focusedMsgKey,prevFocusedMsgKey:this._prevFocusedMsgKey},t))}},{key:"_getCursorSize",value:function(e,t,a,n,i){return function(e){switch(e){case p.RENDER_CURSOR.CONVERSATION:return _;case p.RENDER_CURSOR.GROUP_CONVERSATION:return S;case p.RENDER_CURSOR.STARRED_DRAWER:return C;default:return _}}(this._type)(e,t,a,n,i)}},{key:"getStart",value:function(e){return Math.max(T(this._focusedMsgKey,e,this._type)-this.before,0)}},{key:"getEnd",value:function(e){return Math.min(T(this._focusedMsgKey,e,this._type)+this.after+1,e.length)}},{key:"hasBefore",value:function(e){return T(this._focusedMsgKey,e,this._type)-this.before>0}},{key:"hasAfter",value:function(e){return T(this._focusedMsgKey,e,this._type)+this.after<e.length-1}},{key:"init",value:function(t,a){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.MAX_SAFE_INTEGER;return new e({type:this._type,before:0,after:0,focusedMsgKey:t}).loadBefore(a,{factor:1,maxCount:n}).loadAfter(a,{factor:1,maxCount:n})}},{key:"setFocusedMsgKey",value:function(e,t){var a,n,i=T(this._focusedMsgKey,e,this._type),r=T(t,e,this._type);return t?(n=this.after-(r-i),a=this.before+(r-i)):(a=this.before+this.after,n=0),this._cloneWith({focusedMsgKey:t,before:a,after:n})._updatePrev(e)}},{key:"ensureValidFocus",value:function(e){var t=null!=this._prevFocusedMsgKey&&null==e.get(this._prevFocusedMsgKey),a=null!=this._focusedMsgKey&&null==e.get(this._focusedMsgKey),n=this;return t&&(n=n._updatePrev(e)),a&&(n=n.focusBefore(e)),n}},{key:"_updatePrev",value:function(e){var t=T(this._focusedMsgKey,e,this._type);return this._cloneWith({prevFocusedMsgKey:t>0?e.at(t-1).id:void 0})}},{key:"focusBefore",value:function(e){return this._cloneWith({focusedMsgKey:this._prevFocusedMsgKey})._updatePrev(e)}},{key:"loadBefore",value:function(e,t){var a=t||{},n=a.count,i=a.maxCount,r=void 0===i?Number.MAX_SAFE_INTEGER:i,o=a.factor,s=void 0===o?2:o,d=null!=n&&0!==n?n:this._getCursorSize(e,Math.max(0,this.getStart(e)-1),g.BEFORE,s,r);return this._cloneWith({before:this.before+d})}},{key:"loadAfter",value:function(e,t){var a=t||{},n=a.count,i=a.maxCount,r=void 0===i?Number.MAX_SAFE_INTEGER:i,o=a.factor,s=void 0===o?2:o,d=null!=n&&0!==n?n:this._getCursorSize(e,this.getEnd(e),g.AFTER,s,r);return this._cloneWith({after:this.after+d})}},{key:"loadBeforeCapped",value:function(e,t){var a=t||{},n=a.count,i=a.factor,r=void 0===i?2:i;return A(e,this.getStart(e),g.AFTER)?this.loadBefore(e,{count:n,factor:r}):this}},{key:"resetBeforeCursor",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_SAFE_INTEGER;if(!A(e,this.getStart(e),g.AFTER)){var a=Math.max(0,this.getEnd(e)-1),n=this._getCursorSize(e,a,g.BEFORE,2,t);return this._cloneWith({before:Math.min(this.before,n)})}return this}}]),e}();function T(e,t,a){if(e){var n=t.get(e),i=t.indexOf(n);if(-1!==i)return i}return function(e){switch(e){case p.RENDER_CURSOR.CONVERSATION:case p.RENDER_CURSOR.GROUP_CONVERSATION:return p.RENDER_CURSOR.RECENT_AT_BOTTOM;case p.RENDER_CURSOR.STARRED_DRAWER:return p.RENDER_CURSOR.RECENT_AT_TOP;default:return p.RENDER_CURSOR.RECENT_AT_BOTTOM}}(a)===p.RENDER_CURSOR.RECENT_AT_TOP?0:t.length-1}e.exports=M},jcfjeeiii:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("eaidjcib")),r=n(a("dgcdacjddi")),o=n(a("ffceefejc")),s=n(a("cjedcdbdii")),d=n(a("bjehdcaaj")),c=n(a("dbjagcfebh")),l=n(a("dfaadfeedd")),u=n(a("djheacfeif")),f=a("dcaifjegcg"),h=n(a("cfadcbbiie")),p=n(a("baagejbchg")),g=n(a("dhigahgdjb")),m=n(a("bdiiahhjbe")),b=n(a("ccehadbeci")),v=a("dcjbdhhjge"),j=n(a("bihdhbjih")),E=n(a("jccfhaecf"));function y(e){var t=(0,l.default)(e,function(e){return e.body&&e.mediaData&&(e.type===p.default.MSG_TYPE.IMAGE||e.type===p.default.MSG_TYPE.VIDEO)});return t&&t.mediaData.preview}var _=function(e){function t(){var e,a;(0,i.default)(this,t);for(var n=arguments.length,r=new Array(n),d=0;d<n;d++)r[d]=arguments[d];return(a=(0,o.default)(this,(e=(0,s.default)(t)).call.apply(e,[this].concat(r)))).id=(0,f.prop)(),a.t=(0,f.prop)(),a.unreadCount=(0,f.prop)(0),a.totalCount=(0,f.prop)(0),a.score=(0,f.prop)(),a.pic=(0,f.prop)(),a._msgs=(0,f.prop)(function(){return[]}),a.readKeys=(0,f.session)(function(){return{}}),a.contact=(0,f.session)(),a.expireTimer=(0,f.session)(),a.expireTs=(0,f.session)(),a.hasUnread=(0,f.derived)(a._hasUnread,["unreadCount"]),a.readCount=(0,f.derived)(a._readCount,["unreadCount","totalCount"]),a.renderedThumbnail=(0,f.derived)(a._renderedThumbnail,["msgsChanged","pic","totalCount"]),a.lastStatus=(0,f.derived)(a._lastStatus,["msgsChanged","totalCount"]),a}return(0,c.default)(t,e),(0,r.default)(t,[{key:"_hasUnread",value:function(){return this.unreadCount>0}},{key:"_readCount",value:function(){var e=this.totalCount-this.unreadCount;return Number.isFinite(e)?e:(m.default.error("Bad status v3 read count, ".concat(this.totalCount,", ").concat(this.unreadCount))(),0)}},{key:"_renderedThumbnail",value:function(){return this.msgs.length===this.totalCount?y(this.msgs.getModelsArray()):this.pic?this.pic:y(this.msgs.getModelsArray())}},{key:"_lastStatus",value:function(){return this.msgs.last()}},{key:"initialize",value:function(){var e=this;(0,d.default)((0,s.default)(t.prototype),"initialize",this).call(this),this.addChild("contact",g.default.gadd(this.id)),this.listenTo(this.msgs,"add bulk_add",function(){window.setTimeout(function(){e.setupStatusExpiration()})}),this.listenTo(this,"change:lastStatus",function(){e.lastStatus&&(e.t=e.lastStatus.t)})}},{key:"setupStatusExpiration",value:function(){var e=this,t=this.msgs.at(0);if(t&&!("number"==typeof this.expireTs&&this.expireTs<=t.t)){var a=t.t+86400+1;a<h.default.globalUnixTime()?window.setTimeout(function(){e.expireMsg()}):(this.expireTimer=u.default.setGlobalTimeout(this.expireMsg.bind(this),1e3*a,this.expireTimer),this.expireTs=t.t)}}},{key:"expireMsg",value:function(){for(var e=this.msgs;e.length>0;){var t=e.at(0);if(!t)break;if(t.t+86400>h.default.globalUnixTime())break;this.unreadCount>this.totalCount-1&&this.unreadCount--,this.totalCount--,e.remove(t),t.delete()}this.expireTs=void 0,this.expireTimer=void 0,0!==this.totalCount&&this.setupStatusExpiration()}},{key:"delete",value:function(){m.default.log("Status v3 deleted with total count: ".concat(this.totalCount))(),(0,d.default)((0,s.default)(t.prototype),"delete",this).call(this),this.expireTimer&&u.default.clearTimeout(this.expireTimer),null!=this.expireTs&&(this.expireTs=void 0),this.getCollection().remove(this.id)}},{key:"onEmptyMRM",value:function(){var e=this;m.default.log("Status V3 onEmptyMRM with total count: ".concat(this.totalCount,", noEarlierMsgs: ").concat(this.msgs.msgLoadState.noEarlierMsgs?"true":"false"))(),this.msgs.msgLoadState.noEarlierMsgs&&0===this.totalCount?this.delete():this.totalCount>0&&this.loadMore().catch(function(){}).finally(function(){e.msgs.length||e.delete()})}},{key:"loadMore",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p.default.PAGE_SIZE;if(this.msgs.msgLoadState.noEarlierMsgs)return Promise.resolve();if(this.msgs.msgLoadState.isLoadingEarlierMsgs)return this.msgs.loadEarlierPromise;var a=0!==t?t:p.default.PAGE_SIZE;return this.getCollection().loadMore(this.id,a,this.msgs.last()).then(function(t){return Array.isArray(t)&&t.length<a&&(e.msgs.msgLoadState.noEarlierMsgs=!0),t}).catch(function(t){return 404===t&&e.delete(),Promise.reject(t)})}},{key:"handleReadStatus",value:function(e){this.readKeys[e]||(this.readKeys[e]=!0,this.unreadCount>0&&this.unreadCount--)}},{key:"sendReadStatus",value:function(e,t){var a=this;return j.default.sendStatusSeen(e,t).then(function(t){200===t.status&&a.handleReadStatus(e)})}},{key:"sendMute",value:function(e){var t=this;return j.default.sendStatusMute(this.id,e).then(function(a){if(200===a.status){var n={statusMute:e};(0,v.updateLocal)(t.contact.id,n).then(function(){t.contact.set(n)})}})}},{key:"getCollection",value:function(){return a("bgcdajbhif").default}}]),t}(b.default);_.Proxy="statusV3",_.idClass=E.default;var S=(0,f.defineModel)(_);t.default=S},jciegiifi:function(e,t){var a={parseStatusRankingScores:function(e){if("status"===this.N.tag(e)&&"score"===this.N.attr("type",e)){var t=[],a=this.N.children(e);if(Array.isArray(a))for(var n=0;n<a.length;n++){var i=a[n];if("user"===this.N.tag(i)){var r=this.N.attr("jid",i),o=parseFloat(this.N.attr("score",i))||void 0;void 0!==r&&void 0!==o&&t.push({jid:r,score:o})}}return t}}};e.exports=a},jdcjegfeb:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=n(a("ddhijeejag")),u=i(a("cfaiaibca")),f=i(a("djijgaefjc")),h=i(a("dbdfbgehgj")),p=i(a("bbchdeehff")),g=i(a("dhigahgdjb")),m=i(a("djigcbdaeh")),b=i(a("cahfddcdga")),v=i(a("ihfccfgdf")),j=i(a("eedjbihej")),E=i(a("didfdhbecg")),y=i(a("djbfhebjhe")),_=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).messageNewNumber=function(){var e=a.props.chat.changeNumberNewJid,t=h.default.gadd((0,b.default)(e));p.default.openChatFromUnread(t).then(function(e){e&&p.default.focusChatTextInput(t)})},a.dismissChangeNumberNotification=function(){a.props.chat.sendDismissChangeNumber()},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"isOldChat",value:function(){var e=this.props.chat,t=e.changeNumberOldJid,a=e.changeNumberNewJid;return void 0===t&&void 0!==a}},{key:"isNewChat",value:function(){var e=this.props.chat,t=e.changeNumberOldJid,a=e.changeNumberNewJid;return void 0!==t&&void 0===a}},{key:"getText",value:function(){var e=this.props.chat,t=e.changeNumberOldJid,a=e.id,n=t||a,i=g.default.get(n),r=i&&i.isMyContact?i.formattedName:(0,y.default)(n);return this.isNewChat()?l10n.t(278,{name:r}):l10n.t(279,{name:r})}},{key:"render",value:function(){var e=null;if(this.props.chat.showChangeNumberNotification){var t=this.isOldChat()?l.createElement("div",{className:f.default.messageNewNumberButton},l.createElement(u.default,{onClick:this.messageNewNumber,type:"plain-white",nowrap:!0},l10n.t(277))):null;e=l.createElement(m.default,{onClose:this.dismissChangeNumberNotification},l.createElement("div",{className:f.default.container},l.createElement(j.default,{theme:"plain",className:f.default.text},this.getText()),t))}return l.createElement(E.default,{transitionName:"butterbar"},e)}}]),t}(l.Component);_.CONCERNS={chat:["changeNumberOldJid","changeNumberNewJid","id","showChangeNumberNotification"]};var S=(0,v.default)(_,_.CONCERNS);t.default=S},jdehfjbjc:function(e,t){e.exports={loadingContainer:"_3dF_z",text:"URwam",loadingText:"_3TJbi",shiftUp:"_3MPcp"}},jdgfdffcj:function(e,t){e.exports={action:"_25Ewv"}},jdigiabic:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.RecentStickerCollection=t.RECENT_STICKERS_LIMIT=void 0;var i=n(a("bhabhhjdch")),r=n(a("eaidjcib")),o=n(a("dgcdacjddi")),s=n(a("ffceefejc")),d=n(a("cjedcdbdii")),c=n(a("bjehdcaaj")),l=n(a("dbjagcfebh")),u=n(a("cgcgbfbffj")),f=n(a("bjbdcigbdi")),h=n(a("bdiiahhjbe")),p=n(a("cgfidiajgj")),g=n(a("bihdhbjih"));function m(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}t.RECENT_STICKERS_LIMIT=32;var b=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i))))._checksum="",a._syncStatus="NONE",a}return(0,l.default)(t,e),(0,o.default)(t,[{key:"_findQuery",value:function(){var e=this;return f.default.isRecentStickersEnabled()?g.default.queryRecentStickers().then(function(t){var a=t.checksum,n=t.stickers;return e.setChecksum(a),n.map(function(e,t){return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?m(Object(a),!0).forEach(function(t){(0,i.default)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):m(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},e,{index:t})})}):Promise.reject(new Error("gk recent sticker sync unsupported"))}},{key:"enqueue",value:function(e){var t=this;if(f.default.isRecentStickersEnabled()){this.forEach(function(e,t){e.index=32+t});var a=new Set(e.map(function(e){return e.id}));e.reduce(function(e,t){return a.has(t.id)?(a.delete(t.id),[t].concat(e)):e},[]).slice(0,32).forEach(function(e,a){var n=t.get(e.id);n?n.index=a:t.add({id:e.id,clientUrl:e.clientUrl,directPath:e.directPath,filehash:e.filehash,uploadhash:e.uploadhash,mediaKey:e.mediaKey,mediaKeyTimestamp:e.mediaKeyTimestamp,width:e.width,height:e.height,size:e.size,mimetype:e.mimetype,type:e.type,index:a})}),this.sort(),this.remove(this.slice(32))}}},{key:"setChecksum",value:function(e){this._checksum=e}},{key:"sync",value:function(e){return null==e||e!==this._checksum?this._sync():Promise.resolve()}},{key:"_sync",value:function(){var e=this;return"INPROGRESS"===this._syncStatus?Promise.resolve():(this._syncStatus="INPROGRESS",this.findQuery({},{set:!0}).then(function(){e.sort(),e._syncStatus="SUCCESS"}).catch(function(t){h.default.error("collection:recent_sticker:_sync error ")(t),e._syncStatus="FAILURE"}))}},{key:"isSynced",value:function(){return"SUCCESS"===this._syncStatus||"FAILURE"===this._syncStatus}},{key:"reset",value:function(){return this._syncStatus="NONE",(0,c.default)((0,d.default)(t.prototype),"reset",this).call(this)}}]),t}(u.default);t.RecentStickerCollection=b,b.model=p.default,b.comparator=function(e,t){return e.index>t.index?1:-1};var v=new b;t.default=v},jeadbebac:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=n(a("ddhijeejag")),u=i(a("cebdifcdab")),f=i(a("bcbahjefec")),h=i(a("cfegjiegcd")),p=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).onProductClick=function(e,t){a.push(l.createElement(h.default,{refreshCarousel:!0,chat:a.props.msg.chat,product:e,sessionId:t,onEnd:a._pop}))},a._pop=function(){a.pop()},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){this.push(l.createElement(u.default,{msg:this.props.msg,onProductClick:this.onProductClick}))}}]),t}(f.default);t.default=p},jegbhjbde:function(e,t,a){"use strict";var n=a("cfjecfhbfg"),i=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.getFormattedName=c,t.getFormattedNames=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!Array.isArray(e))return c(e,t);var a=e.map(function(e){return c(e,t)});return(0,s.default)(a,t)};var r=i(a("ddhijeejag")),o=n(a("bbchdeehff")),s=n(a("dabieifebj")),d=n(a("bhggeigghg"));function c(e){var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=d.default.Contact.gadd(e,{silent:!0}),s=n?void 0:(t=e,function(e){e&&(e.preventDefault(),e.stopPropagation()),d.default.Chat.find(t).then(function(e){o.default.openChatFromUnread(e).then(function(t){t&&o.default.focusChatTextInput(e)})})}),c=a("bhheahajjg").default;return n?i.formattedUser:r.createElement(c,{contact:i,onClick:s})}},jfbdejdfi:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=i(a("bgeijhbbad")),u=i(a("ceffhbhahb")),f=n(a("ddhijeejag")),h=i(a("bcjhbcbjbf")),p=i(a("baagejbchg")),g=i(a("bdiiahhjbe")),m=i(a("behbjhhbg")),b=i(a("ihfccfgdf")),v=a("bheafeifce"),j=i(a("bfdcadbbif")),E=p.default.MSG_TYPE,y=E.IMAGE,_=E.VIDEO,S=E.DOCUMENT,C=E.AUDIO,A=(0,l.default)(m.default.MIMETYPES,function(e){return e.msgType===S}),M=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i))))._onClick=function(e){a.props.onClick&&a.props.onClick((0,v.unproxy)(a.props.attachMedia),e)},a._onClose=function(e){a.props.onClose&&a.props.onClose((0,v.unproxy)(a.props.attachMedia),e)},a.setRef=function(e){e&&a.props.onRef(a.props.id,e)},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"_renderBody",value:function(){var e,t,a,n=this.props.attachMedia;switch(n.type){case y:a={backgroundImage:"url(".concat(n.preview,")")},e=f.createElement("div",{className:h.default.body,style:a});break;case _:a={backgroundImage:"url(data:image/jpeg;base64,".concat(n.preview,")")},e=f.createElement("div",{className:h.default.body,style:a});break;case C:e=f.createElement("div",{className:(0,u.default)(h.default.body,"attach-media-audio-thumb")});break;case S:if(g.default.log("media is",n)(),n.preview){var i={backgroundImage:"url("+n.preview+")"};e=f.createElement("div",{className:h.default.body,style:i});break}A[n.mimetype]&&(t=A[n.mimetype].icon);default:t=(0,u.default)(h.default.body,h.default.bodyDoc,t,{"icon-doc-generic":!t}),e=f.createElement("div",{className:t})}return e}},{key:"render",value:function(){var e=(0,u.default)(h.default.thumb,{[h.default.active]:this.props.active});return f.createElement("div",{className:e,onClick:this._onClick,role:"button",ref:this.setRef},f.createElement("div",{className:h.default.btnDelete,onClick:this._onClose,role:"button"},f.createElement(j.default,{name:"x-alt-light"})),this._renderBody())}}]),t}(f.PureComponent);M.CONCERNS={attachMedia:["mimetype","preview","type"]};var T=(0,b.default)(M,M.CONCERNS);t.default=T},jfgccegaj:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.productId,a=e.businessOwnerJid,n=e.msgT,o=(0,r.createWid)(a);if(!o)return;var s=i.default.get(o);if(!s)return;var d=s.productCollection.get(t),c=s.msgProductCollection.get(t);if(c&&d){var l=null!=n?n:c.t;return d.t>=l?(s.msgProductCollection.remove(c),d):c}return d||c};var i=n(a("ejegihaeh")),r=a("dcbdjheea")},jgbhhadeh:function(e,t){e.exports={container:"N-sh9",preview:"_3V0mN",img:"G4uT8"}},jgcieiibj:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=i(a("ceffhbhahb")),u=n(a("ddhijeejag")),f=i(a("bbchdeehff")),h=i(a("biddiiafgd")),p=a("dbgdaechch"),g=i(a("bjbggbjed")),m=a("cdheafhdbh"),b=i(a("dhfbfehaef")),v=i(a("dbcfhfbbbf")),j=i(a("cjgdeggcdi")),E=a("bfccafhbbb"),y=i(a("bfdcadbbif")),_=i(a("caffijjhc")),S=i(a("dbjbhajgfd")),C=a("chhhffajfi"),A=i(a("didfdhbecg")),M=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).state={active:!1,emojiPicker:null},a.onEmojiPicker=function(e){e&&(e.preventDefault(),e.stopPropagation());var t=u.createElement(g.default,{onEmoji:a.onEmoji,onFocusNext:a.restoreFocus,onFocusPrev:a.restoreFocus});a.setState({emojiPicker:{menu:t,dirY:p.DirY.TOP,type:"emoji_picker",anchor:e.target}}),a.restoreFocus()},a.onEmojiPickerClose=function(){a.setState({emojiPicker:null})},a.onRestoreEmojiPickerFocus=function(){if(a.refEmojiPicker){var e=a.refEmojiPicker.getRef();if(e){var t=e.getElement();t&&t.restoreFocus()}}},a.onEmoji=function(e){var t=a.refInput;t&&(t.focus(!1),t.replaceSelection(e)),a.onEmojiPickerClose()},a.setRefInput=function(e){a.refInput=e},a.setRefEmojiPicker=function(e){a.refEmojiPicker=e},a.onSelectionChange=function(e){a.selection=e},a.onMaxPasteExceeded=function(){f.default.openModal(u.createElement(h.default,{title:l10n.t(274),onOK:function(){f.default.closeModal()},okText:l10n.t(1331)},l10n.t(273)))},a.restoreFocus=function(){a.refInput&&a.refInput.focus()},a.onBlur=function(e){a.state.active&&a.setState({active:!1}),a.props.onBlur&&a.props.onBlur(e)},a.onFocus=function(e){e.stopPropagation(),a.state.active||a.setState({active:!0}),a.props.onFocus&&a.props.onFocus(e)},a.onReset=function(){a.refInput&&a.refInput.reset()},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){this.props.focusOnMount&&this.restoreFocus()}},{key:"render",value:function(){var e,t=this.props.maxLength,a=(0,C.numCodepoints)(this.props.value||""),n=t-a<50,i=(0,l.default)(j.default.textInput,{[j.default.noPlaceholder]:!this.props.placeholder,[j.default.active]:!0}),r=(0,l.default)(j.default.labelText,{[j.default.float]:!!this.props.value}),o=(0,l.default)(j.default.wrapper,{[j.default.textActive]:this.state.active}),s=this.props.supportsEmoji?u.createElement("button",{className:j.default.inputEmoji,onClick:this.onEmojiPicker},u.createElement(y.default,{name:"emoji-input"})):void 0,d=this.props.value;e=d&&""!==d?u.createElement("div",{role:"button",className:j.default.clearInput,onClick:this.onReset},u.createElement(y.default,{name:"x-alt"})):null;var c,f=this.props.showRemaining?u.createElement("div",{className:(0,l.default)(j.default.buttonContainer,j.default.charCounter,{[j.default.charCounterWithClearBtn]:!!e})},u.createElement("div",{className:j.default.charCounter},n?l10n.n(t-a):null)):null;return this.state.emojiPicker&&(c=u.createElement(_.default,{displayName:"EmojiPicker",escapable:!0,popable:!0,ref:this.setRefEmojiPicker,requestDismiss:this.onEmojiPickerClose,requestFocus:this.onRestoreEmojiPickerFocus},u.createElement(S.default,{contextMenu:this.state.emojiPicker}))),u.createElement(b.default,{className:i,onFocus:this.restoreFocus},u.createElement("span",{className:r},this.props.placeholder),u.createElement("div",{className:j.default.spacer}),u.createElement("div",{className:j.default.suggestionsPositioner},u.createElement("div",{className:j.default.suggestionsContainer},u.createElement(v.default.MentionSuggestions,{chat:this.props.chat,theme:E.ThemeOptions.MEDIA_CAPTION}),u.createElement(v.default.EmojiSuggestions,{chat:this.props.chat,theme:m.ThemeOptions.MEDIA_CAPTION}))),u.createElement("div",{className:o},u.createElement(v.default,{ref:this.setRefInput,initialValue:this.props.value,initialSelection:this.selection,readOnly:!1,spellCheck:this.props.spellCheck,multiline:this.props.multiline,maxLength:this.props.maxLength,onEnter:this.props.onEnter,onMaxPasteExceeded:this.onMaxPasteExceeded,onFiles:this.props.onFiles,onChange:this.props.onChange,onSelect:this.onSelectionChange,theme:"media-caption"}),u.createElement("div",{className:j.default.inputControls},u.createElement(A.default,{transitionName:"pop",component:"div",className:j.default.buttonContainer},e,s),f)),c)}}]),t}(u.Component);t.default=M,M.defaultProps={maxLength:25}},jhcabjcaf:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=n(a("ddhijeejag")),u=i(a("cfadcbbiie")),f=i(a("bjigbaghc")),h=a("jbecjibfc"),p=i(a("ihfccfgdf")),g=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,(0,d.default)(t).apply(this,arguments))}return(0,c.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e,t=this.props,a=t.children,n=t.className,i=t.contact,r=t.msg,o=t.onClick,s=t.style,d=u.default.timeStr(r.t);return i.isMe&&(e=f.default.pushname),e=e||i.formattedUser||"",l.createElement(h.CopyableDiv,{className:n,onClick:o,prePlainText:"[".concat(d,"] ").concat(e,": "),style:s},a)}}]),t}(l.PureComponent);g.CONCERNS={contact:["formattedUser","name","isMe"],msg:["senderObj","t"]};var m=(0,p.default)(g,g.CONCERNS);t.default=m},jhddfhjhh:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("bhabhhjdch")),r=n(a("dagbcgeifg")),o=n(a("eaidjcib")),s=n(a("dgcdacjddi")),d=n(a("biaifggagf")),c=n(a("dbdfbgehgj")),l=n(a("bbchdeehff")),u=n(a("baagejbchg")),f=n(a("fffdgbfji")),h=n(a("bdiiahhjbe")),p=n(a("biecbbiiee")),g=a("hjbbdjjdf");function m(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}var b=function(){function e(t,a,n){var s=this;(0,o.default)(this,e),this.close=function(){s.notification&&s._waitForInteractionStop().then(function(){s.notification&&(0,g.isFunction)(s.notification.close)&&s.notification.close()}).catch(function(e){})},this._onClose=function(){s.waitingPromise.resolver(),window.removeEventListener("beforeunload",s.close),s.notification&&(s.notification.removeEventListener("click",s._onClick),s.notification.removeEventListener("close",s._onClose),s.notification.removeEventListener("show",s._onShow)),window.clearTimeout(s._onShowTimeout),s.msg&&s.msg.off("change:type",s._onRevoke)},this._onClick=function(){window.focus(),s.onClick();var e=s.chat,t=s.msg;if(e){var a=t&&t!==e.msgs.last()?e.getSearchContext(t):void 0;l.default.openChatAt(e,a).then(function(t){t&&l.default.focusChatTextInput(e)}),l.default.closeModalMedia(),s.close()}},this._onShow=function(){s.msg&&s.msg.on("change:type",s._onRevoke)},this._onRevoke=function(){s.msg&&s.msg.type===u.default.MSG_TYPE.REVOKED&&s.close()},this.msg=p.default.get(a),this.chat=c.default.get(t);var b=!!d.default.get(a);this._timeoutDuration=b?u.default.CALL_NOTIFICATION_TIMEOUT:u.default.NOTIFICATION_TIMEOUT;var v=new Promise(function(e){s.waitingPromise={resolver:e}});this.waitingPromise.promise=v;var j=n.title,E=n.notification,y=(0,r.default)(n,["title","notification"]);try{this.notification=new E(j,function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?m(Object(a),!0).forEach(function(t){(0,i.default)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):m(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({tag:b?a:t.toString(),renotify:!0,dir:"auto",lang:f.default.lng(),silent:!0},y)),this.notification.addEventListener("click",this._onClick),this.notification.addEventListener("close",this._onClose),this.notification.addEventListener("show",this._onShow),window.addEventListener("beforeunload",this.close)}catch(e){h.default.info("Failed to create notification: ".concat(e.name,":").concat(e.message))(e),this.waitingPromise.resolver()}}return(0,s.default)(e,[{key:"onClick",value:function(){}},{key:"_waitForInteractionStop",value:function(){return Promise.resolve()}},{key:"waitForClose",value:function(){return this.waitingPromise.promise}},{key:"detach",value:function(){this._onClose()}}]),e}();t.default=b},jheeiegi:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ProductDetailsForDeepLink=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=n(a("ddhijeejag")),u=i(a("ejegihaeh")),f=i(a("djcchigfih")),h=i(a("djbhiedbef")),p=n(a("dajffajabh")),g=a("ddfgchbfej"),m=i(a("bhahchbic")),b=i(a("jfgccegaj")),v=i(a("fffdgbfji")),j=i(a("cahfddcdga")),E=i(a("gbbfhbhhc")),y=i(a("bjbedjfe")),_=a("dcbdjheea"),S=function(e){function t(e){var a;(0,r.default)(this,t),(a=(0,s.default)(this,(0,d.default)(t).call(this,e))).state={product:null,productFetchState:"NONE"};var n=a.props.productInfo,i=n.productId,o=n.businessOwnerJid,c=(0,b.default)({productId:i,businessOwnerJid:o});return a.state=c?{product:c,productFetchState:"NONE"}:{product:c,productFetchState:"PENDING"},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){this.state.product||this._fetchProduct()}},{key:"_fetchProduct",value:function(){var e=this,t=this.props.productInfo,a=t.productId,n=t.businessOwnerJid,i=(0,_.createWid)(n);u.default.findProduct({catalogWid:i,productId:a}).checkpoint(this.props.rejectOnUnmount()).then(function(){var t=u.default.get(i),n=(0,j.default)(t).productCollection.get(a);e.setState({product:n,productFetchState:"SUCCESS"})}).catch(function(t){(0,g.parseErrorState)(t,function(t){return e.setState({productFetchState:t})})})}},{key:"render",value:function(){return this.state.product?l.createElement(E.default,{chat:this.props.chat,product:this.state.product,onEnd:this.props.onEnd,onBack:this.props.onBack,onProductDetail:this.props.onProductDetail,onProductCatalog:this.props.onProductCatalog,refreshCarousel:!0,sessionId:this.props.sessionId,onProductLinkClick:this.props.onProductLinkClick}):l.createElement(f.default,{onDrop:this.props.onBack,key:"product-details-drawer"},l.createElement(p.default,{a8n:"drawer-title-profile",title:v.default.t(923),onBack:this.props.onBack,type:p.DRAWER_HEADER_TYPE.SMALL}),l.createElement(h.default,null,l.createElement(m.default,{fetchState:this.state.productFetchState})))}}]),t}(l.PureComponent);t.ProductDetailsForDeepLink=S;var C=(0,y.default)(S);t.default=C},jhhgcfgee:function(e,t){e.exports={photoPickerWrapper:"PU7NO",scale:"_2DN7K",nameWrapper:"_1gK1Z","well-animation":"_1wHTb",wellAnimation:"_1wHTb"}},jhjgghei:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(e.keyCode===r)return function(e,t){if(t.isComposing)return!1;var a=window.getSelection();return function(e,t,a){if(!t.modify)return!1;var n=a.refInput,r=(0,i.default)(n,o.BACKWARD);if(!r)return!1;if(s=r,!Boolean(s&&s.dataset&&s.dataset.replacedEmojiText))return!1;var s;t.modify("extend","backward","character"),t.modify("move","backward","character");var d=r.dataset.replacedEmojiText,c=r.parentNode;if(!c)return!1;c.replaceChild(document.createTextNode(d+" "),r);for(var l=d.length,u=0;u<l+1;u++)t.modify("extend","forward","character"),t.modify("move","forward","character");return!1}(0,a,t)}(0,t);return!1};var i=n(a("dbegdchadg")),r=8,o=i.default.Direction},jhjhdgfci:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=n(a("dcaifjegcg")),u=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).stage=(0,l.prop)(),a.cropOverlay=(0,l.prop)(),a.mediaContainer=(0,l.prop)(),a.isInitialized=(0,l.derived)(a._isInitialized,["stage","cropOverlay","mediaContainer"]),a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"_isInitialized",value:function(){return!!this.stage&&!!this.cropOverlay&&!!this.mediaContainer}},{key:"clearStage",value:function(e){e&&(e.children.forEach(function(e){e.removeAllEventListeners()}),e.removeAllEventListeners(),e.removeAllChildren(),e.clear())}}]),t}(l.default),f=(0,l.defineModel)(u);t.default=f},jijhjeei:function(e,t,a){"use strict";var n=a("cfjecfhbfg"),i=a("bgiachiigg"),r=n(a("bhggeigghg")),o=a("cgejjichfa"),s={parseCall:function(e){if("call"===this.N.tag(e)){var t=this.N.child("offer",e);if(t){var a=this.N.child("call",t);if(a){var n=this.N.children(a),r=i.Message.parse(n).call;if(r){var o=this.N.attr("from",e),s=this.N.attr("call-id",t),d=r.callKey,c={type:"offer_key",id:s,peerJid:o,key:d},l=[!s,!o,!d];return this.dropIfConditionMet(l,c)}}}}},queryCall:function(e,t){var a=this;return new Promise(function(n,i){var r=a.queryNode({type:"call","call-id":e,kind:t});a.binSend("sendEphemeral",r,i,{onSend:a.binWrap(function(e){a.BinaryProtocol.read(e).then(function(e){var t={status:400};"response"===a.N.tag(e)&&"call"===a.N.attr("type",e)&&(t.status=parseInt(a.N.attr("code",e),10)||400),n(t)}).catch(i)},n),onDrop:a.wrap(i)},{debugString:"query,call,"+e,metricName:"QUERY_CALL"})})},handleCallQuery(e){var t=this,a=r.default.Call.handleQuery({});if(a)return a.then(function(e){return t.responseNode(void 0,[["some",{formatted:"xml"},void 0]])})},sendCallEnd:function(e,t){var a=this;return new Promise(function(n,i){var r={};r.jid=e.jid,r["call-id"]=e["call-id"],r.result=d(e.result),r.audio=e.audio.toString(),r.out=e.out.toString(),r.seconds=e.seconds.toString(),r.t=e.t.toString(),r.group=e.group.toString();var o=t.map(function(e){return["participant",{jid:e.jid,result:d(e.result)},void 0]}),s=a.actionNode("relay",[["call_end",r,o]]);a.binSend("send",s,i,{onSend:a.wrap(n),onDrop:a.wrap(i)},{debugString:"action,call_end,".concat(e["call-id"])})})}};function d(e){return o.CALL_LOG_RESULT[e]||"invalid"}e.exports=s},jjaddhidj:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(!t.parentNode)return;return t.parentNode.insertBefore(e,t),e}},jjbcbhhjh:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=i(a("ceffhbhahb")),u=n(a("ddhijeejag")),f=i(a("cehjjfagii")),h=i(a("ejegihaeh")),p=i(a("bbchdeehff")),g=i(a("baagejbchg")),m=i(a("bjigbaghc")),b=a("ddjgcfjicj"),v=i(a("bjbdcigbdi")),j=i(a("jheedhagg")),E=a("bgjddhffji"),y=i(a("biecbbiiee")),_=i(a("deabffecii")),S=i(a("cfegjiegcd")),C=i(a("cjdafdbcjb")),A=i(a("chgafjbahd")),M=i(a("dbhcidbdcf")),T=i(a("ccbhicejbe")),P=i(a("cccaiafbjc")),N=a("bheafeifce"),I=i(a("bgcdajbhif")),k=n(a("bfjajhbdf")),O=i(a("jccfhaecf")),R=a("dcbdjheea"),w=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).ProductCatalogSession=new _.default,a.state={hover:!1},a.onClick=function(){var e=a.props,t=e.rootMsg,n=e.msg;if(n.isStatusV3)t&&t.isQuotedMsgAvailable?v.default.supportsFeature(v.default.F.STATUS_V3_UI_VIEWING)&&I.default.find(n.sender).then(function(e){p.default.openModalMedia(u.createElement(P.default,{removeTopDrawer:!1,statusV3:e,msgKey:n.id,onMsgNotFound:function(){t&&(t.isQuotedMsgAvailable=!1)}}),{transition:"quoted-status-v3-modal"})}):p.default.openToast(u.createElement(k.default,{msg:l10n.t(1069),id:(0,k.genId)()}));else{if(n.isProductInquiry)return a.onProductInquiry();if(!t||t.isQuotedMsgAvailable){var i=n.id,r=n.chat,o=y.default.get(i),s=r.getSearchContext(o||i,t);s&&(s.slideToMsg=!0),p.default.openChatAt(r,s).then(function(e){if(e){var t=y.default.get(n.id);t&&Promise.delay(200).then(function(){p.default.openMediaViewerForAlbumMedia((0,N.unproxy)(t))})}}),o||s.collection.loadAroundPromise.catch(b.E404,function(){p.default.openChatAt(r,r.getSearchContext(t))})}}},a.onMouseOver=function(e){a.hoverable()&&a.setState({hover:!0})},a.onMouseEnter=function(e){a.hoverable()&&a.setState({hover:!0})},a.onMouseLeave=function(e){a.state.hover&&a.setState({hover:!1})},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.msg,a=e.t;if(t.isProductInquiry){if(!(t.businessOwnerJid&&(0,R.createWid)(t.businessOwnerJid)))return;null!=a&&(t.t=a),h.default.addMsgAsproduct((0,N.unproxy)(t))}}},{key:"onProductInquiry",value:function(){var e=this.props,t=e.msg,a=e.t,n=t.businessOwnerJid&&(0,R.createWid)(t.businessOwnerJid);if(n){var i=h.default.get(n);if(i){var r=t.productId&&i.productCollection.get(t.productId),o=t.productId&&i.msgProductCollection.get(t.productId);if(r||o){var s=o;if(r&&null!=a&&r.t>=a&&(s=r,o&&i.productCollection.remove(o)),s)return(0,E.logProductInquiryClick)((0,N.unproxy)(s),this.ProductCatalogSession.toString()),p.default.openDrawerRight(u.createElement(S.default,{product:s,chat:t.chat,refreshCarousel:!0,sessionId:this.ProductCatalogSession.toString()}),"slide-left",this.props.uim)}}}}},{key:"hoverable",value:function(){return!this.state.hover&&!!this.props.rootMsg}},{key:"render",value:function(){var e=this.props,t=e.msg,a=e.displayType,n=e.chat,i=e.rootMsg,r=e.composeQuotedMsgRemoteJid,o=n.assignedColor(t.sender),s=a===g.default.DISP_TYPE.CONVERSATION,d=r||i&&i.quotedRemoteJid,c=u.createElement(f.default,{msg:t,contact:t.senderObj,role:s?"button":null,chat:n,displaySelf:O.default.equals(t.sender,m.default.me),quotedRemoteJid:d,disableClick:!0}),h=t.paymentAmount1000&&t.paymentCurrency,p=(0,l.default)(A.default.quotedMsg,{[A.default.statusV3QuotedMsg]:"statusV3"===this.props.theme,[A.default.composeBoxQuotedMsg]:"composeBox"===this.props.theme,[A.default.hover]:this.state.hover,[A.default.quotedPaymentMsg]:"payment"===t.type&&h}),b="payment"===t.type&&v.default.supportsFeature(v.default.F.PAYMENTS)&&h?u.createElement(T.default,{quotedMsgAuthor:c,currency:t.paymentCurrency,amount1000:t.paymentAmount1000,receiverJid:t.paymentMessageReceiverJid,subtype:t.subtype,theme:this.props.theme}):u.createElement("div",{className:A.default.msgText},c,u.createElement(M.default,{msg:t,inConversation:s,theme:this.props.theme}));return u.createElement("div",{className:A.default.container,onMouseOver:s?this.onMouseOver:null,onMouseEnter:s?this.onMouseEnter:null,onMouseLeave:s?this.onMouseLeave:null},u.createElement("div",{className:p,role:s?"button":"",onClick:s?this.onClick:null},u.createElement("span",{className:(0,l.default)("bg-color-".concat(o),A.default.colorBar)}),u.createElement("div",{className:A.default.msgBody,dir:s?null:t.dir},b),u.createElement(C.default,{msg:t,inConversation:s,theme:this.props.theme})))}}]),t}(u.PureComponent),D=(0,j.default)(w);t.default=D},jjgaeci:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),s=i(a("ffceefejc")),d=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),l=n(a("ddhijeejag")),u=a("dfdebdgdei"),f=i(a("bbchdeehff")),h=i(a("bcbahjefec")),p=n(a("cjcffhicea")),g=i(a("bfgbdiffgd")),m=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,s.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).onForwardConfirmed=function(e){Promise.map(e,function(e){(e.isUser&&e.contact.isBlocked()?(0,u.unblockContact)(e.contact):Promise.resolve(!0)).then(function(t){a.onSend(e)})}),a.end(),1===e.length&&(f.default.openChatFromUnread(e[0]),window.innerWidth<=1024&&f.default.closeDrawerRight())},a.onCancel=function(){a.end()},a.onSend=function(e){var t=a.props.product;f.default.once("ui_idle",function(){t.sendToChat(e)}),a.end()},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){f.default.closeContextMenu(),f.default.closeTooltip(),this.push(l.createElement(p.default,{onConfirm:this.onForwardConfirmed,maxItems:g.default.multicastLimitGlobal,title:l10n.t(774),listType:p.ListType.CHAT_SELECT_MODAL,onCancel:this.onCancel}))}}]),t}(h.default);t.default=m},jjijgifac:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return Promise.resolve(r.default.digest({name:"SHA-256"},e).then(i.default.encode))};var i=n(a("hgjcbccfg")),r=n(a("dfeaddeccc"))},jjjdieajj:function(e,t){e.exports=["","#","*","0","1","2","3","4","5","6","7","8","9","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",["",""],"","",["",""],"","",["",""],"","",["",""],"","",["",""],"","",["",""],"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",["",""],"","",["",""],"","",["",""],"","",["",""],"","",["",""],"","",["",""],"","",["",""],"","",["",""],"","",["",""],"","",["",""],"","",["",""],"","",["",""],"","","","","","","","","","","","",["",""],"","",["",""],"","",["",""],"","",["",""],"","",["",""],"","",["",""],"","",["",""],"","",["",""],"","",["",""],"","",["",""],"","",["",""],"","",["",""],"","",["",""],"","",["",""],"","",["",""],"","",["",""],"","",["",""],"","",["",""],"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",["",""],"","",["",""],"","",["",""],"","",["",""],"","",["",""],"","",["",""],"","","",["",""],"","","","","","","",["",""],"","",["",""],"","",["",""],"","",["",""],"","",["",""],"","",["",""],"","","","","","","","",["",""],"","",["",""],"","",["",""],"","",["",""],"","",["",""],"","",["",""],"","","","","","","","","","","","","","","","","","","","",["",""],"","",["",""],"","",["",""],"","",["",""],"","",["",""],"","",["",""],"","","","","","","","","","","","","","","","","","","","","","",["",""],"","",["",""],"","",["",""],"","",["",""],"","",["",""],"","",["",""],"",["",""],"","",["",""],"","",["",""],"","",["",""],"","",["",""],"","",["",""],"","","","","","","","","","","","","","","","",["",""],"","",["",""],"","",["",""],"","",["",""],"","",["",""],"","",["",""],"","",["",""],"","",["",""],"","",["",""],"","",["",""],"","",["",""],"","",["",""],"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",["",""],"","",["",""],"","",["",""],"","",["",""],"","",["",""],"","",["",""],"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",["",""],"","",["",""],"","",["",""],"","",["",""],"","",["",""],"","",["",""],"","",["",""],"","",["",""],"","",["",""],"","",["",""],"","",["",""],"","",["",""],"",["",""],"","",["",""],"","",["",""],"","",["",""],"","",["",""],"","",["",""],"","","","","","",["",""],"","",["",""],"","",["",""],"","",["",""],"","",["",""],"","",["",""],"","","","","","","","",["",""],"","",["",""],"","",["",""],"","",["",""],"","",["",""],"","",["",""],"","",["",""],"","",["",""],"","",["",""],"","",["",""],"","",["",""],"","",["",""],"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",["",""],"","",["",""],"","",["",""],"","",["",""],"","",["",""],"","",["",""],"","","","","","","","","","","","","","","","","","",["",""],"","",["",""],"","",["",""],"","",["",""],"","",["",""],"","",["",""],"","",["",""],"","",["",""],"","",["",""],"","",["",""],"","",["",""],"","",["",""],"","",["",""],"","",["",""],"","",["",""],"","",["",""],"","",["",""],"","",["",""],"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",["",""],"","",["",""],"","",["",""],"","",["",""],"","",["",""],"","",["",""],"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",["",""],"","",["",""],"","",["",""],"","",["",""],"","",["",""],"","",["",""],"",["",""],"","",["",""],"","",["",""],"","",["",""],"","",["",""],"","",["",""],"","",["",""],"","",["",""],"","",["",""],"","",["",""],"","",["",""],"","",["",""],"","","",["",""],"","",["",""],"","",["",""],"","",["",""],"","",["",""],"","",["",""],"","",["",""],"","","",["",""],"","",["",""],"","",["",""],"","",["",""],"","",["",""],"","",["",""],"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",["",""],"","",["",""],"","",["",""],"","",["",""],"","",["",""],"","",["",""],"","","",["",""],"","",["",""],"","",["",""],"","",["",""],"","",["",""],"","",["",""],"","",["",""],"","",["",""],"","",["",""],"","",["",""],"","",["",""],"","",["",""],"","",["",""],"","",["",""],"","",["",""],"","",["",""],"","",["",""],"","",["",""],"","",["",""],"","",["",""],"","",["",""],"","",["",""],"","",["",""],"","",["",""],"","",["",""],"","",["",""],"","",["",""],"","",["",""],"","",["",""],"","",["",""],"","",["",""],"","",["",""],"","",["",""],"","",["",""],"","",["",""],"","",["",""],"",["",""],"","",["",""],"","",["",""],"","",["",""],"","",["",""],"","",["",""],"","","",["",""],"","",["",""],"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]}});